var c5=Object.defineProperty,h5=Object.defineProperties,d5=Object.getOwnPropertyDescriptors,yP=Object.getOwnPropertySymbols,f5=Object.prototype.hasOwnProperty,p5=Object.prototype.propertyIsEnumerable,xP=(Le,$t,Tt)=>$t in Le?c5(Le,$t,{enumerable:!0,configurable:!0,writable:!0,value:Tt}):Le[$t]=Tt,er=(Le,$t)=>{for(var Tt in $t||($t={}))f5.call($t,Tt)&&xP(Le,Tt,$t[Tt]);if(yP)for(var Tt of yP($t))p5.call($t,Tt)&&xP(Le,Tt,$t[Tt]);return Le},Wv=(Le,$t)=>h5(Le,d5($t));!function(Le,$t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=$t():"function"==typeof define&&define.amd?define($t):(Le="undefined"!=typeof globalThis?globalThis:Le||self).ApexCharts=$t()}(this,function(){"use strict";function Le(ae){return(Le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(ae)}function $t(ae,c){if(!(ae instanceof c))throw new TypeError("Cannot call a class as a function")}function Tt(ae,c){for(var h=0;h<c.length;h++){var v=c[h];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(ae,v.key,v)}}function ee(ae,c,h){return c&&Tt(ae.prototype,c),h&&Tt(ae,h),ae}function Oe(ae,c,h){return c in ae?Object.defineProperty(ae,c,{value:h,enumerable:!0,configurable:!0,writable:!0}):ae[c]=h,ae}function ve(ae,c){var h=Object.keys(ae);if(Object.getOwnPropertySymbols){var v=Object.getOwnPropertySymbols(ae);c&&(v=v.filter(function(_){return Object.getOwnPropertyDescriptor(ae,_).enumerable})),h.push.apply(h,v)}return h}function Wt(ae){for(var c=1;c<arguments.length;c++){var h=null!=arguments[c]?arguments[c]:{};c%2?ve(Object(h),!0).forEach(function(v){Oe(ae,v,h[v])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ae,Object.getOwnPropertyDescriptors(h)):ve(Object(h)).forEach(function(v){Object.defineProperty(ae,v,Object.getOwnPropertyDescriptor(h,v))})}return ae}function Ft(ae,c){if("function"!=typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function");ae.prototype=Object.create(c&&c.prototype,{constructor:{value:ae,writable:!0,configurable:!0}}),c&&gt(ae,c)}function Nt(ae){return(Nt=Object.setPrototypeOf?Object.getPrototypeOf:function(c){return c.__proto__||Object.getPrototypeOf(c)})(ae)}function gt(ae,c){return(gt=Object.setPrototypeOf||function(h,v){return h.__proto__=v,h})(ae,c)}function dt(ae,c){return!c||"object"!=typeof c&&"function"!=typeof c?function(h){if(void 0===h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h}(ae):c}function ft(ae){var c=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(h){return!1}}();return function(){var h,v=Nt(ae);if(c){var _=Nt(this).constructor;h=Reflect.construct(v,arguments,_)}else h=v.apply(this,arguments);return dt(this,h)}}function St(ae){return function(c){if(Array.isArray(c))return Et(c)}(ae)||function(c){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(c))return Array.from(c)}(ae)||function(c,h){if(c){if("string"==typeof c)return Et(c,h);var v=Object.prototype.toString.call(c).slice(8,-1);if("Object"===v&&c.constructor&&(v=c.constructor.name),"Map"===v||"Set"===v)return Array.from(c);if("Arguments"===v||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(v))return Et(c,h)}}(ae)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Et(ae,c){(null==c||c>ae.length)&&(c=ae.length);for(var h=0,v=new Array(c);h<c;h++)v[h]=ae[h];return v}var lt=function(){function ae(){$t(this,ae)}return ee(ae,[{key:"shadeRGBColor",value:function(c,h){var v=h.split(","),_=c<0?0:255,A=c<0?-1*c:c,P=parseInt(v[0].slice(4),10),E=parseInt(v[1],10),F=parseInt(v[2],10);return"rgb("+(Math.round((_-P)*A)+P)+","+(Math.round((_-E)*A)+E)+","+(Math.round((_-F)*A)+F)+")"}},{key:"shadeHexColor",value:function(c,h){var v=parseInt(h.slice(1),16),_=c<0?0:255,A=c<0?-1*c:c,P=v>>16,E=v>>8&255,F=255&v;return"#"+(16777216+65536*(Math.round((_-P)*A)+P)+256*(Math.round((_-E)*A)+E)+(Math.round((_-F)*A)+F)).toString(16).slice(1)}},{key:"shadeColor",value:function(c,h){return ae.isColorHex(h)?this.shadeHexColor(c,h):this.shadeRGBColor(c,h)}}],[{key:"bind",value:function(c,h){return function(){return c.apply(h,arguments)}}},{key:"isObject",value:function(c){return c&&"object"===Le(c)&&!Array.isArray(c)&&null!=c}},{key:"is",value:function(c,h){return Object.prototype.toString.call(h)==="[object "+c+"]"}},{key:"listToArray",value:function(c){var h,v=[];for(h=0;h<c.length;h++)v[h]=c[h];return v}},{key:"extend",value:function(c,h){var v=this;"function"!=typeof Object.assign&&(Object.assign=function(A){if(null==A)throw new TypeError("Cannot convert undefined or null to object");for(var P=Object(A),E=1;E<arguments.length;E++){var F=arguments[E];if(null!=F)for(var W in F)F.hasOwnProperty(W)&&(P[W]=F[W])}return P});var _=Object.assign({},c);return this.isObject(c)&&this.isObject(h)&&Object.keys(h).forEach(function(A){v.isObject(h[A])&&A in c?_[A]=v.extend(c[A],h[A]):Object.assign(_,Oe({},A,h[A]))}),_}},{key:"extendArray",value:function(c,h){var v=[];return c.map(function(_){v.push(ae.extend(h,_))}),v}},{key:"monthMod",value:function(c){return c%12}},{key:"clone",value:function(c){if(ae.is("Array",c)){for(var h=[],v=0;v<c.length;v++)h[v]=this.clone(c[v]);return h}if(ae.is("Null",c))return null;if(ae.is("Date",c))return c;if("object"===Le(c)){var _={};for(var A in c)c.hasOwnProperty(A)&&(_[A]=this.clone(c[A]));return _}return c}},{key:"log10",value:function(c){return Math.log(c)/Math.LN10}},{key:"roundToBase10",value:function(c){return Math.pow(10,Math.floor(Math.log10(c)))}},{key:"roundToBase",value:function(c,h){return Math.pow(h,Math.floor(Math.log(c)/Math.log(h)))}},{key:"parseNumber",value:function(c){return null===c?c:parseFloat(c)}},{key:"randomId",value:function(){return(Math.random()+1).toString(36).substring(4)}},{key:"noExponents",value:function(c){var h=String(c).split(/[eE]/);if(1===h.length)return h[0];var v="",_=c<0?"-":"",A=h[0].replace(".",""),P=Number(h[1])+1;if(P<0){for(v=_+"0.";P++;)v+="0";return v+A.replace(/^-/,"")}for(P-=A.length;P--;)v+="0";return A+v}},{key:"getDimensions",value:function(c){var h=getComputedStyle(c,null),v=c.clientHeight,_=c.clientWidth;return v-=parseFloat(h.paddingTop)+parseFloat(h.paddingBottom),[_-=parseFloat(h.paddingLeft)+parseFloat(h.paddingRight),v]}},{key:"getBoundingClientRect",value:function(c){var h=c.getBoundingClientRect();return{top:h.top,right:h.right,bottom:h.bottom,left:h.left,width:c.clientWidth,height:c.clientHeight,x:h.left,y:h.top}}},{key:"getLargestStringFromArr",value:function(c){return c.reduce(function(h,v){return Array.isArray(v)&&(v=v.reduce(function(_,A){return _.length>A.length?_:A})),h.length>v.length?h:v},0)}},{key:"hexToRgba",value:function(){var c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"#999999",h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.6;"#"!==c.substring(0,1)&&(c="#999999");var v=c.replace("#","");v=v.match(new RegExp("(.{"+v.length/3+"})","g"));for(var _=0;_<v.length;_++)v[_]=parseInt(1===v[_].length?v[_]+v[_]:v[_],16);return void 0!==h&&v.push(h),"rgba("+v.join(",")+")"}},{key:"getOpacityFromRGBA",value:function(c){return parseFloat(c.replace(/^.*,(.+)\)/,"$1"))}},{key:"rgb2hex",value:function(c){return(c=c.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&4===c.length?"#"+("0"+parseInt(c[1],10).toString(16)).slice(-2)+("0"+parseInt(c[2],10).toString(16)).slice(-2)+("0"+parseInt(c[3],10).toString(16)).slice(-2):""}},{key:"isColorHex",value:function(c){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)|(^#[0-9A-F]{8}$)/i.test(c)}},{key:"getPolygonPos",value:function(c,h){for(var v=[],_=2*Math.PI/h,A=0;A<h;A++){var P={};P.x=c*Math.sin(A*_),P.y=-c*Math.cos(A*_),v.push(P)}return v}},{key:"polarToCartesian",value:function(c,h,v,_){var A=(_-90)*Math.PI/180;return{x:c+v*Math.cos(A),y:h+v*Math.sin(A)}}},{key:"escapeString",value:function(c){var h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x",v=c.toString().slice();return v.replace(/[` ~!@#$%^&*()_|+\-=?;:'",.<>{}[\]\\/]/gi,h)}},{key:"negToZero",value:function(c){return c<0?0:c}},{key:"moveIndexInArray",value:function(c,h,v){if(v>=c.length)for(var _=v-c.length+1;_--;)c.push(void 0);return c.splice(v,0,c.splice(h,1)[0]),c}},{key:"extractNumber",value:function(c){return parseFloat(c.replace(/[^\d.]*/g,""))}},{key:"findAncestor",value:function(c,h){for(;(c=c.parentElement)&&!c.classList.contains(h););return c}},{key:"setELstyles",value:function(c,h){for(var v in h)h.hasOwnProperty(v)&&(c.style.key=h[v])}},{key:"isNumber",value:function(c){return!isNaN(c)&&parseFloat(Number(c))===c&&!isNaN(parseInt(c,10))}},{key:"isFloat",value:function(c){return Number(c)===c&&c%1!=0}},{key:"isSafari",value:function(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}},{key:"isFirefox",value:function(){return navigator.userAgent.toLowerCase().indexOf("firefox")>-1}},{key:"isIE11",value:function(){if(-1!==window.navigator.userAgent.indexOf("MSIE")||window.navigator.appVersion.indexOf("Trident/")>-1)return!0}},{key:"isIE",value:function(){var c=window.navigator.userAgent,h=c.indexOf("MSIE ");if(h>0)return parseInt(c.substring(h+5,c.indexOf(".",h)),10);if(c.indexOf("Trident/")>0){var v=c.indexOf("rv:");return parseInt(c.substring(v+3,c.indexOf(".",v)),10)}var _=c.indexOf("Edge/");return _>0&&parseInt(c.substring(_+5,c.indexOf(".",_)),10)}}]),ae}(),_t=function(){function ae(c){$t(this,ae),this.ctx=c,this.w=c.w,this.setEasingFunctions()}return ee(ae,[{key:"setEasingFunctions",value:function(){var c;if(!this.w.globals.easing){switch(this.w.config.chart.animations.easing){case"linear":c="-";break;case"easein":c="<";break;case"easeout":c=">";break;default:c="<>";break;case"swing":c=function(h){var v=1.70158;return(h-=1)*h*((v+1)*h+v)+1};break;case"bounce":c=function(h){return h<1/2.75?7.5625*h*h:h<2/2.75?7.5625*(h-=1.5/2.75)*h+.75:h<2.5/2.75?7.5625*(h-=2.25/2.75)*h+.9375:7.5625*(h-=2.625/2.75)*h+.984375};break;case"elastic":c=function(h){return h===!!h?h:Math.pow(2,-10*h)*Math.sin((h-.075)*(2*Math.PI)/.3)+1}}this.w.globals.easing=c}}},{key:"animateLine",value:function(c,h,v,_){c.attr(h).animate(_).attr(v)}},{key:"animateMarker",value:function(c,h,v,_,A,P){h||(h=0),c.attr({r:h,width:h,height:h}).animate(_,A).attr({r:v,width:v.width,height:v.height}).afterAll(function(){P()})}},{key:"animateCircle",value:function(c,h,v,_,A){c.attr({r:h.r,cx:h.cx,cy:h.cy}).animate(_,A).attr({r:v.r,cx:v.cx,cy:v.cy})}},{key:"animateRect",value:function(c,h,v,_,A){c.attr(h).animate(_).attr(v).afterAll(function(){return A()})}},{key:"animatePathsGradually",value:function(c){var K=this.w,J=0;K.config.chart.animations.animateGradually.enabled&&(J=K.config.chart.animations.animateGradually.delay),K.config.chart.animations.dynamicAnimation.enabled&&K.globals.dataChanged&&"bar"!==K.config.chart.type&&(J=0),this.morphSVG(c.el,c.realIndex,c.j,"line"!==K.config.chart.type||K.globals.comboCharts?c.fill:"stroke",c.pathFrom,c.pathTo,c.speed,c.delay*J)}},{key:"showDelayedElements",value:function(){this.w.globals.delayedElements.forEach(function(c){c.el.classList.remove("apexcharts-element-hidden")})}},{key:"animationCompleted",value:function(c){var h=this.w;h.globals.animationEnded||(h.globals.animationEnded=!0,this.showDelayedElements(),"function"==typeof h.config.chart.events.animationEnd&&h.config.chart.events.animationEnd(this.ctx,{el:c,w:h}))}},{key:"morphSVG",value:function(c,h,v,_,A,P,E,F){var W=this,K=this.w;A||(A=c.attr("pathFrom")),P||(P=c.attr("pathTo"));var J=function(ct){return"radar"===K.config.chart.type&&(E=1),"M 0 ".concat(K.globals.gridHeight)};(!A||A.indexOf("undefined")>-1||A.indexOf("NaN")>-1)&&(A=J()),(!P||P.indexOf("undefined")>-1||P.indexOf("NaN")>-1)&&(P=J()),K.globals.shouldAnimate||(E=1),c.plot(A).animate(1,K.globals.easing,F).plot(A).animate(E,K.globals.easing,F).plot(P).afterAll(function(){lt.isNumber(v)?v===K.globals.series[K.globals.maxValsInArrayIndex].length-2&&K.globals.shouldAnimate&&W.animationCompleted(c):"none"!==_&&K.globals.shouldAnimate&&(!K.globals.comboCharts&&h===K.globals.series.length-1||K.globals.comboCharts)&&W.animationCompleted(c),W.showDelayedElements()})}}]),ae}(),xt=function(){function ae(c){$t(this,ae),this.ctx=c,this.w=c.w}return ee(ae,[{key:"getDefaultFilter",value:function(c,h){var v=this.w;c.unfilter(!0),(new window.SVG.Filter).size("120%","180%","-5%","-40%"),"none"!==v.config.states.normal.filter?this.applyFilter(c,h,v.config.states.normal.filter.type,v.config.states.normal.filter.value):v.config.chart.dropShadow.enabled&&this.dropShadow(c,v.config.chart.dropShadow,h)}},{key:"addNormalFilter",value:function(c,h){var v=this.w;v.config.chart.dropShadow.enabled&&!c.node.classList.contains("apexcharts-marker")&&this.dropShadow(c,v.config.chart.dropShadow,h)}},{key:"addLightenFilter",value:function(c,h,v){var _=this,A=this.w,P=v.intensity;c.unfilter(!0),new window.SVG.Filter,c.filter(function(E){var F=A.config.chart.dropShadow;(F.enabled?_.addShadow(E,h,F):E).componentTransfer({rgb:{type:"linear",slope:1.5,intercept:P}})}),c.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(c.filterer.node)}},{key:"addDarkenFilter",value:function(c,h,v){var _=this,A=this.w,P=v.intensity;c.unfilter(!0),new window.SVG.Filter,c.filter(function(E){var F=A.config.chart.dropShadow;(F.enabled?_.addShadow(E,h,F):E).componentTransfer({rgb:{type:"linear",slope:P}})}),c.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(c.filterer.node)}},{key:"applyFilter",value:function(c,h,v){var _=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;switch(v){case"none":this.addNormalFilter(c,h);break;case"lighten":this.addLightenFilter(c,h,{intensity:_});break;case"darken":this.addDarkenFilter(c,h,{intensity:_})}}},{key:"addShadow",value:function(c,h,v){var _=v.blur,A=v.top,P=v.left,E=v.color,F=v.opacity,W=c.flood(Array.isArray(E)?E[h]:E,F).composite(c.sourceAlpha,"in").offset(P,A).gaussianBlur(_).merge(c.source);return c.blend(c.source,W)}},{key:"dropShadow",value:function(c,h){var v=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,_=h.top,A=h.left,P=h.blur,E=h.color,F=h.opacity,W=h.noUserSpaceOnUse,K=this.w;return c.unfilter(!0),lt.isIE()&&"radialBar"===K.config.chart.type||(E=Array.isArray(E)?E[v]:E,c.filter(function(J){var ct;ct=lt.isSafari()||lt.isFirefox()||lt.isIE()?J.flood(E,F).composite(J.sourceAlpha,"in").offset(A,_).gaussianBlur(P):J.flood(E,F).composite(J.sourceAlpha,"in").offset(A,_).gaussianBlur(P).merge(J.source),J.blend(J.source,ct)}),W||c.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(c.filterer.node)),c}},{key:"setSelectionFilter",value:function(c,h,v){var _=this.w;if(void 0!==_.globals.selectedDataPoints[h]&&_.globals.selectedDataPoints[h].indexOf(v)>-1){c.node.setAttribute("selected",!0);var A=_.config.states.active.filter;"none"!==A&&this.applyFilter(c,h,A.type,A.value)}}},{key:"_scaleFilterSize",value:function(c){!function(h){for(var v in h)h.hasOwnProperty(v)&&c.setAttribute(v,h[v])}({width:"200%",height:"200%",x:"-50%",y:"-50%"})}}]),ae}(),ot=function(){function ae(c){$t(this,ae),this.ctx=c,this.w=c.w}return ee(ae,[{key:"drawLine",value:function(c,h,v,_){var A=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"#a8a8a8",P=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,E=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,F=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"butt",W=this.w,K=W.globals.dom.Paper.line().attr({x1:c,y1:h,x2:v,y2:_,stroke:A,"stroke-dasharray":P,"stroke-width":E,"stroke-linecap":F});return K}},{key:"drawRect",value:function(){var c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,v=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,_=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,A=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,P=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"#fefefe",E=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1,F=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,W=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,K=arguments.length>9&&void 0!==arguments[9]?arguments[9]:0,J=this.w,ct=J.globals.dom.Paper.rect();return ct.attr({x:c,y:h,width:v>0?v:0,height:_>0?_:0,rx:A,ry:A,opacity:E,"stroke-width":null!==F?F:0,stroke:null!==W?W:"none","stroke-dasharray":K}),ct.node.setAttribute("fill",P),ct}},{key:"drawPolygon",value:function(c){var h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#e1e1e1",v=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,_=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"none",A=this.w,P=A.globals.dom.Paper.polygon(c).attr({fill:_,stroke:h,"stroke-width":v});return P}},{key:"drawCircle",value:function(c){var h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,v=this.w;c<0&&(c=0);var _=v.globals.dom.Paper.circle(2*c);return null!==h&&_.attr(h),_}},{key:"drawPath",value:function(c){var h=c.d,v=void 0===h?"":h,_=c.stroke,A=void 0===_?"#a8a8a8":_,P=c.strokeWidth,E=void 0===P?1:P,F=c.fill,W=c.fillOpacity,K=void 0===W?1:W,J=c.strokeOpacity,ct=void 0===J?1:J,yt=c.classes,Vt=c.strokeLinecap,Ht=void 0===Vt?null:Vt,qt=c.strokeDashArray,le=void 0===qt?0:qt,me=this.w;return null===Ht&&(Ht=me.config.stroke.lineCap),(v.indexOf("undefined")>-1||v.indexOf("NaN")>-1)&&(v="M 0 ".concat(me.globals.gridHeight)),me.globals.dom.Paper.path(v).attr({fill:F,"fill-opacity":K,stroke:A,"stroke-opacity":ct,"stroke-linecap":Ht,"stroke-width":E,"stroke-dasharray":le,class:yt})}},{key:"group",value:function(){var c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,h=this.w,v=h.globals.dom.Paper.group();return null!==c&&v.attr(c),v}},{key:"move",value:function(c,h){return["M",c,h].join(" ")}},{key:"line",value:function(c,h){var v=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,_=null;return null===v?_=["L",c,h].join(" "):"H"===v?_=["H",c].join(" "):"V"===v&&(_=["V",h].join(" ")),_}},{key:"curve",value:function(c,h,v,_,A,P){return["C",c,h,v,_,A,P].join(" ")}},{key:"quadraticCurve",value:function(c,h,v,_){return["Q",c,h,v,_].join(" ")}},{key:"arc",value:function(c,h,v,_,A,P,E){var F=arguments.length>7&&void 0!==arguments[7]&&arguments[7],W="A";F&&(W="a");var K=[W,c,h,v,_,A,P,E].join(" ");return K}},{key:"renderPaths",value:function(c){var h,v=c.j,_=c.realIndex,A=c.pathFrom,P=c.pathTo,E=c.stroke,F=c.strokeWidth,W=c.strokeLinecap,K=c.fill,J=c.animationDelay,ct=c.initialSpeed,yt=c.dataChangeSpeed,Vt=c.className,Ht=c.shouldClipToGrid,qt=void 0===Ht||Ht,le=c.bindEventsOnPaths,me=void 0===le||le,De=c.drawShadow,j=void 0===De||De,ut=this.w,Zt=new xt(this.ctx),he=new _t(this.ctx),Ue=this.w.config.chart.animations.enabled,kn=Ue&&this.w.config.chart.animations.dynamicAnimation.enabled,rn=!!(Ue&&!ut.globals.resized||kn&&ut.globals.dataChanged&&ut.globals.shouldAnimate);rn?h=A:(h=P,ut.globals.animationEnded=!0);var zn,Kn=ut.config.stroke.dashArray;zn=Array.isArray(Kn)?Kn[_]:ut.config.stroke.dashArray;var ai=this.drawPath({d:h,stroke:E,strokeWidth:F,fill:K,fillOpacity:1,classes:Vt,strokeLinecap:W,strokeDashArray:zn});ai.attr("index",_),qt&&ai.attr({"clip-path":"url(#gridRectMask".concat(ut.globals.cuid,")")}),"none"!==ut.config.states.normal.filter.type?Zt.getDefaultFilter(ai,_):ut.config.chart.dropShadow.enabled&&j&&(!ut.config.chart.dropShadow.enabledOnSeries||ut.config.chart.dropShadow.enabledOnSeries&&-1!==ut.config.chart.dropShadow.enabledOnSeries.indexOf(_))&&Zt.dropShadow(ai,ut.config.chart.dropShadow,_),me&&(ai.node.addEventListener("mouseenter",this.pathMouseEnter.bind(this,ai)),ai.node.addEventListener("mouseleave",this.pathMouseLeave.bind(this,ai)),ai.node.addEventListener("mousedown",this.pathMouseDown.bind(this,ai))),ai.attr({pathTo:P,pathFrom:A});var Ki={el:ai,j:v,realIndex:_,pathFrom:A,pathTo:P,fill:K,strokeWidth:F,delay:J};return!Ue||ut.globals.resized||ut.globals.dataChanged?!ut.globals.resized&&ut.globals.dataChanged||he.showDelayedElements():he.animatePathsGradually(Wt(Wt({},Ki),{},{speed:ct})),ut.globals.dataChanged&&kn&&rn&&he.animatePathsGradually(Wt(Wt({},Ki),{},{speed:yt})),ai}},{key:"drawPattern",value:function(c,h,v){var _=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"#a8a8a8",A=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,P=this.w,E=P.globals.dom.Paper.pattern(h,v,function(F){"horizontalLines"===c?F.line(0,0,v,0).stroke({color:_,width:A+1}):"verticalLines"===c?F.line(0,0,0,h).stroke({color:_,width:A+1}):"slantedLines"===c?F.line(0,0,h,v).stroke({color:_,width:A}):"squares"===c?F.rect(h,v).fill("none").stroke({color:_,width:A}):"circles"===c&&F.circle(h).fill("none").stroke({color:_,width:A})});return E}},{key:"drawGradient",value:function(c,h,v,_,A){var P,E=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,F=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,W=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,K=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0,J=this.w;h.length<9&&0===h.indexOf("#")&&(h=lt.hexToRgba(h,_)),v.length<9&&0===v.indexOf("#")&&(v=lt.hexToRgba(v,A));var ct=0,yt=1,Vt=1,Ht=null;null!==F&&(ct=void 0!==F[0]?F[0]/100:0,yt=void 0!==F[1]?F[1]/100:1,Vt=void 0!==F[2]?F[2]/100:1,Ht=void 0!==F[3]?F[3]/100:null);var qt=!("donut"!==J.config.chart.type&&"pie"!==J.config.chart.type&&"polarArea"!==J.config.chart.type&&"bubble"!==J.config.chart.type);if(P=J.globals.dom.Paper.gradient(qt?"radial":"linear",null===W||0===W.length?function(De){De.at(ct,h,_),De.at(yt,v,A),De.at(Vt,v,A),null!==Ht&&De.at(Ht,h,_)}:function(De){(Array.isArray(W[K])?W[K]:W).forEach(function(j){De.at(j.offset/100,j.color,j.opacity)})}),qt){var le=J.globals.gridWidth/2,me=J.globals.gridHeight/2;P.attr("bubble"!==J.config.chart.type?{gradientUnits:"userSpaceOnUse",cx:le,cy:me,r:E}:{cx:.5,cy:.5,r:.8,fx:.2,fy:.2})}else"vertical"===c?P.from(0,0).to(0,1):"diagonal"===c?P.from(0,0).to(1,1):"horizontal"===c?P.from(0,1).to(1,1):"diagonal2"===c&&P.from(1,0).to(0,1);return P}},{key:"drawText",value:function(c){var h,v=c.x,_=c.y,A=c.text,P=c.textAnchor,E=c.fontSize,F=c.fontFamily,W=c.fontWeight,K=c.foreColor,J=c.opacity,ct=c.cssClass,yt=void 0===ct?"":ct,Vt=c.isPlainText,Ht=void 0===Vt||Vt,qt=this.w;return void 0===A&&(A=""),P||(P="start"),K&&K.length||(K=qt.config.chart.foreColor),F=F||qt.config.chart.fontFamily,W=W||"regular",(h=Array.isArray(A)?qt.globals.dom.Paper.text(function(le){for(var me=0;me<A.length;me++)0===me?le.tspan(A[me]):le.tspan(A[me]).newLine()}):Ht?qt.globals.dom.Paper.plain(A):qt.globals.dom.Paper.text(function(le){return le.tspan(A)})).attr({x:v,y:_,"text-anchor":P,"dominant-baseline":"auto","font-size":E,"font-family":F,"font-weight":W,fill:K,class:"apexcharts-text "+yt}),h.node.style.fontFamily=F,h.node.style.opacity=J,h}},{key:"drawMarker",value:function(c,h,v){c=c||0;var _=v.pSize||0,A=null;if("square"===v.shape||"rect"===v.shape){var P=void 0===v.pRadius?_/2:v.pRadius;null!==h&&_||(_=0,P=0);var E=1.2*_+P,F=this.drawRect(E,E,E,E,P);F.attr({x:c-E/2,y:h-E/2,cx:c,cy:h,class:v.class?v.class:"",fill:v.pointFillColor,"fill-opacity":v.pointFillOpacity?v.pointFillOpacity:1,stroke:v.pointStrokeColor,"stroke-width":v.pointStrokeWidth?v.pointStrokeWidth:0,"stroke-opacity":v.pointStrokeOpacity?v.pointStrokeOpacity:1}),A=F}else"circle"!==v.shape&&v.shape||(lt.isNumber(h)||(_=0,h=0),A=this.drawCircle(_,{cx:c,cy:h,class:v.class?v.class:"",stroke:v.pointStrokeColor,fill:v.pointFillColor,"fill-opacity":v.pointFillOpacity?v.pointFillOpacity:1,"stroke-width":v.pointStrokeWidth?v.pointStrokeWidth:0,"stroke-opacity":v.pointStrokeOpacity?v.pointStrokeOpacity:1}));return A}},{key:"pathMouseEnter",value:function(c,h){var v=this.w,_=new xt(this.ctx),A=parseInt(c.node.getAttribute("index"),10),P=parseInt(c.node.getAttribute("j"),10);if("function"==typeof v.config.chart.events.dataPointMouseEnter&&v.config.chart.events.dataPointMouseEnter(h,this.ctx,{seriesIndex:A,dataPointIndex:P,w:v}),this.ctx.events.fireEvent("dataPointMouseEnter",[h,this.ctx,{seriesIndex:A,dataPointIndex:P,w:v}]),("none"===v.config.states.active.filter.type||"true"!==c.node.getAttribute("selected"))&&"none"!==v.config.states.hover.filter.type&&!v.globals.isTouchDevice){var E=v.config.states.hover.filter;_.applyFilter(c,A,E.type,E.value)}}},{key:"pathMouseLeave",value:function(c,h){var v=this.w,_=new xt(this.ctx),A=parseInt(c.node.getAttribute("index"),10),P=parseInt(c.node.getAttribute("j"),10);"function"==typeof v.config.chart.events.dataPointMouseLeave&&v.config.chart.events.dataPointMouseLeave(h,this.ctx,{seriesIndex:A,dataPointIndex:P,w:v}),this.ctx.events.fireEvent("dataPointMouseLeave",[h,this.ctx,{seriesIndex:A,dataPointIndex:P,w:v}]),"none"!==v.config.states.active.filter.type&&"true"===c.node.getAttribute("selected")||"none"!==v.config.states.hover.filter.type&&_.getDefaultFilter(c,A)}},{key:"pathMouseDown",value:function(c,h){var v=this.w,_=new xt(this.ctx),A=parseInt(c.node.getAttribute("index"),10),P=parseInt(c.node.getAttribute("j"),10),E="false";if("true"===c.node.getAttribute("selected")){if(c.node.setAttribute("selected","false"),v.globals.selectedDataPoints[A].indexOf(P)>-1){var F=v.globals.selectedDataPoints[A].indexOf(P);v.globals.selectedDataPoints[A].splice(F,1)}}else{if(!v.config.states.active.allowMultipleDataPointsSelection&&v.globals.selectedDataPoints.length>0){v.globals.selectedDataPoints=[];var W=v.globals.dom.Paper.select(".apexcharts-series path").members,K=v.globals.dom.Paper.select(".apexcharts-series circle, .apexcharts-series rect").members,J=function(yt){Array.prototype.forEach.call(yt,function(Vt){Vt.node.setAttribute("selected","false"),_.getDefaultFilter(Vt,A)})};J(W),J(K)}c.node.setAttribute("selected","true"),E="true",void 0===v.globals.selectedDataPoints[A]&&(v.globals.selectedDataPoints[A]=[]),v.globals.selectedDataPoints[A].push(P)}if("true"===E){var ct=v.config.states.active.filter;"none"!==ct&&_.applyFilter(c,A,ct.type,ct.value)}else"none"!==v.config.states.active.filter.type&&_.getDefaultFilter(c,A);"function"==typeof v.config.chart.events.dataPointSelection&&v.config.chart.events.dataPointSelection(h,this.ctx,{selectedDataPoints:v.globals.selectedDataPoints,seriesIndex:A,dataPointIndex:P,w:v}),h&&this.ctx.events.fireEvent("dataPointSelection",[h,this.ctx,{selectedDataPoints:v.globals.selectedDataPoints,seriesIndex:A,dataPointIndex:P,w:v}])}},{key:"rotateAroundCenter",value:function(c){var h={};return c&&"function"==typeof c.getBBox&&(h=c.getBBox()),{x:h.x+h.width/2,y:h.y+h.height/2}}},{key:"getTextRects",value:function(c,h,v,_){var A=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],P=this.w,E=this.drawText({x:-200,y:-200,text:c,textAnchor:"start",fontSize:h,fontFamily:v,foreColor:"#fff",opacity:0});_&&E.attr("transform",_),P.globals.dom.Paper.add(E);var F=E.bbox();return A||(F=E.node.getBoundingClientRect()),E.remove(),{width:F.width,height:F.height}}},{key:"placeTextWithEllipsis",value:function(c,h,v){if("function"==typeof c.getComputedTextLength&&(c.textContent=h,h.length>0&&c.getComputedTextLength()>=v/1.1)){for(var _=h.length-3;_>0;_-=3)if(c.getSubStringLength(0,_)<=v/1.1)return void(c.textContent=h.substring(0,_)+"...");c.textContent="."}}}],[{key:"setAttrs",value:function(c,h){for(var v in h)h.hasOwnProperty(v)&&c.setAttribute(v,h[v])}}]),ae}(),it=function(){function ae(c){$t(this,ae),this.w=c.w,this.annoCtx=c}return ee(ae,[{key:"setOrientations",value:function(c){var h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,v=this.w;if("vertical"===c.label.orientation){var _=null!==h?h:0,A=v.globals.dom.baseEl.querySelector(".apexcharts-xaxis-annotations .apexcharts-xaxis-annotation-label[rel='".concat(_,"']"));if(null!==A){var P=A.getBoundingClientRect();A.setAttribute("x",parseFloat(A.getAttribute("x"))-P.height+4),A.setAttribute("y","top"===c.label.position?parseFloat(A.getAttribute("y"))+P.width:parseFloat(A.getAttribute("y"))-P.width);var E=this.annoCtx.graphics.rotateAroundCenter(A),F=E.x,W=E.y;A.setAttribute("transform","rotate(-90 ".concat(F," ").concat(W,")"))}}}},{key:"addBackgroundToAnno",value:function(c,h){var v=this.w;if(!c||!h.label.text||h.label.text&&!h.label.text.trim())return null;var _=v.globals.dom.baseEl.querySelector(".apexcharts-grid").getBoundingClientRect(),A=c.getBoundingClientRect(),P=h.label.style.padding.left,E=h.label.style.padding.right,F=h.label.style.padding.top,W=h.label.style.padding.bottom;"vertical"===h.label.orientation&&(F=h.label.style.padding.left,W=h.label.style.padding.right,P=h.label.style.padding.top,E=h.label.style.padding.bottom);var ct=this.annoCtx.graphics.drawRect(A.left-_.left-P-v.globals.barPadForNumericAxis,A.top-_.top-F,A.width+P+E,A.height+F+W,h.label.borderRadius,h.label.style.background,1,h.label.borderWidth,h.label.borderColor,0);return h.id&&ct.node.classList.add(h.id),ct}},{key:"annotationsBackground",value:function(){var c=this,h=this.w,v=function(_,A,P){var E=h.globals.dom.baseEl.querySelector(".apexcharts-".concat(P,"-annotations .apexcharts-").concat(P,"-annotation-label[rel='").concat(A,"']"));if(E){var F=E.parentNode,W=c.addBackgroundToAnno(E,_);W&&F.insertBefore(W.node,E)}};h.config.annotations.xaxis.map(function(_,A){v(_,A,"xaxis")}),h.config.annotations.yaxis.map(function(_,A){v(_,A,"yaxis")}),h.config.annotations.points.map(function(_,A){v(_,A,"point")})}},{key:"getStringX",value:function(c){var h=this.w,v=c;h.config.xaxis.convertedCatToNumeric&&h.globals.categoryLabels.length&&(c=h.globals.categoryLabels.indexOf(c)+1);var _=h.globals.labels.indexOf(c),A=h.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g text:nth-child("+(_+1)+")");return A&&(v=parseFloat(A.getAttribute("x"))),v}}]),ae}(),It=function(){function ae(c){$t(this,ae),this.w=c.w,this.annoCtx=c,this.invertAxis=this.annoCtx.invertAxis}return ee(ae,[{key:"addXaxisAnnotation",value:function(c,h,v){var _=this.w,A=this.invertAxis?_.globals.minY:_.globals.minX,P=this.invertAxis?_.globals.maxY:_.globals.maxX,E=this.invertAxis?_.globals.yRange[0]:_.globals.xRange,F=(c.x-A)/(E/_.globals.gridWidth);this.annoCtx.inversedReversedAxis&&(F=(P-c.x)/(E/_.globals.gridWidth));var W=c.label.text;"category"!==_.config.xaxis.type&&!_.config.xaxis.convertedCatToNumeric||this.invertAxis||_.globals.dataFormatXNumeric||(F=this.annoCtx.helpers.getStringX(c.x));var K=c.strokeDashArray;if(lt.isNumber(F)){if(null==c.x2){var J=this.annoCtx.graphics.drawLine(F+c.offsetX,0+c.offsetY,F+c.offsetX,_.globals.gridHeight+c.offsetY,c.borderColor,K,c.borderWidth);h.appendChild(J.node),c.id&&J.node.classList.add(c.id)}else{var ct=(c.x2-A)/(E/_.globals.gridWidth);if(this.annoCtx.inversedReversedAxis&&(ct=(P-c.x2)/(E/_.globals.gridWidth)),"category"!==_.config.xaxis.type&&!_.config.xaxis.convertedCatToNumeric||this.invertAxis||_.globals.dataFormatXNumeric||(ct=this.annoCtx.helpers.getStringX(c.x2)),ct<F){var yt=F;F=ct,ct=yt}var Vt=this.annoCtx.graphics.drawRect(F+c.offsetX,0+c.offsetY,ct-F,_.globals.gridHeight+c.offsetY,0,c.fillColor,c.opacity,1,c.borderColor,K);Vt.node.classList.add("apexcharts-annotation-rect"),Vt.attr("clip-path","url(#gridRectMask".concat(_.globals.cuid,")")),h.appendChild(Vt.node),c.id&&Vt.node.classList.add(c.id)}var Ht="top"===c.label.position?4:_.globals.gridHeight,qt=this.annoCtx.graphics.getTextRects(W,parseFloat(c.label.style.fontSize)),le=this.annoCtx.graphics.drawText({x:F+c.label.offsetX,y:Ht+c.label.offsetY-("vertical"===c.label.orientation?"top"===c.label.position?qt.width/2-12:-qt.width/2:0),text:W,textAnchor:c.label.textAnchor,fontSize:c.label.style.fontSize,fontFamily:c.label.style.fontFamily,fontWeight:c.label.style.fontWeight,foreColor:c.label.style.color,cssClass:"apexcharts-xaxis-annotation-label ".concat(c.label.style.cssClass," ").concat(c.id?c.id:"")});le.attr({rel:v}),h.appendChild(le.node),this.annoCtx.helpers.setOrientations(c,v)}}},{key:"drawXAxisAnnotations",value:function(){var c=this,h=this.w,v=this.annoCtx.graphics.group({class:"apexcharts-xaxis-annotations"});return h.config.annotations.xaxis.map(function(_,A){c.addXaxisAnnotation(_,v.node,A)}),v}}]),ae}(),Ut=function(){function ae(c){$t(this,ae),this.ctx=c,this.w=c.w}return ee(ae,[{key:"getStackedSeriesTotals",value:function(){var c=this.w,h=[];if(0===c.globals.series.length)return h;for(var v=0;v<c.globals.series[c.globals.maxValsInArrayIndex].length;v++){for(var _=0,A=0;A<c.globals.series.length;A++)void 0!==c.globals.series[A][v]&&(_+=c.globals.series[A][v]);h.push(_)}return c.globals.stackedSeriesTotals=h,h}},{key:"getSeriesTotalByIndex",value:function(){var c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return null===c?this.w.config.series.reduce(function(h,v){return h+v},0):this.w.globals.series[c].reduce(function(h,v){return h+v},0)}},{key:"isSeriesNull",value:function(){var c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return 0===(null===c?this.w.config.series.filter(function(h){return null!==h}):this.w.config.series[c].data.filter(function(h){return null!==h})).length}},{key:"seriesHaveSameValues",value:function(c){return this.w.globals.series[c].every(function(h,v,_){return h===_[0]})}},{key:"getCategoryLabels",value:function(c){var h=this.w,v=c.slice();return h.config.xaxis.convertedCatToNumeric&&(v=c.map(function(_,A){return h.config.xaxis.labels.formatter(_-h.globals.minX+1)})),v}},{key:"getLargestSeries",value:function(){var c=this.w;c.globals.maxValsInArrayIndex=c.globals.series.map(function(h){return h.length}).indexOf(Math.max.apply(Math,c.globals.series.map(function(h){return h.length})))}},{key:"getLargestMarkerSize",value:function(){var c=this.w,h=0;return c.globals.markers.size.forEach(function(v){h=Math.max(h,v)}),c.globals.markers.largestSize=h,h}},{key:"getSeriesTotals",value:function(){var c=this.w;c.globals.seriesTotals=c.globals.series.map(function(h,v){var _=0;if(Array.isArray(h))for(var A=0;A<h.length;A++)_+=h[A];else _+=h;return _})}},{key:"getSeriesTotalsXRange",value:function(c,h){var v=this.w;return v.globals.series.map(function(_,A){for(var P=0,E=0;E<_.length;E++)v.globals.seriesX[A][E]>c&&v.globals.seriesX[A][E]<h&&(P+=_[E]);return P})}},{key:"getPercentSeries",value:function(){var c=this.w;c.globals.seriesPercent=c.globals.series.map(function(h,v){var _=[];if(Array.isArray(h))for(var A=0;A<h.length;A++){var P=c.globals.stackedSeriesTotals[A],E=0;P&&(E=100*h[A]/P),_.push(E)}else{var F=100*h/c.globals.seriesTotals.reduce(function(W,K){return W+K},0);_.push(F)}return _})}},{key:"getCalculatedRatios",value:function(){var c,h,v,_,A=this.w.globals,P=[],E=0,F=[],W=.1,K=0;if(A.yRange=[],A.isMultipleYAxis)for(var J=0;J<A.minYArr.length;J++)A.yRange.push(Math.abs(A.minYArr[J]-A.maxYArr[J])),F.push(0);else A.yRange.push(Math.abs(A.minY-A.maxY));A.xRange=Math.abs(A.maxX-A.minX),A.zRange=Math.abs(A.maxZ-A.minZ);for(var ct=0;ct<A.yRange.length;ct++)P.push(A.yRange[ct]/A.gridHeight);if(h=A.xRange/A.gridWidth,v=Math.abs(A.initialMaxX-A.initialMinX)/A.gridWidth,c=A.yRange/A.gridWidth,_=A.xRange/A.gridHeight,(E=A.zRange/A.gridHeight*16)||(E=1),A.minY!==Number.MIN_VALUE&&0!==Math.abs(A.minY)&&(A.hasNegs=!0),A.isMultipleYAxis){F=[];for(var yt=0;yt<P.length;yt++)F.push(-A.minYArr[yt]/P[yt])}else F.push(-A.minY/P[0]),A.minY!==Number.MIN_VALUE&&0!==Math.abs(A.minY)&&(W=-A.minY/c,K=A.minX/h);return{yRatio:P,invertedYRatio:c,zRatio:E,xRatio:h,initialXRatio:v,invertedXRatio:_,baseLineInvertedY:W,baseLineY:F,baseLineX:K}}},{key:"getLogSeries",value:function(c){var h=this,v=this.w;return v.globals.seriesLog=c.map(function(_,A){return v.config.yaxis[A]&&v.config.yaxis[A].logarithmic?_.map(function(P){return null===P?null:h.getLogVal(P,A)}):_}),v.globals.invalidLogScale?c:v.globals.seriesLog}},{key:"getLogVal",value:function(c,h){var v=this.w;return(Math.log(c)-Math.log(v.globals.minYArr[h]))/(Math.log(v.globals.maxYArr[h])-Math.log(v.globals.minYArr[h]))}},{key:"getLogYRatios",value:function(c){var h=this,v=this.w,_=this.w.globals;return _.yLogRatio=c.slice(),_.logYRange=_.yRange.map(function(A,P){if(v.config.yaxis[P]&&h.w.config.yaxis[P].logarithmic){var E,F=-Number.MAX_VALUE,W=Number.MIN_VALUE;return _.seriesLog.forEach(function(K,J){K.forEach(function(ct){v.config.yaxis[J]&&v.config.yaxis[J].logarithmic&&(F=Math.max(ct,F),W=Math.min(ct,W))})}),E=Math.pow(_.yRange[P],Math.abs(W-F)/_.yRange[P]),_.yLogRatio[P]=E/_.gridHeight,E}}),_.invalidLogScale?c.slice():_.yLogRatio}}],[{key:"checkComboSeries",value:function(c){var h=!1,v=0,_=0;return c.length&&void 0!==c[0].type&&c.forEach(function(A){"bar"!==A.type&&"column"!==A.type&&"candlestick"!==A.type&&"boxPlot"!==A.type||v++,void 0!==A.type&&_++}),_>0&&(h=!0),{comboBarCount:v,comboCharts:h}}},{key:"extendArrayProps",value:function(c,h,v){return h.yaxis&&(h=c.extendYAxis(h,v)),h.annotations&&(h.annotations.yaxis&&(h=c.extendYAxisAnnotations(h)),h.annotations.xaxis&&(h=c.extendXAxisAnnotations(h)),h.annotations.points&&(h=c.extendPointAnnotations(h))),h}}]),ae}(),Yt=function(){function ae(c){$t(this,ae),this.w=c.w,this.annoCtx=c}return ee(ae,[{key:"addYaxisAnnotation",value:function(c,h,v){var _,A=this.w,P=c.strokeDashArray,E=this._getY1Y2("y1",c),F=c.label.text;if(null==c.y2){var W=this.annoCtx.graphics.drawLine(0+c.offsetX,E+c.offsetY,this._getYAxisAnnotationWidth(c),E+c.offsetY,c.borderColor,P,c.borderWidth);h.appendChild(W.node),c.id&&W.node.classList.add(c.id)}else{if((_=this._getY1Y2("y2",c))>E){var K=E;E=_,_=K}var J=this.annoCtx.graphics.drawRect(0+c.offsetX,_+c.offsetY,this._getYAxisAnnotationWidth(c),E-_,0,c.fillColor,c.opacity,1,c.borderColor,P);J.node.classList.add("apexcharts-annotation-rect"),J.attr("clip-path","url(#gridRectMask".concat(A.globals.cuid,")")),h.appendChild(J.node),c.id&&J.node.classList.add(c.id)}var yt=this.annoCtx.graphics.drawText({x:("right"===c.label.position?A.globals.gridWidth:0)+c.label.offsetX,y:(null!=_?_:E)+c.label.offsetY-3,text:F,textAnchor:c.label.textAnchor,fontSize:c.label.style.fontSize,fontFamily:c.label.style.fontFamily,fontWeight:c.label.style.fontWeight,foreColor:c.label.style.color,cssClass:"apexcharts-yaxis-annotation-label ".concat(c.label.style.cssClass," ").concat(c.id?c.id:"")});yt.attr({rel:v}),h.appendChild(yt.node)}},{key:"_getY1Y2",value:function(c,h){var v,_="y1"===c?h.y:h.y2,A=this.w;if(this.annoCtx.invertAxis){var P=A.globals.labels.indexOf(_);A.config.xaxis.convertedCatToNumeric&&(P=A.globals.categoryLabels.indexOf(_));var E=A.globals.dom.baseEl.querySelector(".apexcharts-yaxis-texts-g text:nth-child("+(P+1)+")");E&&(v=parseFloat(E.getAttribute("y")))}else{var F;F=A.config.yaxis[h.yAxisIndex].logarithmic?(_=new Ut(this.annoCtx.ctx).getLogVal(_,h.yAxisIndex))/A.globals.yLogRatio[h.yAxisIndex]:(_-A.globals.minYArr[h.yAxisIndex])/(A.globals.yRange[h.yAxisIndex]/A.globals.gridHeight),v=A.globals.gridHeight-F,A.config.yaxis[h.yAxisIndex]&&A.config.yaxis[h.yAxisIndex].reversed&&(v=F)}return v}},{key:"_getYAxisAnnotationWidth",value:function(c){var h=this.w;return(c.width.indexOf("%")>-1?h.globals.gridWidth*parseInt(c.width,10)/100:parseInt(c.width,10))+c.offsetX}},{key:"drawYAxisAnnotations",value:function(){var c=this,h=this.w,v=this.annoCtx.graphics.group({class:"apexcharts-yaxis-annotations"});return h.config.annotations.yaxis.map(function(_,A){c.addYaxisAnnotation(_,v.node,A)}),v}}]),ae}(),ie=function(){function ae(c){$t(this,ae),this.w=c.w,this.annoCtx=c}return ee(ae,[{key:"addPointAnnotation",value:function(c,h,v){var _=this.w,A=0,P=0,E=0;this.annoCtx.invertAxis&&console.warn("Point annotation is not supported in horizontal bar charts.");var F=parseFloat(c.y);if("string"==typeof c.x||"category"===_.config.xaxis.type||_.config.xaxis.convertedCatToNumeric){var W=_.globals.labels.indexOf(c.x);_.config.xaxis.convertedCatToNumeric&&(W=_.globals.categoryLabels.indexOf(c.x)),A=this.annoCtx.helpers.getStringX(c.x),null===c.y&&(F=_.globals.series[c.seriesIndex][W])}else A=(c.x-_.globals.minX)/(_.globals.xRange/_.globals.gridWidth);for(var K,J=[],ct=0,yt=0;yt<=c.seriesIndex;yt++){var Vt=_.config.yaxis[yt].seriesName;if(Vt)for(var Ht=yt+1;Ht<=c.seriesIndex;Ht++)_.config.yaxis[Ht].seriesName===Vt&&-1===J.indexOf(Vt)&&(ct++,J.push(Vt))}if(_.config.yaxis[c.yAxisIndex].logarithmic)K=(F=new Ut(this.annoCtx.ctx).getLogVal(F,c.yAxisIndex))/_.globals.yLogRatio[c.yAxisIndex];else{var qt=c.yAxisIndex+ct;K=(F-_.globals.minYArr[qt])/(_.globals.yRange[qt]/_.globals.gridHeight)}if(P=_.globals.gridHeight-K-parseFloat(c.label.style.fontSize)-c.marker.size,E=_.globals.gridHeight-K,_.config.yaxis[c.yAxisIndex]&&_.config.yaxis[c.yAxisIndex].reversed&&(P=K+parseFloat(c.label.style.fontSize)+c.marker.size,E=K),lt.isNumber(A)){var le={pSize:c.marker.size,pointStrokeWidth:c.marker.strokeWidth,pointFillColor:c.marker.fillColor,pointStrokeColor:c.marker.strokeColor,shape:c.marker.shape,pRadius:c.marker.radius,class:"apexcharts-point-annotation-marker ".concat(c.marker.cssClass," ").concat(c.id?c.id:"")},me=this.annoCtx.graphics.drawMarker(A+c.marker.offsetX,E+c.marker.offsetY,le);h.appendChild(me.node);var j=this.annoCtx.graphics.drawText({x:A+c.label.offsetX,y:P+c.label.offsetY,text:c.label.text?c.label.text:"",textAnchor:c.label.textAnchor,fontSize:c.label.style.fontSize,fontFamily:c.label.style.fontFamily,fontWeight:c.label.style.fontWeight,foreColor:c.label.style.color,cssClass:"apexcharts-point-annotation-label ".concat(c.label.style.cssClass," ").concat(c.id?c.id:"")});if(j.attr({rel:v}),h.appendChild(j.node),c.customSVG.SVG){var ut=this.annoCtx.graphics.group({class:"apexcharts-point-annotations-custom-svg "+c.customSVG.cssClass});ut.attr({transform:"translate(".concat(A+c.customSVG.offsetX,", ").concat(P+c.customSVG.offsetY,")")}),ut.node.innerHTML=c.customSVG.SVG,h.appendChild(ut.node)}if(c.image.path){var Zt=c.image.width?c.image.width:20,he=c.image.height?c.image.height:20;this.annoCtx.addImage({x:A+c.image.offsetX-Zt/2,y:P+c.image.offsetY-he/2,width:Zt,height:he,path:c.image.path,appendTo:".apexcharts-point-annotations"})}}}},{key:"drawPointAnnotations",value:function(){var c=this,h=this.w,v=this.annoCtx.graphics.group({class:"apexcharts-point-annotations"});return h.config.annotations.points.map(function(_,A){c.addPointAnnotation(_,v.node,A)}),v}}]),ae}(),Pt={name:"en",options:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],toolbar:{exportToSVG:"Download SVG",exportToPNG:"Download PNG",exportToCSV:"Download CSV",menu:"Menu",selection:"Selection",selectionZoom:"Selection Zoom",zoomIn:"Zoom In",zoomOut:"Zoom Out",pan:"Panning",reset:"Reset Zoom"}}},Xt=function(){function ae(){$t(this,ae),this.yAxis={show:!0,showAlways:!1,showForNullSeries:!0,seriesName:void 0,opposite:!1,reversed:!1,logarithmic:!1,logBase:10,tickAmount:void 0,forceNiceScale:!1,max:void 0,min:void 0,floating:!1,decimalsInFloat:void 0,labels:{show:!0,minWidth:0,maxWidth:160,offsetX:0,offsetY:0,align:void 0,rotate:0,padding:20,style:{colors:[],fontSize:"11px",fontWeight:400,fontFamily:void 0,cssClass:""},formatter:void 0},axisBorder:{show:!1,color:"#e0e0e0",width:1,offsetX:0,offsetY:0},axisTicks:{show:!1,color:"#e0e0e0",width:6,offsetX:0,offsetY:0},title:{text:void 0,rotate:-90,offsetY:0,offsetX:0,style:{color:void 0,fontSize:"11px",fontWeight:900,fontFamily:void 0,cssClass:""}},tooltip:{enabled:!1,offsetX:0},crosshairs:{show:!0,position:"front",stroke:{color:"#b6b6b6",width:1,dashArray:0}}},this.pointAnnotation={x:0,y:null,yAxisIndex:0,seriesIndex:0,marker:{size:4,fillColor:"#fff",strokeWidth:2,strokeColor:"#333",shape:"circle",offsetX:0,offsetY:0,radius:2,cssClass:""},label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",offsetX:0,offsetY:0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}},customSVG:{SVG:void 0,cssClass:void 0,offsetX:0,offsetY:0},image:{path:void 0,width:20,height:20,offsetX:0,offsetY:0}},this.yAxisAnnotation={y:0,y2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,width:"100%",yAxisIndex:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"end",position:"right",offsetX:0,offsetY:-3,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.xAxisAnnotation={x:0,x2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",orientation:"vertical",position:"top",offsetX:0,offsetY:0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.text={x:0,y:0,text:"",textAnchor:"start",foreColor:void 0,fontSize:"13px",fontFamily:void 0,fontWeight:400,appendTo:".apexcharts-annotations",backgroundColor:"transparent",borderColor:"#c2c2c2",borderRadius:0,borderWidth:0,paddingLeft:4,paddingRight:4,paddingTop:2,paddingBottom:2}}return ee(ae,[{key:"init",value:function(){return{annotations:{position:"front",yaxis:[this.yAxisAnnotation],xaxis:[this.xAxisAnnotation],points:[this.pointAnnotation],texts:[],images:[],shapes:[]},chart:{animations:{enabled:!0,easing:"easeinout",speed:800,animateGradually:{delay:150,enabled:!0},dynamicAnimation:{enabled:!0,speed:350}},background:"transparent",locales:[Pt],defaultLocale:"en",dropShadow:{enabled:!1,enabledOnSeries:void 0,top:2,left:2,blur:4,color:"#000",opacity:.35},events:{animationEnd:void 0,beforeMount:void 0,mounted:void 0,updated:void 0,click:void 0,mouseMove:void 0,mouseLeave:void 0,legendClick:void 0,markerClick:void 0,selection:void 0,dataPointSelection:void 0,dataPointMouseEnter:void 0,dataPointMouseLeave:void 0,beforeZoom:void 0,beforeResetZoom:void 0,zoomed:void 0,scrolled:void 0,brushScrolled:void 0},foreColor:"#373d3f",fontFamily:"Helvetica, Arial, sans-serif",height:"auto",parentHeightOffset:15,redrawOnParentResize:!0,redrawOnWindowResize:!0,id:void 0,group:void 0,offsetX:0,offsetY:0,selection:{enabled:!1,type:"x",fill:{color:"#24292e",opacity:.1},stroke:{width:1,color:"#24292e",opacity:.4,dashArray:3},xaxis:{min:void 0,max:void 0},yaxis:{min:void 0,max:void 0}},sparkline:{enabled:!1},brush:{enabled:!1,autoScaleYaxis:!0,target:void 0},stacked:!1,stackType:"normal",toolbar:{show:!0,offsetX:0,offsetY:0,tools:{download:!0,selection:!0,zoom:!0,zoomin:!0,zoomout:!0,pan:!0,reset:!0,customIcons:[]},export:{csv:{filename:void 0,columnDelimiter:",",headerCategory:"category",headerValue:"value",dateFormatter:function(c){return new Date(c).toDateString()}},png:{filename:void 0},svg:{filename:void 0}},autoSelected:"zoom"},type:"line",width:"100%",zoom:{enabled:!0,type:"x",autoScaleYaxis:!1,zoomedArea:{fill:{color:"#90CAF9",opacity:.4},stroke:{color:"#0D47A1",opacity:.4,width:1}}}},plotOptions:{area:{fillTo:"origin"},bar:{horizontal:!1,columnWidth:"70%",barHeight:"70%",distributed:!1,borderRadius:0,rangeBarOverlap:!0,rangeBarGroupRows:!1,colors:{ranges:[],backgroundBarColors:[],backgroundBarOpacity:1,backgroundBarRadius:0},dataLabels:{position:"top",maxItems:100,hideOverflowingLabels:!0,orientation:"horizontal"}},bubble:{minBubbleRadius:void 0,maxBubbleRadius:void 0},candlestick:{colors:{upward:"#00B746",downward:"#EF403C"},wick:{useFillColor:!0}},boxPlot:{colors:{upper:"#00E396",lower:"#008FFB"}},heatmap:{radius:2,enableShades:!0,shadeIntensity:.5,reverseNegativeShade:!1,distributed:!1,useFillColorAsStroke:!1,colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0}},treemap:{enableShades:!0,shadeIntensity:.5,distributed:!1,reverseNegativeShade:!1,useFillColorAsStroke:!1,colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0}},radialBar:{inverseOrder:!1,startAngle:0,endAngle:360,offsetX:0,offsetY:0,hollow:{margin:5,size:"50%",background:"transparent",image:void 0,imageWidth:150,imageHeight:150,imageOffsetX:0,imageOffsetY:0,imageClipped:!0,position:"front",dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},track:{show:!0,startAngle:void 0,endAngle:void 0,background:"#f2f2f2",strokeWidth:"97%",opacity:1,margin:5,dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},dataLabels:{show:!0,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:0,formatter:function(c){return c}},value:{show:!0,fontSize:"14px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:16,formatter:function(c){return c+"%"}},total:{show:!1,label:"Total",fontSize:"16px",fontWeight:600,fontFamily:void 0,color:void 0,formatter:function(c){return c.globals.seriesTotals.reduce(function(h,v){return h+v},0)/c.globals.series.length+"%"}}}},pie:{customScale:1,offsetX:0,offsetY:0,startAngle:0,endAngle:360,expandOnClick:!0,dataLabels:{offset:0,minAngleToShowLabel:10},donut:{size:"65%",background:"transparent",labels:{show:!1,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:-10,formatter:function(c){return c}},value:{show:!0,fontSize:"20px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:10,formatter:function(c){return c}},total:{show:!1,showAlways:!1,label:"Total",fontSize:"16px",fontWeight:400,fontFamily:void 0,color:void 0,formatter:function(c){return c.globals.seriesTotals.reduce(function(h,v){return h+v},0)}}}}},polarArea:{rings:{strokeWidth:1,strokeColor:"#e8e8e8"},spokes:{strokeWidth:1,connectorColors:"#e8e8e8"}},radar:{size:void 0,offsetX:0,offsetY:0,polygons:{strokeWidth:1,strokeColors:"#e8e8e8",connectorColors:"#e8e8e8",fill:{colors:void 0}}}},colors:void 0,dataLabels:{enabled:!0,enabledOnSeries:void 0,formatter:function(c){return null!==c?c:""},textAnchor:"middle",distributed:!1,offsetX:0,offsetY:0,style:{fontSize:"12px",fontFamily:void 0,fontWeight:600,colors:void 0},background:{enabled:!0,foreColor:"#fff",borderRadius:2,padding:4,opacity:.9,borderWidth:1,borderColor:"#fff",dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.45}},dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.45}},fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]},image:{src:[],width:void 0,height:void 0},pattern:{style:"squares",width:6,height:6,strokeWidth:2}},forecastDataPoints:{count:0,fillOpacity:.5,strokeWidth:void 0,dashArray:4},grid:{show:!0,borderColor:"#e0e0e0",strokeDashArray:0,position:"back",xaxis:{lines:{show:!1}},yaxis:{lines:{show:!0}},row:{colors:void 0,opacity:.5},column:{colors:void 0,opacity:.5},padding:{top:0,right:10,bottom:0,left:12}},labels:[],legend:{show:!0,showForSingleSeries:!1,showForNullSeries:!0,showForZeroSeries:!0,floating:!1,position:"bottom",horizontalAlign:"center",inverseOrder:!1,fontSize:"12px",fontFamily:void 0,fontWeight:400,width:void 0,height:void 0,formatter:void 0,tooltipHoverFormatter:void 0,offsetX:-20,offsetY:4,customLegendItems:[],labels:{colors:void 0,useSeriesColors:!1},markers:{width:12,height:12,strokeWidth:0,fillColors:void 0,strokeColor:"#fff",radius:12,customHTML:void 0,offsetX:0,offsetY:0,onClick:void 0},itemMargin:{horizontal:5,vertical:2},onItemClick:{toggleDataSeries:!0},onItemHover:{highlightDataSeries:!0}},markers:{discrete:[],size:0,colors:void 0,strokeColors:"#fff",strokeWidth:2,strokeOpacity:.9,strokeDashArray:0,fillOpacity:1,shape:"circle",width:8,height:8,radius:2,offsetX:0,offsetY:0,onClick:void 0,onDblClick:void 0,showNullDataPoints:!0,hover:{size:void 0,sizeOffset:3}},noData:{text:void 0,align:"center",verticalAlign:"middle",offsetX:0,offsetY:0,style:{color:void 0,fontSize:"14px",fontFamily:void 0}},responsive:[],series:void 0,states:{normal:{filter:{type:"none",value:0}},hover:{filter:{type:"lighten",value:.1}},active:{allowMultipleDataPointsSelection:!1,filter:{type:"darken",value:.5}}},title:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:0,floating:!1,style:{fontSize:"14px",fontWeight:900,fontFamily:void 0,color:void 0}},subtitle:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:30,floating:!1,style:{fontSize:"12px",fontWeight:400,fontFamily:void 0,color:void 0}},stroke:{show:!0,curve:"smooth",lineCap:"butt",width:2,colors:void 0,dashArray:0},tooltip:{enabled:!0,enabledOnSeries:void 0,shared:!0,followCursor:!1,intersect:!1,inverseOrder:!1,custom:void 0,fillSeriesColor:!1,theme:"light",style:{fontSize:"12px",fontFamily:void 0},onDatasetHover:{highlightDataSeries:!1},x:{show:!0,format:"dd MMM",formatter:void 0},y:{formatter:void 0,title:{formatter:function(c){return c?c+": ":""}}},z:{formatter:void 0,title:"Size: "},marker:{show:!0,fillColors:void 0},items:{display:"flex"},fixed:{enabled:!1,position:"topRight",offsetX:0,offsetY:0}},xaxis:{type:"category",categories:[],convertedCatToNumeric:!1,offsetX:0,offsetY:0,overwriteCategories:void 0,labels:{show:!0,rotate:-45,rotateAlways:!1,hideOverlappingLabels:!0,trim:!1,minHeight:void 0,maxHeight:120,showDuplicates:!0,style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""},offsetX:0,offsetY:0,format:void 0,formatter:void 0,datetimeUTC:!0,datetimeFormatter:{year:"yyyy",month:"MMM 'yy",day:"dd MMM",hour:"HH:mm",minute:"HH:mm:ss",second:"HH:mm:ss"}},axisBorder:{show:!0,color:"#e0e0e0",width:"100%",height:1,offsetX:0,offsetY:0},axisTicks:{show:!0,color:"#e0e0e0",height:6,offsetX:0,offsetY:0},tickAmount:void 0,tickPlacement:"on",min:void 0,max:void 0,range:void 0,floating:!1,decimalsInFloat:void 0,position:"bottom",title:{text:void 0,offsetX:0,offsetY:0,style:{color:void 0,fontSize:"12px",fontWeight:900,fontFamily:void 0,cssClass:""}},crosshairs:{show:!0,width:1,position:"back",opacity:.9,stroke:{color:"#b6b6b6",width:1,dashArray:3},fill:{type:"solid",color:"#B1B9C4",gradient:{colorFrom:"#D8E3F0",colorTo:"#BED1E6",stops:[0,100],opacityFrom:.4,opacityTo:.5}},dropShadow:{enabled:!1,left:0,top:0,blur:1,opacity:.4}},tooltip:{enabled:!0,offsetY:0,formatter:void 0,style:{fontSize:"12px",fontFamily:void 0}}},yaxis:this.yAxis,theme:{mode:"light",palette:"palette1",monochrome:{enabled:!1,color:"#008FFB",shadeTo:"light",shadeIntensity:.65}}}}}]),ae}(),vt=function(){function ae(c){$t(this,ae),this.ctx=c,this.w=c.w,this.graphics=new ot(this.ctx),this.w.globals.isBarHorizontal&&(this.invertAxis=!0),this.helpers=new it(this),this.xAxisAnnotations=new It(this),this.yAxisAnnotations=new Yt(this),this.pointsAnnotations=new ie(this),this.w.globals.isBarHorizontal&&this.w.config.yaxis[0].reversed&&(this.inversedReversedAxis=!0),this.xDivision=this.w.globals.gridWidth/this.w.globals.dataPoints}return ee(ae,[{key:"drawAxesAnnotations",value:function(){var c=this.w;if(c.globals.axisCharts){for(var h=this.yAxisAnnotations.drawYAxisAnnotations(),v=this.xAxisAnnotations.drawXAxisAnnotations(),_=this.pointsAnnotations.drawPointAnnotations(),A=c.config.chart.animations.enabled,P=[h,v,_],E=[v.node,h.node,_.node],F=0;F<3;F++)c.globals.dom.elGraphical.add(P[F]),!A||c.globals.resized||c.globals.dataChanged||"scatter"!==c.config.chart.type&&"bubble"!==c.config.chart.type&&c.globals.dataPoints>1&&E[F].classList.add("apexcharts-element-hidden"),c.globals.delayedElements.push({el:E[F],index:0});this.helpers.annotationsBackground()}}},{key:"drawImageAnnos",value:function(){var c=this;this.w.config.annotations.images.map(function(h,v){c.addImage(h,v)})}},{key:"drawTextAnnos",value:function(){var c=this;this.w.config.annotations.texts.map(function(h,v){c.addText(h,v)})}},{key:"addXaxisAnnotation",value:function(c,h,v){this.xAxisAnnotations.addXaxisAnnotation(c,h,v)}},{key:"addYaxisAnnotation",value:function(c,h,v){this.yAxisAnnotations.addYaxisAnnotation(c,h,v)}},{key:"addPointAnnotation",value:function(c,h,v){this.pointsAnnotations.addPointAnnotation(c,h,v)}},{key:"addText",value:function(c,h){var A=c.text,ct=c.backgroundColor,yt=c.borderWidth,Vt=c.strokeDashArray,Ht=c.borderRadius,qt=c.borderColor,le=c.appendTo,me=void 0===le?".apexcharts-annotations":le,De=c.paddingLeft,j=void 0===De?4:De,ut=c.paddingRight,Zt=void 0===ut?4:ut,he=c.paddingBottom,Ue=void 0===he?2:he,kn=c.paddingTop,rn=void 0===kn?2:kn,Kn=this.w,zn=this.graphics.drawText({x:c.x,y:c.y,text:A,textAnchor:c.textAnchor||"start",fontSize:c.fontSize||"12px",fontWeight:c.fontWeight||"regular",fontFamily:c.fontFamily||Kn.config.chart.fontFamily,foreColor:c.foreColor||Kn.config.chart.foreColor,cssClass:c.cssClass}),ai=Kn.globals.dom.baseEl.querySelector(me);ai&&ai.appendChild(zn.node);var Mi=zn.bbox();if(A){var Ki=this.graphics.drawRect(Mi.x-j,Mi.y-rn,Mi.width+j+Zt,Mi.height+Ue+rn,Ht,ct||"transparent",1,yt,qt,Vt);ai.insertBefore(Ki.node,zn.node)}}},{key:"addImage",value:function(c,h){var v=this.w,A=c.x,P=void 0===A?0:A,E=c.y,F=void 0===E?0:E,W=c.width,K=void 0===W?20:W,J=c.height,ct=void 0===J?20:J,yt=c.appendTo,Vt=void 0===yt?".apexcharts-annotations":yt,Ht=v.globals.dom.Paper.image(c.path);Ht.size(K,ct).move(P,F);var qt=v.globals.dom.baseEl.querySelector(Vt);qt&&qt.appendChild(Ht.node)}},{key:"addXaxisAnnotationExternal",value:function(c,h,v){return this.addAnnotationExternal({params:c,pushToMemory:h,context:v,type:"xaxis",contextMethod:v.addXaxisAnnotation}),v}},{key:"addYaxisAnnotationExternal",value:function(c,h,v){return this.addAnnotationExternal({params:c,pushToMemory:h,context:v,type:"yaxis",contextMethod:v.addYaxisAnnotation}),v}},{key:"addPointAnnotationExternal",value:function(c,h,v){return void 0===this.invertAxis&&(this.invertAxis=v.w.globals.isBarHorizontal),this.addAnnotationExternal({params:c,pushToMemory:h,context:v,type:"point",contextMethod:v.addPointAnnotation}),v}},{key:"addAnnotationExternal",value:function(c){var h=c.params,v=c.pushToMemory,_=c.context,A=c.type,P=c.contextMethod,E=_,F=E.w,W=F.globals.dom.baseEl.querySelector(".apexcharts-".concat(A,"-annotations")),K=W.childNodes.length+1,J=new Xt,ct=Object.assign({},"xaxis"===A?J.xAxisAnnotation:"yaxis"===A?J.yAxisAnnotation:J.pointAnnotation),yt=lt.extend(ct,h);switch(A){case"xaxis":this.addXaxisAnnotation(yt,W,K);break;case"yaxis":this.addYaxisAnnotation(yt,W,K);break;case"point":this.addPointAnnotation(yt,W,K)}var Vt=F.globals.dom.baseEl.querySelector(".apexcharts-".concat(A,"-annotations .apexcharts-").concat(A,"-annotation-label[rel='").concat(K,"']")),Ht=this.helpers.addBackgroundToAnno(Vt,yt);return Ht&&W.insertBefore(Ht.node,Vt),v&&F.globals.memory.methodsToExec.push({context:E,id:yt.id?yt.id:lt.randomId(),method:P,label:"addAnnotation",params:h}),_}},{key:"clearAnnotations",value:function(c){var h=c.w,v=h.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-annotations, .apexcharts-xaxis-annotations, .apexcharts-point-annotations");h.globals.memory.methodsToExec.map(function(_,A){"addText"!==_.label&&"addAnnotation"!==_.label||h.globals.memory.methodsToExec.splice(A,1)}),v=lt.listToArray(v),Array.prototype.forEach.call(v,function(_){for(;_.firstChild;)_.removeChild(_.firstChild)})}},{key:"removeAnnotation",value:function(c,h){var v=c.w,_=v.globals.dom.baseEl.querySelectorAll(".".concat(h));_&&(v.globals.memory.methodsToExec.map(function(A,P){A.id===h&&v.globals.memory.methodsToExec.splice(P,1)}),Array.prototype.forEach.call(_,function(A){A.parentElement.removeChild(A)}))}}]),ae}(),Dt=function(){function ae(c){$t(this,ae),this.ctx=c,this.w=c.w,this.opts=null,this.seriesIndex=0}return ee(ae,[{key:"clippedImgArea",value:function(c){var h=this.w,v=h.config,_=parseInt(h.globals.gridWidth,10),A=parseInt(h.globals.gridHeight,10),P=_>A?_:A,E=c.image,F=0,W=0;void 0===c.width&&void 0===c.height?void 0!==v.fill.image.width&&void 0!==v.fill.image.height?(F=v.fill.image.width+1,W=v.fill.image.height):(F=P+1,W=P):(F=c.width,W=c.height);var K=document.createElementNS(h.globals.SVGNS,"pattern");ot.setAttrs(K,{id:c.patternID,patternUnits:c.patternUnits?c.patternUnits:"userSpaceOnUse",width:F+"px",height:W+"px"});var J=document.createElementNS(h.globals.SVGNS,"image");K.appendChild(J),J.setAttributeNS(window.SVG.xlink,"href",E),ot.setAttrs(J,{x:0,y:0,preserveAspectRatio:"none",width:F+"px",height:W+"px"}),J.style.opacity=c.opacity,h.globals.dom.elDefs.node.appendChild(K)}},{key:"getSeriesIndex",value:function(c){var h=this.w;return this.seriesIndex=("bar"===h.config.chart.type||"rangeBar"===h.config.chart.type)&&h.config.plotOptions.bar.distributed||"heatmap"===h.config.chart.type||"treemap"===h.config.chart.type?c.seriesNumber:c.seriesNumber%h.globals.series.length,this.seriesIndex}},{key:"fillPath",value:function(c){var h=this.w;this.opts=c;var v,_,A,P=this.w.config;this.seriesIndex=this.getSeriesIndex(c);var E=this.getFillColors()[this.seriesIndex];void 0!==h.globals.seriesColors[this.seriesIndex]&&(E=h.globals.seriesColors[this.seriesIndex]),"function"==typeof E&&(E=E({seriesIndex:this.seriesIndex,dataPointIndex:c.dataPointIndex,value:c.value,w:h}));var F=this.getFillType(this.seriesIndex),W=Array.isArray(P.fill.opacity)?P.fill.opacity[this.seriesIndex]:P.fill.opacity;c.color&&(E=c.color);var K=E;if(-1===E.indexOf("rgb")?E.length<9&&(K=lt.hexToRgba(E,W)):E.indexOf("rgba")>-1&&(W=lt.getOpacityFromRGBA(E)),c.opacity&&(W=c.opacity),"pattern"===F&&(_=this.handlePatternFill(_,E,W,K)),"gradient"===F&&(A=this.handleGradientFill(E,W,this.seriesIndex)),"image"===F){var J=P.fill.image.src,ct=c.patternID?c.patternID:"";this.clippedImgArea({opacity:W,image:Array.isArray(J)?c.seriesNumber<J.length?J[c.seriesNumber]:J[0]:J,width:c.width?c.width:void 0,height:c.height?c.height:void 0,patternUnits:c.patternUnits,patternID:"pattern".concat(h.globals.cuid).concat(c.seriesNumber+1).concat(ct)}),v="url(#pattern".concat(h.globals.cuid).concat(c.seriesNumber+1).concat(ct,")")}else v="gradient"===F?A:"pattern"===F?_:K;return c.solid&&(v=K),v}},{key:"getFillType",value:function(c){var h=this.w;return Array.isArray(h.config.fill.type)?h.config.fill.type[c]:h.config.fill.type}},{key:"getFillColors",value:function(){var c=this.w,h=c.config,v=this.opts,_=[];return c.globals.comboCharts?"line"===c.config.series[this.seriesIndex].type?Array.isArray(c.globals.stroke.colors)?_=c.globals.stroke.colors:_.push(c.globals.stroke.colors):Array.isArray(c.globals.fill.colors)?_=c.globals.fill.colors:_.push(c.globals.fill.colors):"line"===h.chart.type?Array.isArray(c.globals.stroke.colors)?_=c.globals.stroke.colors:_.push(c.globals.stroke.colors):Array.isArray(c.globals.fill.colors)?_=c.globals.fill.colors:_.push(c.globals.fill.colors),void 0!==v.fillColors&&(_=[],Array.isArray(v.fillColors)?_=v.fillColors.slice():_.push(v.fillColors)),_}},{key:"handlePatternFill",value:function(c,h,v,_){var A=this.w.config,P=this.opts,E=new ot(this.ctx),F=void 0===A.fill.pattern.strokeWidth?Array.isArray(A.stroke.width)?A.stroke.width[this.seriesIndex]:A.stroke.width:Array.isArray(A.fill.pattern.strokeWidth)?A.fill.pattern.strokeWidth[this.seriesIndex]:A.fill.pattern.strokeWidth,W=h;return Array.isArray(A.fill.pattern.style)?void 0!==A.fill.pattern.style[P.seriesNumber]?E.drawPattern(A.fill.pattern.style[P.seriesNumber],A.fill.pattern.width,A.fill.pattern.height,W,F,v):_:E.drawPattern(A.fill.pattern.style,A.fill.pattern.width,A.fill.pattern.height,W,F,v)}},{key:"handleGradientFill",value:function(c,h,v){var _,A=this.w.config,P=this.opts,E=new ot(this.ctx),F=new lt,W=A.fill.gradient.type,K=c,J=void 0===A.fill.gradient.opacityFrom?h:Array.isArray(A.fill.gradient.opacityFrom)?A.fill.gradient.opacityFrom[v]:A.fill.gradient.opacityFrom;K.indexOf("rgba")>-1&&(J=lt.getOpacityFromRGBA(K));var ct=void 0===A.fill.gradient.opacityTo?h:Array.isArray(A.fill.gradient.opacityTo)?A.fill.gradient.opacityTo[v]:A.fill.gradient.opacityTo;if(void 0===A.fill.gradient.gradientToColors||0===A.fill.gradient.gradientToColors.length)_=F.shadeColor("dark"===A.fill.gradient.shade?-1*parseFloat(A.fill.gradient.shadeIntensity):parseFloat(A.fill.gradient.shadeIntensity),c.indexOf("rgb")>-1?lt.rgb2hex(c):c);else if(A.fill.gradient.gradientToColors[P.seriesNumber]){var yt=A.fill.gradient.gradientToColors[P.seriesNumber];_=yt,yt.indexOf("rgba")>-1&&(ct=lt.getOpacityFromRGBA(yt))}else _=c;if(A.fill.gradient.inverseColors){var Vt=K;K=_,_=Vt}return K.indexOf("rgb")>-1&&(K=lt.rgb2hex(K)),_.indexOf("rgb")>-1&&(_=lt.rgb2hex(_)),E.drawGradient(W,K,_,J,ct,P.size,A.fill.gradient.stops,A.fill.gradient.colorStops,v)}}]),ae}(),se=function(){function ae(c,h){$t(this,ae),this.ctx=c,this.w=c.w}return ee(ae,[{key:"setGlobalMarkerSize",value:function(){var c=this.w;if(c.globals.markers.size=Array.isArray(c.config.markers.size)?c.config.markers.size:[c.config.markers.size],c.globals.markers.size.length>0){if(c.globals.markers.size.length<c.globals.series.length+1)for(var h=0;h<=c.globals.series.length;h++)void 0===c.globals.markers.size[h]&&c.globals.markers.size.push(c.globals.markers.size[0])}else c.globals.markers.size=c.config.series.map(function(v){return c.config.markers.size})}},{key:"plotChartMarkers",value:function(c,h,v,_){var A,P=arguments.length>4&&void 0!==arguments[4]&&arguments[4],E=this.w,F=h,W=c,K=null,J=new ot(this.ctx);if((E.globals.markers.size[h]>0||P)&&(K=J.group({class:P?"":"apexcharts-series-markers"})).attr("clip-path","url(#gridRectMarkerMask".concat(E.globals.cuid,")")),Array.isArray(W.x))for(var ct=0;ct<W.x.length;ct++){var yt=v;1===v&&0===ct&&(yt=0),1===v&&1===ct&&(yt=1);var Vt="apexcharts-marker";"line"!==E.config.chart.type&&"area"!==E.config.chart.type||E.globals.comboCharts||E.config.tooltip.intersect||(Vt+=" no-pointer-events");var Ht=Array.isArray(E.config.markers.size)?E.globals.markers.size[h]>0:E.config.markers.size>0;if(Ht||P){lt.isNumber(W.y[ct])?Vt+=" w".concat(lt.randomId()):Vt="apexcharts-nullpoint";var qt=this.getMarkerConfig({cssClass:Vt,seriesIndex:h,dataPointIndex:yt});E.config.series[F].data[yt]&&(E.config.series[F].data[yt].fillColor&&(qt.pointFillColor=E.config.series[F].data[yt].fillColor),E.config.series[F].data[yt].strokeColor&&(qt.pointStrokeColor=E.config.series[F].data[yt].strokeColor)),_&&(qt.pSize=_),(A=J.drawMarker(W.x[ct],W.y[ct],qt)).attr("rel",yt),A.attr("j",yt),A.attr("index",h),A.node.setAttribute("default-marker-size",qt.pSize);var le=new xt(this.ctx);le.setSelectionFilter(A,h,yt),this.addEvents(A),K&&K.add(A)}else void 0===E.globals.pointsArray[h]&&(E.globals.pointsArray[h]=[]),E.globals.pointsArray[h].push([W.x[ct],W.y[ct]])}return K}},{key:"getMarkerConfig",value:function(c){var h=c.cssClass,v=c.seriesIndex,_=c.dataPointIndex,A=void 0===_?null:_,P=c.finishRadius,E=void 0===P?null:P,F=this.w,W=this.getMarkerStyle(v),K=F.globals.markers.size[v],J=F.config.markers;return null!==A&&J.discrete.length&&J.discrete.map(function(ct){ct.seriesIndex===v&&ct.dataPointIndex===A&&(W.pointStrokeColor=ct.strokeColor,W.pointFillColor=ct.fillColor,K=ct.size,W.pointShape=ct.shape)}),{pSize:null===E?K:E,pRadius:J.radius,width:Array.isArray(J.width)?J.width[v]:J.width,height:Array.isArray(J.height)?J.height[v]:J.height,pointStrokeWidth:Array.isArray(J.strokeWidth)?J.strokeWidth[v]:J.strokeWidth,pointStrokeColor:W.pointStrokeColor,pointFillColor:W.pointFillColor,shape:W.pointShape||(Array.isArray(J.shape)?J.shape[v]:J.shape),class:h,pointStrokeOpacity:Array.isArray(J.strokeOpacity)?J.strokeOpacity[v]:J.strokeOpacity,pointStrokeDashArray:Array.isArray(J.strokeDashArray)?J.strokeDashArray[v]:J.strokeDashArray,pointFillOpacity:Array.isArray(J.fillOpacity)?J.fillOpacity[v]:J.fillOpacity,seriesIndex:v}}},{key:"addEvents",value:function(c){var h=this.w,v=new ot(this.ctx);c.node.addEventListener("mouseenter",v.pathMouseEnter.bind(this.ctx,c)),c.node.addEventListener("mouseleave",v.pathMouseLeave.bind(this.ctx,c)),c.node.addEventListener("mousedown",v.pathMouseDown.bind(this.ctx,c)),c.node.addEventListener("click",h.config.markers.onClick),c.node.addEventListener("dblclick",h.config.markers.onDblClick),c.node.addEventListener("touchstart",v.pathMouseDown.bind(this.ctx,c),{passive:!0})}},{key:"getMarkerStyle",value:function(c){var h=this.w,v=h.globals.markers.colors,_=h.config.markers.strokeColor||h.config.markers.strokeColors;return{pointStrokeColor:Array.isArray(_)?_[c]:_,pointFillColor:Array.isArray(v)?v[c]:v}}}]),ae}(),Pe=function(){function ae(c){$t(this,ae),this.ctx=c,this.w=c.w,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled}return ee(ae,[{key:"draw",value:function(c,h,v){var _=this.w,A=new ot(this.ctx),P=v.realIndex,E=v.pointsPos,F=v.zRatio,W=v.elParent,K=A.group({class:"apexcharts-series-markers apexcharts-series-".concat(_.config.chart.type)});if(K.attr("clip-path","url(#gridRectMarkerMask".concat(_.globals.cuid,")")),Array.isArray(E.x))for(var J=0;J<E.x.length;J++){var ct=h+1,yt=!0;0===h&&0===J&&(ct=0),0===h&&1===J&&(ct=1);var Vt=0,Ht=_.globals.markers.size[P];if(F!==1/0){Ht=_.globals.seriesZ[P][ct]/F;var qt=_.config.plotOptions.bubble;qt.minBubbleRadius&&Ht<qt.minBubbleRadius&&(Ht=qt.minBubbleRadius),qt.maxBubbleRadius&&Ht>qt.maxBubbleRadius&&(Ht=qt.maxBubbleRadius)}_.config.chart.animations.enabled||(Vt=Ht);var me=E.y[J];if(Vt=Vt||0,null!==me&&void 0!==_.globals.series[P][ct]||(yt=!1),yt){var De=this.drawPoint(E.x[J],me,Vt,Ht,P,ct,h);K.add(De)}W.add(K)}}},{key:"drawPoint",value:function(c,h,v,_,A,P,E){var F=this.w,W=A,K=new _t(this.ctx),J=new xt(this.ctx),ct=new Dt(this.ctx),yt=new se(this.ctx),Vt=new ot(this.ctx),Ht=yt.getMarkerConfig({cssClass:"apexcharts-marker",seriesIndex:W,dataPointIndex:P,finishRadius:"bubble"===F.config.chart.type||F.globals.comboCharts&&F.config.series[A]&&"bubble"===F.config.series[A].type?_:null});_=Ht.pSize;var qt,le=ct.fillPath({seriesNumber:A,dataPointIndex:P,color:Ht.pointFillColor,patternUnits:"objectBoundingBox",value:F.globals.series[A][E]});if("circle"===Ht.shape?qt=Vt.drawCircle(v):"square"!==Ht.shape&&"rect"!==Ht.shape||(qt=Vt.drawRect(0,0,Ht.width-Ht.pointStrokeWidth/2,Ht.height-Ht.pointStrokeWidth/2,Ht.pRadius)),F.config.series[W].data[P]&&F.config.series[W].data[P].fillColor&&(le=F.config.series[W].data[P].fillColor),qt.attr({x:c-Ht.width/2-Ht.pointStrokeWidth/2,y:h-Ht.height/2-Ht.pointStrokeWidth/2,cx:c,cy:h,fill:le,"fill-opacity":Ht.pointFillOpacity,stroke:Ht.pointStrokeColor,r:_,"stroke-width":Ht.pointStrokeWidth,"stroke-dasharray":Ht.pointStrokeDashArray,"stroke-opacity":Ht.pointStrokeOpacity}),F.config.chart.dropShadow.enabled&&J.dropShadow(qt,F.config.chart.dropShadow,A),!this.initialAnim||F.globals.dataChanged||F.globals.resized?F.globals.animationEnded=!0:K.animateMarker(qt,0,"circle"===Ht.shape?_:{width:Ht.width,height:Ht.height},F.config.chart.animations.speed,F.globals.easing,function(){window.setTimeout(function(){K.animationCompleted(qt)},100)}),F.globals.dataChanged&&"circle"===Ht.shape)if(this.dynamicAnim){var j,ut,Zt,he,Ue=F.config.chart.animations.dynamicAnimation.speed;null!=(he=F.globals.previousPaths[A]&&F.globals.previousPaths[A][E])&&(j=he.x,ut=he.y,Zt=void 0!==he.r?he.r:_);for(var kn=0;kn<F.globals.collapsedSeries.length;kn++)F.globals.collapsedSeries[kn].index===A&&(Ue=1,_=0);0===c&&0===h&&(_=0),K.animateCircle(qt,{cx:j,cy:ut,r:Zt},{cx:c,cy:h,r:_},Ue,F.globals.easing)}else qt.attr({r:_});return qt.attr({rel:P,j:P,index:A,"default-marker-size":_}),J.setSelectionFilter(qt,A,P),yt.addEvents(qt),qt.node.classList.add("apexcharts-marker"),qt}},{key:"centerTextInBubble",value:function(c){return{y:c+=parseInt(this.w.config.dataLabels.style.fontSize,10)/4}}}]),ae}(),Ne=function(){function ae(c){$t(this,ae),this.ctx=c,this.w=c.w}return ee(ae,[{key:"dataLabelsCorrection",value:function(c,h,v,_,A,P,E){var F=this.w,W=!1,K=new ot(this.ctx).getTextRects(v,E),J=K.width,ct=K.height;if(h<0&&(h=0),h>F.globals.gridHeight+ct&&(h=F.globals.gridHeight+ct/2),void 0===F.globals.dataLabelsRects[_]&&(F.globals.dataLabelsRects[_]=[]),F.globals.dataLabelsRects[_].push({x:c,y:h,width:J,height:ct}),void 0!==F.globals.dataLabelsRects[_][F.globals.dataLabelsRects[_].length-2]){var Ht=F.globals.dataLabelsRects[_][void 0!==F.globals.lastDrawnDataLabelsIndexes[_]?F.globals.lastDrawnDataLabelsIndexes[_][F.globals.lastDrawnDataLabelsIndexes[_].length-1]:0];(c>Ht.x+Ht.width+2||h>Ht.y+Ht.height+2||c+J<Ht.x)&&(W=!0)}return(0===A||P)&&(W=!0),{x:c,y:h,textRects:K,drawnextLabel:W}}},{key:"drawDataLabel",value:function(c,h,v){var _=this,A=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2,P=this.w,E=new ot(this.ctx),F=P.config.dataLabels,W=0,K=0,J=v,ct=null;if(!F.enabled||!Array.isArray(c.x))return ct;ct=E.group({class:"apexcharts-data-labels"});for(var yt=0;yt<c.x.length;yt++)if(W=c.x[yt]+F.offsetX,K=c.y[yt]+F.offsetY+A,!isNaN(W)){1===v&&0===yt&&(J=0),1===v&&1===yt&&(J=1);var Vt=P.globals.series[h][J],Ht="",qt=function(De){return P.config.dataLabels.formatter(De,{ctx:_.ctx,seriesIndex:h,dataPointIndex:J,w:P})};if("bubble"===P.config.chart.type){Ht=qt(Vt=P.globals.seriesZ[h][J]),K=c.y[yt];var le=new Pe(this.ctx),me=le.centerTextInBubble(K,h,J);K=me.y}else void 0!==Vt&&(Ht=qt(Vt));this.plotDataLabelsText({x:W,y:K,text:Ht,i:h,j:J,parent:ct,offsetCorrection:!0,dataLabelsConfig:P.config.dataLabels})}return ct}},{key:"plotDataLabelsText",value:function(c){var h=this.w,v=new ot(this.ctx),_=c.x,A=c.y,P=c.i,E=c.j,F=c.text,W=c.textAnchor,K=c.fontSize,J=c.parent,ct=c.dataLabelsConfig,yt=c.color,Vt=c.alwaysDrawDataLabel,Ht=c.offsetCorrection;if(!(Array.isArray(h.config.dataLabels.enabledOnSeries)&&h.config.dataLabels.enabledOnSeries.indexOf(P)<0)){var qt={x:_,y:A,drawnextLabel:!0};Ht&&(qt=this.dataLabelsCorrection(_,A,F,P,E,Vt,parseInt(ct.style.fontSize,10))),h.globals.zoomed||(_=qt.x,A=qt.y),qt.textRects&&(_<-10-qt.textRects.width||_>h.globals.gridWidth+qt.textRects.width+10)&&(F="");var le=h.globals.dataLabels.style.colors[P];(("bar"===h.config.chart.type||"rangeBar"===h.config.chart.type)&&h.config.plotOptions.bar.distributed||h.config.dataLabels.distributed)&&(le=h.globals.dataLabels.style.colors[E]),"function"==typeof le&&(le=le({series:h.globals.series,seriesIndex:P,dataPointIndex:E,w:h})),yt&&(le=yt);var me=ct.offsetX,De=ct.offsetY;if("bar"!==h.config.chart.type&&"rangeBar"!==h.config.chart.type||(me=0,De=0),qt.drawnextLabel){var j=v.drawText({width:100,height:parseInt(ct.style.fontSize,10),x:_+me,y:A+De,foreColor:le,textAnchor:W||ct.textAnchor,text:F,fontSize:K||ct.style.fontSize,fontFamily:ct.style.fontFamily,fontWeight:ct.style.fontWeight||"normal"});if(j.attr({class:"apexcharts-datalabel",cx:_,cy:A}),ct.dropShadow.enabled){var ut=ct.dropShadow;new xt(this.ctx).dropShadow(j,ut)}J.add(j),void 0===h.globals.lastDrawnDataLabelsIndexes[P]&&(h.globals.lastDrawnDataLabelsIndexes[P]=[]),h.globals.lastDrawnDataLabelsIndexes[P].push(E)}}}},{key:"addBackgroundToDataLabel",value:function(c,h){var v=this.w,_=v.config.dataLabels.background,A=_.padding,P=_.padding/2,E=h.width,F=h.height,W=new ot(this.ctx).drawRect(h.x-A,h.y-P/2,E+2*A,F+P,_.borderRadius,"transparent"===v.config.chart.background?"#fff":v.config.chart.background,_.opacity,_.borderWidth,_.borderColor);return _.dropShadow.enabled&&new xt(this.ctx).dropShadow(W,_.dropShadow),W}},{key:"dataLabelsBackground",value:function(){var c=this.w;if("bubble"!==c.config.chart.type)for(var h=c.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels text"),v=0;v<h.length;v++){var _=h[v],A=_.getBBox(),P=null;if(A.width&&A.height&&(P=this.addBackgroundToDataLabel(_,A)),P){_.parentNode.insertBefore(P.node,_);var E=_.getAttribute("fill");!c.config.chart.animations.enabled||c.globals.resized||c.globals.dataChanged?P.attr({fill:E}):P.animate().attr({fill:E}),_.setAttribute("fill",c.config.dataLabels.background.foreColor)}}}},{key:"bringForward",value:function(){for(var c=this.w,h=c.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels"),v=c.globals.dom.baseEl.querySelector(".apexcharts-plot-series:last-child"),_=0;_<h.length;_++)v&&v.insertBefore(h[_],v.nextSibling)}}]),ae}(),tn=function(){function ae(c){$t(this,ae),this.w=c.w,this.barCtx=c}return ee(ae,[{key:"handleBarDataLabels",value:function(c){var h=c.x,v=c.y,_=c.y1,A=c.y2,P=c.i,E=c.j,F=c.realIndex,W=c.series,K=c.barHeight,J=c.barWidth,ct=c.barYPosition,yt=c.visibleSeries,Vt=c.renderedPath,Ht=this.w,qt=new ot(this.barCtx.ctx),le=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[F]:this.barCtx.strokeWidth,me=h+parseFloat(J*yt),De=v+parseFloat(K*yt);Ht.globals.isXNumeric&&!Ht.globals.isBarHorizontal&&(me=h+parseFloat(J*(yt+1)),De=v+parseFloat(K*(yt+1))-le);var Zt,j=h,ut=v,he=Ht.config.dataLabels,Ue=this.barCtx.barOptions.dataLabels;void 0!==ct&&this.barCtx.isRangeBar&&(De=ct,ut=ct);var kn=he.offsetX,rn=he.offsetY,Kn={width:0,height:0};Ht.config.dataLabels.enabled&&(Kn=qt.getTextRects(Ht.globals.yLabelFormatters[0](this.barCtx.series[P][E]),parseFloat(he.style.fontSize)));var ai={x:h,y:v,i:P,j:E,renderedPath:Vt,bcx:me,bcy:De,barHeight:K,barWidth:J,textRects:Kn,strokeWidth:le,dataLabelsX:j,dataLabelsY:ut,barDataLabelsConfig:Ue,offX:kn,offY:rn};return Zt=this.barCtx.isHorizontal?this.calculateBarsDataLabelsPosition(ai):this.calculateColumnsDataLabelsPosition(ai),Vt.attr({cy:Zt.bcy,cx:Zt.bcx,j:E,val:W[P][E],barHeight:K,barWidth:J}),this.drawCalculatedDataLabels({x:Zt.dataLabelsX,y:Zt.dataLabelsY,val:this.barCtx.isRangeBar?[_,A]:W[P][E],i:F,j:E,barWidth:J,barHeight:K,textRects:Kn,dataLabelsConfig:he})}},{key:"calculateColumnsDataLabelsPosition",value:function(c){var h,v=this.w,_=c.i,A=c.j,P=c.y,E=c.bcx,F=c.barWidth,W=c.barHeight,K=c.textRects,J=c.dataLabelsY,ct=c.barDataLabelsConfig,yt=c.strokeWidth,Vt=c.offX,Ht=c.offY;W=Math.abs(W);var qt="vertical"===v.config.plotOptions.bar.dataLabels.orientation;E-=yt/2,h=v.globals.isXNumeric?E-F/2+Vt:E-v.globals.gridWidth/v.globals.dataPoints+F/2+Vt,qt&&(h=h+K.height/2-yt/2-2);var me=this.barCtx.series[_][A]<0,De=P;switch(this.barCtx.isReversed&&(De=P-W+(me?2*W:0),P-=W),ct.position){case"center":J=qt?me?De+W/2+Ht:De+W/2-Ht:me?De-W/2+K.height/2+Ht:De+W/2+K.height/2-Ht;break;case"bottom":J=qt?me?De+W+Ht:De+W-Ht:me?De-W+K.height+yt+Ht:De+W-K.height/2+yt-Ht;break;case"top":J=qt?me?De+Ht:De-Ht:me?De-K.height/2-Ht:De+K.height+Ht}return v.config.chart.stacked||(J<0?J=0+yt:J+K.height/3>v.globals.gridHeight&&(J=v.globals.gridHeight-yt)),{bcx:E,bcy:P,dataLabelsX:h,dataLabelsY:J}}},{key:"calculateBarsDataLabelsPosition",value:function(c){var h=this.w,v=c.x,_=c.i,A=c.j,P=c.bcy,E=c.barHeight,F=c.barWidth,W=c.textRects,K=c.dataLabelsX,J=c.strokeWidth,ct=c.barDataLabelsConfig,yt=c.offX,Vt=c.offY,Ht=h.globals.gridHeight/h.globals.dataPoints;F=Math.abs(F);var qt=P-(this.barCtx.isRangeBar?0:Ht)+E/2+W.height/2+Vt-3,le=this.barCtx.series[_][A]<0,me=v;switch(this.barCtx.isReversed&&(me=v+F-(le?2*F:0),v=h.globals.gridWidth-F),ct.position){case"center":K=le?me+F/2-yt:Math.max(W.width/2,me-F/2)+yt;break;case"bottom":K=le?me+F-J-Math.round(W.width/2)-yt:me-F+J+Math.round(W.width/2)+yt;break;case"top":K=le?me-J+Math.round(W.width/2)-yt:me-J-Math.round(W.width/2)+yt}return h.config.chart.stacked||(K<0?K=K+W.width+J:K+W.width/2>h.globals.gridWidth&&(K=h.globals.gridWidth-W.width-J)),{bcx:v,bcy:P,dataLabelsX:K,dataLabelsY:qt}}},{key:"drawCalculatedDataLabels",value:function(c){var h=c.x,v=c.y,_=c.val,A=c.i,P=c.j,E=c.textRects,F=c.barHeight,W=c.barWidth,K=c.dataLabelsConfig,J=this.w,ct="rotate(0)";"vertical"===J.config.plotOptions.bar.dataLabels.orientation&&(ct="rotate(-90, ".concat(h,", ").concat(v,")"));var yt=new Ne(this.barCtx.ctx),Vt=new ot(this.barCtx.ctx),Ht=K.formatter,qt=null,le=J.globals.collapsedSeriesIndices.indexOf(A)>-1;if(K.enabled&&!le){qt=Vt.group({class:"apexcharts-data-labels",transform:ct});var me="";void 0!==_&&(me=Ht(_,{seriesIndex:A,dataPointIndex:P,w:J}));var De=J.globals.series[A][P]<0,j=J.config.plotOptions.bar.dataLabels.position;"vertical"===J.config.plotOptions.bar.dataLabels.orientation&&("top"===j&&(K.textAnchor=De?"end":"start"),"center"===j&&(K.textAnchor="middle"),"bottom"===j&&(K.textAnchor=De?"end":"start")),this.barCtx.isRangeBar&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&W<Vt.getTextRects(me,parseFloat(K.style.fontSize)).width&&(me=""),J.config.chart.stacked&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&(this.barCtx.isHorizontal?E.width/1.6>Math.abs(W)&&(me=""):E.height/1.6>Math.abs(F)&&(me=""));var ut=Wt({},K);this.barCtx.isHorizontal&&_<0&&("start"===K.textAnchor?ut.textAnchor="end":"end"===K.textAnchor&&(ut.textAnchor="start")),yt.plotDataLabelsText({x:h,y:v,text:me,i:A,j:P,parent:qt,dataLabelsConfig:ut,alwaysDrawDataLabel:!0,offsetCorrection:!0})}return qt}}]),ae}(),on=function(){function ae(c){$t(this,ae),this.ctx=c,this.w=c.w,this.legendInactiveClass="legend-mouseover-inactive"}return ee(ae,[{key:"getAllSeriesEls",value:function(){return this.w.globals.dom.baseEl.getElementsByClassName("apexcharts-series")}},{key:"getSeriesByName",value:function(c){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner .apexcharts-series[seriesName='".concat(lt.escapeString(c),"']"))}},{key:"isSeriesHidden",value:function(c){var h=this.getSeriesByName(c),v=parseInt(h.getAttribute("data:realIndex"),10);return{isHidden:h.classList.contains("apexcharts-series-collapsed"),realIndex:v}}},{key:"addCollapsedClassToSeries",value:function(c,h){var v=this.w;function _(A){for(var P=0;P<A.length;P++)A[P].index===h&&c.node.classList.add("apexcharts-series-collapsed")}_(v.globals.collapsedSeries),_(v.globals.ancillaryCollapsedSeries)}},{key:"toggleSeries",value:function(c){var h=this.isSeriesHidden(c);return this.ctx.legend.legendHelpers.toggleDataSeries(h.realIndex,h.isHidden),h.isHidden}},{key:"showSeries",value:function(c){var h=this.isSeriesHidden(c);h.isHidden&&this.ctx.legend.legendHelpers.toggleDataSeries(h.realIndex,!0)}},{key:"hideSeries",value:function(c){var h=this.isSeriesHidden(c);h.isHidden||this.ctx.legend.legendHelpers.toggleDataSeries(h.realIndex,!1)}},{key:"resetSeries",value:function(){var c=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],h=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],v=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],_=this.w,A=lt.clone(_.globals.initialSeries);_.globals.previousPaths=[],v?(_.globals.collapsedSeries=[],_.globals.ancillaryCollapsedSeries=[],_.globals.collapsedSeriesIndices=[],_.globals.ancillaryCollapsedSeriesIndices=[]):A=this.emptyCollapsedSeries(A),_.config.series=A,c&&(h&&(_.globals.zoomed=!1,this.ctx.updateHelpers.revertDefaultAxisMinMax()),this.ctx.updateHelpers._updateSeries(A,_.config.chart.animations.dynamicAnimation.enabled))}},{key:"emptyCollapsedSeries",value:function(c){for(var h=this.w,v=0;v<c.length;v++)h.globals.collapsedSeriesIndices.indexOf(v)>-1&&(c[v].data=[]);return c}},{key:"toggleSeriesOnHover",value:function(c,h){var v=this.w;h||(h=c.target);var _=v.globals.dom.baseEl.querySelectorAll(".apexcharts-series, .apexcharts-datalabels");if("mousemove"===c.type){var A=parseInt(h.getAttribute("rel"),10)-1,P=null,E=null;v.globals.axisCharts||"radialBar"===v.config.chart.type?v.globals.axisCharts?(P=v.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(A,"']")),E=v.globals.dom.baseEl.querySelector(".apexcharts-datalabels[data\\:realIndex='".concat(A,"']"))):P=v.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(A+1,"']")):P=v.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(A+1,"'] path"));for(var F=0;F<_.length;F++)_[F].classList.add(this.legendInactiveClass);null!==P&&(v.globals.axisCharts||P.parentNode.classList.remove(this.legendInactiveClass),P.classList.remove(this.legendInactiveClass),null!==E&&E.classList.remove(this.legendInactiveClass))}else if("mouseout"===c.type)for(var W=0;W<_.length;W++)_[W].classList.remove(this.legendInactiveClass)}},{key:"highlightRangeInSeries",value:function(c,h){var v=this,_=this.w,A=_.globals.dom.baseEl.getElementsByClassName("apexcharts-heatmap-rect"),P=function(F){for(var W=0;W<A.length;W++)A[W].classList[F](v.legendInactiveClass)};if("mousemove"===c.type){var E=parseInt(h.getAttribute("rel"),10)-1;P("add"),function(F){for(var W=0;W<A.length;W++){var K=parseInt(A[W].getAttribute("val"),10);K>=F.from&&K<=F.to&&A[W].classList.remove(v.legendInactiveClass)}}(_.config.plotOptions.heatmap.colorScale.ranges[E])}else"mouseout"===c.type&&P("remove")}},{key:"getActiveConfigSeriesIndex",value:function(){var c=arguments.length>0&&void 0!==arguments[0]&&arguments[0],h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",v=this.w,_=0;if(v.config.series.length>1)for(var A=v.config.series.map(function(E,F){var W=!1;return c&&(W="bar"===v.config.series[F].type||"column"===v.config.series[F].type),E.data&&E.data.length>0&&!W?F:-1}),P="asc"===h?0:A.length-1;"asc"===h?P<A.length:P>=0;"asc"===h?P++:P--)if(-1!==A[P]){_=A[P];break}return _}},{key:"getPreviousPaths",value:function(){var c=this.w;function h(P,E,F){for(var W=P[E].childNodes,K={type:F,paths:[],realIndex:P[E].getAttribute("data:realIndex")},J=0;J<W.length;J++)if(W[J].hasAttribute("pathTo")){var ct=W[J].getAttribute("pathTo");K.paths.push({d:ct})}c.globals.previousPaths.push(K)}c.globals.previousPaths=[],["line","area","bar","rangebar","candlestick","radar"].forEach(function(P){for(var F=c.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(P,"-series .apexcharts-series")),W=0;W<F.length;W++)h(F,W,P)}),this.handlePrevBubbleScatterPaths("bubble"),this.handlePrevBubbleScatterPaths("scatter");var v=c.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(c.config.chart.type," .apexcharts-series"));if(v.length>0)for(var _=function(P){for(var E=c.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(c.config.chart.type," .apexcharts-series[data\\:realIndex='").concat(P,"'] rect")),F=[],W=function(J){var ct=function(Vt){return E[J].getAttribute(Vt)},yt={x:parseFloat(ct("x")),y:parseFloat(ct("y")),width:parseFloat(ct("width")),height:parseFloat(ct("height"))};F.push({rect:yt,color:E[J].getAttribute("color")})},K=0;K<E.length;K++)W(K);c.globals.previousPaths.push(F)},A=0;A<v.length;A++)_(A);c.globals.axisCharts||(c.globals.previousPaths=c.globals.series)}},{key:"handlePrevBubbleScatterPaths",value:function(c){var h=this.w,v=h.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(c,"-series .apexcharts-series"));if(v.length>0)for(var _=0;_<v.length;_++){for(var A=h.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(c,"-series .apexcharts-series[data\\:realIndex='").concat(_,"'] circle")),P=[],E=0;E<A.length;E++)P.push({x:A[E].getAttribute("cx"),y:A[E].getAttribute("cy"),r:A[E].getAttribute("r")});h.globals.previousPaths.push(P)}}},{key:"clearPreviousPaths",value:function(){var c=this.w;c.globals.previousPaths=[],c.globals.allSeriesCollapsed=!1}},{key:"handleNoData",value:function(){var c=this.w,h=c.config.noData,v=new ot(this.ctx),_=c.globals.svgWidth/2,A=c.globals.svgHeight/2,P="middle";if(c.globals.noData=!0,c.globals.animationEnded=!0,"left"===h.align?(_=10,P="start"):"right"===h.align&&(_=c.globals.svgWidth-10,P="end"),"top"===h.verticalAlign?A=50:"bottom"===h.verticalAlign&&(A=c.globals.svgHeight-50),_+=h.offsetX,A=A+parseInt(h.style.fontSize,10)+2+h.offsetY,void 0!==h.text&&""!==h.text){var E=v.drawText({x:_,y:A,text:h.text,textAnchor:P,fontSize:h.style.fontSize,fontFamily:h.style.fontFamily,foreColor:h.style.color,opacity:1,class:"apexcharts-text-nodata"});c.globals.dom.Paper.add(E)}}},{key:"setNullSeriesToZeroValues",value:function(c){for(var h=this.w,v=0;v<c.length;v++)if(0===c[v].length)for(var _=0;_<c[h.globals.maxValsInArrayIndex].length;_++)c[v].push(0);return c}},{key:"hasAllSeriesEqualX",value:function(){for(var c=!0,h=this.w,v=this.filteredSeriesX(),_=0;_<v.length-1;_++)if(v[_][0]!==v[_+1][0]){c=!1;break}return h.globals.allSeriesHasEqualX=c,c}},{key:"filteredSeriesX",value:function(){return this.w.globals.seriesX.map(function(h){return h.length>0?h:[]})}}]),ae}(),an=function(){function ae(c){$t(this,ae),this.w=c.w,this.barCtx=c}return ee(ae,[{key:"initVariables",value:function(c){var h=this.w;this.barCtx.series=c,this.barCtx.totalItems=0,this.barCtx.seriesLen=0,this.barCtx.visibleI=-1,this.barCtx.visibleItems=1;for(var v=0;v<c.length;v++)if(c[v].length>0&&(this.barCtx.seriesLen=this.barCtx.seriesLen+1,this.barCtx.totalItems+=c[v].length),h.globals.isXNumeric)for(var _=0;_<c[v].length;_++)h.globals.seriesX[v][_]>h.globals.minX&&h.globals.seriesX[v][_]<h.globals.maxX&&this.barCtx.visibleItems++;else this.barCtx.visibleItems=h.globals.dataPoints;0===this.barCtx.seriesLen&&(this.barCtx.seriesLen=1),this.barCtx.zeroSerieses=[],this.barCtx.radiusOnSeriesNumber=c.length-1,h.globals.comboCharts||this.checkZeroSeries({series:c})}},{key:"initialPositions",value:function(){var c,h,v,_,A,P,E,F,W=this.w,K=W.globals.dataPoints;this.barCtx.isRangeBar&&(K=W.globals.labels.length);var J=this.barCtx.seriesLen;if(W.config.plotOptions.bar.rangeBarGroupRows&&(J=1),this.barCtx.isHorizontal)A=(v=W.globals.gridHeight/K)/J,W.globals.isXNumeric&&(A=(v=W.globals.gridHeight/this.barCtx.totalItems)/this.barCtx.seriesLen),A=A*parseInt(this.barCtx.barOptions.barHeight,10)/100,F=this.barCtx.baseLineInvertedY+W.globals.padHorizontal+(this.barCtx.isReversed?W.globals.gridWidth:0)-(this.barCtx.isReversed?2*this.barCtx.baseLineInvertedY:0),h=(v-A*this.barCtx.seriesLen)/2;else{if(_=W.globals.gridWidth/this.barCtx.visibleItems,W.config.xaxis.convertedCatToNumeric&&(_=W.globals.gridWidth/W.globals.dataPoints),P=_/this.barCtx.seriesLen*parseInt(this.barCtx.barOptions.columnWidth,10)/100,W.globals.isXNumeric){var ct=this.barCtx.xRatio;W.config.xaxis.convertedCatToNumeric&&(ct=this.barCtx.initialXRatio),W.globals.minXDiff&&.5!==W.globals.minXDiff&&W.globals.minXDiff/ct>0&&(_=W.globals.minXDiff/ct),(P=_/this.barCtx.seriesLen*parseInt(this.barCtx.barOptions.columnWidth,10)/100)<1&&(P=1)}E=W.globals.gridHeight-this.barCtx.baseLineY[this.barCtx.yaxisIndex]-(this.barCtx.isReversed?W.globals.gridHeight:0)+(this.barCtx.isReversed?2*this.barCtx.baseLineY[this.barCtx.yaxisIndex]:0),c=W.globals.padHorizontal+(_-P*this.barCtx.seriesLen)/2}return{x:c,y:h,yDivision:v,xDivision:_,barHeight:A,barWidth:P,zeroH:E,zeroW:F}}},{key:"getPathFillColor",value:function(c,h,v,_){var A=this.w,P=new Dt(this.barCtx.ctx),E=null,F=this.barCtx.barOptions.distributed?v:h;return this.barCtx.barOptions.colors.ranges.length>0&&this.barCtx.barOptions.colors.ranges.map(function(W){c[h][v]>=W.from&&c[h][v]<=W.to&&(E=W.color)}),A.config.series[h].data[v]&&A.config.series[h].data[v].fillColor&&(E=A.config.series[h].data[v].fillColor),P.fillPath({seriesNumber:this.barCtx.barOptions.distributed?F:_,dataPointIndex:v,color:E,value:c[h][v]})}},{key:"getStrokeWidth",value:function(c,h,v){var _=0,A=this.w;return this.barCtx.isNullValue=null==this.barCtx.series[c][h],A.config.stroke.show&&(this.barCtx.isNullValue||(_=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[v]:this.barCtx.strokeWidth)),_}},{key:"barBackground",value:function(c){var h=c.j,v=c.i,_=c.x1,A=c.x2,P=c.y1,E=c.y2,F=c.elSeries,W=this.w,K=new ot(this.barCtx.ctx),J=new on(this.barCtx.ctx).getActiveConfigSeriesIndex();if(this.barCtx.barOptions.colors.backgroundBarColors.length>0&&J===v){h>=this.barCtx.barOptions.colors.backgroundBarColors.length&&(h-=this.barCtx.barOptions.colors.backgroundBarColors.length);var yt=K.drawRect(void 0!==_?_:0,void 0!==P?P:0,void 0!==A?A:W.globals.gridWidth,void 0!==E?E:W.globals.gridHeight,this.barCtx.barOptions.colors.backgroundBarRadius,this.barCtx.barOptions.colors.backgroundBarColors[h],this.barCtx.barOptions.colors.backgroundBarOpacity);F.add(yt),yt.node.classList.add("apexcharts-backgroundBar")}}},{key:"getColumnPaths",value:function(c){var h=c.barWidth,v=c.barXPosition,_=c.yRatio,A=c.y1,P=c.y2,E=c.strokeWidth,F=c.series,W=c.realIndex,K=c.i,J=c.j,ct=c.w,yt=new ot(this.barCtx.ctx);(E=Array.isArray(E)?E[W]:E)||(E=0);var Ht=this.getRoundedBars(ct,{barWidth:h,strokeWidth:E,yRatio:_,barXPosition:v,y1:A,y2:P},F,K,J),qt=v,le=v+h,me=yt.move(qt,A),De=yt.move(qt,A),j=yt.line(le-E,A);return ct.globals.previousPaths.length>0&&(De=this.barCtx.getPreviousPath(W,J,!1)),me=me+yt.line(qt,Ht.y2)+Ht.pathWithRadius+yt.line(le-E,Ht.y2)+j+j+"z",De=De+yt.line(qt,A)+j+j+j+j+j+yt.line(qt,A),ct.config.chart.stacked&&(this.barCtx.yArrj.push(Ht.y2),this.barCtx.yArrjF.push(Math.abs(A-Ht.y2)),this.barCtx.yArrjVal.push(this.barCtx.series[K][J])),{pathTo:me,pathFrom:De}}},{key:"getBarpaths",value:function(c){var h=c.barYPosition,v=c.barHeight,_=c.x1,A=c.x2,P=c.strokeWidth,E=c.series,F=c.realIndex,W=c.i,K=c.j,J=c.w,ct=new ot(this.barCtx.ctx);(P=Array.isArray(P)?P[F]:P)||(P=0);var Vt=this.getRoundedBars(J,{barHeight:v,strokeWidth:P,barYPosition:h,x2:A,x1:_},E,W,K),Ht=ct.move(_,h),qt=ct.move(_,h);J.globals.previousPaths.length>0&&(qt=this.barCtx.getPreviousPath(F,K,!1));var le=h,me=h+v,De=ct.line(_,me-P);return Ht=Ht+ct.line(Vt.x2,le)+Vt.pathWithRadius+ct.line(Vt.x2,me-P)+De+De+"z",qt=qt+ct.line(_,le)+De+De+De+De+De+ct.line(_,le),J.config.chart.stacked&&(this.barCtx.xArrj.push(Vt.x2),this.barCtx.xArrjF.push(Math.abs(_-Vt.x2)),this.barCtx.xArrjVal.push(this.barCtx.series[W][K])),{pathTo:Ht,pathFrom:qt}}},{key:"getRoundedBars",value:function(c,h,v,_,A){var P=new ot(this.barCtx.ctx),E=0,F=c.config.plotOptions.bar.borderRadius,W=Array.isArray(F);if(E=W?F[_>F.length-1?F.length-1:_]:F,c.config.chart.stacked&&v.length>1&&_!==this.barCtx.radiusOnSeriesNumber&&!W&&(E=0),this.barCtx.isHorizontal){var K="",J=h.x2;if(Math.abs(h.x1-h.x2)<E&&(E=Math.abs(h.x1-h.x2)),void 0!==v[_][A]||null!==v[_][A]){var ct=this.barCtx.isReversed?v[_][A]>0:v[_][A]<0;ct&&(E*=-1),K=P.quadraticCurve((J-=E)+E,h.barYPosition,J+E,h.barYPosition+(ct?-1*E:E))+P.line(J+E,h.barYPosition+h.barHeight-h.strokeWidth-(ct?-1*E:E))+P.quadraticCurve(J+E,h.barYPosition+h.barHeight-h.strokeWidth,J,h.barYPosition+h.barHeight-h.strokeWidth)}return{pathWithRadius:K,x2:J}}var yt="",Vt=h.y2;if(Math.abs(h.y1-h.y2)<E&&(E=Math.abs(h.y1-h.y2)),void 0!==v[_][A]||null!==v[_][A]){var Ht=v[_][A]<0;Ht&&(E*=-1),yt=P.quadraticCurve(h.barXPosition,(Vt+=E)-E,h.barXPosition+(Ht?-1*E:E),Vt-E)+P.line(h.barXPosition+h.barWidth-h.strokeWidth-(Ht?-1*E:E),Vt-E)+P.quadraticCurve(h.barXPosition+h.barWidth-h.strokeWidth,Vt-E,h.barXPosition+h.barWidth-h.strokeWidth,Vt)}return{pathWithRadius:yt,y2:Vt}}},{key:"checkZeroSeries",value:function(c){for(var h=c.series,v=this.w,_=0;_<h.length;_++){for(var A=0,P=0;P<h[v.globals.maxValsInArrayIndex].length;P++)A+=h[_][P];0===A&&this.barCtx.zeroSerieses.push(_)}for(var E=h.length-1;E>=0;E--)this.barCtx.zeroSerieses.indexOf(E)>-1&&E===this.radiusOnSeriesNumber&&(this.barCtx.radiusOnSeriesNumber-=1);for(var F=h.length-1;F>=0;F--)v.globals.collapsedSeriesIndices.indexOf(this.barCtx.radiusOnSeriesNumber)>-1&&(this.barCtx.radiusOnSeriesNumber-=1)}},{key:"getXForValue",value:function(c,h){var v=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],_=v?h:null;return null!=c&&(_=h+c/this.barCtx.invertedYRatio-2*(this.barCtx.isReversed?c/this.barCtx.invertedYRatio:0)),_}},{key:"getYForValue",value:function(c,h){var v=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],_=v?h:null;return null!=c&&(_=h-c/this.barCtx.yRatio[this.barCtx.yaxisIndex]+2*(this.barCtx.isReversed?c/this.barCtx.yRatio[this.barCtx.yaxisIndex]:0)),_}},{key:"getGoalValues",value:function(c,h,v,_,A){var P=this,E=this.w,F=[];return E.globals.seriesGoals[_]&&E.globals.seriesGoals[_][A]&&Array.isArray(E.globals.seriesGoals[_][A])&&E.globals.seriesGoals[_][A].forEach(function(W){var K;F.push((Oe(K={},c,"x"===c?P.getXForValue(W.value,h,!1):P.getYForValue(W.value,v,!1)),Oe(K,"attrs",W),K))}),F}},{key:"drawGoalLine",value:function(c){var h=c.barXPosition,v=c.barYPosition,_=c.goalX,A=c.goalY,P=c.barWidth,E=c.barHeight,F=new ot(this.barCtx.ctx),W=F.group({className:"apexcharts-bar-goals-groups"}),K=null;return this.barCtx.isHorizontal?Array.isArray(_)&&_.forEach(function(J){var ct=void 0!==J.attrs.strokeHeight?J.attrs.strokeHeight:E/2,yt=v+ct+E/2;K=F.drawLine(J.x,yt-2*ct,J.x,yt,J.attrs.strokeColor?J.attrs.strokeColor:void 0,J.attrs.strokeDashArray,J.attrs.strokeWidth?J.attrs.strokeWidth:2,J.attrs.strokeLineCap),W.add(K)}):Array.isArray(A)&&A.forEach(function(J){var ct=void 0!==J.attrs.strokeWidth?J.attrs.strokeWidth:P/2,yt=h+ct+P/2;K=F.drawLine(yt-2*ct,J.y,yt,J.y,J.attrs.strokeColor?J.attrs.strokeColor:void 0,J.attrs.strokeDashArray,J.attrs.strokeHeight?J.attrs.strokeHeight:2,J.attrs.strokeLineCap),W.add(K)}),W}}]),ae}(),mt=function(){function ae(c,h){$t(this,ae),this.ctx=c,this.w=c.w;var v=this.w;this.barOptions=v.config.plotOptions.bar,this.isHorizontal=this.barOptions.horizontal,this.strokeWidth=v.config.stroke.width,this.isNullValue=!1,this.isRangeBar=v.globals.seriesRangeBar.length&&this.isHorizontal,this.xyRatios=h,null!==this.xyRatios&&(this.xRatio=h.xRatio,this.initialXRatio=h.initialXRatio,this.yRatio=h.yRatio,this.invertedXRatio=h.invertedXRatio,this.invertedYRatio=h.invertedYRatio,this.baseLineY=h.baseLineY,this.baseLineInvertedY=h.baseLineInvertedY),this.yaxisIndex=0,this.seriesLen=0,this.barHelpers=new an(this)}return ee(ae,[{key:"draw",value:function(c,h){var v=this.w,_=new ot(this.ctx),A=new Ut(this.ctx,v);c=A.getLogSeries(c),this.series=c,this.yRatio=A.getLogYRatios(this.yRatio),this.barHelpers.initVariables(c);var P=_.group({class:"apexcharts-bar-series apexcharts-plot-series"});v.config.dataLabels.enabled&&this.totalItems>this.barOptions.dataLabels.maxItems&&console.warn("WARNING: DataLabels are enabled but there are too many to display. This may cause performance issue when rendering.");for(var E=0,F=0;E<c.length;E++,F++){var W,K,J,ct,yt=void 0,Vt=void 0,Ht=[],qt=[],le=v.globals.comboCharts?h[E]:E,me=_.group({class:"apexcharts-series",rel:E+1,seriesName:lt.escapeString(v.globals.seriesNames[le]),"data:realIndex":le});this.ctx.series.addCollapsedClassToSeries(me,le),c[E].length>0&&(this.visibleI=this.visibleI+1);var De=0,j=0;this.yRatio.length>1&&(this.yaxisIndex=le),this.isReversed=v.config.yaxis[this.yaxisIndex]&&v.config.yaxis[this.yaxisIndex].reversed;var ut=this.barHelpers.initialPositions();Vt=ut.y,De=ut.barHeight,K=ut.yDivision,ct=ut.zeroW,yt=ut.x,j=ut.barWidth,W=ut.xDivision,J=ut.zeroH,this.horizontal||qt.push(yt+j/2);for(var Zt=_.group({class:"apexcharts-datalabels","data:realIndex":le}),he=_.group({class:"apexcharts-bar-goals-markers",style:"pointer-events: none"}),Ue=0;Ue<v.globals.dataPoints;Ue++){var kn=this.barHelpers.getStrokeWidth(E,Ue,le),rn=null,Kn={indexes:{i:E,j:Ue,realIndex:le,bc:F},x:yt,y:Vt,strokeWidth:kn,elSeries:me};this.isHorizontal?(rn=this.drawBarPaths(Wt(Wt({},Kn),{},{barHeight:De,zeroW:ct,yDivision:K})),j=this.series[E][Ue]/this.invertedYRatio):(rn=this.drawColumnPaths(Wt(Wt({},Kn),{},{xDivision:W,barWidth:j,zeroH:J})),De=this.series[E][Ue]/this.yRatio[this.yaxisIndex]);var zn=this.barHelpers.drawGoalLine({barXPosition:rn.barXPosition,barYPosition:rn.barYPosition,goalX:rn.goalX,goalY:rn.goalY,barHeight:De,barWidth:j});zn&&he.add(zn),Vt=rn.y,yt=rn.x,Ue>0&&qt.push(yt+j/2),Ht.push(Vt);var ai=this.barHelpers.getPathFillColor(c,E,Ue,le);this.renderSeries({realIndex:le,pathFill:ai,j:Ue,i:E,pathFrom:rn.pathFrom,pathTo:rn.pathTo,strokeWidth:kn,elSeries:me,x:yt,y:Vt,series:c,barHeight:De,barWidth:j,elDataLabelsWrap:Zt,elGoalsMarkers:he,visibleSeries:this.visibleI,type:"bar"})}v.globals.seriesXvalues[le]=qt,v.globals.seriesYvalues[le]=Ht,P.add(me)}return P}},{key:"renderSeries",value:function(c){var h=c.realIndex,v=c.pathFill,_=c.lineFill,A=c.j,P=c.i,E=c.pathFrom,F=c.pathTo,W=c.strokeWidth,K=c.elSeries,J=c.x,ct=c.y,yt=c.y1,Vt=c.y2,Ht=c.series,qt=c.barHeight,le=c.barWidth,me=c.barYPosition,De=c.elDataLabelsWrap,j=c.elGoalsMarkers,ut=c.visibleSeries,Zt=c.type,he=this.w,Ue=new ot(this.ctx);_||(_=this.barOptions.distributed?he.globals.stroke.colors[A]:he.globals.stroke.colors[h]),he.config.series[P].data[A]&&he.config.series[P].data[A].strokeColor&&(_=he.config.series[P].data[A].strokeColor),this.isNullValue&&(v="none");var rn=Ue.renderPaths({i:P,j:A,realIndex:h,pathFrom:E,pathTo:F,stroke:_,strokeWidth:W,strokeLineCap:he.config.stroke.lineCap,fill:v,animationDelay:A/he.config.chart.animations.animateGradually.delay*(he.config.chart.animations.speed/he.globals.dataPoints)/2.4,initialSpeed:he.config.chart.animations.speed,dataChangeSpeed:he.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(Zt,"-area")});rn.attr("clip-path","url(#gridRectMask".concat(he.globals.cuid,")"));var Kn=he.config.forecastDataPoints;Kn.count>0&&A>=he.globals.dataPoints-Kn.count&&(rn.node.setAttribute("stroke-dasharray",Kn.dashArray),rn.node.setAttribute("stroke-width",Kn.strokeWidth),rn.node.setAttribute("fill-opacity",Kn.fillOpacity)),void 0!==yt&&void 0!==Vt&&(rn.attr("data-range-y1",yt),rn.attr("data-range-y2",Vt)),new xt(this.ctx).setSelectionFilter(rn,h,A),K.add(rn);var zn=new tn(this).handleBarDataLabels({x:J,y:ct,y1:yt,y2:Vt,i:P,j:A,series:Ht,realIndex:h,barHeight:qt,barWidth:le,barYPosition:me,renderedPath:rn,visibleSeries:ut});return null!==zn&&De.add(zn),K.add(De),j&&K.add(j),K}},{key:"drawBarPaths",value:function(c){var P,h=c.indexes,v=c.barHeight,_=c.strokeWidth,A=c.zeroW,E=c.y,F=c.yDivision,W=c.elSeries,K=this.w,J=h.i,ct=h.j;K.globals.isXNumeric&&(E=(K.globals.seriesX[J][ct]-K.globals.minX)/this.invertedXRatio-v);var yt=E+v*this.visibleI;P=this.barHelpers.getXForValue(this.series[J][ct],A);var Vt=this.barHelpers.getBarpaths({barYPosition:yt,barHeight:v,x1:A,x2:P,strokeWidth:_,series:this.series,realIndex:h.realIndex,i:J,j:ct,w:K});return K.globals.isXNumeric||(E+=F),this.barHelpers.barBackground({j:ct,i:J,y1:yt-v*this.visibleI,y2:v*this.seriesLen,elSeries:W}),{pathTo:Vt.pathTo,pathFrom:Vt.pathFrom,x:P,y:E,goalX:this.barHelpers.getGoalValues("x",A,null,J,ct),barYPosition:yt}}},{key:"drawColumnPaths",value:function(c){var _,h=c.indexes,v=c.x,A=c.xDivision,P=c.barWidth,E=c.zeroH,F=c.strokeWidth,W=c.elSeries,K=this.w,J=h.realIndex,ct=h.i,yt=h.j,Vt=h.bc;if(K.globals.isXNumeric){var Ht=J;K.globals.seriesX[J].length||(Ht=K.globals.maxValsInArrayIndex),v=(K.globals.seriesX[Ht][yt]-K.globals.minX)/this.xRatio-P*this.seriesLen/2}var qt=v+P*this.visibleI;_=this.barHelpers.getYForValue(this.series[ct][yt],E);var le=this.barHelpers.getColumnPaths({barXPosition:qt,barWidth:P,y1:E,y2:_,strokeWidth:F,series:this.series,realIndex:h.realIndex,i:ct,j:yt,w:K});return K.globals.isXNumeric||(v+=A),this.barHelpers.barBackground({bc:Vt,j:yt,i:ct,x1:qt-F/2-P*this.visibleI,x2:P*this.seriesLen+F/2,elSeries:W}),{pathTo:le.pathTo,pathFrom:le.pathFrom,x:v,y:_,goalY:this.barHelpers.getGoalValues("y",null,E,ct,yt),barXPosition:qt}}},{key:"getPreviousPath",value:function(c,h){for(var v,_=this.w,A=0;A<_.globals.previousPaths.length;A++){var P=_.globals.previousPaths[A];P.paths&&P.paths.length>0&&parseInt(P.realIndex,10)===parseInt(c,10)&&void 0!==_.globals.previousPaths[A].paths[h]&&(v=_.globals.previousPaths[A].paths[h].d)}return v}}]),ae}(),zt=function(){function ae(c){$t(this,ae),this.ctx=c,this.w=c.w,this.months31=[1,3,5,7,8,10,12],this.months30=[2,4,6,9,11],this.daysCntOfYear=[0,31,59,90,120,151,181,212,243,273,304,334]}return ee(ae,[{key:"isValidDate",value:function(c){return!isNaN(this.parseDate(c))}},{key:"getTimeStamp",value:function(c){return Date.parse(c)?this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(c).toISOString().substr(0,25)).getTime():new Date(c).getTime():c}},{key:"getDate",value:function(c){return this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(c).toUTCString()):new Date(c)}},{key:"parseDate",value:function(c){var h=Date.parse(c);if(!isNaN(h))return this.getTimeStamp(c);var v=Date.parse(c.replace(/-/g,"/").replace(/[a-z]+/gi," "));return this.getTimeStamp(v)}},{key:"parseDateWithTimezone",value:function(c){return Date.parse(c.replace(/-/g,"/").replace(/[a-z]+/gi," "))}},{key:"formatDate",value:function(c,h){var v=this.w.globals.locale,_=this.w.config.xaxis.labels.datetimeUTC,A=["\0"].concat(St(v.months)),P=["\x01"].concat(St(v.shortMonths)),E=["\x02"].concat(St(v.days)),F=["\x03"].concat(St(v.shortDays));function W(Ue,kn){var rn=Ue+"";for(kn=kn||2;rn.length<kn;)rn="0"+rn;return rn}var K=_?c.getUTCFullYear():c.getFullYear();h=(h=(h=h.replace(/(^|[^\\])yyyy+/g,"$1"+K)).replace(/(^|[^\\])yy/g,"$1"+K.toString().substr(2,2))).replace(/(^|[^\\])y/g,"$1"+K);var J=(_?c.getUTCMonth():c.getMonth())+1;h=(h=(h=(h=h.replace(/(^|[^\\])MMMM+/g,"$1"+A[0])).replace(/(^|[^\\])MMM/g,"$1"+P[0])).replace(/(^|[^\\])MM/g,"$1"+W(J))).replace(/(^|[^\\])M/g,"$1"+J);var ct=_?c.getUTCDate():c.getDate();h=(h=(h=(h=h.replace(/(^|[^\\])dddd+/g,"$1"+E[0])).replace(/(^|[^\\])ddd/g,"$1"+F[0])).replace(/(^|[^\\])dd/g,"$1"+W(ct))).replace(/(^|[^\\])d/g,"$1"+ct);var yt=_?c.getUTCHours():c.getHours(),Vt=yt>12?yt-12:0===yt?12:yt;h=(h=(h=(h=h.replace(/(^|[^\\])HH+/g,"$1"+W(yt))).replace(/(^|[^\\])H/g,"$1"+yt)).replace(/(^|[^\\])hh+/g,"$1"+W(Vt))).replace(/(^|[^\\])h/g,"$1"+Vt);var Ht=_?c.getUTCMinutes():c.getMinutes();h=(h=h.replace(/(^|[^\\])mm+/g,"$1"+W(Ht))).replace(/(^|[^\\])m/g,"$1"+Ht);var qt=_?c.getUTCSeconds():c.getSeconds();h=(h=h.replace(/(^|[^\\])ss+/g,"$1"+W(qt))).replace(/(^|[^\\])s/g,"$1"+qt);var le=_?c.getUTCMilliseconds():c.getMilliseconds();h=h.replace(/(^|[^\\])fff+/g,"$1"+W(le,3)),le=Math.round(le/10),h=h.replace(/(^|[^\\])ff/g,"$1"+W(le)),le=Math.round(le/10);var me=yt<12?"AM":"PM";h=(h=(h=h.replace(/(^|[^\\])f/g,"$1"+le)).replace(/(^|[^\\])TT+/g,"$1"+me)).replace(/(^|[^\\])T/g,"$1"+me.charAt(0));var De=me.toLowerCase();h=(h=h.replace(/(^|[^\\])tt+/g,"$1"+De)).replace(/(^|[^\\])t/g,"$1"+De.charAt(0));var j=-c.getTimezoneOffset(),ut=_||!j?"Z":j>0?"+":"-";if(!_){var Zt=(j=Math.abs(j))%60;ut+=W(Math.floor(j/60))+":"+W(Zt)}h=h.replace(/(^|[^\\])K/g,"$1"+ut);var he=(_?c.getUTCDay():c.getDay())+1;return(h=(h=(h=(h=h.replace(new RegExp(E[0],"g"),E[he])).replace(new RegExp(F[0],"g"),F[he])).replace(new RegExp(A[0],"g"),A[J])).replace(new RegExp(P[0],"g"),P[J])).replace(/\\(.)/g,"$1")}},{key:"getTimeUnitsfromTimestamp",value:function(c,h,v){var _=this.w;void 0!==_.config.xaxis.min&&(c=_.config.xaxis.min),void 0!==_.config.xaxis.max&&(h=_.config.xaxis.max);var A=this.getDate(c),P=this.getDate(h),E=this.formatDate(A,"yyyy MM dd HH mm ss fff").split(" "),F=this.formatDate(P,"yyyy MM dd HH mm ss fff").split(" ");return{minMillisecond:parseInt(E[6],10),maxMillisecond:parseInt(F[6],10),minSecond:parseInt(E[5],10),maxSecond:parseInt(F[5],10),minMinute:parseInt(E[4],10),maxMinute:parseInt(F[4],10),minHour:parseInt(E[3],10),maxHour:parseInt(F[3],10),minDate:parseInt(E[2],10),maxDate:parseInt(F[2],10),minMonth:parseInt(E[1],10)-1,maxMonth:parseInt(F[1],10)-1,minYear:parseInt(E[0],10),maxYear:parseInt(F[0],10)}}},{key:"isLeapYear",value:function(c){return c%4==0&&c%100!=0||c%400==0}},{key:"calculcateLastDaysOfMonth",value:function(c,h,v){return this.determineDaysOfMonths(c,h)-v}},{key:"determineDaysOfYear",value:function(c){var h=365;return this.isLeapYear(c)&&(h=366),h}},{key:"determineRemainingDaysOfYear",value:function(c,h,v){var _=this.daysCntOfYear[h]+v;return h>1&&this.isLeapYear()&&_++,_}},{key:"determineDaysOfMonths",value:function(c,h){var v=30;switch(c=lt.monthMod(c),!0){case this.months30.indexOf(c)>-1:2===c&&(v=this.isLeapYear(h)?29:28);break;case this.months31.indexOf(c)>-1:default:v=31}return v}}]),ae}(),oe=function(ae){Ft(h,ae);var c=ft(h);function h(){return $t(this,h),c.apply(this,arguments)}return ee(h,[{key:"draw",value:function(v,_){var A=this.w,P=new ot(this.ctx);this.rangeBarOptions=this.w.config.plotOptions.rangeBar,this.series=v,this.seriesRangeStart=A.globals.seriesRangeStart,this.seriesRangeEnd=A.globals.seriesRangeEnd,this.barHelpers.initVariables(v);for(var E=P.group({class:"apexcharts-rangebar-series apexcharts-plot-series"}),F=0;F<v.length;F++){var W,K,J,ct=void 0,yt=void 0,Vt=void 0,Ht=A.globals.comboCharts?_[F]:F,qt=P.group({class:"apexcharts-series",seriesName:lt.escapeString(A.globals.seriesNames[Ht]),rel:F+1,"data:realIndex":Ht});this.ctx.series.addCollapsedClassToSeries(qt,Ht),v[F].length>0&&(this.visibleI=this.visibleI+1);var le=0,me=0;this.yRatio.length>1&&(this.yaxisIndex=Ht);var De=this.barHelpers.initialPositions();yt=De.y,J=De.zeroW,ct=De.x,me=De.barWidth,W=De.xDivision,K=De.zeroH;for(var j=P.group({class:"apexcharts-datalabels","data:realIndex":Ht}),ut=P.group({class:"apexcharts-rangebar-goals-markers",style:"pointer-events: none"}),Zt=0;Zt<A.globals.dataPoints;Zt++){var he=this.barHelpers.getStrokeWidth(F,Zt,Ht),Ue=this.seriesRangeStart[F][Zt],kn=this.seriesRangeEnd[F][Zt],rn=null,Kn=null,zn={x:ct,y:yt,strokeWidth:he,elSeries:qt};if(Vt=De.yDivision,le=De.barHeight,this.isHorizontal){Kn=yt+le*this.visibleI;var ai=this.seriesLen;A.config.plotOptions.bar.rangeBarGroupRows&&(ai=1);var Mi=(Vt-le*ai)/2;if(void 0===A.config.series[F].data[Zt])break;if(A.config.series[F].data[Zt].x){var Ki=this.detectOverlappingBars({i:F,j:Zt,barYPosition:Kn,srty:Mi,barHeight:le,yDivision:Vt,initPositions:De});le=Ki.barHeight,Kn=Ki.barYPosition}me=(rn=this.drawRangeBarPaths(Wt({indexes:{i:F,j:Zt,realIndex:Ht},barHeight:le,barYPosition:Kn,zeroW:J,yDivision:Vt,y1:Ue,y2:kn},zn))).barWidth}else le=(rn=this.drawRangeColumnPaths(Wt({indexes:{i:F,j:Zt,realIndex:Ht},zeroH:K,barWidth:me,xDivision:W},zn))).barHeight;var Qi=this.barHelpers.drawGoalLine({barXPosition:rn.barXPosition,barYPosition:Kn,goalX:rn.goalX,goalY:rn.goalY,barHeight:le,barWidth:me});Qi&&ut.add(Qi),yt=rn.y,ct=rn.x;var Ur=this.barHelpers.getPathFillColor(v,F,Zt,Ht);this.renderSeries({realIndex:Ht,pathFill:Ur,lineFill:A.globals.stroke.colors[Ht],j:Zt,i:F,x:ct,y:yt,y1:Ue,y2:kn,pathFrom:rn.pathFrom,pathTo:rn.pathTo,strokeWidth:he,elSeries:qt,series:v,barHeight:le,barYPosition:Kn,barWidth:me,elDataLabelsWrap:j,elGoalsMarkers:ut,visibleSeries:this.visibleI,type:"rangebar"})}E.add(qt)}return E}},{key:"detectOverlappingBars",value:function(v){var _=v.i,A=v.j,P=v.barYPosition,E=v.srty,F=v.barHeight,W=v.yDivision,K=v.initPositions,J=this.w,ct=[],yt=J.config.series[_].data[A].rangeName,Vt=J.config.series[_].data[A].x,Ht=J.globals.labels.indexOf(Vt),qt=J.globals.seriesRangeBar[_].findIndex(function(le){return le.x===Vt&&le.overlaps.length>0});return P=J.config.plotOptions.bar.rangeBarGroupRows?E+W*Ht:E+F*this.visibleI+W*Ht,qt>-1&&!J.config.plotOptions.bar.rangeBarOverlap&&(ct=J.globals.seriesRangeBar[_][qt].overlaps).indexOf(yt)>-1&&(P=(F=K.barHeight/ct.length)*this.visibleI+W*(100-parseInt(this.barOptions.barHeight,10))/100/2+F*(this.visibleI+ct.indexOf(yt))+W*Ht),{barYPosition:P,barHeight:F}}},{key:"drawRangeColumnPaths",value:function(v){var _=v.indexes,A=v.x,P=v.xDivision,E=v.barWidth,F=v.zeroH,W=this.w,K=_.i,J=_.j,ct=this.yRatio[this.yaxisIndex],yt=_.realIndex,Vt=this.getRangeValue(yt,J),Ht=Math.min(Vt.start,Vt.end),qt=Math.max(Vt.start,Vt.end);W.globals.isXNumeric&&(A=(W.globals.seriesX[K][J]-W.globals.minX)/this.xRatio-E/2);var le=A+E*this.visibleI;null==this.series[K][J]?Ht=F:(Ht=F-Ht/ct,qt=F-qt/ct);var me=Math.abs(qt-Ht),De=this.barHelpers.getColumnPaths({barXPosition:le,barWidth:E,y1:Ht,y2:qt,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,realIndex:_.realIndex,i:yt,j:J,w:W});return W.globals.isXNumeric||(A+=P),{pathTo:De.pathTo,pathFrom:De.pathFrom,barHeight:me,x:A,y:qt,goalY:this.barHelpers.getGoalValues("y",null,F,K,J),barXPosition:le}}},{key:"drawRangeBarPaths",value:function(v){var _=v.indexes,A=v.y,F=v.yDivision,W=v.barHeight,K=v.barYPosition,J=v.zeroW,ct=this.w,yt=J+v.y1/this.invertedYRatio,Vt=J+v.y2/this.invertedYRatio,Ht=Math.abs(Vt-yt),qt=this.barHelpers.getBarpaths({barYPosition:K,barHeight:W,x1:yt,x2:Vt,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,i:_.realIndex,realIndex:_.realIndex,j:_.j,w:ct});return ct.globals.isXNumeric||(A+=F),{pathTo:qt.pathTo,pathFrom:qt.pathFrom,barWidth:Ht,x:Vt,goalX:this.barHelpers.getGoalValues("x",J,null,_.realIndex,_.j),y:A}}},{key:"getRangeValue",value:function(v,_){var A=this.w;return{start:A.globals.seriesRangeStart[v][_],end:A.globals.seriesRangeEnd[v][_]}}},{key:"getTooltipValues",value:function(v){var _=v.ctx,A=v.seriesIndex,P=v.dataPointIndex,E=v.y1,F=v.y2,W=v.w,K=W.globals.seriesRangeStart[A][P],J=W.globals.seriesRangeEnd[A][P],ct=W.globals.labels[P],yt=W.config.series[A].name?W.config.series[A].name:"",Vt=W.config.tooltip.y.formatter,Ht=W.config.tooltip.y.title.formatter,qt={w:W,seriesIndex:A,dataPointIndex:P,start:K,end:J};"function"==typeof Ht&&(yt=Ht(yt,qt)),Number.isFinite(E)&&Number.isFinite(F)&&(K=E,J=F,W.config.series[A].data[P].x&&(ct=W.config.series[A].data[P].x+":"),"function"==typeof Vt&&(ct=Vt(ct,qt)));var le="",me="",De=W.globals.colors[A];if(void 0===W.config.tooltip.x.formatter)if("datetime"===W.config.xaxis.type){var j=new zt(_);le=j.formatDate(j.getDate(K),W.config.tooltip.x.format),me=j.formatDate(j.getDate(J),W.config.tooltip.x.format)}else le=K,me=J;else le=W.config.tooltip.x.formatter(K),me=W.config.tooltip.x.formatter(J);return{start:K,end:J,startVal:le,endVal:me,ylabel:ct,color:De,seriesName:yt}}},{key:"buildCustomTooltipHTML",value:function(v){return'<div class="apexcharts-tooltip-rangebar"><div> <span class="series-name" style="color: '+v.color+'">'+(v.seriesName||"")+'</span></div><div> <span class="category">'+v.ylabel+' </span> <span class="value start-value">'+v.start+'</span> <span class="separator">-</span> <span class="value end-value">'+v.end+"</span></div></div>"}}]),h}(mt),Ae=function(){function ae(c){$t(this,ae),this.opts=c}return ee(ae,[{key:"line",value:function(){return{chart:{animations:{easing:"swing"}},dataLabels:{enabled:!1},stroke:{width:5,curve:"straight"},markers:{size:0,hover:{sizeOffset:6}},xaxis:{crosshairs:{width:1}}}}},{key:"sparkline",value:function(c){return this.opts.yaxis[0].show=!1,this.opts.yaxis[0].title.text="",this.opts.yaxis[0].axisBorder.show=!1,this.opts.yaxis[0].axisTicks.show=!1,this.opts.yaxis[0].floating=!0,lt.extend(c,{grid:{show:!1,padding:{left:0,right:0,top:0,bottom:0}},legend:{show:!1},xaxis:{labels:{show:!1},tooltip:{enabled:!1},axisBorder:{show:!1},axisTicks:{show:!1}},chart:{toolbar:{show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1}})}},{key:"bar",value:function(){return{chart:{stacked:!1,animations:{easing:"swing"}},plotOptions:{bar:{dataLabels:{position:"center"}}},dataLabels:{style:{colors:["#fff"]},background:{enabled:!1}},stroke:{width:0,lineCap:"round"},fill:{opacity:.85},legend:{markers:{shape:"square",radius:2,size:8}},tooltip:{shared:!1,intersect:!0},xaxis:{tooltip:{enabled:!1},tickPlacement:"between",crosshairs:{width:"barWidth",position:"back",fill:{type:"gradient"},dropShadow:{enabled:!1},stroke:{width:0}}}}}},{key:"candlestick",value:function(){var c=this;return{stroke:{width:1,colors:["#333"]},fill:{opacity:1},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(h){return c._getBoxTooltip(h.w,h.seriesIndex,h.dataPointIndex,["Open","High","","Low","Close"],"candlestick")}},states:{active:{filter:{type:"none"}}},xaxis:{crosshairs:{width:1}}}}},{key:"boxPlot",value:function(){var c=this;return{chart:{animations:{dynamicAnimation:{enabled:!1}}},stroke:{width:1,colors:["#24292e"]},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(h){return c._getBoxTooltip(h.w,h.seriesIndex,h.dataPointIndex,["Minimum","Q1","Median","Q3","Maximum"],"boxPlot")}},markers:{size:5,strokeWidth:1,strokeColors:"#111"},xaxis:{crosshairs:{width:1}}}}},{key:"rangeBar",value:function(){return{stroke:{width:0,lineCap:"square"},plotOptions:{bar:{borderRadius:0,dataLabels:{position:"center"}}},dataLabels:{enabled:!1,formatter:function(c,h){var v=h.seriesIndex,_=h.dataPointIndex,A=h.w;return A.globals.seriesRangeEnd[v][_]-A.globals.seriesRangeStart[v][_]},background:{enabled:!1},style:{colors:["#fff"]}},tooltip:{shared:!1,followCursor:!0,custom:function(c){return c.w.config.plotOptions&&c.w.config.plotOptions.bar&&c.w.config.plotOptions.bar.horizontal?(_=(v=new oe((h=c).ctx,null)).getTooltipValues(h),v.buildCustomTooltipHTML({color:_.color,seriesName:_.seriesName,ylabel:_.ylabel,start:_.startVal,end:_.endVal})):function(h){var v=new oe(h.ctx,null),_=v.getTooltipValues(h);return v.buildCustomTooltipHTML({color:_.color,seriesName:_.seriesName,ylabel:_.ylabel,start:_.start,end:_.end})}(c);var h,v,_}},xaxis:{tickPlacement:"between",tooltip:{enabled:!1},crosshairs:{stroke:{width:0}}}}}},{key:"area",value:function(){return{stroke:{width:4},fill:{type:"gradient",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}},markers:{size:0,hover:{sizeOffset:6}},tooltip:{followCursor:!1}}}},{key:"brush",value:function(c){return lt.extend(c,{chart:{toolbar:{autoSelected:"selection",show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1},stroke:{width:1},tooltip:{enabled:!1},xaxis:{tooltip:{enabled:!1}}})}},{key:"stacked100",value:function(c){c.dataLabels=c.dataLabels||{},c.dataLabels.formatter=c.dataLabels.formatter||void 0;var h=c.dataLabels.formatter;return c.yaxis.forEach(function(v,_){c.yaxis[_].min=0,c.yaxis[_].max=100}),"bar"===c.chart.type&&(c.dataLabels.formatter=h||function(v){return"number"==typeof v&&v?v.toFixed(0)+"%":v}),c}},{key:"convertCatToNumeric",value:function(c){return c.xaxis.convertedCatToNumeric=!0,c}},{key:"convertCatToNumericXaxis",value:function(c,h,v){c.xaxis.type="numeric",c.xaxis.labels=c.xaxis.labels||{},c.xaxis.labels.formatter=c.xaxis.labels.formatter||function(P){return lt.isNumber(P)?Math.floor(P):P};var _=c.xaxis.labels.formatter,A=c.xaxis.categories&&c.xaxis.categories.length?c.xaxis.categories:c.labels;return v&&v.length&&(A=v.map(function(P){return Array.isArray(P)?P:String(P)})),A&&A.length&&(c.xaxis.labels.formatter=function(P){return lt.isNumber(P)?_(A[Math.floor(P)-1]):_(P)}),c.xaxis.categories=[],c.labels=[],c.xaxis.tickAmount=c.xaxis.tickAmount||"dataPoints",c}},{key:"bubble",value:function(){return{dataLabels:{style:{colors:["#fff"]}},tooltip:{shared:!1,intersect:!0},xaxis:{crosshairs:{width:0}},fill:{type:"solid",gradient:{shade:"light",inverse:!0,shadeIntensity:.55,opacityFrom:.4,opacityTo:.8}}}}},{key:"scatter",value:function(){return{dataLabels:{enabled:!1},tooltip:{shared:!1,intersect:!0},markers:{size:6,strokeWidth:1,hover:{sizeOffset:2}}}}},{key:"heatmap",value:function(){return{chart:{stacked:!1},fill:{opacity:1},dataLabels:{style:{colors:["#fff"]}},stroke:{colors:["#fff"]},tooltip:{followCursor:!0,marker:{show:!1},x:{show:!1}},legend:{position:"top",markers:{shape:"square",size:10,offsetY:2}},grid:{padding:{right:20}}}}},{key:"treemap",value:function(){return{chart:{zoom:{enabled:!1}},dataLabels:{style:{fontSize:14,fontWeight:600,colors:["#fff"]}},stroke:{show:!0,width:2,colors:["#fff"]},legend:{show:!1},fill:{gradient:{stops:[0,100]}},tooltip:{followCursor:!0,x:{show:!1}},grid:{padding:{left:0,right:0}},xaxis:{crosshairs:{show:!1},tooltip:{enabled:!1}}}}},{key:"pie",value:function(){return{chart:{toolbar:{show:!1}},plotOptions:{pie:{donut:{labels:{show:!1}}}},dataLabels:{formatter:function(c){return c.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",stops:[0,100]}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"}}}},{key:"donut",value:function(){return{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(c){return c.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",shadeIntensity:.35,stops:[80,100],opacityFrom:1,opacityTo:1}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"}}}},{key:"polarArea",value:function(){return this.opts.yaxis[0].tickAmount=this.opts.yaxis[0].tickAmount?this.opts.yaxis[0].tickAmount:6,{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(c){return c.toFixed(1)+"%"},enabled:!1},stroke:{show:!0,width:2},fill:{opacity:.7},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"}}}},{key:"radar",value:function(){return this.opts.yaxis[0].labels.offsetY=this.opts.yaxis[0].labels.offsetY?this.opts.yaxis[0].labels.offsetY:6,{dataLabels:{enabled:!1,style:{fontSize:"11px"}},stroke:{width:2},markers:{size:3,strokeWidth:1,strokeOpacity:1},fill:{opacity:.2},tooltip:{shared:!1,intersect:!0,followCursor:!0},grid:{show:!1},xaxis:{labels:{formatter:function(c){return c},style:{colors:["#a8a8a8"],fontSize:"11px"}},tooltip:{enabled:!1},crosshairs:{show:!1}}}}},{key:"radialBar",value:function(){return{chart:{animations:{dynamicAnimation:{enabled:!0,speed:800}},toolbar:{show:!1}},fill:{gradient:{shade:"dark",shadeIntensity:.4,inverseColors:!1,type:"diagonal2",opacityFrom:1,opacityTo:1,stops:[70,98,100]}},legend:{show:!1,position:"right"},tooltip:{enabled:!1,fillSeriesColor:!0}}}},{key:"_getBoxTooltip",value:function(c,h,v,_,A){var P=c.globals.seriesCandleO[h][v],E=c.globals.seriesCandleH[h][v],F=c.globals.seriesCandleM[h][v],W=c.globals.seriesCandleL[h][v],K=c.globals.seriesCandleC[h][v];return c.config.series[h].type&&c.config.series[h].type!==A?'<div class="apexcharts-custom-tooltip">\n          '.concat(c.config.series[h].name?c.config.series[h].name:"series-"+(h+1),": <strong>").concat(c.globals.series[h][v],"</strong>\n        </div>"):'<div class="apexcharts-tooltip-box apexcharts-tooltip-'.concat(c.config.chart.type,'">')+"<div>".concat(_[0],': <span class="value">')+P+"</span></div>"+"<div>".concat(_[1],': <span class="value">')+E+"</span></div>"+(F?"<div>".concat(_[2],': <span class="value">')+F+"</span></div>":"")+"<div>".concat(_[3],': <span class="value">')+W+"</span></div>"+"<div>".concat(_[4],': <span class="value">')+K+"</span></div></div>"}}]),ae}(),ze=function(){function ae(c){$t(this,ae),this.opts=c}return ee(ae,[{key:"init",value:function(c){var h=c.responsiveOverride,v=this.opts,_=new Xt,A=new Ae(v);this.chartType=v.chart.type,"histogram"===this.chartType&&(v.chart.type="bar",v=lt.extend({plotOptions:{bar:{columnWidth:"99.99%"}}},v)),v=this.extendYAxis(v),v=this.extendAnnotations(v);var P=_.init(),E={};if(v&&"object"===Le(v)){var F={};F=-1!==["line","area","bar","candlestick","boxPlot","rangeBar","histogram","bubble","scatter","heatmap","treemap","pie","polarArea","donut","radar","radialBar"].indexOf(v.chart.type)?A[v.chart.type]():A.line(),v.chart.brush&&v.chart.brush.enabled&&(F=A.brush(F)),v.chart.stacked&&"100%"===v.chart.stackType&&(v=A.stacked100(v)),this.checkForDarkTheme(window.Apex),this.checkForDarkTheme(v),v.xaxis=v.xaxis||window.Apex.xaxis||{},h||(v.xaxis.convertedCatToNumeric=!1),((v=this.checkForCatToNumericXAxis(this.chartType,F,v)).chart.sparkline&&v.chart.sparkline.enabled||window.Apex.chart&&window.Apex.chart.sparkline&&window.Apex.chart.sparkline.enabled)&&(F=A.sparkline(F)),E=lt.extend(P,F)}var W=lt.extend(E,window.Apex);return P=lt.extend(W,v),this.handleUserInputErrors(P)}},{key:"checkForCatToNumericXAxis",value:function(c,h,v){var _=new Ae(v);return"bar"===c&&v.plotOptions&&v.plotOptions.bar&&v.plotOptions.bar.horizontal||"pie"===c||"polarArea"===c||"donut"===c||"radar"===c||"radialBar"===c||"heatmap"===c||!("datetime"!==v.xaxis.type&&"numeric"!==v.xaxis.type)||"between"===(v.xaxis.tickPlacement?v.xaxis.tickPlacement:h.xaxis&&h.xaxis.tickPlacement)||(v=_.convertCatToNumeric(v)),v}},{key:"extendYAxis",value:function(c,h){var v=new Xt;(void 0===c.yaxis||!c.yaxis||Array.isArray(c.yaxis)&&0===c.yaxis.length)&&(c.yaxis={}),c.yaxis.constructor!==Array&&window.Apex.yaxis&&window.Apex.yaxis.constructor!==Array&&(c.yaxis=lt.extend(c.yaxis,window.Apex.yaxis)),c.yaxis=c.yaxis.constructor!==Array?[lt.extend(v.yAxis,c.yaxis)]:lt.extendArray(c.yaxis,v.yAxis);var _=!1;c.yaxis.forEach(function(P){P.logarithmic&&(_=!0)});var A=c.series;return h&&!A&&(A=h.config.series),_&&A.length!==c.yaxis.length&&A.length&&(c.yaxis=A.map(function(P,E){if(P.name||(A[E].name="series-".concat(E+1)),c.yaxis[E])return c.yaxis[E].seriesName=A[E].name,c.yaxis[E];var F=lt.extend(v.yAxis,c.yaxis[0]);return F.show=!1,F})),_&&A.length>1&&A.length!==c.yaxis.length&&console.warn("A multi-series logarithmic chart should have equal number of series and y-axes. Please make sure to equalize both."),c}},{key:"extendAnnotations",value:function(c){return void 0===c.annotations&&(c.annotations={},c.annotations.yaxis=[],c.annotations.xaxis=[],c.annotations.points=[]),c=this.extendYAxisAnnotations(c),c=this.extendXAxisAnnotations(c),this.extendPointAnnotations(c)}},{key:"extendYAxisAnnotations",value:function(c){var h=new Xt;return c.annotations.yaxis=lt.extendArray(void 0!==c.annotations.yaxis?c.annotations.yaxis:[],h.yAxisAnnotation),c}},{key:"extendXAxisAnnotations",value:function(c){var h=new Xt;return c.annotations.xaxis=lt.extendArray(void 0!==c.annotations.xaxis?c.annotations.xaxis:[],h.xAxisAnnotation),c}},{key:"extendPointAnnotations",value:function(c){var h=new Xt;return c.annotations.points=lt.extendArray(void 0!==c.annotations.points?c.annotations.points:[],h.pointAnnotation),c}},{key:"checkForDarkTheme",value:function(c){c.theme&&"dark"===c.theme.mode&&(c.tooltip||(c.tooltip={}),"light"!==c.tooltip.theme&&(c.tooltip.theme="dark"),c.chart.foreColor||(c.chart.foreColor="#f6f7f8"),c.chart.background||(c.chart.background="#424242"),c.theme.palette||(c.theme.palette="palette4"))}},{key:"handleUserInputErrors",value:function(c){var h=c;if(h.tooltip.shared&&h.tooltip.intersect)throw new Error("tooltip.shared cannot be enabled when tooltip.intersect is true. Turn off any other option by setting it to false.");if("bar"===h.chart.type&&h.plotOptions.bar.horizontal){if(h.yaxis.length>1)throw new Error("Multiple Y Axis for bars are not supported. Switch to column chart by setting plotOptions.bar.horizontal=false");h.yaxis[0].reversed&&(h.yaxis[0].opposite=!0),h.xaxis.tooltip.enabled=!1,h.yaxis[0].tooltip.enabled=!1,h.chart.zoom.enabled=!1}return"bar"!==h.chart.type&&"rangeBar"!==h.chart.type||h.tooltip.shared&&"barWidth"===h.xaxis.crosshairs.width&&h.series.length>1&&(h.xaxis.crosshairs.width="tickWidth"),"candlestick"!==h.chart.type&&"boxPlot"!==h.chart.type||h.yaxis[0].reversed&&(console.warn("Reversed y-axis in ".concat(h.chart.type," chart is not supported.")),h.yaxis[0].reversed=!1),Array.isArray(h.stroke.width)&&"line"!==h.chart.type&&"area"!==h.chart.type&&(console.warn("stroke.width option accepts array only for line and area charts. Reverted back to Number"),h.stroke.width=h.stroke.width[0]),h}}]),ae}(),be=function(){function ae(){$t(this,ae)}return ee(ae,[{key:"initGlobalVars",value:function(c){c.series=[],c.seriesCandleO=[],c.seriesCandleH=[],c.seriesCandleM=[],c.seriesCandleL=[],c.seriesCandleC=[],c.seriesRangeStart=[],c.seriesRangeEnd=[],c.seriesRangeBar=[],c.seriesPercent=[],c.seriesGoals=[],c.seriesX=[],c.seriesZ=[],c.seriesNames=[],c.seriesTotals=[],c.seriesLog=[],c.seriesColors=[],c.stackedSeriesTotals=[],c.seriesXvalues=[],c.seriesYvalues=[],c.labels=[],c.categoryLabels=[],c.timescaleLabels=[],c.noLabelsProvided=!1,c.resizeTimer=null,c.selectionResizeTimer=null,c.delayedElements=[],c.pointsArray=[],c.dataLabelsRects=[],c.isXNumeric=!1,c.xaxisLabelsCount=0,c.skipLastTimelinelabel=!1,c.skipFirstTimelinelabel=!1,c.isDataXYZ=!1,c.isMultiLineX=!1,c.isMultipleYAxis=!1,c.maxY=-Number.MAX_VALUE,c.minY=Number.MIN_VALUE,c.minYArr=[],c.maxYArr=[],c.maxX=-Number.MAX_VALUE,c.minX=Number.MAX_VALUE,c.initialMaxX=-Number.MAX_VALUE,c.initialMinX=Number.MAX_VALUE,c.maxDate=0,c.minDate=Number.MAX_VALUE,c.minZ=Number.MAX_VALUE,c.maxZ=-Number.MAX_VALUE,c.minXDiff=Number.MAX_VALUE,c.yAxisScale=[],c.xAxisScale=null,c.xAxisTicksPositions=[],c.yLabelsCoords=[],c.yTitleCoords=[],c.barPadForNumericAxis=0,c.padHorizontal=0,c.xRange=0,c.yRange=[],c.zRange=0,c.dataPoints=0,c.xTickAmount=0}},{key:"globalVars",value:function(c){return{chartID:null,cuid:null,events:{beforeMount:[],mounted:[],updated:[],clicked:[],selection:[],dataPointSelection:[],zoomed:[],scrolled:[]},colors:[],clientX:null,clientY:null,fill:{colors:[]},stroke:{colors:[]},dataLabels:{style:{colors:[]}},radarPolygons:{fill:{colors:[]}},markers:{colors:[],size:c.markers.size,largestSize:0},animationEnded:!1,isTouchDevice:"ontouchstart"in window||navigator.msMaxTouchPoints,isDirty:!1,isExecCalled:!1,initialConfig:null,initialSeries:[],lastXAxis:[],lastYAxis:[],columnSeries:null,labels:[],timescaleLabels:[],noLabelsProvided:!1,allSeriesCollapsed:!1,collapsedSeries:[],collapsedSeriesIndices:[],ancillaryCollapsedSeries:[],ancillaryCollapsedSeriesIndices:[],risingSeries:[],dataFormatXNumeric:!1,capturedSeriesIndex:-1,capturedDataPointIndex:-1,selectedDataPoints:[],goldenPadding:35,invalidLogScale:!1,ignoreYAxisIndexes:[],yAxisSameScaleIndices:[],maxValsInArrayIndex:0,radialSize:0,selection:void 0,zoomEnabled:"zoom"===c.chart.toolbar.autoSelected&&c.chart.toolbar.tools.zoom&&c.chart.zoom.enabled,panEnabled:"pan"===c.chart.toolbar.autoSelected&&c.chart.toolbar.tools.pan,selectionEnabled:"selection"===c.chart.toolbar.autoSelected&&c.chart.toolbar.tools.selection,yaxis:null,mousedown:!1,lastClientPosition:{},visibleXRange:void 0,yValueDecimal:0,total:0,SVGNS:"http://www.w3.org/2000/svg",svgWidth:0,svgHeight:0,noData:!1,locale:{},dom:{},memory:{methodsToExec:[]},shouldAnimate:!0,skipLastTimelinelabel:!1,skipFirstTimelinelabel:!1,delayedElements:[],axisCharts:!0,isDataXYZ:!1,resized:!1,resizeTimer:null,comboCharts:!1,dataChanged:!1,previousPaths:[],allSeriesHasEqualX:!0,pointsArray:[],dataLabelsRects:[],lastDrawnDataLabelsIndexes:[],hasNullValues:!1,easing:null,zoomed:!1,gridWidth:0,gridHeight:0,rotateXLabels:!1,defaultLabels:!1,xLabelFormatter:void 0,yLabelFormatters:[],xaxisTooltipFormatter:void 0,ttKeyFormatter:void 0,ttVal:void 0,ttZFormatter:void 0,LINE_HEIGHT_RATIO:1.618,xAxisLabelsHeight:0,xAxisLabelsWidth:0,yAxisLabelsWidth:0,scaleX:1,scaleY:1,translateX:0,translateY:0,translateYAxisX:[],yAxisWidths:[],translateXAxisY:0,translateXAxisX:0,tooltip:null}}},{key:"init",value:function(c){var h=this.globalVars(c);return this.initGlobalVars(h),h.initialConfig=lt.extend({},c),h.initialSeries=lt.clone(c.series),h.lastXAxis=lt.clone(h.initialConfig.xaxis),h.lastYAxis=lt.clone(h.initialConfig.yaxis),h}}]),ae}(),_e=function(){function ae(c){$t(this,ae),this.opts=c}return ee(ae,[{key:"init",value:function(){var c=new ze(this.opts).init({responsiveOverride:!1});return{config:c,globals:(new be).init(c)}}}]),ae}(),de=function(){function ae(c){$t(this,ae),this.ctx=c,this.w=c.w,this.twoDSeries=[],this.threeDSeries=[],this.twoDSeriesX=[],this.seriesGoals=[],this.coreUtils=new Ut(this.ctx)}return ee(ae,[{key:"isMultiFormat",value:function(){return this.isFormatXY()||this.isFormat2DArray()}},{key:"isFormatXY",value:function(){var c=this.w.config.series.slice(),h=new on(this.ctx);if(this.activeSeriesIndex=h.getActiveConfigSeriesIndex(),void 0!==c[this.activeSeriesIndex].data&&c[this.activeSeriesIndex].data.length>0&&null!==c[this.activeSeriesIndex].data[0]&&void 0!==c[this.activeSeriesIndex].data[0].x&&null!==c[this.activeSeriesIndex].data[0])return!0}},{key:"isFormat2DArray",value:function(){var c=this.w.config.series.slice(),h=new on(this.ctx);if(this.activeSeriesIndex=h.getActiveConfigSeriesIndex(),void 0!==c[this.activeSeriesIndex].data&&c[this.activeSeriesIndex].data.length>0&&null!=c[this.activeSeriesIndex].data[0]&&c[this.activeSeriesIndex].data[0].constructor===Array)return!0}},{key:"handleFormat2DArray",value:function(c,h){for(var v=this.w.config,_=this.w.globals,A="boxPlot"===v.chart.type||"boxPlot"===v.series[h].type,P=0;P<c[h].data.length;P++)if(void 0!==c[h].data[P][1]&&(Array.isArray(c[h].data[P][1])&&4===c[h].data[P][1].length&&!A?this.twoDSeries.push(lt.parseNumber(c[h].data[P][1][3])):this.twoDSeries.push(lt.parseNumber(c[h].data[P].length>=5?c[h].data[P][4]:c[h].data[P][1])),_.dataFormatXNumeric=!0),"datetime"===v.xaxis.type){var E=new Date(c[h].data[P][0]);E=new Date(E).getTime(),this.twoDSeriesX.push(E)}else this.twoDSeriesX.push(c[h].data[P][0]);for(var F=0;F<c[h].data.length;F++)void 0!==c[h].data[F][2]&&(this.threeDSeries.push(c[h].data[F][2]),_.isDataXYZ=!0)}},{key:"handleFormatXY",value:function(c,h){var v=this.w.config,_=this.w.globals,A=new zt(this.ctx),P=h;_.collapsedSeriesIndices.indexOf(h)>-1&&(P=this.activeSeriesIndex);for(var E=0;E<c[h].data.length;E++)void 0!==c[h].data[E].y&&(Array.isArray(c[h].data[E].y)?this.twoDSeries.push(lt.parseNumber(c[h].data[E].y[c[h].data[E].y.length-1])):this.twoDSeries.push(lt.parseNumber(c[h].data[E].y))),void 0!==c[h].data[E].goals&&Array.isArray(c[h].data[E].goals)?(void 0===this.seriesGoals[h]&&(this.seriesGoals[h]=[]),this.seriesGoals[h].push(c[h].data[E].goals)):(void 0===this.seriesGoals[h]&&(this.seriesGoals[h]=[]),this.seriesGoals[h].push(null));for(var F=0;F<c[P].data.length;F++){var W="string"==typeof c[P].data[F].x,K=Array.isArray(c[P].data[F].x),J=!K&&!!A.isValidDate(c[P].data[F].x.toString());W||J?W||v.xaxis.convertedCatToNumeric?"datetime"!==v.xaxis.type||_.isBarHorizontal&&_.isRangeData?(this.fallbackToCategory=!0,this.twoDSeriesX.push(c[P].data[F].x)):this.twoDSeriesX.push(A.parseDate(c[P].data[F].x)):"datetime"===v.xaxis.type?this.twoDSeriesX.push(A.parseDate(c[P].data[F].x.toString())):(_.dataFormatXNumeric=!0,_.isXNumeric=!0,this.twoDSeriesX.push(parseFloat(c[P].data[F].x))):K?(this.fallbackToCategory=!0,this.twoDSeriesX.push(c[P].data[F].x)):(_.isXNumeric=!0,_.dataFormatXNumeric=!0,this.twoDSeriesX.push(c[P].data[F].x))}if(c[h].data[0]&&void 0!==c[h].data[0].z){for(var yt=0;yt<c[h].data.length;yt++)this.threeDSeries.push(c[h].data[yt].z);_.isDataXYZ=!0}}},{key:"handleRangeData",value:function(c,h){var v=this.w.globals,_={};return this.isFormat2DArray()?_=this.handleRangeDataFormat("array",c,h):this.isFormatXY()&&(_=this.handleRangeDataFormat("xy",c,h)),v.seriesRangeStart.push(_.start),v.seriesRangeEnd.push(_.end),v.seriesRangeBar.push(_.rangeUniques),v.seriesRangeBar.forEach(function(A,P){A&&A.forEach(function(E,F){E.y.forEach(function(W,K){for(var J=0;J<E.y.length;J++)K!==J&&W.y1<=E.y[J].y2&&E.y[J].y1<=W.y2&&(E.overlaps.indexOf(W.rangeName)<0&&E.overlaps.push(W.rangeName),E.overlaps.indexOf(E.y[J].rangeName)<0&&E.overlaps.push(E.y[J].rangeName))})})}),_}},{key:"handleCandleStickBoxData",value:function(c,h){var v=this.w.globals,_={};return this.isFormat2DArray()?_=this.handleCandleStickBoxDataFormat("array",c,h):this.isFormatXY()&&(_=this.handleCandleStickBoxDataFormat("xy",c,h)),v.seriesCandleO[h]=_.o,v.seriesCandleH[h]=_.h,v.seriesCandleM[h]=_.m,v.seriesCandleL[h]=_.l,v.seriesCandleC[h]=_.c,_}},{key:"handleRangeDataFormat",value:function(c,h,v){var _=[],A=[],P=h[v].data.filter(function(ct,yt,Vt){return yt===Vt.findIndex(function(Ht){return Ht.x===ct.x})}).map(function(ct,yt){return{x:ct.x,overlaps:[],y:[]}}),E="Please provide [Start, End] values in valid format. Read more https://apexcharts.com/docs/series/#rangecharts",F=new on(this.ctx).getActiveConfigSeriesIndex();if("array"===c){if(2!==h[F].data[0][1].length)throw new Error(E);for(var W=0;W<h[v].data.length;W++)_.push(h[v].data[W][1][0]),A.push(h[v].data[W][1][1])}else if("xy"===c){if(2!==h[F].data[0].y.length)throw new Error(E);for(var K=function(ct){var yt=lt.randomId(),Vt=h[v].data[ct].x,Ht={y1:h[v].data[ct].y[0],y2:h[v].data[ct].y[1],rangeName:yt};h[v].data[ct].rangeName=yt;var qt=P.findIndex(function(le){return le.x===Vt});P[qt].y.push(Ht),_.push(Ht.y1),A.push(Ht.y2)},J=0;J<h[v].data.length;J++)K(J)}return{start:_,end:A,rangeUniques:P}}},{key:"handleCandleStickBoxDataFormat",value:function(c,h,v){var _=this.w,A="boxPlot"===_.config.chart.type||"boxPlot"===_.config.series[v].type,P=[],E=[],F=[],W=[],K=[];if("array"===c)if(A&&6===h[v].data[0].length||!A&&5===h[v].data[0].length)for(var J=0;J<h[v].data.length;J++)P.push(h[v].data[J][1]),E.push(h[v].data[J][2]),A?(F.push(h[v].data[J][3]),W.push(h[v].data[J][4]),K.push(h[v].data[J][5])):(W.push(h[v].data[J][3]),K.push(h[v].data[J][4]));else for(var ct=0;ct<h[v].data.length;ct++)Array.isArray(h[v].data[ct][1])&&(P.push(h[v].data[ct][1][0]),E.push(h[v].data[ct][1][1]),A?(F.push(h[v].data[ct][1][2]),W.push(h[v].data[ct][1][3]),K.push(h[v].data[ct][1][4])):(W.push(h[v].data[ct][1][2]),K.push(h[v].data[ct][1][3])));else if("xy"===c)for(var yt=0;yt<h[v].data.length;yt++)Array.isArray(h[v].data[yt].y)&&(P.push(h[v].data[yt].y[0]),E.push(h[v].data[yt].y[1]),A?(F.push(h[v].data[yt].y[2]),W.push(h[v].data[yt].y[3]),K.push(h[v].data[yt].y[4])):(W.push(h[v].data[yt].y[2]),K.push(h[v].data[yt].y[3])));return{o:P,h:E,m:F,l:W,c:K}}},{key:"parseDataAxisCharts",value:function(c){var h=this,v=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.ctx,_=this.w.config,A=this.w.globals,P=new zt(v),E=_.labels.length>0?_.labels.slice():_.xaxis.categories.slice();A.isRangeBar="rangeBar"===_.chart.type&&A.isBarHorizontal;for(var F=function(){for(var J=0;J<E.length;J++)if("string"==typeof E[J]){if(!P.isValidDate(E[J]))throw new Error("You have provided invalid Date format. Please provide a valid JavaScript Date");h.twoDSeriesX.push(P.parseDate(E[J]))}else h.twoDSeriesX.push(E[J])},W=0;W<c.length;W++){if(this.twoDSeries=[],this.twoDSeriesX=[],this.threeDSeries=[],void 0===c[W].data)return void console.error("It is a possibility that you may have not included 'data' property in series.");if("rangeBar"!==_.chart.type&&"rangeArea"!==_.chart.type&&"rangeBar"!==c[W].type&&"rangeArea"!==c[W].type||(A.isRangeData=!0,this.handleRangeData(c,W)),this.isMultiFormat())this.isFormat2DArray()?this.handleFormat2DArray(c,W):this.isFormatXY()&&this.handleFormatXY(c,W),"candlestick"!==_.chart.type&&"candlestick"!==c[W].type&&"boxPlot"!==_.chart.type&&"boxPlot"!==c[W].type||this.handleCandleStickBoxData(c,W),A.series.push(this.twoDSeries),A.labels.push(this.twoDSeriesX),A.seriesX.push(this.twoDSeriesX),A.seriesGoals=this.seriesGoals,W!==this.activeSeriesIndex||this.fallbackToCategory||(A.isXNumeric=!0);else{"datetime"===_.xaxis.type?(A.isXNumeric=!0,F(),A.seriesX.push(this.twoDSeriesX)):"numeric"===_.xaxis.type&&(A.isXNumeric=!0,E.length>0&&(this.twoDSeriesX=E,A.seriesX.push(this.twoDSeriesX))),A.labels.push(this.twoDSeriesX);var K=c[W].data.map(function(J){return lt.parseNumber(J)});A.series.push(K)}A.seriesZ.push(this.threeDSeries),A.seriesNames.push(void 0!==c[W].name?c[W].name:"series-"+parseInt(W+1,10)),A.seriesColors.push(void 0!==c[W].color?c[W].color:void 0)}return this.w}},{key:"parseDataNonAxisCharts",value:function(c){var h=this.w.globals,v=this.w.config;h.series=c.slice(),h.seriesNames=v.labels.slice();for(var _=0;_<h.series.length;_++)void 0===h.seriesNames[_]&&h.seriesNames.push("series-"+(_+1));return this.w}},{key:"handleExternalLabelsData",value:function(c){var h=this.w.config,v=this.w.globals;h.xaxis.categories.length>0?v.labels=h.xaxis.categories:h.labels.length>0?v.labels=h.labels.slice():this.fallbackToCategory?(v.labels=v.labels[0],v.seriesRangeBar.length&&(v.seriesRangeBar.map(function(_){_.forEach(function(A){v.labels.indexOf(A.x)<0&&A.x&&v.labels.push(A.x)})}),v.labels=v.labels.filter(function(_,A,P){return P.indexOf(_)===A})),h.xaxis.convertedCatToNumeric&&(new Ae(h).convertCatToNumericXaxis(h,this.ctx,v.seriesX[0]),this._generateExternalLabels(c))):this._generateExternalLabels(c)}},{key:"_generateExternalLabels",value:function(c){var h=this.w.globals,v=this.w.config,_=[];if(h.axisCharts){if(h.series.length>0)for(var A=0;A<h.series[h.maxValsInArrayIndex].length;A++)_.push(A+1);h.seriesX=[];for(var P=0;P<c.length;P++)h.seriesX.push(_);h.isXNumeric=!0}if(0===_.length){_=h.axisCharts?[]:h.series.map(function(F,W){return W+1});for(var E=0;E<c.length;E++)h.seriesX.push(_)}h.labels=_,v.xaxis.convertedCatToNumeric&&(h.categoryLabels=_.map(function(F){return v.xaxis.labels.formatter(F)})),h.noLabelsProvided=!0}},{key:"parseData",value:function(c){var h=this.w,v=h.config,_=h.globals;if(this.excludeCollapsedSeriesInYAxis(),this.fallbackToCategory=!1,this.ctx.core.resetGlobals(),this.ctx.core.isMultipleY(),_.axisCharts?this.parseDataAxisCharts(c):this.parseDataNonAxisCharts(c),this.coreUtils.getLargestSeries(),"bar"===v.chart.type&&v.chart.stacked){var A=new on(this.ctx);_.series=A.setNullSeriesToZeroValues(_.series)}this.coreUtils.getSeriesTotals(),_.axisCharts&&this.coreUtils.getStackedSeriesTotals(),this.coreUtils.getPercentSeries(),_.dataFormatXNumeric||_.isXNumeric&&("numeric"!==v.xaxis.type||0!==v.labels.length||0!==v.xaxis.categories.length)||this.handleExternalLabelsData(c);for(var P=this.coreUtils.getCategoryLabels(_.labels),E=0;E<P.length;E++)if(Array.isArray(P[E])){_.isMultiLineX=!0;break}}},{key:"excludeCollapsedSeriesInYAxis",value:function(){var c=this,h=this.w;h.globals.ignoreYAxisIndexes=h.globals.collapsedSeries.map(function(v,_){if(c.w.globals.isMultipleYAxis&&!h.config.chart.stacked)return v.index})}}]),ae}(),Jt=function(){function ae(c){$t(this,ae),this.ctx=c,this.w=c.w,this.tooltipKeyFormat="dd MMM"}return ee(ae,[{key:"xLabelFormat",value:function(c,h,v,_){var A=this.w;if("datetime"===A.config.xaxis.type&&void 0===A.config.xaxis.labels.formatter&&void 0===A.config.tooltip.x.formatter){var P=new zt(this.ctx);return P.formatDate(P.getDate(h),A.config.tooltip.x.format)}return c(h,v,_)}},{key:"defaultGeneralFormatter",value:function(c){return Array.isArray(c)?c.map(function(h){return h}):c}},{key:"defaultYFormatter",value:function(c,h,v){var _=this.w;return lt.isNumber(c)&&(c=c.toFixed(0!==_.globals.yValueDecimal?void 0!==h.decimalsInFloat?h.decimalsInFloat:_.globals.yValueDecimal:_.globals.maxYArr[v]-_.globals.minYArr[v]<5?1:0)),c}},{key:"setLabelFormatters",value:function(){var c=this,h=this.w;return h.globals.xaxisTooltipFormatter=function(v){return c.defaultGeneralFormatter(v)},h.globals.ttKeyFormatter=function(v){return c.defaultGeneralFormatter(v)},h.globals.ttZFormatter=function(v){return v},h.globals.legendFormatter=function(v){return c.defaultGeneralFormatter(v)},h.globals.xLabelFormatter=void 0!==h.config.xaxis.labels.formatter?h.config.xaxis.labels.formatter:function(v){if(lt.isNumber(v)){if(!h.config.xaxis.convertedCatToNumeric&&"numeric"===h.config.xaxis.type){if(lt.isNumber(h.config.xaxis.decimalsInFloat))return v.toFixed(h.config.xaxis.decimalsInFloat);var _=h.globals.maxX-h.globals.minX;return v.toFixed(_>0&&_<100?1:0)}return v.toFixed(h.globals.isBarHorizontal&&h.globals.maxY-h.globals.minYArr<4?1:0)}return v},h.globals.ttKeyFormatter="function"==typeof h.config.tooltip.x.formatter?h.config.tooltip.x.formatter:h.globals.xLabelFormatter,"function"==typeof h.config.xaxis.tooltip.formatter&&(h.globals.xaxisTooltipFormatter=h.config.xaxis.tooltip.formatter),(Array.isArray(h.config.tooltip.y)||void 0!==h.config.tooltip.y.formatter)&&(h.globals.ttVal=h.config.tooltip.y),void 0!==h.config.tooltip.z.formatter&&(h.globals.ttZFormatter=h.config.tooltip.z.formatter),void 0!==h.config.legend.formatter&&(h.globals.legendFormatter=h.config.legend.formatter),h.config.yaxis.forEach(function(v,_){h.globals.yLabelFormatters[_]=void 0!==v.labels.formatter?v.labels.formatter:function(A){return h.globals.xyCharts?Array.isArray(A)?A.map(function(P){return c.defaultYFormatter(P,v,_)}):c.defaultYFormatter(A,v,_):A}}),h.globals}},{key:"heatmapLabelFormatters",value:function(){var c=this.w;if("heatmap"===c.config.chart.type){c.globals.yAxisScale[0].result=c.globals.seriesNames.slice();var h=c.globals.seriesNames.reduce(function(v,_){return v.length>_.length?v:_},0);c.globals.yAxisScale[0].niceMax=h,c.globals.yAxisScale[0].niceMin=h}}}]),ae}(),Fe=function(){function ae(c){$t(this,ae),this.ctx=c,this.w=c.w}return ee(ae,[{key:"getLabel",value:function(c,h,v,_){var A=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],P=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"12px",E=this.w,F=void 0===c[_]?"":c[_],W=F,K=E.globals.xLabelFormatter,J=E.config.xaxis.labels.formatter,ct=!1,yt=new Jt(this.ctx),Vt=F;W=yt.xLabelFormat(K,F,Vt,{i:_,dateFormatter:new zt(this.ctx).formatDate,w:E}),void 0!==J&&(W=J(F,c[_],{i:_,dateFormatter:new zt(this.ctx).formatDate,w:E}));var Ht=function(De){var j=null;return h.forEach(function(ut){"month"===ut.unit?j="year":"day"===ut.unit?j="month":"hour"===ut.unit?j="day":"minute"===ut.unit&&(j="hour")}),j===De};h.length>0?(ct=Ht(h[_].unit),v=h[_].position,W=h[_].value):"datetime"===E.config.xaxis.type&&void 0===J&&(W=""),void 0===W&&(W=""),W=Array.isArray(W)?W:W.toString();var qt=new ot(this.ctx),le={};le=E.globals.rotateXLabels?qt.getTextRects(W,parseInt(P,10),null,"rotate(".concat(E.config.xaxis.labels.rotate," 0 0)"),!1):qt.getTextRects(W,parseInt(P,10));var me=!E.config.xaxis.labels.showDuplicates&&this.ctx.timeScale;return!Array.isArray(W)&&(0===W.indexOf("NaN")||0===W.toLowerCase().indexOf("invalid")||W.toLowerCase().indexOf("infinity")>=0||A.indexOf(W)>=0&&me)&&(W=""),{x:v,text:W,textRect:le,isBold:ct}}},{key:"checkLabelBasedOnTickamount",value:function(c,h,v){var _=this.w,A=_.config.xaxis.tickAmount;return"dataPoints"===A&&(A=Math.round(_.globals.gridWidth/120)),A>v||c%Math.round(v/(A+1))==0||(h.text=""),h}},{key:"checkForOverflowingLabels",value:function(c,h,v,_,A){var P=this.w;if(0===c&&P.globals.skipFirstTimelinelabel&&(h.text=""),c===v-1&&P.globals.skipLastTimelinelabel&&(h.text=""),P.config.xaxis.labels.hideOverlappingLabels&&_.length>0){var E=A[A.length-1];h.x<E.textRect.width/(P.globals.rotateXLabels?Math.abs(P.config.xaxis.labels.rotate)/12:1.01)+E.x&&(h.text="")}return h}},{key:"checkForReversedLabels",value:function(c,h){var v=this.w;return v.config.yaxis[c]&&v.config.yaxis[c].reversed&&h.reverse(),h}},{key:"isYAxisHidden",value:function(c){var h=this.w,v=new Ut(this.ctx);return!h.config.yaxis[c].show||!h.config.yaxis[c].showForNullSeries&&v.isSeriesNull(c)&&-1===h.globals.collapsedSeriesIndices.indexOf(c)}},{key:"getYAxisForeColor",value:function(c,h){var v=this.w;return Array.isArray(c)&&v.globals.yAxisScale[h]&&this.ctx.theme.pushExtraColors(c,v.globals.yAxisScale[h].result.length,!1),c}},{key:"drawYAxisTicks",value:function(c,h,v,_,A,P,E){var F=this.w,W=new ot(this.ctx),K=F.globals.translateY;if(_.show&&h>0){!0===F.config.yaxis[A].opposite&&(c+=_.width);for(var J=h;J>=0;J--){var ct=K+h/10+F.config.yaxis[A].labels.offsetY-1;F.globals.isBarHorizontal&&(ct=P*J),"heatmap"===F.config.chart.type&&(ct+=P/2);var yt=W.drawLine(c+v.offsetX-_.width+_.offsetX,ct+_.offsetY,c+v.offsetX+_.offsetX,ct+_.offsetY,_.color);E.add(yt),K+=P}}}}]),ae}(),Ke=function(){function ae(c){$t(this,ae),this.ctx=c,this.w=c.w}return ee(ae,[{key:"scaleSvgNode",value:function(c,h){var v=parseFloat(c.getAttributeNS(null,"width")),_=parseFloat(c.getAttributeNS(null,"height"));c.setAttributeNS(null,"width",v*h),c.setAttributeNS(null,"height",_*h),c.setAttributeNS(null,"viewBox","0 0 "+v+" "+_)}},{key:"fixSvgStringForIe11",value:function(c){if(!lt.isIE11())return c.replace(/&nbsp;/g,"&#160;");var h=0,v=c.replace(/xmlns="http:\/\/www.w3.org\/2000\/svg"/g,function(_){return 2==++h?'xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:svgjs="http://svgjs.dev"':_});return(v=v.replace(/xmlns:NS\d+=""/g,"")).replace(/NS\d+:(\w+:\w+=")/g,"$1")}},{key:"getSvgString",value:function(c){var h=this.w.globals.dom.Paper.svg();if(1!==c){var v=this.w.globals.dom.Paper.node.cloneNode(!0);this.scaleSvgNode(v,c),h=(new XMLSerializer).serializeToString(v)}return this.fixSvgStringForIe11(h)}},{key:"cleanup",value:function(){var c=this.w,h=c.globals.dom.baseEl.getElementsByClassName("apexcharts-xcrosshairs"),v=c.globals.dom.baseEl.getElementsByClassName("apexcharts-ycrosshairs"),_=c.globals.dom.baseEl.querySelectorAll(".apexcharts-zoom-rect, .apexcharts-selection-rect");Array.prototype.forEach.call(_,function(A){A.setAttribute("width",0)}),h&&h[0]&&(h[0].setAttribute("x",-500),h[0].setAttribute("x1",-500),h[0].setAttribute("x2",-500)),v&&v[0]&&(v[0].setAttribute("y",-100),v[0].setAttribute("y1",-100),v[0].setAttribute("y2",-100))}},{key:"svgUrl",value:function(){this.cleanup();var c=this.getSvgString(),h=new Blob([c],{type:"image/svg+xml;charset=utf-8"});return URL.createObjectURL(h)}},{key:"dataURI",value:function(c){var h=this;return new Promise(function(v){var _=h.w,A=c?c.scale||c.width/_.globals.svgWidth:1;h.cleanup();var P=document.createElement("canvas");P.width=_.globals.svgWidth*A,P.height=parseInt(_.globals.dom.elWrap.style.height,10)*A;var E="transparent"===_.config.chart.background?"#fff":_.config.chart.background,F=P.getContext("2d");F.fillStyle=E,F.fillRect(0,0,P.width*A,P.height*A);var W=h.getSvgString(A);if(window.canvg&&lt.isIE11()){var K=window.canvg.Canvg.fromString(F,W,{ignoreClear:!0,ignoreDimensions:!0});K.start();var J=P.msToBlob();K.stop(),v({blob:J})}else{var ct="data:image/svg+xml,"+encodeURIComponent(W),yt=new Image;yt.crossOrigin="anonymous",yt.onload=function(){if(F.drawImage(yt,0,0),P.msToBlob){var Vt=P.msToBlob();v({blob:Vt})}else{var Ht=P.toDataURL("image/png");v({imgURI:Ht})}},yt.src=ct}})}},{key:"exportToSVG",value:function(){this.triggerDownload(this.svgUrl(),this.w.config.chart.toolbar.export.svg.filename,".svg")}},{key:"exportToPng",value:function(){var c=this;this.dataURI().then(function(h){var v=h.imgURI,_=h.blob;_?navigator.msSaveOrOpenBlob(_,c.w.globals.chartID+".png"):c.triggerDownload(v,c.w.config.chart.toolbar.export.png.filename,".png")})}},{key:"exportToCSV",value:function(c){var h=this,v=c.series,_=c.columnDelimiter,A=c.lineDelimiter,P=void 0===A?"\n":A,E=this.w,F=[],W=[],K="",J=new de(this.ctx),ct=new Fe(this.ctx),yt=function(Vt){var Ht="";if(E.globals.axisCharts){if("category"===E.config.xaxis.type||E.config.xaxis.convertedCatToNumeric)if(E.globals.isBarHorizontal){var qt=E.globals.yLabelFormatters[0],le=new on(h.ctx).getActiveConfigSeriesIndex();Ht=qt(E.globals.labels[Vt],{seriesIndex:le,dataPointIndex:Vt,w:E})}else Ht=ct.getLabel(E.globals.labels,E.globals.timescaleLabels,0,Vt).text;"datetime"===E.config.xaxis.type&&(E.config.xaxis.categories.length?Ht=E.config.xaxis.categories[Vt]:E.config.labels.length&&(Ht=E.config.labels[Vt]))}else Ht=E.config.labels[Vt];return Array.isArray(Ht)&&(Ht=Ht.join(" ")),lt.isNumber(Ht)?Ht:Ht.split(_).join("")};F.push(E.config.chart.toolbar.export.csv.headerCategory),v.map(function(Vt,Ht){var qt=Vt.name?Vt.name:"series-".concat(Ht);E.globals.axisCharts&&F.push(qt.split(_).join("")?qt.split(_).join(""):"series-".concat(Ht))}),E.globals.axisCharts||(F.push(E.config.chart.toolbar.export.csv.headerValue),W.push(F.join(_))),v.map(function(Vt,Ht){E.globals.axisCharts?function(qt,le){if(F.length&&0===le&&W.push(F.join(_)),qt.data&&qt.data.length)for(var me=0;me<qt.data.length;me++){F=[];var De=yt(me);if(De||(J.isFormatXY()?De=v[le].data[me].x:J.isFormat2DArray()&&(De=v[le].data[me]?v[le].data[me][0]:"")),0===le){F.push("datetime"===E.config.xaxis.type&&String(De).length>=10?E.config.chart.toolbar.export.csv.dateFormatter(De):lt.isNumber(De)?De:De.split(_).join(""));for(var j=0;j<E.globals.series.length;j++)F.push(E.globals.series[j][me])}("candlestick"===E.config.chart.type||qt.type&&"candlestick"===qt.type)&&(F.pop(),F.push(E.globals.seriesCandleO[le][me]),F.push(E.globals.seriesCandleH[le][me]),F.push(E.globals.seriesCandleL[le][me]),F.push(E.globals.seriesCandleC[le][me])),("boxPlot"===E.config.chart.type||qt.type&&"boxPlot"===qt.type)&&(F.pop(),F.push(E.globals.seriesCandleO[le][me]),F.push(E.globals.seriesCandleH[le][me]),F.push(E.globals.seriesCandleM[le][me]),F.push(E.globals.seriesCandleL[le][me]),F.push(E.globals.seriesCandleC[le][me])),"rangeBar"===E.config.chart.type&&(F.pop(),F.push(E.globals.seriesRangeStart[le][me]),F.push(E.globals.seriesRangeEnd[le][me])),F.length&&W.push(F.join(_))}}(Vt,Ht):((F=[]).push(E.globals.labels[Ht].split(_).join("")),F.push(E.globals.series[Ht]),W.push(F.join(_)))}),K+=W.join(P),this.triggerDownload("data:text/csv; charset=utf-8,"+encodeURIComponent("\ufeff"+K),E.config.chart.toolbar.export.csv.filename,".csv")}},{key:"triggerDownload",value:function(c,h,v){var _=document.createElement("a");_.href=c,_.download=(h||this.w.globals.chartID)+v,document.body.appendChild(_),_.click(),document.body.removeChild(_)}}]),ae}(),sn=function(){function ae(c){$t(this,ae),this.ctx=c,this.w=c.w;var h=this.w;this.axesUtils=new Fe(c),this.xaxisLabels=h.globals.labels.slice(),h.globals.timescaleLabels.length>0&&!h.globals.isBarHorizontal&&(this.xaxisLabels=h.globals.timescaleLabels.slice()),h.config.xaxis.overwriteCategories&&(this.xaxisLabels=h.config.xaxis.overwriteCategories),this.drawnLabels=[],this.drawnLabelsRects=[],this.offY="top"===h.config.xaxis.position?0:h.globals.gridHeight+1,this.offY=this.offY+h.config.xaxis.axisBorder.offsetY,this.isCategoryBarHorizontal="bar"===h.config.chart.type&&h.config.plotOptions.bar.horizontal,this.xaxisFontSize=h.config.xaxis.labels.style.fontSize,this.xaxisFontFamily=h.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=h.config.xaxis.labels.style.colors,this.xaxisBorderWidth=h.config.xaxis.axisBorder.width,this.isCategoryBarHorizontal&&(this.xaxisBorderWidth=h.config.yaxis[0].axisBorder.width.toString()),this.xaxisBorderWidth=this.xaxisBorderWidth.indexOf("%")>-1?h.globals.gridWidth*parseInt(this.xaxisBorderWidth,10)/100:parseInt(this.xaxisBorderWidth,10),this.xaxisBorderHeight=h.config.xaxis.axisBorder.height,this.yaxis=h.config.yaxis[0]}return ee(ae,[{key:"drawXaxis",value:function(){var c,h=this,v=this.w,_=new ot(this.ctx),A=_.group({class:"apexcharts-xaxis",transform:"translate(".concat(v.config.xaxis.offsetX,", ").concat(v.config.xaxis.offsetY,")")}),P=_.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(v.globals.translateXAxisX,", ").concat(v.globals.translateXAxisY,")")});A.add(P);for(var E=v.globals.padHorizontal,F=[],W=0;W<this.xaxisLabels.length;W++)F.push(this.xaxisLabels[W]);var K=F.length;E=v.globals.isXNumeric?E+(c=v.globals.gridWidth/(K>1?K-1:K))/2+v.config.xaxis.labels.offsetX:E+(c=v.globals.gridWidth/F.length)+v.config.xaxis.labels.offsetX;for(var ct=function(me){var De=E-c/2+v.config.xaxis.labels.offsetX;0===me&&1===K&&c/2===E&&1===v.globals.dataPoints&&(De=v.globals.gridWidth/2);var j=h.axesUtils.getLabel(F,v.globals.timescaleLabels,De,me,h.drawnLabels,h.xaxisFontSize),ut=28;if(v.globals.rotateXLabels&&(ut=22),(j=void 0!==v.config.xaxis.tickAmount&&"dataPoints"!==v.config.xaxis.tickAmount&&"datetime"!==v.config.xaxis.type?h.axesUtils.checkLabelBasedOnTickamount(me,j,K):h.axesUtils.checkForOverflowingLabels(me,j,K,h.drawnLabels,h.drawnLabelsRects)).text&&v.globals.xaxisLabelsCount++,v.config.xaxis.labels.show){var Zt=_.drawText({x:j.x,y:h.offY+v.config.xaxis.labels.offsetY+ut-("top"===v.config.xaxis.position?v.globals.xAxisHeight+v.config.xaxis.axisTicks.height-2:0),text:j.text,textAnchor:"middle",fontWeight:j.isBold?600:v.config.xaxis.labels.style.fontWeight,fontSize:h.xaxisFontSize,fontFamily:h.xaxisFontFamily,foreColor:Array.isArray(h.xaxisForeColors)?v.config.xaxis.convertedCatToNumeric?h.xaxisForeColors[v.globals.minX+me-1]:h.xaxisForeColors[me]:h.xaxisForeColors,isPlainText:!1,cssClass:"apexcharts-xaxis-label "+v.config.xaxis.labels.style.cssClass});P.add(Zt);var he=document.createElementNS(v.globals.SVGNS,"title");he.textContent=Array.isArray(j.text)?j.text.join(" "):j.text,Zt.node.appendChild(he),""!==j.text&&(h.drawnLabels.push(j.text),h.drawnLabelsRects.push(j))}E+=c},yt=0;yt<=K-1;yt++)ct(yt);if(void 0!==v.config.xaxis.title.text){var Vt=_.group({class:"apexcharts-xaxis-title"}),Ht=_.drawText({x:v.globals.gridWidth/2+v.config.xaxis.title.offsetX,y:this.offY+parseFloat(this.xaxisFontSize)+v.globals.xAxisLabelsHeight+v.config.xaxis.title.offsetY,text:v.config.xaxis.title.text,textAnchor:"middle",fontSize:v.config.xaxis.title.style.fontSize,fontFamily:v.config.xaxis.title.style.fontFamily,fontWeight:v.config.xaxis.title.style.fontWeight,foreColor:v.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text "+v.config.xaxis.title.style.cssClass});Vt.add(Ht),A.add(Vt)}if(v.config.xaxis.axisBorder.show){var qt=v.globals.barPadForNumericAxis,le=_.drawLine(v.globals.padHorizontal+v.config.xaxis.axisBorder.offsetX-qt,this.offY,this.xaxisBorderWidth+qt,this.offY,v.config.xaxis.axisBorder.color,0,this.xaxisBorderHeight);A.add(le)}return A}},{key:"drawXaxisInversed",value:function(c){var h,v,_=this,A=this.w,P=new ot(this.ctx),E=A.config.yaxis[0].opposite?A.globals.translateYAxisX[c]:0,F=P.group({class:"apexcharts-yaxis apexcharts-xaxis-inversed",rel:c}),W=P.group({class:"apexcharts-yaxis-texts-g apexcharts-xaxis-inversed-texts-g",transform:"translate("+E+", 0)"});F.add(W);var K=[];if(A.config.yaxis[c].show)for(var J=0;J<this.xaxisLabels.length;J++)K.push(this.xaxisLabels[J]);v=-(h=A.globals.gridHeight/K.length)/2.2;var ct=A.globals.yLabelFormatters[0],yt=A.config.yaxis[0].labels;if(yt.show)for(var Vt=function(ut){var Zt=void 0===K[ut]?"":K[ut];Zt=ct(Zt,{seriesIndex:c,dataPointIndex:ut,w:A});var he=_.axesUtils.getYAxisForeColor(yt.style.colors,c),Ue=0;Array.isArray(Zt)&&(Ue=Zt.length/2*parseInt(yt.style.fontSize,10));var kn=P.drawText({x:yt.offsetX-15,y:v+h+yt.offsetY-Ue,text:Zt,textAnchor:_.yaxis.opposite?"start":"end",foreColor:Array.isArray(he)?he[ut]:he,fontSize:yt.style.fontSize,fontFamily:yt.style.fontFamily,fontWeight:yt.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-yaxis-label "+yt.style.cssClass});W.add(kn);var rn=document.createElementNS(A.globals.SVGNS,"title");if(rn.textContent=Array.isArray(Zt)?Zt.join(" "):Zt,kn.node.appendChild(rn),0!==A.config.yaxis[c].labels.rotate){var Kn=P.rotateAroundCenter(kn.node);kn.node.setAttribute("transform","rotate(".concat(A.config.yaxis[c].labels.rotate," 0 ").concat(Kn.y,")"))}v+=h},Ht=0;Ht<=K.length-1;Ht++)Vt(Ht);if(void 0!==A.config.yaxis[0].title.text){var qt=P.group({class:"apexcharts-yaxis-title apexcharts-xaxis-title-inversed",transform:"translate("+E+", 0)"}),le=P.drawText({x:0,y:A.globals.gridHeight/2,text:A.config.yaxis[0].title.text,textAnchor:"middle",foreColor:A.config.yaxis[0].title.style.color,fontSize:A.config.yaxis[0].title.style.fontSize,fontWeight:A.config.yaxis[0].title.style.fontWeight,fontFamily:A.config.yaxis[0].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text "+A.config.yaxis[0].title.style.cssClass});qt.add(le),F.add(qt)}var me=0;this.isCategoryBarHorizontal&&A.config.yaxis[0].opposite&&(me=A.globals.gridWidth);var De=A.config.xaxis.axisBorder;if(De.show){var j=P.drawLine(A.globals.padHorizontal+De.offsetX+me,1+De.offsetY,A.globals.padHorizontal+De.offsetX+me,A.globals.gridHeight+De.offsetY,De.color,0);F.add(j)}return A.config.yaxis[0].axisTicks.show&&this.axesUtils.drawYAxisTicks(me,K.length,A.config.yaxis[0].axisBorder,A.config.yaxis[0].axisTicks,0,h,F),F}},{key:"drawXaxisTicks",value:function(c,h){var v=this.w,_=c;if(!(c<0||c-2>v.globals.gridWidth)){var A=this.offY+v.config.xaxis.axisTicks.offsetY,P=A+v.config.xaxis.axisTicks.height;if("top"===v.config.xaxis.position&&(P=A-v.config.xaxis.axisTicks.height),v.config.xaxis.axisTicks.show){var E=new ot(this.ctx).drawLine(c+v.config.xaxis.axisTicks.offsetX,A+v.config.xaxis.offsetY,_+v.config.xaxis.axisTicks.offsetX,P+v.config.xaxis.offsetY,v.config.xaxis.axisTicks.color);h.add(E),E.node.classList.add("apexcharts-xaxis-tick")}}}},{key:"getXAxisTicksPositions",value:function(){var c=this.w,h=[],v=this.xaxisLabels.length,_=c.globals.padHorizontal;if(c.globals.timescaleLabels.length>0)for(var A=0;A<v;A++)h.push(_=this.xaxisLabels[A].position);else for(var P=v,E=0;E<P;E++){var F=P;c.globals.isXNumeric&&"bar"!==c.config.chart.type&&(F-=1),h.push(_+=c.globals.gridWidth/F)}return h}},{key:"xAxisLabelCorrections",value:function(){var c=this.w,h=new ot(this.ctx),v=c.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g"),_=c.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-texts-g text"),A=c.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-inversed text"),P=c.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-inversed-texts-g text tspan");if(c.globals.rotateXLabels||c.config.xaxis.labels.rotateAlways)for(var E=0;E<_.length;E++){var F=h.rotateAroundCenter(_[E]);F.y=F.y-1,F.x=F.x+1,_[E].setAttribute("transform","rotate(".concat(c.config.xaxis.labels.rotate," ").concat(F.x," ").concat(F.y,")")),_[E].setAttribute("text-anchor","end"),v.setAttribute("transform","translate(0, ".concat(-10,")")),c.config.xaxis.labels.trim&&Array.prototype.forEach.call(_[E].childNodes,function(yt){h.placeTextWithEllipsis(yt,yt.textContent,c.globals.xAxisLabelsHeight-("bottom"===c.config.legend.position?20:10))})}else!function(){for(var yt=c.globals.gridWidth/(c.globals.labels.length+1),Vt=0;Vt<_.length;Vt++)c.config.xaxis.labels.trim&&"datetime"!==c.config.xaxis.type&&Array.prototype.forEach.call(_[Vt].childNodes,function(qt){h.placeTextWithEllipsis(qt,qt.textContent,yt)})}();if(A.length>0){var K=A[A.length-1].getBBox(),J=A[0].getBBox();K.x<-20&&A[A.length-1].parentNode.removeChild(A[A.length-1]),J.x+J.width>c.globals.gridWidth&&!c.globals.isBarHorizontal&&A[0].parentNode.removeChild(A[0]);for(var ct=0;ct<P.length;ct++)h.placeTextWithEllipsis(P[ct],P[ct].textContent,c.config.yaxis[0].labels.maxWidth-2*parseFloat(c.config.yaxis[0].title.style.fontSize)-20)}}}]),ae}(),hn=function(){function ae(c){$t(this,ae),this.ctx=c,this.w=c.w;var h=this.w;this.xaxisLabels=h.globals.labels.slice(),this.axesUtils=new Fe(c),this.isRangeBar=h.globals.seriesRangeBar.length,h.globals.timescaleLabels.length>0&&(this.xaxisLabels=h.globals.timescaleLabels.slice())}return ee(ae,[{key:"drawGridArea",value:function(){var c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,h=this.w,v=new ot(this.ctx);null===c&&(c=v.group({class:"apexcharts-grid"}));var _=v.drawLine(h.globals.padHorizontal,1,h.globals.padHorizontal,h.globals.gridHeight,"transparent"),A=v.drawLine(h.globals.padHorizontal,h.globals.gridHeight,h.globals.gridWidth,h.globals.gridHeight,"transparent");return c.add(A),c.add(_),c}},{key:"drawGrid",value:function(){var c=null;return this.w.globals.axisCharts&&(c=this.renderGrid(),this.drawGridArea(c.el)),c}},{key:"createGridMask",value:function(){var c=this.w,h=c.globals,v=new ot(this.ctx),_=Array.isArray(c.config.stroke.width)?0:c.config.stroke.width;if(Array.isArray(c.config.stroke.width)){var A=0;c.config.stroke.width.forEach(function(J){A=Math.max(A,J)}),_=A}h.dom.elGridRectMask=document.createElementNS(h.SVGNS,"clipPath"),h.dom.elGridRectMask.setAttribute("id","gridRectMask".concat(h.cuid)),h.dom.elGridRectMarkerMask=document.createElementNS(h.SVGNS,"clipPath"),h.dom.elGridRectMarkerMask.setAttribute("id","gridRectMarkerMask".concat(h.cuid)),h.dom.elForecastMask=document.createElementNS(h.SVGNS,"clipPath"),h.dom.elForecastMask.setAttribute("id","forecastMask".concat(h.cuid)),h.dom.elNonForecastMask=document.createElementNS(h.SVGNS,"clipPath"),h.dom.elNonForecastMask.setAttribute("id","nonForecastMask".concat(h.cuid));var P=c.config.chart.type,E=0,F=0;("bar"===P||"rangeBar"===P||"candlestick"===P||"boxPlot"===P||c.globals.comboBarCount>0)&&c.globals.isXNumeric&&!c.globals.isBarHorizontal&&(F=c.config.grid.padding.right,h.barPadForNumericAxis>(E=c.config.grid.padding.left)&&(E=h.barPadForNumericAxis,F=h.barPadForNumericAxis)),h.dom.elGridRect=v.drawRect(-_/2-E-2,-_/2,h.gridWidth+_+F+E+4,h.gridHeight+_,0,"#fff"),new Ut(this).getLargestMarkerSize();var W=c.globals.markers.largestSize+1;h.dom.elGridRectMarker=v.drawRect(2*-W,2*-W,h.gridWidth+4*W,h.gridHeight+4*W,0,"#fff"),h.dom.elGridRectMask.appendChild(h.dom.elGridRect.node),h.dom.elGridRectMarkerMask.appendChild(h.dom.elGridRectMarker.node);var K=h.dom.baseEl.querySelector("defs");K.appendChild(h.dom.elGridRectMask),K.appendChild(h.dom.elForecastMask),K.appendChild(h.dom.elNonForecastMask),K.appendChild(h.dom.elGridRectMarkerMask)}},{key:"_drawGridLines",value:function(c){var h=c.i,v=c.x1,W=this.w;0===h&&W.globals.skipFirstTimelinelabel||h===c.xCount-1&&W.globals.skipLastTimelinelabel&&!W.config.xaxis.labels.formatter||"radar"===W.config.chart.type||(W.config.grid.xaxis.lines.show&&this._drawGridLine({x1:v,y1:c.y1,x2:c.x2,y2:c.y2,parent:c.parent}),new sn(this.ctx).drawXaxisTicks(v,this.elg))}},{key:"_drawGridLine",value:function(c){var h=c.x1,v=c.y1,_=c.x2,A=c.y2,P=c.parent,E=this.w,F=P.node.classList.contains("apexcharts-gridlines-horizontal"),W=E.config.grid.strokeDashArray,K=E.globals.barPadForNumericAxis,J=new ot(this).drawLine(h-(F?K:0),v,_+(F?K:0),A,E.config.grid.borderColor,W);J.node.classList.add("apexcharts-gridline"),P.add(J)}},{key:"_drawGridBandRect",value:function(c){var h=c.c,v=c.x1,_=c.y1,A=c.x2,P=c.y2,E=c.type,F=this.w,W=new ot(this.ctx),K=F.globals.barPadForNumericAxis;if("column"!==E||"datetime"!==F.config.xaxis.type){var ct=W.drawRect(v-("row"===E?K:0),_,A+("row"===E?2*K:0),P,0,F.config.grid[E].colors[h],F.config.grid[E].opacity);this.elg.add(ct),ct.attr("clip-path","url(#gridRectMask".concat(F.globals.cuid,")")),ct.node.classList.add("apexcharts-grid-".concat(E))}}},{key:"_drawXYLines",value:function(c){var h=this,v=c.xCount,_=c.tickAmount,A=this.w;if(A.config.grid.xaxis.lines.show||A.config.xaxis.axisTicks.show){var P,E=A.globals.padHorizontal,F=A.globals.gridHeight;A.globals.timescaleLabels.length?function(Vt){for(var Ht=Vt.xC,le=Vt.y1,De=Vt.y2,j=0;j<Ht;j++)h._drawGridLines({i:j,x1:h.xaxisLabels[j].position,y1:le,x2:h.xaxisLabels[j].position,y2:De,xCount:v,parent:h.elgridLinesV})}({xC:v,x1:E,y1:0,x2:P,y2:F}):(A.globals.isXNumeric&&(v=A.globals.xAxisScale.result.length),A.config.xaxis.convertedCatToNumeric&&(v=A.globals.xaxisLabelsCount),function(Vt){var Ht=Vt.xC,qt=Vt.x1,le=Vt.y1,me=Vt.x2,De=Vt.y2;if(void 0!==A.config.xaxis.tickAmount&&"dataPoints"!==A.config.xaxis.tickAmount)A.globals.dom.baseEl.querySelectorAll(".apexcharts-text.apexcharts-xaxis-label tspan:not(:empty)").forEach(function(ut,Zt){var he=ut.getBBox();h._drawGridLines({i:Zt,x1:he.x+he.width/2,y1:le,x2:he.x+he.width/2,y2:De,xCount:v,parent:h.elgridLinesV})});else for(var j=0;j<Ht+(A.globals.isXNumeric?0:1);j++)0===j&&1===Ht&&1===A.globals.dataPoints&&(me=qt=A.globals.gridWidth/2),h._drawGridLines({i:j,x1:qt,y1:le,x2:me,y2:De,xCount:v,parent:h.elgridLinesV}),me=qt+=A.globals.gridWidth/(A.globals.isXNumeric?Ht-1:Ht)}({xC:v,x1:E,y1:0,x2:P,y2:F}))}if(A.config.grid.yaxis.lines.show){var W=0,K=0,J=A.globals.gridWidth,ct=_+1;this.isRangeBar&&(ct=A.globals.labels.length);for(var yt=0;yt<ct+(this.isRangeBar?1:0);yt++)this._drawGridLine({x1:0,y1:W,x2:J,y2:K,parent:this.elgridLinesH}),K=W+=A.globals.gridHeight/(this.isRangeBar?ct:_)}}},{key:"_drawInvertedXYLines",value:function(c){var h=c.xCount,v=this.w;if(v.config.grid.xaxis.lines.show||v.config.xaxis.axisTicks.show)for(var _,A=v.globals.padHorizontal,P=v.globals.gridHeight,E=0;E<h+1;E++)v.config.grid.xaxis.lines.show&&this._drawGridLine({x1:A,y1:0,x2:_,y2:P,parent:this.elgridLinesV}),new sn(this.ctx).drawXaxisTicks(A,this.elg),_=A=A+v.globals.gridWidth/h+.3;if(v.config.grid.yaxis.lines.show)for(var F=0,W=0,K=v.globals.gridWidth,J=0;J<v.globals.dataPoints+1;J++)this._drawGridLine({x1:0,y1:F,x2:K,y2:W,parent:this.elgridLinesH}),W=F+=v.globals.gridHeight/v.globals.dataPoints}},{key:"renderGrid",value:function(){var c=this.w,h=new ot(this.ctx);this.elg=h.group({class:"apexcharts-grid"}),this.elgridLinesH=h.group({class:"apexcharts-gridlines-horizontal"}),this.elgridLinesV=h.group({class:"apexcharts-gridlines-vertical"}),this.elg.add(this.elgridLinesH),this.elg.add(this.elgridLinesV),c.config.grid.show||(this.elgridLinesV.hide(),this.elgridLinesH.hide());for(var v,_=c.globals.yAxisScale.length?c.globals.yAxisScale[0].result.length-1:5,A=0;A<c.globals.series.length&&(void 0!==c.globals.yAxisScale[A]&&(_=c.globals.yAxisScale[A].result.length-1),!(_>2));A++);return!c.globals.isBarHorizontal||this.isRangeBar?(v=this.xaxisLabels.length,this.isRangeBar&&(_=c.globals.labels.length,c.config.xaxis.tickAmount&&c.config.xaxis.labels.formatter&&(v=c.config.xaxis.tickAmount)),this._drawXYLines({xCount:v,tickAmount:_})):this._drawInvertedXYLines({xCount:v=_,tickAmount:_=c.globals.xTickAmount}),this.drawGridBands(v,_),{el:this.elg,xAxisTickWidth:c.globals.gridWidth/v}}},{key:"drawGridBands",value:function(c,h){var v=this.w;if(void 0!==v.config.grid.row.colors&&v.config.grid.row.colors.length>0)for(var _=0,A=v.globals.gridHeight/h,P=v.globals.gridWidth,E=0,F=0;E<h;E++,F++)F>=v.config.grid.row.colors.length&&(F=0),this._drawGridBandRect({c:F,x1:0,y1:_,x2:P,y2:A,type:"row"}),_+=v.globals.gridHeight/h;if(void 0!==v.config.grid.column.colors&&v.config.grid.column.colors.length>0)for(var W=v.globals.isBarHorizontal||"category"!==v.config.xaxis.type&&!v.config.xaxis.convertedCatToNumeric?c:c-1,K=v.globals.padHorizontal,J=v.globals.padHorizontal+v.globals.gridWidth/W,ct=v.globals.gridHeight,yt=0,Vt=0;yt<c;yt++,Vt++)Vt>=v.config.grid.column.colors.length&&(Vt=0),this._drawGridBandRect({c:Vt,x1:K,y1:0,x2:J,y2:ct,type:"column"}),K+=v.globals.gridWidth/W}}]),ae}(),$e=function(){function ae(c){$t(this,ae),this.ctx=c,this.w=c.w}return ee(ae,[{key:"niceScale",value:function(c,h){var v=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,_=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,A=arguments.length>4?arguments[4]:void 0,P=this.w,E=Math.abs(h-c);if("dataPoints"===(v=this._adjustTicksForSmallRange(v,_,E))&&(v=P.globals.dataPoints-1),c===Number.MIN_VALUE&&0===h||!lt.isNumber(c)&&!lt.isNumber(h)||c===Number.MIN_VALUE&&h===-Number.MAX_VALUE){var F=this.linearScale(c=0,h=v,v);return F}c>h?(console.warn("axis.min cannot be greater than axis.max"),h=c+.1):c===h&&(c=0===c?0:c-.5,h=0===h?2:h+.5);var W=[];E<1&&A&&("candlestick"===P.config.chart.type||"candlestick"===P.config.series[_].type||"boxPlot"===P.config.chart.type||"boxPlot"===P.config.series[_].type||P.globals.isRangeData)&&(h*=1.01);var K=v+1;K<2?K=2:K>2&&(K-=2);var J=E/K,ct=Math.floor(lt.log10(J)),yt=Math.pow(10,ct),Vt=Math.round(J/yt);Vt<1&&(Vt=1);var Ht=Vt*yt,qt=Ht*Math.floor(c/Ht),le=Ht*Math.ceil(h/Ht),me=qt;if(A&&E>2){for(;W.push(me),!((me+=Ht)>le););return{result:W,niceMin:W[0],niceMax:W[W.length-1]}}var De=c;(W=[]).push(De);for(var j=Math.abs(h-c)/v,ut=0;ut<=v;ut++)W.push(De+=j);return W[W.length-2]>=h&&W.pop(),{result:W,niceMin:W[0],niceMax:W[W.length-1]}}},{key:"linearScale",value:function(c,h){var v=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,_=arguments.length>3?arguments[3]:void 0,A=Math.abs(h-c);"dataPoints"===(v=this._adjustTicksForSmallRange(v,_,A))&&(v=this.w.globals.dataPoints-1);var P=A/v;v===Number.MAX_VALUE&&(v=10,P=1);for(var E=[],F=c;v>=0;)E.push(F),F+=P,v-=1;return{result:E,niceMin:E[0],niceMax:E[E.length-1]}}},{key:"logarithmicScale",value:function(c,h){for(var v=[],_=Math.ceil(Math.log(c)/Math.log(h))+1,A=0;A<_;A++)v.push(Math.pow(h,A));return{result:v,niceMin:v[0],niceMax:v[v.length-1]}}},{key:"_adjustTicksForSmallRange",value:function(c,h,v){var _=c;if(void 0!==h&&this.w.config.yaxis[h].labels.formatter&&void 0===this.w.config.yaxis[h].tickAmount){var A=this.w.config.yaxis[h].labels.formatter(1);lt.isNumber(Number(A))&&!lt.isFloat(A)&&(_=Math.ceil(v))}return _<c?_:c}},{key:"setYScaleForIndex",value:function(c,h,v){var _=this.w.globals,A=this.w.config,P=_.isBarHorizontal?A.xaxis:A.yaxis[c];void 0===_.yAxisScale[c]&&(_.yAxisScale[c]=[]);var E=Math.abs(v-h);P.logarithmic&&E<=5&&(_.invalidLogScale=!0),P.logarithmic&&E>5?(_.allSeriesCollapsed=!1,_.yAxisScale[c]=this.logarithmicScale(v,P.logBase)):v!==-Number.MAX_VALUE&&lt.isNumber(v)?(_.allSeriesCollapsed=!1,_.yAxisScale[c]=void 0===P.min&&void 0===P.max||P.forceNiceScale?this.niceScale(h,v,P.tickAmount?P.tickAmount:E<5&&E>1?E+1:5,c,void 0===A.yaxis[c].max&&void 0===A.yaxis[c].min||A.yaxis[c].forceNiceScale):this.linearScale(h,v,P.tickAmount,c)):_.yAxisScale[c]=this.linearScale(0,5,5)}},{key:"setXScale",value:function(c,h){var v=this.w,_=v.globals,A=v.config.xaxis,P=Math.abs(h-c);return _.xAxisScale=h!==-Number.MAX_VALUE&&lt.isNumber(h)?this.linearScale(c,h,A.tickAmount?A.tickAmount:P<5&&P>1?P+1:5,0):this.linearScale(0,5,5),_.xAxisScale}},{key:"setMultipleYScales",value:function(){var c=this,h=this.w.globals,v=this.w.config,_=h.minYArr.concat([]),A=h.maxYArr.concat([]),P=[];v.yaxis.forEach(function(E,F){var W=F;v.series.forEach(function(ct,yt){ct.name===E.seriesName&&(W=yt,P.push(F!==yt?{index:yt,similarIndex:F,alreadyExists:!0}:{index:yt}))}),c.setYScaleForIndex(F,_[W],A[W])}),this.sameScaleInMultipleAxes(_,A,P)}},{key:"sameScaleInMultipleAxes",value:function(c,h,v){var _=this,A=this.w.config,P=this.w.globals,E=[];v.forEach(function(Ht){Ht.alreadyExists&&(void 0===E[Ht.index]&&(E[Ht.index]=[]),E[Ht.index].push(Ht.index),E[Ht.index].push(Ht.similarIndex))}),P.yAxisSameScaleIndices=E,E.forEach(function(Ht,qt){E.forEach(function(le,me){var De,j;qt!==me&&(De=Ht,j=le,De.filter(function(ut){return-1!==j.indexOf(ut)})).length>0&&(E[qt]=E[qt].concat(E[me]))})});var F=E.map(function(Ht){return Ht.filter(function(qt,le){return Ht.indexOf(qt)===le})}).map(function(Ht){return Ht.sort()});E=E.filter(function(Ht){return!!Ht});var W=F.slice(),K=W.map(function(Ht){return JSON.stringify(Ht)});W=W.filter(function(Ht,qt){return K.indexOf(JSON.stringify(Ht))===qt});var J=[],ct=[];c.forEach(function(Ht,qt){W.forEach(function(le,me){le.indexOf(qt)>-1&&(void 0===J[me]&&(J[me]=[],ct[me]=[]),J[me].push({key:qt,value:Ht}),ct[me].push({key:qt,value:h[qt]}))})});var yt=Array.apply(null,Array(W.length)).map(Number.prototype.valueOf,Number.MIN_VALUE),Vt=Array.apply(null,Array(W.length)).map(Number.prototype.valueOf,-Number.MAX_VALUE);J.forEach(function(Ht,qt){Ht.forEach(function(le,me){yt[qt]=Math.min(le.value,yt[qt])})}),ct.forEach(function(Ht,qt){Ht.forEach(function(le,me){Vt[qt]=Math.max(le.value,Vt[qt])})}),c.forEach(function(Ht,qt){ct.forEach(function(le,me){var De=yt[me],j=Vt[me];A.chart.stacked&&(j=0,le.forEach(function(ut,Zt){ut.value!==-Number.MAX_VALUE&&(j+=ut.value),De!==Number.MIN_VALUE&&(De+=J[me][Zt].value)})),le.forEach(function(ut,Zt){le[Zt].key===qt&&(void 0!==A.yaxis[qt].min&&(De="function"==typeof A.yaxis[qt].min?A.yaxis[qt].min(P.minY):A.yaxis[qt].min),void 0!==A.yaxis[qt].max&&(j="function"==typeof A.yaxis[qt].max?A.yaxis[qt].max(P.maxY):A.yaxis[qt].max),_.setYScaleForIndex(qt,De,j))})})})}},{key:"autoScaleY",value:function(c,h,v){c||(c=this);var _=c.w;if(_.globals.isMultipleYAxis||_.globals.collapsedSeries.length)return console.warn("autoScaleYaxis is not supported in a multi-yaxis chart."),h;var A=_.globals.seriesX[0],P=_.config.chart.stacked;return h.forEach(function(E,F){for(var W=0,K=0;K<A.length;K++)if(A[K]>=v.xaxis.min){W=K;break}var J,ct,yt=_.globals.minYArr[F],Vt=_.globals.maxYArr[F],Ht=_.globals.stackedSeriesTotals;_.globals.series.forEach(function(qt,le){var me=qt[W];P?(J=ct=me=Ht[W],Ht.forEach(function(De,j){A[j]<=v.xaxis.max&&A[j]>=v.xaxis.min&&(De>ct&&null!==De&&(ct=De),qt[j]<J&&null!==qt[j]&&(J=qt[j]))})):(J=ct=me,qt.forEach(function(De,j){if(A[j]<=v.xaxis.max&&A[j]>=v.xaxis.min){var ut=De,Zt=De;_.globals.series.forEach(function(he,Ue){null!==De&&(ut=Math.min(he[j],ut),Zt=Math.max(he[j],Zt))}),Zt>ct&&null!==Zt&&(ct=Zt),ut<J&&null!==ut&&(J=ut)}})),void 0===J&&void 0===ct&&(J=yt,ct=Vt),(ct*=ct<0?.9:1.1)<0&&ct<Vt&&(ct=Vt),(J*=J<0?1.1:.9)<0&&J>yt&&(J=yt),h.length>1?(h[le].min=void 0===E.min?J:E.min,h[le].max=void 0===E.max?ct:E.max):(h[0].min=void 0===E.min?J:E.min,h[0].max=void 0===E.max?ct:E.max)})}),h}}]),ae}(),ti=function(){function ae(c){$t(this,ae),this.ctx=c,this.w=c.w,this.scales=new $e(c)}return ee(ae,[{key:"init",value:function(){this.setYRange(),this.setXRange(),this.setZRange()}},{key:"getMinYMaxY",value:function(c){var h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE,v=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-Number.MAX_VALUE,_=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,A=this.w.config,P=this.w.globals,E=-Number.MAX_VALUE,F=Number.MIN_VALUE;null===_&&(_=c+1);var W=P.series,K=W,J=W;"candlestick"===A.chart.type?(K=P.seriesCandleL,J=P.seriesCandleH):"boxPlot"===A.chart.type?(K=P.seriesCandleO,J=P.seriesCandleC):P.isRangeData&&(K=P.seriesRangeStart,J=P.seriesRangeEnd);for(var ct=c;ct<_;ct++){P.dataPoints=Math.max(P.dataPoints,W[ct].length);for(var yt=0;yt<P.series[ct].length;yt++){var Vt=W[ct][yt];null!==Vt&&lt.isNumber(Vt)?(void 0!==J[ct][yt]&&(E=Math.max(E,J[ct][yt]),h=Math.min(h,J[ct][yt])),void 0!==K[ct][yt]&&(h=Math.min(h,K[ct][yt]),v=Math.max(v,K[ct][yt])),"candlestick"!==this.w.config.chart.type&&"boxPlot"!==this.w.config.chart.type||(void 0!==P.seriesCandleC[ct][yt]&&(E=Math.max(E,P.seriesCandleO[ct][yt]),E=Math.max(E,P.seriesCandleH[ct][yt]),E=Math.max(E,P.seriesCandleL[ct][yt]),E=Math.max(E,P.seriesCandleC[ct][yt]),"boxPlot"===this.w.config.chart.type&&(E=Math.max(E,P.seriesCandleM[ct][yt]))),!A.series[ct].type||"candlestick"===A.series[ct].type&&"boxPlot"===A.series[ct].type||(E=Math.max(E,P.series[ct][yt]),h=Math.min(h,P.series[ct][yt])),v=E),P.seriesGoals[ct]&&P.seriesGoals[ct][yt]&&Array.isArray(P.seriesGoals[ct][yt])&&P.seriesGoals[ct][yt].forEach(function(Ht){F!==Number.MIN_VALUE&&(F=Math.min(F,Ht.value),h=F),E=Math.max(E,Ht.value),v=E}),lt.isFloat(Vt)&&(Vt=lt.noExponents(Vt),P.yValueDecimal=Math.max(P.yValueDecimal,Vt.toString().split(".")[1].length)),F>K[ct][yt]&&K[ct][yt]<0&&(F=K[ct][yt])):P.hasNullValues=!0}}return"rangeBar"===A.chart.type&&P.seriesRangeStart.length&&P.isBarHorizontal&&(F=h),"bar"===A.chart.type&&(F<0&&E<0&&(E=0),F===Number.MIN_VALUE&&(F=0)),{minY:F,maxY:E,lowestY:h,highestY:v}}},{key:"setYRange",value:function(){var c=this.w.globals,h=this.w.config;c.maxY=-Number.MAX_VALUE,c.minY=Number.MIN_VALUE;var v=Number.MAX_VALUE;if(c.isMultipleYAxis)for(var _=0;_<c.series.length;_++){var A=this.getMinYMaxY(_,v,null,_+1);c.minYArr.push(A.minY),c.maxYArr.push(A.maxY),v=A.lowestY}var P=this.getMinYMaxY(0,v,null,c.series.length);if(c.minY=P.minY,c.maxY=P.maxY,v=P.lowestY,h.chart.stacked&&this._setStackedMinMax(),("line"===h.chart.type||"area"===h.chart.type||"candlestick"===h.chart.type||"boxPlot"===h.chart.type||"rangeBar"===h.chart.type&&!c.isBarHorizontal)&&c.minY===Number.MIN_VALUE&&v!==-Number.MAX_VALUE&&v!==c.maxY){var E=c.maxY-v;(v>=0&&v<=10||void 0!==h.yaxis[0].min||void 0!==h.yaxis[0].max)&&(E=0),c.minY=v-5*E/100,v>0&&c.minY<0&&(c.minY=0),c.maxY=c.maxY+5*E/100}return h.yaxis.forEach(function(F,W){void 0!==F.max&&("number"==typeof F.max?c.maxYArr[W]=F.max:"function"==typeof F.max&&(c.maxYArr[W]=F.max(c.isMultipleYAxis?c.maxYArr[W]:c.maxY)),c.maxY=c.maxYArr[W]),void 0!==F.min&&("number"==typeof F.min?c.minYArr[W]=F.min:"function"==typeof F.min&&(c.minYArr[W]=F.min(c.isMultipleYAxis?c.minYArr[W]===Number.MIN_VALUE?0:c.minYArr[W]:c.minY)),c.minY=c.minYArr[W])}),c.isBarHorizontal&&["min","max"].forEach(function(F){void 0!==h.xaxis[F]&&"number"==typeof h.xaxis[F]&&("min"===F?c.minY=h.xaxis[F]:c.maxY=h.xaxis[F])}),c.isMultipleYAxis?(this.scales.setMultipleYScales(),c.minY=v,c.yAxisScale.forEach(function(F,W){c.minYArr[W]=F.niceMin,c.maxYArr[W]=F.niceMax})):(this.scales.setYScaleForIndex(0,c.minY,c.maxY),c.minY=c.yAxisScale[0].niceMin,c.maxY=c.yAxisScale[0].niceMax,c.minYArr[0]=c.yAxisScale[0].niceMin,c.maxYArr[0]=c.yAxisScale[0].niceMax),{minY:c.minY,maxY:c.maxY,minYArr:c.minYArr,maxYArr:c.maxYArr,yAxisScale:c.yAxisScale}}},{key:"setXRange",value:function(){var c=this.w.globals,h=this.w.config,v="numeric"===h.xaxis.type||"datetime"===h.xaxis.type||"category"===h.xaxis.type&&!c.noLabelsProvided||c.noLabelsProvided||c.isXNumeric;if(c.isXNumeric&&function(){for(var E=0;E<c.series.length;E++)if(c.labels[E])for(var F=0;F<c.labels[E].length;F++)null!==c.labels[E][F]&&lt.isNumber(c.labels[E][F])&&(c.maxX=Math.max(c.maxX,c.labels[E][F]),c.initialMaxX=Math.max(c.maxX,c.labels[E][F]),c.minX=Math.min(c.minX,c.labels[E][F]),c.initialMinX=Math.min(c.minX,c.labels[E][F]))}(),c.noLabelsProvided&&0===h.xaxis.categories.length&&(c.maxX=c.labels[c.labels.length-1],c.initialMaxX=c.labels[c.labels.length-1],c.minX=1,c.initialMinX=1),c.isXNumeric||c.noLabelsProvided||c.dataFormatXNumeric){var _;if(void 0===h.xaxis.tickAmount?(_=Math.round(c.svgWidth/150),"numeric"===h.xaxis.type&&c.dataPoints<30&&(_=c.dataPoints-1),_>c.dataPoints&&0!==c.dataPoints&&(_=c.dataPoints-1)):"dataPoints"===h.xaxis.tickAmount?(c.series.length>1&&(_=c.series[c.maxValsInArrayIndex].length-1),c.isXNumeric&&(_=c.maxX-c.minX-1)):_=h.xaxis.tickAmount,c.xTickAmount=_,void 0!==h.xaxis.max&&"number"==typeof h.xaxis.max&&(c.maxX=h.xaxis.max),void 0!==h.xaxis.min&&"number"==typeof h.xaxis.min&&(c.minX=h.xaxis.min),void 0!==h.xaxis.range&&(c.minX=c.maxX-h.xaxis.range),c.minX!==Number.MAX_VALUE&&c.maxX!==-Number.MAX_VALUE)if(h.xaxis.convertedCatToNumeric&&!c.dataFormatXNumeric){for(var A=[],P=c.minX-1;P<c.maxX;P++)A.push(P+1);c.xAxisScale={result:A,niceMin:A[0],niceMax:A[A.length-1]}}else c.xAxisScale=this.scales.setXScale(c.minX,c.maxX);else c.xAxisScale=this.scales.linearScale(1,_,_),c.noLabelsProvided&&c.labels.length>0&&(c.xAxisScale=this.scales.linearScale(1,c.labels.length,_-1),c.seriesX=c.labels.slice());v&&(c.labels=c.xAxisScale.result.slice())}return c.isBarHorizontal&&c.labels.length&&(c.xTickAmount=c.labels.length),this._handleSingleDataPoint(),this._getMinXDiff(),{minX:c.minX,maxX:c.maxX}}},{key:"setZRange",value:function(){var c=this.w.globals;if(c.isDataXYZ)for(var h=0;h<c.series.length;h++)if(void 0!==c.seriesZ[h])for(var v=0;v<c.seriesZ[h].length;v++)null!==c.seriesZ[h][v]&&lt.isNumber(c.seriesZ[h][v])&&(c.maxZ=Math.max(c.maxZ,c.seriesZ[h][v]),c.minZ=Math.min(c.minZ,c.seriesZ[h][v]))}},{key:"_handleSingleDataPoint",value:function(){var c=this.w.globals,h=this.w.config;if(c.minX===c.maxX){var v=new zt(this.ctx);if("datetime"===h.xaxis.type){var _=v.getDate(c.minX);_.setUTCDate(_.getDate()-2),c.minX=new Date(_).getTime();var A=v.getDate(c.maxX);A.setUTCDate(A.getDate()+2),c.maxX=new Date(A).getTime()}else("numeric"===h.xaxis.type||"category"===h.xaxis.type&&!c.noLabelsProvided)&&(c.minX=c.minX-2,c.initialMinX=c.minX,c.maxX=c.maxX+2,c.initialMaxX=c.maxX)}}},{key:"_getMinXDiff",value:function(){var c=this.w.globals;c.isXNumeric&&c.seriesX.forEach(function(h,v){1===h.length&&h.push(c.seriesX[c.maxValsInArrayIndex][c.seriesX[c.maxValsInArrayIndex].length-1]);var _=h.slice();_.sort(function(A,P){return A-P}),_.forEach(function(A,P){if(P>0){var E=A-_[P-1];E>0&&(c.minXDiff=Math.min(E,c.minXDiff))}}),1===c.dataPoints&&c.minXDiff===Number.MAX_VALUE&&(c.minXDiff=.5)})}},{key:"_setStackedMinMax",value:function(){var c=this.w.globals,h=[],v=[];if(c.series.length)for(var _=0;_<c.series[c.maxValsInArrayIndex].length;_++)for(var A=0,P=0,E=0;E<c.series.length;E++)null!==c.series[E][_]&&lt.isNumber(c.series[E][_])&&(c.series[E][_]>0?A=A+parseFloat(c.series[E][_])+1e-4:P+=parseFloat(c.series[E][_])),E===c.series.length-1&&(h.push(A),v.push(P));for(var F=0;F<h.length;F++)c.maxY=Math.max(c.maxY,h[F]),c.minY=Math.min(c.minY,v[F])}}]),ae}(),ui=function(){function ae(c){$t(this,ae),this.ctx=c,this.w=c.w;var h=this.w;this.xaxisFontSize=h.config.xaxis.labels.style.fontSize,this.axisFontFamily=h.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=h.config.xaxis.labels.style.colors,this.isCategoryBarHorizontal="bar"===h.config.chart.type&&h.config.plotOptions.bar.horizontal,this.xAxisoffX=0,"bottom"===h.config.xaxis.position&&(this.xAxisoffX=h.globals.gridHeight),this.drawnLabels=[],this.axesUtils=new Fe(c)}return ee(ae,[{key:"drawYaxis",value:function(c){var h=this,v=this.w,_=new ot(this.ctx),A=v.config.yaxis[c].labels.style,P=A.fontSize,E=A.fontFamily,F=A.fontWeight,W=_.group({class:"apexcharts-yaxis",rel:c,transform:"translate("+v.globals.translateYAxisX[c]+", 0)"});if(this.axesUtils.isYAxisHidden(c))return W;var K=_.group({class:"apexcharts-yaxis-texts-g"});W.add(K);var J=v.globals.yAxisScale[c].result.length-1,ct=v.globals.gridHeight/J,yt=v.globals.translateY,Vt=v.globals.yLabelFormatters[c],Ht=v.globals.yAxisScale[c].result.slice();Ht=this.axesUtils.checkForReversedLabels(c,Ht);var qt="";if(v.config.yaxis[c].labels.show)for(var le=function(kn){var rn=Ht[kn];rn=Vt(rn,kn,v);var Kn=v.config.yaxis[c].labels.padding;v.config.yaxis[c].opposite&&0!==v.config.yaxis.length&&(Kn*=-1);var zn=h.axesUtils.getYAxisForeColor(A.colors,c),ai=_.drawText({x:Kn,y:yt+J/10+v.config.yaxis[c].labels.offsetY+1,text:rn,textAnchor:v.config.yaxis[c].opposite?"start":"end",fontSize:P,fontFamily:E,fontWeight:F,foreColor:Array.isArray(zn)?zn[kn]:zn,isPlainText:!1,cssClass:"apexcharts-yaxis-label "+A.cssClass});kn===J&&(qt=ai),K.add(ai);var Mi=document.createElementNS(v.globals.SVGNS,"title");if(Mi.textContent=Array.isArray(rn)?rn.join(" "):rn,ai.node.appendChild(Mi),0!==v.config.yaxis[c].labels.rotate){var Ki=_.rotateAroundCenter(qt.node),Qi=_.rotateAroundCenter(ai.node);ai.node.setAttribute("transform","rotate(".concat(v.config.yaxis[c].labels.rotate," ").concat(Ki.x," ").concat(Qi.y,")"))}yt+=ct},me=J;me>=0;me--)le(me);if(void 0!==v.config.yaxis[c].title.text){var De=_.group({class:"apexcharts-yaxis-title"}),j=0;v.config.yaxis[c].opposite&&(j=v.globals.translateYAxisX[c]);var ut=_.drawText({x:j,y:v.globals.gridHeight/2+v.globals.translateY+v.config.yaxis[c].title.offsetY,text:v.config.yaxis[c].title.text,textAnchor:"end",foreColor:v.config.yaxis[c].title.style.color,fontSize:v.config.yaxis[c].title.style.fontSize,fontWeight:v.config.yaxis[c].title.style.fontWeight,fontFamily:v.config.yaxis[c].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text "+v.config.yaxis[c].title.style.cssClass});De.add(ut),W.add(De)}var Zt=v.config.yaxis[c].axisBorder,he=31+Zt.offsetX;if(v.config.yaxis[c].opposite&&(he=-31-Zt.offsetX),Zt.show){var Ue=_.drawLine(he,v.globals.translateY+Zt.offsetY-2,he,v.globals.gridHeight+v.globals.translateY+Zt.offsetY+2,Zt.color,0,Zt.width);W.add(Ue)}return v.config.yaxis[c].axisTicks.show&&this.axesUtils.drawYAxisTicks(he,J,Zt,v.config.yaxis[c].axisTicks,c,ct,W),W}},{key:"drawYaxisInversed",value:function(c){var h=this.w,v=new ot(this.ctx),_=v.group({class:"apexcharts-xaxis apexcharts-yaxis-inversed"}),A=v.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(h.globals.translateXAxisX,", ").concat(h.globals.translateXAxisY,")")});_.add(A);var P=h.globals.yAxisScale[c].result.length-1,E=h.globals.gridWidth/P+.1,F=E+h.config.xaxis.labels.offsetX,W=h.globals.xLabelFormatter,K=h.globals.yAxisScale[c].result.slice(),J=h.globals.timescaleLabels;J.length>0&&(this.xaxisLabels=J.slice(),P=(K=J.slice()).length),K=this.axesUtils.checkForReversedLabels(c,K);var ct=J.length;if(h.config.xaxis.labels.show)for(var yt=ct?0:P;ct?yt<ct:yt>=0;ct?yt++:yt--){var Vt=K[yt];Vt=W(Vt,yt,h);var Ht=h.globals.gridWidth+h.globals.padHorizontal-(F-E+h.config.xaxis.labels.offsetX);if(J.length){var qt=this.axesUtils.getLabel(K,J,Ht,yt,this.drawnLabels,this.xaxisFontSize);Ht=qt.x,Vt=qt.text,this.drawnLabels.push(qt.text),0===yt&&h.globals.skipFirstTimelinelabel&&(Vt=""),yt===K.length-1&&h.globals.skipLastTimelinelabel&&(Vt="")}var le=v.drawText({x:Ht,y:this.xAxisoffX+h.config.xaxis.labels.offsetY+30-("top"===h.config.xaxis.position?h.globals.xAxisHeight+h.config.xaxis.axisTicks.height-2:0),text:Vt,textAnchor:"middle",foreColor:Array.isArray(this.xaxisForeColors)?this.xaxisForeColors[c]:this.xaxisForeColors,fontSize:this.xaxisFontSize,fontFamily:this.xaxisFontFamily,fontWeight:h.config.xaxis.labels.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-xaxis-label "+h.config.xaxis.labels.style.cssClass});A.add(le),le.tspan(Vt);var me=document.createElementNS(h.globals.SVGNS,"title");me.textContent=Vt,le.node.appendChild(me),F+=E}return this.inversedYAxisTitleText(_),this.inversedYAxisBorder(_),_}},{key:"inversedYAxisBorder",value:function(c){var h=this.w,v=new ot(this.ctx),_=h.config.xaxis.axisBorder;if(_.show){var A=0;"bar"===h.config.chart.type&&h.globals.isXNumeric&&(A-=15);var P=v.drawLine(h.globals.padHorizontal+A+_.offsetX,this.xAxisoffX,h.globals.gridWidth,this.xAxisoffX,_.color,0,_.height);c.add(P)}}},{key:"inversedYAxisTitleText",value:function(c){var h=this.w,v=new ot(this.ctx);if(void 0!==h.config.xaxis.title.text){var _=v.group({class:"apexcharts-xaxis-title apexcharts-yaxis-title-inversed"}),A=v.drawText({x:h.globals.gridWidth/2+h.config.xaxis.title.offsetX,y:this.xAxisoffX+parseFloat(this.xaxisFontSize)+parseFloat(h.config.xaxis.title.style.fontSize)+h.config.xaxis.title.offsetY+20,text:h.config.xaxis.title.text,textAnchor:"middle",fontSize:h.config.xaxis.title.style.fontSize,fontFamily:h.config.xaxis.title.style.fontFamily,fontWeight:h.config.xaxis.title.style.fontWeight,foreColor:h.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text "+h.config.xaxis.title.style.cssClass});_.add(A),c.add(_)}}},{key:"yAxisTitleRotate",value:function(c,h){var v=this.w,_=new ot(this.ctx),A={width:0,height:0},P={width:0,height:0},E=v.globals.dom.baseEl.querySelector(" .apexcharts-yaxis[rel='".concat(c,"'] .apexcharts-yaxis-texts-g"));null!==E&&(A=E.getBoundingClientRect());var F=v.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(c,"'] .apexcharts-yaxis-title text"));if(null!==F&&(P=F.getBoundingClientRect()),null!==F){var W=this.xPaddingForYAxisTitle(c,A,P,h);F.setAttribute("x",W.xPos-(h?10:0))}if(null!==F){var K=_.rotateAroundCenter(F);F.setAttribute("transform","rotate(".concat(h?-1*v.config.yaxis[c].title.rotate:v.config.yaxis[c].title.rotate," ").concat(K.x," ").concat(K.y,")"))}}},{key:"xPaddingForYAxisTitle",value:function(c,h,v,_){var A=this.w,P=0,E=0,F=10;return void 0===A.config.yaxis[c].title.text||c<0?{xPos:E,padd:0}:(_?(E=h.width+A.config.yaxis[c].title.offsetX+v.width/2+F/2,0===(P+=1)&&(E-=F/2)):(E=-1*h.width+A.config.yaxis[c].title.offsetX+F/2+v.width/2,A.globals.isBarHorizontal&&(E=-1*h.width-A.config.yaxis[c].title.offsetX-(F=25))),{xPos:E,padd:F})}},{key:"setYAxisXPosition",value:function(c,h){var v=this.w,_=0,A=0,P=18,E=1;v.config.yaxis.length>1&&(this.multipleYs=!0),v.config.yaxis.map(function(F,W){var K=v.globals.ignoreYAxisIndexes.indexOf(W)>-1||!F.show||F.floating||0===c[W].width,J=c[W].width+h[W].width;F.opposite?v.globals.isBarHorizontal?v.globals.translateYAxisX[W]=(A=v.globals.gridWidth+v.globals.translateX-1)-F.labels.offsetX:(A=v.globals.gridWidth+v.globals.translateX+E,K||(E=E+J+20),v.globals.translateYAxisX[W]=A-F.labels.offsetX+20):(_=v.globals.translateX-P,K||(P=P+J+20),v.globals.translateYAxisX[W]=_+F.labels.offsetX)})}},{key:"setYAxisTextAlignments",value:function(){var c=this.w,h=c.globals.dom.baseEl.getElementsByClassName("apexcharts-yaxis");(h=lt.listToArray(h)).forEach(function(v,_){var A=c.config.yaxis[_];if(A&&void 0!==A.labels.align){var P=c.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(_,"'] .apexcharts-yaxis-texts-g")),E=c.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis[rel='".concat(_,"'] .apexcharts-yaxis-label"));E=lt.listToArray(E);var F=P.getBoundingClientRect();"left"===A.labels.align?(E.forEach(function(W,K){W.setAttribute("text-anchor","start")}),A.opposite||P.setAttribute("transform","translate(-".concat(F.width,", 0)"))):"center"===A.labels.align?(E.forEach(function(W,K){W.setAttribute("text-anchor","middle")}),P.setAttribute("transform","translate(".concat(F.width/2*(A.opposite?1:-1),", 0)"))):"right"===A.labels.align&&(E.forEach(function(W,K){W.setAttribute("text-anchor","end")}),A.opposite&&P.setAttribute("transform","translate(".concat(F.width,", 0)")))}})}}]),ae}(),hi=function(){function ae(c){$t(this,ae),this.ctx=c,this.w=c.w,this.documentEvent=lt.bind(this.documentEvent,this)}return ee(ae,[{key:"addEventListener",value:function(c,h){var v=this.w;v.globals.events.hasOwnProperty(c)?v.globals.events[c].push(h):v.globals.events[c]=[h]}},{key:"removeEventListener",value:function(c,h){var v=this.w;if(v.globals.events.hasOwnProperty(c)){var _=v.globals.events[c].indexOf(h);-1!==_&&v.globals.events[c].splice(_,1)}}},{key:"fireEvent",value:function(c,h){var v=this.w;if(v.globals.events.hasOwnProperty(c)){h&&h.length||(h=[]);for(var _=v.globals.events[c],A=_.length,P=0;P<A;P++)_[P].apply(null,h)}}},{key:"setupEventHandlers",value:function(){var c=this,h=this.w,v=this.ctx,_=h.globals.dom.baseEl.querySelector(h.globals.chartClass);this.ctx.eventList.forEach(function(A){_.addEventListener(A,function(P){var E=Object.assign({},h,{seriesIndex:h.globals.capturedSeriesIndex,dataPointIndex:h.globals.capturedDataPointIndex});"mousemove"===P.type||"touchmove"===P.type?"function"==typeof h.config.chart.events.mouseMove&&h.config.chart.events.mouseMove(P,v,E):"mouseleave"===P.type||"touchleave"===P.type?"function"==typeof h.config.chart.events.mouseLeave&&h.config.chart.events.mouseLeave(P,v,E):("mouseup"===P.type&&1===P.which||"touchend"===P.type)&&("function"==typeof h.config.chart.events.click&&h.config.chart.events.click(P,v,E),v.ctx.events.fireEvent("click",[P,v,E]))},{capture:!1,passive:!0})}),this.ctx.eventList.forEach(function(A){h.globals.dom.baseEl.addEventListener(A,c.documentEvent,{passive:!0})}),this.ctx.core.setupBrushHandler()}},{key:"documentEvent",value:function(c){var h=this.w,v=c.target.className;if("click"===c.type){var _=h.globals.dom.baseEl.querySelector(".apexcharts-menu");_&&_.classList.contains("apexcharts-menu-open")&&"apexcharts-menu-icon"!==v&&_.classList.remove("apexcharts-menu-open")}h.globals.clientX="touchmove"===c.type?c.touches[0].clientX:c.clientX,h.globals.clientY="touchmove"===c.type?c.touches[0].clientY:c.clientY}}]),ae}(),ur=function(){function ae(c){$t(this,ae),this.ctx=c,this.w=c.w}return ee(ae,[{key:"setCurrentLocaleValues",value:function(c){var h=this.w.config.chart.locales;window.Apex.chart&&window.Apex.chart.locales&&window.Apex.chart.locales.length>0&&(h=this.w.config.chart.locales.concat(window.Apex.chart.locales));var v=h.filter(function(A){return A.name===c})[0];if(!v)throw new Error("Wrong locale name provided. Please make sure you set the correct locale name in options");var _=lt.extend(Pt,v);this.w.globals.locale=_.options}}]),ae}(),Zi=function(){function ae(c){$t(this,ae),this.ctx=c,this.w=c.w}return ee(ae,[{key:"drawAxis",value:function(c,h){var v,_,A=this.w.globals,P=this.w.config,E=new sn(this.ctx),F=new ui(this.ctx);A.axisCharts&&"radar"!==c&&(A.isBarHorizontal?(_=F.drawYaxisInversed(0),v=E.drawXaxisInversed(0),A.dom.elGraphical.add(v),A.dom.elGraphical.add(_)):(v=E.drawXaxis(),A.dom.elGraphical.add(v),P.yaxis.map(function(W,K){-1===A.ignoreYAxisIndexes.indexOf(K)&&(_=F.drawYaxis(K),A.dom.Paper.add(_))})))}}]),ae}(),dn=function(){function ae(c){$t(this,ae),this.ctx=c,this.w=c.w}return ee(ae,[{key:"drawXCrosshairs",value:function(){var c=this.w,h=new ot(this.ctx),v=new xt(this.ctx),_=c.config.xaxis.crosshairs.fill.gradient,A=c.config.xaxis.crosshairs.dropShadow,ct=A.enabled,yt=A.left,Vt=A.top,Ht=A.blur,qt=A.color,le=A.opacity,me=c.config.xaxis.crosshairs.fill.color;if(c.config.xaxis.crosshairs.show){"gradient"===c.config.xaxis.crosshairs.fill.type&&(me=h.drawGradient("vertical",_.colorFrom,_.colorTo,_.opacityFrom,_.opacityTo,null,_.stops,null));var De=h.drawRect();1===c.config.xaxis.crosshairs.width&&(De=h.drawLine());var j=c.globals.gridHeight;(!lt.isNumber(j)||j<0)&&(j=0);var ut=c.config.xaxis.crosshairs.width;(!lt.isNumber(ut)||ut<0)&&(ut=0),De.attr({class:"apexcharts-xcrosshairs",x:0,y:0,y2:j,width:ut,height:j,fill:me,filter:"none","fill-opacity":c.config.xaxis.crosshairs.opacity,stroke:c.config.xaxis.crosshairs.stroke.color,"stroke-width":c.config.xaxis.crosshairs.stroke.width,"stroke-dasharray":c.config.xaxis.crosshairs.stroke.dashArray}),ct&&(De=v.dropShadow(De,{left:yt,top:Vt,blur:Ht,color:qt,opacity:le})),c.globals.dom.elGraphical.add(De)}}},{key:"drawYCrosshairs",value:function(){var c=this.w,h=new ot(this.ctx),v=c.config.yaxis[0].crosshairs,_=c.globals.barPadForNumericAxis;if(c.config.yaxis[0].crosshairs.show){var A=h.drawLine(-_,0,c.globals.gridWidth+_,0,v.stroke.color,v.stroke.dashArray,v.stroke.width);A.attr({class:"apexcharts-ycrosshairs"}),c.globals.dom.elGraphical.add(A)}var P=h.drawLine(-_,0,c.globals.gridWidth+_,0,v.stroke.color,0,0);P.attr({class:"apexcharts-ycrosshairs-hidden"}),c.globals.dom.elGraphical.add(P)}}]),ae}(),fn=function(){function ae(c){$t(this,ae),this.ctx=c,this.w=c.w}return ee(ae,[{key:"checkResponsiveConfig",value:function(c){var h=this,v=this.w,_=v.config;if(0!==_.responsive.length){var A=_.responsive.slice();A.sort(function(W,K){return W.breakpoint>K.breakpoint?1:K.breakpoint>W.breakpoint?-1:0}).reverse();var P=new ze({}),E=function(){var W=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},K=A[0].breakpoint,J=window.innerWidth>0?window.innerWidth:screen.width;if(J>K){var ct=Ut.extendArrayProps(P,v.globals.initialConfig,v);W=lt.extend(ct,W),W=lt.extend(v.config,W),h.overrideResponsiveOptions(W)}else for(var yt=0;yt<A.length;yt++)J<A[yt].breakpoint&&(W=Ut.extendArrayProps(P,A[yt].options,v),W=lt.extend(v.config,W),h.overrideResponsiveOptions(W))};if(c){var F=Ut.extendArrayProps(P,c,v);F=lt.extend(v.config,F),E(F=lt.extend(F,c))}else E({})}}},{key:"overrideResponsiveOptions",value:function(c){var h=new ze(c).init({responsiveOverride:!0});this.w.config=h}}]),ae}(),On=function(){function ae(c){$t(this,ae),this.ctx=c,this.colors=[],this.w=c.w;var h=this.w;this.isColorFn=!1,this.isHeatmapDistributed="treemap"===h.config.chart.type&&h.config.plotOptions.treemap.distributed||"heatmap"===h.config.chart.type&&h.config.plotOptions.heatmap.distributed,this.isBarDistributed=h.config.plotOptions.bar.distributed&&("bar"===h.config.chart.type||"rangeBar"===h.config.chart.type)}return ee(ae,[{key:"init",value:function(){this.setDefaultColors()}},{key:"setDefaultColors",value:function(){var c=this,h=this.w,v=new lt;if(h.globals.dom.elWrap.classList.add("apexcharts-theme-".concat(h.config.theme.mode)),void 0===h.config.colors?h.globals.colors=this.predefined():(h.globals.colors=h.config.colors,Array.isArray(h.config.colors)&&h.config.colors.length>0&&"function"==typeof h.config.colors[0]&&(h.globals.colors=h.config.series.map(function(yt,Vt){var Ht=h.config.colors[Vt];return Ht||(Ht=h.config.colors[0]),"function"==typeof Ht?(c.isColorFn=!0,Ht({value:h.globals.axisCharts?h.globals.series[Vt][0]?h.globals.series[Vt][0]:0:h.globals.series[Vt],seriesIndex:Vt,dataPointIndex:Vt,w:h})):Ht}))),h.globals.seriesColors.map(function(yt,Vt){yt&&(h.globals.colors[Vt]=yt)}),h.config.theme.monochrome.enabled){var _=[],A=h.globals.series.length;(this.isBarDistributed||this.isHeatmapDistributed)&&(A=h.globals.series[0].length*h.globals.series.length);for(var P=h.config.theme.monochrome.color,E=1/(A/h.config.theme.monochrome.shadeIntensity),F=h.config.theme.monochrome.shadeTo,W=0,K=0;K<A;K++){var J=void 0;"dark"===F?(J=v.shadeColor(-1*W,P),W+=E):(J=v.shadeColor(W,P),W+=E),_.push(J)}h.globals.colors=_.slice()}var ct=h.globals.colors.slice();this.pushExtraColors(h.globals.colors),["fill","stroke"].forEach(function(yt){h.globals[yt].colors=void 0===h.config[yt].colors?c.isColorFn?h.config.colors:ct:h.config[yt].colors.slice(),c.pushExtraColors(h.globals[yt].colors)}),h.globals.dataLabels.style.colors=void 0===h.config.dataLabels.style.colors?ct:h.config.dataLabels.style.colors.slice(),this.pushExtraColors(h.globals.dataLabels.style.colors,50),h.globals.radarPolygons.fill.colors=void 0===h.config.plotOptions.radar.polygons.fill.colors?["dark"===h.config.theme.mode?"#424242":"none"]:h.config.plotOptions.radar.polygons.fill.colors.slice(),this.pushExtraColors(h.globals.radarPolygons.fill.colors,20),h.globals.markers.colors=void 0===h.config.markers.colors?ct:h.config.markers.colors.slice(),this.pushExtraColors(h.globals.markers.colors)}},{key:"pushExtraColors",value:function(c,h){var v=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,_=this.w,A=h||_.globals.series.length;if(null===v&&(v=this.isBarDistributed||this.isHeatmapDistributed||"heatmap"===_.config.chart.type&&_.config.plotOptions.heatmap.colorScale.inverse),v&&_.globals.series.length&&(A=_.globals.series[_.globals.maxValsInArrayIndex].length*_.globals.series.length),c.length<A)for(var P=A-c.length,E=0;E<P;E++)c.push(c[E])}},{key:"updateThemeOptions",value:function(c){c.chart=c.chart||{},c.tooltip=c.tooltip||{};var h=c.theme.mode||"light",v=c.theme.palette?c.theme.palette:"dark"===h?"palette4":"palette1",_=c.chart.foreColor?c.chart.foreColor:"dark"===h?"#f6f7f8":"#373d3f";return c.tooltip.theme=h,c.chart.foreColor=_,c.theme.palette=v,c}},{key:"predefined",value:function(){switch(this.w.config.theme.palette){default:this.colors=["#008FFB","#00E396","#FEB019","#FF4560","#775DD0"];break;case"palette2":this.colors=["#3f51b5","#03a9f4","#4caf50","#f9ce1d","#FF9800"];break;case"palette3":this.colors=["#33b2df","#546E7A","#d4526e","#13d8aa","#A5978B"];break;case"palette4":this.colors=["#4ecdc4","#c7f464","#81D4FA","#fd6a6a","#546E7A"];break;case"palette5":this.colors=["#2b908f","#f9a3a4","#90ee7e","#fa4443","#69d2e7"];break;case"palette6":this.colors=["#449DD1","#F86624","#EA3546","#662E9B","#C5D86D"];break;case"palette7":this.colors=["#D7263D","#1B998B","#2E294E","#F46036","#E2C044"];break;case"palette8":this.colors=["#662E9B","#F86624","#F9C80E","#EA3546","#43BCCD"];break;case"palette9":this.colors=["#5C4742","#A5978B","#8D5B4C","#5A2A27","#C4BBAF"];break;case"palette10":this.colors=["#A300D6","#7D02EB","#5653FE","#2983FF","#00B1F2"]}return this.colors}}]),ae}(),Tn=function(){function ae(c){$t(this,ae),this.ctx=c,this.w=c.w}return ee(ae,[{key:"draw",value:function(){this.drawTitleSubtitle("title"),this.drawTitleSubtitle("subtitle")}},{key:"drawTitleSubtitle",value:function(c){var h=this.w,v="title"===c?h.config.title:h.config.subtitle,_=h.globals.svgWidth/2,A=v.offsetY,P="middle";if("left"===v.align?(_=10,P="start"):"right"===v.align&&(_=h.globals.svgWidth-10,P="end"),_+=v.offsetX,A=A+parseInt(v.style.fontSize,10)+v.margin/2,void 0!==v.text){var E=new ot(this.ctx).drawText({x:_,y:A,text:v.text,textAnchor:P,fontSize:v.style.fontSize,fontFamily:v.style.fontFamily,fontWeight:v.style.fontWeight,foreColor:v.style.color,opacity:1});E.node.setAttribute("class","apexcharts-".concat(c,"-text")),h.globals.dom.Paper.add(E)}}}]),ae}(),En=function(){function ae(c){$t(this,ae),this.w=c.w,this.dCtx=c}return ee(ae,[{key:"getTitleSubtitleCoords",value:function(c){var h=this.w,v=0,_=0,A="title"===c?h.config.title.floating:h.config.subtitle.floating,P=h.globals.dom.baseEl.querySelector(".apexcharts-".concat(c,"-text"));if(null!==P&&!A){var E=P.getBoundingClientRect();v=E.width,_=h.globals.axisCharts?E.height+5:E.height}return{width:v,height:_}}},{key:"getLegendsRect",value:function(){var c=this.w,h=c.globals.dom.baseEl.querySelector(".apexcharts-legend");c.config.legend.height||"top"!==c.config.legend.position&&"bottom"!==c.config.legend.position||(h.style.maxHeight=c.globals.svgHeight/2+"px");var v=Object.assign({},lt.getBoundingClientRect(h));return this.dCtx.lgRect=null!==h&&!c.config.legend.floating&&c.config.legend.show?{x:v.x,y:v.y,height:v.height,width:0===v.height?0:v.width}:{x:0,y:0,height:0,width:0},"left"!==c.config.legend.position&&"right"!==c.config.legend.position||1.5*this.dCtx.lgRect.width>c.globals.svgWidth&&(this.dCtx.lgRect.width=c.globals.svgWidth/1.5),this.dCtx.lgRect}},{key:"getLargestStringFromMultiArr",value:function(c,h){var v=c;if(this.w.globals.isMultiLineX){var _=h.map(function(P,E){return Array.isArray(P)?P.length:1}),A=Math.max.apply(Math,St(_));v=h[_.indexOf(A)]}return v}}]),ae}(),Di=function(){function ae(c){$t(this,ae),this.w=c.w,this.dCtx=c}return ee(ae,[{key:"getxAxisLabelsCoords",value:function(){var c,h=this.w,v=h.globals.labels.slice();if(h.config.xaxis.convertedCatToNumeric&&0===v.length&&(v=h.globals.categoryLabels),h.globals.timescaleLabels.length>0){var _=this.getxAxisTimeScaleLabelsCoords();c={width:_.width,height:_.height},h.globals.rotateXLabels=!1}else{this.dCtx.lgWidthForSideLegends="left"!==h.config.legend.position&&"right"!==h.config.legend.position||h.config.legend.floating?0:this.dCtx.lgRect.width;var A=h.globals.xLabelFormatter,P=lt.getLargestStringFromArr(v),E=this.dCtx.dimHelpers.getLargestStringFromMultiArr(P,v);h.globals.isBarHorizontal&&(E=P=h.globals.yAxisScale[0].result.reduce(function(Vt,Ht){return Vt.length>Ht.length?Vt:Ht},0));var F=new Jt(this.dCtx.ctx),W=P;P=F.xLabelFormat(A,P,W,{i:void 0,dateFormatter:new zt(this.dCtx.ctx).formatDate,w:h}),E=F.xLabelFormat(A,E,W,{i:void 0,dateFormatter:new zt(this.dCtx.ctx).formatDate,w:h}),(h.config.xaxis.convertedCatToNumeric&&void 0===P||""===String(P).trim())&&(E=P="1");var K=new ot(this.dCtx.ctx),J=K.getTextRects(P,h.config.xaxis.labels.style.fontSize),ct=J;if(P!==E&&(ct=K.getTextRects(E,h.config.xaxis.labels.style.fontSize)),(c={width:J.width>=ct.width?J.width:ct.width,height:J.height>=ct.height?J.height:ct.height}).width*v.length>h.globals.svgWidth-this.dCtx.lgWidthForSideLegends-this.dCtx.yAxisWidth-this.dCtx.gridPad.left-this.dCtx.gridPad.right&&0!==h.config.xaxis.labels.rotate||h.config.xaxis.labels.rotateAlways){if(!h.globals.isBarHorizontal){h.globals.rotateXLabels=!0;var yt=function(Vt){return K.getTextRects(Vt,h.config.xaxis.labels.style.fontSize,h.config.xaxis.labels.style.fontFamily,"rotate(".concat(h.config.xaxis.labels.rotate," 0 0)"),!1)};J=yt(P),P!==E&&(ct=yt(E)),c.height=(J.height>ct.height?J.height:ct.height)/1.5,c.width=J.width>ct.width?J.width:ct.width}}else h.globals.rotateXLabels=!1}return h.config.xaxis.labels.show||(c={width:0,height:0}),{width:c.width,height:c.height}}},{key:"getxAxisTitleCoords",value:function(){var c=this.w,h=0,v=0;if(void 0!==c.config.xaxis.title.text){var _=new ot(this.dCtx.ctx).getTextRects(c.config.xaxis.title.text,c.config.xaxis.title.style.fontSize);h=_.width,v=_.height}return{width:h,height:v}}},{key:"getxAxisTimeScaleLabelsCoords",value:function(){var c,h=this.w;this.dCtx.timescaleLabels=h.globals.timescaleLabels.slice();var v=this.dCtx.timescaleLabels.map(function(A){return A.value}),_=v.reduce(function(A,P){return void 0===A?(console.error("You have possibly supplied invalid Date format. Please supply a valid JavaScript Date"),0):A.length>P.length?A:P},0);return 1.05*(c=new ot(this.dCtx.ctx).getTextRects(_,h.config.xaxis.labels.style.fontSize)).width*v.length>h.globals.gridWidth&&0!==h.config.xaxis.labels.rotate&&(h.globals.overlappingXLabels=!0),c}},{key:"additionalPaddingXLabels",value:function(c){var h=this,v=this.w,_=v.globals,A=v.config,P=A.xaxis.type,E=c.width;_.skipLastTimelinelabel=!1,_.skipFirstTimelinelabel=!1;var F=v.config.yaxis[0].opposite&&v.globals.isBarHorizontal;A.yaxis.forEach(function(K,J){F?(h.dCtx.gridPad.left<E&&(h.dCtx.xPadLeft=E/2+1),h.dCtx.xPadRight=E/2+1):function(K,J){-1!==_.collapsedSeriesIndices.indexOf(J)||function(ct){if(h.dCtx.timescaleLabels&&h.dCtx.timescaleLabels.length){var Ht=h.dCtx.timescaleLabels[0].position-E/1.75+h.dCtx.yAxisWidthLeft;h.dCtx.timescaleLabels[h.dCtx.timescaleLabels.length-1].position+E/1.75-h.dCtx.yAxisWidthRight>_.svgWidth-_.translateX-("right"===v.config.legend.position&&h.dCtx.lgRect.width>0?h.dCtx.lgRect.width:0)&&(_.skipLastTimelinelabel=!0),Ht<-(ct.show&&!ct.floating||"bar"!==A.chart.type&&"candlestick"!==A.chart.type&&"rangeBar"!==A.chart.type&&"boxPlot"!==A.chart.type?10:E/1.75)&&(_.skipFirstTimelinelabel=!0)}else"datetime"===P?h.dCtx.gridPad.right<E&&!_.rotateXLabels&&(_.skipLastTimelinelabel=!0):"datetime"!==P&&h.dCtx.gridPad.right<E/2-h.dCtx.yAxisWidthRight&&!_.rotateXLabels&&!v.config.xaxis.labels.trim&&("between"!==v.config.xaxis.tickPlacement||v.globals.isBarHorizontal)&&(h.dCtx.xPadRight=E/2+1)}(K)}(K,J)})}}]),ae}(),Oi=function(){function ae(c){$t(this,ae),this.w=c.w,this.dCtx=c}return ee(ae,[{key:"getyAxisLabelsCoords",value:function(){var c=this,h=this.w,v=[],_=10,A=new Fe(this.dCtx.ctx);return h.config.yaxis.map(function(P,E){var F=h.globals.yAxisScale[E],W=0;if(!A.isYAxisHidden(E)&&P.labels.show&&void 0!==P.labels.minWidth&&(W=P.labels.minWidth),!A.isYAxisHidden(E)&&P.labels.show&&F.result.length){var K=h.globals.yLabelFormatters[E],J=F.niceMin===Number.MIN_VALUE?0:F.niceMin,ct=String(J).length>String(F.niceMax).length?J:F.niceMax,yt=K(ct,{seriesIndex:E,dataPointIndex:-1,w:h}),Vt=yt;if(void 0!==yt&&0!==yt.length||(yt=ct),h.globals.isBarHorizontal){_=0;var Ht=h.globals.labels.slice();yt=K(yt=lt.getLargestStringFromArr(Ht),{seriesIndex:E,dataPointIndex:-1,w:h}),Vt=c.dCtx.dimHelpers.getLargestStringFromMultiArr(yt,Ht)}var qt=new ot(c.dCtx.ctx),le="rotate(".concat(P.labels.rotate," 0 0)"),me=qt.getTextRects(yt,P.labels.style.fontSize,P.labels.style.fontFamily,le,!1),De=me;yt!==Vt&&(De=qt.getTextRects(Vt,P.labels.style.fontSize,P.labels.style.fontFamily,le,!1)),v.push({width:(W>De.width||W>me.width?W:De.width>me.width?De.width:me.width)+_,height:De.height>me.height?De.height:me.height})}else v.push({width:0,height:0})}),v}},{key:"getyAxisTitleCoords",value:function(){var c=this,v=[];return this.w.config.yaxis.map(function(_,A){if(_.show&&void 0!==_.title.text){var P=new ot(c.dCtx.ctx),E="rotate(".concat(_.title.rotate," 0 0)"),F=P.getTextRects(_.title.text,_.title.style.fontSize,_.title.style.fontFamily,E,!1);v.push({width:F.width,height:F.height})}else v.push({width:0,height:0})}),v}},{key:"getTotalYAxisWidth",value:function(){var c=this.w,h=0,v=0,_=0,A=c.globals.yAxisScale.length>1?10:0,P=new Fe(this.dCtx.ctx),E=function(F,W){var K=c.config.yaxis[W].floating,J=0;F.width>0&&!K?(J=F.width+A,c.globals.ignoreYAxisIndexes.indexOf(W)>-1&&(J=J-F.width-A)):J=K||P.isYAxisHidden(W)?0:5,c.config.yaxis[W].opposite?_+=J:v+=J,h+=J};return c.globals.yLabelsCoords.map(function(F,W){E(F,W)}),c.globals.yTitleCoords.map(function(F,W){E(F,W)}),c.globals.isBarHorizontal&&!c.config.yaxis[0].floating&&(h=c.globals.yLabelsCoords[0].width+c.globals.yTitleCoords[0].width+15),this.dCtx.yAxisWidthLeft=v,this.dCtx.yAxisWidthRight=_,h}}]),ae}(),Ni=function(){function ae(c){$t(this,ae),this.w=c.w,this.dCtx=c}return ee(ae,[{key:"gridPadForColumnsInNumericAxis",value:function(c){var h=this.w;if(h.globals.noData||h.globals.allSeriesCollapsed)return 0;var v=function(K){return"bar"===K||"rangeBar"===K||"candlestick"===K||"boxPlot"===K},_=h.config.chart.type,A=0,P=v(_)?h.config.series.length:1;if(h.globals.comboBarCount>0&&(P=h.globals.comboBarCount),h.globals.collapsedSeries.forEach(function(K){v(K.type)&&(P-=1)}),h.config.chart.stacked&&(P=1),(v(_)||h.globals.comboBarCount>0)&&h.globals.isXNumeric&&!h.globals.isBarHorizontal&&P>0){var E,F,W=Math.abs(h.globals.initialMaxX-h.globals.initialMinX);W<=3&&(W=h.globals.dataPoints),E=W/c,h.globals.minXDiff&&h.globals.minXDiff/E>0&&(F=h.globals.minXDiff/E),F>c/2&&(F/=2),(A=F/P*parseInt(h.config.plotOptions.bar.columnWidth,10)/100)<1&&(A=1),h.globals.barPadForNumericAxis=A=A/(P>1?1:1.5)+5}return A}},{key:"gridPadFortitleSubtitle",value:function(){var c=this,h=this.w,v=h.globals,_=this.dCtx.isSparkline||!h.globals.axisCharts?0:10;["title","subtitle"].forEach(function(E){_+=void 0!==h.config[E].text?h.config[E].margin:c.dCtx.isSparkline||!h.globals.axisCharts?0:5}),!h.config.legend.show||"bottom"!==h.config.legend.position||h.config.legend.floating||h.globals.axisCharts||(_+=10);var A=this.dCtx.dimHelpers.getTitleSubtitleCoords("title"),P=this.dCtx.dimHelpers.getTitleSubtitleCoords("subtitle");v.gridHeight=v.gridHeight-A.height-P.height-_,v.translateY=v.translateY+A.height+P.height+_}},{key:"setGridXPosForDualYAxis",value:function(c,h){var v=this.w,_=new Fe(this.dCtx.ctx);v.config.yaxis.map(function(A,P){-1!==v.globals.ignoreYAxisIndexes.indexOf(P)||A.floating||_.isYAxisHidden(P)||(A.opposite&&(v.globals.translateX=v.globals.translateX-(h[P].width+c[P].width)-parseInt(v.config.yaxis[P].labels.style.fontSize,10)/1.2-12),v.globals.translateX<2&&(v.globals.translateX=2))})}}]),ae}(),br=function(){function ae(c){$t(this,ae),this.ctx=c,this.w=c.w,this.lgRect={},this.yAxisWidth=0,this.yAxisWidthLeft=0,this.yAxisWidthRight=0,this.xAxisHeight=0,this.isSparkline=this.w.config.chart.sparkline.enabled,this.dimHelpers=new En(this),this.dimYAxis=new Oi(this),this.dimXAxis=new Di(this),this.dimGrid=new Ni(this),this.lgWidthForSideLegends=0,this.gridPad=this.w.config.grid.padding,this.xPadRight=0,this.xPadLeft=0}return ee(ae,[{key:"plotCoords",value:function(){var c=this.w.globals;this.lgRect=this.dimHelpers.getLegendsRect(),c.axisCharts?this.setDimensionsForAxisCharts():this.setDimensionsForNonAxisCharts(),this.dimGrid.gridPadFortitleSubtitle(),c.gridHeight=c.gridHeight-this.gridPad.top-this.gridPad.bottom,c.gridWidth=c.gridWidth-this.gridPad.left-this.gridPad.right-this.xPadRight-this.xPadLeft;var h=this.dimGrid.gridPadForColumnsInNumericAxis(c.gridWidth);c.gridWidth=c.gridWidth-2*h,c.translateX=c.translateX+this.gridPad.left+this.xPadLeft+(h>0?h+4:0),c.translateY=c.translateY+this.gridPad.top}},{key:"setDimensionsForAxisCharts",value:function(){var c=this,h=this.w,v=h.globals,_=this.dimYAxis.getyAxisLabelsCoords(),A=this.dimYAxis.getyAxisTitleCoords();h.globals.yLabelsCoords=[],h.globals.yTitleCoords=[],h.config.yaxis.map(function(ct,yt){h.globals.yLabelsCoords.push({width:_[yt].width,index:yt}),h.globals.yTitleCoords.push({width:A[yt].width,index:yt})}),this.yAxisWidth=this.dimYAxis.getTotalYAxisWidth();var P=this.dimXAxis.getxAxisLabelsCoords(),E=this.dimXAxis.getxAxisTitleCoords();this.conditionalChecksForAxisCoords(P,E),v.translateXAxisY=h.globals.rotateXLabels?this.xAxisHeight/8:-4,v.translateXAxisX=h.globals.rotateXLabels&&h.globals.isXNumeric&&h.config.xaxis.labels.rotate<=-45?-this.xAxisWidth/4:0,h.globals.isBarHorizontal&&(v.rotateXLabels=!1,v.translateXAxisY=parseInt(h.config.xaxis.labels.style.fontSize,10)/1.5*-1),v.translateXAxisY=v.translateXAxisY+h.config.xaxis.labels.offsetY,v.translateXAxisX=v.translateXAxisX+h.config.xaxis.labels.offsetX;var F=this.yAxisWidth,W=this.xAxisHeight;v.xAxisLabelsHeight=this.xAxisHeight-E.height,v.xAxisLabelsWidth=this.xAxisWidth,v.xAxisHeight=this.xAxisHeight;var K=10;("radar"===h.config.chart.type||this.isSparkline)&&(F=0,W=v.goldenPadding),this.isSparkline&&(this.lgRect={height:0,width:0}),(this.isSparkline||"treemap"===h.config.chart.type)&&(F=0,W=0,K=0),this.isSparkline||this.dimXAxis.additionalPaddingXLabels(P);var J=function(){v.translateX=F,v.gridHeight=v.svgHeight-c.lgRect.height-W-(c.isSparkline||"treemap"===h.config.chart.type?0:h.globals.rotateXLabels?10:15),v.gridWidth=v.svgWidth-F};switch("top"===h.config.xaxis.position&&(K=v.xAxisHeight-h.config.xaxis.axisTicks.height-5),h.config.legend.position){case"bottom":v.translateY=K,J();break;case"top":v.translateY=this.lgRect.height+K,J();break;case"left":v.translateY=K,v.translateX=this.lgRect.width+F,v.gridHeight=v.svgHeight-W-12,v.gridWidth=v.svgWidth-this.lgRect.width-F;break;case"right":v.translateY=K,v.translateX=F,v.gridHeight=v.svgHeight-W-12,v.gridWidth=v.svgWidth-this.lgRect.width-F-5;break;default:throw new Error("Legend position not supported")}this.dimGrid.setGridXPosForDualYAxis(A,_),new ui(this.ctx).setYAxisXPosition(_,A)}},{key:"setDimensionsForNonAxisCharts",value:function(){var c=this.w,h=c.globals,v=c.config,_=0;c.config.legend.show&&!c.config.legend.floating&&(_=20);var A="pie"===v.chart.type||"polarArea"===v.chart.type||"donut"===v.chart.type?"pie":"radialBar",P=v.plotOptions[A].offsetY,E=v.plotOptions[A].offsetX;if(!v.legend.show||v.legend.floating)return h.gridHeight=h.svgHeight-v.grid.padding.left+v.grid.padding.right,h.gridWidth=h.gridHeight,h.translateY=P,void(h.translateX=E+(h.svgWidth-h.gridWidth)/2);switch(v.legend.position){case"bottom":h.gridHeight=h.svgHeight-this.lgRect.height-h.goldenPadding,h.gridWidth=h.svgWidth,h.translateY=P-10,h.translateX=E+(h.svgWidth-h.gridWidth)/2;break;case"top":h.gridHeight=h.svgHeight-this.lgRect.height-h.goldenPadding,h.gridWidth=h.svgWidth,h.translateY=this.lgRect.height+P+10,h.translateX=E+(h.svgWidth-h.gridWidth)/2;break;case"left":h.gridWidth=h.svgWidth-this.lgRect.width-_,h.gridHeight="auto"!==v.chart.height?h.svgHeight:h.gridWidth,h.translateY=P,h.translateX=E+this.lgRect.width+_;break;case"right":h.gridWidth=h.svgWidth-this.lgRect.width-_-5,h.gridHeight="auto"!==v.chart.height?h.svgHeight:h.gridWidth,h.translateY=P,h.translateX=E+10;break;default:throw new Error("Legend position not supported")}}},{key:"conditionalChecksForAxisCoords",value:function(c,h){var v=this.w;this.xAxisHeight=(c.height+h.height)*(v.globals.isMultiLineX?1.2:v.globals.LINE_HEIGHT_RATIO)+(v.globals.rotateXLabels?22:10)+(v.globals.rotateXLabels&&"bottom"===v.config.legend.position?10:0),this.xAxisWidth=c.width,this.xAxisHeight-h.height>v.config.xaxis.labels.maxHeight&&(this.xAxisHeight=v.config.xaxis.labels.maxHeight),v.config.xaxis.labels.minHeight&&this.xAxisHeight<v.config.xaxis.labels.minHeight&&(this.xAxisHeight=v.config.xaxis.labels.minHeight),v.config.xaxis.floating&&(this.xAxisHeight=0);var F=0,W=0;v.config.yaxis.forEach(function(K){F+=K.labels.minWidth,W+=K.labels.maxWidth}),this.yAxisWidth<F&&(this.yAxisWidth=F),this.yAxisWidth>W&&(this.yAxisWidth=W)}}]),ae}(),ji=function(){function ae(c){$t(this,ae),this.w=c.w,this.lgCtx=c}return ee(ae,[{key:"getLegendStyles",value:function(){var c=document.createElement("style");c.setAttribute("type","text/css");var h=document.createTextNode("\t\n    \t\n      .apexcharts-legend {\t\n        display: flex;\t\n        overflow: auto;\t\n        padding: 0 10px;\t\n      }\t\n      .apexcharts-legend.apx-legend-position-bottom, .apexcharts-legend.apx-legend-position-top {\t\n        flex-wrap: wrap\t\n      }\t\n      .apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {\t\n        flex-direction: column;\t\n        bottom: 0;\t\n      }\t\n      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-left, .apexcharts-legend.apx-legend-position-top.apexcharts-align-left, .apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {\t\n        justify-content: flex-start;\t\n      }\t\n      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-center, .apexcharts-legend.apx-legend-position-top.apexcharts-align-center {\t\n        justify-content: center;  \t\n      }\t\n      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-right, .apexcharts-legend.apx-legend-position-top.apexcharts-align-right {\t\n        justify-content: flex-end;\t\n      }\t\n      .apexcharts-legend-series {\t\n        cursor: pointer;\t\n        line-height: normal;\t\n      }\t\n      .apexcharts-legend.apx-legend-position-bottom .apexcharts-legend-series, .apexcharts-legend.apx-legend-position-top .apexcharts-legend-series{\t\n        display: flex;\t\n        align-items: center;\t\n      }\t\n      .apexcharts-legend-text {\t\n        position: relative;\t\n        font-size: 14px;\t\n      }\t\n      .apexcharts-legend-text *, .apexcharts-legend-marker * {\t\n        pointer-events: none;\t\n      }\t\n      .apexcharts-legend-marker {\t\n        position: relative;\t\n        display: inline-block;\t\n        cursor: pointer;\t\n        margin-right: 3px;\t\n        border-style: solid;\n      }\t\n      \t\n      .apexcharts-legend.apexcharts-align-right .apexcharts-legend-series, .apexcharts-legend.apexcharts-align-left .apexcharts-legend-series{\t\n        display: inline-block;\t\n      }\t\n      .apexcharts-legend-series.apexcharts-no-click {\t\n        cursor: auto;\t\n      }\t\n      .apexcharts-legend .apexcharts-hidden-zero-series, .apexcharts-legend .apexcharts-hidden-null-series {\t\n        display: none !important;\t\n      }\t\n      .apexcharts-inactive-legend {\t\n        opacity: 0.45;\t\n      }");return c.appendChild(h),c}},{key:"getLegendBBox",value:function(){var c=this.w.globals.dom.baseEl.querySelector(".apexcharts-legend").getBoundingClientRect();return{clwh:c.height,clww:c.width}}},{key:"appendToForeignObject",value:function(){var c=this.w.globals;c.dom.elLegendForeign=document.createElementNS(c.SVGNS,"foreignObject");var h=c.dom.elLegendForeign;h.setAttribute("x",0),h.setAttribute("y",0),h.setAttribute("width",c.svgWidth),h.setAttribute("height",c.svgHeight),c.dom.elLegendWrap.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),h.appendChild(c.dom.elLegendWrap),h.appendChild(this.getLegendStyles()),c.dom.Paper.node.insertBefore(h,c.dom.elGraphical.node)}},{key:"toggleDataSeries",value:function(c,h){var v=this,_=this.w;if(_.globals.axisCharts||"radialBar"===_.config.chart.type){_.globals.resized=!0;var A=null,P=null;_.globals.risingSeries=[],_.globals.axisCharts?(A=_.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(c,"']")),P=parseInt(A.getAttribute("data:realIndex"),10)):(A=_.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(c+1,"']")),P=parseInt(A.getAttribute("rel"),10)-1),h?[{cs:_.globals.collapsedSeries,csi:_.globals.collapsedSeriesIndices},{cs:_.globals.ancillaryCollapsedSeries,csi:_.globals.ancillaryCollapsedSeriesIndices}].forEach(function(K){v.riseCollapsedSeries(K.cs,K.csi,P)}):this.hideSeries({seriesEl:A,realIndex:P})}else{var E=_.globals.dom.Paper.select(" .apexcharts-series[rel='".concat(c+1,"'] path")),F=_.config.chart.type;if("pie"===F||"polarArea"===F||"donut"===F){var W=_.config.plotOptions.pie.donut.labels;new ot(this.lgCtx.ctx).pathMouseDown(E.members[0],null),this.lgCtx.ctx.pie.printDataLabelsInner(E.members[0].node,W)}E.fire("click")}}},{key:"hideSeries",value:function(c){var h=c.seriesEl,v=c.realIndex,_=this.w,A=lt.clone(_.config.series);if(_.globals.axisCharts){var P=!1;if(_.config.yaxis[v]&&_.config.yaxis[v].show&&_.config.yaxis[v].showAlways&&(P=!0,_.globals.ancillaryCollapsedSeriesIndices.indexOf(v)<0&&(_.globals.ancillaryCollapsedSeries.push({index:v,data:A[v].data.slice(),type:h.parentNode.className.baseVal.split("-")[1]}),_.globals.ancillaryCollapsedSeriesIndices.push(v))),!P){_.globals.collapsedSeries.push({index:v,data:A[v].data.slice(),type:h.parentNode.className.baseVal.split("-")[1]}),_.globals.collapsedSeriesIndices.push(v);var E=_.globals.risingSeries.indexOf(v);_.globals.risingSeries.splice(E,1)}}else _.globals.collapsedSeries.push({index:v,data:A[v]}),_.globals.collapsedSeriesIndices.push(v);for(var F=h.childNodes,W=0;W<F.length;W++)F[W].classList.contains("apexcharts-series-markers-wrap")&&(F[W].classList.contains("apexcharts-hide")?F[W].classList.remove("apexcharts-hide"):F[W].classList.add("apexcharts-hide"));_.globals.allSeriesCollapsed=_.globals.collapsedSeries.length===_.config.series.length,A=this._getSeriesBasedOnCollapsedState(A),this.lgCtx.ctx.updateHelpers._updateSeries(A,_.config.chart.animations.dynamicAnimation.enabled)}},{key:"riseCollapsedSeries",value:function(c,h,v){var _=this.w,A=lt.clone(_.config.series);if(c.length>0){for(var P=0;P<c.length;P++)c[P].index===v&&(_.globals.axisCharts?(A[v].data=c[P].data.slice(),c.splice(P,1),h.splice(P,1),_.globals.risingSeries.push(v)):(A[v]=c[P].data,c.splice(P,1),h.splice(P,1),_.globals.risingSeries.push(v)));A=this._getSeriesBasedOnCollapsedState(A),this.lgCtx.ctx.updateHelpers._updateSeries(A,_.config.chart.animations.dynamicAnimation.enabled)}}},{key:"_getSeriesBasedOnCollapsedState",value:function(c){var h=this.w;return c.forEach(h.globals.axisCharts?function(v,_){h.globals.collapsedSeriesIndices.indexOf(_)>-1&&(c[_].data=[])}:function(v,_){h.globals.collapsedSeriesIndices.indexOf(_)>-1&&(c[_]=0)}),c}}]),ae}(),nr=function(){function ae(c,h){$t(this,ae),this.ctx=c,this.w=c.w,this.onLegendClick=this.onLegendClick.bind(this),this.onLegendHovered=this.onLegendHovered.bind(this),this.isBarsDistributed="bar"===this.w.config.chart.type&&this.w.config.plotOptions.bar.distributed&&1===this.w.config.series.length,this.legendHelpers=new ji(this)}return ee(ae,[{key:"init",value:function(){var c=this.w,h=c.globals,v=c.config;if((v.legend.showForSingleSeries&&1===h.series.length||this.isBarsDistributed||h.series.length>1||!h.axisCharts)&&v.legend.show){for(;h.dom.elLegendWrap.firstChild;)h.dom.elLegendWrap.removeChild(h.dom.elLegendWrap.firstChild);this.drawLegends(),lt.isIE11()?document.getElementsByTagName("head")[0].appendChild(this.legendHelpers.getLegendStyles()):this.legendHelpers.appendToForeignObject(),"bottom"===v.legend.position||"top"===v.legend.position?this.legendAlignHorizontal():"right"!==v.legend.position&&"left"!==v.legend.position||this.legendAlignVertical()}}},{key:"drawLegends",value:function(){var c=this,h=this.w,v=h.config.legend.fontFamily,_=h.globals.seriesNames,A=h.globals.colors.slice();if("heatmap"===h.config.chart.type){var P=h.config.plotOptions.heatmap.colorScale.ranges;_=P.map(function(zn){return zn.name?zn.name:zn.from+" - "+zn.to}),A=P.map(function(zn){return zn.color})}else this.isBarsDistributed&&(_=h.globals.labels.slice());h.config.legend.customLegendItems.length&&(_=h.config.legend.customLegendItems);for(var E=h.globals.legendFormatter,F=h.config.legend.inverseOrder,W=F?_.length-1:0;F?W>=0:W<=_.length-1;F?W--:W++){var K=E(_[W],{seriesIndex:W,w:h}),J=!1,ct=!1;if(h.globals.collapsedSeries.length>0)for(var yt=0;yt<h.globals.collapsedSeries.length;yt++)h.globals.collapsedSeries[yt].index===W&&(J=!0);if(h.globals.ancillaryCollapsedSeriesIndices.length>0)for(var Vt=0;Vt<h.globals.ancillaryCollapsedSeriesIndices.length;Vt++)h.globals.ancillaryCollapsedSeriesIndices[Vt]===W&&(ct=!0);var Ht=document.createElement("span");Ht.classList.add("apexcharts-legend-marker");var qt=h.config.legend.markers.offsetX,le=h.config.legend.markers.offsetY,me=h.config.legend.markers.height,De=h.config.legend.markers.width,j=h.config.legend.markers.strokeWidth,ut=h.config.legend.markers.strokeColor,Zt=h.config.legend.markers.radius,he=Ht.style;he.background=A[W],he.color=A[W],he.setProperty("background",A[W],"important"),h.config.legend.markers.fillColors&&h.config.legend.markers.fillColors[W]&&(he.background=h.config.legend.markers.fillColors[W]),void 0!==h.globals.seriesColors[W]&&(he.background=h.globals.seriesColors[W],he.color=h.globals.seriesColors[W]),he.height=Array.isArray(me)?parseFloat(me[W])+"px":parseFloat(me)+"px",he.width=Array.isArray(De)?parseFloat(De[W])+"px":parseFloat(De)+"px",he.left=(Array.isArray(qt)?parseFloat(qt[W]):parseFloat(qt))+"px",he.top=(Array.isArray(le)?parseFloat(le[W]):parseFloat(le))+"px",he.borderWidth=Array.isArray(j)?j[W]:j,he.borderColor=Array.isArray(ut)?ut[W]:ut,he.borderRadius=Array.isArray(Zt)?parseFloat(Zt[W])+"px":parseFloat(Zt)+"px",h.config.legend.markers.customHTML&&(Array.isArray(h.config.legend.markers.customHTML)?h.config.legend.markers.customHTML[W]&&(Ht.innerHTML=h.config.legend.markers.customHTML[W]()):Ht.innerHTML=h.config.legend.markers.customHTML()),ot.setAttrs(Ht,{rel:W+1,"data:collapsed":J||ct}),(J||ct)&&Ht.classList.add("apexcharts-inactive-legend");var Ue=document.createElement("div"),kn=document.createElement("span");kn.classList.add("apexcharts-legend-text"),kn.innerHTML=Array.isArray(K)?K.join(" "):K;var rn=h.config.legend.labels.useSeriesColors?h.globals.colors[W]:h.config.legend.labels.colors;rn||(rn=h.config.chart.foreColor),kn.style.color=rn,kn.style.fontSize=parseFloat(h.config.legend.fontSize)+"px",kn.style.fontWeight=h.config.legend.fontWeight,kn.style.fontFamily=v||h.config.chart.fontFamily,ot.setAttrs(kn,{rel:W+1,i:W,"data:default-text":encodeURIComponent(K),"data:collapsed":J||ct}),Ue.appendChild(Ht),Ue.appendChild(kn);var Kn=new Ut(this.ctx);h.config.legend.showForZeroSeries||0===Kn.getSeriesTotalByIndex(W)&&Kn.seriesHaveSameValues(W)&&!Kn.isSeriesNull(W)&&-1===h.globals.collapsedSeriesIndices.indexOf(W)&&-1===h.globals.ancillaryCollapsedSeriesIndices.indexOf(W)&&Ue.classList.add("apexcharts-hidden-zero-series"),h.config.legend.showForNullSeries||Kn.isSeriesNull(W)&&-1===h.globals.collapsedSeriesIndices.indexOf(W)&&-1===h.globals.ancillaryCollapsedSeriesIndices.indexOf(W)&&Ue.classList.add("apexcharts-hidden-null-series"),h.globals.dom.elLegendWrap.appendChild(Ue),h.globals.dom.elLegendWrap.classList.add("apexcharts-align-".concat(h.config.legend.horizontalAlign)),h.globals.dom.elLegendWrap.classList.add("apx-legend-position-"+h.config.legend.position),Ue.classList.add("apexcharts-legend-series"),Ue.style.margin="".concat(h.config.legend.itemMargin.vertical,"px ").concat(h.config.legend.itemMargin.horizontal,"px"),h.globals.dom.elLegendWrap.style.width=h.config.legend.width?h.config.legend.width+"px":"",h.globals.dom.elLegendWrap.style.height=h.config.legend.height?h.config.legend.height+"px":"",ot.setAttrs(Ue,{rel:W+1,seriesName:lt.escapeString(_[W]),"data:collapsed":J||ct}),(J||ct)&&Ue.classList.add("apexcharts-inactive-legend"),h.config.legend.onItemClick.toggleDataSeries||Ue.classList.add("apexcharts-no-click")}h.globals.dom.elWrap.addEventListener("click",c.onLegendClick,!0),h.config.legend.onItemHover.highlightDataSeries&&0===h.config.legend.customLegendItems.length&&(h.globals.dom.elWrap.addEventListener("mousemove",c.onLegendHovered,!0),h.globals.dom.elWrap.addEventListener("mouseout",c.onLegendHovered,!0))}},{key:"setLegendWrapXY",value:function(c,h){var v=this.w,_=v.globals.dom.baseEl.querySelector(".apexcharts-legend"),A=_.getBoundingClientRect(),P=0,E=0;if("bottom"===v.config.legend.position)E+=v.globals.svgHeight-A.height/2;else if("top"===v.config.legend.position){var F=new br(this.ctx),W=F.dimHelpers.getTitleSubtitleCoords("title").height,K=F.dimHelpers.getTitleSubtitleCoords("subtitle").height;E=E+(W>0?W-10:0)+(K>0?K-10:0)}_.style.position="absolute",E=E+h+v.config.legend.offsetY,_.style.left=(P=P+c+v.config.legend.offsetX)+"px",_.style.top=E+"px","bottom"===v.config.legend.position?(_.style.top="auto",_.style.bottom=5-v.config.legend.offsetY+"px"):"right"===v.config.legend.position&&(_.style.left="auto",_.style.right=25+v.config.legend.offsetX+"px"),["width","height"].forEach(function(J){_.style[J]&&(_.style[J]=parseInt(v.config.legend[J],10)+"px")})}},{key:"legendAlignHorizontal",value:function(){var c=this.w;c.globals.dom.baseEl.querySelector(".apexcharts-legend").style.right=0;var h=this.legendHelpers.getLegendBBox(),v=new br(this.ctx),_=v.dimHelpers.getTitleSubtitleCoords("title"),A=v.dimHelpers.getTitleSubtitleCoords("subtitle"),P=0;"bottom"===c.config.legend.position?P=-h.clwh/1.8:"top"===c.config.legend.position&&(P=_.height+A.height+c.config.title.margin+c.config.subtitle.margin-10),this.setLegendWrapXY(20,P)}},{key:"legendAlignVertical",value:function(){var c=this.w,h=this.legendHelpers.getLegendBBox(),v=0;"left"===c.config.legend.position&&(v=20),"right"===c.config.legend.position&&(v=c.globals.svgWidth-h.clww-10),this.setLegendWrapXY(v,20)}},{key:"onLegendHovered",value:function(c){var h=this.w,v=c.target.classList.contains("apexcharts-legend-text")||c.target.classList.contains("apexcharts-legend-marker");if("heatmap"===h.config.chart.type||this.isBarsDistributed){if(v){var _=parseInt(c.target.getAttribute("rel"),10)-1;this.ctx.events.fireEvent("legendHover",[this.ctx,_,this.w]),new on(this.ctx).highlightRangeInSeries(c,c.target)}}else!c.target.classList.contains("apexcharts-inactive-legend")&&v&&new on(this.ctx).toggleSeriesOnHover(c,c.target)}},{key:"onLegendClick",value:function(c){var h=this.w;if(!h.config.legend.customLegendItems.length&&(c.target.classList.contains("apexcharts-legend-text")||c.target.classList.contains("apexcharts-legend-marker"))){var v=parseInt(c.target.getAttribute("rel"),10)-1,_="true"===c.target.getAttribute("data:collapsed"),A=this.w.config.chart.events.legendClick;"function"==typeof A&&A(this.ctx,v,this.w),this.ctx.events.fireEvent("legendClick",[this.ctx,v,this.w]);var P=this.w.config.legend.markers.onClick;"function"==typeof P&&c.target.classList.contains("apexcharts-legend-marker")&&(P(this.ctx,v,this.w),this.ctx.events.fireEvent("legendMarkerClick",[this.ctx,v,this.w])),"treemap"!==h.config.chart.type&&"heatmap"!==h.config.chart.type&&!this.isBarsDistributed&&h.config.legend.onItemClick.toggleDataSeries&&this.legendHelpers.toggleDataSeries(v,_)}}}]),ae}(),qr=function(){function ae(c){$t(this,ae),this.ctx=c,this.w=c.w;var h=this.w;this.ev=this.w.config.chart.events,this.selectedClass="apexcharts-selected",this.localeValues=this.w.globals.locale.toolbar,this.minX=h.globals.minX,this.maxX=h.globals.maxX}return ee(ae,[{key:"createToolbar",value:function(){var c=this,h=this.w,v=function(){return document.createElement("div")},_=v();if(_.setAttribute("class","apexcharts-toolbar"),_.style.top=h.config.chart.toolbar.offsetY+"px",_.style.right=3-h.config.chart.toolbar.offsetX+"px",h.globals.dom.elWrap.appendChild(_),this.elZoom=v(),this.elZoomIn=v(),this.elZoomOut=v(),this.elPan=v(),this.elSelection=v(),this.elZoomReset=v(),this.elMenuIcon=v(),this.elMenu=v(),this.elCustomIcons=[],this.t=h.config.chart.toolbar.tools,Array.isArray(this.t.customIcons))for(var A=0;A<this.t.customIcons.length;A++)this.elCustomIcons.push(v());var P=[],E=function(J,ct,yt){var Vt=J.toLowerCase();c.t[Vt]&&h.config.chart.zoom.enabled&&P.push({el:ct,icon:"string"==typeof c.t[Vt]?c.t[Vt]:yt,title:c.localeValues[J],class:"apexcharts-".concat(Vt,"-icon")})};E("zoomIn",this.elZoomIn,'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">\n    <path d="M0 0h24v24H0z" fill="none"/>\n    <path d="M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>\n</svg>\n'),E("zoomOut",this.elZoomOut,'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">\n    <path d="M0 0h24v24H0z" fill="none"/>\n    <path d="M7 11v2h10v-2H7zm5-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>\n</svg>\n');var F=function(J){c.t[J]&&h.config.chart[J].enabled&&P.push({el:"zoom"===J?c.elZoom:c.elSelection,icon:"string"==typeof c.t[J]?c.t[J]:"zoom"===J?'<svg xmlns="http://www.w3.org/2000/svg" fill="#000000" height="24" viewBox="0 0 24 24" width="24">\n    <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>\n    <path d="M0 0h24v24H0V0z" fill="none"/>\n    <path d="M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"/>\n</svg>':'<svg fill="#6E8192" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">\n    <path d="M0 0h24v24H0z" fill="none"/>\n    <path d="M3 5h2V3c-1.1 0-2 .9-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2c0-1.1-.9-2-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2z"/>\n</svg>',title:c.localeValues["zoom"===J?"selectionZoom":"selection"],class:h.globals.isTouchDevice?"apexcharts-element-hidden":"apexcharts-".concat(J,"-icon")})};F("zoom"),F("selection"),this.t.pan&&h.config.chart.zoom.enabled&&P.push({el:this.elPan,icon:"string"==typeof this.t.pan?this.t.pan:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="#000000" height="24" viewBox="0 0 24 24" width="24">\n    <defs>\n        <path d="M0 0h24v24H0z" id="a"/>\n    </defs>\n    <clipPath id="b">\n        <use overflow="visible" xlink:href="#a"/>\n    </clipPath>\n    <path clip-path="url(#b)" d="M23 5.5V20c0 2.2-1.8 4-4 4h-7.3c-1.08 0-2.1-.43-2.85-1.19L1 14.83s1.26-1.23 1.3-1.25c.22-.19.49-.29.79-.29.22 0 .42.06.6.16.04.01 4.31 2.46 4.31 2.46V4c0-.83.67-1.5 1.5-1.5S11 3.17 11 4v7h1V1.5c0-.83.67-1.5 1.5-1.5S15 .67 15 1.5V11h1V2.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5V11h1V5.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5z"/>\n</svg>',title:this.localeValues.pan,class:h.globals.isTouchDevice?"apexcharts-element-hidden":"apexcharts-pan-icon"}),E("reset",this.elZoomReset,'<svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">\n    <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>\n    <path d="M0 0h24v24H0z" fill="none"/>\n</svg>'),this.t.download&&P.push({el:this.elMenuIcon,icon:"string"==typeof this.t.download?this.t.download:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg>',title:this.localeValues.menu,class:"apexcharts-menu-icon"});for(var W=0;W<this.elCustomIcons.length;W++)P.push({el:this.elCustomIcons[W],icon:this.t.customIcons[W].icon,title:this.t.customIcons[W].title,index:this.t.customIcons[W].index,class:"apexcharts-toolbar-custom-icon "+this.t.customIcons[W].class});P.forEach(function(J,ct){J.index&&lt.moveIndexInArray(P,ct,J.index)});for(var K=0;K<P.length;K++)ot.setAttrs(P[K].el,{class:P[K].class,title:P[K].title}),P[K].el.innerHTML=P[K].icon,_.appendChild(P[K].el);this._createHamburgerMenu(_),h.globals.zoomEnabled?this.elZoom.classList.add(this.selectedClass):h.globals.panEnabled?this.elPan.classList.add(this.selectedClass):h.globals.selectionEnabled&&this.elSelection.classList.add(this.selectedClass),this.addToolbarEventListeners()}},{key:"_createHamburgerMenu",value:function(c){this.elMenuItems=[],c.appendChild(this.elMenu),ot.setAttrs(this.elMenu,{class:"apexcharts-menu"});var h=[{name:"exportSVG",title:this.localeValues.exportToSVG},{name:"exportPNG",title:this.localeValues.exportToPNG},{name:"exportCSV",title:this.localeValues.exportToCSV}];this.w.globals.allSeriesHasEqualX||h.splice(2,1);for(var v=0;v<h.length;v++)this.elMenuItems.push(document.createElement("div")),this.elMenuItems[v].innerHTML=h[v].title,ot.setAttrs(this.elMenuItems[v],{class:"apexcharts-menu-item ".concat(h[v].name),title:h[v].title}),this.elMenu.appendChild(this.elMenuItems[v])}},{key:"addToolbarEventListeners",value:function(){var c=this;this.elZoomReset.addEventListener("click",this.handleZoomReset.bind(this)),this.elSelection.addEventListener("click",this.toggleZoomSelection.bind(this,"selection")),this.elZoom.addEventListener("click",this.toggleZoomSelection.bind(this,"zoom")),this.elZoomIn.addEventListener("click",this.handleZoomIn.bind(this)),this.elZoomOut.addEventListener("click",this.handleZoomOut.bind(this)),this.elPan.addEventListener("click",this.togglePanning.bind(this)),this.elMenuIcon.addEventListener("click",this.toggleMenu.bind(this)),this.elMenuItems.forEach(function(v){v.classList.contains("exportSVG")?v.addEventListener("click",c.handleDownload.bind(c,"svg")):v.classList.contains("exportPNG")?v.addEventListener("click",c.handleDownload.bind(c,"png")):v.classList.contains("exportCSV")&&v.addEventListener("click",c.handleDownload.bind(c,"csv"))});for(var h=0;h<this.t.customIcons.length;h++)this.elCustomIcons[h].addEventListener("click",this.t.customIcons[h].click.bind(this,this.ctx,this.ctx.w))}},{key:"toggleZoomSelection",value:function(c){this.ctx.getSyncedCharts().forEach(function(h){h.ctx.toolbar.toggleOtherControls();var v="selection"===c?h.ctx.toolbar.elSelection:h.ctx.toolbar.elZoom,_="selection"===c?"selectionEnabled":"zoomEnabled";h.w.globals[_]=!h.w.globals[_],v.classList.contains(h.ctx.toolbar.selectedClass)?v.classList.remove(h.ctx.toolbar.selectedClass):v.classList.add(h.ctx.toolbar.selectedClass)})}},{key:"getToolbarIconsReference",value:function(){var c=this.w;this.elZoom||(this.elZoom=c.globals.dom.baseEl.querySelector(".apexcharts-zoom-icon")),this.elPan||(this.elPan=c.globals.dom.baseEl.querySelector(".apexcharts-pan-icon")),this.elSelection||(this.elSelection=c.globals.dom.baseEl.querySelector(".apexcharts-selection-icon"))}},{key:"enableZoomPanFromToolbar",value:function(c){this.toggleOtherControls(),"pan"===c?this.w.globals.panEnabled=!0:this.w.globals.zoomEnabled=!0;var h="pan"===c?this.elPan:this.elZoom,v="pan"===c?this.elZoom:this.elPan;h&&h.classList.add(this.selectedClass),v&&v.classList.remove(this.selectedClass)}},{key:"togglePanning",value:function(){this.ctx.getSyncedCharts().forEach(function(c){c.ctx.toolbar.toggleOtherControls(),c.w.globals.panEnabled=!c.w.globals.panEnabled,c.ctx.toolbar.elPan.classList.contains(c.ctx.toolbar.selectedClass)?c.ctx.toolbar.elPan.classList.remove(c.ctx.toolbar.selectedClass):c.ctx.toolbar.elPan.classList.add(c.ctx.toolbar.selectedClass)})}},{key:"toggleOtherControls",value:function(){var c=this,h=this.w;h.globals.panEnabled=!1,h.globals.zoomEnabled=!1,h.globals.selectionEnabled=!1,this.getToolbarIconsReference(),[this.elPan,this.elSelection,this.elZoom].forEach(function(v){v&&v.classList.remove(c.selectedClass)})}},{key:"handleZoomIn",value:function(){var c=this.w;c.globals.isRangeBar&&(this.minX=c.globals.minY,this.maxX=c.globals.maxY);var h=(this.minX+this.maxX)/2,A=this._getNewMinXMaxX((this.minX+h)/2,(this.maxX+h)/2);c.globals.disableZoomIn||this.zoomUpdateOptions(A.minX,A.maxX)}},{key:"handleZoomOut",value:function(){var c=this.w;if(c.globals.isRangeBar&&(this.minX=c.globals.minY,this.maxX=c.globals.maxY),!("datetime"===c.config.xaxis.type&&new Date(this.minX).getUTCFullYear()<1e3)){var h=(this.minX+this.maxX)/2,A=this._getNewMinXMaxX(this.minX-(h-this.minX),this.maxX-(h-this.maxX));c.globals.disableZoomOut||this.zoomUpdateOptions(A.minX,A.maxX)}}},{key:"_getNewMinXMaxX",value:function(c,h){var v=this.w.config.xaxis.convertedCatToNumeric;return{minX:v?Math.floor(c):c,maxX:v?Math.floor(h):h}}},{key:"zoomUpdateOptions",value:function(c,h){var v=this.w;if(void 0!==c||void 0!==h){if(!(v.config.xaxis.convertedCatToNumeric&&(c<1&&(c=1,h=v.globals.dataPoints),h-c<2))){var _={min:c,max:h},A=this.getBeforeZoomRange(_);A&&(_=A.xaxis);var P={xaxis:_},E=lt.clone(v.globals.initialConfig.yaxis);v.config.chart.zoom.autoScaleYaxis&&(E=new $e(this.ctx).autoScaleY(this.ctx,E,{xaxis:_})),v.config.chart.group||(P.yaxis=E),this.w.globals.zoomed=!0,this.ctx.updateHelpers._updateOptions(P,!1,this.w.config.chart.animations.dynamicAnimation.enabled),this.zoomCallback(_,E)}}else this.handleZoomReset()}},{key:"zoomCallback",value:function(c,h){"function"==typeof this.ev.zoomed&&this.ev.zoomed(this.ctx,{xaxis:c,yaxis:h})}},{key:"getBeforeZoomRange",value:function(c,h){var v=null;return"function"==typeof this.ev.beforeZoom&&(v=this.ev.beforeZoom(this,{xaxis:c,yaxis:h})),v}},{key:"toggleMenu",value:function(){var c=this;window.setTimeout(function(){c.elMenu.classList.contains("apexcharts-menu-open")?c.elMenu.classList.remove("apexcharts-menu-open"):c.elMenu.classList.add("apexcharts-menu-open")},0)}},{key:"handleDownload",value:function(c){var h=this.w,v=new Ke(this.ctx);switch(c){case"svg":v.exportToSVG(this.ctx);break;case"png":v.exportToPng(this.ctx);break;case"csv":v.exportToCSV({series:h.config.series,columnDelimiter:h.config.chart.toolbar.export.csv.columnDelimiter})}}},{key:"handleZoomReset",value:function(c){this.ctx.getSyncedCharts().forEach(function(h){var v=h.w;if(v.globals.lastXAxis.min=void 0,v.globals.lastXAxis.max=void 0,h.updateHelpers.revertDefaultAxisMinMax(),"function"==typeof v.config.chart.events.beforeResetZoom){var _=v.config.chart.events.beforeResetZoom(h,v);_&&h.updateHelpers.revertDefaultAxisMinMax(_)}"function"==typeof v.config.chart.events.zoomed&&h.ctx.toolbar.zoomCallback({min:v.config.xaxis.min,max:v.config.xaxis.max}),v.globals.zoomed=!1;var A=h.ctx.series.emptyCollapsedSeries(lt.clone(v.globals.initialSeries));h.updateHelpers._updateSeries(A,v.config.chart.animations.dynamicAnimation.enabled)})}},{key:"destroy",value:function(){this.elZoom=null,this.elZoomIn=null,this.elZoomOut=null,this.elPan=null,this.elSelection=null,this.elZoomReset=null,this.elMenuIcon=null}}]),ae}(),Io=function(ae){Ft(h,ae);var c=ft(h);function h(v){var _;return $t(this,h),(_=c.call(this,v)).ctx=v,_.w=v.w,_.dragged=!1,_.graphics=new ot(_.ctx),_.eventList=["mousedown","mouseleave","mousemove","touchstart","touchmove","mouseup","touchend"],_.clientX=0,_.clientY=0,_.startX=0,_.endX=0,_.dragX=0,_.startY=0,_.endY=0,_.dragY=0,_.moveDirection="none",_}return ee(h,[{key:"init",value:function(v){var _=this,A=v.xyRatios,P=this.w,E=this;this.xyRatios=A,this.zoomRect=this.graphics.drawRect(0,0,0,0),this.selectionRect=this.graphics.drawRect(0,0,0,0),this.gridRect=P.globals.dom.baseEl.querySelector(".apexcharts-grid"),this.zoomRect.node.classList.add("apexcharts-zoom-rect"),this.selectionRect.node.classList.add("apexcharts-selection-rect"),P.globals.dom.elGraphical.add(this.zoomRect),P.globals.dom.elGraphical.add(this.selectionRect),this.slDraggableRect="x"===P.config.chart.selection.type?this.selectionRect.draggable({minX:0,minY:0,maxX:P.globals.gridWidth,maxY:P.globals.gridHeight}).on("dragmove",this.selectionDragging.bind(this,"dragging")):"y"===P.config.chart.selection.type?this.selectionRect.draggable({minX:0,maxX:P.globals.gridWidth}).on("dragmove",this.selectionDragging.bind(this,"dragging")):this.selectionRect.draggable().on("dragmove",this.selectionDragging.bind(this,"dragging")),this.preselectedSelection(),this.hoverArea=P.globals.dom.baseEl.querySelector("".concat(P.globals.chartClass," .apexcharts-svg")),this.hoverArea.classList.add("apexcharts-zoomable"),this.eventList.forEach(function(F){_.hoverArea.addEventListener(F,E.svgMouseEvents.bind(E,A),{capture:!1,passive:!0})})}},{key:"destroy",value:function(){this.slDraggableRect&&(this.slDraggableRect.draggable(!1),this.slDraggableRect.off(),this.selectionRect.off()),this.selectionRect=null,this.zoomRect=null,this.gridRect=null}},{key:"svgMouseEvents",value:function(v,_){var A=this.w,P=this,E=this.ctx.toolbar,F=A.globals.zoomEnabled?A.config.chart.zoom.type:A.config.chart.selection.type,W=A.config.chart.toolbar.autoSelected;if(_.shiftKey?(this.shiftWasPressed=!0,E.enableZoomPanFromToolbar("pan"===W?"zoom":"pan")):this.shiftWasPressed&&(E.enableZoomPanFromToolbar(W),this.shiftWasPressed=!1),_.target){var K,J=_.target.classList;if(_.target.parentNode&&null!==_.target.parentNode&&(K=_.target.parentNode.classList),!(J.contains("apexcharts-selection-rect")||J.contains("apexcharts-legend-marker")||J.contains("apexcharts-legend-text")||K&&K.contains("apexcharts-toolbar"))){if(P.clientX="touchmove"===_.type||"touchstart"===_.type?_.touches[0].clientX:"touchend"===_.type?_.changedTouches[0].clientX:_.clientX,P.clientY="touchmove"===_.type||"touchstart"===_.type?_.touches[0].clientY:"touchend"===_.type?_.changedTouches[0].clientY:_.clientY,"mousedown"===_.type&&1===_.which){var ct=P.gridRect.getBoundingClientRect();P.startX=P.clientX-ct.left,P.startY=P.clientY-ct.top,P.dragged=!1,P.w.globals.mousedown=!0}if(("mousemove"===_.type&&1===_.which||"touchmove"===_.type)&&(P.dragged=!0,A.globals.panEnabled?(A.globals.selection=null,P.w.globals.mousedown&&P.panDragging({context:P,zoomtype:F,xyRatios:v})):(P.w.globals.mousedown&&A.globals.zoomEnabled||P.w.globals.mousedown&&A.globals.selectionEnabled)&&(P.selection=P.selectionDrawing({context:P,zoomtype:F}))),"mouseup"===_.type||"touchend"===_.type||"mouseleave"===_.type){var yt=P.gridRect.getBoundingClientRect();P.w.globals.mousedown&&(P.endX=P.clientX-yt.left,P.endY=P.clientY-yt.top,P.dragX=Math.abs(P.endX-P.startX),P.dragY=Math.abs(P.endY-P.startY),(A.globals.zoomEnabled||A.globals.selectionEnabled)&&P.selectionDrawn({context:P,zoomtype:F}),A.globals.panEnabled&&A.config.xaxis.convertedCatToNumeric&&P.delayedPanScrolled()),A.globals.zoomEnabled&&P.hideSelectionRect(this.selectionRect),P.dragged=!1,P.w.globals.mousedown=!1}this.makeSelectionRectDraggable()}}}},{key:"makeSelectionRectDraggable",value:function(){var v=this.w;if(this.selectionRect){var _=this.selectionRect.node.getBoundingClientRect();_.width>0&&_.height>0&&this.slDraggableRect.selectize({points:"l, r",pointSize:8,pointType:"rect"}).resize({constraint:{minX:0,minY:0,maxX:v.globals.gridWidth,maxY:v.globals.gridHeight}}).on("resizing",this.selectionDragging.bind(this,"resizing"))}}},{key:"preselectedSelection",value:function(){var v=this.w,_=this.xyRatios;if(!v.globals.zoomEnabled)if(null!=v.globals.selection)this.drawSelectionRect(v.globals.selection);else if(void 0!==v.config.chart.selection.xaxis.min&&void 0!==v.config.chart.selection.xaxis.max){var A=(v.config.chart.selection.xaxis.min-v.globals.minX)/_.xRatio;this.drawSelectionRect({x:A,y:0,width:v.globals.gridWidth-(v.globals.maxX-v.config.chart.selection.xaxis.max)/_.xRatio-A,height:v.globals.gridHeight,translateX:0,translateY:0,selectionEnabled:!0}),this.makeSelectionRectDraggable(),"function"==typeof v.config.chart.events.selection&&v.config.chart.events.selection(this.ctx,{xaxis:{min:v.config.chart.selection.xaxis.min,max:v.config.chart.selection.xaxis.max},yaxis:{}})}}},{key:"drawSelectionRect",value:function(v){var _=v.x,A=v.y,P=v.width,E=v.height,F=v.translateX,K=v.translateY,ct=this.w,yt=this.zoomRect,Vt=this.selectionRect;if(this.dragged||null!==ct.globals.selection){var Ht={transform:"translate("+(void 0===F?0:F)+", "+(void 0===K?0:K)+")"};ct.globals.zoomEnabled&&this.dragged&&(P<0&&(P=1),yt.attr({x:_,y:A,width:P,height:E,fill:ct.config.chart.zoom.zoomedArea.fill.color,"fill-opacity":ct.config.chart.zoom.zoomedArea.fill.opacity,stroke:ct.config.chart.zoom.zoomedArea.stroke.color,"stroke-width":ct.config.chart.zoom.zoomedArea.stroke.width,"stroke-opacity":ct.config.chart.zoom.zoomedArea.stroke.opacity}),ot.setAttrs(yt.node,Ht)),ct.globals.selectionEnabled&&(Vt.attr({x:_,y:A,width:P>0?P:0,height:E>0?E:0,fill:ct.config.chart.selection.fill.color,"fill-opacity":ct.config.chart.selection.fill.opacity,stroke:ct.config.chart.selection.stroke.color,"stroke-width":ct.config.chart.selection.stroke.width,"stroke-dasharray":ct.config.chart.selection.stroke.dashArray,"stroke-opacity":ct.config.chart.selection.stroke.opacity}),ot.setAttrs(Vt.node,Ht))}}},{key:"hideSelectionRect",value:function(v){v&&v.attr({x:0,y:0,width:0,height:0})}},{key:"selectionDrawing",value:function(v){var Ht,A=v.zoomtype,P=this.w,E=v.context,F=this.gridRect.getBoundingClientRect(),W=E.startX-1,K=E.startY,J=!1,ct=!1,yt=E.clientX-F.left-W,Vt=E.clientY-F.top-K;return Math.abs(yt+W)>P.globals.gridWidth?yt=P.globals.gridWidth-W:E.clientX-F.left<0&&(yt=W),W>E.clientX-F.left&&(J=!0,yt=Math.abs(yt)),K>E.clientY-F.top&&(ct=!0,Vt=Math.abs(Vt)),E.drawSelectionRect(Ht="x"===A?{x:J?W-yt:W,y:0,width:yt,height:P.globals.gridHeight}:"y"===A?{x:0,y:ct?K-Vt:K,width:P.globals.gridWidth,height:Vt}:{x:J?W-yt:W,y:ct?K-Vt:K,width:yt,height:Vt}),E.selectionDragging("resizing"),Ht}},{key:"selectionDragging",value:function(v,_){var A=this,P=this.w,E=this.xyRatios,F=this.selectionRect,W=0;"resizing"===v&&(W=30);var K=function(ct){return parseFloat(F.node.getAttribute(ct))},J={x:K("x"),y:K("y"),width:K("width"),height:K("height")};P.globals.selection=J,"function"==typeof P.config.chart.events.selection&&P.globals.selectionEnabled&&(clearTimeout(this.w.globals.selectionResizeTimer),this.w.globals.selectionResizeTimer=window.setTimeout(function(){var ct=A.gridRect.getBoundingClientRect(),yt=F.node.getBoundingClientRect(),Vt={xaxis:{min:P.globals.xAxisScale.niceMin+(yt.left-ct.left)*E.xRatio,max:P.globals.xAxisScale.niceMin+(yt.right-ct.left)*E.xRatio},yaxis:{min:P.globals.yAxisScale[0].niceMin+(ct.bottom-yt.bottom)*E.yRatio[0],max:P.globals.yAxisScale[0].niceMax-(yt.top-ct.top)*E.yRatio[0]}};P.config.chart.events.selection(A.ctx,Vt),P.config.chart.brush.enabled&&void 0!==P.config.chart.events.brushScrolled&&P.config.chart.events.brushScrolled(A.ctx,Vt)},W))}},{key:"selectionDrawn",value:function(v){var A=v.zoomtype,P=this.w,E=v.context,F=this.xyRatios,W=this.ctx.toolbar;if(E.startX>E.endX){var K=E.startX;E.startX=E.endX,E.endX=K}if(E.startY>E.endY){var J=E.startY;E.startY=E.endY,E.endY=J}var ct=void 0,yt=void 0;P.globals.isRangeBar?(ct=P.globals.yAxisScale[0].niceMin+E.startX*F.invertedYRatio,yt=P.globals.yAxisScale[0].niceMin+E.endX*F.invertedYRatio):(ct=P.globals.xAxisScale.niceMin+E.startX*F.xRatio,yt=P.globals.xAxisScale.niceMin+E.endX*F.xRatio);var Vt=[],Ht=[];if(P.config.yaxis.forEach(function(he,Ue){Vt.push(P.globals.yAxisScale[Ue].niceMax-F.yRatio[Ue]*E.startY),Ht.push(P.globals.yAxisScale[Ue].niceMax-F.yRatio[Ue]*E.endY)}),E.dragged&&(E.dragX>10||E.dragY>10)&&ct!==yt)if(P.globals.zoomEnabled){var qt=lt.clone(P.globals.initialConfig.yaxis),le=lt.clone(P.globals.initialConfig.xaxis);if(P.globals.zoomed=!0,P.config.xaxis.convertedCatToNumeric&&(ct=Math.floor(ct),yt=Math.floor(yt),ct<1&&(ct=1,yt=P.globals.dataPoints),yt-ct<2&&(yt=ct+1)),"xy"!==A&&"x"!==A||(le={min:ct,max:yt}),"xy"!==A&&"y"!==A||qt.forEach(function(he,Ue){qt[Ue].min=Ht[Ue],qt[Ue].max=Vt[Ue]}),P.config.chart.zoom.autoScaleYaxis){var me=new $e(E.ctx);qt=me.autoScaleY(E.ctx,qt,{xaxis:le})}if(W){var De=W.getBeforeZoomRange(le,qt);De&&(le=De.xaxis?De.xaxis:le,qt=De.yaxis?De.yaxis:qt)}var j={xaxis:le};P.config.chart.group||(j.yaxis=qt),E.ctx.updateHelpers._updateOptions(j,!1,E.w.config.chart.animations.dynamicAnimation.enabled),"function"==typeof P.config.chart.events.zoomed&&W.zoomCallback(le,qt)}else if(P.globals.selectionEnabled){var ut,Zt=null;ut={min:ct,max:yt},"xy"!==A&&"y"!==A||(Zt=lt.clone(P.config.yaxis)).forEach(function(he,Ue){Zt[Ue].min=Ht[Ue],Zt[Ue].max=Vt[Ue]}),P.globals.selection=E.selection,"function"==typeof P.config.chart.events.selection&&P.config.chart.events.selection(E.ctx,{xaxis:ut,yaxis:Zt})}}},{key:"panDragging",value:function(v){var A=this.w,P=v.context;if(void 0!==A.globals.lastClientPosition.x){var E=A.globals.lastClientPosition.x-P.clientX,F=A.globals.lastClientPosition.y-P.clientY;Math.abs(E)>Math.abs(F)&&E>0?this.moveDirection="left":Math.abs(E)>Math.abs(F)&&E<0?this.moveDirection="right":Math.abs(F)>Math.abs(E)&&F>0?this.moveDirection="up":Math.abs(F)>Math.abs(E)&&F<0&&(this.moveDirection="down")}A.globals.lastClientPosition={x:P.clientX,y:P.clientY},A.config.xaxis.convertedCatToNumeric||P.panScrolled(A.globals.isRangeBar?A.globals.minY:A.globals.minX,A.globals.isRangeBar?A.globals.maxY:A.globals.maxX)}},{key:"delayedPanScrolled",value:function(){var v=this.w,_=v.globals.minX,A=v.globals.maxX,P=(v.globals.maxX-v.globals.minX)/2;"left"===this.moveDirection?(_=v.globals.minX+P,A=v.globals.maxX+P):"right"===this.moveDirection&&(_=v.globals.minX-P,A=v.globals.maxX-P),_=Math.floor(_),A=Math.floor(A),this.updateScrolledChart({xaxis:{min:_,max:A}},_,A)}},{key:"panScrolled",value:function(v,_){var A=this.w,P=this.xyRatios,E=lt.clone(A.globals.initialConfig.yaxis),F=P.xRatio,W=A.globals.minX,K=A.globals.maxX;A.globals.isRangeBar&&(F=P.invertedYRatio,W=A.globals.minY,K=A.globals.maxY),"left"===this.moveDirection?(v=W+A.globals.gridWidth/15*F,_=K+A.globals.gridWidth/15*F):"right"===this.moveDirection&&(v=W-A.globals.gridWidth/15*F,_=K-A.globals.gridWidth/15*F),A.globals.isRangeBar||(v<A.globals.initialMinX||_>A.globals.initialMaxX)&&(v=W,_=K);var J={min:v,max:_};A.config.chart.zoom.autoScaleYaxis&&(E=new $e(this.ctx).autoScaleY(this.ctx,E,{xaxis:J}));var ct={xaxis:{min:v,max:_}};A.config.chart.group||(ct.yaxis=E),this.updateScrolledChart(ct,v,_)}},{key:"updateScrolledChart",value:function(v,_,A){var P=this.w;this.ctx.updateHelpers._updateOptions(v,!1,!1),"function"==typeof P.config.chart.events.scrolled&&P.config.chart.events.scrolled(this.ctx,{xaxis:{min:_,max:A}})}}]),h}(qr),ii=function(){function ae(c){$t(this,ae),this.w=c.w,this.ttCtx=c,this.ctx=c.ctx}return ee(ae,[{key:"getNearestValues",value:function(c){var h=c.hoverArea,_=c.clientX,A=c.clientY,P=this.w,E=c.elGrid.getBoundingClientRect(),F=E.width,W=E.height,K=F/(P.globals.dataPoints-1),J=W/P.globals.dataPoints,ct=this.hasBars();!P.globals.comboCharts&&!ct||P.config.xaxis.convertedCatToNumeric||(K=F/P.globals.dataPoints);var yt=_-E.left-P.globals.barPadForNumericAxis,Vt=A-E.top;yt<0||Vt<0||yt>F||Vt>W?(h.classList.remove("hovering-zoom"),h.classList.remove("hovering-pan")):P.globals.zoomEnabled?(h.classList.remove("hovering-pan"),h.classList.add("hovering-zoom")):P.globals.panEnabled&&(h.classList.remove("hovering-zoom"),h.classList.add("hovering-pan"));var Ht=Math.round(yt/K),qt=Math.floor(Vt/J);ct&&!P.config.xaxis.convertedCatToNumeric&&(Ht=Math.ceil(yt/K),Ht-=1);for(var le,me=null,De=null,j=[],ut=0;ut<P.globals.seriesXvalues.length;ut++)j.push([P.globals.seriesXvalues[ut][0]-1e-6].concat(P.globals.seriesXvalues[ut]));if(j=j.map(function(kn){return kn.filter(function(rn){return rn})}),le=P.globals.seriesYvalues.map(function(kn){return kn.filter(function(rn){return lt.isNumber(rn)})}),P.globals.isXNumeric){var Zt=this.ttCtx.getElGrid().getBoundingClientRect(),he=yt*(Zt.width/F);me=(De=this.closestInMultiArray(he,Vt*(Zt.height/W),j,le)).index,Ht=De.j,null!==me&&(Ht=(De=this.closestInArray(he,j=P.globals.seriesXvalues[me])).index)}return P.globals.capturedSeriesIndex=null===me?-1:me,(!Ht||Ht<1)&&(Ht=0),P.globals.capturedDataPointIndex=P.globals.isBarHorizontal?qt:Ht,{capturedSeries:me,j:P.globals.isBarHorizontal?qt:Ht,hoverX:yt,hoverY:Vt}}},{key:"closestInMultiArray",value:function(c,h,v,_){var P=0,E=null,F=-1;this.w.globals.series.length>1?P=this.getFirstActiveXArray(v):E=0;var W=_[P][0],J=Math.abs(c-v[P][0]),ct=Math.abs(h-W),yt=ct+J;return _.map(function(Vt,Ht){Vt.map(function(qt,le){var me=Math.abs(h-_[Ht][le]),De=Math.abs(c-v[Ht][le]),j=De+me;j<yt&&(yt=j,J=De,ct=me,E=Ht,F=le)})}),{index:E,j:F}}},{key:"getFirstActiveXArray",value:function(c){for(var h=0,v=c.map(function(A,P){return A.length>0?P:-1}),_=0;_<v.length;_++)if(-1!==v[_]){h=v[_];break}return h}},{key:"closestInArray",value:function(c,h){for(var _=null,A=Math.abs(c-h[0]),P=0;P<h.length;P++){var E=Math.abs(c-h[P]);E<A&&(A=E,_=P)}return{index:_}}},{key:"isXoverlap",value:function(c){var h=[],v=this.w.globals.seriesX.filter(function(A){return void 0!==A[0]});if(v.length>0)for(var _=0;_<v.length-1;_++)void 0!==v[_][c]&&void 0!==v[_+1][c]&&v[_][c]!==v[_+1][c]&&h.push("unEqual");return 0===h.length}},{key:"isInitialSeriesSameLen",value:function(){for(var c=!0,h=this.w.globals.initialSeries,v=0;v<h.length-1;v++)if(h[v].data.length!==h[v+1].data.length){c=!1;break}return c}},{key:"getBarsHeight",value:function(c){return St(c).reduce(function(h,v){return h+v.getBBox().height},0)}},{key:"getElMarkers",value:function(){return this.w.globals.dom.baseEl.querySelectorAll(" .apexcharts-series-markers")}},{key:"getAllMarkers",value:function(){var c=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers-wrap");(c=St(c)).sort(function(v,_){return Number(_.getAttribute("data:realIndex"))<Number(v.getAttribute("data:realIndex"))?0:-1});var h=[];return c.forEach(function(v){h.push(v.querySelector(".apexcharts-marker"))}),h}},{key:"hasMarkers",value:function(){return this.getElMarkers().length>0}},{key:"getElBars",value:function(){return this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-bar-series,  .apexcharts-candlestick-series, .apexcharts-boxPlot-series, .apexcharts-rangebar-series")}},{key:"hasBars",value:function(){return this.getElBars().length>0}},{key:"getHoverMarkerSize",value:function(c){var h=this.w,v=h.config.markers.hover.size;return void 0===v&&(v=h.globals.markers.size[c]+h.config.markers.hover.sizeOffset),v}},{key:"toggleAllTooltipSeriesGroups",value:function(c){var h=this.w,v=this.ttCtx;0===v.allTooltipSeriesGroups.length&&(v.allTooltipSeriesGroups=h.globals.dom.baseEl.querySelectorAll(".apexcharts-tooltip-series-group"));for(var _=v.allTooltipSeriesGroups,A=0;A<_.length;A++)"enable"===c?(_[A].classList.add("apexcharts-active"),_[A].style.display=h.config.tooltip.items.display):(_[A].classList.remove("apexcharts-active"),_[A].style.display="none")}}]),ae}(),Bl=function(){function ae(c){$t(this,ae),this.w=c.w,this.ctx=c.ctx,this.ttCtx=c,this.tooltipUtil=new ii(c)}return ee(ae,[{key:"drawSeriesTexts",value:function(c){var h=c.shared,v=void 0===h||h,_=c.ttItems,A=c.i,P=void 0===A?0:A,E=c.j,F=void 0===E?null:E,J=c.e,ct=this.w;void 0!==ct.config.tooltip.custom?this.handleCustomTooltip({i:P,j:F,y1:c.y1,y2:c.y2,w:ct}):this.toggleActiveInactiveSeries(v);var yt=this.getValuesToPrint({i:P,j:F});this.printLabels({i:P,j:F,values:yt,ttItems:_,shared:v,e:J});var Vt=this.ttCtx.getElTooltip();this.ttCtx.tooltipRect.ttWidth=Vt.getBoundingClientRect().width,this.ttCtx.tooltipRect.ttHeight=Vt.getBoundingClientRect().height}},{key:"printLabels",value:function(c){var h,v=this,_=c.i,A=c.j,P=c.values,E=c.ttItems,F=c.shared,W=c.e,K=this.w,J=[],ct=function(ut){return K.globals.seriesGoals[ut]&&K.globals.seriesGoals[ut][A]&&Array.isArray(K.globals.seriesGoals[ut][A])},yt=P.xVal,Vt=P.zVal,Ht=P.xAxisTTVal,qt="",le=K.globals.colors[_];null!==A&&K.config.plotOptions.bar.distributed&&(le=K.globals.colors[A]);for(var me=function(ut,Zt){var he=v.getFormatters(_);qt=v.getSeriesName({fn:he.yLbTitleFormatter,index:_,seriesIndex:_,j:A}),"treemap"===K.config.chart.type&&(qt=he.yLbTitleFormatter(String(K.config.series[_].data[A].x),{series:K.globals.series,seriesIndex:_,dataPointIndex:A,w:K}));var Ue=K.config.tooltip.inverseOrder?Zt:ut;if(K.globals.axisCharts){var kn=function(rn){return he.yLbFormatter(K.globals.series[rn][A],{series:K.globals.series,seriesIndex:rn,dataPointIndex:A,w:K})};F?(he=v.getFormatters(Ue),qt=v.getSeriesName({fn:he.yLbTitleFormatter,index:Ue,seriesIndex:_,j:A}),le=K.globals.colors[Ue],h=kn(Ue),ct(Ue)&&(J=K.globals.seriesGoals[Ue][A].map(function(rn){return{attrs:rn,val:he.yLbFormatter(rn.value,{seriesIndex:Ue,dataPointIndex:A,w:K})}}))):(W&&W.target&&W.target.getAttribute("fill")&&(le=W.target.getAttribute("fill")),h=kn(_),ct(_)&&Array.isArray(K.globals.seriesGoals[_][A])&&(J=K.globals.seriesGoals[_][A].map(function(rn){return{attrs:rn,val:he.yLbFormatter(rn.value,{seriesIndex:_,dataPointIndex:A,w:K})}})))}null===A&&(h=he.yLbFormatter(K.globals.series[_],Wt(Wt({},K),{},{seriesIndex:_,dataPointIndex:_}))),v.DOMHandling({i:_,t:Ue,j:A,ttItems:E,values:{val:h,goalVals:J,xVal:yt,xAxisTTVal:Ht,zVal:Vt},seriesName:qt,shared:F,pColor:le})},De=0,j=K.globals.series.length-1;De<K.globals.series.length;De++,j--)me(De,j)}},{key:"getFormatters",value:function(c){var h,v=this.w,_=v.globals.yLabelFormatters[c];return void 0!==v.globals.ttVal?Array.isArray(v.globals.ttVal)?(_=v.globals.ttVal[c]&&v.globals.ttVal[c].formatter,h=v.globals.ttVal[c]&&v.globals.ttVal[c].title&&v.globals.ttVal[c].title.formatter):(_=v.globals.ttVal.formatter,"function"==typeof v.globals.ttVal.title.formatter&&(h=v.globals.ttVal.title.formatter)):h=v.config.tooltip.y.title.formatter,"function"!=typeof _&&(_=v.globals.yLabelFormatters[0]?v.globals.yLabelFormatters[0]:function(A){return A}),"function"!=typeof h&&(h=function(A){return A}),{yLbFormatter:_,yLbTitleFormatter:h}}},{key:"getSeriesName",value:function(c){var _=c.seriesIndex,A=c.j,P=this.w;return(0,c.fn)(String(P.globals.seriesNames[c.index]),{series:P.globals.series,seriesIndex:_,dataPointIndex:A,w:P})}},{key:"DOMHandling",value:function(c){var h=c.t,v=c.j,_=c.ttItems,A=c.values,P=c.seriesName,E=c.shared,F=c.pColor,W=this.w,K=this.ttCtx,J=A.val,ct=A.goalVals,yt=A.xVal,Vt=A.xAxisTTVal,Ht=A.zVal,qt=null;qt=_[h].children,W.config.tooltip.fillSeriesColor&&(_[h].style.backgroundColor=F,qt[0].style.display="none"),K.showTooltipTitle&&(null===K.tooltipTitle&&(K.tooltipTitle=W.globals.dom.baseEl.querySelector(".apexcharts-tooltip-title")),K.tooltipTitle.innerHTML=yt),K.blxaxisTooltip&&(K.xaxisTooltipText.innerHTML=""!==Vt?Vt:yt);var le=_[h].querySelector(".apexcharts-tooltip-text-y-label");le&&(le.innerHTML=P||"");var me=_[h].querySelector(".apexcharts-tooltip-text-y-value");me&&(me.innerHTML=void 0!==J?J:""),qt[0]&&qt[0].classList.contains("apexcharts-tooltip-marker")&&(W.config.tooltip.marker.fillColors&&Array.isArray(W.config.tooltip.marker.fillColors)&&(F=W.config.tooltip.marker.fillColors[h]),qt[0].style.backgroundColor=F),W.config.tooltip.marker.show||(qt[0].style.display="none");var De=_[h].querySelector(".apexcharts-tooltip-text-goals-label"),j=_[h].querySelector(".apexcharts-tooltip-text-goals-value");if(ct.length&&W.globals.seriesGoals[h]){var ut=function(){var Zt="<div >",he="<div>";ct.forEach(function(Ue,kn){Zt+=' <div style="display: flex"><span class="apexcharts-tooltip-marker" style="background-color: '.concat(Ue.attrs.strokeColor,'; height: 3px; border-radius: 0; top: 5px;"></span> ').concat(Ue.attrs.name,"</div>"),he+="<div>".concat(Ue.val,"</div>")}),De.innerHTML=Zt+"</div>",j.innerHTML=he+"</div>"};E?W.globals.seriesGoals[h][v]&&Array.isArray(W.globals.seriesGoals[h][v])?ut():(De.innerHTML="",j.innerHTML=""):ut()}else De.innerHTML="",j.innerHTML="";null!==Ht&&(_[h].querySelector(".apexcharts-tooltip-text-z-label").innerHTML=W.config.tooltip.z.title,_[h].querySelector(".apexcharts-tooltip-text-z-value").innerHTML=void 0!==Ht?Ht:""),E&&qt[0]&&(qt[0].parentNode.style.display=null==J||W.globals.collapsedSeriesIndices.indexOf(h)>-1?"none":W.config.tooltip.items.display)}},{key:"toggleActiveInactiveSeries",value:function(c){var h=this.w;if(c)this.tooltipUtil.toggleAllTooltipSeriesGroups("enable");else{this.tooltipUtil.toggleAllTooltipSeriesGroups("disable");var v=h.globals.dom.baseEl.querySelector(".apexcharts-tooltip-series-group");v&&(v.classList.add("apexcharts-active"),v.style.display=h.config.tooltip.items.display)}}},{key:"getValuesToPrint",value:function(c){var h=c.i,v=c.j,_=this.w,A=this.ctx.series.filteredSeriesX(),P="",E="",F=null,W=null,K={series:_.globals.series,seriesIndex:h,dataPointIndex:v,w:_},J=_.globals.ttZFormatter;null===v?W=_.globals.series[h]:_.globals.isXNumeric&&"treemap"!==_.config.chart.type?(P=A[h][v],0===A[h].length&&(P=A[this.tooltipUtil.getFirstActiveXArray(A)][v])):P=void 0!==_.globals.labels[v]?_.globals.labels[v]:"";var ct=P;return P=_.globals.isXNumeric&&"datetime"===_.config.xaxis.type?new Jt(this.ctx).xLabelFormat(_.globals.ttKeyFormatter,ct,ct,{i:void 0,dateFormatter:new zt(this.ctx).formatDate,w:this.w}):_.globals.isBarHorizontal?_.globals.yLabelFormatters[0](ct,K):_.globals.xLabelFormatter(ct,K),void 0!==_.config.tooltip.x.formatter&&(P=_.globals.ttKeyFormatter(ct,K)),_.globals.seriesZ.length>0&&_.globals.seriesZ[h].length>0&&(F=J(_.globals.seriesZ[h][v],_)),E="function"==typeof _.config.xaxis.tooltip.formatter?_.globals.xaxisTooltipFormatter(ct,K):P,{val:Array.isArray(W)?W.join(" "):W,xVal:Array.isArray(P)?P.join(" "):P,xAxisTTVal:Array.isArray(E)?E.join(" "):E,zVal:F}}},{key:"handleCustomTooltip",value:function(c){var h=c.i,v=c.j,_=c.y1,A=c.y2,P=c.w,E=this.ttCtx.getElTooltip(),F=P.config.tooltip.custom;Array.isArray(F)&&F[h]&&(F=F[h]),E.innerHTML=F({ctx:this.ctx,series:P.globals.series,seriesIndex:h,dataPointIndex:v,y1:_,y2:A,w:P})}}]),ae}(),Fo=function(){function ae(c){$t(this,ae),this.ttCtx=c,this.ctx=c.ctx,this.w=c.w}return ee(ae,[{key:"moveXCrosshairs",value:function(c){var h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,v=this.ttCtx,_=this.w,A=v.getElXCrosshairs(),P=c-v.xcrosshairsWidth/2,E=_.globals.labels.slice().length;if(null!==h&&(P=_.globals.gridWidth/E*h),null!==A&&(A.setAttribute("x",P),A.setAttribute("x1",P),A.setAttribute("x2",P),A.setAttribute("y2",_.globals.gridHeight),A.classList.add("apexcharts-active")),P<0&&(P=0),P>_.globals.gridWidth&&(P=_.globals.gridWidth),v.blxaxisTooltip){var F=P;"tickWidth"!==_.config.xaxis.crosshairs.width&&"barWidth"!==_.config.xaxis.crosshairs.width||(F=P+v.xcrosshairsWidth/2),this.moveXAxisTooltip(F)}}},{key:"moveYCrosshairs",value:function(c){var h=this.ttCtx;null!==h.ycrosshairs&&ot.setAttrs(h.ycrosshairs,{y1:c,y2:c}),null!==h.ycrosshairsHidden&&ot.setAttrs(h.ycrosshairsHidden,{y1:c,y2:c})}},{key:"moveXAxisTooltip",value:function(c){var h=this.w,v=this.ttCtx;if(null!==v.xaxisTooltip){v.xaxisTooltip.classList.add("apexcharts-active");var A,_=v.xaxisOffY+h.config.xaxis.tooltip.offsetY+h.globals.translateY+1+h.config.xaxis.offsetY;c-=v.xaxisTooltip.getBoundingClientRect().width/2,isNaN(c)||(c+=h.globals.translateX,A=new ot(this.ctx).getTextRects(v.xaxisTooltipText.innerHTML),v.xaxisTooltipText.style.minWidth=A.width+"px",v.xaxisTooltip.style.left=c+"px",v.xaxisTooltip.style.top=_+"px")}}},{key:"moveYAxisTooltip",value:function(c){var h=this.w,v=this.ttCtx;null===v.yaxisTTEls&&(v.yaxisTTEls=h.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));var _=parseInt(v.ycrosshairsHidden.getAttribute("y1"),10),A=h.globals.translateY+_,P=v.yaxisTTEls[c].getBoundingClientRect().height,E=h.globals.translateYAxisX[c]-2;h.config.yaxis[c].opposite&&(E-=26),A-=P/2,-1===h.globals.ignoreYAxisIndexes.indexOf(c)?(v.yaxisTTEls[c].classList.add("apexcharts-active"),v.yaxisTTEls[c].style.top=A+"px",v.yaxisTTEls[c].style.left=E+h.config.yaxis[c].tooltip.offsetX+"px"):v.yaxisTTEls[c].classList.remove("apexcharts-active")}},{key:"moveTooltip",value:function(c,h){var v=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,_=this.w,A=this.ttCtx,P=A.getElTooltip(),E=A.tooltipRect,F=null!==v?parseFloat(v):1,W=parseFloat(c)+F+5,K=parseFloat(h)+F/2;if(W>_.globals.gridWidth/2&&(W=W-E.ttWidth-F-15),W>_.globals.gridWidth-E.ttWidth-10&&(W=_.globals.gridWidth-E.ttWidth),W<-20&&(W=-20),_.config.tooltip.followCursor){var J=A.getElGrid(),ct=J.getBoundingClientRect();K=A.e.clientY+_.globals.translateY-ct.top-E.ttHeight/2}else _.globals.isBarHorizontal?K-=E.ttHeight:(E.ttHeight/2+K>_.globals.gridHeight&&(K=_.globals.gridHeight-E.ttHeight+_.globals.translateY),K<0&&(K=0));isNaN(W)||(P.style.left=(W+=_.globals.translateX)+"px",P.style.top=K+"px")}},{key:"moveMarkers",value:function(c,h){var v=this.w,_=this.ttCtx;if(v.globals.markers.size[c]>0)for(var A=v.globals.dom.baseEl.querySelectorAll(" .apexcharts-series[data\\:realIndex='".concat(c,"'] .apexcharts-marker")),P=0;P<A.length;P++)parseInt(A[P].getAttribute("rel"),10)===h&&(_.marker.resetPointsSize(),_.marker.enlargeCurrentPoint(h,A[P]));else _.marker.resetPointsSize(),this.moveDynamicPointOnHover(h,c)}},{key:"moveDynamicPointOnHover",value:function(c,h){var v,_,A=this.w,P=this.ttCtx,E=A.globals.pointsArray,F=P.tooltipUtil.getHoverMarkerSize(h),W=A.config.series[h].type;if(!W||"column"!==W&&"candlestick"!==W&&"boxPlot"!==W){v=E[h][c][0],_=E[h][c][1]?E[h][c][1]:0;var K=A.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(h,"'] .apexcharts-series-markers circle"));K&&_<A.globals.gridHeight&&_>0&&(K.setAttribute("r",F),K.setAttribute("cx",v),K.setAttribute("cy",_)),this.moveXCrosshairs(v),P.fixedTooltip||this.moveTooltip(v,_,F)}}},{key:"moveDynamicPointsOnHover",value:function(c){var h,v=this.ttCtx,_=v.w,A=0,P=0,E=_.globals.pointsArray;h=new on(this.ctx).getActiveConfigSeriesIndex(!0);var F=v.tooltipUtil.getHoverMarkerSize(h);E[h]&&(A=E[h][c][0],P=E[h][c][1]);var W=v.tooltipUtil.getAllMarkers();if(null!==W)for(var K=0;K<_.globals.series.length;K++){var J=E[K];if(_.globals.comboCharts&&void 0===J&&W.splice(K,0,null),J&&J.length){var ct=E[K][c][1];W[K].setAttribute("cx",A),null!==ct&&!isNaN(ct)&&ct<_.globals.gridHeight&&ct>0?(W[K]&&W[K].setAttribute("r",F),W[K]&&W[K].setAttribute("cy",ct)):W[K]&&W[K].setAttribute("r",0)}}this.moveXCrosshairs(A),v.fixedTooltip||this.moveTooltip(A,P||_.globals.gridHeight,F)}},{key:"moveStickyTooltipOverBars",value:function(c){var h=this.w,v=this.ttCtx,_=h.globals.columnSeries?h.globals.columnSeries.length:h.globals.series.length,A=_>=2&&_%2==0?Math.floor(_/2):Math.floor(_/2)+1;h.globals.isBarHorizontal&&(A=new on(this.ctx).getActiveConfigSeriesIndex(!1,"desc")+1);var P=h.globals.dom.baseEl.querySelector(".apexcharts-bar-series .apexcharts-series[rel='".concat(A,"'] path[j='").concat(c,"'], .apexcharts-candlestick-series .apexcharts-series[rel='").concat(A,"'] path[j='").concat(c,"'], .apexcharts-boxPlot-series .apexcharts-series[rel='").concat(A,"'] path[j='").concat(c,"'], .apexcharts-rangebar-series .apexcharts-series[rel='").concat(A,"'] path[j='").concat(c,"']")),E=P?parseFloat(P.getAttribute("cx")):0,F=P?parseFloat(P.getAttribute("cy")):0,W=P?parseFloat(P.getAttribute("barWidth")):0,K=P?parseFloat(P.getAttribute("barHeight")):0,J=v.getElGrid().getBoundingClientRect();h.globals.isXNumeric?(E-=_%2!=0?W/2:0,P&&(P.classList.contains("apexcharts-candlestick-area")||P.classList.contains("apexcharts-boxPlot-area"))&&h.globals.comboCharts&&(E-=W/2)):h.globals.isBarHorizontal||(E=v.xAxisTicksPositions[c-1]+v.dataPointsDividedWidth/2,isNaN(E)&&(E=v.xAxisTicksPositions[c]-v.dataPointsDividedWidth/2)),h.globals.isBarHorizontal?F+=K/3:F=v.e.clientY-J.top-v.tooltipRect.ttHeight/2,h.globals.isBarHorizontal||this.moveXCrosshairs(E),v.fixedTooltip||this.moveTooltip(E,F||h.globals.gridHeight)}}]),ae}(),ei=function(){function ae(c){$t(this,ae),this.w=c.w,this.ttCtx=c,this.ctx=c.ctx,this.tooltipPosition=new Fo(c)}return ee(ae,[{key:"drawDynamicPoints",value:function(){var c=this.w,h=new ot(this.ctx),v=new se(this.ctx),_=c.globals.dom.baseEl.querySelectorAll(".apexcharts-series");_=St(_),c.config.chart.stacked&&_.sort(function(J,ct){return parseFloat(J.getAttribute("data:realIndex"))-parseFloat(ct.getAttribute("data:realIndex"))});for(var A=0;A<_.length;A++){var P=_[A].querySelector(".apexcharts-series-markers-wrap");if(null!==P){var E=void 0,F="apexcharts-marker w".concat((Math.random()+1).toString(36).substring(4));"line"!==c.config.chart.type&&"area"!==c.config.chart.type||c.globals.comboCharts||c.config.tooltip.intersect||(F+=" no-pointer-events");var W=v.getMarkerConfig({cssClass:F,seriesIndex:Number(P.getAttribute("data:realIndex"))});(E=h.drawMarker(0,0,W)).node.setAttribute("default-marker-size",0);var K=document.createElementNS(c.globals.SVGNS,"g");K.classList.add("apexcharts-series-markers"),K.appendChild(E.node),P.appendChild(K)}}}},{key:"enlargeCurrentPoint",value:function(c,h){var v=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,_=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,A=this.w;"bubble"!==A.config.chart.type&&this.newPointSize(c,h);var P=h.getAttribute("cx"),E=h.getAttribute("cy");if(null!==v&&null!==_&&(P=v,E=_),this.tooltipPosition.moveXCrosshairs(P),!this.fixedTooltip){if("radar"===A.config.chart.type){var F=this.ttCtx.getElGrid(),W=F.getBoundingClientRect();P=this.ttCtx.e.clientX-W.left}this.tooltipPosition.moveTooltip(P,E,A.config.markers.hover.size)}}},{key:"enlargePoints",value:function(c){for(var h=this.w,v=this,_=this.ttCtx,A=c,P=h.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),E=h.config.markers.hover.size,F=0;F<P.length;F++){var W=P[F].getAttribute("rel"),K=P[F].getAttribute("index");if(void 0===E&&(E=h.globals.markers.size[K]+h.config.markers.hover.sizeOffset),A===parseInt(W,10)){v.newPointSize(A,P[F]);var J=P[F].getAttribute("cx"),ct=P[F].getAttribute("cy");v.tooltipPosition.moveXCrosshairs(J),_.fixedTooltip||v.tooltipPosition.moveTooltip(J,ct,E)}else v.oldPointSize(P[F])}}},{key:"newPointSize",value:function(c,h){var v=this.w,_=v.config.markers.hover.size,A=0===c?h.parentNode.firstChild:h.parentNode.lastChild;if("0"!==A.getAttribute("default-marker-size")){var P=parseInt(A.getAttribute("index"),10);void 0===_&&(_=v.globals.markers.size[P]+v.config.markers.hover.sizeOffset),_<0&&(_=0),A.setAttribute("r",_)}}},{key:"oldPointSize",value:function(c){var h=parseFloat(c.getAttribute("default-marker-size"));c.setAttribute("r",h)}},{key:"resetPointsSize",value:function(){for(var c=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),h=0;h<c.length;h++){var v=parseFloat(c[h].getAttribute("default-marker-size"));lt.isNumber(v)&&v>=0?c[h].setAttribute("r",v):c[h].setAttribute("r",0)}}}]),ae}(),Mr=function(){function ae(c){$t(this,ae),this.w=c.w,this.ttCtx=c}return ee(ae,[{key:"getAttr",value:function(c,h){return parseFloat(c.target.getAttribute(h))}},{key:"handleHeatTreeTooltip",value:function(c){var h=c.e,v=c.opt,_=c.x,A=c.y,E=this.ttCtx,F=this.w;if(h.target.classList.contains("apexcharts-".concat(c.type,"-rect"))){var W=this.getAttr(h,"i"),K=this.getAttr(h,"j"),J=this.getAttr(h,"cx"),ct=this.getAttr(h,"cy"),yt=this.getAttr(h,"width"),Vt=this.getAttr(h,"height");if(E.tooltipLabels.drawSeriesTexts({ttItems:v.ttItems,i:W,j:K,shared:!1,e:h}),F.globals.capturedSeriesIndex=W,F.globals.capturedDataPointIndex=K,_=J+E.tooltipRect.ttWidth/2+yt,A=ct+E.tooltipRect.ttHeight/2-Vt/2,E.tooltipPosition.moveXCrosshairs(J+yt/2),_>F.globals.gridWidth/2&&(_=J-E.tooltipRect.ttWidth/2+yt),E.w.config.tooltip.followCursor){var Ht=F.globals.dom.elWrap.getBoundingClientRect();_=F.globals.clientX-Ht.left-E.tooltipRect.ttWidth/2,A=F.globals.clientY-Ht.top-E.tooltipRect.ttHeight-5}}return{x:_,y:A}}},{key:"handleMarkerTooltip",value:function(c){var h,v,_=c.e,A=c.opt,P=c.x,E=c.y,F=this.w,W=this.ttCtx;if(_.target.classList.contains("apexcharts-marker")){var K=parseInt(A.paths.getAttribute("cx"),10),J=parseInt(A.paths.getAttribute("cy"),10),ct=parseFloat(A.paths.getAttribute("val"));if(v=parseInt(A.paths.getAttribute("rel"),10),h=parseInt(A.paths.parentNode.parentNode.parentNode.getAttribute("rel"),10)-1,W.intersect){var yt=lt.findAncestor(A.paths,"apexcharts-series");yt&&(h=parseInt(yt.getAttribute("data:realIndex"),10))}if(W.tooltipLabels.drawSeriesTexts({ttItems:A.ttItems,i:h,j:v,shared:!W.showOnIntersect&&F.config.tooltip.shared,e:_}),"mouseup"===_.type&&W.markerClick(_,h,v),F.globals.capturedSeriesIndex=h,F.globals.capturedDataPointIndex=v,P=K,E=J+F.globals.translateY-1.4*W.tooltipRect.ttHeight,W.w.config.tooltip.followCursor){var Vt=W.getElGrid().getBoundingClientRect();E=W.e.clientY+F.globals.translateY-Vt.top}ct<0&&(E=J),W.marker.enlargeCurrentPoint(v,A.paths,P,E)}return{x:P,y:E}}},{key:"handleBarTooltip",value:function(c){var h,v,_=c.e,A=c.opt,P=this.w,E=this.ttCtx,F=E.getElTooltip(),W=0,K=0,J=0,ct=this.getBarTooltipXY({e:_,opt:A}),yt=ct.barHeight,Vt=ct.j;P.globals.capturedSeriesIndex=h=ct.i,P.globals.capturedDataPointIndex=Vt,P.globals.isBarHorizontal&&E.tooltipUtil.hasBars()||!P.config.tooltip.shared?(K=ct.x,J=ct.y,v=Array.isArray(P.config.stroke.width)?P.config.stroke.width[h]:P.config.stroke.width,W=K):P.globals.comboCharts||P.config.tooltip.shared||(W/=2),isNaN(J)?J=P.globals.svgHeight-E.tooltipRect.ttHeight:J<0&&(J=0);var Ht=parseInt(A.paths.parentNode.getAttribute("data:realIndex"),10),qt=P.globals.isMultipleYAxis?P.config.yaxis[Ht]&&P.config.yaxis[Ht].reversed:P.config.yaxis[0].reversed;if(K+E.tooltipRect.ttWidth>P.globals.gridWidth&&!qt?K-=E.tooltipRect.ttWidth:K<0&&(K=0),E.w.config.tooltip.followCursor){var le=E.getElGrid().getBoundingClientRect();J=E.e.clientY-le.top}null===E.tooltip&&(E.tooltip=P.globals.dom.baseEl.querySelector(".apexcharts-tooltip")),P.config.tooltip.shared||E.tooltipPosition.moveXCrosshairs(P.globals.comboBarCount>0?W+v/2:W),!E.fixedTooltip&&(!P.config.tooltip.shared||P.globals.isBarHorizontal&&E.tooltipUtil.hasBars())&&(qt&&(K-=E.tooltipRect.ttWidth)<0&&(K=0),F.style.left=K+P.globals.translateX+"px",!qt||P.globals.isBarHorizontal&&E.tooltipUtil.hasBars()||(J=J+yt-2*(P.globals.series[h][Vt]<0?yt:0)),F.style.top=E.tooltipRect.ttHeight+J>P.globals.gridHeight?(J=P.globals.gridHeight-E.tooltipRect.ttHeight+P.globals.translateY)+"px":J+P.globals.translateY-E.tooltipRect.ttHeight/2+"px")}},{key:"getBarTooltipXY",value:function(c){var h=c.e,v=c.opt,_=this.w,A=null,P=this.ttCtx,E=0,F=0,W=0,K=0,J=0,ct=h.target.classList;if(ct.contains("apexcharts-bar-area")||ct.contains("apexcharts-candlestick-area")||ct.contains("apexcharts-boxPlot-area")||ct.contains("apexcharts-rangebar-area")){var yt=h.target,Vt=yt.getBoundingClientRect(),Ht=v.elGrid.getBoundingClientRect(),qt=Vt.height;J=Vt.height;var le=Vt.width,me=parseInt(yt.getAttribute("cx"),10),De=parseInt(yt.getAttribute("cy"),10);K=parseFloat(yt.getAttribute("barWidth"));var j="touchmove"===h.type?h.touches[0].clientX:h.clientX;A=parseInt(yt.getAttribute("j"),10),E=parseInt(yt.parentNode.getAttribute("rel"),10)-1;var ut=yt.getAttribute("data-range-y1"),Zt=yt.getAttribute("data-range-y2");_.globals.comboCharts&&(E=parseInt(yt.parentNode.getAttribute("data:realIndex"),10)),P.tooltipLabels.drawSeriesTexts({ttItems:v.ttItems,i:E,j:A,y1:ut?parseInt(ut,10):null,y2:Zt?parseInt(Zt,10):null,shared:!P.showOnIntersect&&_.config.tooltip.shared,e:h}),_.config.tooltip.followCursor?_.globals.isBarHorizontal?(F=j-Ht.left+15,W=De-P.dataPointsDividedHeight+qt/2-P.tooltipRect.ttHeight/2):(F=_.globals.isXNumeric?me-le/2:me-P.dataPointsDividedWidth+le/2,W=h.clientY-Ht.top-P.tooltipRect.ttHeight/2-15):_.globals.isBarHorizontal?((F=me)<P.xyRatios.baseLineInvertedY&&(F=me-P.tooltipRect.ttWidth),W=De-P.dataPointsDividedHeight+qt/2-P.tooltipRect.ttHeight/2):(F=_.globals.isXNumeric?me-le/2:me-P.dataPointsDividedWidth+le/2,W=De)}return{x:F,y:W,barHeight:J,barWidth:K,i:E,j:A}}}]),ae}(),ta=function(){function ae(c){$t(this,ae),this.w=c.w,this.ttCtx=c}return ee(ae,[{key:"drawXaxisTooltip",value:function(){var c=this.w,h=this.ttCtx,v="bottom"===c.config.xaxis.position;h.xaxisOffY=v?c.globals.gridHeight+1:-c.globals.xAxisHeight-c.config.xaxis.axisTicks.height+3;var _=v?"apexcharts-xaxistooltip apexcharts-xaxistooltip-bottom":"apexcharts-xaxistooltip apexcharts-xaxistooltip-top",A=c.globals.dom.elWrap;h.blxaxisTooltip&&null===c.globals.dom.baseEl.querySelector(".apexcharts-xaxistooltip")&&(h.xaxisTooltip=document.createElement("div"),h.xaxisTooltip.setAttribute("class",_+" apexcharts-theme-"+c.config.tooltip.theme),A.appendChild(h.xaxisTooltip),h.xaxisTooltipText=document.createElement("div"),h.xaxisTooltipText.classList.add("apexcharts-xaxistooltip-text"),h.xaxisTooltipText.style.fontFamily=c.config.xaxis.tooltip.style.fontFamily||c.config.chart.fontFamily,h.xaxisTooltipText.style.fontSize=c.config.xaxis.tooltip.style.fontSize,h.xaxisTooltip.appendChild(h.xaxisTooltipText))}},{key:"drawYaxisTooltip",value:function(){for(var c=this.w,h=this.ttCtx,v=function(A){var P=c.config.yaxis[A].opposite||c.config.yaxis[A].crosshairs.opposite;h.yaxisOffX=P?c.globals.gridWidth+1:1;var E="apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(A,P?" apexcharts-yaxistooltip-right":" apexcharts-yaxistooltip-left");c.globals.yAxisSameScaleIndices.map(function(W,K){W.map(function(J,ct){ct===A&&(E+=c.config.yaxis[ct].show?" ":" apexcharts-yaxistooltip-hidden")})});var F=c.globals.dom.elWrap;null===c.globals.dom.baseEl.querySelector(".apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(A))&&(h.yaxisTooltip=document.createElement("div"),h.yaxisTooltip.setAttribute("class",E+" apexcharts-theme-"+c.config.tooltip.theme),F.appendChild(h.yaxisTooltip),0===A&&(h.yaxisTooltipText=[]),h.yaxisTooltipText[A]=document.createElement("div"),h.yaxisTooltipText[A].classList.add("apexcharts-yaxistooltip-text"),h.yaxisTooltip.appendChild(h.yaxisTooltipText[A]))},_=0;_<c.config.yaxis.length;_++)v(_)}},{key:"setXCrosshairWidth",value:function(){var c=this.w,h=this.ttCtx,v=h.getElXCrosshairs();if(h.xcrosshairsWidth=parseInt(c.config.xaxis.crosshairs.width,10),c.globals.comboCharts){var _=c.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(null!==_&&"barWidth"===c.config.xaxis.crosshairs.width){var A=parseFloat(_.getAttribute("barWidth"));h.xcrosshairsWidth=A}else"tickWidth"===c.config.xaxis.crosshairs.width&&(h.xcrosshairsWidth=c.globals.gridWidth/c.globals.labels.length)}else if("tickWidth"===c.config.xaxis.crosshairs.width)h.xcrosshairsWidth=c.globals.gridWidth/c.globals.labels.length;else if("barWidth"===c.config.xaxis.crosshairs.width){var F=c.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(null!==F){var W=parseFloat(F.getAttribute("barWidth"));h.xcrosshairsWidth=W}else h.xcrosshairsWidth=1}c.globals.isBarHorizontal&&(h.xcrosshairsWidth=0),null!==v&&h.xcrosshairsWidth>0&&v.setAttribute("width",h.xcrosshairsWidth)}},{key:"handleYCrosshair",value:function(){var c=this.w,h=this.ttCtx;h.ycrosshairs=c.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs"),h.ycrosshairsHidden=c.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs-hidden")}},{key:"drawYaxisTooltipText",value:function(c,h,v){var _=this.ttCtx,A=this.w,P=A.globals.yLabelFormatters[c];if(_.yaxisTooltips[c]){var E=_.getElGrid().getBoundingClientRect(),K=A.globals.minYArr[c]+(A.globals.maxYArr[c]-A.globals.minYArr[c]-(h-E.top)*v.yRatio[c]);_.tooltipPosition.moveYCrosshairs(h-E.top),_.yaxisTooltipText[c].innerHTML=P(K),_.tooltipPosition.moveYAxisTooltip(c)}}}]),ae}(),ge=function(){function ae(c){$t(this,ae),this.ctx=c,this.w=c.w;var h=this.w;this.tConfig=h.config.tooltip,this.tooltipUtil=new ii(this),this.tooltipLabels=new Bl(this),this.tooltipPosition=new Fo(this),this.marker=new ei(this),this.intersect=new Mr(this),this.axesTooltip=new ta(this),this.showOnIntersect=this.tConfig.intersect,this.showTooltipTitle=this.tConfig.x.show,this.fixedTooltip=this.tConfig.fixed.enabled,this.xaxisTooltip=null,this.yaxisTTEls=null,this.isBarShared=!h.globals.isBarHorizontal&&this.tConfig.shared,this.lastHoverTime=Date.now()}return ee(ae,[{key:"getElTooltip",value:function(c){return c||(c=this),c.w.globals.dom.baseEl.querySelector(".apexcharts-tooltip")}},{key:"getElXCrosshairs",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-xcrosshairs")}},{key:"getElGrid",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-grid")}},{key:"drawTooltip",value:function(c){var h=this.w;this.xyRatios=c,this.blxaxisTooltip=h.config.xaxis.tooltip.enabled&&h.globals.axisCharts,this.yaxisTooltips=h.config.yaxis.map(function(P,E){return!!(P.show&&P.tooltip.enabled&&h.globals.axisCharts)}),this.allTooltipSeriesGroups=[],h.globals.axisCharts||(this.showTooltipTitle=!1);var v=document.createElement("div");if(v.classList.add("apexcharts-tooltip"),v.classList.add("apexcharts-theme-".concat(this.tConfig.theme)),h.globals.dom.elWrap.appendChild(v),h.globals.axisCharts){this.axesTooltip.drawXaxisTooltip(),this.axesTooltip.drawYaxisTooltip(),this.axesTooltip.setXCrosshairWidth(),this.axesTooltip.handleYCrosshair();var _=new sn(this.ctx);this.xAxisTicksPositions=_.getXAxisTicksPositions()}if(!h.globals.comboCharts&&!this.tConfig.intersect&&"rangeBar"!==h.config.chart.type||this.tConfig.shared||(this.showOnIntersect=!0),0!==h.config.markers.size&&0!==h.globals.markers.largestSize||this.marker.drawDynamicPoints(this),h.globals.collapsedSeries.length!==h.globals.series.length){this.dataPointsDividedHeight=h.globals.gridHeight/h.globals.dataPoints,this.dataPointsDividedWidth=h.globals.gridWidth/h.globals.dataPoints,this.showTooltipTitle&&(this.tooltipTitle=document.createElement("div"),this.tooltipTitle.classList.add("apexcharts-tooltip-title"),this.tooltipTitle.style.fontFamily=this.tConfig.style.fontFamily||h.config.chart.fontFamily,this.tooltipTitle.style.fontSize=this.tConfig.style.fontSize,v.appendChild(this.tooltipTitle));var A=h.globals.series.length;(h.globals.xyCharts||h.globals.comboCharts)&&this.tConfig.shared&&(A=this.showOnIntersect?1:h.globals.series.length),this.legendLabels=h.globals.dom.baseEl.querySelectorAll(".apexcharts-legend-text"),this.ttItems=this.createTTElements(A),this.addSVGEvents()}}},{key:"createTTElements",value:function(c){for(var h=this,v=this.w,_=[],A=this.getElTooltip(),P=function(F){var W=document.createElement("div");W.classList.add("apexcharts-tooltip-series-group"),W.style.order=v.config.tooltip.inverseOrder?c-F:F+1,h.tConfig.shared&&h.tConfig.enabledOnSeries&&Array.isArray(h.tConfig.enabledOnSeries)&&h.tConfig.enabledOnSeries.indexOf(F)<0&&W.classList.add("apexcharts-tooltip-series-group-hidden");var K=document.createElement("span");K.classList.add("apexcharts-tooltip-marker"),K.style.backgroundColor=v.globals.colors[F],W.appendChild(K);var J=document.createElement("div");J.classList.add("apexcharts-tooltip-text"),J.style.fontFamily=h.tConfig.style.fontFamily||v.config.chart.fontFamily,J.style.fontSize=h.tConfig.style.fontSize,["y","goals","z"].forEach(function(ct){var yt=document.createElement("div");yt.classList.add("apexcharts-tooltip-".concat(ct,"-group"));var Vt=document.createElement("span");Vt.classList.add("apexcharts-tooltip-text-".concat(ct,"-label")),yt.appendChild(Vt);var Ht=document.createElement("span");Ht.classList.add("apexcharts-tooltip-text-".concat(ct,"-value")),yt.appendChild(Ht),J.appendChild(yt)}),W.appendChild(J),A.appendChild(W),_.push(W)},E=0;E<c;E++)P(E);return _}},{key:"addSVGEvents",value:function(){var c=this.w,h=c.config.chart.type,v=this.getElTooltip(),_=!("bar"!==h&&"candlestick"!==h&&"boxPlot"!==h&&"rangeBar"!==h),A="area"===h||"line"===h||"scatter"===h||"bubble"===h||"radar"===h,P=c.globals.dom.Paper.node,E=this.getElGrid();E&&(this.seriesBound=E.getBoundingClientRect());var F,W=[],K=[],J={hoverArea:P,elGrid:E,tooltipEl:v,tooltipY:W,tooltipX:K,ttItems:this.ttItems};if(c.globals.axisCharts&&(A?F=c.globals.dom.baseEl.querySelectorAll(".apexcharts-series[data\\:longestSeries='true'] .apexcharts-marker"):_?F=c.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-bar-area, .apexcharts-series .apexcharts-candlestick-area, .apexcharts-series .apexcharts-boxPlot-area, .apexcharts-series .apexcharts-rangebar-area"):"heatmap"!==h&&"treemap"!==h||(F=c.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-heatmap, .apexcharts-series .apexcharts-treemap")),F&&F.length))for(var ct=0;ct<F.length;ct++)W.push(F[ct].getAttribute("cy")),K.push(F[ct].getAttribute("cx"));if(c.globals.xyCharts&&!this.showOnIntersect||c.globals.comboCharts&&!this.showOnIntersect||_&&this.tooltipUtil.hasBars()&&this.tConfig.shared)this.addPathsEventListeners([P],J);else if(_&&!c.globals.comboCharts||A&&this.showOnIntersect)this.addDatapointEventsListeners(J);else if(!c.globals.axisCharts||"heatmap"===h||"treemap"===h){var yt=c.globals.dom.baseEl.querySelectorAll(".apexcharts-series");this.addPathsEventListeners(yt,J)}if(this.showOnIntersect){var Vt=c.globals.dom.baseEl.querySelectorAll(".apexcharts-line-series .apexcharts-marker, .apexcharts-area-series .apexcharts-marker");Vt.length>0&&this.addPathsEventListeners(Vt,J),this.tooltipUtil.hasBars()&&!this.tConfig.shared&&this.addDatapointEventsListeners(J)}}},{key:"drawFixedTooltipRect",value:function(){var c=this.w,h=this.getElTooltip(),v=h.getBoundingClientRect(),_=v.width+10,A=v.height+10,P=this.tConfig.fixed.offsetX,E=this.tConfig.fixed.offsetY,F=this.tConfig.fixed.position.toLowerCase();return F.indexOf("right")>-1&&(P=P+c.globals.svgWidth-_+10),F.indexOf("bottom")>-1&&(E=E+c.globals.svgHeight-A-10),h.style.left=P+"px",h.style.top=E+"px",{x:P,y:E,ttWidth:_,ttHeight:A}}},{key:"addDatapointEventsListeners",value:function(c){var h=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers .apexcharts-marker, .apexcharts-bar-area, .apexcharts-candlestick-area, .apexcharts-boxPlot-area, .apexcharts-rangebar-area");this.addPathsEventListeners(h,c)}},{key:"addPathsEventListeners",value:function(c,h){for(var v=this,_=function(P){var E={paths:c[P],tooltipEl:h.tooltipEl,tooltipY:h.tooltipY,tooltipX:h.tooltipX,elGrid:h.elGrid,hoverArea:h.hoverArea,ttItems:h.ttItems};["mousemove","mouseup","touchmove","mouseout","touchend"].map(function(F){return c[P].addEventListener(F,v.onSeriesHover.bind(v,E),{capture:!1,passive:!0})})},A=0;A<c.length;A++)_(A)}},{key:"onSeriesHover",value:function(c,h){var v=this,_=Date.now()-this.lastHoverTime;_>=100?this.seriesHover(c,h):(clearTimeout(this.seriesHoverTimeout),this.seriesHoverTimeout=setTimeout(function(){v.seriesHover(c,h)},100-_))}},{key:"seriesHover",value:function(c,h){var v=this;this.lastHoverTime=Date.now();var _=[],A=this.w;A.config.chart.group&&(_=this.ctx.getGroupedCharts()),A.globals.axisCharts&&(A.globals.minX===-1/0&&A.globals.maxX===1/0||0===A.globals.dataPoints)||(_.length?_.forEach(function(P){var E=v.getElTooltip(P);P.w.globals.minX===v.w.globals.minX&&P.w.globals.maxX===v.w.globals.maxX&&P.w.globals.tooltip.seriesHoverByContext({chartCtx:P,ttCtx:P.w.globals.tooltip,opt:{paths:c.paths,tooltipEl:E,tooltipY:c.tooltipY,tooltipX:c.tooltipX,elGrid:c.elGrid,hoverArea:c.hoverArea,ttItems:P.w.globals.tooltip.ttItems},e:h})}):this.seriesHoverByContext({chartCtx:this.ctx,ttCtx:this.w.globals.tooltip,opt:c,e:h}))}},{key:"seriesHoverByContext",value:function(c){var h=c.chartCtx,v=c.ttCtx,_=c.opt,A=c.e,P=h.w,E=this.getElTooltip();v.tooltipRect={x:0,y:0,ttWidth:E.getBoundingClientRect().width,ttHeight:E.getBoundingClientRect().height},v.e=A,!v.tooltipUtil.hasBars()||P.globals.comboCharts||v.isBarShared||this.tConfig.onDatasetHover.highlightDataSeries&&new on(h).toggleSeriesOnHover(A,A.target.parentNode),v.fixedTooltip&&v.drawFixedTooltipRect(),P.globals.axisCharts?v.axisChartsTooltips({e:A,opt:_,tooltipRect:v.tooltipRect}):v.nonAxisChartsTooltips({e:A,opt:_,tooltipRect:v.tooltipRect})}},{key:"axisChartsTooltips",value:function(c){var h,v,_=c.e,A=c.opt,P=this.w,E=A.elGrid.getBoundingClientRect(),F="touchmove"===_.type?_.touches[0].clientX:_.clientX,W="touchmove"===_.type?_.touches[0].clientY:_.clientY;if(this.clientY=W,this.clientX=F,P.globals.capturedSeriesIndex=-1,P.globals.capturedDataPointIndex=-1,W<E.top||W>E.top+E.height)this.handleMouseOut(A);else{if(Array.isArray(this.tConfig.enabledOnSeries)&&!P.config.tooltip.shared){var K=parseInt(A.paths.getAttribute("index"),10);if(this.tConfig.enabledOnSeries.indexOf(K)<0)return void this.handleMouseOut(A)}var J=this.getElTooltip(),ct=this.getElXCrosshairs(),yt=P.globals.xyCharts||"bar"===P.config.chart.type&&!P.globals.isBarHorizontal&&this.tooltipUtil.hasBars()&&this.tConfig.shared||P.globals.comboCharts&&this.tooltipUtil.hasBars();if("mousemove"===_.type||"touchmove"===_.type||"mouseup"===_.type){null!==ct&&ct.classList.add("apexcharts-active");var Vt=this.yaxisTooltips.filter(function(le){return!0===le});if(null!==this.ycrosshairs&&Vt.length&&this.ycrosshairs.classList.add("apexcharts-active"),yt&&!this.showOnIntersect)this.handleStickyTooltip(_,F,W,A);else if("heatmap"===P.config.chart.type||"treemap"===P.config.chart.type){var Ht=this.intersect.handleHeatTreeTooltip({e:_,opt:A,x:h,y:v,type:P.config.chart.type});v=Ht.y,J.style.left=(h=Ht.x)+"px",J.style.top=v+"px"}else this.tooltipUtil.hasBars()&&this.intersect.handleBarTooltip({e:_,opt:A}),this.tooltipUtil.hasMarkers()&&this.intersect.handleMarkerTooltip({e:_,opt:A,x:h,y:v});if(this.yaxisTooltips.length)for(var qt=0;qt<P.config.yaxis.length;qt++)this.axesTooltip.drawYaxisTooltipText(qt,W,this.xyRatios);A.tooltipEl.classList.add("apexcharts-active")}else"mouseout"!==_.type&&"touchend"!==_.type||this.handleMouseOut(A)}}},{key:"nonAxisChartsTooltips",value:function(c){var h=c.e,v=c.opt,_=c.tooltipRect,A=this.w,P=v.paths.getAttribute("rel"),E=this.getElTooltip(),F=A.globals.dom.elWrap.getBoundingClientRect();if("mousemove"===h.type||"touchmove"===h.type){E.classList.add("apexcharts-active"),this.tooltipLabels.drawSeriesTexts({ttItems:v.ttItems,i:parseInt(P,10)-1,shared:!1});var K=A.globals.clientY-F.top-_.ttHeight-10;if(E.style.left=A.globals.clientX-F.left-_.ttWidth/2+"px",E.style.top=K+"px",A.config.legend.tooltipHoverFormatter){var J=P-1,ct=(0,A.config.legend.tooltipHoverFormatter)(this.legendLabels[J].getAttribute("data:default-text"),{seriesIndex:J,dataPointIndex:J,w:A});this.legendLabels[J].innerHTML=ct}}else"mouseout"!==h.type&&"touchend"!==h.type||(E.classList.remove("apexcharts-active"),A.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach(function(yt){var Vt=yt.getAttribute("data:default-text");yt.innerHTML=decodeURIComponent(Vt)}))}},{key:"handleStickyTooltip",value:function(c,h,v,_){var A=this.w,P=this.tooltipUtil.getNearestValues({context:this,hoverArea:_.hoverArea,elGrid:_.elGrid,clientX:h,clientY:v}),E=P.j,F=P.capturedSeries,W=_.elGrid.getBoundingClientRect();P.hoverX<0||P.hoverX>W.width?this.handleMouseOut(_):null!==F?this.handleStickyCapturedSeries(c,F,_,E):(this.tooltipUtil.isXoverlap(E)||A.globals.isBarHorizontal)&&this.create(c,this,0,E,_.ttItems)}},{key:"handleStickyCapturedSeries",value:function(c,h,v,_){var A=this.w;this.tConfig.shared||null!==A.globals.series[h][_]?void 0!==A.globals.series[h][_]?this.tConfig.shared&&this.tooltipUtil.isXoverlap(_)&&this.tooltipUtil.isInitialSeriesSameLen()?this.create(c,this,h,_,v.ttItems):this.create(c,this,h,_,v.ttItems,!1):this.tooltipUtil.isXoverlap(_)&&this.create(c,this,0,_,v.ttItems):this.handleMouseOut(v)}},{key:"deactivateHoverFilter",value:function(){for(var c=this.w,h=new ot(this.ctx),v=c.globals.dom.Paper.select(".apexcharts-bar-area"),_=0;_<v.length;_++)h.pathMouseLeave(v[_])}},{key:"handleMouseOut",value:function(c){var h=this.w,v=this.getElXCrosshairs();if(c.tooltipEl.classList.remove("apexcharts-active"),this.deactivateHoverFilter(),"bubble"!==h.config.chart.type&&this.marker.resetPointsSize(),null!==v&&v.classList.remove("apexcharts-active"),null!==this.ycrosshairs&&this.ycrosshairs.classList.remove("apexcharts-active"),this.blxaxisTooltip&&this.xaxisTooltip.classList.remove("apexcharts-active"),this.yaxisTooltips.length){null===this.yaxisTTEls&&(this.yaxisTTEls=h.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));for(var _=0;_<this.yaxisTTEls.length;_++)this.yaxisTTEls[_].classList.remove("apexcharts-active")}h.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach(function(A){var P=A.getAttribute("data:default-text");A.innerHTML=decodeURIComponent(P)})}},{key:"markerClick",value:function(c,h,v){var _=this.w;"function"==typeof _.config.chart.events.markerClick&&_.config.chart.events.markerClick(c,this.ctx,{seriesIndex:h,dataPointIndex:v,w:_}),this.ctx.events.fireEvent("markerClick",[c,this.ctx,{seriesIndex:h,dataPointIndex:v,w:_}])}},{key:"create",value:function(c,h,v,_,A){var P=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,E=this.w,F=h;"mouseup"===c.type&&this.markerClick(c,v,_),null===P&&(P=this.tConfig.shared);var W=this.tooltipUtil.hasMarkers(),K=this.tooltipUtil.getElBars();if(E.config.legend.tooltipHoverFormatter){var J=E.config.legend.tooltipHoverFormatter,ct=Array.from(this.legendLabels);ct.forEach(function(ut){var Zt=ut.getAttribute("data:default-text");ut.innerHTML=decodeURIComponent(Zt)});for(var yt=0;yt<ct.length;yt++){var Vt=ct[yt],Ht=parseInt(Vt.getAttribute("i"),10),qt=decodeURIComponent(Vt.getAttribute("data:default-text")),le=J(qt,{seriesIndex:P?Ht:v,dataPointIndex:_,w:E});if(P)Vt.innerHTML=E.globals.collapsedSeriesIndices.indexOf(Ht)<0?le:qt;else if(Vt.innerHTML=Ht===v?le:qt,v===Ht)break}}if(P){if(F.tooltipLabels.drawSeriesTexts({ttItems:A,i:v,j:_,shared:!this.showOnIntersect&&this.tConfig.shared}),W&&(E.globals.markers.largestSize>0?F.marker.enlargePoints(_):F.tooltipPosition.moveDynamicPointsOnHover(_)),this.tooltipUtil.hasBars()&&(this.barSeriesHeight=this.tooltipUtil.getBarsHeight(K),this.barSeriesHeight>0)){var me=new ot(this.ctx),De=E.globals.dom.Paper.select(".apexcharts-bar-area[j='".concat(_,"']"));this.deactivateHoverFilter(),this.tooltipPosition.moveStickyTooltipOverBars(_);for(var j=0;j<De.length;j++)me.pathMouseEnter(De[j])}}else F.tooltipLabels.drawSeriesTexts({shared:!1,ttItems:A,i:v,j:_}),this.tooltipUtil.hasBars()&&F.tooltipPosition.moveStickyTooltipOverBars(_),W&&F.tooltipPosition.moveMarkers(v,_)}}]),ae}(),Vi=function(ae){Ft(h,ae);var c=ft(h);function h(){return $t(this,h),c.apply(this,arguments)}return ee(h,[{key:"draw",value:function(v,_){var A=this,P=this.w;this.graphics=new ot(this.ctx),this.bar=new mt(this.ctx,this.xyRatios);var E=new Ut(this.ctx,P);v=E.getLogSeries(v),this.yRatio=E.getLogYRatios(this.yRatio),this.barHelpers.initVariables(v),"100%"===P.config.chart.stackType&&(v=P.globals.seriesPercent.slice()),this.series=v,this.totalItems=0,this.prevY=[],this.prevX=[],this.prevYF=[],this.prevXF=[],this.prevYVal=[],this.prevXVal=[],this.xArrj=[],this.xArrjF=[],this.xArrjVal=[],this.yArrj=[],this.yArrjF=[],this.yArrjVal=[];for(var F=0;F<v.length;F++)v[F].length>0&&(this.totalItems+=v[F].length);for(var W=this.graphics.group({class:"apexcharts-bar-series apexcharts-plot-series"}),K=0,J=0,ct=function(Ht,qt){var le=void 0,me=void 0,De=void 0,j=void 0,ut=[],Zt=[],he=P.globals.comboCharts?_[Ht]:Ht;A.yRatio.length>1&&(A.yaxisIndex=he),A.isReversed=P.config.yaxis[A.yaxisIndex]&&P.config.yaxis[A.yaxisIndex].reversed;var Ue=A.graphics.group({class:"apexcharts-series",seriesName:lt.escapeString(P.globals.seriesNames[he]),rel:Ht+1,"data:realIndex":he});A.ctx.series.addCollapsedClassToSeries(Ue,he);var kn=A.graphics.group({class:"apexcharts-datalabels","data:realIndex":he}),rn=0,Kn=0,zn=A.initialPositions(K,J,le,me,De,j);J=zn.y,rn=zn.barHeight,me=zn.yDivision,j=zn.zeroW,K=zn.x,Kn=zn.barWidth,le=zn.xDivision,De=zn.zeroH,A.yArrj=[],A.yArrjF=[],A.yArrjVal=[],A.xArrj=[],A.xArrjF=[],A.xArrjVal=[],1===A.prevY.length&&A.prevY[0].every(function(ao){return isNaN(ao)})&&(A.prevY[0]=A.prevY[0].map(function(ao){return De}),A.prevYF[0]=A.prevYF[0].map(function(ao){return 0}));for(var ai=0;ai<P.globals.dataPoints;ai++){var Mi=A.barHelpers.getStrokeWidth(Ht,ai,he),Ki={indexes:{i:Ht,j:ai,realIndex:he,bc:qt},strokeWidth:Mi,x:K,y:J,elSeries:Ue},Qi=null;A.isHorizontal?(Qi=A.drawStackedBarPaths(Wt(Wt({},Ki),{},{zeroW:j,barHeight:rn,yDivision:me})),Kn=A.series[Ht][ai]/A.invertedYRatio):(Qi=A.drawStackedColumnPaths(Wt(Wt({},Ki),{},{xDivision:le,barWidth:Kn,zeroH:De})),rn=A.series[Ht][ai]/A.yRatio[A.yaxisIndex]),J=Qi.y,ut.push(K=Qi.x),Zt.push(J);var Ur=A.barHelpers.getPathFillColor(v,Ht,ai,he);Ue=A.renderSeries({realIndex:he,pathFill:Ur,j:ai,i:Ht,pathFrom:Qi.pathFrom,pathTo:Qi.pathTo,strokeWidth:Mi,elSeries:Ue,x:K,y:J,series:v,barHeight:rn,barWidth:Kn,elDataLabelsWrap:kn,type:"bar",visibleSeries:0})}P.globals.seriesXvalues[he]=ut,P.globals.seriesYvalues[he]=Zt,A.prevY.push(A.yArrj),A.prevYF.push(A.yArrjF),A.prevYVal.push(A.yArrjVal),A.prevX.push(A.xArrj),A.prevXF.push(A.xArrjF),A.prevXVal.push(A.xArrjVal),W.add(Ue)},yt=0,Vt=0;yt<v.length;yt++,Vt++)ct(yt,Vt);return W}},{key:"initialPositions",value:function(v,_,A,P,E,F){var W,K,J=this.w;return this.isHorizontal?(W=(W=P=J.globals.gridHeight/J.globals.dataPoints)*parseInt(J.config.plotOptions.bar.barHeight,10)/100,F=this.baseLineInvertedY+J.globals.padHorizontal+(this.isReversed?J.globals.gridWidth:0)-(this.isReversed?2*this.baseLineInvertedY:0),_=(P-W)/2):(K=A=J.globals.gridWidth/J.globals.dataPoints,K=J.globals.isXNumeric&&J.globals.dataPoints>1?(A=J.globals.minXDiff/this.xRatio)*parseInt(this.barOptions.columnWidth,10)/100:K*parseInt(J.config.plotOptions.bar.columnWidth,10)/100,E=this.baseLineY[this.yaxisIndex]+(this.isReversed?J.globals.gridHeight:0)-(this.isReversed?2*this.baseLineY[this.yaxisIndex]:0),v=J.globals.padHorizontal+(A-K)/2),{x:v,y:_,yDivision:P,xDivision:A,barHeight:W,barWidth:K,zeroH:E,zeroW:F}}},{key:"drawStackedBarPaths",value:function(v){for(var _,W,A=v.indexes,P=v.barHeight,E=v.strokeWidth,F=v.zeroW,K=v.y,J=v.yDivision,ct=v.elSeries,yt=this.w,Vt=K,Ht=A.i,qt=A.j,le=0,me=0;me<this.prevXF.length;me++)le+=this.prevXF[me][qt];if(Ht>0){var De=F;this.prevXVal[Ht-1][qt]<0?De=this.series[Ht][qt]>=0?this.prevX[Ht-1][qt]+le-2*(this.isReversed?le:0):this.prevX[Ht-1][qt]:this.prevXVal[Ht-1][qt]>=0&&(De=this.series[Ht][qt]>=0?this.prevX[Ht-1][qt]:this.prevX[Ht-1][qt]-le+2*(this.isReversed?le:0)),_=De}else _=F;var j=this.barHelpers.getBarpaths({barYPosition:Vt,barHeight:P,x1:_,x2:W=null===this.series[Ht][qt]?_:_+this.series[Ht][qt]/this.invertedYRatio-2*(this.isReversed?this.series[Ht][qt]/this.invertedYRatio:0),strokeWidth:E,series:this.series,realIndex:A.realIndex,i:Ht,j:qt,w:yt});return this.barHelpers.barBackground({j:qt,i:Ht,y1:Vt,y2:P,elSeries:ct}),{pathTo:j.pathTo,pathFrom:j.pathFrom,x:W,y:K+=J}}},{key:"drawStackedColumnPaths",value:function(v){var P,_=v.indexes,A=v.x,E=v.xDivision,F=v.barWidth,W=v.zeroH,K=v.elSeries,J=this.w,ct=_.i,yt=_.j,Vt=_.bc;if(J.globals.isXNumeric){var Ht=J.globals.seriesX[ct][yt];Ht||(Ht=0),A=(Ht-J.globals.minX)/this.xRatio-F/2}for(var qt,le=A,me=0,De=0;De<this.prevYF.length;De++)me+=isNaN(this.prevYF[De][yt])?0:this.prevYF[De][yt];if(ct>0&&!J.globals.isXNumeric||ct>0&&J.globals.isXNumeric&&J.globals.seriesX[ct-1][yt]===J.globals.seriesX[ct][yt]){var j,ut,Zt=Math.min(this.yRatio.length+1,ct+1);if(void 0!==this.prevY[ct-1])for(var he=1;he<Zt;he++)if(!isNaN(this.prevY[ct-he][yt])){ut=this.prevY[ct-he][yt];break}for(var Ue=1;Ue<Zt;Ue++){if(this.prevYVal[ct-Ue][yt]<0){j=this.series[ct][yt]>=0?ut-me+2*(this.isReversed?me:0):ut;break}if(this.prevYVal[ct-Ue][yt]>=0){j=this.series[ct][yt]>=0?ut:ut+me-2*(this.isReversed?me:0);break}}void 0===j&&(j=J.globals.gridHeight),qt=this.prevYF[0].every(function(rn){return 0===rn})&&this.prevYF.slice(1,ct).every(function(rn){return rn.every(function(Kn){return isNaN(Kn)})})?J.globals.gridHeight-W:j}else qt=J.globals.gridHeight-W;var kn=this.barHelpers.getColumnPaths({barXPosition:le,barWidth:F,y1:qt,y2:P=qt-this.series[ct][yt]/this.yRatio[this.yaxisIndex]+2*(this.isReversed?this.series[ct][yt]/this.yRatio[this.yaxisIndex]:0),yRatio:this.yRatio[this.yaxisIndex],strokeWidth:this.strokeWidth,series:this.series,realIndex:_.realIndex,i:ct,j:yt,w:J});return this.barHelpers.barBackground({bc:Vt,j:yt,i:ct,x1:le,x2:F,elSeries:K}),A+=E,{pathTo:kn.pathTo,pathFrom:kn.pathFrom,x:J.globals.isXNumeric?A-E:A,y:P}}}]),h}(mt),ir=function(ae){Ft(h,ae);var c=ft(h);function h(){return $t(this,h),c.apply(this,arguments)}return ee(h,[{key:"draw",value:function(v,_){var A=this,P=this.w,E=new ot(this.ctx),F=new Dt(this.ctx);this.candlestickOptions=this.w.config.plotOptions.candlestick,this.boxOptions=this.w.config.plotOptions.boxPlot;var W=new Ut(this.ctx,P);v=W.getLogSeries(v),this.series=v,this.yRatio=W.getLogYRatios(this.yRatio),this.barHelpers.initVariables(v);for(var K=E.group({class:"apexcharts-".concat(P.config.chart.type,"-series apexcharts-plot-series")}),J=function(yt){A.isBoxPlot="boxPlot"===P.config.chart.type||"boxPlot"===P.config.series[yt].type;var Vt,Ht,Zt,he,qt=void 0,le=void 0,me=[],De=[],j=P.globals.comboCharts?_[yt]:yt,ut=E.group({class:"apexcharts-series",seriesName:lt.escapeString(P.globals.seriesNames[j]),rel:yt+1,"data:realIndex":j});A.ctx.series.addCollapsedClassToSeries(ut,j),v[yt].length>0&&(A.visibleI=A.visibleI+1),A.yRatio.length>1&&(A.yaxisIndex=j);var Ue=A.barHelpers.initialPositions();le=Ue.y,Zt=Ue.barHeight,Vt=Ue.xDivision,Ht=Ue.zeroH,De.push((qt=Ue.x)+(he=Ue.barWidth)/2);for(var kn=E.group({class:"apexcharts-datalabels","data:realIndex":j}),rn=function(zn){var ai=A.barHelpers.getStrokeWidth(yt,zn,j),Mi=A.drawBoxPaths({indexes:{i:yt,j:zn,realIndex:j},x:qt,y:le,xDivision:Vt,barWidth:he,zeroH:Ht,strokeWidth:ai,elSeries:ut});le=Mi.y,qt=Mi.x,zn>0&&De.push(qt+he/2),me.push(le),Mi.pathTo.forEach(function(Ki,Qi){var Ur=!A.isBoxPlot&&A.candlestickOptions.wick.useFillColor?Mi.color[Qi]:P.globals.stroke.colors[yt],ao=F.fillPath({seriesNumber:j,dataPointIndex:zn,color:Mi.color[Qi],value:v[yt][zn]});A.renderSeries({realIndex:j,pathFill:ao,lineFill:Ur,j:zn,i:yt,pathFrom:Mi.pathFrom,pathTo:Ki,strokeWidth:ai,elSeries:ut,x:qt,y:le,series:v,barHeight:Zt,barWidth:he,elDataLabelsWrap:kn,visibleSeries:A.visibleI,type:P.config.chart.type})})},Kn=0;Kn<P.globals.dataPoints;Kn++)rn(Kn);P.globals.seriesXvalues[j]=De,P.globals.seriesYvalues[j]=me,K.add(ut)},ct=0;ct<v.length;ct++)J(ct);return K}},{key:"drawBoxPaths",value:function(v){var _=v.indexes,A=v.x,P=v.xDivision,E=v.barWidth,F=v.zeroH,W=v.strokeWidth,K=this.w,J=new ot(this.ctx),ct=_.i,yt=_.j,Vt=!0,Ht=K.config.plotOptions.candlestick.colors.upward,qt=K.config.plotOptions.candlestick.colors.downward,le="";this.isBoxPlot&&(le=[this.boxOptions.colors.lower,this.boxOptions.colors.upper]);var me=this.yRatio[this.yaxisIndex],De=_.realIndex,j=this.getOHLCValue(De,yt),ut=F,Zt=F;j.o>j.c&&(Vt=!1);var he=Math.min(j.o,j.c),Ue=Math.max(j.o,j.c),kn=j.m;K.globals.isXNumeric&&(A=(K.globals.seriesX[De][yt]-K.globals.minX)/this.xRatio-E/2);var rn=A+E*this.visibleI;null==this.series[ct][yt]?(he=F,Ue=F):(he=F-he/me,Ue=F-Ue/me,ut=F-j.h/me,Zt=F-j.l/me,kn=F-j.m/me);var Kn=J.move(rn,F),zn=J.move(rn+E/2,he);return K.globals.previousPaths.length>0&&(zn=this.getPreviousPath(De,yt,!0)),Kn=this.isBoxPlot?[J.move(rn,he)+J.line(rn+E/2,he)+J.line(rn+E/2,ut)+J.line(rn+E/4,ut)+J.line(rn+E-E/4,ut)+J.line(rn+E/2,ut)+J.line(rn+E/2,he)+J.line(rn+E,he)+J.line(rn+E,kn)+J.line(rn,kn)+J.line(rn,he+W/2),J.move(rn,kn)+J.line(rn+E,kn)+J.line(rn+E,Ue)+J.line(rn+E/2,Ue)+J.line(rn+E/2,Zt)+J.line(rn+E-E/4,Zt)+J.line(rn+E/4,Zt)+J.line(rn+E/2,Zt)+J.line(rn+E/2,Ue)+J.line(rn,Ue)+J.line(rn,kn)+"z"]:[J.move(rn,Ue)+J.line(rn+E/2,Ue)+J.line(rn+E/2,ut)+J.line(rn+E/2,Ue)+J.line(rn+E,Ue)+J.line(rn+E,he)+J.line(rn+E/2,he)+J.line(rn+E/2,Zt)+J.line(rn+E/2,he)+J.line(rn,he)+J.line(rn,Ue-W/2)],zn+=J.move(rn,he),K.globals.isXNumeric||(A+=P),{pathTo:Kn,pathFrom:zn,x:A,y:Ue,barXPosition:rn,color:this.isBoxPlot?le:Vt?[Ht]:[qt]}}},{key:"getOHLCValue",value:function(v,_){var A=this.w;return{o:this.isBoxPlot?A.globals.seriesCandleH[v][_]:A.globals.seriesCandleO[v][_],h:this.isBoxPlot?A.globals.seriesCandleO[v][_]:A.globals.seriesCandleH[v][_],m:A.globals.seriesCandleM[v][_],l:this.isBoxPlot?A.globals.seriesCandleC[v][_]:A.globals.seriesCandleL[v][_],c:this.isBoxPlot?A.globals.seriesCandleL[v][_]:A.globals.seriesCandleC[v][_]}}}]),h}(mt),Xs=function(){function ae(c){$t(this,ae),this.ctx=c,this.w=c.w}return ee(ae,[{key:"checkColorRange",value:function(){var c=this.w,h=!1,v=c.config.plotOptions[c.config.chart.type];return v.colorScale.ranges.length>0&&v.colorScale.ranges.map(function(_,A){_.from<=0&&(h=!0)}),h}},{key:"getShadeColor",value:function(c,h,v,_){var A=this.w,P=1,E=A.config.plotOptions[c].shadeIntensity,F=this.determineColor(c,h,v);A.globals.hasNegs||_?P=A.config.plotOptions[c].reverseNegativeShade?F.percent<0?F.percent/100*(1.25*E):1.25*E*(1-F.percent/100):F.percent<=0?1-(1+F.percent/100)*E:(1-F.percent/100)*E:(P=1-F.percent/100,"treemap"===c&&(P=1.25*E*(1-F.percent/100)));var W=F.color,K=new lt;return A.config.plotOptions[c].enableShades&&(W=lt.hexToRgba(K.shadeColor("dark"===this.w.config.theme.mode?-1*P:P,F.color),A.config.fill.opacity)),{color:W,colorProps:F}}},{key:"determineColor",value:function(c,h,v){var _=this.w,A=_.globals.series[h][v],P=_.config.plotOptions[c],E=P.colorScale.inverse?v:h;_.config.plotOptions[c].distributed&&(E=v);var F=_.globals.colors[E],W=null,K=Math.min.apply(Math,St(_.globals.series[h])),J=Math.max.apply(Math,St(_.globals.series[h]));P.distributed||"heatmap"!==c||(K=_.globals.minY,J=_.globals.maxY),void 0!==P.colorScale.min&&(K=P.colorScale.min<_.globals.minY?P.colorScale.min:_.globals.minY,J=P.colorScale.max>_.globals.maxY?P.colorScale.max:_.globals.maxY);var ct=Math.abs(J)+Math.abs(K),yt=100*A/(0===ct?ct-1e-6:ct);return P.colorScale.ranges.length>0&&P.colorScale.ranges.map(function(Vt,Ht){if(A>=Vt.from&&A<=Vt.to){F=Vt.color,W=Vt.foreColor?Vt.foreColor:null,K=Vt.from,J=Vt.to;var qt=Math.abs(J)+Math.abs(K);yt=100*A/(0===qt?qt-1e-6:qt)}}),{color:F,foreColor:W,percent:yt}}},{key:"calculateDataLabels",value:function(c){var h=c.text,v=c.x,_=c.y,A=c.i,P=c.j,E=c.colorProps,F=c.fontSize,W=this.w.config.dataLabels,K=new ot(this.ctx),J=new Ne(this.ctx),ct=null;if(W.enabled){ct=K.group({class:"apexcharts-data-labels"});var Vt=W.offsetY,Ht=v+W.offsetX,qt=_+parseFloat(W.style.fontSize)/3+Vt;J.plotDataLabelsText({x:Ht,y:qt,text:h,i:A,j:P,color:E.foreColor,parent:ct,fontSize:F,dataLabelsConfig:W})}return ct}},{key:"addListeners",value:function(c){var h=new ot(this.ctx);c.node.addEventListener("mouseenter",h.pathMouseEnter.bind(this,c)),c.node.addEventListener("mouseleave",h.pathMouseLeave.bind(this,c)),c.node.addEventListener("mousedown",h.pathMouseDown.bind(this,c))}}]),ae}(),ho=function(){function ae(c,h){$t(this,ae),this.ctx=c,this.w=c.w,this.xRatio=h.xRatio,this.yRatio=h.yRatio,this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.helpers=new Xs(c),this.rectRadius=this.w.config.plotOptions.heatmap.radius,this.strokeWidth=this.w.config.stroke.show?this.w.config.stroke.width:0}return ee(ae,[{key:"draw",value:function(c){var h=this.w,v=new ot(this.ctx),_=v.group({class:"apexcharts-heatmap"});_.attr("clip-path","url(#gridRectMask".concat(h.globals.cuid,")"));var A=h.globals.gridWidth/h.globals.dataPoints,P=h.globals.gridHeight/h.globals.series.length,E=0,F=!1;this.negRange=this.helpers.checkColorRange();var W=c.slice();h.config.yaxis[0].reversed&&(F=!0,W.reverse());for(var K=F?0:W.length-1;F?K<W.length:K>=0;F?K++:K--){var J=v.group({class:"apexcharts-series apexcharts-heatmap-series",seriesName:lt.escapeString(h.globals.seriesNames[K]),rel:K+1,"data:realIndex":K});if(this.ctx.series.addCollapsedClassToSeries(J,K),h.config.chart.dropShadow.enabled){var ct=h.config.chart.dropShadow;new xt(this.ctx).dropShadow(J,ct,K)}for(var yt=0,Vt=h.config.plotOptions.heatmap.shadeIntensity,Ht=0;Ht<W[K].length;Ht++){var qt=this.helpers.getShadeColor(h.config.chart.type,K,Ht,this.negRange),le=qt.color,me=qt.colorProps;"image"===h.config.fill.type&&(le=new Dt(this.ctx).fillPath({seriesNumber:K,dataPointIndex:Ht,opacity:h.globals.hasNegs?me.percent<0?1-(1+me.percent/100):Vt+me.percent/100:me.percent/100,patternID:lt.randomId(),width:h.config.fill.image.width?h.config.fill.image.width:A,height:h.config.fill.image.height?h.config.fill.image.height:P}));var j=v.drawRect(yt,E,A,P,this.rectRadius);if(j.attr({cx:yt,cy:E}),j.node.classList.add("apexcharts-heatmap-rect"),J.add(j),j.attr({fill:le,i:K,index:K,j:Ht,val:W[K][Ht],"stroke-width":this.strokeWidth,stroke:h.config.plotOptions.heatmap.useFillColorAsStroke?le:h.globals.stroke.colors[0],color:le}),this.helpers.addListeners(j),h.config.chart.animations.enabled&&!h.globals.dataChanged){var ut=1;h.globals.resized||(ut=h.config.chart.animations.speed),this.animateHeatMap(j,yt,E,A,P,ut)}if(h.globals.dataChanged){var Zt=1;if(this.dynamicAnim.enabled&&h.globals.shouldAnimate){Zt=this.dynamicAnim.speed;var he=h.globals.previousPaths[K]&&h.globals.previousPaths[K][Ht]&&h.globals.previousPaths[K][Ht].color;he||(he="rgba(255, 255, 255, 0)"),this.animateHeatColor(j,lt.isColorHex(he)?he:lt.rgb2hex(he),lt.isColorHex(le)?le:lt.rgb2hex(le),Zt)}}var Ue=(0,h.config.dataLabels.formatter)(h.globals.series[K][Ht],{value:h.globals.series[K][Ht],seriesIndex:K,dataPointIndex:Ht,w:h}),kn=this.helpers.calculateDataLabels({text:Ue,x:yt+A/2,y:E+P/2,i:K,j:Ht,colorProps:me,series:W});null!==kn&&J.add(kn),yt+=A}E+=P,_.add(J)}var rn=h.globals.yAxisScale[0].result.slice();return h.config.yaxis[0].reversed?rn.unshift(""):rn.push(""),h.globals.yAxisScale[0].result=rn,h.config.yaxis[0].labels.offsetY=-h.globals.gridHeight/h.globals.series.length/2,_}},{key:"animateHeatMap",value:function(c,h,v,_,A,P){var E=new _t(this.ctx);E.animateRect(c,{x:h+_/2,y:v+A/2,width:0,height:0},{x:h,y:v,width:_,height:A},P,function(){E.animationCompleted(c)})}},{key:"animateHeatColor",value:function(c,h,v,_){c.attr({fill:h}).animate(_).attr({fill:v})}}]),ae}(),ca=function(){function ae(c){$t(this,ae),this.ctx=c,this.w=c.w}return ee(ae,[{key:"drawYAxisTexts",value:function(c,h,v,_){var A=this.w,P=A.config.yaxis[0],E=A.globals.yLabelFormatters[0];return new ot(this.ctx).drawText({x:c+P.labels.offsetX,y:h+P.labels.offsetY,text:E(_,v),textAnchor:"middle",fontSize:P.labels.style.fontSize,fontFamily:P.labels.style.fontFamily,foreColor:Array.isArray(P.labels.style.colors)?P.labels.style.colors[v]:P.labels.style.colors})}}]),ae}(),Lr=function(){function ae(c){$t(this,ae),this.ctx=c,this.w=c.w;var h=this.w;this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animBeginArr=[0],this.animDur=0,this.donutDataLabels=this.w.config.plotOptions.pie.donut.labels,this.lineColorArr=void 0!==h.globals.stroke.colors?h.globals.stroke.colors:h.globals.colors,this.defaultSize=Math.min(h.globals.gridWidth,h.globals.gridHeight),this.centerY=this.defaultSize/2,this.centerX=h.globals.gridWidth/2,this.fullAngle="radialBar"===h.config.chart.type?360:Math.abs(h.config.plotOptions.pie.endAngle-h.config.plotOptions.pie.startAngle),this.initialAngle=h.config.plotOptions.pie.startAngle%this.fullAngle,h.globals.radialSize=this.defaultSize/2.05-h.config.stroke.width-(h.config.chart.sparkline.enabled?0:h.config.chart.dropShadow.blur),this.donutSize=h.globals.radialSize*parseInt(h.config.plotOptions.pie.donut.size,10)/100,this.maxY=0,this.sliceLabels=[],this.sliceSizes=[],this.prevSectorAngleArr=[]}return ee(ae,[{key:"draw",value:function(c){var h=this,v=this.w,_=new ot(this.ctx);if(this.ret=_.group({class:"apexcharts-pie"}),v.globals.noData)return this.ret;for(var A=0,P=0;P<c.length;P++)A+=lt.negToZero(c[P]);var E=[],F=_.group();0===A&&(A=1e-5),c.forEach(function(he){h.maxY=Math.max(h.maxY,he)}),v.config.yaxis[0].max&&(this.maxY=v.config.yaxis[0].max),"back"===v.config.grid.position&&"polarArea"===this.chartType&&this.drawPolarElements(this.ret);for(var W=0;W<c.length;W++){var K=this.fullAngle*lt.negToZero(c[W])/A;E.push(K),"polarArea"===this.chartType?(E[W]=this.fullAngle/c.length,this.sliceSizes.push(v.globals.radialSize*c[W]/this.maxY)):this.sliceSizes.push(v.globals.radialSize)}if(v.globals.dataChanged){for(var J,ct=0,yt=0;yt<v.globals.previousPaths.length;yt++)ct+=lt.negToZero(v.globals.previousPaths[yt]);for(var Vt=0;Vt<v.globals.previousPaths.length;Vt++)J=this.fullAngle*lt.negToZero(v.globals.previousPaths[Vt])/ct,this.prevSectorAngleArr.push(J)}this.donutSize<0&&(this.donutSize=0);var Ht=v.config.plotOptions.pie.customScale,me=v.globals.gridWidth/2-v.globals.gridWidth/2*Ht,De=v.globals.gridHeight/2-v.globals.gridHeight/2*Ht;if("donut"===this.chartType){var j=_.drawCircle(this.donutSize);j.attr({cx:this.centerX,cy:this.centerY,fill:v.config.plotOptions.pie.donut.background?v.config.plotOptions.pie.donut.background:"transparent"}),F.add(j)}var ut=this.drawArcs(E,c);if(this.sliceLabels.forEach(function(he){ut.add(he)}),F.attr({transform:"translate(".concat(me,", ").concat(De,") scale(").concat(Ht,")")}),F.add(ut),this.ret.add(F),this.donutDataLabels.show){var Zt=this.renderInnerDataLabels(this.donutDataLabels,{hollowSize:this.donutSize,centerX:this.centerX,centerY:this.centerY,opacity:this.donutDataLabels.show,translateX:me,translateY:De});this.ret.add(Zt)}return"front"===v.config.grid.position&&"polarArea"===this.chartType&&this.drawPolarElements(this.ret),this.ret}},{key:"drawArcs",value:function(c,h){var v=this.w,_=new xt(this.ctx),A=new ot(this.ctx),P=new Dt(this.ctx),E=A.group({class:"apexcharts-slices"}),F=this.initialAngle,W=this.initialAngle,K=this.initialAngle,J=this.initialAngle;this.strokeWidth=v.config.stroke.show?v.config.stroke.width:0;for(var ct=0;ct<c.length;ct++){var yt=A.group({class:"apexcharts-series apexcharts-pie-series",seriesName:lt.escapeString(v.globals.seriesNames[ct]),rel:ct+1,"data:realIndex":ct});E.add(yt),K=(F=K)+c[ct],J=(W=J)+this.prevSectorAngleArr[ct];var Vt=K<F?this.fullAngle+K-F:K-F,Ht=P.fillPath({seriesNumber:ct,size:this.sliceSizes[ct],value:h[ct]}),qt=this.getChangedPath(W,J),le=A.drawPath({d:qt,stroke:Array.isArray(this.lineColorArr)?this.lineColorArr[ct]:this.lineColorArr,strokeWidth:0,fill:Ht,fillOpacity:v.config.fill.opacity,classes:"apexcharts-pie-area apexcharts-".concat(this.chartType.toLowerCase(),"-slice-").concat(ct)});le.attr({index:0,j:ct}),_.setSelectionFilter(le,0,ct),v.config.chart.dropShadow.enabled&&_.dropShadow(le,v.config.chart.dropShadow,ct),this.addListeners(le,this.donutDataLabels),ot.setAttrs(le.node,{"data:angle":Vt,"data:startAngle":F,"data:strokeWidth":this.strokeWidth,"data:value":h[ct]});var De={x:0,y:0};"pie"===this.chartType||"polarArea"===this.chartType?De=lt.polarToCartesian(this.centerX,this.centerY,v.globals.radialSize/1.25+v.config.plotOptions.pie.dataLabels.offset,(F+Vt/2)%this.fullAngle):"donut"===this.chartType&&(De=lt.polarToCartesian(this.centerX,this.centerY,(v.globals.radialSize+this.donutSize)/2+v.config.plotOptions.pie.dataLabels.offset,(F+Vt/2)%this.fullAngle)),yt.add(le);var j=0;if(!this.initialAnim||v.globals.resized||v.globals.dataChanged?this.animBeginArr.push(0):(0==(j=Vt/this.fullAngle*v.config.chart.animations.speed)&&(j=1),this.animDur=j+this.animDur,this.animBeginArr.push(this.animDur)),this.animatePaths(le,this.dynamicAnim&&v.globals.dataChanged?{size:this.sliceSizes[ct],endAngle:K,startAngle:F,prevStartAngle:W,prevEndAngle:J,animateStartingPos:!0,i:ct,animBeginArr:this.animBeginArr,shouldSetPrevPaths:!0,dur:v.config.chart.animations.dynamicAnimation.speed}:{size:this.sliceSizes[ct],endAngle:K,startAngle:F,i:ct,totalItems:c.length-1,animBeginArr:this.animBeginArr,dur:j}),v.config.plotOptions.pie.expandOnClick&&"polarArea"!==this.chartType&&le.click(this.pieClicked.bind(this,ct)),void 0!==v.globals.selectedDataPoints[0]&&v.globals.selectedDataPoints[0].indexOf(ct)>-1&&this.pieClicked(ct),v.config.dataLabels.enabled){var ut=De.x,Zt=De.y,he=100*Vt/this.fullAngle+"%";if(0!==Vt&&v.config.plotOptions.pie.dataLabels.minAngleToShowLabel<c[ct]){var Ue=v.config.dataLabels.formatter;void 0!==Ue&&(he=Ue(v.globals.seriesPercent[ct][0],{seriesIndex:ct,w:v}));var kn=v.globals.dataLabels.style.colors[ct],rn=A.group({class:"apexcharts-datalabels"}),Kn=A.drawText({x:ut,y:Zt,text:he,textAnchor:"middle",fontSize:v.config.dataLabels.style.fontSize,fontFamily:v.config.dataLabels.style.fontFamily,fontWeight:v.config.dataLabels.style.fontWeight,foreColor:kn});rn.add(Kn),v.config.dataLabels.dropShadow.enabled&&_.dropShadow(Kn,v.config.dataLabels.dropShadow),Kn.node.classList.add("apexcharts-pie-label"),v.config.chart.animations.animate&&!1===v.globals.resized&&(Kn.node.classList.add("apexcharts-pie-label-delay"),Kn.node.style.animationDelay=v.config.chart.animations.speed/940+"s"),this.sliceLabels.push(rn)}}}return E}},{key:"addListeners",value:function(c,h){var v=new ot(this.ctx);c.node.addEventListener("mouseenter",v.pathMouseEnter.bind(this,c)),c.node.addEventListener("mouseleave",v.pathMouseLeave.bind(this,c)),c.node.addEventListener("mouseleave",this.revertDataLabelsInner.bind(this,c.node,h)),c.node.addEventListener("mousedown",v.pathMouseDown.bind(this,c)),this.donutDataLabels.total.showAlways||(c.node.addEventListener("mouseenter",this.printDataLabelsInner.bind(this,c.node,h)),c.node.addEventListener("mousedown",this.printDataLabelsInner.bind(this,c.node,h)))}},{key:"animatePaths",value:function(c,h){var _=h.endAngle<h.startAngle?this.fullAngle+h.endAngle-h.startAngle:h.endAngle-h.startAngle,A=_,P=h.startAngle,E=h.startAngle;void 0!==h.prevStartAngle&&void 0!==h.prevEndAngle&&(P=h.prevEndAngle,A=h.prevEndAngle<h.prevStartAngle?this.fullAngle+h.prevEndAngle-h.prevStartAngle:h.prevEndAngle-h.prevStartAngle),h.i===this.w.config.series.length-1&&(_+E>this.fullAngle?h.endAngle=h.endAngle-(_+E):_+E<this.fullAngle&&(h.endAngle=h.endAngle+(this.fullAngle-(_+E)))),_===this.fullAngle&&(_=this.fullAngle-.01),this.animateArc(c,P,E,_,A,h)}},{key:"animateArc",value:function(c,h,v,_,A,P){var E,F=this,W=this.w,K=new _t(this.ctx),J=P.size;(isNaN(h)||isNaN(A))&&(h=v,A=_,P.dur=0);var ct=_,yt=v,Vt=h<v?this.fullAngle+h-v:h-v;W.globals.dataChanged&&P.shouldSetPrevPaths&&P.prevEndAngle&&(E=F.getPiePath({me:F,startAngle:P.prevStartAngle,angle:P.prevEndAngle<P.prevStartAngle?this.fullAngle+P.prevEndAngle-P.prevStartAngle:P.prevEndAngle-P.prevStartAngle,size:J}),c.attr({d:E})),0!==P.dur?c.animate(P.dur,W.globals.easing,P.animBeginArr[P.i]).afterAll(function(){"pie"!==F.chartType&&"donut"!==F.chartType&&"polarArea"!==F.chartType||this.animate(W.config.chart.animations.dynamicAnimation.speed).attr({"stroke-width":F.strokeWidth}),P.i===W.config.series.length-1&&K.animationCompleted(c)}).during(function(Ht){ct=Vt+(_-Vt)*Ht,P.animateStartingPos&&(ct=A+(_-A)*Ht,yt=h-A+(v-(h-A))*Ht),E=F.getPiePath({me:F,startAngle:yt,angle:ct,size:J}),c.node.setAttribute("data:pathOrig",E),c.attr({d:E})}):(E=F.getPiePath({me:F,startAngle:yt,angle:_,size:J}),P.isTrack||(W.globals.animationEnded=!0),c.node.setAttribute("data:pathOrig",E),c.attr({d:E,"stroke-width":F.strokeWidth}))}},{key:"pieClicked",value:function(c){var h,v=this.w,_=this,A=_.sliceSizes[c]+(v.config.plotOptions.pie.expandOnClick?4:0),P=v.globals.dom.Paper.select(".apexcharts-".concat(_.chartType.toLowerCase(),"-slice-").concat(c)).members[0];if("true"!==P.attr("data:pieClicked")){var E=v.globals.dom.baseEl.getElementsByClassName("apexcharts-pie-area");Array.prototype.forEach.call(E,function(J){J.setAttribute("data:pieClicked","false");var ct=J.getAttribute("data:pathOrig");J.setAttribute("d",ct)}),P.attr("data:pieClicked","true");var F=parseInt(P.attr("data:startAngle"),10),W=parseInt(P.attr("data:angle"),10);h=_.getPiePath({me:_,startAngle:F,angle:W,size:A}),360!==W&&P.plot(h)}else{P.attr({"data:pieClicked":"false"}),this.revertDataLabelsInner(P.node,this.donutDataLabels);var K=P.attr("data:pathOrig");P.attr({d:K})}}},{key:"getChangedPath",value:function(c,h){var v="";return this.dynamicAnim&&this.w.globals.dataChanged&&(v=this.getPiePath({me:this,startAngle:c,angle:h-c,size:this.size})),v}},{key:"getPiePath",value:function(c){var h=c.me,v=c.startAngle,_=c.angle,A=c.size,P=v,E=Math.PI*(P-90)/180,F=_+v;Math.ceil(F)>=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle&&(F=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle-.01),Math.ceil(F)>this.fullAngle&&(F-=this.fullAngle);var W=Math.PI*(F-90)/180,K=h.centerX+A*Math.cos(E),J=h.centerY+A*Math.sin(E),ct=h.centerX+A*Math.cos(W),yt=h.centerY+A*Math.sin(W),Vt=lt.polarToCartesian(h.centerX,h.centerY,h.donutSize,F),Ht=lt.polarToCartesian(h.centerX,h.centerY,h.donutSize,P),qt=_>180?1:0,le=["M",K,J,"A",A,A,0,qt,1,ct,yt];return"donut"===h.chartType?[].concat(le,["L",Vt.x,Vt.y,"A",h.donutSize,h.donutSize,0,qt,0,Ht.x,Ht.y,"L",K,J,"z"]).join(" "):"pie"===h.chartType||"polarArea"===h.chartType?[].concat(le,["L",h.centerX,h.centerY,"L",K,J]).join(" "):[].concat(le).join(" ")}},{key:"drawPolarElements",value:function(c){var h=this.w,v=new $e(this.ctx),_=new ot(this.ctx),A=new ca(this.ctx),P=_.group(),E=_.group(),F=v.niceScale(0,Math.ceil(this.maxY),h.config.yaxis[0].tickAmount,0,!0),W=F.result.reverse(),K=F.result.length;this.maxY=F.niceMax;for(var J=h.globals.radialSize,ct=J/(K-1),yt=0;yt<K-1;yt++){var Vt=_.drawCircle(J);if(Vt.attr({cx:this.centerX,cy:this.centerY,fill:"none","stroke-width":h.config.plotOptions.polarArea.rings.strokeWidth,stroke:h.config.plotOptions.polarArea.rings.strokeColor}),h.config.yaxis[0].show){var Ht=A.drawYAxisTexts(this.centerX,this.centerY-J+parseInt(h.config.yaxis[0].labels.style.fontSize,10)/2,yt,W[yt]);E.add(Ht)}P.add(Vt),J-=ct}this.drawSpokes(c),c.add(P),c.add(E)}},{key:"renderInnerDataLabels",value:function(c,h){var v=this.w,_=new ot(this.ctx),A=_.group({class:"apexcharts-datalabels-group",transform:"translate(".concat(h.translateX?h.translateX:0,", ").concat(h.translateY?h.translateY:0,") scale(").concat(v.config.plotOptions.pie.customScale,")")}),P=c.total.show;A.node.style.opacity=h.opacity;var E,F,W=h.centerX,K=h.centerY;E=void 0===c.name.color?v.globals.colors[0]:c.name.color;var J=c.name.fontSize,ct=c.name.fontFamily,yt=c.name.fontWeight;F=void 0===c.value.color?v.config.chart.foreColor:c.value.color;var Vt=c.value.formatter,Ht="",qt="";if(P?(E=c.total.color,J=c.total.fontSize,ct=c.total.fontFamily,yt=c.total.fontWeight,qt=c.total.label,Ht=c.total.formatter(v)):1===v.globals.series.length&&(Ht=Vt(v.globals.series[0],v),qt=v.globals.seriesNames[0]),qt&&(qt=c.name.formatter(qt,c.total.show,v)),c.name.show){var le=_.drawText({x:W,y:K+parseFloat(c.name.offsetY),text:qt,textAnchor:"middle",foreColor:E,fontSize:J,fontWeight:yt,fontFamily:ct});le.node.classList.add("apexcharts-datalabel-label"),A.add(le)}if(c.value.show){var me=c.name.show?parseFloat(c.value.offsetY)+16:c.value.offsetY,De=_.drawText({x:W,y:K+me,text:Ht,textAnchor:"middle",foreColor:F,fontWeight:c.value.fontWeight,fontSize:c.value.fontSize,fontFamily:c.value.fontFamily});De.node.classList.add("apexcharts-datalabel-value"),A.add(De)}return A}},{key:"printInnerLabels",value:function(c,h,v,_){var A,P=this.w;_?A=void 0===c.name.color?P.globals.colors[parseInt(_.parentNode.getAttribute("rel"),10)-1]:c.name.color:P.globals.series.length>1&&c.total.show&&(A=c.total.color);var E=P.globals.dom.baseEl.querySelector(".apexcharts-datalabel-label"),F=P.globals.dom.baseEl.querySelector(".apexcharts-datalabel-value");v=(0,c.value.formatter)(v,P),_||"function"!=typeof c.total.formatter||(v=c.total.formatter(P)),h=c.name.formatter(h,h===c.total.label,P),null!==E&&(E.textContent=h),null!==F&&(F.textContent=v),null!==E&&(E.style.fill=A)}},{key:"printDataLabelsInner",value:function(c,h){var v=this.w,_=c.getAttribute("data:value"),A=v.globals.seriesNames[parseInt(c.parentNode.getAttribute("rel"),10)-1];v.globals.series.length>1&&this.printInnerLabels(h,A,_,c);var P=v.globals.dom.baseEl.querySelector(".apexcharts-datalabels-group");null!==P&&(P.style.opacity=1)}},{key:"drawSpokes",value:function(c){var h=this,v=this.w,_=new ot(this.ctx),A=v.config.plotOptions.polarArea.spokes;if(0!==A.strokeWidth){for(var P=[],E=360/v.globals.series.length,F=0;F<v.globals.series.length;F++)P.push(lt.polarToCartesian(this.centerX,this.centerY,v.globals.radialSize,v.config.plotOptions.pie.startAngle+E*F));P.forEach(function(W,K){var J=_.drawLine(W.x,W.y,h.centerX,h.centerY,Array.isArray(A.connectorColors)?A.connectorColors[K]:A.connectorColors);c.add(J)})}}},{key:"revertDataLabelsInner",value:function(c,h,v){var _=this,A=this.w,P=A.globals.dom.baseEl.querySelector(".apexcharts-datalabels-group"),E=!1,F=A.globals.dom.baseEl.getElementsByClassName("apexcharts-pie-area"),W=function(ct){var yt=ct.makeSliceOut,Vt=ct.printLabel;Array.prototype.forEach.call(F,function(Ht){"true"===Ht.getAttribute("data:pieClicked")&&(yt&&(E=!0),Vt&&_.printDataLabelsInner(Ht,h))})};if(W({makeSliceOut:!0,printLabel:!1}),h.total.show&&A.globals.series.length>1)E&&!h.total.showAlways?W({makeSliceOut:!1,printLabel:!0}):this.printInnerLabels(h,h.total.label,h.total.formatter(A));else if(W({makeSliceOut:!1,printLabel:!0}),!E)if(A.globals.selectedDataPoints.length&&A.globals.series.length>1)if(A.globals.selectedDataPoints[0].length>0){var K=A.globals.selectedDataPoints[0],J=A.globals.dom.baseEl.querySelector(".apexcharts-".concat(this.chartType.toLowerCase(),"-slice-").concat(K));this.printDataLabelsInner(J,h)}else P&&A.globals.selectedDataPoints.length&&0===A.globals.selectedDataPoints[0].length&&(P.style.opacity=0);else P&&A.globals.series.length>1&&(P.style.opacity=0)}}]),ae}(),Ja=function(){function ae(c){$t(this,ae),this.ctx=c,this.w=c.w,this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animDur=0;var h=this.w;this.graphics=new ot(this.ctx),this.lineColorArr=void 0!==h.globals.stroke.colors?h.globals.stroke.colors:h.globals.colors,this.defaultSize=h.globals.svgHeight<h.globals.svgWidth?h.globals.gridHeight+1.5*h.globals.goldenPadding:h.globals.gridWidth,this.isLog=h.config.yaxis[0].logarithmic,this.coreUtils=new Ut(this.ctx),this.maxValue=this.isLog?this.coreUtils.getLogVal(h.globals.maxY,0):h.globals.maxY,this.minValue=this.isLog?this.coreUtils.getLogVal(this.w.globals.minY,0):h.globals.minY,this.polygons=h.config.plotOptions.radar.polygons,this.strokeWidth=h.config.stroke.show?h.config.stroke.width:0,this.size=this.defaultSize/2.1-this.strokeWidth-h.config.chart.dropShadow.blur,h.config.xaxis.labels.show&&(this.size=this.size-h.globals.xAxisLabelsWidth/1.75),void 0!==h.config.plotOptions.radar.size&&(this.size=h.config.plotOptions.radar.size),this.dataRadiusOfPercent=[],this.dataRadius=[],this.angleArr=[],this.yaxisLabelsTextsPos=[]}return ee(ae,[{key:"draw",value:function(c){var h=this,v=this.w,_=new Dt(this.ctx),A=[],P=new Ne(this.ctx);c.length&&(this.dataPointsLen=c[v.globals.maxValsInArrayIndex].length),this.disAngle=2*Math.PI/this.dataPointsLen;var K=v.globals.gridHeight/2+v.config.plotOptions.radar.offsetY,J=this.graphics.group({class:"apexcharts-radar-series apexcharts-plot-series",transform:"translate(".concat(v.globals.gridWidth/2+v.config.plotOptions.radar.offsetX||0,", ").concat(K||0,")")}),ct=[],yt=null,Vt=null;if(this.yaxisLabels=this.graphics.group({class:"apexcharts-yaxis"}),c.forEach(function(qt,le){var me=qt.length===v.globals.dataPoints,De=h.graphics.group().attr({class:"apexcharts-series","data:longestSeries":me,seriesName:lt.escapeString(v.globals.seriesNames[le]),rel:le+1,"data:realIndex":le});h.dataRadiusOfPercent[le]=[],h.dataRadius[le]=[],h.angleArr[le]=[],qt.forEach(function(ai,Mi){var Ki=Math.abs(h.maxValue-h.minValue);ai+=Math.abs(h.minValue),h.isLog&&(ai=h.coreUtils.getLogVal(ai,0)),h.dataRadiusOfPercent[le][Mi]=ai/Ki,h.dataRadius[le][Mi]=h.dataRadiusOfPercent[le][Mi]*h.size,h.angleArr[le][Mi]=Mi*h.disAngle}),ct=h.getDataPointsPos(h.dataRadius[le],h.angleArr[le]);var j=h.createPaths(ct,{x:0,y:0});yt=h.graphics.group({class:"apexcharts-series-markers-wrap apexcharts-element-hidden"}),Vt=h.graphics.group({class:"apexcharts-datalabels","data:realIndex":le}),v.globals.delayedElements.push({el:yt.node,index:le});var ut={i:le,realIndex:le,animationDelay:le,initialSpeed:v.config.chart.animations.speed,dataChangeSpeed:v.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-radar",shouldClipToGrid:!1,bindEventsOnPaths:!1,stroke:v.globals.stroke.colors[le],strokeLineCap:v.config.stroke.lineCap},Zt=null;v.globals.previousPaths.length>0&&(Zt=h.getPreviousPath(le));for(var he=0;he<j.linePathsTo.length;he++){var Ue=h.graphics.renderPaths(Wt(Wt({},ut),{},{pathFrom:null===Zt?j.linePathsFrom[he]:Zt,pathTo:j.linePathsTo[he],strokeWidth:Array.isArray(h.strokeWidth)?h.strokeWidth[le]:h.strokeWidth,fill:"none",drawShadow:!1}));De.add(Ue);var kn=_.fillPath({seriesNumber:le}),rn=h.graphics.renderPaths(Wt(Wt({},ut),{},{pathFrom:null===Zt?j.areaPathsFrom[he]:Zt,pathTo:j.areaPathsTo[he],strokeWidth:0,fill:kn,drawShadow:!1}));v.config.chart.dropShadow.enabled&&new xt(h.ctx).dropShadow(rn,Object.assign({},v.config.chart.dropShadow,{noUserSpaceOnUse:!0}),le),De.add(rn)}qt.forEach(function(ai,Mi){var Ki=new se(h.ctx).getMarkerConfig({cssClass:"apexcharts-marker",seriesIndex:le,dataPointIndex:Mi}),Qi=h.graphics.drawMarker(ct[Mi].x,ct[Mi].y,Ki);Qi.attr("rel",Mi),Qi.attr("j",Mi),Qi.attr("index",le),Qi.node.setAttribute("default-marker-size",Ki.pSize);var Ur=h.graphics.group({class:"apexcharts-series-markers"});Ur&&Ur.add(Qi),yt.add(Ur),De.add(yt);var ao=v.config.dataLabels;if(ao.enabled){var es=ao.formatter(v.globals.series[le][Mi],{seriesIndex:le,dataPointIndex:Mi,w:v});P.plotDataLabelsText({x:ct[Mi].x,y:ct[Mi].y,text:es,textAnchor:"middle",i:le,j:le,parent:Vt,offsetCorrection:!1,dataLabelsConfig:Wt({},ao)})}De.add(Vt)}),A.push(De)}),this.drawPolygons({parent:J}),v.config.xaxis.labels.show){var Ht=this.drawXAxisTexts();J.add(Ht)}return A.forEach(function(qt){J.add(qt)}),J.add(this.yaxisLabels),J}},{key:"drawPolygons",value:function(c){for(var h=this,v=this.w,_=c.parent,A=new ca(this.ctx),P=v.globals.yAxisScale[0].result.reverse(),E=P.length,F=[],W=this.size/(E-1),K=0;K<E;K++)F[K]=W*K;F.reverse();var J=[],ct=[];F.forEach(function(yt,Vt){var Ht=lt.getPolygonPos(yt,h.dataPointsLen),qt="";Ht.forEach(function(le,me){if(0===Vt){var De=h.graphics.drawLine(le.x,le.y,0,0,Array.isArray(h.polygons.connectorColors)?h.polygons.connectorColors[me]:h.polygons.connectorColors);ct.push(De)}0===me&&h.yaxisLabelsTextsPos.push({x:le.x,y:le.y}),qt+=le.x+","+le.y+" "}),J.push(qt)}),J.forEach(function(yt,Vt){var Ht=h.polygons.strokeColors,qt=h.polygons.strokeWidth,le=h.graphics.drawPolygon(yt,Array.isArray(Ht)?Ht[Vt]:Ht,Array.isArray(qt)?qt[Vt]:qt,v.globals.radarPolygons.fill.colors[Vt]);_.add(le)}),ct.forEach(function(yt){_.add(yt)}),v.config.yaxis[0].show&&this.yaxisLabelsTextsPos.forEach(function(yt,Vt){var Ht=A.drawYAxisTexts(yt.x,yt.y,Vt,P[Vt]);h.yaxisLabels.add(Ht)})}},{key:"drawXAxisTexts",value:function(){var c=this,h=this.w,v=h.config.xaxis.labels,_=this.graphics.group({class:"apexcharts-xaxis"}),A=lt.getPolygonPos(this.size,this.dataPointsLen);return h.globals.labels.forEach(function(P,E){var F=h.config.xaxis.labels.formatter,W=new Ne(c.ctx);if(A[E]){var K=c.getTextPos(A[E],c.size),J=F(P,{seriesIndex:-1,dataPointIndex:E,w:h});W.plotDataLabelsText({x:K.newX,y:K.newY,text:J,textAnchor:K.textAnchor,i:E,j:E,parent:_,color:Array.isArray(v.style.colors)&&v.style.colors[E]?v.style.colors[E]:"#a8a8a8",dataLabelsConfig:Wt({textAnchor:K.textAnchor,dropShadow:{enabled:!1}},v),offsetCorrection:!1})}}),_}},{key:"createPaths",value:function(c,h){var v=this,_=[],A=[],P=[],E=[];if(c.length){A=[this.graphics.move(h.x,h.y)],E=[this.graphics.move(h.x,h.y)];var F=this.graphics.move(c[0].x,c[0].y),W=this.graphics.move(c[0].x,c[0].y);c.forEach(function(K,J){F+=v.graphics.line(K.x,K.y),W+=v.graphics.line(K.x,K.y),J===c.length-1&&(F+="Z",W+="Z")}),_.push(F),P.push(W)}return{linePathsFrom:A,linePathsTo:_,areaPathsFrom:E,areaPathsTo:P}}},{key:"getTextPos",value:function(c,h){var v="middle",_=c.x,A=c.y;return Math.abs(c.x)>=10?c.x>0?(v="start",_+=10):c.x<0&&(v="end",_-=10):v="middle",Math.abs(c.y)>=h-10&&(c.y<0?A-=10:c.y>0&&(A+=10)),{textAnchor:v,newX:_,newY:A}}},{key:"getPreviousPath",value:function(c){for(var h=this.w,v=null,_=0;_<h.globals.previousPaths.length;_++){var A=h.globals.previousPaths[_];A.paths.length>0&&parseInt(A.realIndex,10)===parseInt(c,10)&&void 0!==h.globals.previousPaths[_].paths[0]&&(v=h.globals.previousPaths[_].paths[0].d)}return v}},{key:"getDataPointsPos",value:function(c,h){var v=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.dataPointsLen;c=c||[],h=h||[];for(var _=[],A=0;A<v;A++){var P={};P.x=c[A]*Math.sin(h[A]),P.y=-c[A]*Math.cos(h[A]),_.push(P)}return _}}]),ae}(),Yi=function(ae){Ft(h,ae);var c=ft(h);function h(v){var _;$t(this,h),(_=c.call(this,v)).ctx=v,_.w=v.w,_.animBeginArr=[0],_.animDur=0;var A=_.w;return _.startAngle=A.config.plotOptions.radialBar.startAngle,_.endAngle=A.config.plotOptions.radialBar.endAngle,_.totalAngle=Math.abs(A.config.plotOptions.radialBar.endAngle-A.config.plotOptions.radialBar.startAngle),_.trackStartAngle=A.config.plotOptions.radialBar.track.startAngle,_.trackEndAngle=A.config.plotOptions.radialBar.track.endAngle,_.donutDataLabels=_.w.config.plotOptions.radialBar.dataLabels,_.radialDataLabels=_.donutDataLabels,_.trackStartAngle||(_.trackStartAngle=_.startAngle),_.trackEndAngle||(_.trackEndAngle=_.endAngle),360===_.endAngle&&(_.endAngle=359.99),_.margin=parseInt(A.config.plotOptions.radialBar.track.margin,10),_}return ee(h,[{key:"draw",value:function(v){var _=this.w,A=new ot(this.ctx),P=A.group({class:"apexcharts-radialbar"});if(_.globals.noData)return P;var E=A.group(),F=this.defaultSize/2,W=_.globals.gridWidth/2,K=this.defaultSize/2.05;_.config.chart.sparkline.enabled||(K=K-_.config.stroke.width-_.config.chart.dropShadow.blur);var J=_.globals.fill.colors;if(_.config.plotOptions.radialBar.track.show){var ct=this.drawTracks({size:K,centerX:W,centerY:F,colorArr:J,series:v});E.add(ct)}var yt=this.drawArcs({size:K,centerX:W,centerY:F,colorArr:J,series:v}),Vt=360;_.config.plotOptions.radialBar.startAngle<0&&(Vt=this.totalAngle);var Ht=(360-Vt)/360;if(_.globals.radialSize=K-K*Ht,this.radialDataLabels.value.show){var qt=Math.max(this.radialDataLabels.value.offsetY,this.radialDataLabels.name.offsetY);_.globals.radialSize+=qt*Ht}return E.add(yt.g),"front"===_.config.plotOptions.radialBar.hollow.position&&(yt.g.add(yt.elHollow),yt.dataLabels&&yt.g.add(yt.dataLabels)),P.add(E),P}},{key:"drawTracks",value:function(v){var _=this.w,A=new ot(this.ctx),P=A.group({class:"apexcharts-tracks"}),E=new xt(this.ctx),F=new Dt(this.ctx),W=this.getStrokeWidth(v);v.size=v.size-W/2;for(var K=0;K<v.series.length;K++){var J=A.group({class:"apexcharts-radialbar-track apexcharts-track"});P.add(J),J.attr({rel:K+1}),v.size=v.size-W-this.margin;var ct=_.config.plotOptions.radialBar.track,yt=F.fillPath({seriesNumber:0,size:v.size,fillColors:Array.isArray(ct.background)?ct.background[K]:ct.background,solid:!0}),Vt=this.trackStartAngle,Ht=this.trackEndAngle;Math.abs(Ht)+Math.abs(Vt)>=360&&(Ht=360-Math.abs(this.startAngle)-.1);var qt=A.drawPath({d:"",stroke:yt,strokeWidth:W*parseInt(ct.strokeWidth,10)/100,fill:"none",strokeOpacity:ct.opacity,classes:"apexcharts-radialbar-area"});ct.dropShadow.enabled&&E.dropShadow(qt,ct.dropShadow),J.add(qt),qt.attr("id","apexcharts-radialbarTrack-"+K),this.animatePaths(qt,{centerX:v.centerX,centerY:v.centerY,endAngle:Ht,startAngle:Vt,size:v.size,i:K,totalItems:2,animBeginArr:0,dur:0,isTrack:!0,easing:_.globals.easing})}return P}},{key:"drawArcs",value:function(v){var _=this.w,A=new ot(this.ctx),P=new Dt(this.ctx),E=new xt(this.ctx),F=A.group(),W=this.getStrokeWidth(v);v.size=v.size-W/2;var K=_.config.plotOptions.radialBar.hollow.background,J=v.size-W*v.series.length-this.margin*v.series.length-W*parseInt(_.config.plotOptions.radialBar.track.strokeWidth,10)/100/2,ct=J-_.config.plotOptions.radialBar.hollow.margin;void 0!==_.config.plotOptions.radialBar.hollow.image&&(K=this.drawHollowImage(v,F,J,K));var yt=this.drawHollow({size:ct,centerX:v.centerX,centerY:v.centerY,fill:K||"transparent"});_.config.plotOptions.radialBar.hollow.dropShadow.enabled&&E.dropShadow(yt,_.config.plotOptions.radialBar.hollow.dropShadow);var Ht=1;!this.radialDataLabels.total.show&&_.globals.series.length>1&&(Ht=0);var qt=null;this.radialDataLabels.show&&(qt=this.renderInnerDataLabels(this.radialDataLabels,{hollowSize:J,centerX:v.centerX,centerY:v.centerY,opacity:Ht})),"back"===_.config.plotOptions.radialBar.hollow.position&&(F.add(yt),qt&&F.add(qt));var le=!1;_.config.plotOptions.radialBar.inverseOrder&&(le=!0);for(var me=le?v.series.length-1:0;le?me>=0:me<v.series.length;le?me--:me++){var De=A.group({class:"apexcharts-series apexcharts-radial-series",seriesName:lt.escapeString(_.globals.seriesNames[me])});F.add(De),De.attr({rel:me+1,"data:realIndex":me}),this.ctx.series.addCollapsedClassToSeries(De,me),v.size=v.size-W-this.margin;var j=P.fillPath({seriesNumber:me,size:v.size,value:v.series[me]}),ut=this.startAngle,Zt=void 0,he=lt.negToZero(v.series[me]>100?100:v.series[me])/100,Ue=Math.round(this.totalAngle*he)+this.startAngle,kn=void 0;_.globals.dataChanged&&(Zt=this.startAngle,kn=Math.round(this.totalAngle*lt.negToZero(_.globals.previousPaths[me])/100)+Zt),Math.abs(Ue)+Math.abs(ut)>=360&&(Ue-=.01),Math.abs(kn)+Math.abs(Zt)>=360&&(kn-=.01);var rn=Ue-ut,Kn=Array.isArray(_.config.stroke.dashArray)?_.config.stroke.dashArray[me]:_.config.stroke.dashArray,zn=A.drawPath({d:"",stroke:j,strokeWidth:W,fill:"none",fillOpacity:_.config.fill.opacity,classes:"apexcharts-radialbar-area apexcharts-radialbar-slice-"+me,strokeDashArray:Kn});ot.setAttrs(zn.node,{"data:angle":rn,"data:value":v.series[me]}),_.config.chart.dropShadow.enabled&&E.dropShadow(zn,_.config.chart.dropShadow,me),E.setSelectionFilter(zn,0,me),this.addListeners(zn,this.radialDataLabels),De.add(zn),zn.attr({index:0,j:me});var Mi=0;!this.initialAnim||_.globals.resized||_.globals.dataChanged||(this.animDur=(Mi=(Ue-ut)/360*_.config.chart.animations.speed)/(1.2*v.series.length)+this.animDur,this.animBeginArr.push(this.animDur)),_.globals.dataChanged&&(this.animDur=(Mi=(Ue-ut)/360*_.config.chart.animations.dynamicAnimation.speed)/(1.2*v.series.length)+this.animDur,this.animBeginArr.push(this.animDur)),this.animatePaths(zn,{centerX:v.centerX,centerY:v.centerY,endAngle:Ue,startAngle:ut,prevEndAngle:kn,prevStartAngle:Zt,size:v.size,i:me,totalItems:2,animBeginArr:this.animBeginArr,dur:Mi,shouldSetPrevPaths:!0,easing:_.globals.easing})}return{g:F,elHollow:yt,dataLabels:qt}}},{key:"drawHollow",value:function(v){var _=new ot(this.ctx).drawCircle(2*v.size);return _.attr({class:"apexcharts-radialbar-hollow",cx:v.centerX,cy:v.centerY,r:v.size,fill:v.fill}),_}},{key:"drawHollowImage",value:function(v,_,A,P){var E=this.w,F=new Dt(this.ctx),W=lt.randomId(),K=E.config.plotOptions.radialBar.hollow.image;if(E.config.plotOptions.radialBar.hollow.imageClipped)F.clippedImgArea({width:A,height:A,image:K,patternID:"pattern".concat(E.globals.cuid).concat(W)}),P="url(#pattern".concat(E.globals.cuid).concat(W,")");else{var J=E.config.plotOptions.radialBar.hollow.imageWidth,ct=E.config.plotOptions.radialBar.hollow.imageHeight;if(void 0===J&&void 0===ct){var yt=E.globals.dom.Paper.image(K).loaded(function(Ht){this.move(v.centerX-Ht.width/2+E.config.plotOptions.radialBar.hollow.imageOffsetX,v.centerY-Ht.height/2+E.config.plotOptions.radialBar.hollow.imageOffsetY)});_.add(yt)}else{var Vt=E.globals.dom.Paper.image(K).loaded(function(Ht){this.move(v.centerX-J/2+E.config.plotOptions.radialBar.hollow.imageOffsetX,v.centerY-ct/2+E.config.plotOptions.radialBar.hollow.imageOffsetY),this.size(J,ct)});_.add(Vt)}}return P}},{key:"getStrokeWidth",value:function(v){return v.size*(100-parseInt(this.w.config.plotOptions.radialBar.hollow.size,10))/100/(v.series.length+1)-this.margin}}]),h}(Lr),Vo=function(){function ae(c){$t(this,ae),this.w=c.w,this.lineCtx=c}return ee(ae,[{key:"sameValueSeriesFix",value:function(c,h){var v=this.w;if("line"===v.config.chart.type&&("gradient"===v.config.fill.type||"gradient"===v.config.fill.type[c])&&new Ut(this.lineCtx.ctx,v).seriesHaveSameValues(c)){var _=h[c].slice();_[_.length-1]=_[_.length-1]+1e-6,h[c]=_}return h}},{key:"calculatePoints",value:function(c){var h=c.series,_=c.x,A=c.y,P=c.i,E=c.j,F=c.prevY,W=this.w,K=[],J=[];if(0===E){var ct=this.lineCtx.categoryAxisCorrection+W.config.markers.offsetX;W.globals.isXNumeric&&(ct=(W.globals.seriesX[c.realIndex][0]-W.globals.minX)/this.lineCtx.xRatio+W.config.markers.offsetX),K.push(ct),J.push(lt.isNumber(h[P][0])?F+W.config.markers.offsetY:null),K.push(_+W.config.markers.offsetX),J.push(lt.isNumber(h[P][E+1])?A+W.config.markers.offsetY:null)}else K.push(_+W.config.markers.offsetX),J.push(lt.isNumber(h[P][E+1])?A+W.config.markers.offsetY:null);return{x:K,y:J}}},{key:"checkPreviousPaths",value:function(c){for(var h=c.pathFromLine,v=c.pathFromArea,_=c.realIndex,A=this.w,P=0;P<A.globals.previousPaths.length;P++){var E=A.globals.previousPaths[P];("line"===E.type||"area"===E.type)&&E.paths.length>0&&parseInt(E.realIndex,10)===parseInt(_,10)&&("line"===E.type?(this.lineCtx.appendPathFrom=!1,h=A.globals.previousPaths[P].paths[0].d):"area"===E.type&&(this.lineCtx.appendPathFrom=!1,v=A.globals.previousPaths[P].paths[0].d,A.config.stroke.show&&A.globals.previousPaths[P].paths[1]&&(h=A.globals.previousPaths[P].paths[1].d)))}return{pathFromLine:h,pathFromArea:v}}},{key:"determineFirstPrevY",value:function(c){var h=c.i,v=c.series,_=c.prevY,A=c.lineYPosition,P=this.w;if(void 0!==v[h][0])_=(A=P.config.chart.stacked&&h>0?this.lineCtx.prevSeriesY[h-1][0]:this.lineCtx.zeroY)-v[h][0]/this.lineCtx.yRatio[this.lineCtx.yaxisIndex]+2*(this.lineCtx.isReversed?v[h][0]/this.lineCtx.yRatio[this.lineCtx.yaxisIndex]:0);else if(P.config.chart.stacked&&h>0&&void 0===v[h][0])for(var E=h-1;E>=0;E--)if(null!=v[E][0]){_=A=this.lineCtx.prevSeriesY[E][0];break}return{prevY:_,lineYPosition:A}}}]),ae}(),gi=function(){function ae(c,h,v){$t(this,ae),this.ctx=c,this.w=c.w,this.xyRatios=h,this.pointsChart=!("bubble"!==this.w.config.chart.type&&"scatter"!==this.w.config.chart.type)||v,this.scatter=new Pe(this.ctx),this.noNegatives=this.w.globals.minX===Number.MAX_VALUE,this.lineHelpers=new Vo(this),this.markers=new se(this.ctx),this.prevSeriesY=[],this.categoryAxisCorrection=0,this.yaxisIndex=0}return ee(ae,[{key:"draw",value:function(c,h,v){var _=this.w,A=new ot(this.ctx),P=_.globals.comboCharts?h:_.config.chart.type,E=A.group({class:"apexcharts-".concat(P,"-series apexcharts-plot-series")}),F=new Ut(this.ctx,_);this.yRatio=this.xyRatios.yRatio,this.zRatio=this.xyRatios.zRatio,this.xRatio=this.xyRatios.xRatio,this.baseLineY=this.xyRatios.baseLineY,c=F.getLogSeries(c),this.yRatio=F.getLogYRatios(this.yRatio);for(var W=[],K=0;K<c.length;K++){c=this.lineHelpers.sameValueSeriesFix(K,c);var J=_.globals.comboCharts?v[K]:K;this._initSerieVariables(c,K,J);var ct=[],yt=[],Vt=_.globals.padHorizontal+this.categoryAxisCorrection;this.ctx.series.addCollapsedClassToSeries(this.elSeries,J),_.globals.isXNumeric&&_.globals.seriesX.length>0&&(Vt=(_.globals.seriesX[J][0]-_.globals.minX)/this.xRatio),yt.push(Vt);var Ht,qt=Vt,le=qt,me=this.zeroY;me=this.lineHelpers.determineFirstPrevY({i:K,series:c,prevY:me,lineYPosition:0}).prevY,ct.push(me),Ht=me;var De=this._calculatePathsFrom({series:c,i:K,realIndex:J,prevX:le,prevY:me}),j=this._iterateOverDataPoints({series:c,realIndex:J,i:K,x:Vt,y:1,pX:qt,pY:Ht,pathsFrom:De,linePaths:[],areaPaths:[],seriesIndex:v,lineYPosition:0,xArrj:yt,yArrj:ct});this._handlePaths({type:P,realIndex:J,i:K,paths:j}),this.elSeries.add(this.elPointsMain),this.elSeries.add(this.elDataLabelsWrap),W.push(this.elSeries)}if(_.config.chart.stacked)for(var ut=W.length;ut>0;ut--)E.add(W[ut-1]);else for(var Zt=0;Zt<W.length;Zt++)E.add(W[Zt]);return E}},{key:"_initSerieVariables",value:function(c,h,v){var _=this.w,A=new ot(this.ctx);this.xDivision=_.globals.gridWidth/(_.globals.dataPoints-("on"===_.config.xaxis.tickPlacement?1:0)),this.strokeWidth=Array.isArray(_.config.stroke.width)?_.config.stroke.width[v]:_.config.stroke.width,this.yRatio.length>1&&(this.yaxisIndex=v),this.isReversed=_.config.yaxis[this.yaxisIndex]&&_.config.yaxis[this.yaxisIndex].reversed,this.zeroY=_.globals.gridHeight-this.baseLineY[this.yaxisIndex]-(this.isReversed?_.globals.gridHeight:0)+(this.isReversed?2*this.baseLineY[this.yaxisIndex]:0),this.areaBottomY=this.zeroY,(this.zeroY>_.globals.gridHeight||"end"===_.config.plotOptions.area.fillTo)&&(this.areaBottomY=_.globals.gridHeight),this.categoryAxisCorrection=this.xDivision/2,this.elSeries=A.group({class:"apexcharts-series",seriesName:lt.escapeString(_.globals.seriesNames[v])}),this.elPointsMain=A.group({class:"apexcharts-series-markers-wrap","data:realIndex":v}),this.elDataLabelsWrap=A.group({class:"apexcharts-datalabels","data:realIndex":v}),this.elSeries.attr({"data:longestSeries":c[h].length===_.globals.dataPoints,rel:h+1,"data:realIndex":v}),this.appendPathFrom=!0}},{key:"_calculatePathsFrom",value:function(c){var h,v,_,A,P=c.series,E=c.i,F=c.realIndex,W=c.prevX,K=c.prevY,J=this.w,ct=new ot(this.ctx);if(null===P[E][0]){for(var yt=0;yt<P[E].length;yt++)if(null!==P[E][yt]){h=ct.move(W=this.xDivision*yt,K=this.zeroY-P[E][yt]/this.yRatio[this.yaxisIndex]),v=ct.move(W,this.areaBottomY);break}}else h=ct.move(W,K),v=ct.move(W,this.areaBottomY)+ct.line(W,K);if(_=ct.move(-1,this.zeroY)+ct.line(-1,this.zeroY),A=ct.move(-1,this.zeroY)+ct.line(-1,this.zeroY),J.globals.previousPaths.length>0){var Vt=this.lineHelpers.checkPreviousPaths({pathFromLine:_,pathFromArea:A,realIndex:F});_=Vt.pathFromLine,A=Vt.pathFromArea}return{prevX:W,prevY:K,linePath:h,areaPath:v,pathFromLine:_,pathFromArea:A}}},{key:"_handlePaths",value:function(c){var h=c.type,v=c.realIndex,_=c.i,A=c.paths,P=this.w,E=new ot(this.ctx),F=new Dt(this.ctx);this.prevSeriesY.push(A.yArrj),P.globals.seriesXvalues[v]=A.xArrj,P.globals.seriesYvalues[v]=A.yArrj;var W=P.config.forecastDataPoints;if(W.count>0){var K=P.globals.seriesXvalues[v][P.globals.seriesXvalues[v].length-W.count-1],J=E.drawRect(K,0,P.globals.gridWidth,P.globals.gridHeight,0);P.globals.dom.elForecastMask.appendChild(J.node);var ct=E.drawRect(0,0,K,P.globals.gridHeight,0);P.globals.dom.elNonForecastMask.appendChild(ct.node)}this.pointsChart||P.globals.delayedElements.push({el:this.elPointsMain.node,index:v});var yt={i:_,realIndex:v,animationDelay:_,initialSpeed:P.config.chart.animations.speed,dataChangeSpeed:P.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(h)};if("area"===h)for(var Vt=F.fillPath({seriesNumber:v}),Ht=0;Ht<A.areaPaths.length;Ht++){var qt=E.renderPaths(Wt(Wt({},yt),{},{pathFrom:A.pathFromArea,pathTo:A.areaPaths[Ht],stroke:"none",strokeWidth:0,strokeLineCap:null,fill:Vt}));this.elSeries.add(qt)}if(P.config.stroke.show&&!this.pointsChart){var le;le="line"===h?F.fillPath({seriesNumber:v,i:_}):P.globals.stroke.colors[v];for(var me=0;me<A.linePaths.length;me++){var De=Wt(Wt({},yt),{},{pathFrom:A.pathFromLine,pathTo:A.linePaths[me],stroke:le,strokeWidth:this.strokeWidth,strokeLineCap:P.config.stroke.lineCap,fill:"none"}),j=E.renderPaths(De);if(this.elSeries.add(j),W.count>0){var ut=E.renderPaths(De);ut.node.setAttribute("stroke-dasharray",W.dashArray),W.strokeWidth&&ut.node.setAttribute("stroke-width",W.strokeWidth),this.elSeries.add(ut),ut.attr("clip-path","url(#forecastMask".concat(P.globals.cuid,")")),j.attr("clip-path","url(#nonForecastMask".concat(P.globals.cuid,")"))}}}}},{key:"_iterateOverDataPoints",value:function(c){for(var h=c.series,v=c.realIndex,_=c.i,A=c.x,P=c.y,E=c.pX,F=c.pY,W=c.pathsFrom,K=c.linePaths,J=c.areaPaths,ct=c.seriesIndex,yt=c.lineYPosition,Vt=c.xArrj,Ht=c.yArrj,qt=this.w,le=new ot(this.ctx),me=this.yRatio,De=W.prevY,j=W.linePath,ut=W.areaPath,Zt=W.pathFromLine,he=W.pathFromArea,Ue=lt.isNumber(qt.globals.minYArr[v])?qt.globals.minYArr[v]:qt.globals.minY,kn=qt.globals.dataPoints>1?qt.globals.dataPoints-1:qt.globals.dataPoints,rn=0;rn<kn;rn++){var Kn=null==h[_][rn+1];if(qt.globals.isXNumeric){var zn=qt.globals.seriesX[v][rn+1];void 0===qt.globals.seriesX[v][rn+1]&&(zn=qt.globals.seriesX[v][kn-1]),A=(zn-qt.globals.minX)/this.xRatio}else A+=this.xDivision;yt=qt.config.chart.stacked&&_>0&&qt.globals.collapsedSeries.length<qt.config.series.length-1?this.prevSeriesY[function(Ki){for(var Qi=Ki,Ur=0;Ur<qt.globals.series.length;Ur++)if(qt.globals.collapsedSeriesIndices.indexOf(Ki)>-1){Qi--;break}return Qi>=0?Qi:0}(_-1)][rn+1]:this.zeroY,P=Kn?yt-Ue/me[this.yaxisIndex]+2*(this.isReversed?Ue/me[this.yaxisIndex]:0):yt-h[_][rn+1]/me[this.yaxisIndex]+2*(this.isReversed?h[_][rn+1]/me[this.yaxisIndex]:0),Vt.push(A),Ht.push(P);var ai=this.lineHelpers.calculatePoints({series:h,x:A,y:P,realIndex:v,i:_,j:rn,prevY:De}),Mi=this._createPaths({series:h,i:_,realIndex:v,j:rn,x:A,y:P,pX:E,pY:F,linePath:j,areaPath:ut,linePaths:K,areaPaths:J,seriesIndex:ct});J=Mi.areaPaths,K=Mi.linePaths,E=Mi.pX,F=Mi.pY,ut=Mi.areaPath,j=Mi.linePath,this.appendPathFrom&&(Zt+=le.line(A,this.zeroY),he+=le.line(A,this.zeroY)),this.handleNullDataPoints(h,ai,_,rn,v),this._handleMarkersAndLabels({pointsPos:ai,series:h,x:A,y:P,prevY:De,i:_,j:rn,realIndex:v})}return{yArrj:Ht,xArrj:Vt,pathFromArea:he,areaPaths:J,pathFromLine:Zt,linePaths:K}}},{key:"_handleMarkersAndLabels",value:function(c){var h=c.pointsPos,v=c.i,_=c.j,A=c.realIndex,P=this.w,E=new Ne(this.ctx);if(this.pointsChart)this.scatter.draw(this.elSeries,_,{realIndex:A,pointsPos:h,zRatio:this.zRatio,elParent:this.elPointsMain});else{P.globals.series[v].length>1&&this.elPointsMain.node.classList.add("apexcharts-element-hidden");var F=this.markers.plotChartMarkers(h,A,_+1);null!==F&&this.elPointsMain.add(F)}var W=E.drawDataLabel(h,A,_+1,null);null!==W&&this.elDataLabelsWrap.add(W)}},{key:"_createPaths",value:function(c){var h=c.series,v=c.i,_=c.realIndex,A=c.j,P=c.x,E=c.y,F=c.pX,W=c.pY,K=c.linePath,J=c.areaPath,ct=c.linePaths,yt=c.areaPaths,Vt=c.seriesIndex,Ht=this.w,qt=new ot(this.ctx),le=Ht.config.stroke.curve,me=this.areaBottomY;if(Array.isArray(Ht.config.stroke.curve)&&(le=Array.isArray(Vt)?Ht.config.stroke.curve[Vt[v]]:Ht.config.stroke.curve[v]),"smooth"===le){var De=.35*(P-F);Ht.globals.hasNullValues?(null!==h[v][A]&&(null!==h[v][A+1]?(K=qt.move(F,W)+qt.curve(F+De,W,P-De,E,P+1,E),J=qt.move(F+1,W)+qt.curve(F+De,W,P-De,E,P+1,E)+qt.line(P,me)+qt.line(F,me)+"z"):(K=qt.move(F,W),J=qt.move(F,W)+"z")),ct.push(K),yt.push(J)):(K+=qt.curve(F+De,W,P-De,E,P,E),J+=qt.curve(F+De,W,P-De,E,P,E)),F=P,W=E,A===h[v].length-2&&(J=J+qt.curve(F,W,P,E,P,me)+qt.move(P,E)+"z",Ht.globals.hasNullValues||(ct.push(K),yt.push(J)))}else null===h[v][A+1]&&(K+=qt.move(P,E),J=J+qt.line(Ht.globals.isXNumeric?(Ht.globals.seriesX[_][A]-Ht.globals.minX)/this.xRatio:P-this.xDivision,me)+qt.move(P,E)+"z"),null===h[v][A]&&(K+=qt.move(P,E),J+=qt.move(P,me)),"stepline"===le?(K=K+qt.line(P,null,"H")+qt.line(null,E,"V"),J=J+qt.line(P,null,"H")+qt.line(null,E,"V")):"straight"===le&&(K+=qt.line(P,E),J+=qt.line(P,E)),A===h[v].length-2&&(J=J+qt.line(P,me)+qt.move(P,E)+"z",ct.push(K),yt.push(J));return{linePaths:ct,areaPaths:yt,pX:F,pY:W,linePath:K,areaPath:J}}},{key:"handleNullDataPoints",value:function(c,h,v,_,A){var P=this.w;if(null===c[v][_]&&P.config.markers.showNullDataPoints||1===c[v].length){var E=this.markers.plotChartMarkers(h,A,_+1,this.strokeWidth-P.config.markers.strokeWidth/2,!0);null!==E&&this.elPointsMain.add(E)}}}]),ae}();window.TreemapSquared={},window.TreemapSquared.generate=function(){function ae(E,F,W,K){this.xoffset=E,this.yoffset=F,this.height=K,this.width=W,this.shortestEdge=function(){return Math.min(this.height,this.width)},this.getCoordinates=function(J){var ct,yt=[],Vt=this.xoffset,Ht=this.yoffset,qt=A(J)/this.height,le=A(J)/this.width;if(this.width>=this.height)for(ct=0;ct<J.length;ct++)yt.push([Vt,Ht,Vt+qt,Ht+J[ct]/qt]),Ht+=J[ct]/qt;else for(ct=0;ct<J.length;ct++)yt.push([Vt,Ht,Vt+J[ct]/le,Ht+le]),Vt+=J[ct]/le;return yt},this.cutArea=function(J){var ct;if(this.width>=this.height){var yt=J/this.height;ct=new ae(this.xoffset+yt,this.yoffset,this.width-yt,this.height)}else{var Ht=J/this.width;ct=new ae(this.xoffset,this.yoffset+Ht,this.width,this.height-Ht)}return ct}}function c(E,F,W,K,J){return K=void 0===K?0:K,J=void 0===J?0:J,function(ct){var yt,Vt,Ht=[];for(yt=0;yt<ct.length;yt++)for(Vt=0;Vt<ct[yt].length;Vt++)Ht.push(ct[yt][Vt]);return Ht}(h(function(ct,yt){var Vt,Ht=[],qt=yt/A(ct);for(Vt=0;Vt<ct.length;Vt++)Ht[Vt]=ct[Vt]*qt;return Ht}(E,F*W),[],new ae(K,J,F,W),[]))}function h(E,F,W,K){var J,ct,yt,Vt,Ht,qt,le;if(0!==E.length)return J=W.shortestEdge(),Ht=ct=E[0],qt=J,0===(Vt=F).length||((le=Vt.slice()).push(Ht),v(Vt,qt)>=v(le,qt))?(F.push(ct),h(E.slice(1),F,W,K)):(yt=W.cutArea(A(F),K),K.push(W.getCoordinates(F)),h(E,[],yt,K)),K;K.push(W.getCoordinates(F))}function v(E,F){var W=Math.min.apply(Math,E),K=Math.max.apply(Math,E),J=A(E);return Math.max(Math.pow(F,2)*K/Math.pow(J,2),Math.pow(J,2)/(Math.pow(F,2)*W))}function _(E){return E&&E.constructor===Array}function A(E){var F,W=0;for(F=0;F<E.length;F++)W+=E[F];return W}function P(E){var F,W=0;if(_(E[0]))for(F=0;F<E.length;F++)W+=P(E[F]);else W=A(E);return W}return function E(F,W,K,J,ct){J=void 0===J?0:J,ct=void 0===ct?0:ct;var yt,Vt,Ht=[],qt=[];if(_(F[0])){for(Vt=0;Vt<F.length;Vt++)Ht[Vt]=P(F[Vt]);for(yt=c(Ht,W,K,J,ct),Vt=0;Vt<F.length;Vt++)qt.push(E(F[Vt],yt[Vt][2]-yt[Vt][0],yt[Vt][3]-yt[Vt][1],yt[Vt][0],yt[Vt][1]))}else qt=c(F,W,K,J,ct);return qt}}();var oo,Oa,Na=function(){function ae(c,h){$t(this,ae),this.ctx=c,this.w=c.w,this.strokeWidth=this.w.config.stroke.width,this.helpers=new Xs(c),this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.labels=[]}return ee(ae,[{key:"draw",value:function(c){var h=this,v=this.w,_=new ot(this.ctx),A=new Dt(this.ctx),P=_.group({class:"apexcharts-treemap"});if(v.globals.noData)return P;var E=[];return c.forEach(function(F){var W=F.map(function(K){return Math.abs(K)});E.push(W)}),this.negRange=this.helpers.checkColorRange(),v.config.series.forEach(function(F,W){F.data.forEach(function(K){Array.isArray(h.labels[W])||(h.labels[W]=[]),h.labels[W].push(K.x)})}),window.TreemapSquared.generate(E,v.globals.gridWidth,v.globals.gridHeight).forEach(function(F,W){var K=_.group({class:"apexcharts-series apexcharts-treemap-series",seriesName:lt.escapeString(v.globals.seriesNames[W]),rel:W+1,"data:realIndex":W});if(v.config.chart.dropShadow.enabled){var J=v.config.chart.dropShadow;new xt(h.ctx).dropShadow(P,J,W)}var ct=_.group({class:"apexcharts-data-labels"});F.forEach(function(yt,Vt){var Ht=yt[0],qt=yt[1],le=yt[2],me=yt[3],De=_.drawRect(Ht,qt,le-Ht,me-qt,0,"#fff",1,h.strokeWidth,v.config.plotOptions.treemap.useFillColorAsStroke?ut:v.globals.stroke.colors[W]);De.attr({cx:Ht,cy:qt,index:W,i:W,j:Vt,width:le-Ht,height:me-qt});var j=h.helpers.getShadeColor(v.config.chart.type,W,Vt,h.negRange),ut=j.color;void 0!==v.config.series[W].data[Vt]&&v.config.series[W].data[Vt].fillColor&&(ut=v.config.series[W].data[Vt].fillColor);var Zt=A.fillPath({color:ut,seriesNumber:W,dataPointIndex:Vt});De.node.classList.add("apexcharts-treemap-rect"),De.attr({fill:Zt}),h.helpers.addListeners(De);var he={x:Ht+(le-Ht)/2,y:qt+(me-qt)/2,width:0,height:0},Ue={x:Ht,y:qt,width:le-Ht,height:me-qt};if(v.config.chart.animations.enabled&&!v.globals.dataChanged){var kn=1;v.globals.resized||(kn=v.config.chart.animations.speed),h.animateTreemap(De,he,Ue,kn)}v.globals.dataChanged&&h.dynamicAnim.enabled&&v.globals.shouldAnimate&&(v.globals.previousPaths[W]&&v.globals.previousPaths[W][Vt]&&v.globals.previousPaths[W][Vt].rect&&(he=v.globals.previousPaths[W][Vt].rect),h.animateTreemap(De,he,Ue,h.dynamicAnim.speed));var Kn=h.getFontSize(yt),zn=v.config.dataLabels.formatter(h.labels[W][Vt],{value:v.globals.series[W][Vt],seriesIndex:W,dataPointIndex:Vt,w:v}),ai=h.helpers.calculateDataLabels({text:zn,x:(Ht+le)/2,y:(qt+me)/2+h.strokeWidth/2+Kn/3,i:W,j:Vt,colorProps:j,fontSize:Kn,series:c});v.config.dataLabels.enabled&&ai&&h.rotateToFitLabel(ai,zn,Ht,qt,le,me),K.add(De),null!==ai&&K.add(ai)}),K.add(ct),P.add(K)}),P}},{key:"getFontSize",value:function(c){var P,h=this.w,E=function F(W){var K,J=0;if(Array.isArray(W[0]))for(K=0;K<W.length;K++)J+=F(W[K]);else for(K=0;K<W.length;K++)J+=W[K].length;return J}(this.labels)/function F(W){var K,J=0;if(Array.isArray(W[0]))for(K=0;K<W.length;K++)J+=F(W[K]);else for(K=0;K<W.length;K++)J+=1;return J}(this.labels);return P=Math.pow((c[2]-c[0])*(c[3]-c[1]),.5),Math.min(P/E,parseInt(h.config.dataLabels.style.fontSize,10))}},{key:"rotateToFitLabel",value:function(c,h,v,_,A,P){var E=new ot(this.ctx),F=E.getTextRects(h);if(F.width+5>A-v&&F.width<=P-_){var W=E.rotateAroundCenter(c.node);c.node.setAttribute("transform","rotate(-90 ".concat(W.x," ").concat(W.y,")"))}}},{key:"animateTreemap",value:function(c,h,v,_){var A=new _t(this.ctx);A.animateRect(c,{x:h.x,y:h.y,width:h.width,height:h.height},{x:v.x,y:v.y,width:v.width,height:v.height},_,function(){A.animationCompleted(c)})}}]),ae}(),pu=function(){function ae(c){$t(this,ae),this.ctx=c,this.w=c.w,this.timeScaleArray=[],this.utc=this.w.config.xaxis.labels.datetimeUTC}return ee(ae,[{key:"calculateTimeScaleTicks",value:function(c,h){var v=this,_=this.w;if(_.globals.allSeriesCollapsed)return _.globals.labels=[],_.globals.timescaleLabels=[],[];var A=new zt(this.ctx),P=(h-c)/864e5;this.determineInterval(P),_.globals.disableZoomIn=!1,_.globals.disableZoomOut=!1,P<.00011574074074074075?_.globals.disableZoomIn=!0:P>5e4&&(_.globals.disableZoomOut=!0);var E=A.getTimeUnitsfromTimestamp(c,h,this.utc),F=_.globals.gridWidth/P,W=F/24,K=W/60,J=K/60,ct=Math.floor(24*P),yt=Math.floor(1440*P),Vt=Math.floor(86400*P),Ht=Math.floor(P),qt=Math.floor(P/30),le=Math.floor(P/365),me={minMillisecond:E.minMillisecond,minSecond:E.minSecond,minMinute:E.minMinute,minHour:E.minHour,minDate:E.minDate,minMonth:E.minMonth,minYear:E.minYear},De={firstVal:me,currentMillisecond:me.minMillisecond,currentSecond:me.minSecond,currentMinute:me.minMinute,currentHour:me.minHour,currentMonthDate:me.minDate,currentDate:me.minDate,currentMonth:me.minMonth,currentYear:me.minYear,daysWidthOnXAxis:F,hoursWidthOnXAxis:W,minutesWidthOnXAxis:K,secondsWidthOnXAxis:J,numberOfSeconds:Vt,numberOfMinutes:yt,numberOfHours:ct,numberOfDays:Ht,numberOfMonths:qt,numberOfYears:le};switch(this.tickInterval){case"years":this.generateYearScale(De);break;case"months":case"half_year":this.generateMonthScale(De);break;case"months_days":case"months_fortnight":case"days":case"week_days":this.generateDayScale(De);break;case"hours":this.generateHourScale(De);break;case"minutes_fives":case"minutes":this.generateMinuteScale(De);break;case"seconds_tens":case"seconds_fives":case"seconds":this.generateSecondScale(De)}var j=this.timeScaleArray.map(function(ut){var Zt={position:ut.position,unit:ut.unit,year:ut.year,day:ut.day?ut.day:1,hour:ut.hour?ut.hour:0,month:ut.month+1};return"month"===ut.unit?Wt(Wt({},Zt),{},{day:1,value:ut.value+1}):"day"===ut.unit||"hour"===ut.unit?Wt(Wt({},Zt),{},{value:ut.value}):"minute"===ut.unit?Wt(Wt({},Zt),{},{value:ut.value,minute:ut.value}):"second"===ut.unit?Wt(Wt({},Zt),{},{value:ut.value,minute:ut.minute,second:ut.second}):ut});return j.filter(function(ut){var Zt=1,he=Math.ceil(_.globals.gridWidth/120),Ue=ut.value;void 0!==_.config.xaxis.tickAmount&&(he=_.config.xaxis.tickAmount),j.length>he&&(Zt=Math.floor(j.length/he));var kn=!1,rn=!1;switch(v.tickInterval){case"years":"year"===ut.unit&&(kn=!0);break;case"half_year":Zt=7,"year"===ut.unit&&(kn=!0);break;case"months":Zt=1,"year"===ut.unit&&(kn=!0);break;case"months_fortnight":Zt=15,"year"!==ut.unit&&"month"!==ut.unit||(kn=!0),30===Ue&&(rn=!0);break;case"months_days":Zt=10,"month"===ut.unit&&(kn=!0),30===Ue&&(rn=!0);break;case"week_days":Zt=8,"month"===ut.unit&&(kn=!0);break;case"days":Zt=1,"month"===ut.unit&&(kn=!0);break;case"hours":"day"===ut.unit&&(kn=!0);break;case"minutes_fives":case"seconds_fives":Ue%5!=0&&(rn=!0);break;case"seconds_tens":Ue%10!=0&&(rn=!0)}if("hours"===v.tickInterval||"minutes_fives"===v.tickInterval||"seconds_tens"===v.tickInterval||"seconds_fives"===v.tickInterval){if(!rn)return!0}else if((Ue%Zt==0||kn)&&!rn)return!0})}},{key:"recalcDimensionsBasedOnFormat",value:function(c,h){var v=this.w,_=this.formatDates(c),A=this.removeOverlappingTS(_);v.globals.timescaleLabels=A.slice(),new br(this.ctx).plotCoords()}},{key:"determineInterval",value:function(c){var h=24*c,v=60*h;switch(!0){case c/365>5:this.tickInterval="years";break;case c>800:this.tickInterval="half_year";break;case c>180:this.tickInterval="months";break;case c>90:this.tickInterval="months_fortnight";break;case c>60:this.tickInterval="months_days";break;case c>30:this.tickInterval="week_days";break;case c>2:this.tickInterval="days";break;case h>2.4:this.tickInterval="hours";break;case v>15:this.tickInterval="minutes_fives";break;case v>5:this.tickInterval="minutes";break;case v>1:this.tickInterval="seconds_tens";break;case 60*v>20:this.tickInterval="seconds_fives";break;default:this.tickInterval="seconds"}}},{key:"generateYearScale",value:function(c){var h=c.firstVal,v=c.currentMonth,_=c.currentYear,A=c.daysWidthOnXAxis,P=c.numberOfYears,E=h.minYear,F=0,W=new zt(this.ctx),K="year";if(h.minDate>1||h.minMonth>0){var J=W.determineRemainingDaysOfYear(h.minYear,h.minMonth,h.minDate);F=(W.determineDaysOfYear(h.minYear)-J+1)*A,this.timeScaleArray.push({position:F,value:E=h.minYear+1,unit:K,year:E,month:lt.monthMod(v+1)})}else 1===h.minDate&&0===h.minMonth&&this.timeScaleArray.push({position:F,value:E,unit:K,year:_,month:lt.monthMod(v+1)});for(var ct=E,yt=F,Vt=0;Vt<P;Vt++)ct++,yt=W.determineDaysOfYear(ct-1)*A+yt,this.timeScaleArray.push({position:yt,value:ct,unit:K,year:ct,month:1})}},{key:"generateMonthScale",value:function(c){var h=c.firstVal,v=c.currentMonthDate,_=c.currentMonth,A=c.currentYear,P=c.daysWidthOnXAxis,E=c.numberOfMonths,F=_,W=0,K=new zt(this.ctx),J="month",ct=0;if(h.minDate>1){W=(K.determineDaysOfMonths(_+1,h.minYear)-v+1)*P,F=lt.monthMod(_+1);var yt=A+ct,Vt=lt.monthMod(F),Ht=F;0===F&&(J="year",Ht=yt,Vt=1,yt+=ct+=1),this.timeScaleArray.push({position:W,value:Ht,unit:J,year:yt,month:Vt})}else this.timeScaleArray.push({position:W,value:F,unit:J,year:A,month:lt.monthMod(_)});for(var qt=F+1,le=W,me=0,De=1;me<E;me++,De++){0===(qt=lt.monthMod(qt))?(J="year",ct+=1):J="month";var j=this._getYear(A,qt,ct);le=K.determineDaysOfMonths(qt,j)*P+le,this.timeScaleArray.push({position:le,value:0===qt?j:qt,unit:J,year:j,month:0===qt?1:qt}),qt++}}},{key:"generateDayScale",value:function(c){var h=c.firstVal,v=c.currentMonth,_=c.currentYear,A=c.hoursWidthOnXAxis,P=c.numberOfDays,E=new zt(this.ctx),F="day",W=h.minDate+1,K=W,J=function(De,j,ut){return De>E.determineDaysOfMonths(j+1,ut)&&(K=1,F="month",yt=j+=1),j},ct=(24-h.minHour)*A,yt=W,Vt=J(K,v,_);0===h.minHour&&1===h.minDate?(ct=0,yt=lt.monthMod(h.minMonth),F="month",K=h.minDate,P++):1!==h.minDate&&0===h.minHour&&0===h.minMinute&&(ct=0,yt=W=h.minDate,Vt=J(K=W,v,_)),this.timeScaleArray.push({position:ct,value:yt,unit:F,year:this._getYear(_,Vt,0),month:lt.monthMod(Vt),day:K});for(var Ht=ct,qt=0;qt<P;qt++){F="day",Vt=J(K+=1,Vt,this._getYear(_,Vt,0));var le=this._getYear(_,Vt,0);Ht=24*A+Ht;var me=1===K?lt.monthMod(Vt):K;this.timeScaleArray.push({position:Ht,value:me,unit:F,year:le,month:lt.monthMod(Vt),day:me})}}},{key:"generateHourScale",value:function(c){var h=c.firstVal,v=c.currentDate,_=c.currentMonth,A=c.currentYear,P=c.minutesWidthOnXAxis,E=c.numberOfHours,F=new zt(this.ctx),W="hour",J=function(Zt,he){return Zt>F.determineDaysOfMonths(he+1,A)?he+=1:he},ct=60-(h.minMinute+h.minSecond/60),yt=ct*P,Vt=h.minHour+1,Ht=Vt+1;60===ct&&(yt=0,Ht=(Vt=h.minHour)+1);var Zt,he,qt=v,le=J(qt,_);this.timeScaleArray.push({position:yt,value:Vt,unit:W,day:qt,hour:Ht,year:A,month:lt.monthMod(le)});for(var me=yt,De=0;De<E;De++){W="hour",Ht>=24&&(Ht=0,W="day",le=(Zt=qt+=1,he=le,Zt>F.determineDaysOfMonths(he+1,A)&&(qt=1,he+=1),{month:he,date:qt}).month,le=J(qt,le));var j=this._getYear(A,le,0);this.timeScaleArray.push({position:me=0===Ht&&0===De?ct*P:60*P+me,value:0===Ht?qt:Ht,unit:W,hour:Ht,day:qt,year:j,month:lt.monthMod(le)}),Ht++}}},{key:"generateMinuteScale",value:function(c){for(var W=c.minutesWidthOnXAxis,J=c.numberOfMinutes,ct=c.currentMinute+1,yt=c.currentDate,Vt=c.currentMonth,Ht=c.currentYear,qt=c.currentHour,le=(60-c.currentSecond-c.currentMillisecond/1e3)*c.secondsWidthOnXAxis,me=0;me<J;me++)ct>=60&&(ct=0,24===(qt+=1)&&(qt=0)),this.timeScaleArray.push({position:le,value:ct,unit:"minute",hour:qt,minute:ct,day:yt,year:this._getYear(Ht,Vt,0),month:lt.monthMod(Vt)}),le+=W,ct++}},{key:"generateSecondScale",value:function(c){for(var W=c.secondsWidthOnXAxis,K=c.numberOfSeconds,J=c.currentSecond+1,ct=c.currentMinute,yt=c.currentDate,Vt=c.currentMonth,Ht=c.currentYear,qt=c.currentHour,le=(1e3-c.currentMillisecond)/1e3*W,me=0;me<K;me++)J>=60&&(J=0,++ct>=60&&(ct=0,24==++qt&&(qt=0))),this.timeScaleArray.push({position:le,value:J,unit:"second",hour:qt,minute:ct,second:J,day:yt,year:this._getYear(Ht,Vt,0),month:lt.monthMod(Vt)}),le+=W,J++}},{key:"createRawDateString",value:function(c,h){var v=c.year;return 0===c.month&&(c.month=1),v+="-"+("0"+c.month.toString()).slice(-2),v+="day"===c.unit?"day"===c.unit?"-"+("0"+h).slice(-2):"-01":"-"+("0"+(c.day?c.day:"1")).slice(-2),v+="hour"===c.unit?"hour"===c.unit?"T"+("0"+h).slice(-2):"T00":"T"+("0"+(c.hour?c.hour:"0")).slice(-2),v+="minute"===c.unit?":"+("0"+h).slice(-2):":"+(c.minute?("0"+c.minute).slice(-2):"00"),v+="second"===c.unit?":"+("0"+h).slice(-2):":00",this.utc&&(v+=".000Z"),v}},{key:"formatDates",value:function(c){var h=this,v=this.w;return c.map(function(_){var A=_.value.toString(),P=new zt(h.ctx),E=h.createRawDateString(_,A),F=P.getDate(P.parseDate(E));if(h.utc||(F=P.getDate(P.parseDateWithTimezone(E))),void 0===v.config.xaxis.labels.format){var W="dd MMM",K=v.config.xaxis.labels.datetimeFormatter;"year"===_.unit&&(W=K.year),"month"===_.unit&&(W=K.month),"day"===_.unit&&(W=K.day),"hour"===_.unit&&(W=K.hour),"minute"===_.unit&&(W=K.minute),"second"===_.unit&&(W=K.second),A=P.formatDate(F,W)}else A=P.formatDate(F,v.config.xaxis.labels.format);return{dateString:E,position:_.position,value:A,unit:_.unit,year:_.year,month:_.month}})}},{key:"removeOverlappingTS",value:function(c){var h,v=this,_=new ot(this.ctx),A=!1;c.length>0&&c[0].value&&c.every(function(F){return F.value.length===c[0].value.length})&&(A=!0,h=_.getTextRects(c[0].value).width);var P=0;return c.map(function(F,W){if(W>0&&v.w.config.xaxis.labels.hideOverlappingLabels){var K=A?h:_.getTextRects(c[P].value).width;return F.position>c[P].position+K+10?(P=W,F):null}return F}).filter(function(F){return null!==F})}},{key:"_getYear",value:function(c,h,v){return c+Math.floor(h/12)+v}}]),ae}(),Aa=function(){function ae(c,h){$t(this,ae),this.ctx=h,this.w=h.w,this.el=c}return ee(ae,[{key:"setupElements",value:function(){var c=this.w.globals,h=this.w.config,v=h.chart.type;c.axisCharts=["line","area","bar","rangeBar","candlestick","boxPlot","scatter","bubble","radar","heatmap","treemap"].indexOf(v)>-1,c.xyCharts=["line","area","bar","rangeBar","candlestick","boxPlot","scatter","bubble"].indexOf(v)>-1,c.isBarHorizontal=("bar"===h.chart.type||"rangeBar"===h.chart.type)&&h.plotOptions.bar.horizontal,c.chartClass=".apexcharts"+c.chartID,c.dom.baseEl=this.el,c.dom.elWrap=document.createElement("div"),ot.setAttrs(c.dom.elWrap,{id:c.chartClass.substring(1),class:"apexcharts-canvas "+c.chartClass.substring(1)}),this.el.appendChild(c.dom.elWrap),c.dom.Paper=new window.SVG.Doc(c.dom.elWrap),c.dom.Paper.attr({class:"apexcharts-svg","xmlns:data":"ApexChartsNS",transform:"translate(".concat(h.chart.offsetX,", ").concat(h.chart.offsetY,")")}),c.dom.Paper.node.style.background=h.chart.background,this.setSVGDimensions(),c.dom.elGraphical=c.dom.Paper.group().attr({class:"apexcharts-inner apexcharts-graphical"}),c.dom.elAnnotations=c.dom.Paper.group().attr({class:"apexcharts-annotations"}),c.dom.elDefs=c.dom.Paper.defs(),c.dom.elLegendWrap=document.createElement("div"),c.dom.elLegendWrap.classList.add("apexcharts-legend"),c.dom.elWrap.appendChild(c.dom.elLegendWrap),c.dom.Paper.add(c.dom.elGraphical),c.dom.elGraphical.add(c.dom.elDefs)}},{key:"plotChartType",value:function(c,h){var v=this.w,_=v.config,A=v.globals,P={series:[],i:[]},E={series:[],i:[]},F={series:[],i:[]},W={series:[],i:[]},K={series:[],i:[]},J={series:[],i:[]},ct={series:[],i:[]};A.series.map(function(ut,Zt){var he=0;void 0!==c[Zt].type?("column"===c[Zt].type||"bar"===c[Zt].type?(A.series.length>1&&_.plotOptions.bar.horizontal&&console.warn("Horizontal bars are not supported in a mixed/combo chart. Please turn off `plotOptions.bar.horizontal`"),K.series.push(ut),K.i.push(Zt),he++,v.globals.columnSeries=K.series):"area"===c[Zt].type?(E.series.push(ut),E.i.push(Zt),he++):"line"===c[Zt].type?(P.series.push(ut),P.i.push(Zt),he++):"scatter"===c[Zt].type?(F.series.push(ut),F.i.push(Zt)):"bubble"===c[Zt].type?(W.series.push(ut),W.i.push(Zt),he++):"candlestick"===c[Zt].type?(J.series.push(ut),J.i.push(Zt),he++):"boxPlot"===c[Zt].type?(ct.series.push(ut),ct.i.push(Zt),he++):console.warn("You have specified an unrecognized chart type. Available types for this property are line/area/column/bar/scatter/bubble"),he>1&&(A.comboCharts=!0)):(P.series.push(ut),P.i.push(Zt))});var yt=new gi(this.ctx,h),Vt=new ir(this.ctx,h);this.ctx.pie=new Lr(this.ctx);var Ht=new Yi(this.ctx);this.ctx.rangeBar=new oe(this.ctx,h);var qt=new Ja(this.ctx),le=[];if(A.comboCharts){if(E.series.length>0&&le.push(yt.draw(E.series,"area",E.i)),K.series.length>0)if(v.config.chart.stacked){var me=new Vi(this.ctx,h);le.push(me.draw(K.series,K.i))}else this.ctx.bar=new mt(this.ctx,h),le.push(this.ctx.bar.draw(K.series,K.i));if(P.series.length>0&&le.push(yt.draw(P.series,"line",P.i)),J.series.length>0&&le.push(Vt.draw(J.series,J.i)),ct.series.length>0&&le.push(Vt.draw(ct.series,ct.i)),F.series.length>0){var De=new gi(this.ctx,h,!0);le.push(De.draw(F.series,"scatter",F.i))}if(W.series.length>0){var j=new gi(this.ctx,h,!0);le.push(j.draw(W.series,"bubble",W.i))}}else switch(_.chart.type){case"line":le=yt.draw(A.series,"line");break;case"area":le=yt.draw(A.series,"area");break;case"bar":_.chart.stacked?le=new Vi(this.ctx,h).draw(A.series):(this.ctx.bar=new mt(this.ctx,h),le=this.ctx.bar.draw(A.series));break;case"candlestick":case"boxPlot":le=new ir(this.ctx,h).draw(A.series);break;case"rangeBar":le=this.ctx.rangeBar.draw(A.series);break;case"heatmap":le=new ho(this.ctx,h).draw(A.series);break;case"treemap":le=new Na(this.ctx,h).draw(A.series);break;case"pie":case"donut":case"polarArea":le=this.ctx.pie.draw(A.series);break;case"radialBar":le=Ht.draw(A.series);break;case"radar":le=qt.draw(A.series);break;default:le=yt.draw(A.series)}return le}},{key:"setSVGDimensions",value:function(){var c=this.w.globals,h=this.w.config;c.svgWidth=h.chart.width,c.svgHeight=h.chart.height;var v=lt.getDimensions(this.el),_=h.chart.width.toString().split(/[0-9]+/g).pop();"%"===_?lt.isNumber(v[0])&&(0===v[0].width&&(v=lt.getDimensions(this.el.parentNode)),c.svgWidth=v[0]*parseInt(h.chart.width,10)/100):"px"!==_&&""!==_||(c.svgWidth=parseInt(h.chart.width,10));var A=h.chart.height.toString().split(/[0-9]+/g).pop();if("auto"!==c.svgHeight&&""!==c.svgHeight)if("%"===A){var P=lt.getDimensions(this.el.parentNode);c.svgHeight=P[1]*parseInt(h.chart.height,10)/100}else c.svgHeight=parseInt(h.chart.height,10);else c.svgHeight=c.axisCharts?c.svgWidth/1.61:c.svgWidth/1.2;c.svgWidth<0&&(c.svgWidth=0),c.svgHeight<0&&(c.svgHeight=0),ot.setAttrs(c.dom.Paper.node,{width:c.svgWidth,height:c.svgHeight}),"%"!==A&&(c.dom.Paper.node.parentNode.parentNode.style.minHeight=c.svgHeight+(h.chart.sparkline.enabled?0:c.axisCharts?h.chart.parentHeightOffset:0)+"px"),c.dom.elWrap.style.width=c.svgWidth+"px",c.dom.elWrap.style.height=c.svgHeight+"px"}},{key:"shiftGraphPosition",value:function(){var c=this.w.globals;ot.setAttrs(c.dom.elGraphical.node,{transform:"translate("+c.translateX+", "+c.translateY+")"})}},{key:"resizeNonAxisCharts",value:function(){var c=this.w,h=c.globals,v=0,_=c.config.chart.sparkline.enabled?1:15;_+=c.config.grid.padding.bottom,"top"!==c.config.legend.position&&"bottom"!==c.config.legend.position||!c.config.legend.show||c.config.legend.floating||(v=new nr(this.ctx).legendHelpers.getLegendBBox().clwh+10);var A=c.globals.dom.baseEl.querySelector(".apexcharts-radialbar, .apexcharts-pie"),P=2.05*c.globals.radialSize;if(A&&!c.config.chart.sparkline.enabled&&0!==c.config.plotOptions.radialBar.startAngle){var E=lt.getBoundingClientRect(A);P=E.bottom,P=Math.max(2.05*c.globals.radialSize,E.bottom-E.top)}var W=P+h.translateY+v+_;h.dom.elLegendForeign&&h.dom.elLegendForeign.setAttribute("height",W),h.dom.elWrap.style.height=W+"px",ot.setAttrs(h.dom.Paper.node,{height:W}),h.dom.Paper.node.parentNode.parentNode.style.minHeight=W+"px"}},{key:"coreCalculations",value:function(){new ti(this.ctx).init()}},{key:"resetGlobals",value:function(){var c=this,h=function(){return c.w.config.series.map(function(A){return[]})},v=new be,_=this.w.globals;v.initGlobalVars(_),_.seriesXvalues=h(),_.seriesYvalues=h()}},{key:"isMultipleY",value:function(){if(this.w.config.yaxis.constructor===Array&&this.w.config.yaxis.length>1)return this.w.globals.isMultipleYAxis=!0,!0}},{key:"xySettings",value:function(){var c=null,h=this.w;if(h.globals.axisCharts){if("back"===h.config.xaxis.crosshairs.position&&new dn(this.ctx).drawXCrosshairs(),"back"===h.config.yaxis[0].crosshairs.position&&new dn(this.ctx).drawYCrosshairs(),"datetime"===h.config.xaxis.type&&void 0===h.config.xaxis.labels.formatter){this.ctx.timeScale=new pu(this.ctx);var v=[];isFinite(h.globals.minX)&&isFinite(h.globals.maxX)&&!h.globals.isBarHorizontal?v=this.ctx.timeScale.calculateTimeScaleTicks(h.globals.minX,h.globals.maxX):h.globals.isBarHorizontal&&(v=this.ctx.timeScale.calculateTimeScaleTicks(h.globals.minY,h.globals.maxY)),this.ctx.timeScale.recalcDimensionsBasedOnFormat(v)}c=new Ut(this.ctx).getCalculatedRatios()}return c}},{key:"updateSourceChart",value:function(c){this.ctx.w.globals.selection=void 0,this.ctx.updateHelpers._updateOptions({chart:{selection:{xaxis:{min:c.w.globals.minX,max:c.w.globals.maxX}}}},!1,!1)}},{key:"setupBrushHandler",value:function(){var c=this,h=this.w;if(h.config.chart.brush.enabled&&"function"!=typeof h.config.chart.events.selection){var v=h.config.chart.brush.targets||[h.config.chart.brush.target];v.forEach(function(_){var A=ApexCharts.getChartByID(_);A.w.globals.brushSource=c.ctx,"function"!=typeof A.w.config.chart.events.zoomed&&(A.w.config.chart.events.zoomed=function(){c.updateSourceChart(A)}),"function"!=typeof A.w.config.chart.events.scrolled&&(A.w.config.chart.events.scrolled=function(){c.updateSourceChart(A)})}),h.config.chart.events.selection=function(_,A){v.forEach(function(P){var E=ApexCharts.getChartByID(P),F=lt.clone(h.config.yaxis);if(h.config.chart.brush.autoScaleYaxis&&1===E.w.globals.series.length){var W=new $e(E);F=W.autoScaleY(E,F,A)}var K=E.w.config.yaxis.reduce(function(J,ct,yt){return[].concat(St(J),[Wt(Wt({},E.w.config.yaxis[yt]),{},{min:F[0].min,max:F[0].max})])},[]);E.ctx.updateHelpers._updateOptions({xaxis:{min:A.xaxis.min,max:A.xaxis.max},yaxis:K},!1,!1,!1,!1)})}}}}]),ae}(),Ho=function(){function ae(c){$t(this,ae),this.ctx=c,this.w=c.w}return ee(ae,[{key:"_updateOptions",value:function(c){var h=this,v=arguments.length>1&&void 0!==arguments[1]&&arguments[1],_=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],A=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],P=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return new Promise(function(E){var F=[h.ctx];A&&(F=h.ctx.getSyncedCharts()),h.ctx.w.globals.isExecCalled&&(F=[h.ctx],h.ctx.w.globals.isExecCalled=!1),F.forEach(function(W,K){var J=W.w;return J.globals.shouldAnimate=_,v||(J.globals.resized=!0,J.globals.dataChanged=!0,_&&W.series.getPreviousPaths()),c&&"object"===Le(c)&&(W.config=new ze(c),c=Ut.extendArrayProps(W.config,c,J),W.w.globals.chartID!==h.ctx.w.globals.chartID&&delete c.series,J.config=lt.extend(J.config,c),P&&(J.globals.lastXAxis=c.xaxis?lt.clone(c.xaxis):[],J.globals.lastYAxis=c.yaxis?lt.clone(c.yaxis):[],J.globals.initialConfig=lt.extend({},J.config),J.globals.initialSeries=lt.clone(J.config.series))),W.update(c).then(function(){K===F.length-1&&E(W)})})})}},{key:"_updateSeries",value:function(c,h){var v=this,_=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return new Promise(function(A){var P,E=v.w;return E.globals.shouldAnimate=h,E.globals.dataChanged=!0,h&&v.ctx.series.getPreviousPaths(),E.globals.axisCharts?(0===(P=c.map(function(F,W){return v._extendSeries(F,W)})).length&&(P=[{data:[]}]),E.config.series=P):E.config.series=c.slice(),_&&(E.globals.initialSeries=lt.clone(E.config.series)),v.ctx.update().then(function(){A(v.ctx)})})}},{key:"_extendSeries",value:function(c,h){var v=this.w,_=v.config.series[h];return Wt(Wt({},v.config.series[h]),{},{name:c.name?c.name:_&&_.name,color:c.color?c.color:_&&_.color,type:c.type?c.type:_&&_.type,data:c.data?c.data:_&&_.data})}},{key:"toggleDataPointSelection",value:function(c,h){var v=this.w,_=null,A=".apexcharts-series[data\\:realIndex='".concat(c,"']");return v.globals.axisCharts?_=v.globals.dom.Paper.select("".concat(A," path[j='").concat(h,"'], ").concat(A," circle[j='").concat(h,"'], ").concat(A," rect[j='").concat(h,"']")).members[0]:void 0===h&&(_=v.globals.dom.Paper.select("".concat(A," path[j='").concat(c,"']")).members[0],"pie"!==v.config.chart.type&&"polarArea"!==v.config.chart.type&&"donut"!==v.config.chart.type||this.ctx.pie.pieClicked(c)),_?(new ot(this.ctx).pathMouseDown(_,null),_.node?_.node:null):(console.warn("toggleDataPointSelection: Element not found"),null)}},{key:"forceXAxisUpdate",value:function(c){var h=this.w;if(["min","max"].forEach(function(_){void 0!==c.xaxis[_]&&(h.config.xaxis[_]=c.xaxis[_],h.globals.lastXAxis[_]=c.xaxis[_])}),c.xaxis.categories&&c.xaxis.categories.length&&(h.config.xaxis.categories=c.xaxis.categories),h.config.xaxis.convertedCatToNumeric){var v=new Ae(c);c=v.convertCatToNumericXaxis(c,this.ctx)}return c}},{key:"forceYAxisUpdate",value:function(c){var h=this.w;return h.config.chart.stacked&&"100%"===h.config.chart.stackType&&(Array.isArray(c.yaxis)?c.yaxis.forEach(function(v,_){c.yaxis[_].min=0,c.yaxis[_].max=100}):(c.yaxis.min=0,c.yaxis.max=100)),c}},{key:"revertDefaultAxisMinMax",value:function(c){var h=this,v=this.w,_=v.globals.lastXAxis,A=v.globals.lastYAxis;c&&c.xaxis&&(_=c.xaxis),c&&c.yaxis&&(A=c.yaxis),v.config.xaxis.min=_.min,v.config.xaxis.max=_.max,v.config.yaxis.map(function(E,F){v.globals.zoomed||void 0!==A[F]?function(E){void 0!==A[E]&&(v.config.yaxis[E].min=A[E].min,v.config.yaxis[E].max=A[E].max)}(F):void 0!==h.ctx.opts.yaxis[F]&&(E.min=h.ctx.opts.yaxis[F].min,E.max=h.ctx.opts.yaxis[F].max)})}}]),ae}();oo="undefined"!=typeof window?window:void 0,Oa=function(ae,c){var h=(void 0!==this?this:ae).SVG=function(j){if(h.supported)return j=new h.Doc(j),h.parser.draw||h.prepare(),j};if(h.ns="http://www.w3.org/2000/svg",h.xmlns="http://www.w3.org/2000/xmlns/",h.xlink="http://www.w3.org/1999/xlink",h.svgjs="http://svgjs.dev",h.supported=!0,!h.supported)return!1;h.did=1e3,h.eid=function(j){return"Svgjs"+K(j)+h.did++},h.create=function(j){var ut=c.createElementNS(this.ns,j);return ut.setAttribute("id",this.eid(j)),ut},h.extend=function(){var j,ut;ut=(j=[].slice.call(arguments)).pop();for(var Zt=j.length-1;Zt>=0;Zt--)if(j[Zt])for(var he in ut)j[Zt].prototype[he]=ut[he];h.Set&&h.Set.inherit&&h.Set.inherit()},h.invent=function(j){var ut="function"==typeof j.create?j.create:function(){this.constructor.call(this,h.create(j.create))};return j.inherit&&(ut.prototype=new j.inherit),j.extend&&h.extend(ut,j.extend),j.construct&&h.extend(j.parent||h.Container,j.construct),ut},h.adopt=function(j){return j?j.instance?j.instance:((ut="svg"==j.nodeName?j.parentNode instanceof ae.SVGElement?new h.Nested:new h.Doc:"linearGradient"==j.nodeName?new h.Gradient("linear"):"radialGradient"==j.nodeName?new h.Gradient("radial"):h[K(j.nodeName)]?new(h[K(j.nodeName)]):new h.Element(j)).type=j.nodeName,ut.node=j,j.instance=ut,ut instanceof h.Doc&&ut.namespace().defs(),ut.setData(JSON.parse(j.getAttribute("svgjs:data"))||{}),ut):null;var ut},h.prepare=function(){var j=c.getElementsByTagName("body")[0],ut=(j?new h.Doc(j):h.adopt(c.documentElement).nested()).size(2,0);h.parser={body:j||c.documentElement,draw:ut.style("opacity:0;position:absolute;left:-100%;top:-100%;overflow:hidden").node,poly:ut.polyline().node,path:ut.path().node,native:h.create("svg")}},h.parser={native:h.create("svg")},c.addEventListener("DOMContentLoaded",function(){h.parser.draw||h.prepare()},!1),h.regex={numberAndUnit:/^([+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?)([a-z%]*)$/i,hex:/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,rgb:/rgb\((\d+),(\d+),(\d+)\)/,reference:/#([a-z0-9\-_]+)/i,transforms:/\)\s*,?\s*/,whitespace:/\s/g,isHex:/^#[a-f0-9]{3,6}$/i,isRgb:/^rgb\(/,isCss:/[^:]+:[^;]+;?/,isBlank:/^(\s+)?$/,isNumber:/^[+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,isPercent:/^-?[\d\.]+%$/,isImage:/\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i,delimiter:/[\s,]+/,hyphen:/([^e])\-/gi,pathLetters:/[MLHVCSQTAZ]/gi,isPathLetter:/[MLHVCSQTAZ]/i,numbersWithDots:/((\d?\.\d+(?:e[+-]?\d+)?)((?:\.\d+(?:e[+-]?\d+)?)+))+/gi,dots:/\./g},h.utils={map:function(j,ut){for(var Zt=j.length,he=[],Ue=0;Ue<Zt;Ue++)he.push(ut(j[Ue]));return he},filter:function(j,ut){for(var Zt=j.length,he=[],Ue=0;Ue<Zt;Ue++)ut(j[Ue])&&he.push(j[Ue]);return he},filterSVGElements:function(j){return this.filter(j,function(ut){return ut instanceof ae.SVGElement})}},h.defaults={attrs:{"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","font-size":16,"font-family":"Helvetica, Arial, sans-serif","text-anchor":"start"}},h.Color=function(j){var ut,Zt;this.r=0,this.g=0,this.b=0,j&&("string"==typeof j?h.regex.isRgb.test(j)?(ut=h.regex.rgb.exec(j.replace(h.regex.whitespace,"")),this.r=parseInt(ut[1]),this.g=parseInt(ut[2]),this.b=parseInt(ut[3])):h.regex.isHex.test(j)&&(ut=h.regex.hex.exec(4==(Zt=j).length?["#",Zt.substring(1,2),Zt.substring(1,2),Zt.substring(2,3),Zt.substring(2,3),Zt.substring(3,4),Zt.substring(3,4)].join(""):Zt),this.r=parseInt(ut[1],16),this.g=parseInt(ut[2],16),this.b=parseInt(ut[3],16)):"object"===Le(j)&&(this.r=j.r,this.g=j.g,this.b=j.b))},h.extend(h.Color,{toString:function(){return this.toHex()},toHex:function(){return"#"+J(this.r)+J(this.g)+J(this.b)},toRgb:function(){return"rgb("+[this.r,this.g,this.b].join()+")"},brightness:function(){return this.r/255*.3+this.g/255*.59+this.b/255*.11},morph:function(j){return this.destination=new h.Color(j),this},at:function(j){return this.destination?new h.Color({r:~~(this.r+(this.destination.r-this.r)*(j=j<0?0:j>1?1:j)),g:~~(this.g+(this.destination.g-this.g)*j),b:~~(this.b+(this.destination.b-this.b)*j)}):this}}),h.Color.test=function(j){return h.regex.isHex.test(j+="")||h.regex.isRgb.test(j)},h.Color.isRgb=function(j){return j&&"number"==typeof j.r&&"number"==typeof j.g&&"number"==typeof j.b},h.Color.isColor=function(j){return h.Color.isRgb(j)||h.Color.test(j)},h.Array=function(j,ut){0==(j=(j||[]).valueOf()).length&&ut&&(j=ut.valueOf()),this.value=this.parse(j)},h.extend(h.Array,{toString:function(){return this.value.join(" ")},valueOf:function(){return this.value},parse:function(j){return j=j.valueOf(),Array.isArray(j)?j:this.split(j)}}),h.PointArray=function(j,ut){h.Array.call(this,j,ut||[[0,0]])},h.PointArray.prototype=new h.Array,h.PointArray.prototype.constructor=h.PointArray;for(var v={M:function(j,ut,Zt){return ut.x=Zt.x=j[0],ut.y=Zt.y=j[1],["M",ut.x,ut.y]},L:function(j,ut){return ut.x=j[0],ut.y=j[1],["L",j[0],j[1]]},H:function(j,ut){return ut.x=j[0],["H",j[0]]},V:function(j,ut){return ut.y=j[0],["V",j[0]]},C:function(j,ut){return ut.x=j[4],ut.y=j[5],["C",j[0],j[1],j[2],j[3],j[4],j[5]]},Q:function(j,ut){return ut.x=j[2],ut.y=j[3],["Q",j[0],j[1],j[2],j[3]]},Z:function(j,ut,Zt){return ut.x=Zt.x,ut.y=Zt.y,["Z"]}},_="mlhvqtcsaz".split(""),A=0,P=_.length;A<P;++A)v[_[A]]=function(j){return function(ut,Zt,he){if("H"==j)ut[0]=ut[0]+Zt.x;else if("V"==j)ut[0]=ut[0]+Zt.y;else if("A"==j)ut[5]=ut[5]+Zt.x,ut[6]=ut[6]+Zt.y;else for(var Ue=0,kn=ut.length;Ue<kn;++Ue)ut[Ue]=ut[Ue]+(Ue%2?Zt.y:Zt.x);if(v&&"function"==typeof v[j])return v[j](ut,Zt,he)}}(_[A].toUpperCase());h.PathArray=function(j,ut){h.Array.call(this,j,ut||[["M",0,0]])},h.PathArray.prototype=new h.Array,h.PathArray.prototype.constructor=h.PathArray,h.extend(h.PathArray,{toString:function(){return function(j){for(var ut=0,Zt=j.length,he="";ut<Zt;ut++)he+=j[ut][0],null!=j[ut][1]&&(he+=j[ut][1],null!=j[ut][2]&&(he+=" ",he+=j[ut][2],null!=j[ut][3]&&(he+=" ",he+=j[ut][3],he+=" ",he+=j[ut][4],null!=j[ut][5]&&(he+=" ",he+=j[ut][5],he+=" ",he+=j[ut][6],null!=j[ut][7]&&(he+=" ",he+=j[ut][7])))));return he+" "}(this.value)},move:function(j,ut){return this.bbox(),this},at:function(j){if(!this.destination)return this;for(var ut=this.value,Zt=this.destination.value,he=[],Ue=new h.PathArray,kn=0,rn=ut.length;kn<rn;kn++){he[kn]=[ut[kn][0]];for(var Kn=1,zn=ut[kn].length;Kn<zn;Kn++)he[kn][Kn]=ut[kn][Kn]+(Zt[kn][Kn]-ut[kn][Kn])*j;"A"===he[kn][0]&&(he[kn][4]=+(0!=he[kn][4]),he[kn][5]=+(0!=he[kn][5]))}return Ue.value=he,Ue},parse:function(j){if(j instanceof h.PathArray)return j.valueOf();var ut,Zt={M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7,Z:0};j="string"==typeof j?j.replace(h.regex.numbersWithDots,F).replace(h.regex.pathLetters," $& ").replace(h.regex.hyphen,"$1 -").trim().split(h.regex.delimiter):j.reduce(function(zn,ai){return[].concat.call(zn,ai)},[]);var he=[],Ue=new h.Point,kn=new h.Point,rn=0,Kn=j.length;do{h.regex.isPathLetter.test(j[rn])?(ut=j[rn],++rn):"M"==ut?ut="L":"m"==ut&&(ut="l"),he.push(v[ut].call(null,j.slice(rn,rn+=Zt[ut.toUpperCase()]).map(parseFloat),Ue,kn))}while(Kn>rn);return he},bbox:function(){return h.parser.draw||h.prepare(),h.parser.path.setAttribute("d",this.toString()),h.parser.path.getBBox()}}),h.Number=h.invent({create:function(j,ut){this.value=0,this.unit=ut||"","number"==typeof j?this.value=isNaN(j)?0:isFinite(j)?j:j<0?-34e37:34e37:"string"==typeof j?(ut=j.match(h.regex.numberAndUnit))&&(this.value=parseFloat(ut[1]),"%"==ut[5]?this.value/=100:"s"==ut[5]&&(this.value*=1e3),this.unit=ut[5]):j instanceof h.Number&&(this.value=j.valueOf(),this.unit=j.unit)},extend:{toString:function(){return("%"==this.unit?~~(1e8*this.value)/1e6:"s"==this.unit?this.value/1e3:this.value)+this.unit},toJSON:function(){return this.toString()},valueOf:function(){return this.value},plus:function(j){return j=new h.Number(j),new h.Number(this+j,this.unit||j.unit)},minus:function(j){return j=new h.Number(j),new h.Number(this-j,this.unit||j.unit)},times:function(j){return j=new h.Number(j),new h.Number(this*j,this.unit||j.unit)},divide:function(j){return j=new h.Number(j),new h.Number(this/j,this.unit||j.unit)},to:function(j){var ut=new h.Number(this);return"string"==typeof j&&(ut.unit=j),ut},morph:function(j){return this.destination=new h.Number(j),j.relative&&(this.destination.value+=this.value),this},at:function(j){return this.destination?new h.Number(this.destination).minus(this).times(j).plus(this):this}}}),h.Element=h.invent({create:function(j){this._stroke=h.defaults.attrs.stroke,this._event=null,this.dom={},(this.node=j)&&(this.type=j.nodeName,this.node.instance=this,this._stroke=j.getAttribute("stroke")||this._stroke)},extend:{x:function(j){return this.attr("x",j)},y:function(j){return this.attr("y",j)},cx:function(j){return null==j?this.x()+this.width()/2:this.x(j-this.width()/2)},cy:function(j){return null==j?this.y()+this.height()/2:this.y(j-this.height()/2)},move:function(j,ut){return this.x(j).y(ut)},center:function(j,ut){return this.cx(j).cy(ut)},width:function(j){return this.attr("width",j)},height:function(j){return this.attr("height",j)},size:function(j,ut){var Zt=ct(this,j,ut);return this.width(new h.Number(Zt.width)).height(new h.Number(Zt.height))},clone:function(j){this.writeDataToDom();var ut=Ht(this.node.cloneNode(!0));return j?j.add(ut):this.after(ut),ut},remove:function(){return this.parent()&&this.parent().removeElement(this),this},replace:function(j){return this.after(j).remove(),j},addTo:function(j){return j.put(this)},putIn:function(j){return j.add(this)},id:function(j){return this.attr("id",j)},show:function(){return this.style("display","")},hide:function(){return this.style("display","none")},visible:function(){return"none"!=this.style("display")},toString:function(){return this.attr("id")},classes:function(){var j=this.attr("class");return null==j?[]:j.trim().split(h.regex.delimiter)},hasClass:function(j){return-1!=this.classes().indexOf(j)},addClass:function(j){if(!this.hasClass(j)){var ut=this.classes();ut.push(j),this.attr("class",ut.join(" "))}return this},removeClass:function(j){return this.hasClass(j)&&this.attr("class",this.classes().filter(function(ut){return ut!=j}).join(" ")),this},toggleClass:function(j){return this.hasClass(j)?this.removeClass(j):this.addClass(j)},reference:function(j){return h.get(this.attr(j))},parent:function(j){var ut=this;if(!ut.node.parentNode)return null;if(ut=h.adopt(ut.node.parentNode),!j)return ut;for(;ut&&ut.node instanceof ae.SVGElement;){if("string"==typeof j?ut.matches(j):ut instanceof j)return ut;if(!ut.node.parentNode||"#document"==ut.node.parentNode.nodeName)return null;ut=h.adopt(ut.node.parentNode)}},doc:function(){return this instanceof h.Doc?this:this.parent(h.Doc)},parents:function(j){var ut=[],Zt=this;do{if(!(Zt=Zt.parent(j))||!Zt.node)break;ut.push(Zt)}while(Zt.parent);return ut},matches:function(j){return((ut=this.node).matches||ut.matchesSelector||ut.msMatchesSelector||ut.mozMatchesSelector||ut.webkitMatchesSelector||ut.oMatchesSelector).call(ut,j);var ut},native:function(){return this.node},svg:function(j){var ut=c.createElement("svg");if(!(j&&this instanceof h.Parent))return ut.appendChild(j=c.createElement("svg")),this.writeDataToDom(),j.appendChild(this.node.cloneNode(!0)),ut.innerHTML.replace(/^<svg>/,"").replace(/<\/svg>$/,"");ut.innerHTML="<svg>"+j.replace(/\n/,"").replace(/<([\w:-]+)([^<]+?)\/>/g,"<$1$2></$1>")+"</svg>";for(var Zt=0,he=ut.firstChild.childNodes.length;Zt<he;Zt++)this.node.appendChild(ut.firstChild.firstChild);return this},writeDataToDom:function(){return(this.each||this.lines)&&(this.each?this:this.lines()).each(function(){this.writeDataToDom()}),this.node.removeAttribute("svgjs:data"),Object.keys(this.dom).length&&this.node.setAttribute("svgjs:data",JSON.stringify(this.dom)),this},setData:function(j){return this.dom=j,this},is:function(j){return this instanceof j}}}),h.easing={"-":function(j){return j},"<>":function(j){return-Math.cos(j*Math.PI)/2+.5},">":function(j){return Math.sin(j*Math.PI/2)},"<":function(j){return 1-Math.cos(j*Math.PI/2)}},h.morph=function(j){return function(ut,Zt){return new h.MorphObj(ut,Zt).at(j)}},h.Situation=h.invent({create:function(j){this.init=!1,this.reversed=!1,this.reversing=!1,this.duration=new h.Number(j.duration).valueOf(),this.delay=new h.Number(j.delay).valueOf(),this.start=+new Date+this.delay,this.finish=this.start+this.duration,this.ease=j.ease,this.loop=0,this.loops=!1,this.animations={},this.attrs={},this.styles={},this.transforms=[],this.once={}}}),h.FX=h.invent({create:function(j){this._target=j,this.situations=[],this.active=!1,this.situation=null,this.paused=!1,this.lastPos=0,this.pos=0,this.absPos=0,this._speed=1},extend:{animate:function(j,ut,Zt){"object"===Le(j)&&(ut=j.ease,Zt=j.delay,j=j.duration);var he=new h.Situation({duration:j||1e3,delay:Zt||0,ease:h.easing[ut||"-"]||ut});return this.queue(he),this},target:function(j){return j&&j instanceof h.Element?(this._target=j,this):this._target},timeToAbsPos:function(j){return(j-this.situation.start)/(this.situation.duration/this._speed)},absPosToTime:function(j){return this.situation.duration/this._speed*j+this.situation.start},startAnimFrame:function(){this.stopAnimFrame(),this.animationFrame=ae.requestAnimationFrame(function(){this.step()}.bind(this))},stopAnimFrame:function(){ae.cancelAnimationFrame(this.animationFrame)},start:function(){return!this.active&&this.situation&&(this.active=!0,this.startCurrent()),this},startCurrent:function(){return this.situation.start=+new Date+this.situation.delay/this._speed,this.situation.finish=this.situation.start+this.situation.duration/this._speed,this.initAnimations().step()},queue:function(j){return("function"==typeof j||j instanceof h.Situation)&&this.situations.push(j),this.situation||(this.situation=this.situations.shift()),this},dequeue:function(){return this.stop(),this.situation=this.situations.shift(),this.situation&&(this.situation instanceof h.Situation?this.start():this.situation.call(this)),this},initAnimations:function(){var j,ut=this.situation;if(ut.init)return this;for(var Zt in ut.animations){j=this.target()[Zt](),Array.isArray(j)||(j=[j]),Array.isArray(ut.animations[Zt])||(ut.animations[Zt]=[ut.animations[Zt]]);for(var he=j.length;he--;)ut.animations[Zt][he]instanceof h.Number&&(j[he]=new h.Number(j[he])),ut.animations[Zt][he]=j[he].morph(ut.animations[Zt][he])}for(var Zt in ut.attrs)ut.attrs[Zt]=new h.MorphObj(this.target().attr(Zt),ut.attrs[Zt]);for(var Zt in ut.styles)ut.styles[Zt]=new h.MorphObj(this.target().style(Zt),ut.styles[Zt]);return ut.initialTransformation=this.target().matrixify(),ut.init=!0,this},clearQueue:function(){return this.situations=[],this},clearCurrent:function(){return this.situation=null,this},stop:function(j,ut){var Zt=this.active;return this.active=!1,ut&&this.clearQueue(),j&&this.situation&&(!Zt&&this.startCurrent(),this.atEnd()),this.stopAnimFrame(),this.clearCurrent()},after:function(j){var ut=this.last();return this.target().on("finished.fx",function Zt(he){he.detail.situation==ut&&(j.call(this,ut),this.off("finished.fx",Zt))}),this._callStart()},during:function(j){var ut=this.last(),Zt=function(he){he.detail.situation==ut&&j.call(this,he.detail.pos,h.morph(he.detail.pos),he.detail.eased,ut)};return this.target().off("during.fx",Zt).on("during.fx",Zt),this.after(function(){this.off("during.fx",Zt)}),this._callStart()},afterAll:function(j){var ut=function Zt(he){j.call(this),this.off("allfinished.fx",Zt)};return this.target().off("allfinished.fx",ut).on("allfinished.fx",ut),this._callStart()},last:function(){return this.situations.length?this.situations[this.situations.length-1]:this.situation},add:function(j,ut,Zt){return this.last()[Zt||"animations"][j]=ut,this._callStart()},step:function(j){var ut,Zt,he;j||(this.absPos=this.timeToAbsPos(+new Date)),!1!==this.situation.loops?(ut=Math.max(this.absPos,0),Zt=Math.floor(ut),!0===this.situation.loops||Zt<this.situation.loops?(this.pos=ut-Zt,he=this.situation.loop,this.situation.loop=Zt):(this.absPos=this.situation.loops,this.pos=1,he=this.situation.loop-1,this.situation.loop=this.situation.loops),this.situation.reversing&&(this.situation.reversed=this.situation.reversed!=Boolean((this.situation.loop-he)%2))):(this.absPos=Math.min(this.absPos,1),this.pos=this.absPos),this.pos<0&&(this.pos=0),this.situation.reversed&&(this.pos=1-this.pos);var Ue=this.situation.ease(this.pos);for(var kn in this.situation.once)kn>this.lastPos&&kn<=Ue&&(this.situation.once[kn].call(this.target(),this.pos,Ue),delete this.situation.once[kn]);return this.active&&this.target().fire("during",{pos:this.pos,eased:Ue,fx:this,situation:this.situation}),this.situation?(this.eachAt(),1==this.pos&&!this.situation.reversed||this.situation.reversed&&0==this.pos?(this.stopAnimFrame(),this.target().fire("finished",{fx:this,situation:this.situation}),this.situations.length||(this.target().fire("allfinished"),this.situations.length||(this.target().off(".fx"),this.active=!1)),this.active?this.dequeue():this.clearCurrent()):!this.paused&&this.active&&this.startAnimFrame(),this.lastPos=Ue,this):this},eachAt:function(){var j,ut=this,Zt=this.target(),he=this.situation;for(var Ue in he.animations)j=[].concat(he.animations[Ue]).map(function(Kn){return"string"!=typeof Kn&&Kn.at?Kn.at(he.ease(ut.pos),ut.pos):Kn}),Zt[Ue].apply(Zt,j);for(var Ue in he.attrs)j=[Ue].concat(he.attrs[Ue]).map(function(zn){return"string"!=typeof zn&&zn.at?zn.at(he.ease(ut.pos),ut.pos):zn}),Zt.attr.apply(Zt,j);for(var Ue in he.styles)j=[Ue].concat(he.styles[Ue]).map(function(zn){return"string"!=typeof zn&&zn.at?zn.at(he.ease(ut.pos),ut.pos):zn}),Zt.style.apply(Zt,j);if(he.transforms.length){j=he.initialTransformation,Ue=0;for(var kn=he.transforms.length;Ue<kn;Ue++){var rn=he.transforms[Ue];rn instanceof h.Matrix?j=rn.relative?j.multiply((new h.Matrix).morph(rn).at(he.ease(this.pos))):j.morph(rn).at(he.ease(this.pos)):(rn.relative||rn.undo(j.extract()),j=j.multiply(rn.at(he.ease(this.pos))))}Zt.matrix(j)}return this},once:function(j,ut,Zt){var he=this.last();return Zt||(j=he.ease(j)),he.once[j]=ut,this},_callStart:function(){return setTimeout(function(){this.start()}.bind(this),0),this}},parent:h.Element,construct:{animate:function(j,ut,Zt){return(this.fx||(this.fx=new h.FX(this))).animate(j,ut,Zt)},delay:function(j){return(this.fx||(this.fx=new h.FX(this))).delay(j)},stop:function(j,ut){return this.fx&&this.fx.stop(j,ut),this},finish:function(){return this.fx&&this.fx.finish(),this}}}),h.MorphObj=h.invent({create:function(j,ut){return h.Color.isColor(ut)?new h.Color(j).morph(ut):h.regex.delimiter.test(j)?h.regex.pathLetters.test(j)?new h.PathArray(j).morph(ut):new h.Array(j).morph(ut):h.regex.numberAndUnit.test(ut)?new h.Number(j).morph(ut):(this.value=j,void(this.destination=ut))},extend:{at:function(j,ut){return ut<1?this.value:this.destination},valueOf:function(){return this.value}}}),h.extend(h.FX,{attr:function(j,ut,Zt){if("object"===Le(j))for(var he in j)this.attr(he,j[he]);else this.add(j,ut,"attrs");return this},plot:function(j,ut,Zt,he){return 4==arguments.length?this.plot([j,ut,Zt,he]):this.add("plot",new(this.target().morphArray)(j))}}),h.Box=h.invent({create:function(j,ut,Zt,he){if(!("object"!==Le(j)||j instanceof h.Element))return h.Box.call(this,null!=j.left?j.left:j.x,null!=j.top?j.top:j.y,j.width,j.height);4==arguments.length&&(this.x=j,this.y=ut,this.width=Zt,this.height=he),qt(this)}}),h.BBox=h.invent({create:function(j){if(h.Box.apply(this,[].slice.call(arguments)),j instanceof h.Element){var ut;try{if(!c.documentElement.contains){for(var Zt=j.node;Zt.parentNode;)Zt=Zt.parentNode;if(Zt!=c)throw new Error("Element not in the dom")}ut=j.node.getBBox()}catch(Ue){if(j instanceof h.Shape){h.parser.draw||h.prepare();var he=j.clone(h.parser.draw.instance).show();he&&he.node&&"function"==typeof he.node.getBBox&&(ut=he.node.getBBox()),he&&"function"==typeof he.remove&&he.remove()}else ut={x:j.node.clientLeft,y:j.node.clientTop,width:j.node.clientWidth,height:j.node.clientHeight}}h.Box.call(this,ut)}},inherit:h.Box,parent:h.Element,construct:{bbox:function(){return new h.BBox(this)}}}),h.BBox.prototype.constructor=h.BBox,h.Matrix=h.invent({create:function(j){var ut=Vt([1,0,0,1,0,0]);j=null===j?ut:j instanceof h.Element?j.matrixify():"string"==typeof j?Vt(j.split(h.regex.delimiter).map(parseFloat)):6==arguments.length?Vt([].slice.call(arguments)):Array.isArray(j)?Vt(j):j&&"object"===Le(j)?j:ut;for(var Zt=me.length-1;Zt>=0;--Zt)this[me[Zt]]=null!=j[me[Zt]]?j[me[Zt]]:ut[me[Zt]]},extend:{extract:function(){var j=yt(this,0,1);yt(this,1,0);var ut=180/Math.PI*Math.atan2(j.y,j.x)-90;return{x:this.e,y:this.f,transformedX:(this.e*Math.cos(ut*Math.PI/180)+this.f*Math.sin(ut*Math.PI/180))/Math.sqrt(this.a*this.a+this.b*this.b),transformedY:(this.f*Math.cos(ut*Math.PI/180)+this.e*Math.sin(-ut*Math.PI/180))/Math.sqrt(this.c*this.c+this.d*this.d),rotation:ut,a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f,matrix:new h.Matrix(this)}},clone:function(){return new h.Matrix(this)},morph:function(j){return this.destination=new h.Matrix(j),this},multiply:function(j){return new h.Matrix(this.native().multiply((ut=j,ut instanceof h.Matrix||(ut=new h.Matrix(ut)),ut).native()));var ut},inverse:function(){return new h.Matrix(this.native().inverse())},translate:function(j,ut){return new h.Matrix(this.native().translate(j||0,ut||0))},native:function(){for(var j=h.parser.native.createSVGMatrix(),ut=me.length-1;ut>=0;ut--)j[me[ut]]=this[me[ut]];return j},toString:function(){return"matrix("+le(this.a)+","+le(this.b)+","+le(this.c)+","+le(this.d)+","+le(this.e)+","+le(this.f)+")"}},parent:h.Element,construct:{ctm:function(){return new h.Matrix(this.node.getCTM())},screenCTM:function(){if(this instanceof h.Nested){var j=this.rect(1,1),ut=j.node.getScreenCTM();return j.remove(),new h.Matrix(ut)}return new h.Matrix(this.node.getScreenCTM())}}}),h.Point=h.invent({create:function(j,ut){var Zt;Zt=Array.isArray(j)?{x:j[0],y:j[1]}:"object"===Le(j)?{x:j.x,y:j.y}:null!=j?{x:j,y:null!=ut?ut:j}:{x:0,y:0},this.x=Zt.x,this.y=Zt.y},extend:{clone:function(){return new h.Point(this)},morph:function(j,ut){return this.destination=new h.Point(j,ut),this}}}),h.extend(h.Element,{point:function(j,ut){return new h.Point(j,ut).transform(this.screenCTM().inverse())}}),h.extend(h.Element,{attr:function(j,ut,Zt){if(null==j){for(j={},Zt=(ut=this.node.attributes).length-1;Zt>=0;Zt--)j[ut[Zt].nodeName]=h.regex.isNumber.test(ut[Zt].nodeValue)?parseFloat(ut[Zt].nodeValue):ut[Zt].nodeValue;return j}if("object"===Le(j))for(var he in j)this.attr(he,j[he]);else if(null===ut)this.node.removeAttribute(j);else{if(null==ut)return null==(ut=this.node.getAttribute(j))?h.defaults.attrs[j]:h.regex.isNumber.test(ut)?parseFloat(ut):ut;"stroke-width"==j?this.attr("stroke",parseFloat(ut)>0?this._stroke:null):"stroke"==j&&(this._stroke=ut),"fill"!=j&&"stroke"!=j||(h.regex.isImage.test(ut)&&(ut=this.doc().defs().image(ut,0,0)),ut instanceof h.Image&&(ut=this.doc().defs().pattern(0,0,function(){this.add(ut)}))),"number"==typeof ut?ut=new h.Number(ut):h.Color.isColor(ut)?ut=new h.Color(ut):Array.isArray(ut)&&(ut=new h.Array(ut)),"leading"==j?this.leading&&this.leading(ut):"string"==typeof Zt?this.node.setAttributeNS(Zt,j,ut.toString()):this.node.setAttribute(j,ut.toString()),!this.rebuild||"font-size"!=j&&"x"!=j||this.rebuild(j,ut)}return this}}),h.extend(h.Element,{transform:function(j,ut){var Zt;return"object"!==Le(j)?(Zt=new h.Matrix(this).extract(),"string"==typeof j?Zt[j]:Zt):(Zt=new h.Matrix(this),ut=!!ut||!!j.relative,null!=j.a&&(Zt=ut?Zt.multiply(new h.Matrix(j)):new h.Matrix(j)),this.attr("transform",Zt))}}),h.extend(h.Element,{untransform:function(){return this.attr("transform",null)},matrixify:function(){return(this.attr("transform")||"").split(h.regex.transforms).slice(0,-1).map(function(j){var ut=j.trim().split("(");return[ut[0],ut[1].split(h.regex.delimiter).map(function(Zt){return parseFloat(Zt)})]}).reduce(function(j,ut){return"matrix"==ut[0]?j.multiply(Vt(ut[1])):j[ut[0]].apply(j,ut[1])},new h.Matrix)},toParent:function(j){if(this==j)return this;var ut=this.screenCTM(),Zt=j.screenCTM().inverse();return this.addTo(j).untransform().transform(Zt.multiply(ut)),this},toDoc:function(){return this.toParent(this.doc())}}),h.Transformation=h.invent({create:function(j,ut){if(arguments.length>1&&"boolean"!=typeof ut)return this.constructor.call(this,[].slice.call(arguments));if(Array.isArray(j))for(var Zt=0,he=this.arguments.length;Zt<he;++Zt)this[this.arguments[Zt]]=j[Zt];else if(j&&"object"===Le(j))for(Zt=0,he=this.arguments.length;Zt<he;++Zt)this[this.arguments[Zt]]=j[this.arguments[Zt]];this.inversed=!1,!0===ut&&(this.inversed=!0)}}),h.Translate=h.invent({parent:h.Matrix,inherit:h.Transformation,create:function(j,ut){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["transformedX","transformedY"],method:"translate"}}),h.extend(h.Element,{style:function(j,ut){if(0==arguments.length)return this.node.style.cssText||"";if(arguments.length<2)if("object"===Le(j))for(var Zt in j)this.style(Zt,j[Zt]);else{if(!h.regex.isCss.test(j))return this.node.style[W(j)];for(j=j.split(/\s*;\s*/).filter(function(he){return!!he}).map(function(he){return he.split(/\s*:\s*/)});ut=j.pop();)this.style(ut[0],ut[1])}else this.node.style[W(j)]=null===ut||h.regex.isBlank.test(ut)?"":ut;return this}}),h.Parent=h.invent({create:function(j){this.constructor.call(this,j)},inherit:h.Element,extend:{children:function(){return h.utils.map(h.utils.filterSVGElements(this.node.childNodes),function(j){return h.adopt(j)})},add:function(j,ut){return null==ut?this.node.appendChild(j.node):j.node!=this.node.childNodes[ut]&&this.node.insertBefore(j.node,this.node.childNodes[ut]),this},put:function(j,ut){return this.add(j,ut),j},has:function(j){return this.index(j)>=0},index:function(j){return[].slice.call(this.node.childNodes).indexOf(j.node)},get:function(j){return h.adopt(this.node.childNodes[j])},first:function(){return this.get(0)},last:function(){return this.get(this.node.childNodes.length-1)},each:function(j,ut){for(var Zt=this.children(),he=0,Ue=Zt.length;he<Ue;he++)Zt[he]instanceof h.Element&&j.apply(Zt[he],[he,Zt]),ut&&Zt[he]instanceof h.Container&&Zt[he].each(j,ut);return this},removeElement:function(j){return this.node.removeChild(j.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,this},defs:function(){return this.doc().defs()}}}),h.extend(h.Parent,{ungroup:function(j,ut){return 0===ut||this instanceof h.Defs||this.node==h.parser.draw||(j=j||(this instanceof h.Doc?this:this.parent(h.Parent)),ut=ut||1/0,this.each(function(){return this instanceof h.Defs?this:this instanceof h.Parent?this.ungroup(j,ut-1):this.toParent(j)}),this.node.firstChild||this.remove()),this},flatten:function(j,ut){return this.ungroup(j,ut)}}),h.Container=h.invent({create:function(j){this.constructor.call(this,j)},inherit:h.Parent}),h.ViewBox=h.invent({parent:h.Container,construct:{}}),["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","touchstart","touchmove","touchleave","touchend","touchcancel"].forEach(function(j){h.Element.prototype[j]=function(ut){return h.on(this.node,j,ut),this}}),h.listeners=[],h.handlerMap=[],h.listenerId=0,h.on=function(j,ut,Zt,he,Ue){var kn=Zt.bind(he||j.instance||j),rn=(h.handlerMap.indexOf(j)+1||h.handlerMap.push(j))-1,Kn=ut.split(".")[0],zn=ut.split(".")[1]||"*";h.listeners[rn]=h.listeners[rn]||{},h.listeners[rn][Kn]=h.listeners[rn][Kn]||{},h.listeners[rn][Kn][zn]=h.listeners[rn][Kn][zn]||{},Zt._svgjsListenerId||(Zt._svgjsListenerId=++h.listenerId),h.listeners[rn][Kn][zn][Zt._svgjsListenerId]=kn,j.addEventListener(Kn,kn,Ue||{passive:!0})},h.off=function(j,ut,Zt){var he=h.handlerMap.indexOf(j),Ue=ut&&ut.split(".")[0],kn=ut&&ut.split(".")[1],rn="";if(-1!=he)if(Zt){if("function"==typeof Zt&&(Zt=Zt._svgjsListenerId),!Zt)return;h.listeners[he][Ue]&&h.listeners[he][Ue][kn||"*"]&&(j.removeEventListener(Ue,h.listeners[he][Ue][kn||"*"][Zt],!1),delete h.listeners[he][Ue][kn||"*"][Zt])}else if(kn&&Ue){if(h.listeners[he][Ue]&&h.listeners[he][Ue][kn]){for(var Kn in h.listeners[he][Ue][kn])h.off(j,[Ue,kn].join("."),Kn);delete h.listeners[he][Ue][kn]}}else if(kn)for(var zn in h.listeners[he])for(var rn in h.listeners[he][zn])kn===rn&&h.off(j,[zn,kn].join("."));else if(Ue){if(h.listeners[he][Ue]){for(var rn in h.listeners[he][Ue])h.off(j,[Ue,rn].join("."));delete h.listeners[he][Ue]}}else{for(var zn in h.listeners[he])h.off(j,zn);delete h.listeners[he],delete h.handlerMap[he]}},h.extend(h.Element,{on:function(j,ut,Zt,he){return h.on(this.node,j,ut,Zt,he),this},off:function(j,ut){return h.off(this.node,j,ut),this},fire:function(j,ut){return this.node.dispatchEvent(j instanceof ae.Event?j:j=new h.CustomEvent(j,{detail:ut,cancelable:!0})),this._event=j,this},event:function(){return this._event}}),h.Defs=h.invent({create:"defs",inherit:h.Container}),h.G=h.invent({create:"g",inherit:h.Container,extend:{x:function(j){return null==j?this.transform("x"):this.transform({x:j-this.x()},!0)}},construct:{group:function(){return this.put(new h.G)}}}),h.Doc=h.invent({create:function(j){j&&("svg"==(j="string"==typeof j?c.getElementById(j):j).nodeName?this.constructor.call(this,j):(this.constructor.call(this,h.create("svg")),j.appendChild(this.node),this.size("100%","100%")),this.namespace().defs())},inherit:h.Container,extend:{namespace:function(){return this.attr({xmlns:h.ns,version:"1.1"}).attr("xmlns:xlink",h.xlink,h.xmlns).attr("xmlns:svgjs",h.svgjs,h.xmlns)},defs:function(){var j;return this._defs||(this._defs=(j=this.node.getElementsByTagName("defs")[0])?h.adopt(j):new h.Defs,this.node.appendChild(this._defs.node)),this._defs},parent:function(){return this.node.parentNode&&"#document"!=this.node.parentNode.nodeName?this.node.parentNode:null},remove:function(){return this.parent()&&this.parent().removeChild(this.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,h.parser.draw&&!h.parser.draw.parentNode&&this.node.appendChild(h.parser.draw),this},clone:function(j){this.writeDataToDom();var ut=this.node,Zt=Ht(ut.cloneNode(!0));return j?(j.node||j).appendChild(Zt.node):ut.parentNode.insertBefore(Zt.node,ut.nextSibling),Zt}}}),h.extend(h.Element,{}),h.Gradient=h.invent({create:function(j){this.constructor.call(this,h.create(j+"Gradient")),this.type=j},inherit:h.Container,extend:{at:function(j,ut,Zt){return this.put(new h.Stop).update(j,ut,Zt)},update:function(j){return this.clear(),"function"==typeof j&&j.call(this,this),this},fill:function(){return"url(#"+this.id()+")"},toString:function(){return this.fill()},attr:function(j,ut,Zt){return"transform"==j&&(j="gradientTransform"),h.Container.prototype.attr.call(this,j,ut,Zt)}},construct:{gradient:function(j,ut){return this.defs().gradient(j,ut)}}}),h.extend(h.Gradient,h.FX,{from:function(j,ut){return this.attr("radial"==(this._target||this).type?{fx:new h.Number(j),fy:new h.Number(ut)}:{x1:new h.Number(j),y1:new h.Number(ut)})},to:function(j,ut){return this.attr("radial"==(this._target||this).type?{cx:new h.Number(j),cy:new h.Number(ut)}:{x2:new h.Number(j),y2:new h.Number(ut)})}}),h.extend(h.Defs,{gradient:function(j,ut){return this.put(new h.Gradient(j)).update(ut)}}),h.Stop=h.invent({create:"stop",inherit:h.Element,extend:{update:function(j){return("number"==typeof j||j instanceof h.Number)&&(j={offset:arguments[0],color:arguments[1],opacity:arguments[2]}),null!=j.opacity&&this.attr("stop-opacity",j.opacity),null!=j.color&&this.attr("stop-color",j.color),null!=j.offset&&this.attr("offset",new h.Number(j.offset)),this}}}),h.Pattern=h.invent({create:"pattern",inherit:h.Container,extend:{fill:function(){return"url(#"+this.id()+")"},update:function(j){return this.clear(),"function"==typeof j&&j.call(this,this),this},toString:function(){return this.fill()},attr:function(j,ut,Zt){return"transform"==j&&(j="patternTransform"),h.Container.prototype.attr.call(this,j,ut,Zt)}},construct:{pattern:function(j,ut,Zt){return this.defs().pattern(j,ut,Zt)}}}),h.extend(h.Defs,{pattern:function(j,ut,Zt){return this.put(new h.Pattern).update(Zt).attr({x:0,y:0,width:j,height:ut,patternUnits:"userSpaceOnUse"})}}),h.Shape=h.invent({create:function(j){this.constructor.call(this,j)},inherit:h.Element}),h.Symbol=h.invent({create:"symbol",inherit:h.Container,construct:{symbol:function(){return this.put(new h.Symbol)}}}),h.Use=h.invent({create:"use",inherit:h.Shape,extend:{element:function(j,ut){return this.attr("href",(ut||"")+"#"+j,h.xlink)}},construct:{use:function(j,ut){return this.put(new h.Use).element(j,ut)}}}),h.Rect=h.invent({create:"rect",inherit:h.Shape,construct:{rect:function(j,ut){return this.put(new h.Rect).size(j,ut)}}}),h.Circle=h.invent({create:"circle",inherit:h.Shape,construct:{circle:function(j){return this.put(new h.Circle).rx(new h.Number(j).divide(2)).move(0,0)}}}),h.extend(h.Circle,h.FX,{rx:function(j){return this.attr("r",j)},ry:function(j){return this.rx(j)}}),h.Ellipse=h.invent({create:"ellipse",inherit:h.Shape,construct:{ellipse:function(j,ut){return this.put(new h.Ellipse).size(j,ut).move(0,0)}}}),h.extend(h.Ellipse,h.Rect,h.FX,{rx:function(j){return this.attr("rx",j)},ry:function(j){return this.attr("ry",j)}}),h.extend(h.Circle,h.Ellipse,{x:function(j){return null==j?this.cx()-this.rx():this.cx(j+this.rx())},y:function(j){return null==j?this.cy()-this.ry():this.cy(j+this.ry())},cx:function(j){return null==j?this.attr("cx"):this.attr("cx",j)},cy:function(j){return null==j?this.attr("cy"):this.attr("cy",j)},width:function(j){return null==j?2*this.rx():this.rx(new h.Number(j).divide(2))},height:function(j){return null==j?2*this.ry():this.ry(new h.Number(j).divide(2))},size:function(j,ut){var Zt=ct(this,j,ut);return this.rx(new h.Number(Zt.width).divide(2)).ry(new h.Number(Zt.height).divide(2))}}),h.Line=h.invent({create:"line",inherit:h.Shape,extend:{array:function(){return new h.PointArray([[this.attr("x1"),this.attr("y1")],[this.attr("x2"),this.attr("y2")]])},plot:function(j,ut,Zt,he){return null==j?this.array():(j=void 0!==ut?{x1:j,y1:ut,x2:Zt,y2:he}:new h.PointArray(j).toLine(),this.attr(j))},move:function(j,ut){return this.attr(this.array().move(j,ut).toLine())},size:function(j,ut){var Zt=ct(this,j,ut);return this.attr(this.array().size(Zt.width,Zt.height).toLine())}},construct:{line:function(j,ut,Zt,he){return h.Line.prototype.plot.apply(this.put(new h.Line),null!=j?[j,ut,Zt,he]:[0,0,0,0])}}}),h.Polyline=h.invent({create:"polyline",inherit:h.Shape,construct:{polyline:function(j){return this.put(new h.Polyline).plot(j||new h.PointArray)}}}),h.Polygon=h.invent({create:"polygon",inherit:h.Shape,construct:{polygon:function(j){return this.put(new h.Polygon).plot(j||new h.PointArray)}}}),h.extend(h.Polyline,h.Polygon,{array:function(){return this._array||(this._array=new h.PointArray(this.attr("points")))},plot:function(j){return null==j?this.array():this.clear().attr("points","string"==typeof j?j:this._array=new h.PointArray(j))},clear:function(){return delete this._array,this},move:function(j,ut){return this.attr("points",this.array().move(j,ut))},size:function(j,ut){var Zt=ct(this,j,ut);return this.attr("points",this.array().size(Zt.width,Zt.height))}}),h.extend(h.Line,h.Polyline,h.Polygon,{morphArray:h.PointArray,x:function(j){return null==j?this.bbox().x:this.move(j,this.bbox().y)},y:function(j){return null==j?this.bbox().y:this.move(this.bbox().x,j)},width:function(j){var ut=this.bbox();return null==j?ut.width:this.size(j,ut.height)},height:function(j){var ut=this.bbox();return null==j?ut.height:this.size(ut.width,j)}}),h.Path=h.invent({create:"path",inherit:h.Shape,extend:{morphArray:h.PathArray,array:function(){return this._array||(this._array=new h.PathArray(this.attr("d")))},plot:function(j){return null==j?this.array():this.clear().attr("d","string"==typeof j?j:this._array=new h.PathArray(j))},clear:function(){return delete this._array,this}},construct:{path:function(j){return this.put(new h.Path).plot(j||new h.PathArray)}}}),h.Image=h.invent({create:"image",inherit:h.Shape,extend:{load:function(j){if(!j)return this;var ut=this,Zt=new ae.Image;return h.on(Zt,"load",function(){h.off(Zt);var he=ut.parent(h.Pattern);null!==he&&(0==ut.width()&&0==ut.height()&&ut.size(Zt.width,Zt.height),he&&0==he.width()&&0==he.height()&&he.size(ut.width(),ut.height()),"function"==typeof ut._loaded&&ut._loaded.call(ut,{width:Zt.width,height:Zt.height,ratio:Zt.width/Zt.height,url:j}))}),h.on(Zt,"error",function(he){h.off(Zt),"function"==typeof ut._error&&ut._error.call(ut,he)}),this.attr("href",Zt.src=this.src=j,h.xlink)},loaded:function(j){return this._loaded=j,this},error:function(j){return this._error=j,this}},construct:{image:function(j,ut,Zt){return this.put(new h.Image).load(j).size(ut||0,Zt||ut||0)}}}),h.Text=h.invent({create:function(){this.constructor.call(this,h.create("text")),this.dom.leading=new h.Number(1.3),this._rebuild=!0,this._build=!1,this.attr("font-family",h.defaults.attrs["font-family"])},inherit:h.Shape,extend:{x:function(j){return null==j?this.attr("x"):this.attr("x",j)},text:function(j){if(void 0===j){j="";for(var ut=this.node.childNodes,Zt=0,he=ut.length;Zt<he;++Zt)0!=Zt&&3!=ut[Zt].nodeType&&1==h.adopt(ut[Zt]).dom.newLined&&(j+="\n"),j+=ut[Zt].textContent;return j}if(this.clear().build(!0),"function"==typeof j)j.call(this,this);else{Zt=0;for(var Ue=(j=j.split("\n")).length;Zt<Ue;Zt++)this.tspan(j[Zt]).newLine()}return this.build(!1).rebuild()},size:function(j){return this.attr("font-size",j).rebuild()},leading:function(j){return null==j?this.dom.leading:(this.dom.leading=new h.Number(j),this.rebuild())},lines:function(){var j=(this.textPath&&this.textPath()||this).node,ut=h.utils.map(h.utils.filterSVGElements(j.childNodes),function(Zt){return h.adopt(Zt)});return new h.Set(ut)},rebuild:function(j){if("boolean"==typeof j&&(this._rebuild=j),this._rebuild){var ut=this,Zt=0,he=this.dom.leading*new h.Number(this.attr("font-size"));this.lines().each(function(){this.dom.newLined&&(ut.textPath()||this.attr("x",ut.attr("x")),"\n"==this.text()?Zt+=he:(this.attr("dy",he+Zt),Zt=0))}),this.fire("rebuild")}return this},build:function(j){return this._build=!!j,this},setData:function(j){return this.dom=j,this.dom.leading=new h.Number(j.leading||1.3),this}},construct:{text:function(j){return this.put(new h.Text).text(j)},plain:function(j){return this.put(new h.Text).plain(j)}}}),h.Tspan=h.invent({create:"tspan",inherit:h.Shape,extend:{text:function(j){return null==j?this.node.textContent+(this.dom.newLined?"\n":""):("function"==typeof j?j.call(this,this):this.plain(j),this)},dx:function(j){return this.attr("dx",j)},dy:function(j){return this.attr("dy",j)},newLine:function(){var j=this.parent(h.Text);return this.dom.newLined=!0,this.dy(j.dom.leading*j.attr("font-size")).attr("x",j.x())}}}),h.extend(h.Text,h.Tspan,{plain:function(j){return!1===this._build&&this.clear(),this.node.appendChild(c.createTextNode(j)),this},tspan:function(j){var ut=(this.textPath&&this.textPath()||this).node,Zt=new h.Tspan;return!1===this._build&&this.clear(),ut.appendChild(Zt.node),Zt.text(j)},clear:function(){for(var j=(this.textPath&&this.textPath()||this).node;j.hasChildNodes();)j.removeChild(j.lastChild);return this},length:function(){return this.node.getComputedTextLength()}}),h.TextPath=h.invent({create:"textPath",inherit:h.Parent,parent:h.Text,construct:{morphArray:h.PathArray,array:function(){var j=this.track();return j?j.array():null},plot:function(j){var ut=this.track(),Zt=null;return ut&&(Zt=ut.plot(j)),null==j?Zt:this},track:function(){var j=this.textPath();if(j)return j.reference("href")},textPath:function(){if(this.node.firstChild&&"textPath"==this.node.firstChild.nodeName)return h.adopt(this.node.firstChild)}}}),h.Nested=h.invent({create:function(){this.constructor.call(this,h.create("svg")),this.style("overflow","visible")},inherit:h.Container,construct:{nested:function(){return this.put(new h.Nested)}}});var E={stroke:["color","width","opacity","linecap","linejoin","miterlimit","dasharray","dashoffset"],fill:["color","opacity","rule"],prefix:function(j,ut){return"color"==ut?j:j+"-"+ut}};function F(j,ut,Zt,he){return Zt+he.replace(h.regex.dots," .")}function W(j){return j.toLowerCase().replace(/-(.)/g,function(ut,Zt){return Zt.toUpperCase()})}function K(j){return j.charAt(0).toUpperCase()+j.slice(1)}function J(j){var ut=j.toString(16);return 1==ut.length?"0"+ut:ut}function ct(j,ut,Zt){if(null==ut||null==Zt){var he=j.bbox();null==ut?ut=he.width/he.height*Zt:null==Zt&&(Zt=he.height/he.width*ut)}return{width:ut,height:Zt}}function yt(j,ut,Zt){return{x:ut*j.a+Zt*j.c+0,y:ut*j.b+Zt*j.d+0}}function Vt(j){return{a:j[0],b:j[1],c:j[2],d:j[3],e:j[4],f:j[5]}}function Ht(j){for(var ut=j.childNodes.length-1;ut>=0;ut--)j.childNodes[ut]instanceof ae.SVGElement&&Ht(j.childNodes[ut]);return h.adopt(j).id(h.eid(j.nodeName))}function qt(j){return null==j.x&&(j.x=0,j.y=0,j.width=0,j.height=0),j.w=j.width,j.h=j.height,j.x2=j.x+j.width,j.y2=j.y+j.height,j.cx=j.x+j.width/2,j.cy=j.y+j.height/2,j}function le(j){return Math.abs(j)>1e-37?j:0}["fill","stroke"].forEach(function(j){var ut={};ut[j]=function(Zt){if(void 0===Zt)return this;if("string"==typeof Zt||h.Color.isRgb(Zt)||Zt&&"function"==typeof Zt.fill)this.attr(j,Zt);else for(var he=E[j].length-1;he>=0;he--)null!=Zt[E[j][he]]&&this.attr(E.prefix(j,E[j][he]),Zt[E[j][he]]);return this},h.extend(h.Element,h.FX,ut)}),h.extend(h.Element,h.FX,{translate:function(j,ut){return this.transform({x:j,y:ut})},matrix:function(j){return this.attr("transform",new h.Matrix(6==arguments.length?[].slice.call(arguments):j))},opacity:function(j){return this.attr("opacity",j)},dx:function(j){return this.x(new h.Number(j).plus(this instanceof h.FX?0:this.x()),!0)},dy:function(j){return this.y(new h.Number(j).plus(this instanceof h.FX?0:this.y()),!0)}}),h.extend(h.Path,{length:function(){return this.node.getTotalLength()},pointAt:function(j){return this.node.getPointAtLength(j)}}),h.Set=h.invent({create:function(j){Array.isArray(j)?this.members=j:this.clear()},extend:{add:function(){for(var j=[].slice.call(arguments),ut=0,Zt=j.length;ut<Zt;ut++)this.members.push(j[ut]);return this},remove:function(j){var ut=this.index(j);return ut>-1&&this.members.splice(ut,1),this},each:function(j){for(var ut=0,Zt=this.members.length;ut<Zt;ut++)j.apply(this.members[ut],[ut,this.members]);return this},clear:function(){return this.members=[],this},length:function(){return this.members.length},has:function(j){return this.index(j)>=0},index:function(j){return this.members.indexOf(j)},get:function(j){return this.members[j]},first:function(){return this.get(0)},last:function(){return this.get(this.members.length-1)},valueOf:function(){return this.members}},construct:{set:function(j){return new h.Set(j)}}}),h.FX.Set=h.invent({create:function(j){this.set=j}}),h.Set.inherit=function(){var j=[];for(var ut in h.Shape.prototype)"function"==typeof h.Shape.prototype[ut]&&"function"!=typeof h.Set.prototype[ut]&&j.push(ut);for(var ut in j.forEach(function(he){h.Set.prototype[he]=function(){for(var Ue=0,kn=this.members.length;Ue<kn;Ue++)this.members[Ue]&&"function"==typeof this.members[Ue][he]&&this.members[Ue][he].apply(this.members[Ue],arguments);return"animate"==he?this.fx||(this.fx=new h.FX.Set(this)):this}}),j=[],h.FX.prototype)"function"==typeof h.FX.prototype[ut]&&"function"!=typeof h.FX.Set.prototype[ut]&&j.push(ut);j.forEach(function(Zt){h.FX.Set.prototype[Zt]=function(){for(var he=0,Ue=this.set.members.length;he<Ue;he++)this.set.members[he].fx[Zt].apply(this.set.members[he].fx,arguments);return this}})},h.extend(h.Element,{}),h.extend(h.Element,{remember:function(j,ut){if("object"===Le(arguments[0]))for(var Zt in j)this.remember(Zt,j[Zt]);else{if(1==arguments.length)return this.memory()[j];this.memory()[j]=ut}return this},forget:function(){if(0==arguments.length)this._memory={};else for(var j=arguments.length-1;j>=0;j--)delete this.memory()[arguments[j]];return this},memory:function(){return this._memory||(this._memory={})}}),h.get=function(j){var ut=c.getElementById(function(Zt){var he=(Zt||"").toString().match(h.regex.reference);if(he)return he[1]}(j)||j);return h.adopt(ut)},h.select=function(j,ut){return new h.Set(h.utils.map((ut||c).querySelectorAll(j),function(Zt){return h.adopt(Zt)}))},h.extend(h.Parent,{select:function(j){return h.select(j,this.node)}});var me="abcdef".split("");if("function"!=typeof ae.CustomEvent){var De=function(j,ut){ut=ut||{bubbles:!1,cancelable:!1,detail:void 0};var Zt=c.createEvent("CustomEvent");return Zt.initCustomEvent(j,ut.bubbles,ut.cancelable,ut.detail),Zt};De.prototype=ae.Event.prototype,h.CustomEvent=De}else h.CustomEvent=ae.CustomEvent;return h},"function"==typeof define&&define.amd?define(function(){return Oa(oo,oo.document)}):"object"===("undefined"==typeof exports?"undefined":Le(exports))&&"undefined"!=typeof module?module.exports=oo.document?Oa(oo,oo.document):function(ae){return Oa(ae,ae.document)}:oo.SVG=Oa(oo,oo.document),function(){SVG.Filter=SVG.invent({create:"filter",inherit:SVG.Parent,extend:{source:"SourceGraphic",sourceAlpha:"SourceAlpha",background:"BackgroundImage",backgroundAlpha:"BackgroundAlpha",fill:"FillPaint",stroke:"StrokePaint",autoSetIn:!0,put:function(E,F){return this.add(E,F),!E.attr("in")&&this.autoSetIn&&E.attr("in",this.source),E.attr("result")||E.attr("result",E),E},blend:function(E,F,W){return this.put(new SVG.BlendEffect(E,F,W))},colorMatrix:function(E,F){return this.put(new SVG.ColorMatrixEffect(E,F))},convolveMatrix:function(E){return this.put(new SVG.ConvolveMatrixEffect(E))},componentTransfer:function(E){return this.put(new SVG.ComponentTransferEffect(E))},composite:function(E,F,W){return this.put(new SVG.CompositeEffect(E,F,W))},flood:function(E,F){return this.put(new SVG.FloodEffect(E,F))},offset:function(E,F){return this.put(new SVG.OffsetEffect(E,F))},image:function(E){return this.put(new SVG.ImageEffect(E))},merge:function(){var E=[void 0];for(var F in arguments)E.push(arguments[F]);return this.put(new(SVG.MergeEffect.bind.apply(SVG.MergeEffect,E)))},gaussianBlur:function(E,F){return this.put(new SVG.GaussianBlurEffect(E,F))},morphology:function(E,F){return this.put(new SVG.MorphologyEffect(E,F))},diffuseLighting:function(E,F,W){return this.put(new SVG.DiffuseLightingEffect(E,F,W))},displacementMap:function(E,F,W,K,J){return this.put(new SVG.DisplacementMapEffect(E,F,W,K,J))},specularLighting:function(E,F,W,K){return this.put(new SVG.SpecularLightingEffect(E,F,W,K))},tile:function(){return this.put(new SVG.TileEffect)},turbulence:function(E,F,W,K,J){return this.put(new SVG.TurbulenceEffect(E,F,W,K,J))},toString:function(){return"url(#"+this.attr("id")+")"}}}),SVG.extend(SVG.Defs,{filter:function(E){var F=this.put(new SVG.Filter);return"function"==typeof E&&E.call(F,F),F}}),SVG.extend(SVG.Container,{filter:function(E){return this.defs().filter(E)}}),SVG.extend(SVG.Element,SVG.G,SVG.Nested,{filter:function(E){return this.filterer=E instanceof SVG.Element?E:this.doc().filter(E),this.doc()&&this.filterer.doc()!==this.doc()&&this.doc().defs().add(this.filterer),this.attr("filter",this.filterer),this.filterer},unfilter:function(E){return this.filterer&&!0===E&&this.filterer.remove(),delete this.filterer,this.attr("filter",null)}}),SVG.Effect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Element,extend:{in:function(E){return null==E?this.parent()&&this.parent().select('[result="'+this.attr("in")+'"]').get(0)||this.attr("in"):this.attr("in",E)},result:function(E){return null==E?this.attr("result"):this.attr("result",E)},toString:function(){return this.result()}}}),SVG.ParentEffect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Parent,extend:{in:function(E){return null==E?this.parent()&&this.parent().select('[result="'+this.attr("in")+'"]').get(0)||this.attr("in"):this.attr("in",E)},result:function(E){return null==E?this.attr("result"):this.attr("result",E)},toString:function(){return this.result()}}});var ae={blend:function(E,F){return this.parent()&&this.parent().blend(this,E,F)},colorMatrix:function(E,F){return this.parent()&&this.parent().colorMatrix(E,F).in(this)},convolveMatrix:function(E){return this.parent()&&this.parent().convolveMatrix(E).in(this)},componentTransfer:function(E){return this.parent()&&this.parent().componentTransfer(E).in(this)},composite:function(E,F){return this.parent()&&this.parent().composite(this,E,F)},flood:function(E,F){return this.parent()&&this.parent().flood(E,F)},offset:function(E,F){return this.parent()&&this.parent().offset(E,F).in(this)},image:function(E){return this.parent()&&this.parent().image(E)},merge:function(){return this.parent()&&this.parent().merge.apply(this.parent(),[this].concat(arguments))},gaussianBlur:function(E,F){return this.parent()&&this.parent().gaussianBlur(E,F).in(this)},morphology:function(E,F){return this.parent()&&this.parent().morphology(E,F).in(this)},diffuseLighting:function(E,F,W){return this.parent()&&this.parent().diffuseLighting(E,F,W).in(this)},displacementMap:function(E,F,W,K){return this.parent()&&this.parent().displacementMap(this,E,F,W,K)},specularLighting:function(E,F,W,K){return this.parent()&&this.parent().specularLighting(E,F,W,K).in(this)},tile:function(){return this.parent()&&this.parent().tile().in(this)},turbulence:function(E,F,W,K,J){return this.parent()&&this.parent().turbulence(E,F,W,K,J).in(this)}};SVG.extend(SVG.Effect,ae),SVG.extend(SVG.ParentEffect,ae),SVG.ChildEffect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Element,extend:{in:function(E){this.attr("in",E)}}});var c={blend:function(E,F,W){this.attr({in:E,in2:F,mode:W||"normal"})},colorMatrix:function(E,F){"matrix"==E&&(F=_(F)),this.attr({type:E,values:void 0===F?null:F})},convolveMatrix:function(E){E=_(E),this.attr({order:Math.sqrt(E.split(" ").length),kernelMatrix:E})},composite:function(E,F,W){this.attr({in:E,in2:F,operator:W})},flood:function(E,F){this.attr("flood-color",E),null!=F&&this.attr("flood-opacity",F)},offset:function(E,F){this.attr({dx:E,dy:F})},image:function(E){this.attr("href",E,SVG.xlink)},displacementMap:function(E,F,W,K,J){this.attr({in:E,in2:F,scale:W,xChannelSelector:K,yChannelSelector:J})},gaussianBlur:function(E,F){this.attr("stdDeviation",null!=E||null!=F?A(Array.prototype.slice.call(arguments)):"0 0")},morphology:function(E,F){this.attr({operator:E,radius:F})},tile:function(){},turbulence:function(E,F,W,K,J){this.attr({numOctaves:F,seed:W,stitchTiles:K,baseFrequency:E,type:J})}},h={merge:function(){var E;if(arguments[0]instanceof SVG.Set){var F=this;arguments[0].each(function(K){this instanceof SVG.MergeNode?F.put(this):(this instanceof SVG.Effect||this instanceof SVG.ParentEffect)&&F.put(new SVG.MergeNode(this))})}else{E=Array.isArray(arguments[0])?arguments[0]:arguments;for(var W=0;W<E.length;W++)E[W]instanceof SVG.MergeNode?this.put(E[W]):this.put(new SVG.MergeNode(E[W]))}},componentTransfer:function(E){if(this.rgb=new SVG.Set,["r","g","b","a"].forEach(function(W){this[W]=new(SVG["Func"+W.toUpperCase()])("identity"),this.rgb.add(this[W]),this.node.appendChild(this[W].node)}.bind(this)),E)for(var F in E.rgb&&(["r","g","b"].forEach(function(W){this[W].attr(E.rgb)}.bind(this)),delete E.rgb),E)this[F].attr(E[F])},diffuseLighting:function(E,F,W){this.attr({surfaceScale:E,diffuseConstant:F,kernelUnitLength:W})},specularLighting:function(E,F,W,K){this.attr({surfaceScale:E,diffuseConstant:F,specularExponent:W,kernelUnitLength:K})}},v={distantLight:function(E,F){this.attr({azimuth:E,elevation:F})},pointLight:function(E,F,W){this.attr({x:E,y:F,z:W})},spotLight:function(E,F,W,K,J,ct){this.attr({x:E,y:F,z:W,pointsAtX:K,pointsAtY:J,pointsAtZ:ct})},mergeNode:function(E){this.attr("in",E)}};function _(E){return Array.isArray(E)&&(E=new SVG.Array(E)),E.toString().replace(/^\s+/,"").replace(/\s+$/,"").replace(/\s+/g," ")}function A(E){if(!Array.isArray(E))return E;for(var F=0,W=E.length,K=[];F<W;F++)K.push(E[F]);return K.join(" ")}function P(){var E=function(){};for(var F in"function"==typeof arguments[arguments.length-1]&&(E=arguments[arguments.length-1],Array.prototype.splice.call(arguments,arguments.length-1,1)),arguments)for(var W in arguments[F])E(arguments[F][W],W,arguments[F])}["r","g","b","a"].forEach(function(E){v["Func"+E.toUpperCase()]=function(F){switch(this.attr("type",F),F){case"table":this.attr("tableValues",arguments[1]);break;case"linear":this.attr("slope",arguments[1]),this.attr("intercept",arguments[2]);break;case"gamma":this.attr("amplitude",arguments[1]),this.attr("exponent",arguments[2]),this.attr("offset",arguments[2])}}}),P(c,function(E,F){var W=F.charAt(0).toUpperCase()+F.slice(1);SVG[W+"Effect"]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+W)),E.apply(this,arguments),this.result(this.attr("id")+"Out")},inherit:SVG.Effect,extend:{}})}),P(h,function(E,F){var W=F.charAt(0).toUpperCase()+F.slice(1);SVG[W+"Effect"]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+W)),E.apply(this,arguments),this.result(this.attr("id")+"Out")},inherit:SVG.ParentEffect,extend:{}})}),P(v,function(E,F){var W=F.charAt(0).toUpperCase()+F.slice(1);SVG[W]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+W)),E.apply(this,arguments)},inherit:SVG.ChildEffect,extend:{}})}),SVG.extend(SVG.MergeEffect,{in:function(E){return E instanceof SVG.MergeNode?this.add(E,0):this.add(new SVG.MergeNode(E),0),this}}),SVG.extend(SVG.CompositeEffect,SVG.BlendEffect,SVG.DisplacementMapEffect,{in2:function(E){return null==E?this.parent()&&this.parent().select('[result="'+this.attr("in2")+'"]').get(0)||this.attr("in2"):this.attr("in2",E)}}),SVG.filter={sepiatone:[.343,.669,.119,0,0,.249,.626,.13,0,0,.172,.334,.111,0,0,0,0,0,1,0]}}.call(void 0),function(){function ae(A,P,E,F,W,K,J){for(var ct=A.slice(P,E||J),yt=F.slice(W,K||J),Vt=0,Ht={pos:[0,0],start:[0,0]},qt={pos:[0,0],start:[0,0]};ct[Vt]=c.call(Ht,ct[Vt]),yt[Vt]=c.call(qt,yt[Vt]),ct[Vt][0]!=yt[Vt][0]||"M"==ct[Vt][0]||"A"==ct[Vt][0]&&(ct[Vt][4]!=yt[Vt][4]||ct[Vt][5]!=yt[Vt][5])?(Array.prototype.splice.apply(ct,[Vt,1].concat(v.call(Ht,ct[Vt]))),Array.prototype.splice.apply(yt,[Vt,1].concat(v.call(qt,yt[Vt])))):(ct[Vt]=h.call(Ht,ct[Vt]),yt[Vt]=h.call(qt,yt[Vt])),++Vt!=ct.length||Vt!=yt.length;)Vt==ct.length&&ct.push(["C",Ht.pos[0],Ht.pos[1],Ht.pos[0],Ht.pos[1],Ht.pos[0],Ht.pos[1]]),Vt==yt.length&&yt.push(["C",qt.pos[0],qt.pos[1],qt.pos[0],qt.pos[1],qt.pos[0],qt.pos[1]]);return{start:ct,dest:yt}}function c(A){switch(A[0]){case"z":case"Z":A[0]="L",A[1]=this.start[0],A[2]=this.start[1];break;case"H":A[0]="L",A[2]=this.pos[1];break;case"V":A[0]="L",A[2]=A[1],A[1]=this.pos[0];break;case"T":A[0]="Q",A[3]=A[1],A[4]=A[2],A[1]=this.reflection[1],A[2]=this.reflection[0];break;case"S":A[0]="C",A[6]=A[4],A[5]=A[3],A[4]=A[2],A[3]=A[1],A[2]=this.reflection[1],A[1]=this.reflection[0]}return A}function h(A){var P=A.length;return this.pos=[A[P-2],A[P-1]],-1!="SCQT".indexOf(A[0])&&(this.reflection=[2*this.pos[0]-A[P-4],2*this.pos[1]-A[P-3]]),A}function v(A){var P=[A];switch(A[0]){case"M":return this.pos=this.start=[A[1],A[2]],P;case"L":A[5]=A[3]=A[1],A[6]=A[4]=A[2],A[1]=this.pos[0],A[2]=this.pos[1];break;case"Q":A[6]=A[4],A[5]=A[3],A[4]=1*A[4]/3+2*A[2]/3,A[3]=1*A[3]/3+2*A[1]/3,A[2]=1*this.pos[1]/3+2*A[2]/3,A[1]=1*this.pos[0]/3+2*A[1]/3;break;case"A":A=(P=function(E,F){var W,K,J,ct,yt,Vt,Ht,qt,le,me,De,j,ut,Zt,he,Ue,kn,rn,Kn,zn,ai,Mi,Ki,Qi,Ur,ao,es=Math.abs(F[1]),ns=Math.abs(F[2]),Ci=F[3]%360,gu=F[4],Ms=F[5],vn=F[6],Qe=F[7],pr=new SVG.Point(E),so=new SVG.Point(vn,Qe),pl=[];if(0===es||0===ns||pr.x===so.x&&pr.y===so.y)return[["C",pr.x,pr.y,so.x,so.y,so.x,so.y]];for((K=(W=new SVG.Point((pr.x-so.x)/2,(pr.y-so.y)/2).transform((new SVG.Matrix).rotate(Ci))).x*W.x/(es*es)+W.y*W.y/(ns*ns))>1&&(es*=K=Math.sqrt(K),ns*=K),J=(new SVG.Matrix).rotate(Ci).scale(1/es,1/ns).rotate(-Ci),pr=pr.transform(J),Vt=(ct=[(so=so.transform(J)).x-pr.x,so.y-pr.y])[0]*ct[0]+ct[1]*ct[1],yt=Math.sqrt(Vt),ct[0]/=yt,ct[1]/=yt,Ht=Vt<4?Math.sqrt(1-Vt/4):0,gu===Ms&&(Ht*=-1),qt=new SVG.Point((so.x+pr.x)/2+Ht*-ct[1],(so.y+pr.y)/2+Ht*ct[0]),le=new SVG.Point(pr.x-qt.x,pr.y-qt.y),me=new SVG.Point(so.x-qt.x,so.y-qt.y),De=Math.acos(le.x/Math.sqrt(le.x*le.x+le.y*le.y)),le.y<0&&(De*=-1),j=Math.acos(me.x/Math.sqrt(me.x*me.x+me.y*me.y)),me.y<0&&(j*=-1),Ms&&De>j&&(j+=2*Math.PI),!Ms&&De<j&&(j-=2*Math.PI),Ue=[],kn=De,ut=(j-De)/(Zt=Math.ceil(2*Math.abs(De-j)/Math.PI)),he=4*Math.tan(ut/4)/3,ai=0;ai<=Zt;ai++)Kn=Math.cos(kn),rn=Math.sin(kn),zn=new SVG.Point(qt.x+Kn,qt.y+rn),Ue[ai]=[new SVG.Point(zn.x+he*rn,zn.y-he*Kn),zn,new SVG.Point(zn.x-he*rn,zn.y+he*Kn)],kn+=ut;for(Ue[0][0]=Ue[0][1].clone(),Ue[Ue.length-1][2]=Ue[Ue.length-1][1].clone(),J=(new SVG.Matrix).rotate(Ci).scale(es,ns).rotate(-Ci),ai=0,Mi=Ue.length;ai<Mi;ai++)Ue[ai][0]=Ue[ai][0].transform(J),Ue[ai][1]=Ue[ai][1].transform(J),Ue[ai][2]=Ue[ai][2].transform(J);for(ai=1,Mi=Ue.length;ai<Mi;ai++)Ki=(zn=Ue[ai-1][2]).x,Qi=zn.y,Ur=(zn=Ue[ai][0]).x,ao=zn.y,vn=(zn=Ue[ai][1]).x,pl.push(["C",Ki,Qi,Ur,ao,vn,Qe=zn.y]);return pl}(this.pos,A))[0]}return A[0]="C",this.pos=[A[5],A[6]],this.reflection=[2*A[5]-A[3],2*A[6]-A[4]],P}function _(A,P){if(!1===P)return!1;for(var E=P,F=A.length;E<F;++E)if("M"==A[E][0])return E;return!1}SVG.extend(SVG.PathArray,{morph:function(A){for(var P=this.value,E=this.parse(A),F=0,W=0,K=!1,J=!1;!1!==F||!1!==W;){var ct;K=_(P,!1!==F&&F+1),J=_(E,!1!==W&&W+1),!1===F&&(F=0==(ct=new SVG.PathArray(yt.start).bbox()).height||0==ct.width?P.push(P[0])-1:P.push(["M",ct.x+ct.width/2,ct.y+ct.height/2])-1),!1===W&&(W=0==(ct=new SVG.PathArray(yt.dest).bbox()).height||0==ct.width?E.push(E[0])-1:E.push(["M",ct.x+ct.width/2,ct.y+ct.height/2])-1);var yt=ae(P,F,K,E,W,J);P=P.slice(0,F).concat(yt.start,!1===K?[]:P.slice(K)),E=E.slice(0,W).concat(yt.dest,!1===J?[]:E.slice(J)),F=!1!==K&&F+yt.start.length,W=!1!==J&&W+yt.dest.length}return this.value=P,this.destination=new SVG.PathArray,this.destination.value=E,this}})}(),function(){function ae(c){c.remember("_draggable",this),this.el=c}ae.prototype.init=function(c,h){var v=this;this.constraint=c,this.value=h,this.el.on("mousedown.drag",function(_){v.start(_)}),this.el.on("touchstart.drag",function(_){v.start(_)})},ae.prototype.transformPoint=function(c,h){var v=(c=c||window.event).changedTouches&&c.changedTouches[0]||c;return this.p.x=v.clientX-(h||0),this.p.y=v.clientY,this.p.matrixTransform(this.m)},ae.prototype.getBBox=function(){var c=this.el.bbox();return this.el instanceof SVG.Nested&&(c=this.el.rbox()),(this.el instanceof SVG.G||this.el instanceof SVG.Use||this.el instanceof SVG.Nested)&&(c.x=this.el.x(),c.y=this.el.y()),c},ae.prototype.start=function(c){if("click"!=c.type&&"mousedown"!=c.type&&"mousemove"!=c.type||1==(c.which||c.buttons)){var h=this;if(this.el.fire("beforedrag",{event:c,handler:this}),!this.el.event().defaultPrevented){c.preventDefault(),c.stopPropagation(),this.parent=this.parent||this.el.parent(SVG.Nested)||this.el.parent(SVG.Doc),this.p=this.parent.node.createSVGPoint(),this.m=this.el.node.getScreenCTM().inverse();var v,_=this.getBBox();if(this.el instanceof SVG.Text)switch(v=this.el.node.getComputedTextLength(),this.el.attr("text-anchor")){case"middle":v/=2;break;case"start":v=0}this.startPoints={point:this.transformPoint(c,v),box:_,transform:this.el.transform()},SVG.on(window,"mousemove.drag",function(A){h.drag(A)}),SVG.on(window,"touchmove.drag",function(A){h.drag(A)}),SVG.on(window,"mouseup.drag",function(A){h.end(A)}),SVG.on(window,"touchend.drag",function(A){h.end(A)}),this.el.fire("dragstart",{event:c,p:this.startPoints.point,m:this.m,handler:this})}}},ae.prototype.drag=function(c){var h=this.getBBox(),v=this.transformPoint(c),_=this.startPoints.box.x+v.x-this.startPoints.point.x,A=this.startPoints.box.y+v.y-this.startPoints.point.y,P=this.constraint,E=v.x-this.startPoints.point.x,F=v.y-this.startPoints.point.y;if(this.el.fire("dragmove",{event:c,p:v,m:this.m,handler:this}),this.el.event().defaultPrevented)return v;if("function"==typeof P){var W=P.call(this.el,_,A,this.m);"boolean"==typeof W&&(W={x:W,y:W}),!0===W.x?this.el.x(_):!1!==W.x&&this.el.x(W.x),!0===W.y?this.el.y(A):!1!==W.y&&this.el.y(W.y)}else"object"==typeof P&&(null!=P.minX&&_<P.minX?E=(_=P.minX)-this.startPoints.box.x:null!=P.maxX&&_>P.maxX-h.width&&(E=(_=P.maxX-h.width)-this.startPoints.box.x),null!=P.minY&&A<P.minY?F=(A=P.minY)-this.startPoints.box.y:null!=P.maxY&&A>P.maxY-h.height&&(F=(A=P.maxY-h.height)-this.startPoints.box.y),null!=P.snapToGrid&&(_-=_%P.snapToGrid,A-=A%P.snapToGrid,E-=E%P.snapToGrid,F-=F%P.snapToGrid),this.el instanceof SVG.G?this.el.matrix(this.startPoints.transform).transform({x:E,y:F},!0):this.el.move(_,A));return v},ae.prototype.end=function(c){var h=this.drag(c);this.el.fire("dragend",{event:c,p:h,m:this.m,handler:this}),SVG.off(window,"mousemove.drag"),SVG.off(window,"touchmove.drag"),SVG.off(window,"mouseup.drag"),SVG.off(window,"touchend.drag")},SVG.extend(SVG.Element,{draggable:function(c,h){"function"!=typeof c&&"object"!=typeof c||(h=c,c=!0);var v=this.remember("_draggable")||new ae(this);return(c=void 0===c||c)?v.init(h||{},c):(this.off("mousedown.drag"),this.off("touchstart.drag")),this}})}.call(void 0),function(){function ae(c){this.el=c,c.remember("_selectHandler",this),this.pointSelection={isSelected:!1},this.rectSelection={isSelected:!1},this.pointsList={lt:[0,0],rt:["width",0],rb:["width","height"],lb:[0,"height"],t:["width",0],r:["width","height"],b:["width","height"],l:[0,"height"]},this.pointCoord=function(h,v,_){var A="string"!=typeof h?h:v[h];return _?A/2:A},this.pointCoords=function(h,v){var _=this.pointsList[h];return{x:this.pointCoord(_[0],v,"t"===h||"b"===h),y:this.pointCoord(_[1],v,"r"===h||"l"===h)}}}ae.prototype.init=function(c,h){var v=this.el.bbox();this.options={};var _=this.el.selectize.defaults.points;for(var A in this.el.selectize.defaults)this.options[A]=this.el.selectize.defaults[A],void 0!==h[A]&&(this.options[A]=h[A]);var P=["points","pointsExclude"];for(var A in P){var E=this.options[P[A]];"string"==typeof E?E=E.length>0?E.split(/\s*,\s*/i):[]:"boolean"==typeof E&&"points"===P[A]&&(E=E?_:[]),this.options[P[A]]=E}this.options.points=[_,this.options.points].reduce(function(F,W){return F.filter(function(K){return W.indexOf(K)>-1})}),this.options.points=[this.options.points,this.options.pointsExclude].reduce(function(F,W){return F.filter(function(K){return W.indexOf(K)<0})}),this.parent=this.el.parent(),this.nested=this.nested||this.parent.group(),this.nested.matrix(new SVG.Matrix(this.el).translate(v.x,v.y)),this.options.deepSelect&&-1!==["line","polyline","polygon"].indexOf(this.el.type)?this.selectPoints(c):this.selectRect(c),this.observe(),this.cleanup()},ae.prototype.selectPoints=function(c){return this.pointSelection.isSelected=c,this.pointSelection.set||(this.pointSelection.set=this.parent.set(),this.drawPoints()),this},ae.prototype.getPointArray=function(){var c=this.el.bbox();return this.el.array().valueOf().map(function(h){return[h[0]-c.x,h[1]-c.y]})},ae.prototype.drawPoints=function(){for(var c=this,h=this.getPointArray(),v=0,_=h.length;v<_;++v){var A=function(E){return function(F){(F=F||window.event).preventDefault?F.preventDefault():F.returnValue=!1,F.stopPropagation(),c.el.fire("point",{x:F.pageX||F.touches[0].pageX,y:F.pageY||F.touches[0].pageY,i:E,event:F})}}(v),P=this.drawPoint(h[v][0],h[v][1]).addClass(this.options.classPoints).addClass(this.options.classPoints+"_point").on("touchstart",A).on("mousedown",A);this.pointSelection.set.add(P)}},ae.prototype.drawPoint=function(c,h){var v=this.options.pointType;switch(v){case"circle":return this.drawCircle(c,h);case"rect":return this.drawRect(c,h);default:if("function"==typeof v)return v.call(this,c,h);throw new Error("Unknown "+v+" point type!")}},ae.prototype.drawCircle=function(c,h){return this.nested.circle(this.options.pointSize).center(c,h)},ae.prototype.drawRect=function(c,h){return this.nested.rect(this.options.pointSize,this.options.pointSize).center(c,h)},ae.prototype.updatePointSelection=function(){var c=this.getPointArray();this.pointSelection.set.each(function(h){this.cx()===c[h][0]&&this.cy()===c[h][1]||this.center(c[h][0],c[h][1])})},ae.prototype.updateRectSelection=function(){var c=this,h=this.el.bbox();if(this.rectSelection.set.get(0).attr({width:h.width,height:h.height}),this.options.points.length&&this.options.points.map(function(_,A){var P=c.pointCoords(_,h);c.rectSelection.set.get(A+1).center(P.x,P.y)}),this.options.rotationPoint){var v=this.rectSelection.set.length();this.rectSelection.set.get(v-1).center(h.width/2,20)}},ae.prototype.selectRect=function(c){var h=this,v=this.el.bbox();function _(E){return function(F){(F=F||window.event).preventDefault?F.preventDefault():F.returnValue=!1,F.stopPropagation(),h.el.fire(E,{x:F.pageX||F.touches[0].pageX,y:F.pageY||F.touches[0].pageY,event:F})}}if(this.rectSelection.isSelected=c,this.rectSelection.set=this.rectSelection.set||this.parent.set(),this.rectSelection.set.get(0)||this.rectSelection.set.add(this.nested.rect(v.width,v.height).addClass(this.options.classRect)),this.options.points.length&&this.rectSelection.set.length()<2&&(this.options.points.map(function(E,F){var W=h.pointCoords(E,v),K=h.drawPoint(W.x,W.y).attr("class",h.options.classPoints+"_"+E).on("mousedown",_(E)).on("touchstart",_(E));h.rectSelection.set.add(K)}),this.rectSelection.set.each(function(){this.addClass(h.options.classPoints)})),this.options.rotationPoint&&(this.options.points&&!this.rectSelection.set.get(9)||!this.options.points&&!this.rectSelection.set.get(1))){var A=function(E){(E=E||window.event).preventDefault?E.preventDefault():E.returnValue=!1,E.stopPropagation(),h.el.fire("rot",{x:E.pageX||E.touches[0].pageX,y:E.pageY||E.touches[0].pageY,event:E})},P=this.drawPoint(v.width/2,20).attr("class",this.options.classPoints+"_rot").on("touchstart",A).on("mousedown",A);this.rectSelection.set.add(P)}},ae.prototype.handler=function(){var c=this.el.bbox();this.nested.matrix(new SVG.Matrix(this.el).translate(c.x,c.y)),this.rectSelection.isSelected&&this.updateRectSelection(),this.pointSelection.isSelected&&this.updatePointSelection()},ae.prototype.observe=function(){var c=this;if(MutationObserver)if(this.rectSelection.isSelected||this.pointSelection.isSelected)this.observerInst=this.observerInst||new MutationObserver(function(){c.handler()}),this.observerInst.observe(this.el.node,{attributes:!0});else try{this.observerInst.disconnect(),delete this.observerInst}catch(h){}else this.el.off("DOMAttrModified.select"),(this.rectSelection.isSelected||this.pointSelection.isSelected)&&this.el.on("DOMAttrModified.select",function(){c.handler()})},ae.prototype.cleanup=function(){!this.rectSelection.isSelected&&this.rectSelection.set&&(this.rectSelection.set.each(function(){this.remove()}),this.rectSelection.set.clear(),delete this.rectSelection.set),!this.pointSelection.isSelected&&this.pointSelection.set&&(this.pointSelection.set.each(function(){this.remove()}),this.pointSelection.set.clear(),delete this.pointSelection.set),this.pointSelection.isSelected||this.rectSelection.isSelected||(this.nested.remove(),delete this.nested)},SVG.extend(SVG.Element,{selectize:function(c,h){return"object"==typeof c&&(h=c,c=!0),(this.remember("_selectHandler")||new ae(this)).init(void 0===c||c,h||{}),this}}),SVG.Element.prototype.selectize.defaults={points:["lt","rt","rb","lb","t","r","b","l"],pointsExclude:[],classRect:"svg_select_boundingRect",classPoints:"svg_select_points",pointSize:7,rotationPoint:!0,deepSelect:!1,pointType:"circle"}}(),function(){(function(){function ae(c){c.remember("_resizeHandler",this),this.el=c,this.parameters={},this.lastUpdateCall=null,this.p=c.doc().node.createSVGPoint()}ae.prototype.transformPoint=function(c,h,v){return this.p.x=c-(this.offset.x-window.pageXOffset),this.p.y=h-(this.offset.y-window.pageYOffset),this.p.matrixTransform(v||this.m)},ae.prototype._extractPosition=function(c){return{x:null!=c.clientX?c.clientX:c.touches[0].clientX,y:null!=c.clientY?c.clientY:c.touches[0].clientY}},ae.prototype.init=function(c){var h=this;if(this.stop(),"stop"!==c){for(var v in this.options={},this.el.resize.defaults)this.options[v]=this.el.resize.defaults[v],void 0!==c[v]&&(this.options[v]=c[v]);this.el.on("lt.resize",function(_){h.resize(_||window.event)}),this.el.on("rt.resize",function(_){h.resize(_||window.event)}),this.el.on("rb.resize",function(_){h.resize(_||window.event)}),this.el.on("lb.resize",function(_){h.resize(_||window.event)}),this.el.on("t.resize",function(_){h.resize(_||window.event)}),this.el.on("r.resize",function(_){h.resize(_||window.event)}),this.el.on("b.resize",function(_){h.resize(_||window.event)}),this.el.on("l.resize",function(_){h.resize(_||window.event)}),this.el.on("rot.resize",function(_){h.resize(_||window.event)}),this.el.on("point.resize",function(_){h.resize(_||window.event)}),this.update()}},ae.prototype.stop=function(){return this.el.off("lt.resize"),this.el.off("rt.resize"),this.el.off("rb.resize"),this.el.off("lb.resize"),this.el.off("t.resize"),this.el.off("r.resize"),this.el.off("b.resize"),this.el.off("l.resize"),this.el.off("rot.resize"),this.el.off("point.resize"),this},ae.prototype.resize=function(c){var h=this;this.m=this.el.node.getScreenCTM().inverse(),this.offset={x:window.pageXOffset,y:window.pageYOffset};var v=this._extractPosition(c.detail.event);if(this.parameters={type:this.el.type,p:this.transformPoint(v.x,v.y),x:c.detail.x,y:c.detail.y,box:this.el.bbox(),rotation:this.el.transform().rotation},"text"===this.el.type&&(this.parameters.fontSize=this.el.attr()["font-size"]),void 0!==c.detail.i){var _=this.el.array().valueOf();this.parameters.i=c.detail.i,this.parameters.pointCoords=[_[c.detail.i][0],_[c.detail.i][1]]}switch(c.type){case"lt":this.calc=function(A,P){var E=this.snapToGrid(A,P);if(this.parameters.box.width-E[0]>0&&this.parameters.box.height-E[1]>0){if("text"===this.parameters.type)return this.el.move(this.parameters.box.x+E[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize-E[0]);E=this.checkAspectRatio(E),this.el.move(this.parameters.box.x+E[0],this.parameters.box.y+E[1]).size(this.parameters.box.width-E[0],this.parameters.box.height-E[1])}};break;case"rt":this.calc=function(A,P){var E=this.snapToGrid(A,P,2);if(this.parameters.box.width+E[0]>0&&this.parameters.box.height-E[1]>0){if("text"===this.parameters.type)return this.el.move(this.parameters.box.x-E[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize+E[0]);E=this.checkAspectRatio(E,!0),this.el.move(this.parameters.box.x,this.parameters.box.y+E[1]).size(this.parameters.box.width+E[0],this.parameters.box.height-E[1])}};break;case"rb":this.calc=function(A,P){var E=this.snapToGrid(A,P,0);if(this.parameters.box.width+E[0]>0&&this.parameters.box.height+E[1]>0){if("text"===this.parameters.type)return this.el.move(this.parameters.box.x-E[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize+E[0]);E=this.checkAspectRatio(E),this.el.move(this.parameters.box.x,this.parameters.box.y).size(this.parameters.box.width+E[0],this.parameters.box.height+E[1])}};break;case"lb":this.calc=function(A,P){var E=this.snapToGrid(A,P,1);if(this.parameters.box.width-E[0]>0&&this.parameters.box.height+E[1]>0){if("text"===this.parameters.type)return this.el.move(this.parameters.box.x+E[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize-E[0]);E=this.checkAspectRatio(E,!0),this.el.move(this.parameters.box.x+E[0],this.parameters.box.y).size(this.parameters.box.width-E[0],this.parameters.box.height+E[1])}};break;case"t":this.calc=function(A,P){var E=this.snapToGrid(A,P,2);if(this.parameters.box.height-E[1]>0){if("text"===this.parameters.type)return;this.el.move(this.parameters.box.x,this.parameters.box.y+E[1]).height(this.parameters.box.height-E[1])}};break;case"r":this.calc=function(A,P){var E=this.snapToGrid(A,P,0);if(this.parameters.box.width+E[0]>0){if("text"===this.parameters.type)return;this.el.move(this.parameters.box.x,this.parameters.box.y).width(this.parameters.box.width+E[0])}};break;case"b":this.calc=function(A,P){var E=this.snapToGrid(A,P,0);if(this.parameters.box.height+E[1]>0){if("text"===this.parameters.type)return;this.el.move(this.parameters.box.x,this.parameters.box.y).height(this.parameters.box.height+E[1])}};break;case"l":this.calc=function(A,P){var E=this.snapToGrid(A,P,1);if(this.parameters.box.width-E[0]>0){if("text"===this.parameters.type)return;this.el.move(this.parameters.box.x+E[0],this.parameters.box.y).width(this.parameters.box.width-E[0])}};break;case"rot":this.calc=function(A,P){var E=A+this.parameters.p.x,F=P+this.parameters.p.y,W=Math.atan2(this.parameters.p.y-this.parameters.box.y-this.parameters.box.height/2,this.parameters.p.x-this.parameters.box.x-this.parameters.box.width/2),K=Math.atan2(F-this.parameters.box.y-this.parameters.box.height/2,E-this.parameters.box.x-this.parameters.box.width/2),J=this.parameters.rotation+180*(K-W)/Math.PI+this.options.snapToAngle/2;this.el.center(this.parameters.box.cx,this.parameters.box.cy).rotate(J-J%this.options.snapToAngle,this.parameters.box.cx,this.parameters.box.cy)};break;case"point":this.calc=function(A,P){var E=this.snapToGrid(A,P,this.parameters.pointCoords[0],this.parameters.pointCoords[1]),F=this.el.array().valueOf();F[this.parameters.i][0]=this.parameters.pointCoords[0]+E[0],F[this.parameters.i][1]=this.parameters.pointCoords[1]+E[1],this.el.plot(F)}}this.el.fire("resizestart",{dx:this.parameters.x,dy:this.parameters.y,event:c}),SVG.on(window,"touchmove.resize",function(A){h.update(A||window.event)}),SVG.on(window,"touchend.resize",function(){h.done()}),SVG.on(window,"mousemove.resize",function(A){h.update(A||window.event)}),SVG.on(window,"mouseup.resize",function(){h.done()})},ae.prototype.update=function(c){if(c){var h=this._extractPosition(c),v=this.transformPoint(h.x,h.y),_=v.x-this.parameters.p.x,A=v.y-this.parameters.p.y;this.lastUpdateCall=[_,A],this.calc(_,A),this.el.fire("resizing",{dx:_,dy:A,event:c})}else this.lastUpdateCall&&this.calc(this.lastUpdateCall[0],this.lastUpdateCall[1])},ae.prototype.done=function(){this.lastUpdateCall=null,SVG.off(window,"mousemove.resize"),SVG.off(window,"mouseup.resize"),SVG.off(window,"touchmove.resize"),SVG.off(window,"touchend.resize"),this.el.fire("resizedone")},ae.prototype.snapToGrid=function(c,h,v,_){var A;return A=void 0!==_?[(v+c)%this.options.snapToGrid,(_+h)%this.options.snapToGrid]:[(this.parameters.box.x+c+(1&(v=null==v?3:v)?0:this.parameters.box.width))%this.options.snapToGrid,(this.parameters.box.y+h+(2&v?0:this.parameters.box.height))%this.options.snapToGrid],c<0&&(A[0]-=this.options.snapToGrid),h<0&&(A[1]-=this.options.snapToGrid),c-=Math.abs(A[0])<this.options.snapToGrid/2?A[0]:A[0]-(c<0?-this.options.snapToGrid:this.options.snapToGrid),h-=Math.abs(A[1])<this.options.snapToGrid/2?A[1]:A[1]-(h<0?-this.options.snapToGrid:this.options.snapToGrid),this.constraintToBox(c,h,v,_)},ae.prototype.constraintToBox=function(c,h,v,_){var A,P,E=this.options.constraint||{};return void 0!==_?(A=v,P=_):(A=this.parameters.box.x+(1&v?0:this.parameters.box.width),P=this.parameters.box.y+(2&v?0:this.parameters.box.height)),void 0!==E.minX&&A+c<E.minX&&(c=E.minX-A),void 0!==E.maxX&&A+c>E.maxX&&(c=E.maxX-A),void 0!==E.minY&&P+h<E.minY&&(h=E.minY-P),void 0!==E.maxY&&P+h>E.maxY&&(h=E.maxY-P),[c,h]},ae.prototype.checkAspectRatio=function(c,h){if(!this.options.saveAspectRatio)return c;var v=c.slice(),_=this.parameters.box.width/this.parameters.box.height,A=this.parameters.box.width+c[0],P=this.parameters.box.height-c[1],E=A/P;return E<_?(v[1]=A/_-this.parameters.box.height,h&&(v[1]=-v[1])):E>_&&(v[0]=this.parameters.box.width-P*_,h&&(v[0]=-v[0])),v},SVG.extend(SVG.Element,{resize:function(c){return(this.remember("_resizeHandler")||new ae(this)).init(c||{}),this}}),SVG.Element.prototype.resize.defaults={snapToAngle:.1,snapToGrid:1,constraint:{},saveAspectRatio:!1}}).call(this)}(),void 0===window.Apex&&(window.Apex={});var Dr=function(){function ae(c){$t(this,ae),this.ctx=c,this.w=c.w}return ee(ae,[{key:"initModules",value:function(){this.ctx.publicMethods=["updateOptions","updateSeries","appendData","appendSeries","toggleSeries","showSeries","hideSeries","setLocale","resetSeries","zoomX","toggleDataPointSelection","dataURI","addXaxisAnnotation","addYaxisAnnotation","addPointAnnotation","clearAnnotations","removeAnnotation","paper","destroy"],this.ctx.eventList=["click","mousedown","mousemove","mouseleave","touchstart","touchmove","touchleave","mouseup","touchend"],this.ctx.animations=new _t(this.ctx),this.ctx.axes=new Zi(this.ctx),this.ctx.core=new Aa(this.ctx.el,this.ctx),this.ctx.config=new ze({}),this.ctx.data=new de(this.ctx),this.ctx.grid=new hn(this.ctx),this.ctx.graphics=new ot(this.ctx),this.ctx.coreUtils=new Ut(this.ctx),this.ctx.crosshairs=new dn(this.ctx),this.ctx.events=new hi(this.ctx),this.ctx.exports=new Ke(this.ctx),this.ctx.localization=new ur(this.ctx),this.ctx.options=new Xt,this.ctx.responsive=new fn(this.ctx),this.ctx.series=new on(this.ctx),this.ctx.theme=new On(this.ctx),this.ctx.formatters=new Jt(this.ctx),this.ctx.titleSubtitle=new Tn(this.ctx),this.ctx.legend=new nr(this.ctx),this.ctx.toolbar=new qr(this.ctx),this.ctx.dimensions=new br(this.ctx),this.ctx.updateHelpers=new Ho(this.ctx),this.ctx.zoomPanSelection=new Io(this.ctx),this.ctx.w.globals.tooltip=new ge(this.ctx)}}]),ae}(),ts=function(){function ae(c){$t(this,ae),this.ctx=c,this.w=c.w}return ee(ae,[{key:"clear",value:function(c){var h=c.isUpdating;this.ctx.zoomPanSelection&&this.ctx.zoomPanSelection.destroy(),this.ctx.toolbar&&this.ctx.toolbar.destroy(),this.ctx.animations=null,this.ctx.axes=null,this.ctx.annotations=null,this.ctx.core=null,this.ctx.data=null,this.ctx.grid=null,this.ctx.series=null,this.ctx.responsive=null,this.ctx.theme=null,this.ctx.formatters=null,this.ctx.titleSubtitle=null,this.ctx.legend=null,this.ctx.dimensions=null,this.ctx.options=null,this.ctx.crosshairs=null,this.ctx.zoomPanSelection=null,this.ctx.updateHelpers=null,this.ctx.toolbar=null,this.ctx.localization=null,this.ctx.w.globals.tooltip=null,this.clearDomElements({isUpdating:h})}},{key:"killSVG",value:function(c){c.each(function(h,v){this.removeClass("*"),this.off(),this.stop()},!0),c.ungroup(),c.clear()}},{key:"clearDomElements",value:function(c){var h=this,_=this.w.globals.dom.Paper.node;_.parentNode&&_.parentNode.parentNode&&!c.isUpdating&&(_.parentNode.parentNode.style.minHeight="unset");var A=this.w.globals.dom.baseEl;A&&this.ctx.eventList.forEach(function(E){A.removeEventListener(E,h.ctx.events.documentEvent)});var P=this.w.globals.dom;if(null!==this.ctx.el)for(;this.ctx.el.firstChild;)this.ctx.el.removeChild(this.ctx.el.firstChild);this.killSVG(P.Paper),P.Paper.remove(),P.elWrap=null,P.elGraphical=null,P.elAnnotations=null,P.elLegendWrap=null,P.baseEl=null,P.elGridRect=null,P.elGridRectMask=null,P.elGridRectMarkerMask=null,P.elForecastMask=null,P.elNonForecastMask=null,P.elDefs=null}}]),ae}(),Ra=new WeakMap;return function(){function ae(c,h){$t(this,ae),this.opts=h,this.ctx=this,this.w=new _e(h).init(),this.el=c,this.w.globals.cuid=lt.randomId(),this.w.globals.chartID=this.w.config.chart.id?lt.escapeString(this.w.config.chart.id):this.w.globals.cuid,new Dr(this).initModules(),this.create=lt.bind(this.create,this),this.windowResizeHandler=this._windowResizeHandler.bind(this),this.parentResizeHandler=this._parentResizeCallback.bind(this)}return ee(ae,[{key:"render",value:function(){var c=this;return new Promise(function(h,v){if(null!==c.el){void 0===Apex._chartInstances&&(Apex._chartInstances=[]),c.w.config.chart.id&&Apex._chartInstances.push({id:c.w.globals.chartID,group:c.w.config.chart.group,chart:c}),c.setLocale(c.w.config.chart.defaultLocale);var _=c.w.config.chart.events.beforeMount;if("function"==typeof _&&_(c,c.w),c.events.fireEvent("beforeMount",[c,c.w]),window.addEventListener("resize",c.windowResizeHandler),K=c.el.parentNode,J=c.parentResizeHandler,ct=!1,yt=new ResizeObserver(function(Vt){ct&&J.call(K,Vt),ct=!0}),K.nodeType===Node.DOCUMENT_FRAGMENT_NODE?Array.from(K.children).forEach(function(Vt){return yt.observe(Vt)}):yt.observe(K),Ra.set(J,yt),!c.css){var A=c.el.getRootNode&&c.el.getRootNode(),P=lt.is("ShadowRoot",A),E=c.el.ownerDocument,F=E.getElementById("apexcharts-css");!P&&F||(c.css=document.createElement("style"),c.css.id="apexcharts-css",c.css.textContent='.apexcharts-canvas {\n  position: relative;\n  user-select: none;\n  /* cannot give overflow: hidden as it will crop tooltips which overflow outside chart area */\n}\n\n\n/* scrollbar is not visible by default for legend, hence forcing the visibility */\n.apexcharts-canvas ::-webkit-scrollbar {\n  -webkit-appearance: none;\n  width: 6px;\n}\n\n.apexcharts-canvas ::-webkit-scrollbar-thumb {\n  border-radius: 4px;\n  background-color: rgba(0, 0, 0, .5);\n  box-shadow: 0 0 1px rgba(255, 255, 255, .5);\n  -webkit-box-shadow: 0 0 1px rgba(255, 255, 255, .5);\n}\n\n\n.apexcharts-inner {\n  position: relative;\n}\n\n.apexcharts-text tspan {\n  font-family: inherit;\n}\n\n.legend-mouseover-inactive {\n  transition: 0.15s ease all;\n  opacity: 0.20;\n}\n\n.apexcharts-series-collapsed {\n  opacity: 0;\n}\n\n.apexcharts-tooltip {\n  border-radius: 5px;\n  box-shadow: 2px 2px 6px -4px #999;\n  cursor: default;\n  font-size: 14px;\n  left: 62px;\n  opacity: 0;\n  pointer-events: none;\n  position: absolute;\n  top: 20px;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  white-space: nowrap;\n  z-index: 12;\n  transition: 0.15s ease all;\n}\n\n.apexcharts-tooltip.apexcharts-active {\n  opacity: 1;\n  transition: 0.15s ease all;\n}\n\n.apexcharts-tooltip.apexcharts-theme-light {\n  border: 1px solid #e3e3e3;\n  background: rgba(255, 255, 255, 0.96);\n}\n\n.apexcharts-tooltip.apexcharts-theme-dark {\n  color: #fff;\n  background: rgba(30, 30, 30, 0.8);\n}\n\n.apexcharts-tooltip * {\n  font-family: inherit;\n}\n\n\n.apexcharts-tooltip-title {\n  padding: 6px;\n  font-size: 15px;\n  margin-bottom: 4px;\n}\n\n.apexcharts-tooltip.apexcharts-theme-light .apexcharts-tooltip-title {\n  background: #ECEFF1;\n  border-bottom: 1px solid #ddd;\n}\n\n.apexcharts-tooltip.apexcharts-theme-dark .apexcharts-tooltip-title {\n  background: rgba(0, 0, 0, 0.7);\n  border-bottom: 1px solid #333;\n}\n\n.apexcharts-tooltip-text-y-value,\n.apexcharts-tooltip-text-goals-value,\n.apexcharts-tooltip-text-z-value {\n  display: inline-block;\n  font-weight: 600;\n  margin-left: 5px;\n}\n\n.apexcharts-tooltip-text-y-label:empty,\n.apexcharts-tooltip-text-y-value:empty,\n.apexcharts-tooltip-text-goals-label:empty,\n.apexcharts-tooltip-text-goals-value:empty,\n.apexcharts-tooltip-text-z-value:empty {\n  display: none;\n}\n\n.apexcharts-tooltip-text-y-value,\n.apexcharts-tooltip-text-goals-value,\n.apexcharts-tooltip-text-z-value {\n  font-weight: 600;\n}\n\n.apexcharts-tooltip-text-goals-label, \n.apexcharts-tooltip-text-goals-value {\n  padding: 6px 0 5px;\n}\n\n.apexcharts-tooltip-goals-group, \n.apexcharts-tooltip-text-goals-label, \n.apexcharts-tooltip-text-goals-value {\n  display: flex;\n}\n.apexcharts-tooltip-text-goals-label:not(:empty),\n.apexcharts-tooltip-text-goals-value:not(:empty) {\n  margin-top: -6px;\n}\n\n.apexcharts-tooltip-marker {\n  width: 12px;\n  height: 12px;\n  position: relative;\n  top: 0px;\n  margin-right: 10px;\n  border-radius: 50%;\n}\n\n.apexcharts-tooltip-series-group {\n  padding: 0 10px;\n  display: none;\n  text-align: left;\n  justify-content: left;\n  align-items: center;\n}\n\n.apexcharts-tooltip-series-group.apexcharts-active .apexcharts-tooltip-marker {\n  opacity: 1;\n}\n\n.apexcharts-tooltip-series-group.apexcharts-active,\n.apexcharts-tooltip-series-group:last-child {\n  padding-bottom: 4px;\n}\n\n.apexcharts-tooltip-series-group-hidden {\n  opacity: 0;\n  height: 0;\n  line-height: 0;\n  padding: 0 !important;\n}\n\n.apexcharts-tooltip-y-group {\n  padding: 6px 0 5px;\n}\n\n.apexcharts-tooltip-box, .apexcharts-custom-tooltip {\n  padding: 4px 8px;\n}\n\n.apexcharts-tooltip-boxPlot {\n  display: flex;\n  flex-direction: column-reverse;\n}\n\n.apexcharts-tooltip-box>div {\n  margin: 4px 0;\n}\n\n.apexcharts-tooltip-box span.value {\n  font-weight: bold;\n}\n\n.apexcharts-tooltip-rangebar {\n  padding: 5px 8px;\n}\n\n.apexcharts-tooltip-rangebar .category {\n  font-weight: 600;\n  color: #777;\n}\n\n.apexcharts-tooltip-rangebar .series-name {\n  font-weight: bold;\n  display: block;\n  margin-bottom: 5px;\n}\n\n.apexcharts-xaxistooltip {\n  opacity: 0;\n  padding: 9px 10px;\n  pointer-events: none;\n  color: #373d3f;\n  font-size: 13px;\n  text-align: center;\n  border-radius: 2px;\n  position: absolute;\n  z-index: 10;\n  background: #ECEFF1;\n  border: 1px solid #90A4AE;\n  transition: 0.15s ease all;\n}\n\n.apexcharts-xaxistooltip.apexcharts-theme-dark {\n  background: rgba(0, 0, 0, 0.7);\n  border: 1px solid rgba(0, 0, 0, 0.5);\n  color: #fff;\n}\n\n.apexcharts-xaxistooltip:after,\n.apexcharts-xaxistooltip:before {\n  left: 50%;\n  border: solid transparent;\n  content: " ";\n  height: 0;\n  width: 0;\n  position: absolute;\n  pointer-events: none;\n}\n\n.apexcharts-xaxistooltip:after {\n  border-color: rgba(236, 239, 241, 0);\n  border-width: 6px;\n  margin-left: -6px;\n}\n\n.apexcharts-xaxistooltip:before {\n  border-color: rgba(144, 164, 174, 0);\n  border-width: 7px;\n  margin-left: -7px;\n}\n\n.apexcharts-xaxistooltip-bottom:after,\n.apexcharts-xaxistooltip-bottom:before {\n  bottom: 100%;\n}\n\n.apexcharts-xaxistooltip-top:after,\n.apexcharts-xaxistooltip-top:before {\n  top: 100%;\n}\n\n.apexcharts-xaxistooltip-bottom:after {\n  border-bottom-color: #ECEFF1;\n}\n\n.apexcharts-xaxistooltip-bottom:before {\n  border-bottom-color: #90A4AE;\n}\n\n.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:after {\n  border-bottom-color: rgba(0, 0, 0, 0.5);\n}\n\n.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:before {\n  border-bottom-color: rgba(0, 0, 0, 0.5);\n}\n\n.apexcharts-xaxistooltip-top:after {\n  border-top-color: #ECEFF1\n}\n\n.apexcharts-xaxistooltip-top:before {\n  border-top-color: #90A4AE;\n}\n\n.apexcharts-xaxistooltip-top.apexcharts-theme-dark:after {\n  border-top-color: rgba(0, 0, 0, 0.5);\n}\n\n.apexcharts-xaxistooltip-top.apexcharts-theme-dark:before {\n  border-top-color: rgba(0, 0, 0, 0.5);\n}\n\n.apexcharts-xaxistooltip.apexcharts-active {\n  opacity: 1;\n  transition: 0.15s ease all;\n}\n\n.apexcharts-yaxistooltip {\n  opacity: 0;\n  padding: 4px 10px;\n  pointer-events: none;\n  color: #373d3f;\n  font-size: 13px;\n  text-align: center;\n  border-radius: 2px;\n  position: absolute;\n  z-index: 10;\n  background: #ECEFF1;\n  border: 1px solid #90A4AE;\n}\n\n.apexcharts-yaxistooltip.apexcharts-theme-dark {\n  background: rgba(0, 0, 0, 0.7);\n  border: 1px solid rgba(0, 0, 0, 0.5);\n  color: #fff;\n}\n\n.apexcharts-yaxistooltip:after,\n.apexcharts-yaxistooltip:before {\n  top: 50%;\n  border: solid transparent;\n  content: " ";\n  height: 0;\n  width: 0;\n  position: absolute;\n  pointer-events: none;\n}\n\n.apexcharts-yaxistooltip:after {\n  border-color: rgba(236, 239, 241, 0);\n  border-width: 6px;\n  margin-top: -6px;\n}\n\n.apexcharts-yaxistooltip:before {\n  border-color: rgba(144, 164, 174, 0);\n  border-width: 7px;\n  margin-top: -7px;\n}\n\n.apexcharts-yaxistooltip-left:after,\n.apexcharts-yaxistooltip-left:before {\n  left: 100%;\n}\n\n.apexcharts-yaxistooltip-right:after,\n.apexcharts-yaxistooltip-right:before {\n  right: 100%;\n}\n\n.apexcharts-yaxistooltip-left:after {\n  border-left-color: #ECEFF1;\n}\n\n.apexcharts-yaxistooltip-left:before {\n  border-left-color: #90A4AE;\n}\n\n.apexcharts-yaxistooltip-left.apexcharts-theme-dark:after {\n  border-left-color: rgba(0, 0, 0, 0.5);\n}\n\n.apexcharts-yaxistooltip-left.apexcharts-theme-dark:before {\n  border-left-color: rgba(0, 0, 0, 0.5);\n}\n\n.apexcharts-yaxistooltip-right:after {\n  border-right-color: #ECEFF1;\n}\n\n.apexcharts-yaxistooltip-right:before {\n  border-right-color: #90A4AE;\n}\n\n.apexcharts-yaxistooltip-right.apexcharts-theme-dark:after {\n  border-right-color: rgba(0, 0, 0, 0.5);\n}\n\n.apexcharts-yaxistooltip-right.apexcharts-theme-dark:before {\n  border-right-color: rgba(0, 0, 0, 0.5);\n}\n\n.apexcharts-yaxistooltip.apexcharts-active {\n  opacity: 1;\n}\n\n.apexcharts-yaxistooltip-hidden {\n  display: none;\n}\n\n.apexcharts-xcrosshairs,\n.apexcharts-ycrosshairs {\n  pointer-events: none;\n  opacity: 0;\n  transition: 0.15s ease all;\n}\n\n.apexcharts-xcrosshairs.apexcharts-active,\n.apexcharts-ycrosshairs.apexcharts-active {\n  opacity: 1;\n  transition: 0.15s ease all;\n}\n\n.apexcharts-ycrosshairs-hidden {\n  opacity: 0;\n}\n\n.apexcharts-selection-rect {\n  cursor: move;\n}\n\n.svg_select_boundingRect, .svg_select_points_rot {\n  pointer-events: none;\n  opacity: 0;\n  visibility: hidden;\n}\n.apexcharts-selection-rect + g .svg_select_boundingRect,\n.apexcharts-selection-rect + g .svg_select_points_rot {\n  opacity: 0;\n  visibility: hidden;\n}\n\n.apexcharts-selection-rect + g .svg_select_points_l,\n.apexcharts-selection-rect + g .svg_select_points_r {\n  cursor: ew-resize;\n  opacity: 1;\n  visibility: visible;\n}\n\n.svg_select_points {\n  fill: #efefef;\n  stroke: #333;\n  rx: 2;\n}\n\n.apexcharts-svg.apexcharts-zoomable.hovering-zoom {\n  cursor: crosshair\n}\n\n.apexcharts-svg.apexcharts-zoomable.hovering-pan {\n  cursor: move\n}\n\n.apexcharts-zoom-icon,\n.apexcharts-zoomin-icon,\n.apexcharts-zoomout-icon,\n.apexcharts-reset-icon,\n.apexcharts-pan-icon,\n.apexcharts-selection-icon,\n.apexcharts-menu-icon,\n.apexcharts-toolbar-custom-icon {\n  cursor: pointer;\n  width: 20px;\n  height: 20px;\n  line-height: 24px;\n  color: #6E8192;\n  text-align: center;\n}\n\n.apexcharts-zoom-icon svg,\n.apexcharts-zoomin-icon svg,\n.apexcharts-zoomout-icon svg,\n.apexcharts-reset-icon svg,\n.apexcharts-menu-icon svg {\n  fill: #6E8192;\n}\n\n.apexcharts-selection-icon svg {\n  fill: #444;\n  transform: scale(0.76)\n}\n\n.apexcharts-theme-dark .apexcharts-zoom-icon svg,\n.apexcharts-theme-dark .apexcharts-zoomin-icon svg,\n.apexcharts-theme-dark .apexcharts-zoomout-icon svg,\n.apexcharts-theme-dark .apexcharts-reset-icon svg,\n.apexcharts-theme-dark .apexcharts-pan-icon svg,\n.apexcharts-theme-dark .apexcharts-selection-icon svg,\n.apexcharts-theme-dark .apexcharts-menu-icon svg,\n.apexcharts-theme-dark .apexcharts-toolbar-custom-icon svg {\n  fill: #f3f4f5;\n}\n\n.apexcharts-canvas .apexcharts-zoom-icon.apexcharts-selected svg,\n.apexcharts-canvas .apexcharts-selection-icon.apexcharts-selected svg,\n.apexcharts-canvas .apexcharts-reset-zoom-icon.apexcharts-selected svg {\n  fill: #008FFB;\n}\n\n.apexcharts-theme-light .apexcharts-selection-icon:not(.apexcharts-selected):hover svg,\n.apexcharts-theme-light .apexcharts-zoom-icon:not(.apexcharts-selected):hover svg,\n.apexcharts-theme-light .apexcharts-zoomin-icon:hover svg,\n.apexcharts-theme-light .apexcharts-zoomout-icon:hover svg,\n.apexcharts-theme-light .apexcharts-reset-icon:hover svg,\n.apexcharts-theme-light .apexcharts-menu-icon:hover svg {\n  fill: #333;\n}\n\n.apexcharts-selection-icon,\n.apexcharts-menu-icon {\n  position: relative;\n}\n\n.apexcharts-reset-icon {\n  margin-left: 5px;\n}\n\n.apexcharts-zoom-icon,\n.apexcharts-reset-icon,\n.apexcharts-menu-icon {\n  transform: scale(0.85);\n}\n\n.apexcharts-zoomin-icon,\n.apexcharts-zoomout-icon {\n  transform: scale(0.7)\n}\n\n.apexcharts-zoomout-icon {\n  margin-right: 3px;\n}\n\n.apexcharts-pan-icon {\n  transform: scale(0.62);\n  position: relative;\n  left: 1px;\n  top: 0px;\n}\n\n.apexcharts-pan-icon svg {\n  fill: #fff;\n  stroke: #6E8192;\n  stroke-width: 2;\n}\n\n.apexcharts-pan-icon.apexcharts-selected svg {\n  stroke: #008FFB;\n}\n\n.apexcharts-pan-icon:not(.apexcharts-selected):hover svg {\n  stroke: #333;\n}\n\n.apexcharts-toolbar {\n  position: absolute;\n  z-index: 11;\n  max-width: 176px;\n  text-align: right;\n  border-radius: 3px;\n  padding: 0px 6px 2px 6px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.apexcharts-menu {\n  background: #fff;\n  position: absolute;\n  top: 100%;\n  border: 1px solid #ddd;\n  border-radius: 3px;\n  padding: 3px;\n  right: 10px;\n  opacity: 0;\n  min-width: 110px;\n  transition: 0.15s ease all;\n  pointer-events: none;\n}\n\n.apexcharts-menu.apexcharts-menu-open {\n  opacity: 1;\n  pointer-events: all;\n  transition: 0.15s ease all;\n}\n\n.apexcharts-menu-item {\n  padding: 6px 7px;\n  font-size: 12px;\n  cursor: pointer;\n}\n\n.apexcharts-theme-light .apexcharts-menu-item:hover {\n  background: #eee;\n}\n\n.apexcharts-theme-dark .apexcharts-menu {\n  background: rgba(0, 0, 0, 0.7);\n  color: #fff;\n}\n\n@media screen and (min-width: 768px) {\n  .apexcharts-canvas:hover .apexcharts-toolbar {\n    opacity: 1;\n  }\n}\n\n.apexcharts-datalabel.apexcharts-element-hidden {\n  opacity: 0;\n}\n\n.apexcharts-pie-label,\n.apexcharts-datalabels,\n.apexcharts-datalabel,\n.apexcharts-datalabel-label,\n.apexcharts-datalabel-value {\n  cursor: default;\n  pointer-events: none;\n}\n\n.apexcharts-pie-label-delay {\n  opacity: 0;\n  animation-name: opaque;\n  animation-duration: 0.3s;\n  animation-fill-mode: forwards;\n  animation-timing-function: ease;\n}\n\n.apexcharts-canvas .apexcharts-element-hidden {\n  opacity: 0;\n}\n\n.apexcharts-hide .apexcharts-series-points {\n  opacity: 0;\n}\n\n.apexcharts-gridline,\n.apexcharts-annotation-rect,\n.apexcharts-tooltip .apexcharts-marker,\n.apexcharts-area-series .apexcharts-area,\n.apexcharts-line,\n.apexcharts-zoom-rect,\n.apexcharts-toolbar svg,\n.apexcharts-area-series .apexcharts-series-markers .apexcharts-marker.no-pointer-events,\n.apexcharts-line-series .apexcharts-series-markers .apexcharts-marker.no-pointer-events,\n.apexcharts-radar-series path,\n.apexcharts-radar-series polygon {\n  pointer-events: none;\n}\n\n\n/* markers */\n\n.apexcharts-marker {\n  transition: 0.15s ease all;\n}\n\n@keyframes opaque {\n  0% {\n    opacity: 0;\n  }\n  100% {\n    opacity: 1;\n  }\n}\n\n\n/* Resize generated styles */\n\n@keyframes resizeanim {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 0;\n  }\n}\n\n.resize-triggers {\n  animation: 1ms resizeanim;\n  visibility: hidden;\n  opacity: 0;\n}\n\n.resize-triggers,\n.resize-triggers>div,\n.contract-trigger:before {\n  content: " ";\n  display: block;\n  position: absolute;\n  top: 0;\n  left: 0;\n  height: 100%;\n  width: 100%;\n  overflow: hidden;\n}\n\n.resize-triggers>div {\n  background: #eee;\n  overflow: auto;\n}\n\n.contract-trigger:before {\n  width: 200%;\n  height: 200%;\n}',P?A.prepend(c.css):E.head.appendChild(c.css))}var W=c.create(c.w.config.series,{});if(!W)return h(c);c.mount(W).then(function(){"function"==typeof c.w.config.chart.events.mounted&&c.w.config.chart.events.mounted(c,c.w),c.events.fireEvent("mounted",[c,c.w]),h(W)}).catch(function(Vt){v(Vt)})}else v(new Error("Element not found"));var K,J,ct,yt})}},{key:"create",value:function(c,h){var v=this.w;new Dr(this).initModules();var _=this.w.globals;if(_.noData=!1,_.animationEnded=!1,this.responsive.checkResponsiveConfig(h),v.config.xaxis.convertedCatToNumeric&&new Ae(v.config).convertCatToNumericXaxis(v.config,this.ctx),null===this.el||(this.core.setupElements(),"treemap"===v.config.chart.type&&(v.config.grid.show=!1,v.config.yaxis[0].show=!1),0===_.svgWidth))return _.animationEnded=!0,null;var A=Ut.checkComboSeries(c);_.comboCharts=A.comboCharts,_.comboBarCount=A.comboBarCount;var P=c.every(function(J){return J.data&&0===J.data.length});(0===c.length||P)&&this.series.handleNoData(),this.events.setupEventHandlers(),this.data.parseData(c),this.theme.init(),new se(this).setGlobalMarkerSize(),this.formatters.setLabelFormatters(),this.titleSubtitle.draw(),_.noData&&_.collapsedSeries.length!==_.series.length&&!v.config.legend.showForSingleSeries||this.legend.init(),this.series.hasAllSeriesEqualX(),_.axisCharts&&(this.core.coreCalculations(),"category"!==v.config.xaxis.type&&this.formatters.setLabelFormatters(),this.ctx.toolbar.minX=v.globals.minX,this.ctx.toolbar.maxX=v.globals.maxX),this.formatters.heatmapLabelFormatters(),this.dimensions.plotCoords();var E=this.core.xySettings();this.grid.createGridMask();var F=this.core.plotChartType(c,E),W=new Ne(this);return W.bringForward(),v.config.dataLabels.background.enabled&&W.dataLabelsBackground(),this.core.shiftGraphPosition(),{elGraph:F,xyRatios:E,elInner:v.globals.dom.elGraphical,dimensions:{plot:{left:v.globals.translateX,top:v.globals.translateY,width:v.globals.gridWidth,height:v.globals.gridHeight}}}}},{key:"mount",value:function(){var c=this,h=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,v=this,_=v.w;return new Promise(function(A,P){if(null===v.el)return P(new Error("Not enough data to display or target element not found"));(null===h||_.globals.allSeriesCollapsed)&&v.series.handleNoData(),"treemap"!==_.config.chart.type&&v.axes.drawAxis(_.config.chart.type,h.xyRatios),v.grid=new hn(v);var E=v.grid.drawGrid();v.annotations=new vt(v),v.annotations.drawImageAnnos(),v.annotations.drawTextAnnos(),"back"===_.config.grid.position&&E&&_.globals.dom.elGraphical.add(E.el);var F=new sn(c.ctx),W=new ui(c.ctx);if(null!==E&&(F.xAxisLabelCorrections(E.xAxisTickWidth),W.setYAxisTextAlignments(),_.config.yaxis.map(function(ct,yt){-1===_.globals.ignoreYAxisIndexes.indexOf(yt)&&W.yAxisTitleRotate(yt,ct.opposite)})),"back"===_.config.annotations.position&&(_.globals.dom.Paper.add(_.globals.dom.elAnnotations),v.annotations.drawAxesAnnotations()),Array.isArray(h.elGraph))for(var K=0;K<h.elGraph.length;K++)_.globals.dom.elGraphical.add(h.elGraph[K]);else _.globals.dom.elGraphical.add(h.elGraph);if("front"===_.config.grid.position&&E&&_.globals.dom.elGraphical.add(E.el),"front"===_.config.xaxis.crosshairs.position&&v.crosshairs.drawXCrosshairs(),"front"===_.config.yaxis[0].crosshairs.position&&v.crosshairs.drawYCrosshairs(),"front"===_.config.annotations.position&&(_.globals.dom.Paper.add(_.globals.dom.elAnnotations),v.annotations.drawAxesAnnotations()),!_.globals.noData){if(_.config.tooltip.enabled&&!_.globals.noData&&v.w.globals.tooltip.drawTooltip(h.xyRatios),_.globals.axisCharts&&(_.globals.isXNumeric||_.config.xaxis.convertedCatToNumeric||_.globals.isRangeBar))(_.config.chart.zoom.enabled||_.config.chart.selection&&_.config.chart.selection.enabled||_.config.chart.pan&&_.config.chart.pan.enabled)&&v.zoomPanSelection.init({xyRatios:h.xyRatios});else{var J=_.config.chart.toolbar.tools;["zoom","zoomin","zoomout","selection","pan","reset"].forEach(function(ct){J[ct]=!1})}_.config.chart.toolbar.show&&!_.globals.allSeriesCollapsed&&v.toolbar.createToolbar()}_.globals.memory.methodsToExec.length>0&&_.globals.memory.methodsToExec.forEach(function(ct){ct.method(ct.params,!1,ct.context)}),_.globals.axisCharts||_.globals.noData||v.core.resizeNonAxisCharts(),A(v)})}},{key:"destroy",value:function(){var c,h;window.removeEventListener("resize",this.windowResizeHandler),(h=Ra.get(c=this.parentResizeHandler))&&(h.disconnect(),Ra.delete(c));var v=this.w.config.chart.id;v&&Apex._chartInstances.forEach(function(_,A){_.id===lt.escapeString(v)&&Apex._chartInstances.splice(A,1)}),new ts(this.ctx).clear({isUpdating:!1})}},{key:"updateOptions",value:function(c){var h=this,v=arguments.length>1&&void 0!==arguments[1]&&arguments[1],_=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],A=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],P=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],E=this.w;return E.globals.selection=void 0,c.series&&(this.series.resetSeries(!1,!0,!1),c.series.length&&c.series[0].data&&(c.series=c.series.map(function(F,W){return h.updateHelpers._extendSeries(F,W)})),this.updateHelpers.revertDefaultAxisMinMax()),c.xaxis&&(c=this.updateHelpers.forceXAxisUpdate(c)),c.yaxis&&(c=this.updateHelpers.forceYAxisUpdate(c)),E.globals.collapsedSeriesIndices.length>0&&this.series.clearPreviousPaths(),c.theme&&(c=this.theme.updateThemeOptions(c)),this.updateHelpers._updateOptions(c,v,_,A,P)}},{key:"updateSeries",value:function(){var c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],h=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],v=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(c,h,v)}},{key:"appendSeries",value:function(c){var h=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],v=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],_=this.w.config.series.slice();return _.push(c),this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(_,h,v)}},{key:"appendData",value:function(c){var h=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],v=this;v.w.globals.dataChanged=!0,v.series.getPreviousPaths();for(var _=v.w.config.series.slice(),A=0;A<_.length;A++)if(null!=c[A])for(var P=0;P<c[A].data.length;P++)_[A].data.push(c[A].data[P]);return v.w.config.series=_,h&&(v.w.globals.initialSeries=lt.clone(v.w.config.series)),this.update()}},{key:"update",value:function(c){var h=this;return new Promise(function(v,_){new ts(h.ctx).clear({isUpdating:!0});var A=h.create(h.w.config.series,c);if(!A)return v(h);h.mount(A).then(function(){"function"==typeof h.w.config.chart.events.updated&&h.w.config.chart.events.updated(h,h.w),h.events.fireEvent("updated",[h,h.w]),h.w.globals.isDirty=!0,v(h)}).catch(function(P){_(P)})})}},{key:"getSyncedCharts",value:function(){var c=this.getGroupedCharts(),h=[this];return c.length&&(h=[],c.forEach(function(v){h.push(v)})),h}},{key:"getGroupedCharts",value:function(){var c=this;return Apex._chartInstances.filter(function(h){if(h.group)return!0}).map(function(h){return c.w.config.chart.group===h.group?h.chart:c})}},{key:"toggleSeries",value:function(c){return this.series.toggleSeries(c)}},{key:"highlightSeriesOnLegendHover",value:function(c,h){return this.series.toggleSeriesOnHover(c,h)}},{key:"showSeries",value:function(c){this.series.showSeries(c)}},{key:"hideSeries",value:function(c){this.series.hideSeries(c)}},{key:"resetSeries",value:function(){var c=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],h=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.series.resetSeries(c,h)}},{key:"addEventListener",value:function(c,h){this.events.addEventListener(c,h)}},{key:"removeEventListener",value:function(c,h){this.events.removeEventListener(c,h)}},{key:"addXaxisAnnotation",value:function(c){var h=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],v=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,_=this;v&&(_=v),_.annotations.addXaxisAnnotationExternal(c,h,_)}},{key:"addYaxisAnnotation",value:function(c){var h=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],v=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,_=this;v&&(_=v),_.annotations.addYaxisAnnotationExternal(c,h,_)}},{key:"addPointAnnotation",value:function(c){var h=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],v=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,_=this;v&&(_=v),_.annotations.addPointAnnotationExternal(c,h,_)}},{key:"clearAnnotations",value:function(){var c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,h=this;c&&(h=c),h.annotations.clearAnnotations(h)}},{key:"removeAnnotation",value:function(c){var h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,v=this;h&&(v=h),v.annotations.removeAnnotation(v,c)}},{key:"getChartArea",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner")}},{key:"getSeriesTotalXRange",value:function(c,h){return this.coreUtils.getSeriesTotalsXRange(c,h)}},{key:"getHighestValueInSeries",value:function(){var c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,h=new ti(this.ctx);return h.getMinYMaxY(c).highestY}},{key:"getLowestValueInSeries",value:function(){var c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,h=new ti(this.ctx);return h.getMinYMaxY(c).lowestY}},{key:"getSeriesTotal",value:function(){return this.w.globals.seriesTotals}},{key:"toggleDataPointSelection",value:function(c,h){return this.updateHelpers.toggleDataPointSelection(c,h)}},{key:"zoomX",value:function(c,h){this.ctx.toolbar.zoomUpdateOptions(c,h)}},{key:"setLocale",value:function(c){this.localization.setCurrentLocaleValues(c)}},{key:"dataURI",value:function(c){return new Ke(this.ctx).dataURI(c)}},{key:"paper",value:function(){return this.w.globals.dom.Paper}},{key:"_parentResizeCallback",value:function(){this.w.globals.animationEnded&&this.w.config.chart.redrawOnParentResize&&this._windowResize()}},{key:"_windowResize",value:function(){var c=this;clearTimeout(this.w.globals.resizeTimer),this.w.globals.resizeTimer=window.setTimeout(function(){c.w.globals.resized=!0,c.w.globals.dataChanged=!1,c.ctx.update()},150)}},{key:"_windowResizeHandler",value:function(){var c=this.w.config.chart.redrawOnWindowResize;"function"==typeof c&&(c=c()),c&&this._windowResize()}}],[{key:"getChartByID",value:function(c){var h=lt.escapeString(c),v=Apex._chartInstances.filter(function(_){return _.id===h})[0];return v&&v.chart}},{key:"initOnLoad",value:function(){for(var c=document.querySelectorAll("[data-apexcharts]"),h=0;h<c.length;h++)new ae(c[h],JSON.parse(c[h].getAttribute("data-options"))).render()}},{key:"exec",value:function(c,h){var v=this.getChartByID(c);if(v){v.w.globals.isExecCalled=!0;var _=null;if(-1!==v.publicMethods.indexOf(h)){for(var A=arguments.length,P=new Array(A>2?A-2:0),E=2;E<A;E++)P[E-2]=arguments[E];_=v[h].apply(v,P)}return _}}},{key:"merge",value:function(c,h){return lt.extend(c,h)}}]),ae}()}),function(Le,$t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=$t():"function"==typeof define&&define.amd?define($t):(Le="undefined"!=typeof globalThis?globalThis:Le||self).bootstrap=$t()}(this,function(){"use strict";const Le="transitionend",$t=ue=>{let nt=ue.getAttribute("data-bs-target");if(!nt||"#"===nt){let bt=ue.getAttribute("href");if(!bt||!bt.includes("#")&&!bt.startsWith("."))return null;bt.includes("#")&&!bt.startsWith("#")&&(bt=`#${bt.split("#")[1]}`),nt=bt&&"#"!==bt?bt.trim():null}return nt},Tt=ue=>{const nt=$t(ue);return nt&&document.querySelector(nt)?nt:null},ee=ue=>{const nt=$t(ue);return nt?document.querySelector(nt):null},Oe=ue=>{ue.dispatchEvent(new Event(Le))},ve=ue=>!(!ue||"object"!=typeof ue)&&(void 0!==ue.jquery&&(ue=ue[0]),void 0!==ue.nodeType),Wt=ue=>ve(ue)?ue.jquery?ue[0]:ue:"string"==typeof ue&&ue.length>0?document.querySelector(ue):null,Ft=(ue,nt,bt)=>{Object.keys(bt).forEach(Me=>{const We=bt[Me],Je=nt[Me],wn=Je&&ve(Je)?"element":null==(Wn=Je)?`${Wn}`:{}.toString.call(Wn).match(/\s([a-z]+)/i)[1].toLowerCase();var Wn;if(!new RegExp(We).test(wn))throw new TypeError(`${ue.toUpperCase()}: Option "${Me}" provided type "${wn}" but expected type "${We}".`)})},Nt=ue=>!(!ve(ue)||0===ue.getClientRects().length)&&"visible"===getComputedStyle(ue).getPropertyValue("visibility"),gt=ue=>!ue||ue.nodeType!==Node.ELEMENT_NODE||!!ue.classList.contains("disabled")||(void 0!==ue.disabled?ue.disabled:ue.hasAttribute("disabled")&&"false"!==ue.getAttribute("disabled")),dt=ue=>{if(!document.documentElement.attachShadow)return null;if("function"==typeof ue.getRootNode){const nt=ue.getRootNode();return nt instanceof ShadowRoot?nt:null}return ue instanceof ShadowRoot?ue:ue.parentNode?dt(ue.parentNode):null},ft=()=>{},Et=()=>{const{jQuery:ue}=window;return ue&&!document.body.hasAttribute("data-bs-no-jquery")?ue:null},lt=[],_t=()=>"rtl"===document.documentElement.dir,xt=ue=>{var nt;nt=()=>{const bt=Et();if(bt){const Me=ue.NAME,We=bt.fn[Me];bt.fn[Me]=ue.jQueryInterface,bt.fn[Me].Constructor=ue,bt.fn[Me].noConflict=()=>(bt.fn[Me]=We,ue.jQueryInterface)}},"loading"===document.readyState?(lt.length||document.addEventListener("DOMContentLoaded",()=>{lt.forEach(bt=>bt())}),lt.push(nt)):nt()},ot=ue=>{"function"==typeof ue&&ue()},it=(ue,nt,bt=!0)=>{if(!bt)return void ot(ue);const Me=(wn=>{if(!wn)return 0;let{transitionDuration:Wn,transitionDelay:si}=window.getComputedStyle(wn);const li=Number.parseFloat(Wn),yi=Number.parseFloat(si);return li||yi?(Wn=Wn.split(",")[0],si=si.split(",")[0],1e3*(Number.parseFloat(Wn)+Number.parseFloat(si))):0})(nt)+5;let We=!1;const Je=({target:wn})=>{wn===nt&&(We=!0,nt.removeEventListener(Le,Je),ot(ue))};nt.addEventListener(Le,Je),setTimeout(()=>{We||Oe(nt)},Me)},It=(ue,nt,bt,Me)=>{let We=ue.indexOf(nt);if(-1===We)return ue[!bt&&Me?ue.length-1:0];const Je=ue.length;return We+=bt?1:-1,Me&&(We=(We+Je)%Je),ue[Math.max(0,Math.min(We,Je-1))]},Ut=/[^.]*(?=\..*)\.|.*/,Yt=/\..*/,ie=/::\d+$/,Pt={};let Xt=1;const vt={mouseenter:"mouseover",mouseleave:"mouseout"},Dt=/^(mouseenter|mouseleave)/i,se=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function Pe(ue,nt){return nt&&`${nt}::${Xt++}`||ue.uidEvent||Xt++}function Ne(ue){const nt=Pe(ue);return ue.uidEvent=nt,Pt[nt]=Pt[nt]||{},Pt[nt]}function tn(ue,nt,bt=null){const Me=Object.keys(ue);for(let We=0,Je=Me.length;We<Je;We++){const wn=ue[Me[We]];if(wn.originalHandler===nt&&wn.delegationSelector===bt)return wn}return null}function on(ue,nt,bt){const Me="string"==typeof nt,We=Me?bt:nt;let Je=zt(ue);return se.has(Je)||(Je=ue),[Me,We,Je]}function an(ue,nt,bt,Me,We){if("string"!=typeof nt||!ue)return;if(bt||(bt=Me,Me=null),Dt.test(nt)){const xi=Li=>function(Hi){if(!Hi.relatedTarget||Hi.relatedTarget!==Hi.delegateTarget&&!Hi.delegateTarget.contains(Hi.relatedTarget))return Li.call(this,Hi)};Me?Me=xi(Me):bt=xi(bt)}const[Je,wn,Wn]=on(nt,bt,Me),si=Ne(ue),li=si[Wn]||(si[Wn]={}),yi=tn(li,wn,Je?bt:null);if(yi)return void(yi.oneOff=yi.oneOff&&We);const Bn=Pe(wn,nt.replace(Ut,"")),In=Je?(xi=ue,Li=bt,Hi=Me,function Ti(Pr){const or=xi.querySelectorAll(Li);for(let{target:cr}=Pr;cr&&cr!==this;cr=cr.parentNode)for(let _r=or.length;_r--;)if(or[_r]===cr)return Pr.delegateTarget=cr,Ti.oneOff&&oe.off(xi,Pr.type,Li,Hi),Hi.apply(cr,[Pr]);return null}):function(xi,Li){return function Hi(Ti){return Ti.delegateTarget=xi,Hi.oneOff&&oe.off(xi,Ti.type,Li),Li.apply(xi,[Ti])}}(ue,bt);var xi,Li,Hi;In.delegationSelector=Je?bt:null,In.originalHandler=wn,In.oneOff=We,In.uidEvent=Bn,li[Bn]=In,ue.addEventListener(Wn,In,Je)}function mt(ue,nt,bt,Me,We){const Je=tn(nt[bt],Me,We);Je&&(ue.removeEventListener(bt,Je,Boolean(We)),delete nt[bt][Je.uidEvent])}function zt(ue){return ue=ue.replace(Yt,""),vt[ue]||ue}const oe={on(ue,nt,bt,Me){an(ue,nt,bt,Me,!1)},one(ue,nt,bt,Me){an(ue,nt,bt,Me,!0)},off(ue,nt,bt,Me){if("string"!=typeof nt||!ue)return;const[We,Je,wn]=on(nt,bt,Me),Wn=wn!==nt,si=Ne(ue),li=nt.startsWith(".");if(void 0!==Je)return si&&si[wn]?void mt(ue,si,wn,Je,We?bt:null):void 0;li&&Object.keys(si).forEach(Bn=>{!function(In,xi,Li,Hi){const Ti=xi[Li]||{};Object.keys(Ti).forEach(Pr=>{if(Pr.includes(Hi)){const or=Ti[Pr];mt(In,xi,Li,or.originalHandler,or.delegationSelector)}})}(ue,si,Bn,nt.slice(1))});const yi=si[wn]||{};Object.keys(yi).forEach(Bn=>{const In=Bn.replace(ie,"");if(!Wn||nt.includes(In)){const xi=yi[Bn];mt(ue,si,wn,xi.originalHandler,xi.delegationSelector)}})},trigger(ue,nt,bt){if("string"!=typeof nt||!ue)return null;const Me=Et(),We=zt(nt),Je=nt!==We,wn=se.has(We);let Wn,si=!0,li=!0,yi=!1,Bn=null;return Je&&Me&&(Wn=Me.Event(nt,bt),Me(ue).trigger(Wn),si=!Wn.isPropagationStopped(),li=!Wn.isImmediatePropagationStopped(),yi=Wn.isDefaultPrevented()),wn?(Bn=document.createEvent("HTMLEvents"),Bn.initEvent(We,si,!0)):Bn=new CustomEvent(nt,{bubbles:si,cancelable:!0}),void 0!==bt&&Object.keys(bt).forEach(In=>{Object.defineProperty(Bn,In,{get:()=>bt[In]})}),yi&&Bn.preventDefault(),li&&ue.dispatchEvent(Bn),Bn.defaultPrevented&&void 0!==Wn&&Wn.preventDefault(),Bn}},Ae=new Map,ze={set(ue,nt,bt){Ae.has(ue)||Ae.set(ue,new Map);const Me=Ae.get(ue);Me.has(nt)||0===Me.size?Me.set(nt,bt):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(Me.keys())[0]}.`)},get:(ue,nt)=>Ae.has(ue)&&Ae.get(ue).get(nt)||null,remove(ue,nt){if(!Ae.has(ue))return;const bt=Ae.get(ue);bt.delete(nt),0===bt.size&&Ae.delete(ue)}};class be{constructor(nt){(nt=Wt(nt))&&(this._element=nt,ze.set(this._element,this.constructor.DATA_KEY,this))}dispose(){ze.remove(this._element,this.constructor.DATA_KEY),oe.off(this._element,this.constructor.EVENT_KEY),Object.getOwnPropertyNames(this).forEach(nt=>{this[nt]=null})}_queueCallback(nt,bt,Me=!0){it(nt,bt,Me)}static getInstance(nt){return ze.get(Wt(nt),this.DATA_KEY)}static getOrCreateInstance(nt,bt={}){return this.getInstance(nt)||new this(nt,"object"==typeof bt?bt:null)}static get VERSION(){return"5.1.3"}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}}const _e=(ue,nt="hide")=>{const Me=ue.NAME;oe.on(document,`click.dismiss${ue.EVENT_KEY}`,`[data-bs-dismiss="${Me}"]`,function(We){if(["A","AREA"].includes(this.tagName)&&We.preventDefault(),gt(this))return;const Je=ee(this)||this.closest(`.${Me}`);ue.getOrCreateInstance(Je)[nt]()})};class de extends be{static get NAME(){return"alert"}close(){if(oe.trigger(this._element,"close.bs.alert").defaultPrevented)return;this._element.classList.remove("show");const nt=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,nt)}_destroyElement(){this._element.remove(),oe.trigger(this._element,"closed.bs.alert"),this.dispose()}static jQueryInterface(nt){return this.each(function(){const bt=de.getOrCreateInstance(this);if("string"==typeof nt){if(void 0===bt[nt]||nt.startsWith("_")||"constructor"===nt)throw new TypeError(`No method named "${nt}"`);bt[nt](this)}})}}_e(de,"close"),xt(de);const Jt='[data-bs-toggle="button"]';class Fe extends be{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(nt){return this.each(function(){const bt=Fe.getOrCreateInstance(this);"toggle"===nt&&bt[nt]()})}}function Ke(ue){return"true"===ue||"false"!==ue&&(ue===Number(ue).toString()?Number(ue):""===ue||"null"===ue?null:ue)}function sn(ue){return ue.replace(/[A-Z]/g,nt=>`-${nt.toLowerCase()}`)}oe.on(document,"click.bs.button.data-api",Jt,ue=>{ue.preventDefault();const nt=ue.target.closest(Jt);Fe.getOrCreateInstance(nt).toggle()}),xt(Fe);const hn={setDataAttribute(ue,nt,bt){ue.setAttribute(`data-bs-${sn(nt)}`,bt)},removeDataAttribute(ue,nt){ue.removeAttribute(`data-bs-${sn(nt)}`)},getDataAttributes(ue){if(!ue)return{};const nt={};return Object.keys(ue.dataset).filter(bt=>bt.startsWith("bs")).forEach(bt=>{let Me=bt.replace(/^bs/,"");Me=Me.charAt(0).toLowerCase()+Me.slice(1,Me.length),nt[Me]=Ke(ue.dataset[bt])}),nt},getDataAttribute:(ue,nt)=>Ke(ue.getAttribute(`data-bs-${sn(nt)}`)),offset(ue){const nt=ue.getBoundingClientRect();return{top:nt.top+window.pageYOffset,left:nt.left+window.pageXOffset}},position:ue=>({top:ue.offsetTop,left:ue.offsetLeft})},$e={find:(ue,nt=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(nt,ue)),findOne:(ue,nt=document.documentElement)=>Element.prototype.querySelector.call(nt,ue),children:(ue,nt)=>[].concat(...ue.children).filter(bt=>bt.matches(nt)),parents(ue,nt){const bt=[];let Me=ue.parentNode;for(;Me&&Me.nodeType===Node.ELEMENT_NODE&&3!==Me.nodeType;)Me.matches(nt)&&bt.push(Me),Me=Me.parentNode;return bt},prev(ue,nt){let bt=ue.previousElementSibling;for(;bt;){if(bt.matches(nt))return[bt];bt=bt.previousElementSibling}return[]},next(ue,nt){let bt=ue.nextElementSibling;for(;bt;){if(bt.matches(nt))return[bt];bt=bt.nextElementSibling}return[]},focusableChildren(ue){const nt=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(bt=>`${bt}:not([tabindex^="-"])`).join(", ");return this.find(nt,ue).filter(bt=>!gt(bt)&&Nt(bt))}},ti="carousel",ui={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0,touch:!0},hi={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean",touch:"boolean"},ur="next",Zi="prev",dn="left",fn="right",On={ArrowLeft:fn,ArrowRight:dn},Tn="slid.bs.carousel",En="active",Di=".active.carousel-item";class Oi extends be{constructor(nt,bt){super(nt),this._items=null,this._interval=null,this._activeElement=null,this._isPaused=!1,this._isSliding=!1,this.touchTimeout=null,this.touchStartX=0,this.touchDeltaX=0,this._config=this._getConfig(bt),this._indicatorsElement=$e.findOne(".carousel-indicators",this._element),this._touchSupported="ontouchstart"in document.documentElement||navigator.maxTouchPoints>0,this._pointerEvent=Boolean(window.PointerEvent),this._addEventListeners()}static get Default(){return ui}static get NAME(){return ti}next(){this._slide(ur)}nextWhenVisible(){!document.hidden&&Nt(this._element)&&this.next()}prev(){this._slide(Zi)}pause(nt){nt||(this._isPaused=!0),$e.findOne(".carousel-item-next, .carousel-item-prev",this._element)&&(Oe(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null}cycle(nt){nt||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config&&this._config.interval&&!this._isPaused&&(this._updateInterval(),this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))}to(nt){this._activeElement=$e.findOne(Di,this._element);const bt=this._getItemIndex(this._activeElement);if(!(nt>this._items.length-1||nt<0)){if(!this._isSliding)return bt===nt?(this.pause(),void this.cycle()):void this._slide(nt>bt?ur:Zi,this._items[nt]);oe.one(this._element,Tn,()=>this.to(nt))}}_getConfig(nt){return nt=er(er(er({},ui),hn.getDataAttributes(this._element)),"object"==typeof nt?nt:{}),Ft(ti,nt,hi),nt}_handleSwipe(){const nt=Math.abs(this.touchDeltaX);if(nt<=40)return;const bt=nt/this.touchDeltaX;this.touchDeltaX=0,bt&&this._slide(bt>0?fn:dn)}_addEventListeners(){this._config.keyboard&&oe.on(this._element,"keydown.bs.carousel",nt=>this._keydown(nt)),"hover"===this._config.pause&&(oe.on(this._element,"mouseenter.bs.carousel",nt=>this.pause(nt)),oe.on(this._element,"mouseleave.bs.carousel",nt=>this.cycle(nt))),this._config.touch&&this._touchSupported&&this._addTouchEventListeners()}_addTouchEventListeners(){const nt=Je=>this._pointerEvent&&("pen"===Je.pointerType||"touch"===Je.pointerType),bt=Je=>{nt(Je)?this.touchStartX=Je.clientX:this._pointerEvent||(this.touchStartX=Je.touches[0].clientX)},Me=Je=>{this.touchDeltaX=Je.touches&&Je.touches.length>1?0:Je.touches[0].clientX-this.touchStartX},We=Je=>{nt(Je)&&(this.touchDeltaX=Je.clientX-this.touchStartX),this._handleSwipe(),"hover"===this._config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(wn=>this.cycle(wn),500+this._config.interval))};$e.find(".carousel-item img",this._element).forEach(Je=>{oe.on(Je,"dragstart.bs.carousel",wn=>wn.preventDefault())}),this._pointerEvent?(oe.on(this._element,"pointerdown.bs.carousel",Je=>bt(Je)),oe.on(this._element,"pointerup.bs.carousel",Je=>We(Je)),this._element.classList.add("pointer-event")):(oe.on(this._element,"touchstart.bs.carousel",Je=>bt(Je)),oe.on(this._element,"touchmove.bs.carousel",Je=>Me(Je)),oe.on(this._element,"touchend.bs.carousel",Je=>We(Je)))}_keydown(nt){if(/input|textarea/i.test(nt.target.tagName))return;const bt=On[nt.key];bt&&(nt.preventDefault(),this._slide(bt))}_getItemIndex(nt){return this._items=nt&&nt.parentNode?$e.find(".carousel-item",nt.parentNode):[],this._items.indexOf(nt)}_getItemByOrder(nt,bt){return It(this._items,bt,nt===ur,this._config.wrap)}_triggerSlideEvent(nt,bt){const Me=this._getItemIndex(nt),We=this._getItemIndex($e.findOne(Di,this._element));return oe.trigger(this._element,"slide.bs.carousel",{relatedTarget:nt,direction:bt,from:We,to:Me})}_setActiveIndicatorElement(nt){if(this._indicatorsElement){const bt=$e.findOne(".active",this._indicatorsElement);bt.classList.remove(En),bt.removeAttribute("aria-current");const Me=$e.find("[data-bs-target]",this._indicatorsElement);for(let We=0;We<Me.length;We++)if(Number.parseInt(Me[We].getAttribute("data-bs-slide-to"),10)===this._getItemIndex(nt)){Me[We].classList.add(En),Me[We].setAttribute("aria-current","true");break}}}_updateInterval(){const nt=this._activeElement||$e.findOne(Di,this._element);if(!nt)return;const bt=Number.parseInt(nt.getAttribute("data-bs-interval"),10);bt?(this._config.defaultInterval=this._config.defaultInterval||this._config.interval,this._config.interval=bt):this._config.interval=this._config.defaultInterval||this._config.interval}_slide(nt,bt){const Me=this._directionToOrder(nt),We=$e.findOne(Di,this._element),Je=this._getItemIndex(We),wn=bt||this._getItemByOrder(Me,We),Wn=this._getItemIndex(wn),si=Boolean(this._interval),li=Me===ur,yi=li?"carousel-item-start":"carousel-item-end",Bn=li?"carousel-item-next":"carousel-item-prev",In=this._orderToDirection(Me);if(wn&&wn.classList.contains(En))return void(this._isSliding=!1);if(this._isSliding||this._triggerSlideEvent(wn,In).defaultPrevented||!We||!wn)return;this._isSliding=!0,si&&this.pause(),this._setActiveIndicatorElement(wn),this._activeElement=wn;const xi=()=>{oe.trigger(this._element,Tn,{relatedTarget:wn,direction:In,from:Je,to:Wn})};this._element.classList.contains("slide")?(wn.classList.add(Bn),We.classList.add(yi),wn.classList.add(yi),this._queueCallback(()=>{wn.classList.remove(yi,Bn),wn.classList.add(En),We.classList.remove(En,Bn,yi),this._isSliding=!1,setTimeout(xi,0)},We,!0)):(We.classList.remove(En),wn.classList.add(En),this._isSliding=!1,xi()),si&&this.cycle()}_directionToOrder(nt){return[fn,dn].includes(nt)?_t()?nt===dn?Zi:ur:nt===dn?ur:Zi:nt}_orderToDirection(nt){return[ur,Zi].includes(nt)?_t()?nt===Zi?dn:fn:nt===Zi?fn:dn:nt}static carouselInterface(nt,bt){const Me=Oi.getOrCreateInstance(nt,bt);let{_config:We}=Me;"object"==typeof bt&&(We=er(er({},We),bt));const Je="string"==typeof bt?bt:We.slide;if("number"==typeof bt)Me.to(bt);else if("string"==typeof Je){if(void 0===Me[Je])throw new TypeError(`No method named "${Je}"`);Me[Je]()}else We.interval&&We.ride&&(Me.pause(),Me.cycle())}static jQueryInterface(nt){return this.each(function(){Oi.carouselInterface(this,nt)})}static dataApiClickHandler(nt){const bt=ee(this);if(!bt||!bt.classList.contains("carousel"))return;const Me=er(er({},hn.getDataAttributes(bt)),hn.getDataAttributes(this)),We=this.getAttribute("data-bs-slide-to");We&&(Me.interval=!1),Oi.carouselInterface(bt,Me),We&&Oi.getInstance(bt).to(We),nt.preventDefault()}}oe.on(document,"click.bs.carousel.data-api","[data-bs-slide], [data-bs-slide-to]",Oi.dataApiClickHandler),oe.on(window,"load.bs.carousel.data-api",()=>{const ue=$e.find('[data-bs-ride="carousel"]');for(let nt=0,bt=ue.length;nt<bt;nt++)Oi.carouselInterface(ue[nt],Oi.getInstance(ue[nt]))}),xt(Oi);const Ni="collapse",br={toggle:!0,parent:null},ji={toggle:"boolean",parent:"(null|element)"},nr="show",qr="collapse",Io="collapsing",ii="collapsed",Bl=":scope .collapse .collapse",Fo='[data-bs-toggle="collapse"]';class ei extends be{constructor(nt,bt){super(nt),this._isTransitioning=!1,this._config=this._getConfig(bt),this._triggerArray=[];const Me=$e.find(Fo);for(let We=0,Je=Me.length;We<Je;We++){const wn=Me[We],Wn=Tt(wn),si=$e.find(Wn).filter(li=>li===this._element);null!==Wn&&si.length&&(this._selector=Wn,this._triggerArray.push(wn))}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return br}static get NAME(){return Ni}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let nt,bt=[];if(this._config.parent){const wn=$e.find(Bl,this._config.parent);bt=$e.find(".collapse.show, .collapse.collapsing",this._config.parent).filter(Wn=>!wn.includes(Wn))}const Me=$e.findOne(this._selector);if(bt.length){const wn=bt.find(Wn=>Me!==Wn);if(nt=wn?ei.getInstance(wn):null,nt&&nt._isTransitioning)return}if(oe.trigger(this._element,"show.bs.collapse").defaultPrevented)return;bt.forEach(wn=>{Me!==wn&&ei.getOrCreateInstance(wn,{toggle:!1}).hide(),nt||ze.set(wn,"bs.collapse",null)});const We=this._getDimension();this._element.classList.remove(qr),this._element.classList.add(Io),this._element.style[We]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const Je=`scroll${We[0].toUpperCase()+We.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Io),this._element.classList.add(qr,nr),this._element.style[We]="",oe.trigger(this._element,"shown.bs.collapse")},this._element,!0),this._element.style[We]=`${this._element[Je]}px`}hide(){if(this._isTransitioning||!this._isShown()||oe.trigger(this._element,"hide.bs.collapse").defaultPrevented)return;const nt=this._getDimension();this._element.style[nt]=`${this._element.getBoundingClientRect()[nt]}px`,this._element.classList.add(Io),this._element.classList.remove(qr,nr);const bt=this._triggerArray.length;for(let Me=0;Me<bt;Me++){const We=this._triggerArray[Me],Je=ee(We);Je&&!this._isShown(Je)&&this._addAriaAndCollapsedClass([We],!1)}this._isTransitioning=!0,this._element.style[nt]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Io),this._element.classList.add(qr),oe.trigger(this._element,"hidden.bs.collapse")},this._element,!0)}_isShown(nt=this._element){return nt.classList.contains(nr)}_getConfig(nt){return(nt=er(er(er({},br),hn.getDataAttributes(this._element)),nt)).toggle=Boolean(nt.toggle),nt.parent=Wt(nt.parent),Ft(Ni,nt,ji),nt}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const nt=$e.find(Bl,this._config.parent);$e.find(Fo,this._config.parent).filter(bt=>!nt.includes(bt)).forEach(bt=>{const Me=ee(bt);Me&&this._addAriaAndCollapsedClass([bt],this._isShown(Me))})}_addAriaAndCollapsedClass(nt,bt){nt.length&&nt.forEach(Me=>{bt?Me.classList.remove(ii):Me.classList.add(ii),Me.setAttribute("aria-expanded",bt)})}static jQueryInterface(nt){return this.each(function(){const bt={};"string"==typeof nt&&/show|hide/.test(nt)&&(bt.toggle=!1);const Me=ei.getOrCreateInstance(this,bt);if("string"==typeof nt){if(void 0===Me[nt])throw new TypeError(`No method named "${nt}"`);Me[nt]()}})}}oe.on(document,"click.bs.collapse.data-api",Fo,function(ue){("A"===ue.target.tagName||ue.delegateTarget&&"A"===ue.delegateTarget.tagName)&&ue.preventDefault();const nt=Tt(this);$e.find(nt).forEach(bt=>{ei.getOrCreateInstance(bt,{toggle:!1}).toggle()})}),xt(ei);var Mr="top",ta="bottom",ge="right",Vi="left",ir="auto",Xs=[Mr,ta,ge,Vi],ho="start",ca="end",Lr="clippingParents",Ja="viewport",Yi="popper",Vo="reference",gi=Xs.reduce(function(ue,nt){return ue.concat([nt+"-"+ho,nt+"-"+ca])},[]),oo=[].concat(Xs,[ir]).reduce(function(ue,nt){return ue.concat([nt,nt+"-"+ho,nt+"-"+ca])},[]),Oa="beforeRead",Nr="afterRead",pu="beforeMain",Ho="afterMain",Dr="beforeWrite",Ra="afterWrite",ae=[Oa,"read",Nr,pu,"main",Ho,Dr,"write",Ra];function c(ue){return ue?(ue.nodeName||"").toLowerCase():null}function h(ue){if(null==ue)return window;if("[object Window]"!==ue.toString()){var nt=ue.ownerDocument;return nt&&nt.defaultView||window}return ue}function v(ue){return ue instanceof h(ue).Element||ue instanceof Element}function _(ue){return ue instanceof h(ue).HTMLElement||ue instanceof HTMLElement}function A(ue){return"undefined"!=typeof ShadowRoot&&(ue instanceof h(ue).ShadowRoot||ue instanceof ShadowRoot)}const P={name:"applyStyles",enabled:!0,phase:"write",fn:function(ue){var nt=ue.state;Object.keys(nt.elements).forEach(function(bt){var Me=nt.styles[bt]||{},We=nt.attributes[bt]||{},Je=nt.elements[bt];_(Je)&&c(Je)&&(Object.assign(Je.style,Me),Object.keys(We).forEach(function(wn){var Wn=We[wn];!1===Wn?Je.removeAttribute(wn):Je.setAttribute(wn,!0===Wn?"":Wn)}))})},effect:function(ue){var nt=ue.state,bt={popper:{position:nt.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(nt.elements.popper.style,bt.popper),nt.styles=bt,nt.elements.arrow&&Object.assign(nt.elements.arrow.style,bt.arrow),function(){Object.keys(nt.elements).forEach(function(Me){var We=nt.elements[Me],Je=nt.attributes[Me]||{},wn=Object.keys(nt.styles.hasOwnProperty(Me)?nt.styles[Me]:bt[Me]).reduce(function(Wn,si){return Wn[si]="",Wn},{});_(We)&&c(We)&&(Object.assign(We.style,wn),Object.keys(Je).forEach(function(Wn){We.removeAttribute(Wn)}))})}},requires:["computeStyles"]};function E(ue){return ue.split("-")[0]}function F(ue,nt){var bt=ue.getBoundingClientRect();return{width:bt.width/1,height:bt.height/1,top:bt.top/1,right:bt.right/1,bottom:bt.bottom/1,left:bt.left/1,x:bt.left/1,y:bt.top/1}}function W(ue){var nt=F(ue),bt=ue.offsetWidth,Me=ue.offsetHeight;return Math.abs(nt.width-bt)<=1&&(bt=nt.width),Math.abs(nt.height-Me)<=1&&(Me=nt.height),{x:ue.offsetLeft,y:ue.offsetTop,width:bt,height:Me}}function K(ue,nt){var bt=nt.getRootNode&&nt.getRootNode();if(ue.contains(nt))return!0;if(bt&&A(bt)){var Me=nt;do{if(Me&&ue.isSameNode(Me))return!0;Me=Me.parentNode||Me.host}while(Me)}return!1}function J(ue){return h(ue).getComputedStyle(ue)}function ct(ue){return["table","td","th"].indexOf(c(ue))>=0}function yt(ue){return((v(ue)?ue.ownerDocument:ue.document)||window.document).documentElement}function Vt(ue){return"html"===c(ue)?ue:ue.assignedSlot||ue.parentNode||(A(ue)?ue.host:null)||yt(ue)}function Ht(ue){return _(ue)&&"fixed"!==J(ue).position?ue.offsetParent:null}function qt(ue){for(var nt=h(ue),bt=Ht(ue);bt&&ct(bt)&&"static"===J(bt).position;)bt=Ht(bt);return bt&&("html"===c(bt)||"body"===c(bt)&&"static"===J(bt).position)?nt:bt||function(Me){var We=-1!==navigator.userAgent.toLowerCase().indexOf("firefox");if(-1!==navigator.userAgent.indexOf("Trident")&&_(Me)&&"fixed"===J(Me).position)return null;for(var Je=Vt(Me);_(Je)&&["html","body"].indexOf(c(Je))<0;){var wn=J(Je);if("none"!==wn.transform||"none"!==wn.perspective||"paint"===wn.contain||-1!==["transform","perspective"].indexOf(wn.willChange)||We&&"filter"===wn.willChange||We&&wn.filter&&"none"!==wn.filter)return Je;Je=Je.parentNode}return null}(ue)||nt}function le(ue){return["top","bottom"].indexOf(ue)>=0?"x":"y"}var me=Math.max,De=Math.min,j=Math.round;function ut(ue,nt,bt){return me(ue,De(nt,bt))}function Zt(ue){return Object.assign({},{top:0,right:0,bottom:0,left:0},ue)}function he(ue,nt){return nt.reduce(function(bt,Me){return bt[Me]=ue,bt},{})}const Ue={name:"arrow",enabled:!0,phase:"main",fn:function(ue){var nt,Ji,wr,bt=ue.state,Me=ue.name,We=ue.options,Je=bt.elements.arrow,wn=bt.modifiersData.popperOffsets,Wn=E(bt.placement),si=le(Wn),li=[Vi,ge].indexOf(Wn)>=0?"height":"width";if(Je&&wn){var yi=(wr=bt,Zt("number"!=typeof(Ji="function"==typeof(Ji=We.padding)?Ji(Object.assign({},wr.rects,{placement:wr.placement})):Ji)?Ji:he(Ji,Xs))),Bn=W(Je),In="y"===si?Mr:Vi,xi="y"===si?ta:ge,Li=bt.rects.reference[li]+bt.rects.reference[si]-wn[si]-bt.rects.popper[li],Hi=wn[si]-bt.rects.reference[si],Ti=qt(Je),Pr=Ti?"y"===si?Ti.clientHeight||0:Ti.clientWidth||0:0,hr=Pr/2-Bn[li]/2+(Li/2-Hi/2),gr=ut(yi[In],hr,Pr-Bn[li]-yi[xi]);bt.modifiersData[Me]=((nt={})[si]=gr,nt.centerOffset=gr-hr,nt)}},effect:function(ue){var nt=ue.state,bt=ue.options.element,Me=void 0===bt?"[data-popper-arrow]":bt;null!=Me&&("string"!=typeof Me||(Me=nt.elements.popper.querySelector(Me)))&&K(nt.elements.popper,Me)&&(nt.elements.arrow=Me)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function kn(ue){return ue.split("-")[1]}var rn={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Kn(ue){var nt,fo,ba,uo,bt=ue.popper,Me=ue.popperRect,We=ue.placement,Je=ue.variation,wn=ue.offsets,Wn=ue.position,si=ue.gpuAcceleration,li=ue.adaptive,yi=ue.roundOffsets,Bn=!0===yi?(ba=(fo=wn).y,uo=window.devicePixelRatio||1,{x:j(j(fo.x*uo)/uo)||0,y:j(j(ba*uo)/uo)||0}):"function"==typeof yi?yi(wn):wn,In=Bn.x,xi=void 0===In?0:In,Li=Bn.y,Hi=void 0===Li?0:Li,Ti=wn.hasOwnProperty("x"),Pr=wn.hasOwnProperty("y"),or=Vi,cr=Mr,_r=window;if(li){var hr=qt(bt),gr="clientHeight",qi="clientWidth";hr===h(bt)&&"static"!==J(hr=yt(bt)).position&&"absolute"===Wn&&(gr="scrollHeight",qi="scrollWidth"),hr=hr,We!==Mr&&(We!==Vi&&We!==ge||Je!==ca)||(cr=ta,Hi-=hr[gr]-Me.height,Hi*=si?1:-1),We!==Vi&&(We!==Mr&&We!==ta||Je!==ca)||(or=ge,xi-=hr[qi]-Me.width,xi*=si?1:-1)}var Ji,wr=Object.assign({position:Wn},li&&rn);return Object.assign({},wr,si?((Ji={})[cr]=Pr?"0":"",Ji[or]=Ti?"0":"",Ji.transform=(_r.devicePixelRatio||1)<=1?"translate("+xi+"px, "+Hi+"px)":"translate3d("+xi+"px, "+Hi+"px, 0)",Ji):((nt={})[cr]=Pr?Hi+"px":"",nt[or]=Ti?xi+"px":"",nt.transform="",nt))}const zn={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(ue){var nt=ue.state,bt=ue.options,Me=bt.gpuAcceleration,We=void 0===Me||Me,Je=bt.adaptive,wn=void 0===Je||Je,Wn=bt.roundOffsets,si=void 0===Wn||Wn,li={placement:E(nt.placement),variation:kn(nt.placement),popper:nt.elements.popper,popperRect:nt.rects.popper,gpuAcceleration:We};null!=nt.modifiersData.popperOffsets&&(nt.styles.popper=Object.assign({},nt.styles.popper,Kn(Object.assign({},li,{offsets:nt.modifiersData.popperOffsets,position:nt.options.strategy,adaptive:wn,roundOffsets:si})))),null!=nt.modifiersData.arrow&&(nt.styles.arrow=Object.assign({},nt.styles.arrow,Kn(Object.assign({},li,{offsets:nt.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:si})))),nt.attributes.popper=Object.assign({},nt.attributes.popper,{"data-popper-placement":nt.placement})},data:{}};var ai={passive:!0};const Mi={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(ue){var nt=ue.state,bt=ue.instance,Me=ue.options,We=Me.scroll,Je=void 0===We||We,wn=Me.resize,Wn=void 0===wn||wn,si=h(nt.elements.popper),li=[].concat(nt.scrollParents.reference,nt.scrollParents.popper);return Je&&li.forEach(function(yi){yi.addEventListener("scroll",bt.update,ai)}),Wn&&si.addEventListener("resize",bt.update,ai),function(){Je&&li.forEach(function(yi){yi.removeEventListener("scroll",bt.update,ai)}),Wn&&si.removeEventListener("resize",bt.update,ai)}},data:{}};var Ki={left:"right",right:"left",bottom:"top",top:"bottom"};function Qi(ue){return ue.replace(/left|right|bottom|top/g,function(nt){return Ki[nt]})}var Ur={start:"end",end:"start"};function ao(ue){return ue.replace(/start|end/g,function(nt){return Ur[nt]})}function es(ue){var nt=h(ue);return{scrollLeft:nt.pageXOffset,scrollTop:nt.pageYOffset}}function ns(ue){return F(yt(ue)).left+es(ue).scrollLeft}function Ci(ue){var nt=J(ue);return/auto|scroll|overlay|hidden/.test(nt.overflow+nt.overflowY+nt.overflowX)}function gu(ue){return["html","body","#document"].indexOf(c(ue))>=0?ue.ownerDocument.body:_(ue)&&Ci(ue)?ue:gu(Vt(ue))}function Ms(ue,nt){var bt;void 0===nt&&(nt=[]);var Me=gu(ue),We=Me===(null==(bt=ue.ownerDocument)?void 0:bt.body),Je=h(Me),wn=We?[Je].concat(Je.visualViewport||[],Ci(Me)?Me:[]):Me,Wn=nt.concat(wn);return We?Wn:Wn.concat(Ms(Vt(wn)))}function vn(ue){return Object.assign({},ue,{left:ue.x,top:ue.y,right:ue.x+ue.width,bottom:ue.y+ue.height})}function Qe(ue,nt){return nt===Ja?vn((Me=h(bt=ue),wn=(We=yt(bt)).clientWidth,Wn=We.clientHeight,si=0,li=0,(Je=Me.visualViewport)&&(wn=Je.width,Wn=Je.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(si=Je.offsetLeft,li=Je.offsetTop)),{width:wn,height:Wn,x:si+ns(bt),y:li})):_(nt)?function(bt){var Me=F(bt);return Me.top=Me.top+bt.clientTop,Me.left=Me.left+bt.clientLeft,Me.bottom=Me.top+bt.clientHeight,Me.right=Me.left+bt.clientWidth,Me.width=bt.clientWidth,Me.height=bt.clientHeight,Me.x=Me.left,Me.y=Me.top,Me}(nt):vn(function(bt){var Me,We=yt(bt),Je=es(bt),wn=null==(Me=bt.ownerDocument)?void 0:Me.body,Wn=me(We.scrollWidth,We.clientWidth,wn?wn.scrollWidth:0,wn?wn.clientWidth:0),si=me(We.scrollHeight,We.clientHeight,wn?wn.scrollHeight:0,wn?wn.clientHeight:0),li=-Je.scrollLeft+ns(bt),yi=-Je.scrollTop;return"rtl"===J(wn||We).direction&&(li+=me(We.clientWidth,wn?wn.clientWidth:0)-Wn),{width:Wn,height:si,x:li,y:yi}}(yt(ue)));var bt,Me,We,Je,wn,Wn,si,li}function pr(ue){var nt,bt=ue.reference,Me=ue.element,We=ue.placement,Je=We?E(We):null,wn=We?kn(We):null,Wn=bt.x+bt.width/2-Me.width/2,si=bt.y+bt.height/2-Me.height/2;switch(Je){case Mr:nt={x:Wn,y:bt.y-Me.height};break;case ta:nt={x:Wn,y:bt.y+bt.height};break;case ge:nt={x:bt.x+bt.width,y:si};break;case Vi:nt={x:bt.x-Me.width,y:si};break;default:nt={x:bt.x,y:bt.y}}var li=Je?le(Je):null;if(null!=li){var yi="y"===li?"height":"width";switch(wn){case ho:nt[li]=nt[li]-(bt[yi]/2-Me[yi]/2);break;case ca:nt[li]=nt[li]+(bt[yi]/2-Me[yi]/2)}}return nt}function so(ue,nt){void 0===nt&&(nt={});var $r,ba,uo,io,Oo,Ai,Po,Ps,Yo,Me=nt.placement,We=void 0===Me?ue.placement:Me,Je=nt.boundary,wn=void 0===Je?Lr:Je,Wn=nt.rootBoundary,si=void 0===Wn?Ja:Wn,li=nt.elementContext,yi=void 0===li?Yi:li,Bn=nt.altBoundary,In=void 0!==Bn&&Bn,xi=nt.padding,Li=void 0===xi?0:xi,Hi=Zt("number"!=typeof Li?Li:he(Li,Xs)),Pr=ue.rects.popper,or=ue.elements[In?yi===Yi?Vo:Yi:yi],cr=($r=v(or)?or:or.contextElement||yt(ue.elements.popper),uo=si,Po="clippingParents"===(ba=wn)?(Oo=Ms(Vt(io=$r)),v(Ai=["absolute","fixed"].indexOf(J(io).position)>=0&&_(io)?qt(io):io)?Oo.filter(function(Ao){return v(Ao)&&K(Ao,Ai)&&"body"!==c(Ao)}):[]):[].concat(ba),Yo=(Ps=[].concat(Po,[uo])).reduce(function(io,Oo){var Ai=Qe($r,Oo);return io.top=me(Ai.top,io.top),io.right=De(Ai.right,io.right),io.bottom=De(Ai.bottom,io.bottom),io.left=me(Ai.left,io.left),io},Qe($r,Ps[0])),Yo.width=Yo.right-Yo.left,Yo.height=Yo.bottom-Yo.top,Yo.x=Yo.left,Yo.y=Yo.top,Yo),_r=F(ue.elements.reference),hr=pr({reference:_r,element:Pr,strategy:"absolute",placement:We}),gr=vn(Object.assign({},Pr,hr)),qi=yi===Yi?gr:_r,Ji={top:cr.top-qi.top+Hi.top,bottom:qi.bottom-cr.bottom+Hi.bottom,left:cr.left-qi.left+Hi.left,right:qi.right-cr.right+Hi.right},wr=ue.modifiersData.offset;if(yi===Yi&&wr){var fo=wr[We];Object.keys(Ji).forEach(function($r){var ba=[ge,ta].indexOf($r)>=0?1:-1,uo=[Mr,ta].indexOf($r)>=0?"y":"x";Ji[$r]+=fo[uo]*ba})}return Ji}const hh={name:"flip",enabled:!0,phase:"main",fn:function(ue){var nt=ue.state,bt=ue.options,Me=ue.name;if(!nt.modifiersData[Me]._skip){for(var We=bt.mainAxis,Je=void 0===We||We,wn=bt.altAxis,Wn=void 0===wn||wn,si=bt.fallbackPlacements,li=bt.padding,yi=bt.boundary,Bn=bt.rootBoundary,In=bt.altBoundary,xi=bt.flipVariations,Li=void 0===xi||xi,Hi=bt.allowedAutoPlacements,Ti=nt.options.placement,Pr=E(Ti),or=si||(Pr!==Ti&&Li?function(Ao){if(E(Ao)===ir)return[];var mo=Qi(Ao);return[ao(Ao),mo,ao(mo)]}(Ti):[Qi(Ti)]),cr=[Ti].concat(or).reduce(function(Ao,mo){return Ao.concat(E(mo)===ir?function(ue,nt){void 0===nt&&(nt={});var We=nt.boundary,Je=nt.rootBoundary,wn=nt.padding,Wn=nt.flipVariations,si=nt.allowedAutoPlacements,li=void 0===si?oo:si,yi=kn(nt.placement),Bn=yi?Wn?gi:gi.filter(function(Li){return kn(Li)===yi}):Xs,In=Bn.filter(function(Li){return li.indexOf(Li)>=0});0===In.length&&(In=Bn);var xi=In.reduce(function(Li,Hi){return Li[Hi]=so(ue,{placement:Hi,boundary:We,rootBoundary:Je,padding:wn})[E(Hi)],Li},{});return Object.keys(xi).sort(function(Li,Hi){return xi[Li]-xi[Hi]})}(nt,{placement:mo,boundary:yi,rootBoundary:Bn,padding:li,flipVariations:Li,allowedAutoPlacements:Hi}):mo)},[]),_r=nt.rects.reference,hr=nt.rects.popper,gr=new Map,qi=!0,Ji=cr[0],wr=0;wr<cr.length;wr++){var fo=cr[wr],$r=E(fo),ba=kn(fo)===ho,uo=[Mr,ta].indexOf($r)>=0,Po=uo?"width":"height",Ps=so(nt,{placement:fo,boundary:yi,rootBoundary:Bn,altBoundary:In,padding:li}),Ha=uo?ba?ge:Vi:ba?ta:Mr;_r[Po]>hr[Po]&&(Ha=Qi(Ha));var Yo=Qi(Ha),io=[];if(Je&&io.push(Ps[$r]<=0),Wn&&io.push(Ps[Ha]<=0,Ps[Yo]<=0),io.every(function(Ao){return Ao})){Ji=fo,qi=!1;break}gr.set(fo,io)}if(qi)for(var Oo=function(Ao){var mo=cr.find(function(mr){var Xo=gr.get(mr);if(Xo)return Xo.slice(0,Ao).every(function(ms){return ms})});if(mo)return Ji=mo,"break"},Ai=Li?3:1;Ai>0&&"break"!==Oo(Ai);Ai--);nt.placement!==Ji&&(nt.modifiersData[Me]._skip=!0,nt.placement=Ji,nt.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Ts(ue,nt,bt){return void 0===bt&&(bt={x:0,y:0}),{top:ue.top-nt.height-bt.y,right:ue.right-nt.width+bt.x,bottom:ue.bottom-nt.height+bt.y,left:ue.left-nt.width-bt.x}}function dh(ue){return[Mr,ge,ta,Vi].some(function(nt){return ue[nt]>=0})}const _o={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(ue){var nt=ue.state,bt=ue.name,Me=nt.rects.reference,We=nt.rects.popper,Je=nt.modifiersData.preventOverflow,wn=so(nt,{elementContext:"reference"}),Wn=so(nt,{altBoundary:!0}),si=Ts(wn,Me),li=Ts(Wn,We,Je),yi=dh(si),Bn=dh(li);nt.modifiersData[bt]={referenceClippingOffsets:si,popperEscapeOffsets:li,isReferenceHidden:yi,hasPopperEscaped:Bn},nt.attributes.popper=Object.assign({},nt.attributes.popper,{"data-popper-reference-hidden":yi,"data-popper-escaped":Bn})}},Is={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(ue){var nt=ue.state,Me=ue.name,We=ue.options.offset,Je=void 0===We?[0,0]:We,wn=oo.reduce(function(yi,Bn){return yi[Bn]=(xi=nt.rects,Li=Je,Hi=E(In=Bn),Ti=[Vi,Mr].indexOf(Hi)>=0?-1:1,or=(or=(Pr="function"==typeof Li?Li(Object.assign({},xi,{placement:In})):Li)[0])||0,cr=((cr=Pr[1])||0)*Ti,[Vi,ge].indexOf(Hi)>=0?{x:cr,y:or}:{x:or,y:cr}),yi;var In,xi,Li,Hi,Ti,Pr,or,cr},{}),Wn=wn[nt.placement],li=Wn.y;null!=nt.modifiersData.popperOffsets&&(nt.modifiersData.popperOffsets.x+=Wn.x,nt.modifiersData.popperOffsets.y+=li),nt.modifiersData[Me]=wn}},gl={name:"popperOffsets",enabled:!0,phase:"read",fn:function(ue){var nt=ue.state;nt.modifiersData[ue.name]=pr({reference:nt.rects.reference,element:nt.rects.popper,strategy:"absolute",placement:nt.placement})},data:{}},Gs={name:"preventOverflow",enabled:!0,phase:"main",fn:function(ue){var nt=ue.state,bt=ue.options,Me=ue.name,We=bt.mainAxis,Je=void 0===We||We,wn=bt.altAxis,Wn=void 0!==wn&&wn,In=bt.tether,xi=void 0===In||In,Li=bt.tetherOffset,Hi=void 0===Li?0:Li,Ti=so(nt,{boundary:bt.boundary,rootBoundary:bt.rootBoundary,padding:bt.padding,altBoundary:bt.altBoundary}),Pr=E(nt.placement),or=kn(nt.placement),cr=!or,_r=le(Pr),hr="x"===_r?"y":"x",gr=nt.modifiersData.popperOffsets,qi=nt.rects.reference,Ji=nt.rects.popper,wr="function"==typeof Hi?Hi(Object.assign({},nt.rects,{placement:nt.placement})):Hi,fo={x:0,y:0};if(gr){if(Je||Wn){var $r="y"===_r?Mr:Vi,ba="y"===_r?ta:ge,uo="y"===_r?"height":"width",Po=gr[_r],Ps=gr[_r]+Ti[$r],Ha=gr[_r]-Ti[ba],Yo=xi?-Ji[uo]/2:0,io=or===ho?qi[uo]:Ji[uo],Oo=or===ho?-Ji[uo]:-qi[uo],Ai=nt.elements.arrow,Ao=xi&&Ai?W(Ai):{width:0,height:0},mo=nt.modifiersData["arrow#persistent"]?nt.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},mr=mo[$r],Xo=mo[ba],ms=ut(0,qi[uo],Ao[uo]),rl=cr?qi[uo]/2-Yo-ms-mr-wr:io-ms-mr-wr,bh=cr?-qi[uo]/2+Yo+ms+Xo+wr:Oo+ms+Xo+wr,Ku=nt.elements.arrow&&qt(nt.elements.arrow),Qu=nt.modifiersData.offset?nt.modifiersData.offset[nt.placement][_r]:0,No=gr[_r]+rl-Qu-(Ku?"y"===_r?Ku.clientTop||0:Ku.clientLeft||0:0),Sl=gr[_r]+bh-Qu;if(Je){var _u=ut(xi?De(Ps,No):Ps,Po,xi?me(Ha,Sl):Ha);gr[_r]=_u,fo[_r]=_u-Po}if(Wn){var _h=gr[hr],Dc=_h+Ti["x"===_r?Mr:Vi],wh=_h-Ti["x"===_r?ta:ge],Mo=ut(xi?De(Dc,No):Dc,_h,xi?me(wh,Sl):wh);gr[hr]=Mo,fo[hr]=Mo-_h}}nt.modifiersData[Me]=fo}},requiresIfExists:["offset"]};function bc(ue,nt,bt){void 0===bt&&(bt=!1);var Me=_(nt);_(nt)&&nt.getBoundingClientRect();var We,Je,wn=yt(nt),Wn=F(ue),si={scrollLeft:0,scrollTop:0},li={x:0,y:0};return(Me||!Me&&!bt)&&(("body"!==c(nt)||Ci(wn))&&(si=(We=nt)!==h(We)&&_(We)?{scrollLeft:(Je=We).scrollLeft,scrollTop:Je.scrollTop}:es(We)),_(nt)?((li=F(nt)).x+=nt.clientLeft,li.y+=nt.clientTop):wn&&(li.x=ns(wn))),{x:Wn.left+si.scrollLeft-li.x,y:Wn.top+si.scrollTop-li.y,width:Wn.width,height:Wn.height}}function ma(ue){var nt=new Map,bt=new Set,Me=[];function We(Je){bt.add(Je.name),[].concat(Je.requires||[],Je.requiresIfExists||[]).forEach(function(wn){if(!bt.has(wn)){var Wn=nt.get(wn);Wn&&We(Wn)}}),Me.push(Je)}return ue.forEach(function(Je){nt.set(Je.name,Je)}),ue.forEach(function(Je){bt.has(Je.name)||We(Je)}),Me}var Yr={placement:"bottom",modifiers:[],strategy:"absolute"};function lo(){for(var ue=arguments.length,nt=new Array(ue),bt=0;bt<ue;bt++)nt[bt]=arguments[bt];return!nt.some(function(Me){return!(Me&&"function"==typeof Me.getBoundingClientRect)})}function qs(ue){void 0===ue&&(ue={});var bt=ue.defaultModifiers,Me=void 0===bt?[]:bt,We=ue.defaultOptions,Je=void 0===We?Yr:We;return function(wn,Wn,si){void 0===si&&(si=Je);var li,yi,Bn={placement:"bottom",orderedModifiers:[],options:Object.assign({},Yr,Je),modifiersData:{},elements:{reference:wn,popper:Wn},attributes:{},styles:{}},In=[],xi=!1,Li={state:Bn,setOptions:function(Ti){var Pr="function"==typeof Ti?Ti(Bn.options):Ti;Hi(),Bn.options=Object.assign({},Je,Bn.options,Pr),Bn.scrollParents={reference:v(wn)?Ms(wn):wn.contextElement?Ms(wn.contextElement):[],popper:Ms(Wn)};var or,cr,hr,gr,_r=(or=[].concat(Me,Bn.options.modifiers),cr=or.reduce(function(hr,gr){var qi=hr[gr.name];return hr[gr.name]=qi?Object.assign({},qi,gr,{options:Object.assign({},qi.options,gr.options),data:Object.assign({},qi.data,gr.data)}):gr,hr},{}),hr=Object.keys(cr).map(function(hr){return cr[hr]}),gr=ma(hr),ae.reduce(function(qi,Ji){return qi.concat(gr.filter(function(wr){return wr.phase===Ji}))},[]));return Bn.orderedModifiers=_r.filter(function(hr){return hr.enabled}),Bn.orderedModifiers.forEach(function(hr){var qi=hr.options,wr=hr.effect;if("function"==typeof wr){var fo=wr({state:Bn,name:hr.name,instance:Li,options:void 0===qi?{}:qi});In.push(fo||function(){})}}),Li.update()},forceUpdate:function(){if(!xi){var Ti=Bn.elements,Pr=Ti.reference,or=Ti.popper;if(lo(Pr,or)){Bn.rects={reference:bc(Pr,qt(or),"fixed"===Bn.options.strategy),popper:W(or)},Bn.reset=!1,Bn.placement=Bn.options.placement,Bn.orderedModifiers.forEach(function(wr){return Bn.modifiersData[wr.name]=Object.assign({},wr.data)});for(var cr=0;cr<Bn.orderedModifiers.length;cr++)if(!0!==Bn.reset){var _r=Bn.orderedModifiers[cr],hr=_r.fn,gr=_r.options;"function"==typeof hr&&(Bn=hr({state:Bn,options:void 0===gr?{}:gr,name:_r.name,instance:Li})||Bn)}else Bn.reset=!1,cr=-1}}},update:(li=function(){return new Promise(function(Ti){Li.forceUpdate(),Ti(Bn)})},function(){return yi||(yi=new Promise(function(Ti){Promise.resolve().then(function(){yi=void 0,Ti(li())})})),yi}),destroy:function(){Hi(),xi=!0}};if(!lo(wn,Wn))return Li;function Hi(){In.forEach(function(Ti){return Ti()}),In=[]}return Li.setOptions(si).then(function(Ti){!xi&&si.onFirstUpdate&&si.onFirstUpdate(Ti)}),Li}}var _c=qs(),Ma=qs({defaultModifiers:[Mi,gl,zn,P]}),ea=qs({defaultModifiers:[Mi,gl,zn,P,Is,hh,Gs,Ue,_o]});const ha=Object.freeze({__proto__:null,popperGenerator:qs,detectOverflow:so,createPopperBase:_c,createPopper:ea,createPopperLite:Ma,top:Mr,bottom:ta,right:ge,left:Vi,auto:ir,basePlacements:Xs,start:ho,end:ca,clippingParents:Lr,viewport:Ja,popper:Yi,reference:Vo,variationPlacements:gi,placements:oo,beforeRead:Oa,read:"read",afterRead:Nr,beforeMain:pu,main:"main",afterMain:Ho,beforeWrite:Dr,write:"write",afterWrite:Ra,modifierPhases:ae,applyStyles:P,arrow:Ue,computeStyles:zn,eventListeners:Mi,flip:hh,hide:_o,offset:Is,popperOffsets:gl,preventOverflow:Gs}),ml="dropdown",vl="Escape",fh="ArrowUp",Gu="ArrowDown",Qh=new RegExp("ArrowUp|ArrowDown|Escape"),Fl="click.bs.dropdown.data-api",Us="keydown.bs.dropdown.data-api",Wo="show",$s='[data-bs-toggle="dropdown"]',jo=".dropdown-menu",yl=_t()?"top-end":"top-start",is=_t()?"top-start":"top-end",Ba=_t()?"bottom-end":"bottom-start",qu=_t()?"bottom-start":"bottom-end",Jh=_t()?"left-start":"right-start",mu=_t()?"right-start":"left-start",vu={offset:[0,2],boundary:"clippingParents",reference:"toggle",display:"dynamic",popperConfig:null,autoClose:!0},td={offset:"(array|string|function)",boundary:"(string|element)",reference:"(string|element|object)",display:"string",popperConfig:"(null|object|function)",autoClose:"(boolean|string)"};class va extends be{constructor(nt,bt){super(nt),this._popper=null,this._config=this._getConfig(bt),this._menu=this._getMenuElement(),this._inNavbar=this._detectNavbar()}static get Default(){return vu}static get DefaultType(){return td}static get NAME(){return ml}toggle(){return this._isShown()?this.hide():this.show()}show(){if(gt(this._element)||this._isShown(this._menu))return;const nt={relatedTarget:this._element};if(oe.trigger(this._element,"show.bs.dropdown",nt).defaultPrevented)return;const bt=va.getParentFromElement(this._element);this._inNavbar?hn.setDataAttribute(this._menu,"popper","none"):this._createPopper(bt),"ontouchstart"in document.documentElement&&!bt.closest(".navbar-nav")&&[].concat(...document.body.children).forEach(Me=>oe.on(Me,"mouseover",ft)),this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Wo),this._element.classList.add(Wo),oe.trigger(this._element,"shown.bs.dropdown",nt)}hide(){!gt(this._element)&&this._isShown(this._menu)&&this._completeHide({relatedTarget:this._element})}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(nt){oe.trigger(this._element,"hide.bs.dropdown",nt).defaultPrevented||("ontouchstart"in document.documentElement&&[].concat(...document.body.children).forEach(bt=>oe.off(bt,"mouseover",ft)),this._popper&&this._popper.destroy(),this._menu.classList.remove(Wo),this._element.classList.remove(Wo),this._element.setAttribute("aria-expanded","false"),hn.removeDataAttribute(this._menu,"popper"),oe.trigger(this._element,"hidden.bs.dropdown",nt))}_getConfig(nt){if(nt=er(er(er({},this.constructor.Default),hn.getDataAttributes(this._element)),nt),Ft(ml,nt,this.constructor.DefaultType),"object"==typeof nt.reference&&!ve(nt.reference)&&"function"!=typeof nt.reference.getBoundingClientRect)throw new TypeError(`${ml.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return nt}_createPopper(nt){if(void 0===ha)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let bt=this._element;"parent"===this._config.reference?bt=nt:ve(this._config.reference)?bt=Wt(this._config.reference):"object"==typeof this._config.reference&&(bt=this._config.reference);const Me=this._getPopperConfig(),We=Me.modifiers.find(Je=>"applyStyles"===Je.name&&!1===Je.enabled);this._popper=ea(bt,this._menu,Me),We&&hn.setDataAttribute(this._menu,"popper","static")}_isShown(nt=this._element){return nt.classList.contains(Wo)}_getMenuElement(){return $e.next(this._element,jo)[0]}_getPlacement(){const nt=this._element.parentNode;if(nt.classList.contains("dropend"))return Jh;if(nt.classList.contains("dropstart"))return mu;const bt="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return nt.classList.contains("dropup")?bt?is:yl:bt?qu:Ba}_detectNavbar(){return null!==this._element.closest(".navbar")}_getOffset(){const{offset:nt}=this._config;return"string"==typeof nt?nt.split(",").map(bt=>Number.parseInt(bt,10)):"function"==typeof nt?bt=>nt(bt,this._element):nt}_getPopperConfig(){const nt={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return"static"===this._config.display&&(nt.modifiers=[{name:"applyStyles",enabled:!1}]),er(er({},nt),"function"==typeof this._config.popperConfig?this._config.popperConfig(nt):this._config.popperConfig)}_selectMenuItem({key:nt,target:bt}){const Me=$e.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(Nt);Me.length&&It(Me,bt,nt===Gu,!Me.includes(bt)).focus()}static jQueryInterface(nt){return this.each(function(){const bt=va.getOrCreateInstance(this,nt);if("string"==typeof nt){if(void 0===bt[nt])throw new TypeError(`No method named "${nt}"`);bt[nt]()}})}static clearMenus(nt){if(nt&&(2===nt.button||"keyup"===nt.type&&"Tab"!==nt.key))return;const bt=$e.find($s);for(let Me=0,We=bt.length;Me<We;Me++){const Je=va.getInstance(bt[Me]);if(!Je||!1===Je._config.autoClose||!Je._isShown())continue;const wn={relatedTarget:Je._element};if(nt){const Wn=nt.composedPath(),si=Wn.includes(Je._menu);if(Wn.includes(Je._element)||"inside"===Je._config.autoClose&&!si||"outside"===Je._config.autoClose&&si||Je._menu.contains(nt.target)&&("keyup"===nt.type&&"Tab"===nt.key||/input|select|option|textarea|form/i.test(nt.target.tagName)))continue;"click"===nt.type&&(wn.clickEvent=nt)}Je._completeHide(wn)}}static getParentFromElement(nt){return ee(nt)||nt.parentNode}static dataApiKeydownHandler(nt){if(/input|textarea/i.test(nt.target.tagName)?"Space"===nt.key||nt.key!==vl&&(nt.key!==Gu&&nt.key!==fh||nt.target.closest(jo)):!Qh.test(nt.key))return;const bt=this.classList.contains(Wo);if(!bt&&nt.key===vl||(nt.preventDefault(),nt.stopPropagation(),gt(this)))return;const Me=this.matches($s)?this:$e.prev(this,$s)[0],We=va.getOrCreateInstance(Me);if(nt.key!==vl)return nt.key===fh||nt.key===Gu?(bt||We.show(),void We._selectMenuItem(nt)):void(bt&&"Space"!==nt.key||va.clearMenus());We.hide()}}oe.on(document,Us,$s,va.dataApiKeydownHandler),oe.on(document,Us,jo,va.dataApiKeydownHandler),oe.on(document,Fl,va.clearMenus),oe.on(document,"keyup.bs.dropdown.data-api",va.clearMenus),oe.on(document,Fl,$s,function(ue){ue.preventDefault(),va.getOrCreateInstance(this).toggle()}),xt(va);const wo=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",xl=".sticky-top";class wc{constructor(){this._element=document.body}getWidth(){const nt=document.documentElement.clientWidth;return Math.abs(window.innerWidth-nt)}hide(){const nt=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,"paddingRight",bt=>bt+nt),this._setElementAttributes(wo,"paddingRight",bt=>bt+nt),this._setElementAttributes(xl,"marginRight",bt=>bt-nt)}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(nt,bt,Me){const We=this.getWidth();this._applyManipulationCallback(nt,Je=>{if(Je!==this._element&&window.innerWidth>Je.clientWidth+We)return;this._saveInitialAttribute(Je,bt);const wn=window.getComputedStyle(Je)[bt];Je.style[bt]=`${Me(Number.parseFloat(wn))}px`})}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,"paddingRight"),this._resetElementAttributes(wo,"paddingRight"),this._resetElementAttributes(xl,"marginRight")}_saveInitialAttribute(nt,bt){const Me=nt.style[bt];Me&&hn.setDataAttribute(nt,bt,Me)}_resetElementAttributes(nt,bt){this._applyManipulationCallback(nt,Me=>{const We=hn.getDataAttribute(Me,bt);void 0===We?Me.style.removeProperty(bt):(hn.removeDataAttribute(Me,bt),Me.style[bt]=We)})}_applyManipulationCallback(nt,bt){ve(nt)?bt(nt):$e.find(nt,this._element).forEach(bt)}isOverflowing(){return this.getWidth()>0}}const Ds={className:"modal-backdrop",isVisible:!0,isAnimated:!1,rootElement:"body",clickCallback:null},Es={className:"string",isVisible:"boolean",isAnimated:"boolean",rootElement:"(element|string)",clickCallback:"(function|null)"},Sc="mousedown.bs.backdrop";class bl{constructor(nt){this._config=this._getConfig(nt),this._isAppended=!1,this._element=null}show(nt){this._config.isVisible?(this._append(),this._config.isAnimated&&this._getElement(),this._getElement().classList.add("show"),this._emulateAnimation(()=>{ot(nt)})):ot(nt)}hide(nt){this._config.isVisible?(this._getElement().classList.remove("show"),this._emulateAnimation(()=>{this.dispose(),ot(nt)})):ot(nt)}_getElement(){if(!this._element){const nt=document.createElement("div");nt.className=this._config.className,this._config.isAnimated&&nt.classList.add("fade"),this._element=nt}return this._element}_getConfig(nt){return(nt=er(er({},Ds),"object"==typeof nt?nt:{})).rootElement=Wt(nt.rootElement),Ft("backdrop",nt,Es),nt}_append(){this._isAppended||(this._config.rootElement.append(this._getElement()),oe.on(this._getElement(),Sc,()=>{ot(this._config.clickCallback)}),this._isAppended=!0)}dispose(){this._isAppended&&(oe.off(this._element,Sc),this._element.remove(),this._isAppended=!1)}_emulateAnimation(nt){it(nt,this._getElement(),this._config.isAnimated)}}const ed={trapElement:null,autofocus:!0},rs={trapElement:"element",autofocus:"boolean"},ph=".bs.focustrap",Cc="backward";class gh{constructor(nt){this._config=this._getConfig(nt),this._isActive=!1,this._lastTabNavDirection=null}activate(){const{trapElement:nt,autofocus:bt}=this._config;this._isActive||(bt&&nt.focus(),oe.off(document,ph),oe.on(document,"focusin.bs.focustrap",Me=>this._handleFocusin(Me)),oe.on(document,"keydown.tab.bs.focustrap",Me=>this._handleKeydown(Me)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,oe.off(document,ph))}_handleFocusin(nt){const{target:bt}=nt,{trapElement:Me}=this._config;if(bt===document||bt===Me||Me.contains(bt))return;const We=$e.focusableChildren(Me);0===We.length?Me.focus():this._lastTabNavDirection===Cc?We[We.length-1].focus():We[0].focus()}_handleKeydown(nt){"Tab"===nt.key&&(this._lastTabNavDirection=nt.shiftKey?Cc:"forward")}_getConfig(nt){return nt=er(er({},ed),"object"==typeof nt?nt:{}),Ft("focustrap",nt,rs),nt}}const Do={backdrop:!0,keyboard:!0,focus:!0},cp={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean"},ps="hidden.bs.modal",Ta="show.bs.modal",yu="resize.bs.modal",xu="click.dismiss.bs.modal",gs="keydown.dismiss.bs.modal",go="mousedown.dismiss.bs.modal",So="modal-open",$u="modal-static";class ya extends be{constructor(nt,bt){super(nt),this._config=this._getConfig(bt),this._dialog=$e.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._ignoreBackdropClick=!1,this._isTransitioning=!1,this._scrollBar=new wc}static get Default(){return Do}static get NAME(){return"modal"}toggle(nt){return this._isShown?this.hide():this.show(nt)}show(nt){this._isShown||this._isTransitioning||oe.trigger(this._element,Ta,{relatedTarget:nt}).defaultPrevented||(this._isShown=!0,this._isAnimated()&&(this._isTransitioning=!0),this._scrollBar.hide(),document.body.classList.add(So),this._adjustDialog(),this._setEscapeEvent(),this._setResizeEvent(),oe.on(this._dialog,go,()=>{oe.one(this._element,"mouseup.dismiss.bs.modal",bt=>{bt.target===this._element&&(this._ignoreBackdropClick=!0)})}),this._showBackdrop(()=>this._showElement(nt)))}hide(){if(!this._isShown||this._isTransitioning||oe.trigger(this._element,"hide.bs.modal").defaultPrevented)return;this._isShown=!1;const nt=this._isAnimated();nt&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),this._focustrap.deactivate(),this._element.classList.remove("show"),oe.off(this._element,xu),oe.off(this._dialog,go),this._queueCallback(()=>this._hideModal(),this._element,nt)}dispose(){[window,this._dialog].forEach(nt=>oe.off(nt,".bs.modal")),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new bl({isVisible:Boolean(this._config.backdrop),isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new gh({trapElement:this._element})}_getConfig(nt){return nt=er(er(er({},Do),hn.getDataAttributes(this._element)),"object"==typeof nt?nt:{}),Ft("modal",nt,cp),nt}_showElement(nt){const bt=this._isAnimated(),Me=$e.findOne(".modal-body",this._dialog);this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0,Me&&(Me.scrollTop=0),this._element.classList.add("show"),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,oe.trigger(this._element,"shown.bs.modal",{relatedTarget:nt})},this._dialog,bt)}_setEscapeEvent(){this._isShown?oe.on(this._element,gs,nt=>{this._config.keyboard&&"Escape"===nt.key?(nt.preventDefault(),this.hide()):this._config.keyboard||"Escape"!==nt.key||this._triggerBackdropTransition()}):oe.off(this._element,gs)}_setResizeEvent(){this._isShown?oe.on(window,yu,()=>this._adjustDialog()):oe.off(window,yu)}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(So),this._resetAdjustments(),this._scrollBar.reset(),oe.trigger(this._element,ps)})}_showBackdrop(nt){oe.on(this._element,xu,bt=>{this._ignoreBackdropClick?this._ignoreBackdropClick=!1:bt.target===bt.currentTarget&&(!0===this._config.backdrop?this.hide():"static"===this._config.backdrop&&this._triggerBackdropTransition())}),this._backdrop.show(nt)}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(oe.trigger(this._element,"hidePrevented.bs.modal").defaultPrevented)return;const{classList:nt,scrollHeight:bt,style:Me}=this._element,We=bt>document.documentElement.clientHeight;!We&&"hidden"===Me.overflowY||nt.contains($u)||(We||(Me.overflowY="hidden"),nt.add($u),this._queueCallback(()=>{nt.remove($u),We||this._queueCallback(()=>{Me.overflowY=""},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const nt=this._element.scrollHeight>document.documentElement.clientHeight,bt=this._scrollBar.getWidth(),Me=bt>0;(!Me&&nt&&!_t()||Me&&!nt&&_t())&&(this._element.style.paddingLeft=`${bt}px`),(Me&&!nt&&!_t()||!Me&&nt&&_t())&&(this._element.style.paddingRight=`${bt}px`)}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(nt,bt){return this.each(function(){const Me=ya.getOrCreateInstance(this,nt);if("string"==typeof nt){if(void 0===Me[nt])throw new TypeError(`No method named "${nt}"`);Me[nt](bt)}})}}oe.on(document,"click.bs.modal.data-api",'[data-bs-toggle="modal"]',function(ue){const nt=ee(this);["A","AREA"].includes(this.tagName)&&ue.preventDefault(),oe.one(nt,Ta,Me=>{Me.defaultPrevented||oe.one(nt,ps,()=>{Nt(this)&&this.focus()})});const bt=$e.findOne(".modal.show");bt&&ya.getInstance(bt).hide(),ya.getOrCreateInstance(nt).toggle(this)}),_e(ya),xt(ya);const Zu="offcanvas",ki={backdrop:!0,keyboard:!0,scroll:!1},nd={backdrop:"boolean",keyboard:"boolean",scroll:"boolean"},mh=".offcanvas.show",za="hidden.bs.offcanvas";class Eo extends be{constructor(nt,bt){super(nt),this._config=this._getConfig(bt),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get NAME(){return Zu}static get Default(){return ki}toggle(nt){return this._isShown?this.hide():this.show(nt)}show(nt){this._isShown||oe.trigger(this._element,"show.bs.offcanvas",{relatedTarget:nt}).defaultPrevented||(this._isShown=!0,this._element.style.visibility="visible",this._backdrop.show(),this._config.scroll||(new wc).hide(),this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add("show"),this._queueCallback(()=>{this._config.scroll||this._focustrap.activate(),oe.trigger(this._element,"shown.bs.offcanvas",{relatedTarget:nt})},this._element,!0))}hide(){this._isShown&&(oe.trigger(this._element,"hide.bs.offcanvas").defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.remove("show"),this._backdrop.hide(),this._queueCallback(()=>{this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._element.style.visibility="hidden",this._config.scroll||(new wc).reset(),oe.trigger(this._element,za)},this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_getConfig(nt){return nt=er(er(er({},ki),hn.getDataAttributes(this._element)),"object"==typeof nt?nt:{}),Ft(Zu,nt,nd),nt}_initializeBackDrop(){return new bl({className:"offcanvas-backdrop",isVisible:this._config.backdrop,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:()=>this.hide()})}_initializeFocusTrap(){return new gh({trapElement:this._element})}_addEventListeners(){oe.on(this._element,"keydown.dismiss.bs.offcanvas",nt=>{this._config.keyboard&&"Escape"===nt.key&&this.hide()})}static jQueryInterface(nt){return this.each(function(){const bt=Eo.getOrCreateInstance(this,nt);if("string"==typeof nt){if(void 0===bt[nt]||nt.startsWith("_")||"constructor"===nt)throw new TypeError(`No method named "${nt}"`);bt[nt](this)}})}}oe.on(document,"click.bs.offcanvas.data-api",'[data-bs-toggle="offcanvas"]',function(ue){const nt=ee(this);if(["A","AREA"].includes(this.tagName)&&ue.preventDefault(),gt(this))return;oe.one(nt,za,()=>{Nt(this)&&this.focus()});const bt=$e.findOne(mh);bt&&bt!==nt&&Eo.getInstance(bt).hide(),Eo.getOrCreateInstance(nt).toggle(this)}),oe.on(window,"load.bs.offcanvas.data-api",()=>$e.find(mh).forEach(ue=>Eo.getOrCreateInstance(ue).show())),_e(Eo),xt(Eo);const Vr=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),vh=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^#&/:?]*(?:[#/?]|$))/i,xa=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i,Hr=(ue,nt)=>{const bt=ue.nodeName.toLowerCase();if(nt.includes(bt))return!Vr.has(bt)||Boolean(vh.test(ue.nodeValue)||xa.test(ue.nodeValue));const Me=nt.filter(We=>We instanceof RegExp);for(let We=0,Je=Me.length;We<Je;We++)if(Me[We].test(bt))return!0;return!1};function yh(ue,nt,bt){if(!ue.length)return ue;if(bt&&"function"==typeof bt)return bt(ue);const Me=(new window.DOMParser).parseFromString(ue,"text/html"),We=[].concat(...Me.body.querySelectorAll("*"));for(let Je=0,wn=We.length;Je<wn;Je++){const Wn=We[Je],si=Wn.nodeName.toLowerCase();if(!Object.keys(nt).includes(si)){Wn.remove();continue}const li=[].concat(...Wn.attributes),yi=[].concat(nt["*"]||[],nt[si]||[]);li.forEach(Bn=>{Hr(Bn,yi)||Wn.removeAttribute(Bn.nodeName)})}return Me.body.innerHTML}const os="tooltip",Ac=new Set(["sanitize","allowList","sanitizeFn"]),Mc={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(array|string|function)",container:"(string|element|boolean)",fallbackPlacements:"array",boundary:"(string|element)",customClass:"(string|function)",sanitize:"boolean",sanitizeFn:"(null|function)",allowList:"object",popperConfig:"(null|object|function)"},Tc={AUTO:"auto",TOP:"top",RIGHT:_t()?"left":"right",BOTTOM:"bottom",LEFT:_t()?"right":"left"},id={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:[0,0],container:!1,fallbackPlacements:["top","right","bottom","left"],boundary:"clippingParents",customClass:"",sanitize:!0,sanitizeFn:null,allowList:{"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},popperConfig:null},Vl={HIDE:"hide.bs.tooltip",HIDDEN:"hidden.bs.tooltip",SHOW:"show.bs.tooltip",SHOWN:"shown.bs.tooltip",INSERTED:"inserted.bs.tooltip",CLICK:"click.bs.tooltip",FOCUSIN:"focusin.bs.tooltip",FOCUSOUT:"focusout.bs.tooltip",MOUSEENTER:"mouseenter.bs.tooltip",MOUSELEAVE:"mouseleave.bs.tooltip"},_l="fade",Fa="show",Hl="show",rd=".tooltip-inner",Ks="hide.bs.modal",Qs="hover";class Va extends be{constructor(nt,bt){if(void 0===ha)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(nt),this._isEnabled=!0,this._timeout=0,this._hoverState="",this._activeTrigger={},this._popper=null,this._config=this._getConfig(bt),this.tip=null,this._setListeners()}static get Default(){return id}static get NAME(){return os}static get Event(){return Vl}static get DefaultType(){return Mc}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(nt){if(this._isEnabled)if(nt){const bt=this._initializeOnDelegatedTarget(nt);bt._activeTrigger.click=!bt._activeTrigger.click,bt._isWithActiveTrigger()?bt._enter(null,bt):bt._leave(null,bt)}else{if(this.getTipElement().classList.contains(Fa))return void this._leave(null,this);this._enter(null,this)}}dispose(){clearTimeout(this._timeout),oe.off(this._element.closest(".modal"),Ks,this._hideModalHandler),this.tip&&this.tip.remove(),this._disposePopper(),super.dispose()}show(){if("none"===this._element.style.display)throw new Error("Please use show on visible elements");if(!this.isWithContent()||!this._isEnabled)return;const nt=oe.trigger(this._element,this.constructor.Event.SHOW),bt=dt(this._element),Me=null===bt?this._element.ownerDocument.documentElement.contains(this._element):bt.contains(this._element);if(nt.defaultPrevented||!Me)return;"tooltip"===this.constructor.NAME&&this.tip&&this.getTitle()!==this.tip.querySelector(rd).innerHTML&&(this._disposePopper(),this.tip.remove(),this.tip=null);const We=this.getTipElement(),Je=(Bn=>{do{Bn+=Math.floor(1e6*Math.random())}while(document.getElementById(Bn));return Bn})(this.constructor.NAME);We.setAttribute("id",Je),this._element.setAttribute("aria-describedby",Je),this._config.animation&&We.classList.add(_l);const wn="function"==typeof this._config.placement?this._config.placement.call(this,We,this._element):this._config.placement,Wn=this._getAttachment(wn);this._addAttachmentClass(Wn);const{container:si}=this._config;ze.set(We,this.constructor.DATA_KEY,this),this._element.ownerDocument.documentElement.contains(this.tip)||(si.append(We),oe.trigger(this._element,this.constructor.Event.INSERTED)),this._popper?this._popper.update():this._popper=ea(this._element,We,this._getPopperConfig(Wn)),We.classList.add(Fa);const li=this._resolvePossibleFunction(this._config.customClass);li&&We.classList.add(...li.split(" ")),"ontouchstart"in document.documentElement&&[].concat(...document.body.children).forEach(Bn=>{oe.on(Bn,"mouseover",ft)});const yi=this.tip.classList.contains(_l);this._queueCallback(()=>{const Bn=this._hoverState;this._hoverState=null,oe.trigger(this._element,this.constructor.Event.SHOWN),"out"===Bn&&this._leave(null,this)},this.tip,yi)}hide(){if(!this._popper)return;const nt=this.getTipElement();if(oe.trigger(this._element,this.constructor.Event.HIDE).defaultPrevented)return;nt.classList.remove(Fa),"ontouchstart"in document.documentElement&&[].concat(...document.body.children).forEach(Me=>oe.off(Me,"mouseover",ft)),this._activeTrigger.click=!1,this._activeTrigger.focus=!1,this._activeTrigger.hover=!1;const bt=this.tip.classList.contains(_l);this._queueCallback(()=>{this._isWithActiveTrigger()||(this._hoverState!==Hl&&nt.remove(),this._cleanTipClass(),this._element.removeAttribute("aria-describedby"),oe.trigger(this._element,this.constructor.Event.HIDDEN),this._disposePopper())},this.tip,bt),this._hoverState=""}update(){null!==this._popper&&this._popper.update()}isWithContent(){return Boolean(this.getTitle())}getTipElement(){if(this.tip)return this.tip;const nt=document.createElement("div");nt.innerHTML=this._config.template;const bt=nt.children[0];return this.setContent(bt),bt.classList.remove(_l,Fa),this.tip=bt,this.tip}setContent(nt){this._sanitizeAndSetContent(nt,this.getTitle(),rd)}_sanitizeAndSetContent(nt,bt,Me){const We=$e.findOne(Me,nt);bt||!We?this.setElementContent(We,bt):We.remove()}setElementContent(nt,bt){if(null!==nt)return ve(bt)?(bt=Wt(bt),void(this._config.html?bt.parentNode!==nt&&(nt.innerHTML="",nt.append(bt)):nt.textContent=bt.textContent)):void(this._config.html?(this._config.sanitize&&(bt=yh(bt,this._config.allowList,this._config.sanitizeFn)),nt.innerHTML=bt):nt.textContent=bt)}getTitle(){const nt=this._element.getAttribute("data-bs-original-title")||this._config.title;return this._resolvePossibleFunction(nt)}updateAttachment(nt){return"right"===nt?"end":"left"===nt?"start":nt}_initializeOnDelegatedTarget(nt,bt){return bt||this.constructor.getOrCreateInstance(nt.delegateTarget,this._getDelegateConfig())}_getOffset(){const{offset:nt}=this._config;return"string"==typeof nt?nt.split(",").map(bt=>Number.parseInt(bt,10)):"function"==typeof nt?bt=>nt(bt,this._element):nt}_resolvePossibleFunction(nt){return"function"==typeof nt?nt.call(this._element):nt}_getPopperConfig(nt){const bt={placement:nt,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"onChange",enabled:!0,phase:"afterWrite",fn:Me=>this._handlePopperPlacementChange(Me)}],onFirstUpdate:Me=>{Me.options.placement!==Me.placement&&this._handlePopperPlacementChange(Me)}};return er(er({},bt),"function"==typeof this._config.popperConfig?this._config.popperConfig(bt):this._config.popperConfig)}_addAttachmentClass(nt){this.getTipElement().classList.add(`${this._getBasicClassPrefix()}-${this.updateAttachment(nt)}`)}_getAttachment(nt){return Tc[nt.toUpperCase()]}_setListeners(){this._config.trigger.split(" ").forEach(nt=>{if("click"===nt)oe.on(this._element,this.constructor.Event.CLICK,this._config.selector,bt=>this.toggle(bt));else if("manual"!==nt){const Me=nt===Qs?this.constructor.Event.MOUSELEAVE:this.constructor.Event.FOCUSOUT;oe.on(this._element,nt===Qs?this.constructor.Event.MOUSEENTER:this.constructor.Event.FOCUSIN,this._config.selector,We=>this._enter(We)),oe.on(this._element,Me,this._config.selector,We=>this._leave(We))}}),this._hideModalHandler=()=>{this._element&&this.hide()},oe.on(this._element.closest(".modal"),Ks,this._hideModalHandler),this._config.selector?this._config=Wv(er({},this._config),{trigger:"manual",selector:""}):this._fixTitle()}_fixTitle(){const nt=this._element.getAttribute("title"),bt=typeof this._element.getAttribute("data-bs-original-title");(nt||"string"!==bt)&&(this._element.setAttribute("data-bs-original-title",nt||""),!nt||this._element.getAttribute("aria-label")||this._element.textContent||this._element.setAttribute("aria-label",nt),this._element.setAttribute("title",""))}_enter(nt,bt){bt=this._initializeOnDelegatedTarget(nt,bt),nt&&(bt._activeTrigger["focusin"===nt.type?"focus":Qs]=!0),bt.getTipElement().classList.contains(Fa)||bt._hoverState===Hl?bt._hoverState=Hl:(clearTimeout(bt._timeout),bt._hoverState=Hl,bt._config.delay&&bt._config.delay.show?bt._timeout=setTimeout(()=>{bt._hoverState===Hl&&bt.show()},bt._config.delay.show):bt.show())}_leave(nt,bt){bt=this._initializeOnDelegatedTarget(nt,bt),nt&&(bt._activeTrigger["focusout"===nt.type?"focus":Qs]=bt._element.contains(nt.relatedTarget)),bt._isWithActiveTrigger()||(clearTimeout(bt._timeout),bt._hoverState="out",bt._config.delay&&bt._config.delay.hide?bt._timeout=setTimeout(()=>{"out"===bt._hoverState&&bt.hide()},bt._config.delay.hide):bt.hide())}_isWithActiveTrigger(){for(const nt in this._activeTrigger)if(this._activeTrigger[nt])return!0;return!1}_getConfig(nt){const bt=hn.getDataAttributes(this._element);return Object.keys(bt).forEach(Me=>{Ac.has(Me)&&delete bt[Me]}),(nt=er(er(er({},this.constructor.Default),bt),"object"==typeof nt&&nt?nt:{})).container=!1===nt.container?document.body:Wt(nt.container),"number"==typeof nt.delay&&(nt.delay={show:nt.delay,hide:nt.delay}),"number"==typeof nt.title&&(nt.title=nt.title.toString()),"number"==typeof nt.content&&(nt.content=nt.content.toString()),Ft(os,nt,this.constructor.DefaultType),nt.sanitize&&(nt.template=yh(nt.template,nt.allowList,nt.sanitizeFn)),nt}_getDelegateConfig(){const nt={};for(const bt in this._config)this.constructor.Default[bt]!==this._config[bt]&&(nt[bt]=this._config[bt]);return nt}_cleanTipClass(){const nt=this.getTipElement(),bt=new RegExp(`(^|\\s)${this._getBasicClassPrefix()}\\S+`,"g"),Me=nt.getAttribute("class").match(bt);null!==Me&&Me.length>0&&Me.map(We=>We.trim()).forEach(We=>nt.classList.remove(We))}_getBasicClassPrefix(){return"bs-tooltip"}_handlePopperPlacementChange(nt){const{state:bt}=nt;bt&&(this.tip=bt.elements.popper,this._cleanTipClass(),this._addAttachmentClass(this._getAttachment(bt.placement)))}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null)}static jQueryInterface(nt){return this.each(function(){const bt=Va.getOrCreateInstance(this,nt);if("string"==typeof nt){if(void 0===bt[nt])throw new TypeError(`No method named "${nt}"`);bt[nt]()}})}}xt(Va);const Wl=Wv(er({},Va.Default),{placement:"right",offset:[0,8],trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'}),Ls=Wv(er({},Va.DefaultType),{content:"(string|element|function)"}),jl={HIDE:"hide.bs.popover",HIDDEN:"hidden.bs.popover",SHOW:"show.bs.popover",SHOWN:"shown.bs.popover",INSERTED:"inserted.bs.popover",CLICK:"click.bs.popover",FOCUSIN:"focusin.bs.popover",FOCUSOUT:"focusout.bs.popover",MOUSEENTER:"mouseenter.bs.popover",MOUSELEAVE:"mouseleave.bs.popover"};class tl extends Va{static get Default(){return Wl}static get NAME(){return"popover"}static get Event(){return jl}static get DefaultType(){return Ls}isWithContent(){return this.getTitle()||this._getContent()}setContent(nt){this._sanitizeAndSetContent(nt,this.getTitle(),".popover-header"),this._sanitizeAndSetContent(nt,this._getContent(),".popover-body")}_getContent(){return this._resolvePossibleFunction(this._config.content)}_getBasicClassPrefix(){return"bs-popover"}static jQueryInterface(nt){return this.each(function(){const bt=tl.getOrCreateInstance(this,nt);if("string"==typeof nt){if(void 0===bt[nt])throw new TypeError(`No method named "${nt}"`);bt[nt]()}})}}xt(tl);const Xi="scrollspy",Ic={offset:10,method:"auto",target:""},el={offset:"number",method:"string",target:"(string|element)"},nl="active",da=".nav-link, .list-group-item, .dropdown-item",xh="position";class Lo extends be{constructor(nt,bt){super(nt),this._scrollElement="BODY"===this._element.tagName?window:this._element,this._config=this._getConfig(bt),this._offsets=[],this._targets=[],this._activeTarget=null,this._scrollHeight=0,oe.on(this._scrollElement,"scroll.bs.scrollspy",()=>this._process()),this.refresh(),this._process()}static get Default(){return Ic}static get NAME(){return Xi}refresh(){const bt="auto"===this._config.method?this._scrollElement===this._scrollElement.window?"offset":xh:this._config.method,Me=bt===xh?this._getScrollTop():0;this._offsets=[],this._targets=[],this._scrollHeight=this._getScrollHeight(),$e.find(da,this._config.target).map(We=>{const Je=Tt(We),wn=Je?$e.findOne(Je):null;if(wn){const Wn=wn.getBoundingClientRect();if(Wn.width||Wn.height)return[hn[bt](wn).top+Me,Je]}return null}).filter(We=>We).sort((We,Je)=>We[0]-Je[0]).forEach(We=>{this._offsets.push(We[0]),this._targets.push(We[1])})}dispose(){oe.off(this._scrollElement,".bs.scrollspy"),super.dispose()}_getConfig(nt){return(nt=er(er(er({},Ic),hn.getDataAttributes(this._element)),"object"==typeof nt&&nt?nt:{})).target=Wt(nt.target)||document.documentElement,Ft(Xi,nt,el),nt}_getScrollTop(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop}_getScrollHeight(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)}_getOffsetHeight(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height}_process(){const nt=this._getScrollTop()+this._config.offset,bt=this._getScrollHeight(),Me=this._config.offset+bt-this._getOffsetHeight();if(this._scrollHeight!==bt&&this.refresh(),nt>=Me){const We=this._targets[this._targets.length-1];this._activeTarget!==We&&this._activate(We)}else{if(this._activeTarget&&nt<this._offsets[0]&&this._offsets[0]>0)return this._activeTarget=null,void this._clear();for(let We=this._offsets.length;We--;)this._activeTarget!==this._targets[We]&&nt>=this._offsets[We]&&(void 0===this._offsets[We+1]||nt<this._offsets[We+1])&&this._activate(this._targets[We])}}_activate(nt){this._activeTarget=nt,this._clear();const bt=da.split(",").map(We=>`${We}[data-bs-target="${nt}"],${We}[href="${nt}"]`),Me=$e.findOne(bt.join(","),this._config.target);Me.classList.add(nl),Me.classList.contains("dropdown-item")?$e.findOne(".dropdown-toggle",Me.closest(".dropdown")).classList.add(nl):$e.parents(Me,".nav, .list-group").forEach(We=>{$e.prev(We,".nav-link, .list-group-item").forEach(Je=>Je.classList.add(nl)),$e.prev(We,".nav-item").forEach(Je=>{$e.children(Je,".nav-link").forEach(wn=>wn.classList.add(nl))})}),oe.trigger(this._scrollElement,"activate.bs.scrollspy",{relatedTarget:nt})}_clear(){$e.find(da,this._config.target).filter(nt=>nt.classList.contains(nl)).forEach(nt=>nt.classList.remove(nl))}static jQueryInterface(nt){return this.each(function(){const bt=Lo.getOrCreateInstance(this,nt);if("string"==typeof nt){if(void 0===bt[nt])throw new TypeError(`No method named "${nt}"`);bt[nt]()}})}}oe.on(window,"load.bs.scrollspy.data-api",()=>{$e.find('[data-bs-spy="scroll"]').forEach(ue=>new Lo(ue))}),xt(Lo);const Co="active",Wr=".active",Yl=":scope > li > .active";class Jr extends be{static get NAME(){return"tab"}show(){if(this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&this._element.classList.contains(Co))return;let nt;const bt=ee(this._element),Me=this._element.closest(".nav, .list-group");Me&&(nt=$e.find("UL"===Me.nodeName||"OL"===Me.nodeName?Yl:Wr,Me),nt=nt[nt.length-1]);const We=nt?oe.trigger(nt,"hide.bs.tab",{relatedTarget:this._element}):null;if(oe.trigger(this._element,"show.bs.tab",{relatedTarget:nt}).defaultPrevented||null!==We&&We.defaultPrevented)return;this._activate(this._element,Me);const Je=()=>{oe.trigger(nt,"hidden.bs.tab",{relatedTarget:this._element}),oe.trigger(this._element,"shown.bs.tab",{relatedTarget:nt})};bt?this._activate(bt,bt.parentNode,Je):Je()}_activate(nt,bt,Me){const We=(!bt||"UL"!==bt.nodeName&&"OL"!==bt.nodeName?$e.children(bt,Wr):$e.find(Yl,bt))[0],Je=Me&&We&&We.classList.contains("fade"),wn=()=>this._transitionComplete(nt,We,Me);We&&Je?(We.classList.remove("show"),this._queueCallback(wn,nt,!0)):wn()}_transitionComplete(nt,bt,Me){if(bt){bt.classList.remove(Co);const Je=$e.findOne(":scope > .dropdown-menu .active",bt.parentNode);Je&&Je.classList.remove(Co),"tab"===bt.getAttribute("role")&&bt.setAttribute("aria-selected",!1)}nt.classList.add(Co),"tab"===nt.getAttribute("role")&&nt.setAttribute("aria-selected",!0),nt.classList.contains("fade")&&nt.classList.add("show");let We=nt.parentNode;if(We&&"LI"===We.nodeName&&(We=We.parentNode),We&&We.classList.contains("dropdown-menu")){const Je=nt.closest(".dropdown");Je&&$e.find(".dropdown-toggle",Je).forEach(wn=>wn.classList.add(Co)),nt.setAttribute("aria-expanded",!0)}Me&&Me()}static jQueryInterface(nt){return this.each(function(){const bt=Jr.getOrCreateInstance(this);if("string"==typeof nt){if(void 0===bt[nt])throw new TypeError(`No method named "${nt}"`);bt[nt]()}})}}oe.on(document,"click.bs.tab.data-api",'[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',function(ue){["A","AREA"].includes(this.tagName)&&ue.preventDefault(),gt(this)||Jr.getOrCreateInstance(this).show()}),xt(Jr);const Ia="show",wl="showing",Gl={animation:"boolean",autohide:"boolean",delay:"number"},Da={animation:!0,autohide:!0,delay:5e3};class ko extends be{constructor(nt,bt){super(nt),this._config=this._getConfig(bt),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get DefaultType(){return Gl}static get Default(){return Da}static get NAME(){return"toast"}show(){oe.trigger(this._element,"show.bs.toast").defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove("hide"),this._element.classList.add(Ia),this._element.classList.add(wl),this._queueCallback(()=>{this._element.classList.remove(wl),oe.trigger(this._element,"shown.bs.toast"),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this._element.classList.contains(Ia)&&(oe.trigger(this._element,"hide.bs.toast").defaultPrevented||(this._element.classList.add(wl),this._queueCallback(()=>{this._element.classList.add("hide"),this._element.classList.remove(wl),this._element.classList.remove(Ia),oe.trigger(this._element,"hidden.bs.toast")},this._element,this._config.animation)))}dispose(){this._clearTimeout(),this._element.classList.contains(Ia)&&this._element.classList.remove(Ia),super.dispose()}_getConfig(nt){return nt=er(er(er({},Da),hn.getDataAttributes(this._element)),"object"==typeof nt&&nt?nt:{}),Ft("toast",nt,this.constructor.DefaultType),nt}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(nt,bt){switch(nt.type){case"mouseover":case"mouseout":this._hasMouseInteraction=bt;break;case"focusin":case"focusout":this._hasKeyboardInteraction=bt}if(bt)return void this._clearTimeout();const Me=nt.relatedTarget;this._element===Me||this._element.contains(Me)||this._maybeScheduleHide()}_setListeners(){oe.on(this._element,"mouseover.bs.toast",nt=>this._onInteraction(nt,!0)),oe.on(this._element,"mouseout.bs.toast",nt=>this._onInteraction(nt,!1)),oe.on(this._element,"focusin.bs.toast",nt=>this._onInteraction(nt,!0)),oe.on(this._element,"focusout.bs.toast",nt=>this._onInteraction(nt,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(nt){return this.each(function(){const bt=ko.getOrCreateInstance(this,nt);if("string"==typeof nt){if(void 0===bt[nt])throw new TypeError(`No method named "${nt}"`);bt[nt](this)}})}}return _e(ko),xt(ko),{Alert:de,Button:Fe,Carousel:Oi,Collapse:ei,Dropdown:va,Modal:ya,Offcanvas:Eo,Popover:tl,ScrollSpy:Lo,Tab:Jr,Toast:ko,Tooltip:Va}}),function(Le,$t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=$t():"function"==typeof define&&define.amd?define($t):(Le="undefined"!=typeof globalThis?globalThis:Le||self).Chart=$t()}(this,function(){"use strict";const Le="undefined"==typeof window?function(T){return T()}:window.requestAnimationFrame;function $t(T,y,S){const D=S||(G=>Array.prototype.slice.call(G));let R=!1,V=[];return function(...G){V=D(G),R||(R=!0,Le.call(window,()=>{R=!1,T.apply(y,V)}))}}function Tt(T,y){let S;return function(...D){return y?(clearTimeout(S),S=setTimeout(T,y,D)):T.apply(this,D),y}}const ee=T=>"start"===T?"left":"end"===T?"right":"center",Oe=(T,y,S)=>"start"===T?y:"end"===T?S:(y+S)/2,ve=(T,y,S,D)=>T===(D?"left":"right")?S:"center"===T?(y+S)/2:y;var Wt=new class{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(T,y,S,D){const V=y.duration;y.listeners[D].forEach(G=>G({chart:T,initial:y.initial,numSteps:V,currentStep:Math.min(S-y.start,V)}))}_refresh(){this._request||(this._running=!0,this._request=Le.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(T=Date.now()){let y=0;this._charts.forEach((S,D)=>{if(!S.running||!S.items.length)return;const R=S.items;let V,G=R.length-1,tt=!1;for(;G>=0;--G)V=R[G],V._active?(V._total>S.duration&&(S.duration=V._total),V.tick(T),tt=!0):(R[G]=R[R.length-1],R.pop());tt&&(D.draw(),this._notify(D,S,T,"progress")),R.length||(S.running=!1,this._notify(D,S,T,"complete"),S.initial=!1),y+=R.length}),this._lastDate=T,0===y&&(this._running=!1)}_getAnims(T){const y=this._charts;let S=y.get(T);return S||(S={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},y.set(T,S)),S}listen(T,y,S){this._getAnims(T).listeners[y].push(S)}add(T,y){y&&y.length&&this._getAnims(T).items.push(...y)}has(T){return this._getAnims(T).items.length>0}start(T){const y=this._charts.get(T);y&&(y.running=!0,y.start=Date.now(),y.duration=y.items.reduce((S,D)=>Math.max(S,D._duration),0),this._refresh())}running(T){if(!this._running)return!1;const y=this._charts.get(T);return!!(y&&y.running&&y.items.length)}stop(T){const y=this._charts.get(T);if(!y||!y.items.length)return;const S=y.items;let D=S.length-1;for(;D>=0;--D)S[D].cancel();y.items=[],this._notify(T,y,Date.now(),"complete")}remove(T){return this._charts.delete(T)}};const Ft={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Nt="0123456789ABCDEF",gt=T=>Nt[15&T],dt=T=>Nt[(240&T)>>4]+Nt[15&T],ft=T=>(240&T)>>4==(15&T);function Et(T){return T+.5|0}const lt=(T,y,S)=>Math.max(Math.min(T,S),y);function _t(T){return lt(Et(2.55*T),0,255)}function xt(T){return lt(Et(255*T),0,255)}function ot(T){return lt(Et(T/2.55)/100,0,1)}function it(T){return lt(Et(100*T),0,100)}const It=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/,Ut=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Yt(T,y,S){const D=y*Math.min(S,1-S),R=(V,G=(V+T/30)%12)=>S-D*Math.max(Math.min(G-3,9-G,1),-1);return[R(0),R(8),R(4)]}function ie(T,y,S){const D=(R,V=(R+T/60)%6)=>S-S*y*Math.max(Math.min(V,4-V,1),0);return[D(5),D(3),D(1)]}function Pt(T,y,S){const D=Yt(T,1,.5);let R;for(y+S>1&&(R=1/(y+S),y*=R,S*=R),R=0;R<3;R++)D[R]*=1-y-S,D[R]+=y;return D}function Xt(T){const y=T.r/255,S=T.g/255,D=T.b/255,R=Math.max(y,S,D),V=Math.min(y,S,D),G=(R+V)/2;let tt,st,ht;return R!==V&&(ht=R-V,st=G>.5?ht/(2-R-V):ht/(R+V),tt=R===y?(S-D)/ht+(S<D?6:0):R===S?(D-y)/ht+2:(y-S)/ht+4,tt=60*tt+.5),[0|tt,st||0,G]}function vt(T,y,S,D){return(Array.isArray(y)?T(y[0],y[1],y[2]):T(y,S,D)).map(xt)}function Dt(T,y,S){return vt(Yt,T,y,S)}function se(T){return(T%360+360)%360}const Ne={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},tn={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let on;function mt(T,y,S){if(T){let D=Xt(T);D[y]=Math.max(0,Math.min(D[y]+D[y]*S,0===y?360:1)),D=Dt(D),T.r=D[0],T.g=D[1],T.b=D[2]}}function zt(T,y){return T&&Object.assign(y||{},T)}function oe(T){var y={r:0,g:0,b:0,a:255};return Array.isArray(T)?T.length>=3&&(y={r:T[0],g:T[1],b:T[2],a:255},T.length>3&&(y.a=xt(T[3]))):(y=zt(T,{r:0,g:0,b:0,a:1})).a=xt(y.a),y}class ze{constructor(y){if(y instanceof ze)return y;const S=typeof y;let D;var R,V,G,T;"object"===S?D=oe(y):"string"===S&&(G=(R=y).length,"#"===R[0]&&(4===G||5===G?V={r:255&17*Ft[R[1]],g:255&17*Ft[R[2]],b:255&17*Ft[R[3]],a:5===G?17*Ft[R[4]]:255}:7!==G&&9!==G||(V={r:Ft[R[1]]<<4|Ft[R[2]],g:Ft[R[3]]<<4|Ft[R[4]],b:Ft[R[5]]<<4|Ft[R[6]],a:9===G?Ft[R[7]]<<4|Ft[R[8]]:255})),D=V||function(T){on||(on=function(){const S={},D=Object.keys(tn),R=Object.keys(Ne);let V,G,tt,st,ht;for(V=0;V<D.length;V++){for(st=ht=D[V],G=0;G<R.length;G++)tt=R[G],ht=ht.replace(tt,Ne[tt]);tt=parseInt(tn[st],16),S[ht]=[tt>>16&255,tt>>8&255,255&tt]}return S}(),on.transparent=[0,0,0,0]);const y=on[T.toLowerCase()];return y&&{r:y[0],g:y[1],b:y[2],a:4===y.length?y[3]:255}}(y)||("r"===(T=y).charAt(0)?function(y){const S=It.exec(y);let D,R,V,G=255;if(S){if(S[7]!==D){const tt=+S[7];G=255&(S[8]?_t(tt):255*tt)}return D=+S[1],R=+S[3],V=+S[5],D=255&(S[2]?_t(D):D),R=255&(S[4]?_t(R):R),V=255&(S[6]?_t(V):V),{r:D,g:R,b:V,a:G}}}(T):function(T){const y=Ut.exec(T);let S,D=255;if(!y)return;y[5]!==S&&(D=y[6]?_t(+y[5]):xt(+y[5]));const R=se(+y[2]),V=+y[3]/100,G=+y[4]/100;return S="hwb"===y[1]?vt(Pt,R,V,G):"hsv"===y[1]?vt(ie,R,V,G):Dt(R,V,G),{r:S[0],g:S[1],b:S[2],a:D}}(T))),this._rgb=D,this._valid=!!D}get valid(){return this._valid}get rgb(){var y=zt(this._rgb);return y&&(y.a=ot(y.a)),y}set rgb(y){this._rgb=oe(y)}rgbString(){return this._valid?(y=this._rgb)&&(y.a<255?`rgba(${y.r}, ${y.g}, ${y.b}, ${ot(y.a)})`:`rgb(${y.r}, ${y.g}, ${y.b})`):this._rgb;var y}hexString(){return this._valid?(y=ft((S=T=this._rgb).r)&&ft(S.g)&&ft(S.b)&&ft(S.a)?gt:dt,T&&"#"+y(T.r)+y(T.g)+y(T.b)+(T.a<255?y(T.a):"")):this._rgb;var T,S,y}hslString(){return this._valid?function(y){if(!y)return;const S=Xt(y),D=S[0],R=it(S[1]),V=it(S[2]);return y.a<255?`hsla(${D}, ${R}%, ${V}%, ${ot(y.a)})`:`hsl(${D}, ${R}%, ${V}%)`}(this._rgb):this._rgb}mix(y,S){const D=this;if(y){const R=D.rgb,V=y.rgb;let G;const tt=S===G?.5:S,st=2*tt-1,ht=R.a-V.a,Rt=((st*ht==-1?st:(st+ht)/(1+st*ht))+1)/2;G=1-Rt,R.r=255&Rt*R.r+G*V.r+.5,R.g=255&Rt*R.g+G*V.g+.5,R.b=255&Rt*R.b+G*V.b+.5,R.a=tt*R.a+(1-tt)*V.a,D.rgb=R}return D}clone(){return new ze(this.rgb)}alpha(y){return this._rgb.a=xt(y),this}clearer(y){return this._rgb.a*=1-y,this}greyscale(){const y=this._rgb,S=Et(.3*y.r+.59*y.g+.11*y.b);return y.r=y.g=y.b=S,this}opaquer(y){return this._rgb.a*=1+y,this}negate(){const y=this._rgb;return y.r=255-y.r,y.g=255-y.g,y.b=255-y.b,this}lighten(y){return mt(this._rgb,2,y),this}darken(y){return mt(this._rgb,2,-y),this}saturate(y){return mt(this._rgb,1,y),this}desaturate(y){return mt(this._rgb,1,-y),this}rotate(y){return D=y,(R=Xt(S=this._rgb))[0]=se(R[0]+D),R=Dt(R),S.r=R[0],S.g=R[1],S.b=R[2],this;var S,D,R}}function be(T){return new ze(T)}const _e=T=>T instanceof CanvasGradient||T instanceof CanvasPattern;function de(T){return _e(T)?T:be(T)}function Jt(T){return _e(T)?T:be(T).saturate(.5).darken(.1).hexString()}function Fe(){}const Ke=function(){let T=0;return function(){return T++}}();function sn(T){return null==T}function hn(T){if(Array.isArray&&Array.isArray(T))return!0;const y=Object.prototype.toString.call(T);return"[object"===y.substr(0,7)&&"Array]"===y.substr(-6)}function $e(T){return null!==T&&"[object Object]"===Object.prototype.toString.call(T)}const ti=T=>("number"==typeof T||T instanceof Number)&&isFinite(+T);function ui(T,y){return ti(T)?T:y}function hi(T,y){return void 0===T?y:T}const ur=(T,y)=>"string"==typeof T&&T.endsWith("%")?parseFloat(T)/100:T/y,Zi=(T,y)=>"string"==typeof T&&T.endsWith("%")?parseFloat(T)/100*y:+T;function dn(T,y,S){if(T&&"function"==typeof T.call)return T.apply(S,y)}function fn(T,y,S,D){let R,V,G;if(hn(T))if(V=T.length,D)for(R=V-1;R>=0;R--)y.call(S,T[R],R);else for(R=0;R<V;R++)y.call(S,T[R],R);else if($e(T))for(G=Object.keys(T),V=G.length,R=0;R<V;R++)y.call(S,T[G[R]],G[R])}function On(T,y){let S,D,R,V;if(!T||!y||T.length!==y.length)return!1;for(S=0,D=T.length;S<D;++S)if(R=T[S],V=y[S],R.datasetIndex!==V.datasetIndex||R.index!==V.index)return!1;return!0}function Tn(T){if(hn(T))return T.map(Tn);if($e(T)){const y=Object.create(null),S=Object.keys(T),D=S.length;let R=0;for(;R<D;++R)y[S[R]]=Tn(T[S[R]]);return y}return T}function En(T){return-1===["__proto__","prototype","constructor"].indexOf(T)}function Di(T,y,S,D){if(!En(T))return;const R=y[T],V=S[T];$e(R)&&$e(V)?Oi(R,V,D):y[T]=Tn(V)}function Oi(T,y,S){const D=hn(y)?y:[y],R=D.length;if(!$e(T))return T;const V=(S=S||{}).merger||Di;for(let G=0;G<R;++G){if(!$e(y=D[G]))continue;const tt=Object.keys(y);for(let st=0,ht=tt.length;st<ht;++st)V(tt[st],T,y,S)}return T}function Ni(T,y){return Oi(T,y,{merger:br})}function br(T,y,S){if(!En(T))return;const D=y[T],R=S[T];$e(D)&&$e(R)?Ni(D,R):Object.prototype.hasOwnProperty.call(y,T)||(y[T]=Tn(R))}function ji(T,y){const S=T.indexOf(".",y);return-1===S?T.length:S}function nr(T,y){if(""===y)return T;let S=0,D=ji(y,S);for(;T&&D>S;)T=T[y.substr(S,D-S)],S=D+1,D=ji(y,S);return T}function qr(T){return T.charAt(0).toUpperCase()+T.slice(1)}const Io=T=>void 0!==T,ii=T=>"function"==typeof T,Bl=(T,y)=>{if(T.size!==y.size)return!1;for(const S of T)if(!y.has(S))return!1;return!0},Fo=Object.create(null),ei=Object.create(null);function Mr(T,y){if(!y)return T;const S=y.split(".");for(let D=0,R=S.length;D<R;++D){const V=S[D];T=T[V]||(T[V]=Object.create(null))}return T}function ta(T,y,S){return"string"==typeof y?Oi(Mr(T,y),S):Oi(Mr(T,""),y)}var ge=new class{constructor(T){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=y=>y.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(y,S)=>Jt(S.backgroundColor),this.hoverBorderColor=(y,S)=>Jt(S.borderColor),this.hoverColor=(y,S)=>Jt(S.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.describe(T)}set(T,y){return ta(this,T,y)}get(T){return Mr(this,T)}describe(T,y){return ta(ei,T,y)}override(T,y){return ta(Fo,T,y)}route(T,y,S,D){const R=Mr(this,T),V=Mr(this,S),G="_"+y;Object.defineProperties(R,{[G]:{value:R[y],writable:!0},[y]:{enumerable:!0,get(){const tt=this[G],st=V[D];return $e(tt)?Object.assign({},st,tt):hi(tt,st)},set(tt){this[G]=tt}}})}}({_scriptable:T=>!T.startsWith("on"),_indexable:T=>"events"!==T,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}});const Vi=Math.PI,ir=2*Vi,Xs=ir+Vi,ho=Number.POSITIVE_INFINITY,ca=Vi/180,Lr=Vi/2,Ja=Vi/4,Yi=2*Vi/3,Vo=Math.log10,gi=Math.sign;function oo(T){const y=Math.round(T);T=Nr(T,y,T/1e3)?y:T;const S=Math.pow(10,Math.floor(Vo(T))),D=T/S;return(D<=1?1:D<=2?2:D<=5?5:10)*S}function Oa(T){const y=[],S=Math.sqrt(T);let D;for(D=1;D<S;D++)T%D==0&&(y.push(D),y.push(T/D));return S===(0|S)&&y.push(S),y.sort((R,V)=>R-V).pop(),y}function Na(T){return!isNaN(parseFloat(T))&&isFinite(T)}function Nr(T,y,S){return Math.abs(T-y)<S}function pu(T,y){const S=Math.round(T);return S-y<=T&&S+y>=T}function Aa(T,y,S){let D,R,V;for(D=0,R=T.length;D<R;D++)V=T[D][S],isNaN(V)||(y.min=Math.min(y.min,V),y.max=Math.max(y.max,V))}function Ho(T){return T*(Vi/180)}function Dr(T){return T*(180/Vi)}function ts(T){if(!ti(T))return;let y=1,S=0;for(;Math.round(T*y)/y!==T;)y*=10,S++;return S}function Ra(T,y){const S=y.x-T.x,D=y.y-T.y,R=Math.sqrt(S*S+D*D);let V=Math.atan2(D,S);return V<-.5*Vi&&(V+=ir),{angle:V,distance:R}}function ae(T,y){return Math.sqrt(Math.pow(y.x-T.x,2)+Math.pow(y.y-T.y,2))}function c(T,y){return(T-y+Xs)%ir-Vi}function h(T){return(T%ir+ir)%ir}function v(T,y,S,D){const R=h(T),V=h(y),G=h(S),tt=h(V-R),st=h(G-R),ht=h(R-V),Rt=h(R-G);return R===V||R===G||D&&V===G||tt>st&&ht<Rt}function _(T,y,S){return Math.max(y,Math.min(S,T))}function A(T){return _(T,-32768,32767)}function P(T){return!T||sn(T.size)||sn(T.family)?null:(T.style?T.style+" ":"")+(T.weight?T.weight+" ":"")+T.size+"px "+T.family}function E(T,y,S,D,R){let V=y[R];return V||(V=y[R]=T.measureText(R).width,S.push(R)),V>D&&(D=V),D}function F(T,y,S,D){let R=(D=D||{}).data=D.data||{},V=D.garbageCollect=D.garbageCollect||[];D.font!==y&&(R=D.data={},V=D.garbageCollect=[],D.font=y),T.save(),T.font=y;let G=0;const tt=S.length;let st,ht,Rt,Bt,Kt;for(st=0;st<tt;st++)if(Bt=S[st],null!=Bt&&!0!==hn(Bt))G=E(T,R,V,G,Bt);else if(hn(Bt))for(ht=0,Rt=Bt.length;ht<Rt;ht++)Kt=Bt[ht],null==Kt||hn(Kt)||(G=E(T,R,V,G,Kt));T.restore();const ce=V.length/2;if(ce>S.length){for(st=0;st<ce;st++)delete R[V[st]];V.splice(0,ce)}return G}function W(T,y,S){const D=T.currentDevicePixelRatio,R=0!==S?Math.max(S/2,.5):0;return Math.round((y-R)*D)/D+R}function K(T,y){(y=y||T.getContext("2d")).save(),y.resetTransform(),y.clearRect(0,0,T.width,T.height),y.restore()}function J(T,y,S,D){let R,V,G,tt,st;const ht=y.pointStyle,Rt=y.rotation,Bt=y.radius;let Kt=(Rt||0)*ca;if(ht&&"object"==typeof ht&&(R=ht.toString(),"[object HTMLImageElement]"===R||"[object HTMLCanvasElement]"===R))return T.save(),T.translate(S,D),T.rotate(Kt),T.drawImage(ht,-ht.width/2,-ht.height/2,ht.width,ht.height),void T.restore();if(!(isNaN(Bt)||Bt<=0)){switch(T.beginPath(),ht){default:T.arc(S,D,Bt,0,ir),T.closePath();break;case"triangle":T.moveTo(S+Math.sin(Kt)*Bt,D-Math.cos(Kt)*Bt),Kt+=Yi,T.lineTo(S+Math.sin(Kt)*Bt,D-Math.cos(Kt)*Bt),Kt+=Yi,T.lineTo(S+Math.sin(Kt)*Bt,D-Math.cos(Kt)*Bt),T.closePath();break;case"rectRounded":st=.516*Bt,tt=Bt-st,V=Math.cos(Kt+Ja)*tt,G=Math.sin(Kt+Ja)*tt,T.arc(S-V,D-G,st,Kt-Vi,Kt-Lr),T.arc(S+G,D-V,st,Kt-Lr,Kt),T.arc(S+V,D+G,st,Kt,Kt+Lr),T.arc(S-G,D+V,st,Kt+Lr,Kt+Vi),T.closePath();break;case"rect":if(!Rt){tt=Math.SQRT1_2*Bt,T.rect(S-tt,D-tt,2*tt,2*tt);break}Kt+=Ja;case"rectRot":V=Math.cos(Kt)*Bt,G=Math.sin(Kt)*Bt,T.moveTo(S-V,D-G),T.lineTo(S+G,D-V),T.lineTo(S+V,D+G),T.lineTo(S-G,D+V),T.closePath();break;case"crossRot":Kt+=Ja;case"cross":V=Math.cos(Kt)*Bt,G=Math.sin(Kt)*Bt,T.moveTo(S-V,D-G),T.lineTo(S+V,D+G),T.moveTo(S+G,D-V),T.lineTo(S-G,D+V);break;case"star":V=Math.cos(Kt)*Bt,G=Math.sin(Kt)*Bt,T.moveTo(S-V,D-G),T.lineTo(S+V,D+G),T.moveTo(S+G,D-V),T.lineTo(S-G,D+V),Kt+=Ja,V=Math.cos(Kt)*Bt,G=Math.sin(Kt)*Bt,T.moveTo(S-V,D-G),T.lineTo(S+V,D+G),T.moveTo(S+G,D-V),T.lineTo(S-G,D+V);break;case"line":V=Math.cos(Kt)*Bt,G=Math.sin(Kt)*Bt,T.moveTo(S-V,D-G),T.lineTo(S+V,D+G);break;case"dash":T.moveTo(S,D),T.lineTo(S+Math.cos(Kt)*Bt,D+Math.sin(Kt)*Bt)}T.fill(),y.borderWidth>0&&T.stroke()}}function ct(T,y,S){return S=S||.5,!y||T&&T.x>y.left-S&&T.x<y.right+S&&T.y>y.top-S&&T.y<y.bottom+S}function yt(T,y){T.save(),T.beginPath(),T.rect(y.left,y.top,y.right-y.left,y.bottom-y.top),T.clip()}function Vt(T){T.restore()}function Ht(T,y,S,D,R){if(!y)return T.lineTo(S.x,S.y);if("middle"===R){const V=(y.x+S.x)/2;T.lineTo(V,y.y),T.lineTo(V,S.y)}else"after"===R!=!!D?T.lineTo(y.x,S.y):T.lineTo(S.x,y.y);T.lineTo(S.x,S.y)}function qt(T,y,S,D){if(!y)return T.lineTo(S.x,S.y);T.bezierCurveTo(D?y.cp1x:y.cp2x,D?y.cp1y:y.cp2y,D?S.cp2x:S.cp1x,D?S.cp2y:S.cp1y,S.x,S.y)}function le(T,y,S,D,R,V={}){const G=hn(y)?y:[y],tt=V.strokeWidth>0&&""!==V.strokeColor;let st,ht;for(T.save(),T.font=R.string,Rt=T,(Bt=V).translation&&Rt.translate(Bt.translation[0],Bt.translation[1]),sn(Bt.rotation)||Rt.rotate(Bt.rotation),Bt.color&&(Rt.fillStyle=Bt.color),Bt.textAlign&&(Rt.textAlign=Bt.textAlign),Bt.textBaseline&&(Rt.textBaseline=Bt.textBaseline),st=0;st<G.length;++st)ht=G[st],tt&&(V.strokeColor&&(T.strokeStyle=V.strokeColor),sn(V.strokeWidth)||(T.lineWidth=V.strokeWidth),T.strokeText(ht,S,D,V.maxWidth)),T.fillText(ht,S,D,V.maxWidth),me(T,S,D,ht,V),D+=R.lineHeight;var Rt,Bt;T.restore()}function me(T,y,S,D,R){if(R.strikethrough||R.underline){const V=T.measureText(D),G=y-V.actualBoundingBoxLeft,tt=y+V.actualBoundingBoxRight,st=S-V.actualBoundingBoxAscent,ht=S+V.actualBoundingBoxDescent,Rt=R.strikethrough?(st+ht)/2:ht;T.strokeStyle=T.fillStyle,T.beginPath(),T.lineWidth=R.decorationWidth||2,T.moveTo(G,Rt),T.lineTo(tt,Rt),T.stroke()}}function De(T,y){const{x:S,y:D,w:R,h:V,radius:G}=y;T.arc(S+G.topLeft,D+G.topLeft,G.topLeft,-Lr,Vi,!0),T.lineTo(S,D+V-G.bottomLeft),T.arc(S+G.bottomLeft,D+V-G.bottomLeft,G.bottomLeft,Vi,Lr,!0),T.lineTo(S+R-G.bottomRight,D+V),T.arc(S+R-G.bottomRight,D+V-G.bottomRight,G.bottomRight,Lr,0,!0),T.lineTo(S+R,D+G.topRight),T.arc(S+R-G.topRight,D+G.topRight,G.topRight,0,-Lr,!0),T.lineTo(S+G.topLeft,D)}function j(T,y,S){S=S||(G=>T[G]<y);let D,R=T.length-1,V=0;for(;R-V>1;)D=V+R>>1,S(D)?V=D:R=D;return{lo:V,hi:R}}const ut=(T,y,S)=>j(T,S,D=>T[D][y]<S),Zt=(T,y,S)=>j(T,S,D=>T[D][y]>=S);function he(T,y,S){let D=0,R=T.length;for(;D<R&&T[D]<y;)D++;for(;R>D&&T[R-1]>S;)R--;return D>0||R<T.length?T.slice(D,R):T}const Ue=["push","pop","shift","splice","unshift"];function kn(T,y){T._chartjs?T._chartjs.listeners.push(y):(Object.defineProperty(T,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[y]}}),Ue.forEach(S=>{const D="_onData"+qr(S),R=T[S];Object.defineProperty(T,S,{configurable:!0,enumerable:!1,value(...V){const G=R.apply(this,V);return T._chartjs.listeners.forEach(tt=>{"function"==typeof tt[D]&&tt[D](...V)}),G}})}))}function rn(T,y){const S=T._chartjs;if(!S)return;const D=S.listeners,R=D.indexOf(y);-1!==R&&D.splice(R,1),D.length>0||(Ue.forEach(V=>{delete T[V]}),delete T._chartjs)}function Kn(T){const y=new Set;let S,D;for(S=0,D=T.length;S<D;++S)y.add(T[S]);return y.size===D?T:Array.from(y)}function zn(){return"undefined"!=typeof window&&"undefined"!=typeof document}function ai(T){let y=T.parentNode;return y&&"[object ShadowRoot]"===y.toString()&&(y=y.host),y}function Mi(T,y,S){let D;return"string"==typeof T?(D=parseInt(T,10),-1!==T.indexOf("%")&&(D=D/100*y.parentNode[S])):D=T,D}const Ki=T=>window.getComputedStyle(T,null);function Qi(T,y){return Ki(T).getPropertyValue(y)}const Ur=["top","right","bottom","left"];function ao(T,y,S){const D={};S=S?"-"+S:"";for(let R=0;R<4;R++){const V=Ur[R];D[V]=parseFloat(T[y+"-"+V+S])||0}return D.width=D.left+D.right,D.height=D.top+D.bottom,D}function es(T,y){const{canvas:S,currentDevicePixelRatio:D}=y,R=Ki(S),V="border-box"===R.boxSizing,G=ao(R,"padding"),tt=ao(R,"border","width"),{x:st,y:ht,box:Rt}=function(we,Ee){const He=we.native||we,en=He.touches,un=en&&en.length?en[0]:He,{offsetX:yn,offsetY:Fn}=un;let Qn,ni,Si=!1;if(wi=He.target,!(yn>0||Fn>0)||wi&&wi.shadowRoot){const Ei=Ee.getBoundingClientRect();Qn=un.clientX-Ei.left,ni=un.clientY-Ei.top,Si=!0}else Qn=yn,ni=Fn;var wi;return{x:Qn,y:ni,box:Si}}(T,S),Bt=G.left+(Rt&&tt.left),Kt=G.top+(Rt&&tt.top);let{width:ce,height:xe}=y;return V&&(ce-=G.width+tt.width,xe-=G.height+tt.height),{x:Math.round((st-Bt)/ce*S.width/D),y:Math.round((ht-Kt)/xe*S.height/D)}}const ns=T=>Math.round(10*T)/10;function Ci(T,y,S,D){const R=Ki(T),V=ao(R,"margin"),G=Mi(R.maxWidth,T,"clientWidth")||ho,tt=Mi(R.maxHeight,T,"clientHeight")||ho,st=function(Bt,Kt,ce){let xe,we;if(void 0===Kt||void 0===ce){const Ee=ai(Bt);if(Ee){const He=Ee.getBoundingClientRect(),en=Ki(Ee),un=ao(en,"border","width"),yn=ao(en,"padding");Kt=He.width-yn.width-un.width,ce=He.height-yn.height-un.height,xe=Mi(en.maxWidth,Ee,"clientWidth"),we=Mi(en.maxHeight,Ee,"clientHeight")}else Kt=Bt.clientWidth,ce=Bt.clientHeight}return{width:Kt,height:ce,maxWidth:xe||ho,maxHeight:we||ho}}(T,y,S);let{width:ht,height:Rt}=st;if("content-box"===R.boxSizing){const Bt=ao(R,"border","width"),Kt=ao(R,"padding");ht-=Kt.width+Bt.width,Rt-=Kt.height+Bt.height}return ht=Math.max(0,ht-V.width),Rt=Math.max(0,D?Math.floor(ht/D):Rt-V.height),ht=ns(Math.min(ht,G,st.maxWidth)),Rt=ns(Math.min(Rt,tt,st.maxHeight)),ht&&!Rt&&(Rt=ns(ht/2)),{width:ht,height:Rt}}function gu(T,y,S){const D=y||1,R=Math.floor(T.height*D),V=Math.floor(T.width*D);T.height=R/D,T.width=V/D;const G=T.canvas;return G.style&&(S||!G.style.height&&!G.style.width)&&(G.style.height=`${T.height}px`,G.style.width=`${T.width}px`),(T.currentDevicePixelRatio!==D||G.height!==R||G.width!==V)&&(T.currentDevicePixelRatio=D,G.height=R,G.width=V,T.ctx.setTransform(D,0,0,D,0,0),!0)}const Ms=function(){let T=!1;try{const y={get passive(){return T=!0,!1}};window.addEventListener("test",null,y),window.removeEventListener("test",null,y)}catch(y){}return T}();function vn(T,y){const S=Qi(T,y),D=S&&S.match(/^(\d+)(\.\d+)?px$/);return D?+D[1]:void 0}function Qe(T,y){return"native"in T?{x:T.x,y:T.y}:es(T,y)}function pr(T,y,S,D){const{controller:R,data:V,_sorted:G}=T,tt=R._cachedMeta.iScale;if(tt&&y===tt.axis&&G&&V.length){const st=tt._reversePixels?Zt:ut;if(!D)return st(V,y,S);if(R._sharedOptions){const ht=V[0],Rt="function"==typeof ht.getRange&&ht.getRange(y);if(Rt){const Bt=st(V,y,S-Rt),Kt=st(V,y,S+Rt);return{lo:Bt.lo,hi:Kt.hi}}}}return{lo:0,hi:V.length-1}}function so(T,y,S,D,R){const V=T.getSortedVisibleDatasetMetas(),G=S[y];for(let tt=0,st=V.length;tt<st;++tt){const{index:ht,data:Rt}=V[tt],{lo:Bt,hi:Kt}=pr(V[tt],y,G,R);for(let ce=Bt;ce<=Kt;++ce){const xe=Rt[ce];xe.skip||D(xe,ht,ce)}}}function pl(T,y,S,D){const R=[];return ct(y,T.chartArea,T._minPadding)&&so(T,S,y,function(V,G,tt){V.inRange(y.x,y.y,D)&&R.push({element:V,datasetIndex:G,index:tt})},!0),R}function hh(T,y,S,D,R){const V=function(st){const ht=-1!==st.indexOf("x"),Rt=-1!==st.indexOf("y");return function(Bt,Kt){const ce=ht?Math.abs(Bt.x-Kt.x):0,xe=Rt?Math.abs(Bt.y-Kt.y):0;return Math.sqrt(Math.pow(ce,2)+Math.pow(xe,2))}}(S);let G=Number.POSITIVE_INFINITY,tt=[];return ct(y,T.chartArea,T._minPadding)&&so(T,S,y,function(st,ht,Rt){if(D&&!st.inRange(y.x,y.y,R))return;const Bt=st.getCenterPoint(R);if(!ct(Bt,T.chartArea,T._minPadding)&&!st.inRange(y.x,y.y,R))return;const Kt=V(y,Bt);Kt<G?(tt=[{element:st,datasetIndex:ht,index:Rt}],G=Kt):Kt===G&&tt.push({element:st,datasetIndex:ht,index:Rt})}),tt}function Ts(T,y,S,D){const R=Qe(y,T),V=[],G=S.axis,tt="x"===G?"inXRange":"inYRange";let st=!1;return function(ht,Rt){const Bt=ht.getSortedVisibleDatasetMetas();let Kt,ce,xe;for(let we=0,Ee=Bt.length;we<Ee;++we){({index:Kt,data:ce}=Bt[we]);for(let He=0,en=ce.length;He<en;++He)xe=ce[He],xe.skip||Rt(xe,Kt,He)}}(T,(ht,Rt,Bt)=>{ht[tt](R[G],D)&&V.push({element:ht,datasetIndex:Rt,index:Bt}),ht.inRange(R.x,R.y,D)&&(st=!0)}),S.intersect&&!st?[]:V}var dh={modes:{index(T,y,S,D){const R=Qe(y,T),V=S.axis||"x",G=S.intersect?pl(T,R,V,D):hh(T,R,V,!1,D),tt=[];return G.length?(T.getSortedVisibleDatasetMetas().forEach(st=>{const ht=G[0].index,Rt=st.data[ht];Rt&&!Rt.skip&&tt.push({element:Rt,datasetIndex:st.index,index:ht})}),tt):[]},dataset(T,y,S,D){const R=Qe(y,T),V=S.axis||"xy";let G=S.intersect?pl(T,R,V,D):hh(T,R,V,!1,D);if(G.length>0){const tt=G[0].datasetIndex,st=T.getDatasetMeta(tt).data;G=[];for(let ht=0;ht<st.length;++ht)G.push({element:st[ht],datasetIndex:tt,index:ht})}return G},point:(T,y,S,D)=>pl(T,Qe(y,T),S.axis||"xy",D),nearest:(T,y,S,D)=>hh(T,Qe(y,T),S.axis||"xy",S.intersect,D),x:(T,y,S,D)=>(S.axis="x",Ts(T,y,S,D)),y:(T,y,S,D)=>(S.axis="y",Ts(T,y,S,D))}};const _o=new RegExp(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/),Is=new RegExp(/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/);function gl(T,y){const S=(""+T).match(_o);if(!S||"normal"===S[1])return 1.2*y;switch(T=+S[2],S[3]){case"px":return T;case"%":T/=100}return y*T}function Gs(T,y){const S={},D=$e(y),R=D?Object.keys(y):y,V=$e(T)?D?G=>hi(T[G],T[y[G]]):G=>T[G]:()=>T;for(const G of R)S[G]=+V(G)||0;return S}function bc(T){return Gs(T,{top:"y",right:"x",bottom:"y",left:"x"})}function ma(T){return Gs(T,["topLeft","topRight","bottomLeft","bottomRight"])}function Yr(T){const y=bc(T);return y.width=y.left+y.right,y.height=y.top+y.bottom,y}function lo(T,y){let S=hi((T=T||{}).size,(y=y||ge.font).size);"string"==typeof S&&(S=parseInt(S,10));let D=hi(T.style,y.style);D&&!(""+D).match(Is)&&(console.warn('Invalid font style specified: "'+D+'"'),D="");const R={family:hi(T.family,y.family),lineHeight:gl(hi(T.lineHeight,y.lineHeight),S),size:S,style:D,weight:hi(T.weight,y.weight),string:""};return R.string=P(R),R}function qs(T,y,S,D){let R,V,G,tt=!0;for(R=0,V=T.length;R<V;++R)if(G=T[R],void 0!==G&&(void 0!==y&&"function"==typeof G&&(G=G(y),tt=!1),void 0!==S&&hn(G)&&(G=G[S%G.length],tt=!1),void 0!==G))return D&&!tt&&(D.cacheable=!1),G}function _c(T,y,S){const{min:D,max:R}=T,V=Zi(y,(R-D)/2),G=(tt,st)=>S&&0===tt?0:tt+st;return{min:G(D,-Math.abs(V)),max:G(R,V)}}function Ma(T,y){return Object.assign(Object.create(T),y)}const ea=["left","top","right","bottom"];function ha(T,y){return T.filter(S=>S.pos===y)}function ml(T,y){return T.filter(S=>-1===ea.indexOf(S.pos)&&S.box.axis===y)}function vl(T,y){return T.sort((S,D)=>{const R=y?D:S,V=y?S:D;return R.weight===V.weight?R.index-V.index:R.weight-V.weight})}function fh(T,y,S,D){return Math.max(T[S],y[S])+Math.max(T[D],y[D])}function Gu(T,y){T.top=Math.max(T.top,y.top),T.left=Math.max(T.left,y.left),T.bottom=Math.max(T.bottom,y.bottom),T.right=Math.max(T.right,y.right)}function Qh(T,y,S,D){const{pos:R,box:V}=S,G=T.maxPadding;if(!$e(R)){S.size&&(T[R]-=S.size);const Bt=D[S.stack]||{size:0,count:1};Bt.size=Math.max(Bt.size,S.horizontal?V.height:V.width),S.size=Bt.size/Bt.count,T[R]+=S.size}V.getPadding&&Gu(G,V.getPadding());const tt=Math.max(0,y.outerWidth-fh(G,T,"left","right")),st=Math.max(0,y.outerHeight-fh(G,T,"top","bottom")),ht=tt!==T.w,Rt=st!==T.h;return T.w=tt,T.h=st,S.horizontal?{same:ht,other:Rt}:{same:Rt,other:ht}}function Fl(T,y){const S=y.maxPadding;return function(R){const V={left:0,top:0,right:0,bottom:0};return R.forEach(G=>{V[G]=Math.max(y[G],S[G])}),V}(T?["left","right"]:["top","bottom"])}function Us(T,y,S,D){const R=[];let V,G,tt,st,ht,Rt;for(V=0,G=T.length,ht=0;V<G;++V){tt=T[V],st=tt.box,st.update(tt.width||y.w,tt.height||y.h,Fl(tt.horizontal,y));const{same:Bt,other:Kt}=Qh(y,S,tt,D);ht|=Bt&&R.length,Rt=Rt||Kt,st.fullSize||R.push(tt)}return ht&&Us(R,y,S,D)||Rt}function Wo(T,y,S,D,R){T.top=S,T.left=y,T.right=y+D,T.bottom=S+R,T.width=D,T.height=R}function $s(T,y,S,D){const R=S.padding;let{x:V,y:G}=y;for(const tt of T){const st=tt.box,ht=D[tt.stack]||{count:1,placed:0,weight:1},Rt=tt.stackWeight/ht.weight||1;if(tt.horizontal){const Bt=y.w*Rt,Kt=ht.size||st.height;Io(ht.start)&&(G=ht.start),st.fullSize?Wo(st,R.left,G,S.outerWidth-R.right-R.left,Kt):Wo(st,y.left+ht.placed,G,Bt,Kt),ht.start=G,ht.placed+=Bt,G=st.bottom}else{const Bt=y.h*Rt,Kt=ht.size||st.width;Io(ht.start)&&(V=ht.start),st.fullSize?Wo(st,V,R.top,Kt,S.outerHeight-R.bottom-R.top):Wo(st,V,y.top+ht.placed,Kt,Bt),ht.start=V,ht.placed+=Bt,V=st.right}}y.x=V,y.y=G}ge.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}});var jo={addBox(T,y){T.boxes||(T.boxes=[]),y.fullSize=y.fullSize||!1,y.position=y.position||"top",y.weight=y.weight||0,y._layers=y._layers||function(){return[{z:0,draw(S){y.draw(S)}}]},T.boxes.push(y)},removeBox(T,y){const S=T.boxes?T.boxes.indexOf(y):-1;-1!==S&&T.boxes.splice(S,1)},configure(T,y,S){y.fullSize=S.fullSize,y.position=S.position,y.weight=S.weight},update(T,y,S,D){if(!T)return;const R=Yr(T.options.layout.padding),V=Math.max(y-R.width,0),G=Math.max(S-R.height,0),tt=function(we){const Ee=function(Si){const Ei=[];let ci,wi,Ii,bi,Jn,Ln;for(ci=0,wi=(Si||[]).length;ci<wi;++ci)Ii=Si[ci],({position:bi,options:{stack:Jn,stackWeight:Ln=1}}=Ii),Ei.push({index:ci,box:Ii,pos:bi,horizontal:Ii.isHorizontal(),weight:Ii.weight,stack:Jn&&bi+Jn,stackWeight:Ln});return Ei}(we),He=vl(Ee.filter(Si=>Si.box.fullSize),!0),en=vl(ha(Ee,"left"),!0),un=vl(ha(Ee,"right")),yn=vl(ha(Ee,"top"),!0),Fn=vl(ha(Ee,"bottom")),Qn=ml(Ee,"x"),ni=ml(Ee,"y");return{fullSize:He,leftAndTop:en.concat(yn),rightAndBottom:un.concat(ni).concat(Fn).concat(Qn),chartArea:ha(Ee,"chartArea"),vertical:en.concat(un).concat(ni),horizontal:yn.concat(Fn).concat(Qn)}}(T.boxes),st=tt.vertical,ht=tt.horizontal;fn(T.boxes,we=>{"function"==typeof we.beforeLayout&&we.beforeLayout()});const Rt=st.reduce((we,Ee)=>Ee.box.options&&!1===Ee.box.options.display?we:we+1,0)||1,Bt=Object.freeze({outerWidth:y,outerHeight:S,padding:R,availableWidth:V,availableHeight:G,vBoxMaxWidth:V/2/Rt,hBoxMaxHeight:G/2}),Kt=Object.assign({},R);Gu(Kt,Yr(D));const ce=Object.assign({maxPadding:Kt,w:V,h:G,x:R.left,y:R.top},R),xe=function(T,y){const S=function(st){const ht={};for(const Rt of st){const{stack:Bt,pos:Kt,stackWeight:ce}=Rt;if(!Bt||!ea.includes(Kt))continue;const xe=ht[Bt]||(ht[Bt]={count:0,placed:0,weight:0,size:0});xe.count++,xe.weight+=ce}return ht}(T),{vBoxMaxWidth:D,hBoxMaxHeight:R}=y;let V,G,tt;for(V=0,G=T.length;V<G;++V){tt=T[V];const{fullSize:st}=tt.box,ht=S[tt.stack],Rt=ht&&tt.stackWeight/ht.weight;tt.horizontal?(tt.width=Rt?Rt*D:st&&y.availableWidth,tt.height=R):(tt.width=D,tt.height=Rt?Rt*R:st&&y.availableHeight)}return S}(st.concat(ht),Bt);Us(tt.fullSize,ce,Bt,xe),Us(st,ce,Bt,xe),Us(ht,ce,Bt,xe)&&Us(st,ce,Bt,xe),function(we){const Ee=we.maxPadding;function He(en){const un=Math.max(Ee[en]-we[en],0);return we[en]+=un,un}we.y+=He("top"),we.x+=He("left"),He("right"),He("bottom")}(ce),$s(tt.leftAndTop,ce,Bt,xe),ce.x+=ce.w,ce.y+=ce.h,$s(tt.rightAndBottom,ce,Bt,xe),T.chartArea={left:ce.left,top:ce.top,right:ce.left+ce.w,bottom:ce.top+ce.h,height:ce.h,width:ce.w},fn(tt.chartArea,we=>{const Ee=we.box;Object.assign(Ee,T.chartArea),Ee.update(ce.w,ce.h)})}};function yl(T,y=[""],S=T,D,R=(()=>T[0])){Io(D)||(D=wc("_fallback",T));const V={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:T,_rootScopes:S,_fallback:D,_getTarget:R,override:G=>yl([G,...T],y,S,D)};return new Proxy(V,{deleteProperty:(G,tt)=>(delete G[tt],delete G._keys,delete T[0][tt],!0),get:(G,tt)=>mu(G,tt,()=>function(st,ht,Rt,Bt){let Kt;for(const ce of ht)if(Kt=wc(qu(ce,st),Rt),Io(Kt))return Jh(st,Kt)?wo(Rt,Bt,st,Kt):Kt}(tt,y,T,G)),getOwnPropertyDescriptor:(G,tt)=>Reflect.getOwnPropertyDescriptor(G._scopes[0],tt),getPrototypeOf:()=>Reflect.getPrototypeOf(T[0]),has:(G,tt)=>Ds(G).includes(tt),ownKeys:G=>Ds(G),set:(G,tt,st)=>((G._storage||(G._storage=R()))[tt]=st,delete G[tt],delete G._keys,!0)})}function is(T,y,S,D){const R={_cacheable:!1,_proxy:T,_context:y,_subProxy:S,_stack:new Set,_descriptors:Ba(T,D),setContext:V=>is(T,V,S,D),override:V=>is(T.override(V),y,S,D)};return new Proxy(R,{deleteProperty:(V,G)=>(delete V[G],delete T[G],!0),get:(V,G,tt)=>mu(V,G,()=>function(st,ht,Rt){const{_proxy:Bt,_context:Kt,_subProxy:ce,_descriptors:xe}=st;let we=Bt[ht];return ii(we)&&xe.isScriptable(ht)&&(we=function(Ee,He,en,un){const{_proxy:yn,_context:Fn,_subProxy:Qn,_stack:ni}=en;if(ni.has(Ee))throw new Error("Recursion detected: "+Array.from(ni).join("->")+"->"+Ee);return ni.add(Ee),He=He(Fn,Qn||un),ni.delete(Ee),$e(He)&&(He=wo(yn._scopes,yn,Ee,He)),He}(ht,we,st,Rt)),hn(we)&&we.length&&(we=function(Ee,He,en,un){const{_proxy:yn,_context:Fn,_subProxy:Qn,_descriptors:ni}=en;if(Io(Fn.index)&&un(Ee))He=He[Fn.index%He.length];else if($e(He[0])){const Si=He,Ei=yn._scopes.filter(ci=>ci!==Si);He=[];for(const ci of Si){const wi=wo(Ei,yn,Ee,ci);He.push(is(wi,Fn,Qn&&Qn[Ee],ni))}}return He}(ht,we,st,xe.isIndexable)),Jh(ht,we)&&(we=is(we,Kt,ce&&ce[ht],xe)),we}(V,G,tt)),getOwnPropertyDescriptor:(V,G)=>V._descriptors.allKeys?Reflect.has(T,G)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(T,G),getPrototypeOf:()=>Reflect.getPrototypeOf(T),has:(V,G)=>Reflect.has(T,G),ownKeys:()=>Reflect.ownKeys(T),set:(V,G,tt)=>(T[G]=tt,delete V[G],!0)})}function Ba(T,y={scriptable:!0,indexable:!0}){const{_scriptable:S=y.scriptable,_indexable:D=y.indexable,_allKeys:R=y.allKeys}=T;return{allKeys:R,scriptable:S,indexable:D,isScriptable:ii(S)?S:()=>S,isIndexable:ii(D)?D:()=>D}}const qu=(T,y)=>T?T+qr(y):y,Jh=(T,y)=>$e(y)&&"adapters"!==T;function mu(T,y,S){if(Object.prototype.hasOwnProperty.call(T,y))return T[y];const D=S();return T[y]=D,D}function vu(T,y,S){return ii(T)?T(y,S):T}const td=(T,y)=>!0===T?y:"string"==typeof T?nr(y,T):void 0;function va(T,y,S,D){for(const R of y){const V=td(S,R);if(V){T.add(V);const G=vu(V._fallback,S,V);if(Io(G)&&G!==S&&G!==D)return G}else if(!1===V&&Io(D)&&S!==D)return null}return!1}function wo(T,y,S,D){const R=y._rootScopes,V=vu(y._fallback,S,D),G=[...T,...R],tt=new Set;tt.add(D);let st=xl(tt,G,S,V||S);return null!==st&&(!Io(V)||V===S||(st=xl(tt,G,V,st),null!==st))&&yl(Array.from(tt),[""],R,V,()=>function(ht,Rt,Bt){const Kt=ht._getTarget();Rt in Kt||(Kt[Rt]={});const ce=Kt[Rt];return hn(ce)&&$e(Bt)?Bt:ce}(y,S,D))}function xl(T,y,S,D){for(;S;)S=va(T,y,S,D);return S}function wc(T,y){for(const S of y){if(!S)continue;const D=S[T];if(Io(D))return D}}function Ds(T){let y=T._keys;return y||(y=T._keys=function(S){const D=new Set;for(const R of S)for(const V of Object.keys(R).filter(G=>!G.startsWith("_")))D.add(V);return Array.from(D)}(T._scopes)),y}const Es=Number.EPSILON||1e-14,Zs=(T,y)=>y<T.length&&!T[y].skip&&T[y],Sc=T=>"x"===T?"y":"x";function bl(T,y,S,D){const R=T.skip?y:T,V=y,G=S.skip?y:S,tt=ae(V,R),st=ae(G,V);let ht=tt/(tt+st),Rt=st/(tt+st);ht=isNaN(ht)?0:ht,Rt=isNaN(Rt)?0:Rt;const Bt=D*ht,Kt=D*Rt;return{previous:{x:V.x-Bt*(G.x-R.x),y:V.y-Bt*(G.y-R.y)},next:{x:V.x+Kt*(G.x-R.x),y:V.y+Kt*(G.y-R.y)}}}function ed(T,y="x"){const S=Sc(y),D=T.length,R=Array(D).fill(0),V=Array(D);let G,tt,st,ht=Zs(T,0);for(G=0;G<D;++G)if(tt=st,st=ht,ht=Zs(T,G+1),st){if(ht){const Rt=ht[y]-st[y];R[G]=0!==Rt?(ht[S]-st[S])/Rt:0}V[G]=tt?ht?gi(R[G-1])!==gi(R[G])?0:(R[G-1]+R[G])/2:R[G-1]:R[G]}(function(Rt,Bt,Kt){const ce=Rt.length;let xe,we,Ee,He,en,un=Zs(Rt,0);for(let yn=0;yn<ce-1;++yn)en=un,un=Zs(Rt,yn+1),en&&un&&(Nr(Bt[yn],0,Es)?Kt[yn]=Kt[yn+1]=0:(xe=Kt[yn]/Bt[yn],we=Kt[yn+1]/Bt[yn],He=Math.pow(xe,2)+Math.pow(we,2),He<=9||(Ee=3/Math.sqrt(He),Kt[yn]=xe*Ee*Bt[yn],Kt[yn+1]=we*Ee*Bt[yn])))})(T,R,V),function(Rt,Bt,Kt="x"){const ce=Sc(Kt),xe=Rt.length;let we,Ee,He,en=Zs(Rt,0);for(let un=0;un<xe;++un){if(Ee=He,He=en,en=Zs(Rt,un+1),!He)continue;const yn=He[Kt],Fn=He[ce];Ee&&(we=(yn-Ee[Kt])/3,He[`cp1${Kt}`]=yn-we,He[`cp1${ce}`]=Fn-we*Bt[un]),en&&(we=(en[Kt]-yn)/3,He[`cp2${Kt}`]=yn+we,He[`cp2${ce}`]=Fn+we*Bt[un])}}(T,V,y)}function rs(T,y,S){return Math.max(Math.min(T,S),y)}function ph(T,y,S,D,R){let V,G,tt,st;if(y.spanGaps&&(T=T.filter(ht=>!ht.skip)),"monotone"===y.cubicInterpolationMode)ed(T,R);else{let ht=D?T[T.length-1]:T[0];for(V=0,G=T.length;V<G;++V)tt=T[V],st=bl(ht,tt,T[Math.min(V+1,G-(D?0:1))%G],y.tension),tt.cp1x=st.previous.x,tt.cp1y=st.previous.y,tt.cp2x=st.next.x,tt.cp2y=st.next.y,ht=tt}y.capBezierPoints&&function(ht,Rt){let Bt,Kt,ce,xe,we,Ee=ct(ht[0],Rt);for(Bt=0,Kt=ht.length;Bt<Kt;++Bt)we=xe,xe=Ee,Ee=Bt<Kt-1&&ct(ht[Bt+1],Rt),xe&&(ce=ht[Bt],we&&(ce.cp1x=rs(ce.cp1x,Rt.left,Rt.right),ce.cp1y=rs(ce.cp1y,Rt.top,Rt.bottom)),Ee&&(ce.cp2x=rs(ce.cp2x,Rt.left,Rt.right),ce.cp2y=rs(ce.cp2y,Rt.top,Rt.bottom)))}(T,S)}const Cc=T=>0===T||1===T,gh=(T,y,S)=>-Math.pow(2,10*(T-=1))*Math.sin((T-y)*ir/S),kc=(T,y,S)=>Math.pow(2,-10*T)*Math.sin((T-y)*ir/S)+1,na={linear:T=>T,easeInQuad:T=>T*T,easeOutQuad:T=>-T*(T-2),easeInOutQuad:T=>(T/=.5)<1?.5*T*T:-.5*(--T*(T-2)-1),easeInCubic:T=>T*T*T,easeOutCubic:T=>(T-=1)*T*T+1,easeInOutCubic:T=>(T/=.5)<1?.5*T*T*T:.5*((T-=2)*T*T+2),easeInQuart:T=>T*T*T*T,easeOutQuart:T=>-((T-=1)*T*T*T-1),easeInOutQuart:T=>(T/=.5)<1?.5*T*T*T*T:-.5*((T-=2)*T*T*T-2),easeInQuint:T=>T*T*T*T*T,easeOutQuint:T=>(T-=1)*T*T*T*T+1,easeInOutQuint:T=>(T/=.5)<1?.5*T*T*T*T*T:.5*((T-=2)*T*T*T*T+2),easeInSine:T=>1-Math.cos(T*Lr),easeOutSine:T=>Math.sin(T*Lr),easeInOutSine:T=>-.5*(Math.cos(Vi*T)-1),easeInExpo:T=>0===T?0:Math.pow(2,10*(T-1)),easeOutExpo:T=>1===T?1:1-Math.pow(2,-10*T),easeInOutExpo:T=>Cc(T)?T:T<.5?.5*Math.pow(2,10*(2*T-1)):.5*(2-Math.pow(2,-10*(2*T-1))),easeInCirc:T=>T>=1?T:-(Math.sqrt(1-T*T)-1),easeOutCirc:T=>Math.sqrt(1-(T-=1)*T),easeInOutCirc:T=>(T/=.5)<1?-.5*(Math.sqrt(1-T*T)-1):.5*(Math.sqrt(1-(T-=2)*T)+1),easeInElastic:T=>Cc(T)?T:gh(T,.075,.3),easeOutElastic:T=>Cc(T)?T:kc(T,.075,.3),easeInOutElastic(T){const y=.1125;return Cc(T)?T:T<.5?.5*gh(2*T,y,.45):.5+.5*kc(2*T-1,y,.45)},easeInBack(T){const y=1.70158;return T*T*((y+1)*T-y)},easeOutBack(T){const y=1.70158;return(T-=1)*T*((y+1)*T+y)+1},easeInOutBack(T){let y=1.70158;return(T/=.5)<1?T*T*((1+(y*=1.525))*T-y)*.5:.5*((T-=2)*T*((1+(y*=1.525))*T+y)+2)},easeInBounce:T=>1-na.easeOutBounce(1-T),easeOutBounce(T){const y=7.5625,S=2.75;return T<1/S?y*T*T:T<2/S?y*(T-=1.5/S)*T+.75:T<2.5/S?y*(T-=2.25/S)*T+.9375:y*(T-=2.625/S)*T+.984375},easeInOutBounce:T=>T<.5?.5*na.easeInBounce(2*T):.5*na.easeOutBounce(2*T-1)+.5};function Do(T,y,S,D){return{x:T.x+S*(y.x-T.x),y:T.y+S*(y.y-T.y)}}function cp(T,y,S,D){return{x:T.x+S*(y.x-T.x),y:"middle"===D?S<.5?T.y:y.y:"after"===D?S<1?T.y:y.y:S>0?y.y:T.y}}function ps(T,y,S,D){const R={x:T.cp2x,y:T.cp2y},V={x:y.cp1x,y:y.cp1y},G=Do(T,R,S),tt=Do(R,V,S),st=Do(V,y,S),ht=Do(G,tt,S),Rt=Do(tt,st,S);return Do(ht,Rt,S)}const Ta=new Map;function yu(T,y,S){return function(D,R){R=R||{};const V=D+JSON.stringify(R);let G=Ta.get(V);return G||(G=new Intl.NumberFormat(D,R),Ta.set(V,G)),G}(y,S).format(T)}function xu(T,y,S){return T?(D=y,R=S,{x:V=>D+D+R-V,setWidth(V){R=V},textAlign:V=>"center"===V?V:"right"===V?"left":"right",xPlus:(V,G)=>V-G,leftForLtr:(V,G)=>V-G}):{x:D=>D,setWidth(D){},textAlign:D=>D,xPlus:(D,R)=>D+R,leftForLtr:(D,R)=>D};var D,R}function gs(T,y){let S,D;"ltr"!==y&&"rtl"!==y||(S=T.canvas.style,D=[S.getPropertyValue("direction"),S.getPropertyPriority("direction")],S.setProperty("direction",y,"important"),T.prevTextDirection=D)}function go(T,y){void 0!==y&&(delete T.prevTextDirection,T.canvas.style.setProperty("direction",y[0],y[1]))}function So(T){return"angle"===T?{between:v,compare:c,normalize:h}:{between:(y,S,D)=>y>=Math.min(S,D)&&y<=Math.max(D,S),compare:(y,S)=>y-S,normalize:y=>y}}function Uu({start:T,end:y,count:S,loop:D,style:R}){return{start:T%S,end:y%S,loop:D&&(y-T+1)%S==0,style:R}}function $u(T,y,S){if(!S)return[T];const{property:D,start:R,end:V}=S,G=y.length,{compare:tt,between:st,normalize:ht}=So(D),{start:Rt,end:Bt,loop:Kt,style:ce}=function(Qn,ni,Si){const{property:Ei,start:ci,end:wi}=Si,{between:Ii,normalize:bi}=So(Ei),Jn=ni.length;let Ln,Zr,{start:Ro,end:yo,loop:fa}=Qn;if(fa){for(Ro+=Jn,yo+=Jn,Ln=0,Zr=Jn;Ln<Zr&&Ii(bi(ni[Ro%Jn][Ei]),ci,wi);++Ln)Ro--,yo--;Ro%=Jn,yo%=Jn}return yo<Ro&&(yo+=Jn),{start:Ro,end:yo,loop:fa,style:Qn.style}}(T,y,S),xe=[];let we,Ee,He,en=!1,un=null;for(let Qn=Rt,ni=Rt;Qn<=Bt;++Qn)Ee=y[Qn%G],Ee.skip||(we=ht(Ee[D]),we!==He&&(en=st(we,R,V),null===un&&(en||st(R,He,we)&&0!==tt(R,He))&&(un=0===tt(we,R)?Qn:ni),null!==un&&(!en||0===tt(V,we)||st(V,He,we))&&(xe.push(Uu({start:un,end:Qn,loop:Kt,count:G,style:ce})),un=null),ni=Qn,He=we));return null!==un&&xe.push(Uu({start:un,end:Bt,loop:Kt,count:G,style:ce})),xe}function ya(T,y){const S=[],D=T.segments;for(let R=0;R<D.length;R++){const V=$u(D[R],T.points,y);V.length&&S.push(...V)}return S}function Zu(T,y){const S=T.points,D=T.options.spanGaps,R=S.length;if(!R)return[];const V=!!T._loop,{start:G,end:tt}=function(st,ht,Rt,Bt){let Kt=0,ce=ht-1;if(Rt&&!Bt)for(;Kt<ht&&!st[Kt].skip;)Kt++;for(;Kt<ht&&st[Kt].skip;)Kt++;for(Kt%=ht,Rt&&(ce+=Kt);ce>Kt&&st[ce%ht].skip;)ce--;return ce%=ht,{start:Kt,end:ce}}(S,R,V,D);return function(T,y,S,D){return D&&D.setContext&&S?function(R,V,G,tt){const st=R._chart.getContext(),ht=nd(R.options),{_datasetIndex:Rt,options:{spanGaps:Bt}}=R,Kt=G.length,ce=[];let xe=ht,we=V[0].start,Ee=we;function He(en,un,yn,Fn){const Qn=Bt?-1:1;if(en!==un){for(en+=Kt;G[en%Kt].skip;)en-=Qn;for(;G[un%Kt].skip;)un+=Qn;en%Kt!=un%Kt&&(ce.push({start:en%Kt,end:un%Kt,loop:yn,style:Fn}),xe=Fn,we=un%Kt)}}for(const en of V){we=Bt?we:en.start;let un,yn=G[we%Kt];for(Ee=we+1;Ee<=en.end;Ee++){const Fn=G[Ee%Kt];un=nd(tt.setContext(Ma(st,{type:"segment",p0:yn,p1:Fn,p0DataIndex:(Ee-1)%Kt,p1DataIndex:Ee%Kt,datasetIndex:Rt}))),ri(un,xe)&&He(we,Ee-1,en.loop,xe),yn=Fn,xe=un}we<Ee-1&&He(we,Ee-1,en.loop,xe)}return ce}(T,y,S,D):y}(T,!0===D?[{start:G,end:tt,loop:V}]:function(st,ht,Rt,Bt){const Kt=st.length,ce=[];let xe,we=ht,Ee=st[ht];for(xe=ht+1;xe<=Rt;++xe){const He=st[xe%Kt];He.skip||He.stop?Ee.skip||(ce.push({start:ht%Kt,end:(xe-1)%Kt,loop:Bt=!1}),ht=we=He.stop?xe:null):(we=xe,Ee.skip&&(ht=xe)),Ee=He}return null!==we&&ce.push({start:ht%Kt,end:we%Kt,loop:Bt}),ce}(S,G,tt<G?tt+R:tt,!!T._fullLoop&&0===G&&tt===R-1),S,y)}function nd(T){return{backgroundColor:T.backgroundColor,borderCapStyle:T.borderCapStyle,borderDash:T.borderDash,borderDashOffset:T.borderDashOffset,borderJoinStyle:T.borderJoinStyle,borderWidth:T.borderWidth,borderColor:T.borderColor}}function ri(T,y){return y&&JSON.stringify(T)!==JSON.stringify(y)}var mh=Object.freeze({__proto__:null,easingEffects:na,color:de,getHoverColor:Jt,noop:Fe,uid:Ke,isNullOrUndef:sn,isArray:hn,isObject:$e,isFinite:ti,finiteOrDefault:ui,valueOrDefault:hi,toPercentage:ur,toDimension:Zi,callback:dn,each:fn,_elementsEqual:On,clone:Tn,_merger:Di,merge:Oi,mergeIf:Ni,_mergerIf:br,_deprecated:function(T,y,S,D){void 0!==y&&console.warn(T+': "'+S+'" is deprecated. Please use "'+D+'" instead')},resolveObjectKey:nr,_capitalize:qr,defined:Io,isFunction:ii,setsEqual:Bl,toFontString:P,_measureText:E,_longestText:F,_alignPixel:W,clearCanvas:K,drawPoint:J,_isPointInArea:ct,clipArea:yt,unclipArea:Vt,_steppedLineTo:Ht,_bezierCurveTo:qt,renderText:le,addRoundedRectPath:De,_lookup:j,_lookupByKey:ut,_rlookupByKey:Zt,_filterBetween:he,listenArrayEvents:kn,unlistenArrayEvents:rn,_arrayUnique:Kn,_createResolver:yl,_attachContext:is,_descriptors:Ba,splineCurve:bl,splineCurveMonotone:ed,_updateBezierControlPoints:ph,_isDomSupported:zn,_getParentNode:ai,getStyle:Qi,getRelativePosition:es,getMaximumSize:Ci,retinaScale:gu,supportsEventListenerOptions:Ms,readUsedSize:vn,fontString:function(T,y,S){return y+" "+T+"px "+S},requestAnimFrame:Le,throttled:$t,debounce:Tt,_toLeftRightCenter:ee,_alignStartEnd:Oe,_textX:ve,_pointInLine:Do,_steppedInterpolation:cp,_bezierInterpolation:ps,formatNumber:yu,toLineHeight:gl,_readValueToProps:Gs,toTRBL:bc,toTRBLCorners:ma,toPadding:Yr,toFont:lo,resolve:qs,_addGrace:_c,createContext:Ma,PI:Vi,TAU:ir,PITAU:Xs,INFINITY:ho,RAD_PER_DEG:ca,HALF_PI:Lr,QUARTER_PI:Ja,TWO_THIRDS_PI:Yi,log10:Vo,sign:gi,niceNum:oo,_factorize:Oa,isNumber:Na,almostEquals:Nr,almostWhole:pu,_setMinAndMaxByKey:Aa,toRadians:Ho,toDegrees:Dr,_decimalPlaces:ts,getAngleFromPoint:Ra,distanceBetweenPoints:ae,_angleDiff:c,_normalizeAngle:h,_angleBetween:v,_limitValue:_,_int16Range:A,getRtlAdapter:xu,overrideTextDirection:gs,restoreTextDirection:go,_boundSegment:$u,_boundSegments:ya,_computeSegments:Zu});class za{acquireContext(y,S){}releaseContext(y){return!1}addEventListener(y,S,D){}removeEventListener(y,S,D){}getDevicePixelRatio(){return 1}getMaximumSize(y,S,D,R){return S=Math.max(0,S||y.width),D=D||y.height,{width:S,height:Math.max(0,R?Math.floor(S/R):D)}}isAttached(y){return!0}updateConfig(y){}}class Eo extends za{acquireContext(y){return y&&y.getContext&&y.getContext("2d")||null}updateConfig(y){y.options.animation=!1}}const Vr={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},vh=T=>null===T||""===T,xa=!!Ms&&{passive:!0};function Hr(T,y,S){T.canvas.removeEventListener(y,S,xa)}function yh(T,y,S){const D=T.canvas,R=new MutationObserver(V=>{for(const G of V)for(const tt of G.addedNodes)if(tt===D||tt.contains(D))return S()});return R.observe(document,{childList:!0,subtree:!0}),R}function os(T,y,S){const D=T.canvas,R=new MutationObserver(V=>{for(const G of V)for(const tt of G.removedNodes)if(tt===D||tt.contains(D))return S()});return R.observe(document,{childList:!0,subtree:!0}),R}const Ac=new Map;let Mc=0;function Tc(){const T=window.devicePixelRatio;T!==Mc&&(Mc=T,Ac.forEach((y,S)=>{S.currentDevicePixelRatio!==T&&y()}))}function id(T,y,S){const D=T.canvas,R=D&&ai(D);if(!R)return;const V=$t((tt,st)=>{const ht=R.clientWidth;S(tt,st),ht<R.clientWidth&&S()},window),G=new ResizeObserver(tt=>{const st=tt[0],ht=st.contentRect.width,Rt=st.contentRect.height;0===ht&&0===Rt||V(ht,Rt)});return G.observe(R),tt=T,st=V,Ac.size||window.addEventListener("resize",Tc),Ac.set(tt,st),G;var tt,st}function Vl(T,y,S){S&&S.disconnect(),"resize"===y&&(Ac.delete(T),Ac.size||window.removeEventListener("resize",Tc))}function _l(T,y,S){const D=T.canvas,R=$t(V=>{null!==T.ctx&&S(function(G,tt){const st=Vr[G.type]||G.type,{x:ht,y:Rt}=es(G,tt);return{type:st,chart:tt,native:G,x:void 0!==ht?ht:null,y:void 0!==Rt?Rt:null}}(V,T))},T,V=>{const G=V[0];return[G,G.offsetX,G.offsetY]});return D.addEventListener(y,R,xa),R}class Fa extends za{acquireContext(y,S){const D=y&&y.getContext&&y.getContext("2d");return D&&D.canvas===y?(function(R,V){const G=R.style,tt=R.getAttribute("height"),st=R.getAttribute("width");if(R.$chartjs={initial:{height:tt,width:st,style:{display:G.display,height:G.height,width:G.width}}},G.display=G.display||"block",G.boxSizing=G.boxSizing||"border-box",vh(st)){const ht=vn(R,"width");void 0!==ht&&(R.width=ht)}if(vh(tt))if(""===R.style.height)R.height=R.width/(V||2);else{const ht=vn(R,"height");void 0!==ht&&(R.height=ht)}}(y,S),D):null}releaseContext(y){const S=y.canvas;if(!S.$chartjs)return!1;const D=S.$chartjs.initial;["height","width"].forEach(V=>{const G=D[V];sn(G)?S.removeAttribute(V):S.setAttribute(V,G)});const R=D.style||{};return Object.keys(R).forEach(V=>{S.style[V]=R[V]}),S.width=S.width,delete S.$chartjs,!0}addEventListener(y,S,D){this.removeEventListener(y,S),(y.$proxies||(y.$proxies={}))[S]=({attach:yh,detach:os,resize:id}[S]||_l)(y,S,D)}removeEventListener(y,S){const D=y.$proxies||(y.$proxies={}),R=D[S];!R||(({attach:Vl,detach:Vl,resize:Vl}[S]||Hr)(y,S,R),D[S]=void 0)}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(y,S,D,R){return Ci(y,S,D,R)}isAttached(y){const S=ai(y);return!(!S||!S.isConnected)}}function Hl(T){return!zn()||"undefined"!=typeof OffscreenCanvas&&T instanceof OffscreenCanvas?Eo:Fa}var as=Object.freeze({__proto__:null,_detectPlatform:Hl,BasePlatform:za,BasicPlatform:Eo,DomPlatform:Fa});const rd="transparent",Bi={boolean:(T,y,S)=>S>.5?y:T,color(T,y,S){const D=de(T||rd),R=D.valid&&de(y||rd);return R&&R.valid?R.mix(D,S).hexString():y},number:(T,y,S)=>T+(y-T)*S};class Ks{constructor(y,S,D,R){const V=S[D];R=qs([y.to,R,V,y.from]);const G=qs([y.from,V,R]);this._active=!0,this._fn=y.fn||Bi[y.type||typeof G],this._easing=na[y.easing]||na.linear,this._start=Math.floor(Date.now()+(y.delay||0)),this._duration=this._total=Math.floor(y.duration),this._loop=!!y.loop,this._target=S,this._prop=D,this._from=G,this._to=R,this._promises=void 0}active(){return this._active}update(y,S,D){if(this._active){this._notify(!1);const R=this._target[this._prop],V=D-this._start,G=this._duration-V;this._start=D,this._duration=Math.floor(Math.max(G,y.duration)),this._total+=V,this._loop=!!y.loop,this._to=qs([y.to,S,R,y.from]),this._from=qs([y.from,R,S])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(y){const S=y-this._start,D=this._duration,R=this._prop,V=this._from,G=this._loop,tt=this._to;let st;if(this._active=V!==tt&&(G||S<D),!this._active)return this._target[R]=tt,void this._notify(!0);S<0?this._target[R]=V:(st=S/D%2,st=G&&st>1?2-st:st,st=this._easing(Math.min(1,Math.max(0,st))),this._target[R]=this._fn(V,tt,st))}wait(){const y=this._promises||(this._promises=[]);return new Promise((S,D)=>{y.push({res:S,rej:D})})}_notify(y){const S=y?"res":"rej",D=this._promises||[];for(let R=0;R<D.length;R++)D[R][S]()}}ge.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0});const Qs=Object.keys(ge.animation);ge.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:T=>"onProgress"!==T&&"onComplete"!==T&&"fn"!==T}),ge.set("animations",{colors:{type:"color",properties:["color","borderColor","backgroundColor"]},numbers:{type:"number",properties:["x","y","borderWidth","radius","tension"]}}),ge.describe("animations",{_fallback:"animation"}),ge.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:T=>0|T}}}});class Js{constructor(y,S){this._chart=y,this._properties=new Map,this.configure(S)}configure(y){if(!$e(y))return;const S=this._properties;Object.getOwnPropertyNames(y).forEach(D=>{const R=y[D];if(!$e(R))return;const V={};for(const G of Qs)V[G]=R[G];(hn(R.properties)&&R.properties||[D]).forEach(G=>{G!==D&&S.has(G)||S.set(G,V)})})}_animateOptions(y,S){const D=S.options,R=function(G,tt){if(!tt)return;let st=G.options;return st?(st.$shared&&(G.options=st=Object.assign({},st,{$shared:!1,$animations:{}})),st):void(G.options=tt)}(y,D);if(!R)return[];const V=this._createAnimations(R,D);return D.$shared&&function(G,tt){const st=[],ht=Object.keys(tt);for(let Rt=0;Rt<ht.length;Rt++){const Bt=G[ht[Rt]];Bt&&Bt.active()&&st.push(Bt.wait())}return Promise.all(st)}(y.options.$animations,D).then(()=>{y.options=D},()=>{}),V}_createAnimations(y,S){const D=this._properties,R=[],V=y.$animations||(y.$animations={}),G=Object.keys(S),tt=Date.now();let st;for(st=G.length-1;st>=0;--st){const ht=G[st];if("$"===ht.charAt(0))continue;if("options"===ht){R.push(...this._animateOptions(y,S));continue}const Rt=S[ht];let Bt=V[ht];const Kt=D.get(ht);if(Bt){if(Kt&&Bt.active()){Bt.update(Kt,Rt,tt);continue}Bt.cancel()}Kt&&Kt.duration?(V[ht]=Bt=new Ks(Kt,y,ht,Rt),R.push(Bt)):y[ht]=Rt}return R}update(y,S){if(0===this._properties.size)return void Object.assign(y,S);const D=this._createAnimations(y,S);return D.length?(Wt.add(this._chart,D),!0):void 0}}function Va(T,y){const S=T&&T.options||{},D=S.reverse,R=void 0===S.min?y:0,V=void 0===S.max?y:0;return{start:D?V:R,end:D?R:V}}function Wl(T,y){const S=[],D=T._getSortedDatasetMetas(y);let R,V;for(R=0,V=D.length;R<V;++R)S.push(D[R].index);return S}function Ls(T,y,S,D={}){const R=T.keys,V="single"===D.mode;let G,tt,st,ht;if(null!==y){for(G=0,tt=R.length;G<tt;++G){if(st=+R[G],st===S){if(D.all)continue;break}ht=T.values[st],ti(ht)&&(V||0===y||gi(y)===gi(ht))&&(y+=ht)}return y}}function jl(T,y){const S=T&&T.options.stacked;return S||void 0===S&&void 0!==y.stack}function tl(T,y,S){const D=T[y]||(T[y]={});return D[S]||(D[S]={})}function Xi(T,y,S,D){for(const R of y.getMatchingVisibleMetas(D).reverse()){const V=T[R.index];if(S&&V>0||!S&&V<0)return R.index}return null}function Ic(T,y){const{chart:S,_cachedMeta:D}=T,R=S._stacks||(S._stacks={}),{iScale:V,vScale:G,index:tt}=D,st=V.axis,ht=G.axis,Rt=`${V.id}.${G.id}.${(we=D).stack||we.type}`,Bt=y.length;var we;let Kt;for(let ce=0;ce<Bt;++ce){const xe=y[ce],{[st]:we,[ht]:Ee}=xe;Kt=(xe._stacks||(xe._stacks={}))[ht]=tl(R,Rt,we),Kt[tt]=Ee,Kt._top=Xi(Kt,G,!0,D.type),Kt._bottom=Xi(Kt,G,!1,D.type)}}function el(T,y){const S=T.scales;return Object.keys(S).filter(D=>S[D].axis===y).shift()}function nl(T,y){const S=T.controller.index,D=T.vScale&&T.vScale.axis;if(D){y=y||T._parsed;for(const R of y){const V=R._stacks;if(!V||void 0===V[D]||void 0===V[D][S])return;delete V[D][S]}}}const da=T=>"reset"===T||"none"===T,xh=(T,y)=>y?T:Object.assign({},T);class Lo{constructor(y,S){this.chart=y,this._ctx=y.ctx,this.index=S,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.$context=void 0,this._syncList=[],this.initialize()}initialize(){const y=this._cachedMeta;this.configure(),this.linkScales(),y._stacked=jl(y.vScale,y),this.addElements()}updateIndex(y){this.index!==y&&nl(this._cachedMeta),this.index=y}linkScales(){const y=this.chart,S=this._cachedMeta,D=this.getDataset(),R=(Bt,Kt,ce,xe)=>"x"===Bt?Kt:"r"===Bt?xe:ce,V=S.xAxisID=hi(D.xAxisID,el(y,"x")),G=S.yAxisID=hi(D.yAxisID,el(y,"y")),tt=S.rAxisID=hi(D.rAxisID,el(y,"r")),st=S.indexAxis,ht=S.iAxisID=R(st,V,G,tt),Rt=S.vAxisID=R(st,G,V,tt);S.xScale=this.getScaleForId(V),S.yScale=this.getScaleForId(G),S.rScale=this.getScaleForId(tt),S.iScale=this.getScaleForId(ht),S.vScale=this.getScaleForId(Rt)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(y){return this.chart.scales[y]}_getOtherScale(y){const S=this._cachedMeta;return y===S.iScale?S.vScale:S.iScale}reset(){this._update("reset")}_destroy(){const y=this._cachedMeta;this._data&&rn(this._data,this),y._stacked&&nl(y)}_dataCheck(){const y=this.getDataset(),S=y.data||(y.data=[]),D=this._data;if($e(S))this._data=function(R){const V=Object.keys(R),G=new Array(V.length);let tt,st,ht;for(tt=0,st=V.length;tt<st;++tt)ht=V[tt],G[tt]={x:ht,y:R[ht]};return G}(S);else if(D!==S){if(D){rn(D,this);const R=this._cachedMeta;nl(R),R._parsed=[]}S&&Object.isExtensible(S)&&kn(S,this),this._syncList=[],this._data=S}}addElements(){const y=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(y.dataset=new this.datasetElementType)}buildOrUpdateElements(y){const S=this._cachedMeta,D=this.getDataset();let R=!1;this._dataCheck();const V=S._stacked;S._stacked=jl(S.vScale,S),S.stack!==D.stack&&(R=!0,nl(S),S.stack=D.stack),this._resyncElements(y),(R||V!==S._stacked)&&Ic(this,S._parsed)}configure(){const y=this.chart.config,S=y.datasetScopeKeys(this._type),D=y.getOptionScopes(this.getDataset(),S,!0);this.options=y.createResolver(D,this.getContext()),this._parsing=this.options.parsing}parse(y,S){const{_cachedMeta:D,_data:R}=this,{iScale:V,_stacked:G}=D,tt=V.axis;let st,ht,Rt,Bt=0===y&&S===R.length||D._sorted,Kt=y>0&&D._parsed[y-1];if(!1===this._parsing)D._parsed=R,D._sorted=!0,Rt=R;else{Rt=hn(R[y])?this.parseArrayData(D,R,y,S):$e(R[y])?this.parseObjectData(D,R,y,S):this.parsePrimitiveData(D,R,y,S);const ce=()=>null===ht[tt]||Kt&&ht[tt]<Kt[tt];for(st=0;st<S;++st)D._parsed[st+y]=ht=Rt[st],Bt&&(ce()&&(Bt=!1),Kt=ht);D._sorted=Bt}G&&Ic(this,Rt)}parsePrimitiveData(y,S,D,R){const{iScale:V,vScale:G}=y,tt=V.axis,st=G.axis,ht=V.getLabels(),Rt=V===G,Bt=new Array(R);let Kt,ce,xe;for(Kt=0,ce=R;Kt<ce;++Kt)xe=Kt+D,Bt[Kt]={[tt]:Rt||V.parse(ht[xe],xe),[st]:G.parse(S[xe],xe)};return Bt}parseArrayData(y,S,D,R){const{xScale:V,yScale:G}=y,tt=new Array(R);let st,ht,Rt,Bt;for(st=0,ht=R;st<ht;++st)Rt=st+D,Bt=S[Rt],tt[st]={x:V.parse(Bt[0],Rt),y:G.parse(Bt[1],Rt)};return tt}parseObjectData(y,S,D,R){const{xScale:V,yScale:G}=y,{xAxisKey:tt="x",yAxisKey:st="y"}=this._parsing,ht=new Array(R);let Rt,Bt,Kt,ce;for(Rt=0,Bt=R;Rt<Bt;++Rt)Kt=Rt+D,ce=S[Kt],ht[Rt]={x:V.parse(nr(ce,tt),Kt),y:G.parse(nr(ce,st),Kt)};return ht}getParsed(y){return this._cachedMeta._parsed[y]}getDataElement(y){return this._cachedMeta.data[y]}applyStack(y,S,D){const V=this._cachedMeta,G=S[y.axis];return Ls({keys:Wl(this.chart,!0),values:S._stacks[y.axis]},G,V.index,{mode:D})}updateRangeFromParsed(y,S,D,R){const V=D[S.axis];let G=null===V?NaN:V;const tt=R&&D._stacks[S.axis];R&&tt&&(R.values=tt,G=Ls(R,V,this._cachedMeta.index)),y.min=Math.min(y.min,G),y.max=Math.max(y.max,G)}getMinMax(y,S){const D=this._cachedMeta,R=D._parsed,V=D._sorted&&y===D.iScale,G=R.length,tt=this._getOtherScale(y),st=((we,Ee,He)=>we&&!Ee.hidden&&Ee._stacked&&{keys:Wl(this.chart,!0),values:null})(S,D),ht={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:Rt,max:Bt}=function(we){const{min:Ee,max:He,minDefined:en,maxDefined:un}=we.getUserBounds();return{min:en?Ee:Number.NEGATIVE_INFINITY,max:un?He:Number.POSITIVE_INFINITY}}(tt);let Kt,ce;function xe(){ce=R[Kt];const we=ce[tt.axis];return!ti(ce[y.axis])||Rt>we||Bt<we}for(Kt=0;Kt<G&&(xe()||(this.updateRangeFromParsed(ht,y,ce,st),!V));++Kt);if(V)for(Kt=G-1;Kt>=0;--Kt)if(!xe()){this.updateRangeFromParsed(ht,y,ce,st);break}return ht}getAllParsedValues(y){const S=this._cachedMeta._parsed,D=[];let R,V,G;for(R=0,V=S.length;R<V;++R)G=S[R][y.axis],ti(G)&&D.push(G);return D}getMaxOverflow(){return!1}getLabelAndValue(y){const S=this._cachedMeta,D=S.iScale,R=S.vScale,V=this.getParsed(y);return{label:D?""+D.getLabelForValue(V[D.axis]):"",value:R?""+R.getLabelForValue(V[R.axis]):""}}_update(y){const S=this._cachedMeta;this.configure(),this._cachedDataOpts={},this.update(y||"default"),S._clip=function(D){let R,V,G,tt;return $e(D)?(R=D.top,V=D.right,G=D.bottom,tt=D.left):R=V=G=tt=D,{top:R,right:V,bottom:G,left:tt,disabled:!1===D}}(hi(this.options.clip,function(D,R,V){if(!1===V)return!1;const G=Va(D,V),tt=Va(R,V);return{top:tt.end,right:G.end,bottom:tt.start,left:G.start}}(S.xScale,S.yScale,this.getMaxOverflow())))}update(y){}draw(){const y=this._ctx,D=this._cachedMeta,R=D.data||[],V=this.chart.chartArea,G=[],tt=this._drawStart||0,st=this._drawCount||R.length-tt;let ht;for(D.dataset&&D.dataset.draw(y,V,tt,st),ht=tt;ht<tt+st;++ht){const Rt=R[ht];Rt.hidden||(Rt.active?G.push(Rt):Rt.draw(y,V))}for(ht=0;ht<G.length;++ht)G[ht].draw(y,V)}getStyle(y,S){const D=S?"active":"default";return void 0===y&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(D):this.resolveDataElementOptions(y||0,D)}getContext(y,S,D){const R=this.getDataset();let V;if(y>=0&&y<this._cachedMeta.data.length){const G=this._cachedMeta.data[y];V=G.$context||(G.$context=Ma(this.getContext(),{active:!1,dataIndex:st=y,parsed:void 0,raw:void 0,element:G,index:st,mode:"default",type:"data"})),V.parsed=this.getParsed(y),V.raw=R.data[y],V.index=V.dataIndex=y}else V=this.$context||(this.$context=Ma(this.chart.getContext(),{active:!1,dataset:void 0,datasetIndex:tt=this.index,index:tt,mode:"default",type:"dataset"})),V.dataset=R,V.index=V.datasetIndex=this.index;var tt,st;return V.active=!!S,V.mode=D,V}resolveDatasetElementOptions(y){return this._resolveElementOptions(this.datasetElementType.id,y)}resolveDataElementOptions(y,S){return this._resolveElementOptions(this.dataElementType.id,S,y)}_resolveElementOptions(y,S="default",D){const R="active"===S,V=this._cachedDataOpts,G=y+"-"+S,tt=V[G],st=this.enableOptionSharing&&Io(D);if(tt)return xh(tt,st);const ht=this.chart.config,Rt=ht.datasetElementScopeKeys(this._type,y),Bt=R?[`${y}Hover`,"hover",y,""]:[y,""],Kt=ht.getOptionScopes(this.getDataset(),Rt),ce=Object.keys(ge.elements[y]),xe=ht.resolveNamedOptions(Kt,ce,()=>this.getContext(D,R),Bt);return xe.$shared&&(xe.$shared=st,V[G]=Object.freeze(xh(xe,st))),xe}_resolveAnimations(y,S,D){const R=this.chart,V=this._cachedDataOpts,G=`animation-${S}`,tt=V[G];if(tt)return tt;let st;if(!1!==R.options.animation){const Rt=this.chart.config,Bt=Rt.datasetAnimationScopeKeys(this._type,S),Kt=Rt.getOptionScopes(this.getDataset(),Bt);st=Rt.createResolver(Kt,this.getContext(y,D,S))}const ht=new Js(R,st&&st.animations);return st&&st._cacheable&&(V[G]=Object.freeze(ht)),ht}getSharedOptions(y){if(y.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},y))}includeOptions(y,S){return!S||da(y)||this.chart._animationsDisabled}updateElement(y,S,D,R){da(R)?Object.assign(y,D):this._resolveAnimations(S,R).update(y,D)}updateSharedOptions(y,S,D){y&&!da(S)&&this._resolveAnimations(void 0,S).update(y,D)}_setStyle(y,S,D,R){y.active=R;const V=this.getStyle(S,R);this._resolveAnimations(S,D,R).update(y,{options:!R&&this.getSharedOptions(V)||V})}removeHoverStyle(y,S,D){this._setStyle(y,D,"active",!1)}setHoverStyle(y,S,D){this._setStyle(y,D,"active",!0)}_removeDatasetHoverStyle(){const y=this._cachedMeta.dataset;y&&this._setStyle(y,void 0,"active",!1)}_setDatasetHoverStyle(){const y=this._cachedMeta.dataset;y&&this._setStyle(y,void 0,"active",!0)}_resyncElements(y){const S=this._data,D=this._cachedMeta.data;for(const[tt,st,ht]of this._syncList)this[tt](st,ht);this._syncList=[];const R=D.length,V=S.length,G=Math.min(V,R);G&&this.parse(0,G),V>R?this._insertElements(R,V-R,y):V<R&&this._removeElements(V,R-V)}_insertElements(y,S,D=!0){const R=this._cachedMeta,V=R.data,G=y+S;let tt;const st=ht=>{for(ht.length+=S,tt=ht.length-1;tt>=G;tt--)ht[tt]=ht[tt-S]};for(st(V),tt=y;tt<G;++tt)V[tt]=new this.dataElementType;this._parsing&&st(R._parsed),this.parse(y,S),D&&this.updateElements(V,y,S,"reset")}updateElements(y,S,D,R){}_removeElements(y,S){const D=this._cachedMeta;if(this._parsing){const R=D._parsed.splice(y,S);D._stacked&&nl(D,R)}D.data.splice(y,S)}_sync(y){if(this._parsing)this._syncList.push(y);else{const[S,D,R]=y;this[S](D,R)}}_onDataPush(){const y=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-y,y])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(y,S){this._sync(["_removeElements",y,S]),this._sync(["_insertElements",y,arguments.length-2])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Lo.defaults={},Lo.prototype.datasetElementType=null,Lo.prototype.dataElementType=null;class Co{constructor(){this.x=void 0,this.y=void 0,this.active=!1,this.options=void 0,this.$animations=void 0}tooltipPosition(y){const{x:S,y:D}=this.getProps(["x","y"],y);return{x:S,y:D}}hasValue(){return Na(this.x)&&Na(this.y)}getProps(y,S){const D=this.$animations;if(!S||!D)return this;const R={};return y.forEach(V=>{R[V]=D[V]&&D[V].active()?D[V]._to:this[V]}),R}}Co.defaults={},Co.defaultRoutes=void 0;const bu={values:T=>hn(T)?T:""+T,numeric(T,y,S){if(0===T)return"0";const D=this.chart.options.locale;let R,V=T;if(S.length>1){const ht=Math.max(Math.abs(S[0].value),Math.abs(S[S.length-1].value));(ht<1e-4||ht>1e15)&&(R="scientific"),V=function(Rt,Bt){let Kt=Bt.length>3?Bt[2].value-Bt[1].value:Bt[1].value-Bt[0].value;return Math.abs(Kt)>=1&&Rt!==Math.floor(Rt)&&(Kt=Rt-Math.floor(Rt)),Kt}(T,S)}const G=Vo(Math.abs(V)),tt=Math.max(Math.min(-1*Math.floor(G),20),0),st={notation:R,minimumFractionDigits:tt,maximumFractionDigits:tt};return Object.assign(st,this.options.ticks.format),yu(T,D,st)},logarithmic(T,y,S){if(0===T)return"0";const D=T/Math.pow(10,Math.floor(Vo(T)));return 1===D||2===D||5===D?bu.numeric.call(this,T,y,S):""}};var no={formatters:bu};function Yl(T,y,S,D,R){const V=hi(D,0),G=Math.min(hi(R,T.length),T.length);let tt,st,ht,Rt=0;for(S=Math.ceil(S),R&&(tt=R-D,S=tt/Math.floor(tt/S)),ht=V;ht<0;)Rt++,ht=Math.round(V+Rt*S);for(st=Math.max(V,0);st<G;st++)st===ht&&(y.push(T[st]),Rt++,ht=Math.round(V+Rt*S))}ge.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(T,y)=>y.lineWidth,tickColor:(T,y)=>y.color,offset:!1,borderDash:[],borderDashOffset:0,borderWidth:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:no.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),ge.route("scale.ticks","color","","color"),ge.route("scale.grid","color","","borderColor"),ge.route("scale.grid","borderColor","","borderColor"),ge.route("scale.title","color","","color"),ge.describe("scale",{_fallback:!1,_scriptable:T=>!T.startsWith("before")&&!T.startsWith("after")&&"callback"!==T&&"parser"!==T,_indexable:T=>"borderDash"!==T&&"tickBorderDash"!==T}),ge.describe("scales",{_fallback:"scale"}),ge.describe("scale.ticks",{_scriptable:T=>"backdropPadding"!==T&&"callback"!==T,_indexable:T=>"backdropPadding"!==T});const Jr=(T,y,S)=>"top"===y||"left"===y?T[y]+S:T[y]-S;function il(T,y){const S=[],D=T.length/y,R=T.length;let V=0;for(;V<R;V+=D)S.push(T[Math.floor(V)]);return S}function Xl(T,y,S){const D=T.ticks.length,R=Math.min(y,D-1),V=T._startPixel,G=T._endPixel;let st,ht=T.getPixelForTick(R);if(!(S&&(st=1===D?Math.max(ht-V,G-ht):0===y?(T.getPixelForTick(1)-ht)/2:(ht-T.getPixelForTick(R-1))/2,ht+=R<y?st:-st,ht<V-1e-6||ht>G+1e-6)))return ht}function Ia(T){return T.drawTicks?T.tickLength:0}function wl(T,y){if(!T.display)return 0;const S=lo(T.font,y),D=Yr(T.padding);return(hn(T.text)?T.text.length:1)*S.lineHeight+D.height}function Gl(T,y,S){let D=ee(T);return(S&&"right"!==y||!S&&"right"===y)&&(D="left"===(R=D)?"right":"right"===R?"left":R),D;var R}class Da extends Co{constructor(y){super(),this.id=y.id,this.type=y.type,this.options=void 0,this.ctx=y.ctx,this.chart=y.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(y){this.options=y.setContext(this.getContext()),this.axis=y.axis,this._userMin=this.parse(y.min),this._userMax=this.parse(y.max),this._suggestedMin=this.parse(y.suggestedMin),this._suggestedMax=this.parse(y.suggestedMax)}parse(y,S){return y}getUserBounds(){let{_userMin:y,_userMax:S,_suggestedMin:D,_suggestedMax:R}=this;return y=ui(y,Number.POSITIVE_INFINITY),S=ui(S,Number.NEGATIVE_INFINITY),D=ui(D,Number.POSITIVE_INFINITY),R=ui(R,Number.NEGATIVE_INFINITY),{min:ui(y,D),max:ui(S,R),minDefined:ti(y),maxDefined:ti(S)}}getMinMax(y){let S,{min:D,max:R,minDefined:V,maxDefined:G}=this.getUserBounds();if(V&&G)return{min:D,max:R};const tt=this.getMatchingVisibleMetas();for(let st=0,ht=tt.length;st<ht;++st)S=tt[st].controller.getMinMax(this,y),V||(D=Math.min(D,S.min)),G||(R=Math.max(R,S.max));return D=G&&D>R?R:D,R=V&&D>R?D:R,{min:ui(D,ui(R,D)),max:ui(R,ui(D,R))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const y=this.chart.data;return this.options.labels||(this.isHorizontal()?y.xLabels:y.yLabels)||y.labels||[]}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){dn(this.options.beforeUpdate,[this])}update(y,S,D){const{beginAtZero:R,grace:V,ticks:G}=this.options,tt=G.sampleSize;this.beforeUpdate(),this.maxWidth=y,this.maxHeight=S,this._margins=D=Object.assign({left:0,right:0,top:0,bottom:0},D),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+D.left+D.right:this.height+D.top+D.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=_c(this,V,R),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const st=tt<this.ticks.length;this._convertTicksToLabels(st?il(this.ticks,tt):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),G.display&&(G.autoSkip||"auto"===G.source)&&(this.ticks=function(T,y){const S=T.options.ticks,D=S.maxTicksLimit||function(Rt){const Bt=Rt.options.offset,Kt=Rt._tickSize();return Math.floor(Math.min(Rt._length/Kt+(Bt?0:1),Rt._maxLength/Kt))}(T),R=S.major.enabled?function(Rt){const Bt=[];let Kt,ce;for(Kt=0,ce=Rt.length;Kt<ce;Kt++)Rt[Kt].major&&Bt.push(Kt);return Bt}(y):[],V=R.length,G=R[0],tt=R[V-1],st=[];if(V>D)return function(Rt,Bt,Kt,ce){let xe,we=0,Ee=Kt[0];for(ce=Math.ceil(ce),xe=0;xe<Rt.length;xe++)xe===Ee&&(Bt.push(Rt[xe]),we++,Ee=Kt[we*ce])}(y,st,R,V/D),st;const ht=function(Rt,Bt,Kt){const ce=function(Ee){const He=Ee.length;let en,un;if(He<2)return!1;for(un=Ee[0],en=1;en<He;++en)if(Ee[en]-Ee[en-1]!==un)return!1;return un}(Rt),xe=Bt.length/Kt;if(!ce)return Math.max(xe,1);const we=Oa(ce);for(let Ee=0,He=we.length-1;Ee<He;Ee++){const en=we[Ee];if(en>xe)return en}return Math.max(xe,1)}(R,y,D);if(V>0){let Rt,Bt;const Kt=V>1?Math.round((tt-G)/(V-1)):null;for(Yl(y,st,ht,sn(Kt)?0:G-Kt,G),Rt=0,Bt=V-1;Rt<Bt;Rt++)Yl(y,st,ht,R[Rt],R[Rt+1]);return Yl(y,st,ht,tt,sn(Kt)?y.length:tt+Kt),st}return Yl(y,st,ht),st}(this,this.ticks),this._labelSizes=null),st&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let y,S,D=this.options.reverse;this.isHorizontal()?(y=this.left,S=this.right):(y=this.top,S=this.bottom,D=!D),this._startPixel=y,this._endPixel=S,this._reversePixels=D,this._length=S-y,this._alignToPixels=this.options.alignToPixels}afterUpdate(){dn(this.options.afterUpdate,[this])}beforeSetDimensions(){dn(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){dn(this.options.afterSetDimensions,[this])}_callHooks(y){this.chart.notifyPlugins(y,this.getContext()),dn(this.options[y],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){dn(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(y){const S=this.options.ticks;let D,R,V;for(D=0,R=y.length;D<R;D++)V=y[D],V.label=dn(S.callback,[V.value,D,y],this)}afterTickToLabelConversion(){dn(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){dn(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const y=this.options,S=y.ticks,D=this.ticks.length,R=S.minRotation||0,V=S.maxRotation;let G,tt,st,ht=R;if(!this._isVisible()||!S.display||R>=V||D<=1||!this.isHorizontal())return void(this.labelRotation=R);const Rt=this._getLabelSizes(),Bt=Rt.widest.width,Kt=Rt.highest.height,ce=_(this.chart.width-Bt,0,this.maxWidth);G=y.offset?this.maxWidth/D:ce/(D-1),Bt+6>G&&(G=ce/(D-(y.offset?.5:1)),tt=this.maxHeight-Ia(y.grid)-S.padding-wl(y.title,this.chart.options.font),st=Math.sqrt(Bt*Bt+Kt*Kt),ht=Dr(Math.min(Math.asin(_((Rt.highest.height+6)/G,-1,1)),Math.asin(_(tt/st,-1,1))-Math.asin(_(Kt/st,-1,1)))),ht=Math.max(R,Math.min(V,ht))),this.labelRotation=ht}afterCalculateLabelRotation(){dn(this.options.afterCalculateLabelRotation,[this])}beforeFit(){dn(this.options.beforeFit,[this])}fit(){const y={width:0,height:0},{chart:S,options:{ticks:D,title:R,grid:V}}=this,G=this._isVisible(),tt=this.isHorizontal();if(G){const st=wl(R,S.options.font);if(tt?(y.width=this.maxWidth,y.height=Ia(V)+st):(y.height=this.maxHeight,y.width=Ia(V)+st),D.display&&this.ticks.length){const{first:ht,last:Rt,widest:Bt,highest:Kt}=this._getLabelSizes(),ce=2*D.padding,xe=Ho(this.labelRotation),we=Math.cos(xe),Ee=Math.sin(xe);tt?y.height=Math.min(this.maxHeight,y.height+(D.mirror?0:Ee*Bt.width+we*Kt.height)+ce):y.width=Math.min(this.maxWidth,y.width+(D.mirror?0:we*Bt.width+Ee*Kt.height)+ce),this._calculatePadding(ht,Rt,Ee,we)}}this._handleMargins(),tt?(this.width=this._length=S.width-this._margins.left-this._margins.right,this.height=y.height):(this.width=y.width,this.height=this._length=S.height-this._margins.top-this._margins.bottom)}_calculatePadding(y,S,D,R){const{ticks:{align:V,padding:G},position:tt}=this.options,st=0!==this.labelRotation,ht="top"!==tt&&"x"===this.axis;if(this.isHorizontal()){const Rt=this.getPixelForTick(0)-this.left,Bt=this.right-this.getPixelForTick(this.ticks.length-1);let Kt=0,ce=0;st?ht?(Kt=R*y.width,ce=D*S.height):(Kt=D*y.height,ce=R*S.width):"start"===V?ce=S.width:"end"===V?Kt=y.width:(Kt=y.width/2,ce=S.width/2),this.paddingLeft=Math.max((Kt-Rt+G)*this.width/(this.width-Rt),0),this.paddingRight=Math.max((ce-Bt+G)*this.width/(this.width-Bt),0)}else{let Rt=S.height/2,Bt=y.height/2;"start"===V?(Rt=0,Bt=y.height):"end"===V&&(Rt=S.height,Bt=0),this.paddingTop=Rt+G,this.paddingBottom=Bt+G}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){dn(this.options.afterFit,[this])}isHorizontal(){const{axis:y,position:S}=this.options;return"top"===S||"bottom"===S||"x"===y}isFullSize(){return this.options.fullSize}_convertTicksToLabels(y){let S,D;for(this.beforeTickToLabelConversion(),this.generateTickLabels(y),S=0,D=y.length;S<D;S++)sn(y[S].label)&&(y.splice(S,1),D--,S--);this.afterTickToLabelConversion()}_getLabelSizes(){let y=this._labelSizes;if(!y){const S=this.options.ticks.sampleSize;let D=this.ticks;S<D.length&&(D=il(D,S)),this._labelSizes=y=this._computeLabelSizes(D,D.length)}return y}_computeLabelSizes(y,S){const{ctx:D,_longestTextCache:R}=this,V=[],G=[];let tt,st,ht,Rt,Bt,Kt,ce,xe,we,Ee,He,en=0,un=0;for(tt=0;tt<S;++tt){if(Rt=y[tt].label,Bt=this._resolveTickFontOptions(tt),D.font=Kt=Bt.string,ce=R[Kt]=R[Kt]||{data:{},gc:[]},xe=Bt.lineHeight,we=Ee=0,sn(Rt)||hn(Rt)){if(hn(Rt))for(st=0,ht=Rt.length;st<ht;++st)He=Rt[st],sn(He)||hn(He)||(we=E(D,ce.data,ce.gc,we,He),Ee+=xe)}else we=E(D,ce.data,ce.gc,we,Rt),Ee=xe;V.push(we),G.push(Ee),en=Math.max(we,en),un=Math.max(Ee,un)}var Si;Si=S,fn(R,Ei=>{const ci=Ei.gc,wi=ci.length/2;let Ii;if(wi>Si){for(Ii=0;Ii<wi;++Ii)delete Ei.data[ci[Ii]];ci.splice(0,wi)}});const yn=V.indexOf(en),Fn=G.indexOf(un),Qn=ni=>({width:V[ni]||0,height:G[ni]||0});return{first:Qn(0),last:Qn(S-1),widest:Qn(yn),highest:Qn(Fn),widths:V,heights:G}}getLabelForValue(y){return y}getPixelForValue(y,S){return NaN}getValueForPixel(y){}getPixelForTick(y){const S=this.ticks;return y<0||y>S.length-1?null:this.getPixelForValue(S[y].value)}getPixelForDecimal(y){this._reversePixels&&(y=1-y);const S=this._startPixel+y*this._length;return A(this._alignToPixels?W(this.chart,S,0):S)}getDecimalForPixel(y){const S=(y-this._startPixel)/this._length;return this._reversePixels?1-S:S}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:y,max:S}=this;return y<0&&S<0?S:y>0&&S>0?y:0}getContext(y){const S=this.ticks||[];if(y>=0&&y<S.length){const D=S[y];return D.$context||(D.$context=Ma(this.getContext(),{tick:D,index:y,type:"tick"}))}return this.$context||(this.$context=Ma(this.chart.getContext(),{scale:this,type:"scale"}))}_tickSize(){const y=this.options.ticks,S=Ho(this.labelRotation),D=Math.abs(Math.cos(S)),R=Math.abs(Math.sin(S)),V=this._getLabelSizes(),G=y.autoSkipPadding||0,tt=V?V.widest.width+G:0,st=V?V.highest.height+G:0;return this.isHorizontal()?st*D>tt*R?tt/D:st/R:st*R<tt*D?st/D:tt/R}_isVisible(){const y=this.options.display;return"auto"!==y?!!y:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(y){const S=this.axis,D=this.chart,R=this.options,{grid:V,position:G}=R,tt=V.offset,st=this.isHorizontal(),ht=this.ticks.length+(tt?1:0),Rt=Ia(V),Bt=[],Kt=V.setContext(this.getContext()),ce=Kt.drawBorder?Kt.borderWidth:0,xe=ce/2,we=function(Jn){return W(D,Jn,ce)};let Ee,He,en,un,yn,Fn,Qn,ni,Si,Ei,ci,wi;if("top"===G)Ee=we(this.bottom),Fn=this.bottom-Rt,ni=Ee-xe,Ei=we(y.top)+xe,wi=y.bottom;else if("bottom"===G)Ee=we(this.top),Ei=y.top,wi=we(y.bottom)-xe,Fn=Ee+xe,ni=this.top+Rt;else if("left"===G)Ee=we(this.right),yn=this.right-Rt,Qn=Ee-xe,Si=we(y.left)+xe,ci=y.right;else if("right"===G)Ee=we(this.left),Si=y.left,ci=we(y.right)-xe,yn=Ee+xe,Qn=this.left+Rt;else if("x"===S){if("center"===G)Ee=we((y.top+y.bottom)/2+.5);else if($e(G)){const Jn=Object.keys(G)[0];Ee=we(this.chart.scales[Jn].getPixelForValue(G[Jn]))}Ei=y.top,wi=y.bottom,Fn=Ee+xe,ni=Fn+Rt}else if("y"===S){if("center"===G)Ee=we((y.left+y.right)/2);else if($e(G)){const Jn=Object.keys(G)[0];Ee=we(this.chart.scales[Jn].getPixelForValue(G[Jn]))}yn=Ee-xe,Qn=yn-Rt,Si=y.left,ci=y.right}const Ii=hi(R.ticks.maxTicksLimit,ht),bi=Math.max(1,Math.ceil(ht/Ii));for(He=0;He<ht;He+=bi){const Jn=V.setContext(this.getContext(He)),Ln=Jn.lineWidth,Zr=Jn.color,Ro=V.borderDash||[],yo=Jn.borderDashOffset,fa=Jn.tickWidth,sr=Jn.tickColor,Xa=Jn.tickBorderDash||[],zi=Jn.tickBorderDashOffset;en=Xl(this,He,tt),void 0!==en&&(un=W(D,en,Ln),st?yn=Qn=Si=ci=un:Fn=ni=Ei=wi=un,Bt.push({tx1:yn,ty1:Fn,tx2:Qn,ty2:ni,x1:Si,y1:Ei,x2:ci,y2:wi,width:Ln,color:Zr,borderDash:Ro,borderDashOffset:yo,tickWidth:fa,tickColor:sr,tickBorderDash:Xa,tickBorderDashOffset:zi}))}return this._ticksLength=ht,this._borderValue=Ee,Bt}_computeLabelItems(y){const S=this.axis,D=this.options,{position:R,ticks:V}=D,G=this.isHorizontal(),tt=this.ticks,{align:st,crossAlign:ht,padding:Rt,mirror:Bt}=V,Kt=Ia(D.grid),ce=Kt+Rt,xe=Bt?-Rt:ce,we=-Ho(this.labelRotation),Ee=[];let He,en,un,yn,Fn,Qn,ni,Si,Ei,ci,wi,Ii,bi="middle";if("top"===R)Qn=this.bottom-xe,ni=this._getXAxisLabelAlignment();else if("bottom"===R)Qn=this.top+xe,ni=this._getXAxisLabelAlignment();else if("left"===R){const Ln=this._getYAxisLabelAlignment(Kt);ni=Ln.textAlign,Fn=Ln.x}else if("right"===R){const Ln=this._getYAxisLabelAlignment(Kt);ni=Ln.textAlign,Fn=Ln.x}else if("x"===S){if("center"===R)Qn=(y.top+y.bottom)/2+ce;else if($e(R)){const Ln=Object.keys(R)[0];Qn=this.chart.scales[Ln].getPixelForValue(R[Ln])+ce}ni=this._getXAxisLabelAlignment()}else if("y"===S){if("center"===R)Fn=(y.left+y.right)/2-ce;else if($e(R)){const Ln=Object.keys(R)[0];Fn=this.chart.scales[Ln].getPixelForValue(R[Ln])}ni=this._getYAxisLabelAlignment(Kt).textAlign}"y"===S&&("start"===st?bi="top":"end"===st&&(bi="bottom"));const Jn=this._getLabelSizes();for(He=0,en=tt.length;He<en;++He){un=tt[He],yn=un.label;const Ln=V.setContext(this.getContext(He));Si=this.getPixelForTick(He)+V.labelOffset,Ei=this._resolveTickFontOptions(He),ci=Ei.lineHeight,wi=hn(yn)?yn.length:1;const Zr=wi/2,Ro=Ln.color,yo=Ln.textStrokeColor,fa=Ln.textStrokeWidth;let sr;if(G?(Fn=Si,Ii="top"===R?"near"===ht||0!==we?-wi*ci+ci/2:"center"===ht?-Jn.highest.height/2-Zr*ci+ci:ci/2-Jn.highest.height:"near"===ht||0!==we?ci/2:"center"===ht?Jn.highest.height/2-Zr*ci:Jn.highest.height-wi*ci,Bt&&(Ii*=-1)):(Qn=Si,Ii=(1-wi)*ci/2),Ln.showLabelBackdrop){const Xa=Yr(Ln.backdropPadding),zi=Jn.heights[He],ac=Jn.widths[He];let ia=Qn+Ii-Xa.top,pa=Fn-Xa.left;switch(bi){case"middle":ia-=zi/2;break;case"bottom":ia-=zi}switch(ni){case"center":pa-=ac/2;break;case"right":pa-=ac}sr={left:pa,top:ia,width:ac+Xa.width,height:zi+Xa.height,color:Ln.backdropColor}}Ee.push({rotation:we,label:yn,font:Ei,color:Ro,strokeColor:yo,strokeWidth:fa,textOffset:Ii,textAlign:ni,textBaseline:bi,translation:[Fn,Qn],backdrop:sr})}return Ee}_getXAxisLabelAlignment(){const{position:y,ticks:S}=this.options;if(-Ho(this.labelRotation))return"top"===y?"left":"right";let D="center";return"start"===S.align?D="left":"end"===S.align&&(D="right"),D}_getYAxisLabelAlignment(y){const{position:S,ticks:{crossAlign:D,mirror:R,padding:V}}=this.options,G=y+V,tt=this._getLabelSizes().widest.width;let st,ht;return"left"===S?R?(ht=this.right+V,"near"===D?st="left":"center"===D?(st="center",ht+=tt/2):(st="right",ht+=tt)):(ht=this.right-G,"near"===D?st="right":"center"===D?(st="center",ht-=tt/2):(st="left",ht=this.left)):"right"===S?R?(ht=this.left+V,"near"===D?st="right":"center"===D?(st="center",ht-=tt/2):(st="left",ht-=tt)):(ht=this.left+G,"near"===D?st="left":"center"===D?(st="center",ht+=tt/2):(st="right",ht=this.right)):st="right",{textAlign:st,x:ht}}_computeLabelArea(){if(this.options.ticks.mirror)return;const y=this.chart,S=this.options.position;return"left"===S||"right"===S?{top:0,left:this.left,bottom:y.height,right:this.right}:"top"===S||"bottom"===S?{top:this.top,left:0,bottom:this.bottom,right:y.width}:void 0}drawBackground(){const{ctx:y,options:{backgroundColor:S},left:D,top:R,width:V,height:G}=this;S&&(y.save(),y.fillStyle=S,y.fillRect(D,R,V,G),y.restore())}getLineWidthForValue(y){const S=this.options.grid;if(!this._isVisible()||!S.display)return 0;const D=this.ticks.findIndex(R=>R.value===y);return D>=0?S.setContext(this.getContext(D)).lineWidth:0}drawGrid(y){const S=this.options.grid,D=this.ctx,R=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(y));let V,G;const tt=(st,ht,Rt)=>{Rt.width&&Rt.color&&(D.save(),D.lineWidth=Rt.width,D.strokeStyle=Rt.color,D.setLineDash(Rt.borderDash||[]),D.lineDashOffset=Rt.borderDashOffset,D.beginPath(),D.moveTo(st.x,st.y),D.lineTo(ht.x,ht.y),D.stroke(),D.restore())};if(S.display)for(V=0,G=R.length;V<G;++V){const st=R[V];S.drawOnChartArea&&tt({x:st.x1,y:st.y1},{x:st.x2,y:st.y2},st),S.drawTicks&&tt({x:st.tx1,y:st.ty1},{x:st.tx2,y:st.ty2},{color:st.tickColor,width:st.tickWidth,borderDash:st.tickBorderDash,borderDashOffset:st.tickBorderDashOffset})}}drawBorder(){const{chart:y,ctx:S,options:{grid:D}}=this,R=D.setContext(this.getContext()),V=D.drawBorder?R.borderWidth:0;if(!V)return;const G=D.setContext(this.getContext(0)).lineWidth,tt=this._borderValue;let st,ht,Rt,Bt;this.isHorizontal()?(st=W(y,this.left,V)-V/2,ht=W(y,this.right,G)+G/2,Rt=Bt=tt):(Rt=W(y,this.top,V)-V/2,Bt=W(y,this.bottom,G)+G/2,st=ht=tt),S.save(),S.lineWidth=R.borderWidth,S.strokeStyle=R.borderColor,S.beginPath(),S.moveTo(st,Rt),S.lineTo(ht,Bt),S.stroke(),S.restore()}drawLabels(y){if(!this.options.ticks.display)return;const S=this.ctx,D=this._computeLabelArea();D&&yt(S,D);const R=this._labelItems||(this._labelItems=this._computeLabelItems(y));let V,G;for(V=0,G=R.length;V<G;++V){const tt=R[V],st=tt.font,ht=tt.label;tt.backdrop&&(S.fillStyle=tt.backdrop.color,S.fillRect(tt.backdrop.left,tt.backdrop.top,tt.backdrop.width,tt.backdrop.height)),le(S,ht,0,tt.textOffset,st,tt)}D&&Vt(S)}drawTitle(){const{ctx:y,options:{position:S,title:D,reverse:R}}=this;if(!D.display)return;const V=lo(D.font),G=Yr(D.padding),tt=D.align;let st=V.lineHeight/2;"bottom"===S||"center"===S||$e(S)?(st+=G.bottom,hn(D.text)&&(st+=V.lineHeight*(D.text.length-1))):st+=G.top;const{titleX:ht,titleY:Rt,maxWidth:Bt,rotation:Kt}=function(ce,xe,we,Ee){const{top:He,left:en,bottom:un,right:yn,chart:Fn}=ce,{chartArea:Qn,scales:ni}=Fn;let Si,Ei,ci,wi=0;const Ii=un-He,bi=yn-en;if(ce.isHorizontal()){if(Ei=Oe(Ee,en,yn),$e(we)){const Jn=Object.keys(we)[0];ci=ni[Jn].getPixelForValue(we[Jn])+Ii-xe}else ci="center"===we?(Qn.bottom+Qn.top)/2+Ii-xe:Jr(ce,we,xe);Si=yn-en}else{if($e(we)){const Jn=Object.keys(we)[0];Ei=ni[Jn].getPixelForValue(we[Jn])-bi+xe}else Ei="center"===we?(Qn.left+Qn.right)/2-bi+xe:Jr(ce,we,xe);ci=Oe(Ee,un,He),wi="left"===we?-Lr:Lr}return{titleX:Ei,titleY:ci,maxWidth:Si,rotation:wi}}(this,st,S,tt);le(y,D.text,0,0,V,{color:D.color,maxWidth:Bt,rotation:Kt,textAlign:Gl(tt,S,R),textBaseline:"middle",translation:[ht,Rt]})}draw(y){this._isVisible()&&(this.drawBackground(),this.drawGrid(y),this.drawBorder(),this.drawTitle(),this.drawLabels(y))}_layers(){const y=this.options,S=y.ticks&&y.ticks.z||0,D=hi(y.grid&&y.grid.z,-1);return this._isVisible()&&this.draw===Da.prototype.draw?[{z:D,draw:R=>{this.drawBackground(),this.drawGrid(R),this.drawTitle()}},{z:D+1,draw:()=>{this.drawBorder()}},{z:S,draw:R=>{this.drawLabels(R)}}]:[{z:S,draw:R=>{this.draw(R)}}]}getMatchingVisibleMetas(y){const S=this.chart.getSortedVisibleDatasetMetas(),D=this.axis+"AxisID",R=[];let V,G;for(V=0,G=S.length;V<G;++V){const tt=S[V];tt[D]!==this.id||y&&tt.type!==y||R.push(tt)}return R}_resolveTickFontOptions(y){return lo(this.options.ticks.setContext(this.getContext(y)).font)}_maxDigits(){const y=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/y}}class ko{constructor(y,S,D){this.type=y,this.scope=S,this.override=D,this.items=Object.create(null)}isForType(y){return Object.prototype.isPrototypeOf.call(this.type.prototype,y.prototype)}register(y){const S=Object.getPrototypeOf(y);let D;var tt;"id"in(tt=S)&&"defaults"in tt&&(D=this.register(S));const R=this.items,V=y.id,G=this.scope+"."+V;if(!V)throw new Error("class does not have id: "+y);return V in R||(R[V]=y,function(tt,st,ht){const Rt=Oi(Object.create(null),[ht?ge.get(ht):{},ge.get(st),tt.defaults]);var Bt,Kt;ge.set(st,Rt),tt.defaultRoutes&&(Bt=st,Kt=tt.defaultRoutes,Object.keys(Kt).forEach(ce=>{const xe=ce.split("."),we=xe.pop(),Ee=[Bt].concat(xe).join("."),He=Kt[ce].split("."),en=He.pop(),un=He.join(".");ge.route(Ee,we,un,en)})),tt.descriptors&&ge.describe(st,tt.descriptors)}(y,G,D),this.override&&ge.override(y.id,y.overrides)),G}get(y){return this.items[y]}unregister(y){const S=this.items,D=y.id,R=this.scope;D in S&&delete S[D],R&&D in ge[R]&&(delete ge[R][D],this.override&&delete Fo[D])}}var ue=new class{constructor(){this.controllers=new ko(Lo,"datasets",!0),this.elements=new ko(Co,"elements"),this.plugins=new ko(Object,"plugins"),this.scales=new ko(Da,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...T){this._each("register",T)}remove(...T){this._each("unregister",T)}addControllers(...T){this._each("register",T,this.controllers)}addElements(...T){this._each("register",T,this.elements)}addPlugins(...T){this._each("register",T,this.plugins)}addScales(...T){this._each("register",T,this.scales)}getController(T){return this._get(T,this.controllers,"controller")}getElement(T){return this._get(T,this.elements,"element")}getPlugin(T){return this._get(T,this.plugins,"plugin")}getScale(T){return this._get(T,this.scales,"scale")}removeControllers(...T){this._each("unregister",T,this.controllers)}removeElements(...T){this._each("unregister",T,this.elements)}removePlugins(...T){this._each("unregister",T,this.plugins)}removeScales(...T){this._each("unregister",T,this.scales)}_each(T,y,S){[...y].forEach(D=>{const R=S||this._getRegistryForType(D);S||R.isForType(D)||R===this.plugins&&D.id?this._exec(T,R,D):fn(D,V=>{const G=S||this._getRegistryForType(V);this._exec(T,G,V)})})}_exec(T,y,S){const D=qr(T);dn(S["before"+D],[],S),y[T](S),dn(S["after"+D],[],S)}_getRegistryForType(T){for(let y=0;y<this._typedRegistries.length;y++){const S=this._typedRegistries[y];if(S.isForType(T))return S}return this.plugins}_get(T,y,S){const D=y.get(T);if(void 0===D)throw new Error('"'+T+'" is not a registered '+S+".");return D}};class nt{constructor(){this._init=[]}notify(y,S,D,R){"beforeInit"===S&&(this._init=this._createDescriptors(y,!0),this._notify(this._init,y,"install"));const V=R?this._descriptors(y).filter(R):this._descriptors(y),G=this._notify(V,y,S,D);return"destroy"===S&&(this._notify(V,y,"stop"),this._notify(this._init,y,"uninstall")),G}_notify(y,S,D,R){R=R||{};for(const V of y){const G=V.plugin;if(!1===dn(G[D],[S,R,V.options],G)&&R.cancelable)return!1}return!0}invalidate(){sn(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(y){if(this._cache)return this._cache;const S=this._cache=this._createDescriptors(y);return this._notifyStateChanges(y),S}_createDescriptors(y,S){const D=y&&y.config,R=hi(D.options&&D.options.plugins,{}),V=function(G){const tt=[],st=Object.keys(ue.plugins.items);for(let Rt=0;Rt<st.length;Rt++)tt.push(ue.getPlugin(st[Rt]));const ht=G.plugins||[];for(let Rt=0;Rt<ht.length;Rt++){const Bt=ht[Rt];-1===tt.indexOf(Bt)&&tt.push(Bt)}return tt}(D);return!1!==R||S?function(G,tt,st,ht){const Rt=[],Bt=G.getContext();for(let Kt=0;Kt<tt.length;Kt++){const ce=tt[Kt],xe=bt(st[ce.id],ht);null!==xe&&Rt.push({plugin:ce,options:Me(G.config,ce,xe,Bt)})}return Rt}(y,V,R,S):[]}_notifyStateChanges(y){const S=this._oldCache||[],D=this._cache,R=(V,G)=>V.filter(tt=>!G.some(st=>tt.plugin.id===st.plugin.id));this._notify(R(S,D),y,"stop"),this._notify(R(D,S),y,"start")}}function bt(T,y){return y||!1!==T?!0===T?{}:T:null}function Me(T,y,S,D){const R=T.pluginScopeKeys(y),V=T.getOptionScopes(S,R);return T.createResolver(V,D,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function We(T,y){return((y.datasets||{})[T]||{}).indexAxis||y.indexAxis||(ge.datasets[T]||{}).indexAxis||"x"}function Je(T,y){return"x"===T||"y"===T?T:y.axis||("top"===(S=y.position)||"bottom"===S?"x":"left"===S||"right"===S?"y":void 0)||T.charAt(0).toLowerCase();var S}function wn(T){const y=T.options||(T.options={});y.plugins=hi(y.plugins,{}),y.scales=function(S,D){const R=Fo[S.type]||{scales:{}},V=D.scales||{},G=We(S.type,D),tt=Object.create(null),st=Object.create(null);return Object.keys(V).forEach(ht=>{const Rt=V[ht];if(!$e(Rt))return console.error(`Invalid scale configuration for scale: ${ht}`);if(Rt._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${ht}`);const Bt=Je(ht,Rt),Kt=Bt===G?"_index_":"_value_",ce=R.scales||{};tt[Bt]=tt[Bt]||ht,st[ht]=Ni(Object.create(null),[{axis:Bt},Rt,ce[Bt],ce[Kt]])}),S.data.datasets.forEach(ht=>{const Rt=ht.type||S.type,Bt=ht.indexAxis||We(Rt,D),Kt=(Fo[Rt]||{}).scales||{};Object.keys(Kt).forEach(ce=>{const xe=function(Ee,He){let en=Ee;return"_index_"===Ee?en=He:"_value_"===Ee&&(en="x"===He?"y":"x"),en}(ce,Bt),we=ht[xe+"AxisID"]||tt[xe]||xe;st[we]=st[we]||Object.create(null),Ni(st[we],[{axis:xe},V[we],Kt[ce]])})}),Object.keys(st).forEach(ht=>{const Rt=st[ht];Ni(Rt,[ge.scales[Rt.type],ge.scale])}),st}(T,y)}function Wn(T){return(T=T||{}).datasets=T.datasets||[],T.labels=T.labels||[],T}const si=new Map,li=new Set;function yi(T,y){let S=si.get(T);return S||(S=y(),si.set(T,S),li.add(S)),S}const Bn=(T,y,S)=>{const D=nr(y,S);void 0!==D&&T.add(D)};class In{constructor(y){var S;this._config=((S=(S=y)||{}).data=Wn(S.data),wn(S),S),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(y){this._config.type=y}get data(){return this._config.data}set data(y){this._config.data=Wn(y)}get options(){return this._config.options}set options(y){this._config.options=y}get plugins(){return this._config.plugins}update(){const y=this._config;this.clearCache(),wn(y)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(y){return yi(y,()=>[[`datasets.${y}`,""]])}datasetAnimationScopeKeys(y,S){return yi(`${y}.transition.${S}`,()=>[[`datasets.${y}.transitions.${S}`,`transitions.${S}`],[`datasets.${y}`,""]])}datasetElementScopeKeys(y,S){return yi(`${y}-${S}`,()=>[[`datasets.${y}.elements.${S}`,`datasets.${y}`,`elements.${S}`,""]])}pluginScopeKeys(y){const S=y.id;return yi(`${this.type}-plugin-${S}`,()=>[[`plugins.${S}`,...y.additionalOptionScopes||[]]])}_cachedScopes(y,S){const D=this._scopeCache;let R=D.get(y);return R&&!S||(R=new Map,D.set(y,R)),R}getOptionScopes(y,S,D){const{options:R,type:V}=this,G=this._cachedScopes(y,D),tt=G.get(S);if(tt)return tt;const st=new Set;S.forEach(Rt=>{y&&(st.add(y),Rt.forEach(Bt=>Bn(st,y,Bt))),Rt.forEach(Bt=>Bn(st,R,Bt)),Rt.forEach(Bt=>Bn(st,Fo[V]||{},Bt)),Rt.forEach(Bt=>Bn(st,ge,Bt)),Rt.forEach(Bt=>Bn(st,ei,Bt))});const ht=Array.from(st);return 0===ht.length&&ht.push(Object.create(null)),li.has(S)&&G.set(S,ht),ht}chartOptionScopes(){const{options:y,type:S}=this;return[y,Fo[S]||{},ge.datasets[S]||{},{type:S},ge,ei]}resolveNamedOptions(y,S,D,R=[""]){const V={$shared:!0},{resolver:G,subPrefixes:tt}=xi(this._resolverCache,y,R);let st=G;(function(ht,Rt){const{isScriptable:Bt,isIndexable:Kt}=Ba(ht);for(const ce of Rt){const xe=Bt(ce),we=Kt(ce),Ee=(we||xe)&&ht[ce];if(xe&&(ii(Ee)||Li(Ee))||we&&hn(Ee))return!0}return!1})(G,S)&&(V.$shared=!1,st=is(G,D=ii(D)?D():D,this.createResolver(y,D,tt)));for(const ht of S)V[ht]=st[ht];return V}createResolver(y,S,D=[""],R){const{resolver:V}=xi(this._resolverCache,y,D);return $e(S)?is(V,S,void 0,R):V}}function xi(T,y,S){let D=T.get(y);D||(D=new Map,T.set(y,D));const R=S.join();let V=D.get(R);return V||(V={resolver:yl(y,S),subPrefixes:S.filter(G=>!G.toLowerCase().includes("hover"))},D.set(R,V)),V}const Li=T=>$e(T)&&Object.getOwnPropertyNames(T).reduce((y,S)=>y||ii(T[S]),!1),Hi=["top","bottom","left","right","chartArea"];function Ti(T,y){return"top"===T||"bottom"===T||-1===Hi.indexOf(T)&&"x"===y}function Pr(T,y){return function(S,D){return S[T]===D[T]?S[y]-D[y]:S[T]-D[T]}}function or(T){const y=T.chart,S=y.options.animation;y.notifyPlugins("afterRender"),dn(S&&S.onComplete,[T],y)}function cr(T){const y=T.chart,S=y.options.animation;dn(S&&S.onProgress,[T],y)}function _r(T){return zn()&&"string"==typeof T?T=document.getElementById(T):T&&T.length&&(T=T[0]),T&&T.canvas&&(T=T.canvas),T}const hr={},gr=T=>{const y=_r(T);return Object.values(hr).filter(S=>S.canvas===y).pop()};class qi{constructor(y,S){const D=this.config=new In(S),R=_r(y),V=gr(R);if(V)throw new Error("Canvas is already in use. Chart with ID '"+V.id+"' must be destroyed before the canvas can be reused.");const G=D.createResolver(D.chartOptionScopes(),this.getContext());this.platform=new(D.platform||Hl(R)),this.platform.updateConfig(D);const tt=this.platform.acquireContext(R,G.aspectRatio),st=tt&&tt.canvas,ht=st&&st.height,Rt=st&&st.width;this.id=Ke(),this.ctx=tt,this.canvas=st,this.width=Rt,this.height=ht,this._options=G,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new nt,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Tt(Bt=>this.update(Bt),G.resizeDelay||0),hr[this.id]=this,tt&&st?(Wt.listen(this,"complete",or),Wt.listen(this,"progress",cr),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:y,maintainAspectRatio:S},width:D,height:R,_aspectRatio:V}=this;return sn(y)?S&&V?V:R?D/R:null:y}get data(){return this.config.data}set data(y){this.config.data=y}get options(){return this._options}set options(y){this.config.options=y}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():gu(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return K(this.canvas,this.ctx),this}stop(){return Wt.stop(this),this}resize(y,S){Wt.running(this)?this._resizeBeforeDraw={width:y,height:S}:this._resize(y,S)}_resize(y,S){const D=this.options,G=this.platform.getMaximumSize(this.canvas,y,S,D.maintainAspectRatio&&this.aspectRatio),tt=D.devicePixelRatio||this.platform.getDevicePixelRatio(),st=this.width?"resize":"attach";this.width=G.width,this.height=G.height,this._aspectRatio=this.aspectRatio,gu(this,tt,!0)&&(this.notifyPlugins("resize",{size:G}),dn(D.onResize,[this,G],this),this.attached&&this._doResize(st)&&this.render())}ensureScalesHaveIDs(){fn(this.options.scales||{},(y,S)=>{y.id=S})}buildOrUpdateScales(){const y=this.options,S=y.scales,D=this.scales,R=Object.keys(D).reduce((G,tt)=>(G[tt]=!1,G),{});let V=[];S&&(V=V.concat(Object.keys(S).map(G=>{const tt=S[G],st=Je(G,tt),ht="r"===st,Rt="x"===st;return{options:tt,dposition:ht?"chartArea":Rt?"bottom":"left",dtype:ht?"radialLinear":Rt?"category":"linear"}}))),fn(V,G=>{const tt=G.options,st=tt.id,ht=Je(st,tt),Rt=hi(tt.type,G.dtype);void 0!==tt.position&&Ti(tt.position,ht)===Ti(G.dposition)||(tt.position=G.dposition),R[st]=!0;let Bt=null;st in D&&D[st].type===Rt?Bt=D[st]:(Bt=new(ue.getScale(Rt))({id:st,type:Rt,ctx:this.ctx,chart:this}),D[Bt.id]=Bt),Bt.init(tt,y)}),fn(R,(G,tt)=>{G||delete D[tt]}),fn(D,G=>{jo.configure(this,G,G.options),jo.addBox(this,G)})}_updateMetasets(){const y=this._metasets,S=this.data.datasets.length,D=y.length;if(y.sort((R,V)=>R.index-V.index),D>S){for(let R=S;R<D;++R)this._destroyDatasetMeta(R);y.splice(S,D-S)}this._sortedMetasets=y.slice(0).sort(Pr("order","index"))}_removeUnreferencedMetasets(){const{_metasets:y,data:{datasets:S}}=this;y.length>S.length&&delete this._stacks,y.forEach((D,R)=>{0===S.filter(V=>V===D._dataset).length&&this._destroyDatasetMeta(R)})}buildOrUpdateControllers(){const y=[],S=this.data.datasets;let D,R;for(this._removeUnreferencedMetasets(),D=0,R=S.length;D<R;D++){const V=S[D];let G=this.getDatasetMeta(D);const tt=V.type||this.config.type;if(G.type&&G.type!==tt&&(this._destroyDatasetMeta(D),G=this.getDatasetMeta(D)),G.type=tt,G.indexAxis=V.indexAxis||We(tt,this.options),G.order=V.order||0,G.index=D,G.label=""+V.label,G.visible=this.isDatasetVisible(D),G.controller)G.controller.updateIndex(D),G.controller.linkScales();else{const st=ue.getController(tt),{datasetElementType:ht,dataElementType:Rt}=ge.datasets[tt];Object.assign(st.prototype,{dataElementType:ue.getElement(Rt),datasetElementType:ht&&ue.getElement(ht)}),G.controller=new st(this,D),y.push(G.controller)}}return this._updateMetasets(),y}_resetElements(){fn(this.data.datasets,(y,S)=>{this.getDatasetMeta(S).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(y){const S=this.config;S.update();const D=this._options=S.createResolver(S.chartOptionScopes(),this.getContext());fn(this.scales,ht=>{jo.removeBox(this,ht)});const R=this._animationsDisabled=!D.animation;this.ensureScalesHaveIDs(),this.buildOrUpdateScales();const V=new Set(Object.keys(this._listeners)),G=new Set(D.events);if(Bl(V,G)&&!!this._responsiveListeners===D.responsive||(this.unbindEvents(),this.bindEvents()),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:y,cancelable:!0}))return;const tt=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let st=0;for(let ht=0,Rt=this.data.datasets.length;ht<Rt;ht++){const{controller:Bt}=this.getDatasetMeta(ht),Kt=!R&&-1===tt.indexOf(Bt);Bt.buildOrUpdateElements(Kt),st=Math.max(+Bt.getMaxOverflow(),st)}st=this._minPadding=D.layout.autoPadding?st:0,this._updateLayout(st),R||fn(tt,ht=>{ht.reset()}),this._updateDatasets(y),this.notifyPlugins("afterUpdate",{mode:y}),this._layers.sort(Pr("z","_idx")),this._lastEvent&&this._eventHandler(this._lastEvent,!0),this.render()}_updateLayout(y){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;jo.update(this,this.width,this.height,y);const S=this.chartArea,D=S.width<=0||S.height<=0;this._layers=[],fn(this.boxes,R=>{D&&"chartArea"===R.position||(R.configure&&R.configure(),this._layers.push(...R._layers()))},this),this._layers.forEach((R,V)=>{R._idx=V}),this.notifyPlugins("afterLayout")}_updateDatasets(y){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:y,cancelable:!0})){for(let S=0,D=this.data.datasets.length;S<D;++S)this._updateDataset(S,ii(y)?y({datasetIndex:S}):y);this.notifyPlugins("afterDatasetsUpdate",{mode:y})}}_updateDataset(y,S){const D=this.getDatasetMeta(y),R={meta:D,index:y,mode:S,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",R)&&(D.controller._update(S),R.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",R))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(Wt.has(this)?this.attached&&!Wt.running(this)&&Wt.start(this):(this.draw(),or({chart:this})))}draw(){let y;if(this._resizeBeforeDraw){const{width:D,height:R}=this._resizeBeforeDraw;this._resize(D,R),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const S=this._layers;for(y=0;y<S.length&&S[y].z<=0;++y)S[y].draw(this.chartArea);for(this._drawDatasets();y<S.length;++y)S[y].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(y){const S=this._sortedMetasets,D=[];let R,V;for(R=0,V=S.length;R<V;++R){const G=S[R];y&&!G.visible||D.push(G)}return D}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const y=this.getSortedVisibleDatasetMetas();for(let S=y.length-1;S>=0;--S)this._drawDataset(y[S]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(y){const S=this.ctx,D=y._clip,R=!D.disabled,V=this.chartArea,G={meta:y,index:y.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",G)&&(R&&yt(S,{left:!1===D.left?0:V.left-D.left,right:!1===D.right?this.width:V.right+D.right,top:!1===D.top?0:V.top-D.top,bottom:!1===D.bottom?this.height:V.bottom+D.bottom}),y.controller.draw(),R&&Vt(S),G.cancelable=!1,this.notifyPlugins("afterDatasetDraw",G))}getElementsAtEventForMode(y,S,D,R){const V=dh.modes[S];return"function"==typeof V?V(this,y,D,R):[]}getDatasetMeta(y){const S=this.data.datasets[y],D=this._metasets;let R=D.filter(V=>V&&V._dataset===S).pop();return R||(R={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:S&&S.order||0,index:y,_dataset:S,_parsed:[],_sorted:!1},D.push(R)),R}getContext(){return this.$context||(this.$context=Ma(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(y){const S=this.data.datasets[y];if(!S)return!1;const D=this.getDatasetMeta(y);return"boolean"==typeof D.hidden?!D.hidden:!S.hidden}setDatasetVisibility(y,S){this.getDatasetMeta(y).hidden=!S}toggleDataVisibility(y){this._hiddenIndices[y]=!this._hiddenIndices[y]}getDataVisibility(y){return!this._hiddenIndices[y]}_updateVisibility(y,S,D){const R=D?"show":"hide",V=this.getDatasetMeta(y),G=V.controller._resolveAnimations(void 0,R);Io(S)?(V.data[S].hidden=!D,this.update()):(this.setDatasetVisibility(y,D),G.update(V,{visible:D}),this.update(tt=>tt.datasetIndex===y?R:void 0))}hide(y,S){this._updateVisibility(y,S,!1)}show(y,S){this._updateVisibility(y,S,!0)}_destroyDatasetMeta(y){const S=this._metasets[y];S&&S.controller&&S.controller._destroy(),delete this._metasets[y]}_stop(){let y,S;for(this.stop(),Wt.remove(this),y=0,S=this.data.datasets.length;y<S;++y)this._destroyDatasetMeta(y)}destroy(){const{canvas:y,ctx:S}=this;this._stop(),this.config.clearCache(),y&&(this.unbindEvents(),K(y,S),this.platform.releaseContext(S),this.canvas=null,this.ctx=null),this.notifyPlugins("destroy"),delete hr[this.id]}toBase64Image(...y){return this.canvas.toDataURL(...y)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const y=this._listeners,S=this.platform,D=(V,G)=>{S.addEventListener(this,V,G),y[V]=G},R=(V,G,tt)=>{V.offsetX=G,V.offsetY=tt,this._eventHandler(V)};fn(this.options.events,V=>D(V,R))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const y=this._responsiveListeners,S=this.platform,D=(st,ht)=>{S.addEventListener(this,st,ht),y[st]=ht},R=(st,ht)=>{y[st]&&(S.removeEventListener(this,st,ht),delete y[st])},V=(st,ht)=>{this.canvas&&this.resize(st,ht)};let G;const tt=()=>{R("attach",tt),this.attached=!0,this.resize(),D("resize",V),D("detach",G)};G=()=>{this.attached=!1,R("resize",V),this._stop(),this._resize(0,0),D("attach",tt)},S.isAttached(this.canvas)?tt():G()}unbindEvents(){fn(this._listeners,(y,S)=>{this.platform.removeEventListener(this,S,y)}),this._listeners={},fn(this._responsiveListeners,(y,S)=>{this.platform.removeEventListener(this,S,y)}),this._responsiveListeners=void 0}updateHoverStyle(y,S,D){const R=D?"set":"remove";let V,G,tt,st;for("dataset"===S&&(V=this.getDatasetMeta(y[0].datasetIndex),V.controller["_"+R+"DatasetHoverStyle"]()),tt=0,st=y.length;tt<st;++tt){G=y[tt];const ht=G&&this.getDatasetMeta(G.datasetIndex).controller;ht&&ht[R+"HoverStyle"](G.element,G.datasetIndex,G.index)}}getActiveElements(){return this._active||[]}setActiveElements(y){const S=this._active||[],D=y.map(({datasetIndex:R,index:V})=>{const G=this.getDatasetMeta(R);if(!G)throw new Error("No dataset found at index "+R);return{datasetIndex:R,element:G.data[V],index:V}});!On(D,S)&&(this._active=D,this._updateHoverStyles(D,S))}notifyPlugins(y,S,D){return this._plugins.notify(this,y,S,D)}_updateHoverStyles(y,S,D){const R=this.options.hover,V=(st,ht)=>st.filter(Rt=>!ht.some(Bt=>Rt.datasetIndex===Bt.datasetIndex&&Rt.index===Bt.index)),G=V(S,y),tt=D?y:V(y,S);G.length&&this.updateHoverStyle(G,R.mode,!1),tt.length&&R.mode&&this.updateHoverStyle(tt,R.mode,!0)}_eventHandler(y,S){const D={event:y,replay:S,cancelable:!0},R=G=>(G.options.events||this.options.events).includes(y.native.type);if(!1===this.notifyPlugins("beforeEvent",D,R))return;const V=this._handleEvent(y,S);return D.cancelable=!1,this.notifyPlugins("afterEvent",D,R),(V||D.changed)&&this.render(),this}_handleEvent(y,S){const{_active:D=[],options:R}=this,V=R.hover;let tt=[],st=!1,ht=null;return"mouseout"!==y.type&&(tt=this.getElementsAtEventForMode(y,V.mode,V,S),ht="click"===y.type?this._lastEvent:y),this._lastEvent=null,ct(y,this.chartArea,this._minPadding)&&(dn(R.onHover,[y,tt,this],this),"mouseup"!==y.type&&"click"!==y.type&&"contextmenu"!==y.type||dn(R.onClick,[y,tt,this],this)),st=!On(tt,D),(st||S)&&(this._active=tt,this._updateHoverStyles(tt,D,S)),this._lastEvent=ht,st}}const Ji=()=>fn(qi.instances,T=>T._plugins.invalidate()),wr=!0;function fo(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}Object.defineProperties(qi,{defaults:{enumerable:wr,value:ge},instances:{enumerable:wr,value:hr},overrides:{enumerable:wr,value:Fo},registry:{enumerable:wr,value:ue},version:{enumerable:wr,value:"3.6.0"},getChart:{enumerable:wr,value:gr},register:{enumerable:wr,value:(...T)=>{ue.add(...T),Ji()}},unregister:{enumerable:wr,value:(...T)=>{ue.remove(...T),Ji()}}});class $r{constructor(y){this.options=y||{}}formats(){return fo()}parse(y,S){return fo()}format(y,S){return fo()}add(y,S,D){return fo()}diff(y,S,D){return fo()}startOf(y,S,D){return fo()}endOf(y,S){return fo()}}$r.override=function(T){Object.assign($r.prototype,T)};var ba={_date:$r};function uo(T){const y=T.iScale,S=function(ht,Rt){if(!ht._cache.$bar){const Bt=ht.getMatchingVisibleMetas(Rt);let Kt=[];for(let ce=0,xe=Bt.length;ce<xe;ce++)Kt=Kt.concat(Bt[ce].controller.getAllParsedValues(ht));ht._cache.$bar=Kn(Kt.sort((ce,xe)=>ce-xe))}return ht._cache.$bar}(y,T.type);let D,R,V,G,tt=y._length;const st=()=>{32767!==V&&-32768!==V&&(Io(G)&&(tt=Math.min(tt,Math.abs(V-G)||tt)),G=V)};for(D=0,R=S.length;D<R;++D)V=y.getPixelForValue(S[D]),st();for(G=void 0,D=0,R=y.ticks.length;D<R;++D)V=y.getPixelForTick(D),st();return tt}function Po(T,y,S,D){return hn(T)?function(R,V,G,tt){const st=G.parse(R[0],tt),ht=G.parse(R[1],tt),Rt=Math.min(st,ht),Bt=Math.max(st,ht);let Kt=Rt,ce=Bt;Math.abs(Rt)>Math.abs(Bt)&&(Kt=Bt,ce=Rt),V[G.axis]=ce,V._custom={barStart:Kt,barEnd:ce,start:st,end:ht,min:Rt,max:Bt}}(T,y,S,D):y[S.axis]=S.parse(T,D),y}function Ps(T,y,S,D){const R=T.iScale,V=T.vScale,G=R.getLabels(),tt=R===V,st=[];let ht,Rt,Bt,Kt;for(ht=S,Rt=S+D;ht<Rt;++ht)Kt=y[ht],Bt={},Bt[R.axis]=tt||R.parse(G[ht],ht),st.push(Po(Kt,Bt,V,ht));return st}function Ha(T){return T&&void 0!==T.barStart&&void 0!==T.barEnd}function Yo(T,y,S,D){let R=y.borderSkipped;const V={};if(!R)return void(T.borderSkipped=V);const{start:G,end:tt,reverse:st,top:ht,bottom:Rt}=function(Bt){let Kt,ce,xe,we,Ee;return Bt.horizontal?(Kt=Bt.base>Bt.x,ce="left",xe="right"):(Kt=Bt.base<Bt.y,ce="bottom",xe="top"),Kt?(we="end",Ee="start"):(we="start",Ee="end"),{start:ce,end:xe,reverse:Kt,top:we,bottom:Ee}}(T);"middle"===R&&S&&(T.enableBorderRadius=!0,(S._top||0)===D?R=ht:(S._bottom||0)===D?R=Rt:(V[io(Rt,G,tt,st)]=!0,R=ht)),V[io(R,G,tt,st)]=!0,T.borderSkipped=V}function io(T,y,S,D){var R,V,G;return D?(G=S,T=Oo(T=(R=T)===(V=y)?G:R===G?V:R,S,y)):T=Oo(T,y,S),T}function Oo(T,y,S){return"start"===T?y:"end"===T?S:T}function Ai(T,{inflateAmount:y},S){T.inflateAmount="auto"===y?1===S?.33:0:y}class Ao extends Lo{parsePrimitiveData(y,S,D,R){return Ps(y,S,D,R)}parseArrayData(y,S,D,R){return Ps(y,S,D,R)}parseObjectData(y,S,D,R){const{iScale:V,vScale:G}=y,{xAxisKey:tt="x",yAxisKey:st="y"}=this._parsing,ht="x"===V.axis?tt:st,Rt="x"===G.axis?tt:st,Bt=[];let Kt,ce,xe,we;for(Kt=D,ce=D+R;Kt<ce;++Kt)we=S[Kt],xe={},xe[V.axis]=V.parse(nr(we,ht),Kt),Bt.push(Po(nr(we,Rt),xe,G,Kt));return Bt}updateRangeFromParsed(y,S,D,R){super.updateRangeFromParsed(y,S,D,R);const V=D._custom;V&&S===this._cachedMeta.vScale&&(y.min=Math.min(y.min,V.min),y.max=Math.max(y.max,V.max))}getMaxOverflow(){return 0}getLabelAndValue(y){const S=this._cachedMeta,{iScale:D,vScale:R}=S,V=this.getParsed(y),G=V._custom,tt=Ha(G)?"["+G.start+", "+G.end+"]":""+R.getLabelForValue(V[R.axis]);return{label:""+D.getLabelForValue(V[D.axis]),value:tt}}initialize(){this.enableOptionSharing=!0,super.initialize(),this._cachedMeta.stack=this.getDataset().stack}update(y){const S=this._cachedMeta;this.updateElements(S.data,0,S.data.length,y)}updateElements(y,S,D,R){const V="reset"===R,{index:G,_cachedMeta:{vScale:tt}}=this,st=tt.getBasePixel(),ht=tt.isHorizontal(),Rt=this._getRuler(),Bt=this.resolveDataElementOptions(S,R),Kt=this.getSharedOptions(Bt),ce=this.includeOptions(R,Kt);this.updateSharedOptions(Kt,R,Bt);for(let xe=S;xe<S+D;xe++){const we=this.getParsed(xe),Ee=V||sn(we[tt.axis])?{base:st,head:st}:this._calculateBarValuePixels(xe),He=this._calculateBarIndexPixels(xe,Rt),en=(we._stacks||{})[tt.axis],un={horizontal:ht,base:Ee.base,enableBorderRadius:!en||Ha(we._custom)||G===en._top||G===en._bottom,x:ht?Ee.head:He.center,y:ht?He.center:Ee.head,height:ht?He.size:Math.abs(Ee.size),width:ht?Math.abs(Ee.size):He.size};ce&&(un.options=Kt||this.resolveDataElementOptions(xe,y[xe].active?"active":R));const yn=un.options||y[xe].options;Yo(un,yn,en,G),Ai(un,yn,Rt.ratio),this.updateElement(y[xe],xe,un,R)}}_getStacks(y,S){const D=this._cachedMeta.iScale,R=D.getMatchingVisibleMetas(this._type),V=D.options.stacked,G=R.length,tt=[];let st,ht;for(st=0;st<G;++st)if(ht=R[st],ht.controller.options.grouped){if(void 0!==S){const Rt=ht.controller.getParsed(S)[ht.controller._cachedMeta.vScale.axis];if(sn(Rt)||isNaN(Rt))continue}if((!1===V||-1===tt.indexOf(ht.stack)||void 0===V&&void 0===ht.stack)&&tt.push(ht.stack),ht.index===y)break}return tt.length||tt.push(void 0),tt}_getStackCount(y){return this._getStacks(void 0,y).length}_getStackIndex(y,S,D){const R=this._getStacks(y,D),V=void 0!==S?R.indexOf(S):-1;return-1===V?R.length-1:V}_getRuler(){const y=this.options,S=this._cachedMeta,D=S.iScale,R=[];let V,G;for(V=0,G=S.data.length;V<G;++V)R.push(D.getPixelForValue(this.getParsed(V)[D.axis],V));const tt=y.barThickness;return{min:tt||uo(S),pixels:R,start:D._startPixel,end:D._endPixel,stackCount:this._getStackCount(),scale:D,grouped:y.grouped,ratio:tt?1:y.categoryPercentage*y.barPercentage}}_calculateBarValuePixels(y){const{_cachedMeta:{vScale:S,_stacked:D},options:{base:R,minBarLength:V}}=this,G=R||0,tt=this.getParsed(y),st=tt._custom,ht=Ha(st);let Rt,Bt,Kt=tt[S.axis],ce=0,xe=D?this.applyStack(S,tt,D):Kt;xe!==Kt&&(ce=xe-Kt,xe=Kt),ht&&(Kt=st.barStart,xe=st.barEnd-st.barStart,0!==Kt&&gi(Kt)!==gi(st.barEnd)&&(ce=0),ce+=Kt);const we=sn(R)||ht?ce:R;let Ee=S.getPixelForValue(we);if(Rt=this.chart.getDataVisibility(y)?S.getPixelForValue(ce+xe):Ee,Bt=Rt-Ee,Math.abs(Bt)<V&&(en=S,un=G,Bt=(0!==(He=Bt)?gi(He):(en.isHorizontal()?1:-1)*(en.min>=un?1:-1))*V,Kt===G&&(Ee-=Bt/2),Rt=Ee+Bt),Ee===S.getPixelForValue(G)){const He=gi(Bt)*S.getLineWidthForValue(G)/2;Ee+=He,Bt-=He}var He,en,un;return{size:Bt,base:Ee,head:Rt,center:Rt+Bt/2}}_calculateBarIndexPixels(y,S){const D=S.scale,R=this.options,V=R.skipNull,G=hi(R.maxBarThickness,1/0);let tt,st;if(S.grouped){const ht=V?this._getStackCount(y):S.stackCount,Rt="flex"===R.barThickness?function(Kt,ce,xe,we){const Ee=ce.pixels,He=Ee[Kt];let en=Kt>0?Ee[Kt-1]:null,un=Kt<Ee.length-1?Ee[Kt+1]:null;const yn=xe.categoryPercentage;null===en&&(en=He-(null===un?ce.end-ce.start:un-He)),null===un&&(un=He+He-en);const Fn=He-(He-Math.min(en,un))/2*yn;return{chunk:Math.abs(un-en)/2*yn/we,ratio:xe.barPercentage,start:Fn}}(y,S,R,ht):function(Kt,ce,xe,we){const Ee=xe.barThickness;let He,en;return sn(Ee)?(He=ce.min*xe.categoryPercentage,en=xe.barPercentage):(He=Ee*we,en=1),{chunk:He/we,ratio:en,start:ce.pixels[Kt]-He/2}}(y,S,R,ht),Bt=this._getStackIndex(this.index,this._cachedMeta.stack,V?y:void 0);tt=Rt.start+Rt.chunk*Bt+Rt.chunk/2,st=Math.min(G,Rt.chunk*Rt.ratio)}else tt=D.getPixelForValue(this.getParsed(y)[D.axis],y),st=Math.min(G,S.min*S.ratio);return{base:tt-st/2,head:tt+st/2,center:tt,size:st}}draw(){const y=this._cachedMeta,S=y.vScale,D=y.data,R=D.length;let V=0;for(;V<R;++V)null!==this.getParsed(V)[S.axis]&&D[V].draw(this._ctx)}}Ao.id="bar",Ao.defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}},Ao.overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};class mo extends Lo{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(y,S,D,R){const V=super.parsePrimitiveData(y,S,D,R);for(let G=0;G<V.length;G++)V[G]._custom=this.resolveDataElementOptions(G+D).radius;return V}parseArrayData(y,S,D,R){const V=super.parseArrayData(y,S,D,R);for(let G=0;G<V.length;G++)V[G]._custom=hi(S[D+G][2],this.resolveDataElementOptions(G+D).radius);return V}parseObjectData(y,S,D,R){const V=super.parseObjectData(y,S,D,R);for(let G=0;G<V.length;G++){const tt=S[D+G];V[G]._custom=hi(tt&&tt.r&&+tt.r,this.resolveDataElementOptions(G+D).radius)}return V}getMaxOverflow(){const y=this._cachedMeta.data;let S=0;for(let D=y.length-1;D>=0;--D)S=Math.max(S,y[D].size(this.resolveDataElementOptions(D))/2);return S>0&&S}getLabelAndValue(y){const S=this._cachedMeta,{xScale:D,yScale:R}=S,V=this.getParsed(y),G=D.getLabelForValue(V.x),tt=R.getLabelForValue(V.y),st=V._custom;return{label:S.label,value:"("+G+", "+tt+(st?", "+st:"")+")"}}update(y){const S=this._cachedMeta.data;this.updateElements(S,0,S.length,y)}updateElements(y,S,D,R){const V="reset"===R,{iScale:G,vScale:tt}=this._cachedMeta,st=this.resolveDataElementOptions(S,R),ht=this.getSharedOptions(st),Rt=this.includeOptions(R,ht),Bt=G.axis,Kt=tt.axis;for(let ce=S;ce<S+D;ce++){const xe=y[ce],we=!V&&this.getParsed(ce),Ee={},He=Ee[Bt]=V?G.getPixelForDecimal(.5):G.getPixelForValue(we[Bt]),en=Ee[Kt]=V?tt.getBasePixel():tt.getPixelForValue(we[Kt]);Ee.skip=isNaN(He)||isNaN(en),Rt&&(Ee.options=this.resolveDataElementOptions(ce,xe.active?"active":R),V&&(Ee.options.radius=0)),this.updateElement(xe,ce,Ee,R)}this.updateSharedOptions(ht,R,st)}resolveDataElementOptions(y,S){const D=this.getParsed(y);let R=super.resolveDataElementOptions(y,S);R.$shared&&(R=Object.assign({},R,{$shared:!1}));const V=R.radius;return"active"!==S&&(R.radius=0),R.radius+=hi(D&&D._custom,V),R}}mo.id="bubble",mo.defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}},mo.overrides={scales:{x:{type:"linear"},y:{type:"linear"}},plugins:{tooltip:{callbacks:{title:()=>""}}}};class mr extends Lo{constructor(y,S){super(y,S),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(y,S){const D=this.getDataset().data,R=this._cachedMeta;if(!1===this._parsing)R._parsed=D;else{let V,G,tt=st=>+D[st];if($e(D[y])){const{key:st="value"}=this._parsing;tt=ht=>+nr(D[ht],st)}for(V=y,G=y+S;V<G;++V)R._parsed[V]=tt(V)}}_getRotation(){return Ho(this.options.rotation-90)}_getCircumference(){return Ho(this.options.circumference)}_getRotationExtents(){let y=ir,S=-ir;for(let D=0;D<this.chart.data.datasets.length;++D)if(this.chart.isDatasetVisible(D)){const R=this.chart.getDatasetMeta(D).controller,V=R._getRotation(),G=R._getCircumference();y=Math.min(y,V),S=Math.max(S,V+G)}return{rotation:y,circumference:S-y}}update(y){const S=this.chart,{chartArea:D}=S,R=this._cachedMeta,V=R.data,G=this.getMaxBorderWidth()+this.getMaxOffset(V)+this.options.spacing,tt=Math.max((Math.min(D.width,D.height)-G)/2,0),st=Math.min(ur(this.options.cutout,tt),1),ht=this._getRingWeight(this.index),{circumference:Rt,rotation:Bt}=this._getRotationExtents(),{ratioX:Kt,ratioY:ce,offsetX:xe,offsetY:we}=function(Fn,Qn,ni){let Si=1,Ei=1,ci=0,wi=0;if(Qn<ir){const Ii=Fn,bi=Ii+Qn,Jn=Math.cos(Ii),Ln=Math.sin(Ii),Zr=Math.cos(bi),Ro=Math.sin(bi),yo=(ia,pa,ra)=>v(ia,Ii,bi,!0)?1:Math.max(pa,pa*ni,ra,ra*ni),fa=(ia,pa,ra)=>v(ia,Ii,bi,!0)?-1:Math.min(pa,pa*ni,ra,ra*ni),sr=yo(0,Jn,Zr),Xa=yo(Lr,Ln,Ro),zi=fa(Vi,Jn,Zr),ac=fa(Vi+Lr,Ln,Ro);Si=(sr-zi)/2,Ei=(Xa-ac)/2,ci=-(sr+zi)/2,wi=-(Xa+ac)/2}return{ratioX:Si,ratioY:Ei,offsetX:ci,offsetY:wi}}(Bt,Rt,st),en=Math.max(Math.min((D.width-G)/Kt,(D.height-G)/ce)/2,0),un=Zi(this.options.radius,en),yn=(un-Math.max(un*st,0))/this._getVisibleDatasetWeightTotal();this.offsetX=xe*un,this.offsetY=we*un,R.total=this.calculateTotal(),this.outerRadius=un-yn*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-yn*ht,0),this.updateElements(V,0,V.length,y)}_circumference(y,S){const D=this.options,R=this._cachedMeta,V=this._getCircumference();return S&&D.animation.animateRotate||!this.chart.getDataVisibility(y)||null===R._parsed[y]||R.data[y].hidden?0:this.calculateCircumference(R._parsed[y]*V/ir)}updateElements(y,S,D,R){const V="reset"===R,G=this.chart,tt=G.chartArea,ht=(tt.left+tt.right)/2,Rt=(tt.top+tt.bottom)/2,Bt=V&&G.options.animation.animateScale,Kt=Bt?0:this.innerRadius,ce=Bt?0:this.outerRadius,xe=this.resolveDataElementOptions(S,R),we=this.getSharedOptions(xe),Ee=this.includeOptions(R,we);let He,en=this._getRotation();for(He=0;He<S;++He)en+=this._circumference(He,V);for(He=S;He<S+D;++He){const un=this._circumference(He,V),yn=y[He],Fn={x:ht+this.offsetX,y:Rt+this.offsetY,startAngle:en,endAngle:en+un,circumference:un,outerRadius:ce,innerRadius:Kt};Ee&&(Fn.options=we||this.resolveDataElementOptions(He,yn.active?"active":R)),en+=un,this.updateElement(yn,He,Fn,R)}this.updateSharedOptions(we,R,xe)}calculateTotal(){const y=this._cachedMeta,S=y.data;let D,R=0;for(D=0;D<S.length;D++){const V=y._parsed[D];null===V||isNaN(V)||!this.chart.getDataVisibility(D)||S[D].hidden||(R+=Math.abs(V))}return R}calculateCircumference(y){const S=this._cachedMeta.total;return S>0&&!isNaN(y)?ir*(Math.abs(y)/S):0}getLabelAndValue(y){const D=this.chart,R=D.data.labels||[],V=yu(this._cachedMeta._parsed[y],D.options.locale);return{label:R[y]||"",value:V}}getMaxBorderWidth(y){let S=0;const D=this.chart;let R,V,G,tt,st;if(!y)for(R=0,V=D.data.datasets.length;R<V;++R)if(D.isDatasetVisible(R)){G=D.getDatasetMeta(R),y=G.data,tt=G.controller,tt!==this&&tt.configure();break}if(!y)return 0;for(R=0,V=y.length;R<V;++R)st=tt.resolveDataElementOptions(R),"inner"!==st.borderAlign&&(S=Math.max(S,st.borderWidth||0,st.hoverBorderWidth||0));return S}getMaxOffset(y){let S=0;for(let D=0,R=y.length;D<R;++D){const V=this.resolveDataElementOptions(D);S=Math.max(S,V.offset||0,V.hoverOffset||0)}return S}_getRingWeightOffset(y){let S=0;for(let D=0;D<y;++D)this.chart.isDatasetVisible(D)&&(S+=this._getRingWeight(D));return S}_getRingWeight(y){return Math.max(hi(this.chart.data.datasets[y].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}mr.id="doughnut",mr.defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"},mr.descriptors={_scriptable:T=>"spacing"!==T,_indexable:T=>"spacing"!==T},mr.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(T){const y=T.data;if(y.labels.length&&y.datasets.length){const{labels:{pointStyle:S}}=T.legend.options;return y.labels.map((D,R)=>{const V=T.getDatasetMeta(0).controller.getStyle(R);return{text:D,fillStyle:V.backgroundColor,strokeStyle:V.borderColor,lineWidth:V.borderWidth,pointStyle:S,hidden:!T.getDataVisibility(R),index:R}})}return[]}},onClick(T,y,S){S.chart.toggleDataVisibility(y.index),S.chart.update()}},tooltip:{callbacks:{title:()=>"",label(T){let y=T.label;const S=": "+T.formattedValue;return hn(y)?(y=y.slice(),y[0]+=S):y+=S,y}}}}};class Xo extends Lo{initialize(){this.enableOptionSharing=!0,super.initialize()}update(y){const S=this._cachedMeta,{dataset:D,data:R=[],_dataset:V}=S,G=this.chart._animationsDisabled;let{start:tt,count:st}=function(Rt,Bt,Kt){const ce=Bt.length;let xe=0,we=ce;if(Rt._sorted){const{iScale:Ee,_parsed:He}=Rt,en=Ee.axis,{min:un,max:yn,minDefined:Fn,maxDefined:Qn}=Ee.getUserBounds();Fn&&(xe=_(Math.min(ut(He,Ee.axis,un).lo,Kt?ce:ut(Bt,en,Ee.getPixelForValue(un)).lo),0,ce-1)),we=Qn?_(Math.max(ut(He,Ee.axis,yn).hi+1,Kt?0:ut(Bt,en,Ee.getPixelForValue(yn)).hi+1),xe,ce)-xe:ce-xe}return{start:xe,count:we}}(S,R,G);this._drawStart=tt,this._drawCount=st,function(Rt){const{xScale:Bt,yScale:Kt,_scaleRanges:ce}=Rt,xe={xmin:Bt.min,xmax:Bt.max,ymin:Kt.min,ymax:Kt.max};if(!ce)return Rt._scaleRanges=xe,!0;const we=ce.xmin!==Bt.min||ce.xmax!==Bt.max||ce.ymin!==Kt.min||ce.ymax!==Kt.max;return Object.assign(ce,xe),we}(S)&&(tt=0,st=R.length),D._chart=this.chart,D._datasetIndex=this.index,D._decimated=!!V._decimated,D.points=R;const ht=this.resolveDatasetElementOptions(y);this.options.showLine||(ht.borderWidth=0),ht.segment=this.options.segment,this.updateElement(D,void 0,{animated:!G,options:ht},y),this.updateElements(R,tt,st,y)}updateElements(y,S,D,R){const V="reset"===R,{iScale:G,vScale:tt,_stacked:st,_dataset:ht}=this._cachedMeta,Rt=this.resolveDataElementOptions(S,R),Bt=this.getSharedOptions(Rt),Kt=this.includeOptions(R,Bt),ce=G.axis,xe=tt.axis,{spanGaps:we,segment:Ee}=this.options,He=Na(we)?we:Number.POSITIVE_INFINITY,en=this.chart._animationsDisabled||V||"none"===R;let un=S>0&&this.getParsed(S-1);for(let yn=S;yn<S+D;++yn){const Fn=y[yn],Qn=this.getParsed(yn),ni=en?Fn:{},Si=sn(Qn[xe]),Ei=ni[ce]=G.getPixelForValue(Qn[ce],yn),ci=ni[xe]=V||Si?tt.getBasePixel():tt.getPixelForValue(st?this.applyStack(tt,Qn,st):Qn[xe],yn);ni.skip=isNaN(Ei)||isNaN(ci)||Si,ni.stop=yn>0&&Qn[ce]-un[ce]>He,Ee&&(ni.parsed=Qn,ni.raw=ht.data[yn]),Kt&&(ni.options=Bt||this.resolveDataElementOptions(yn,Fn.active?"active":R)),en||this.updateElement(Fn,yn,ni,R),un=Qn}this.updateSharedOptions(Bt,R,Rt)}getMaxOverflow(){const y=this._cachedMeta,S=y.dataset,D=S.options&&S.options.borderWidth||0,R=y.data||[];if(!R.length)return D;const V=R[0].size(this.resolveDataElementOptions(0)),G=R[R.length-1].size(this.resolveDataElementOptions(R.length-1));return Math.max(D,V,G)/2}draw(){const y=this._cachedMeta;y.dataset.updateControlPoints(this.chart.chartArea,y.iScale.axis),super.draw()}}Xo.id="line",Xo.defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1},Xo.overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};class ms extends Lo{constructor(y,S){super(y,S),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(y){const D=this.chart,R=D.data.labels||[],V=yu(this._cachedMeta._parsed[y].r,D.options.locale);return{label:R[y]||"",value:V}}update(y){const S=this._cachedMeta.data;this._updateRadius(),this.updateElements(S,0,S.length,y)}_updateRadius(){const y=this.chart,S=y.chartArea,D=y.options,R=Math.min(S.right-S.left,S.bottom-S.top),V=Math.max(R/2,0),G=(V-Math.max(D.cutoutPercentage?V/100*D.cutoutPercentage:1,0))/y.getVisibleDatasetCount();this.outerRadius=V-G*this.index,this.innerRadius=this.outerRadius-G}updateElements(y,S,D,R){const V="reset"===R,G=this.chart,tt=this.getDataset(),st=G.options.animation,ht=this._cachedMeta.rScale,Rt=ht.xCenter,Bt=ht.yCenter,Kt=ht.getIndexAngle(0)-.5*Vi;let ce,xe=Kt;const we=360/this.countVisibleElements();for(ce=0;ce<S;++ce)xe+=this._computeAngle(ce,R,we);for(ce=S;ce<S+D;ce++){const Ee=y[ce];let He=xe,en=xe+this._computeAngle(ce,R,we),un=G.getDataVisibility(ce)?ht.getDistanceFromCenterForValue(tt.data[ce]):0;xe=en,V&&(st.animateScale&&(un=0),st.animateRotate&&(He=en=Kt));const yn={x:Rt,y:Bt,innerRadius:0,outerRadius:un,startAngle:He,endAngle:en,options:this.resolveDataElementOptions(ce,Ee.active?"active":R)};this.updateElement(Ee,ce,yn,R)}}countVisibleElements(){const y=this.getDataset();let D=0;return this._cachedMeta.data.forEach((R,V)=>{!isNaN(y.data[V])&&this.chart.getDataVisibility(V)&&D++}),D}_computeAngle(y,S,D){return this.chart.getDataVisibility(y)?Ho(this.resolveDataElementOptions(y,S).angle||D):0}}ms.id="polarArea",ms.defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0},ms.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(T){const y=T.data;if(y.labels.length&&y.datasets.length){const{labels:{pointStyle:S}}=T.legend.options;return y.labels.map((D,R)=>{const V=T.getDatasetMeta(0).controller.getStyle(R);return{text:D,fillStyle:V.backgroundColor,strokeStyle:V.borderColor,lineWidth:V.borderWidth,pointStyle:S,hidden:!T.getDataVisibility(R),index:R}})}return[]}},onClick(T,y,S){S.chart.toggleDataVisibility(y.index),S.chart.update()}},tooltip:{callbacks:{title:()=>"",label:T=>T.chart.data.labels[T.dataIndex]+": "+T.formattedValue}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};class rl extends mr{}rl.id="pie",rl.defaults={cutout:0,rotation:0,circumference:360,radius:"100%"};class bh extends Lo{getLabelAndValue(y){const S=this._cachedMeta.vScale,D=this.getParsed(y);return{label:S.getLabels()[y],value:""+S.getLabelForValue(D[S.axis])}}update(y){const S=this._cachedMeta,D=S.dataset,R=S.data||[],V=S.iScale.getLabels();if(D.points=R,"resize"!==y){const G=this.resolveDatasetElementOptions(y);this.options.showLine||(G.borderWidth=0),this.updateElement(D,void 0,{_loop:!0,_fullLoop:V.length===R.length,options:G},y)}this.updateElements(R,0,R.length,y)}updateElements(y,S,D,R){const V=this.getDataset(),G=this._cachedMeta.rScale,tt="reset"===R;for(let st=S;st<S+D;st++){const ht=y[st],Rt=this.resolveDataElementOptions(st,ht.active?"active":R),Bt=G.getPointPositionForValue(st,V.data[st]),Kt=tt?G.xCenter:Bt.x,ce=tt?G.yCenter:Bt.y,xe={x:Kt,y:ce,angle:Bt.angle,skip:isNaN(Kt)||isNaN(ce),options:Rt};this.updateElement(ht,st,xe,R)}}}bh.id="radar",bh.defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}},bh.overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};class Ku extends Xo{}Ku.id="scatter",Ku.defaults={showLine:!1,fill:!1},Ku.overrides={interaction:{mode:"point"},plugins:{tooltip:{callbacks:{title:()=>"",label:T=>"("+T.label+", "+T.formattedValue+")"}}},scales:{x:{type:"linear"},y:{type:"linear"}}};var af=Object.freeze({__proto__:null,BarController:Ao,BubbleController:mo,DoughnutController:mr,LineController:Xo,PolarAreaController:ms,PieController:rl,RadarController:bh,ScatterController:Ku});function Qu(T,y,S){const{startAngle:D,pixelMargin:R,x:V,y:G,outerRadius:tt,innerRadius:st}=y;let ht=R/tt;T.beginPath(),T.arc(V,G,tt,D-ht,S+ht),st>R?(ht=R/st,T.arc(V,G,st,S+ht,D-ht,!0)):T.arc(V,G,R,S+Lr,D-Lr),T.closePath(),T.clip()}function Sl(T,y,S,D){return{x:S+T*Math.cos(y),y:D+T*Math.sin(y)}}function _u(T,y,S,D,R){const{x:V,y:G,startAngle:tt,pixelMargin:st,innerRadius:ht}=y,Rt=Math.max(y.outerRadius+D+S-st,0),Bt=ht>0?ht+D+S+st:0;let Kt=0;const ce=R-tt;if(D){const Ln=((ht>0?ht-D:0)+(Rt>0?Rt-D:0))/2;Kt=(ce-(0!==Ln?ce*Ln/(Ln+D):ce))/2}const xe=(ce-Math.max(.001,ce*Rt-S/Vi)/Rt)/2,we=tt+xe+Kt,Ee=R-xe-Kt,{outerStart:He,outerEnd:en,innerStart:un,innerEnd:yn}=function(T,y,S,D){const R=Gs(T.options.borderRadius,["outerStart","outerEnd","innerStart","innerEnd"]),V=(S-y)/2,G=Math.min(V,D*y/2),tt=st=>{const ht=(S-Math.min(V,st))*D/2;return _(st,0,Math.min(V,ht))};return{outerStart:tt(R.outerStart),outerEnd:tt(R.outerEnd),innerStart:_(R.innerStart,0,G),innerEnd:_(R.innerEnd,0,G)}}(y,Bt,Rt,Ee-we),Fn=Rt-He,Qn=Rt-en,ni=we+He/Fn,Si=Ee-en/Qn,Ei=Bt+un,ci=Bt+yn,wi=we+un/Ei,Ii=Ee-yn/ci;if(T.beginPath(),T.arc(V,G,Rt,ni,Si),en>0){const Ln=Sl(Qn,Si,V,G);T.arc(Ln.x,Ln.y,en,Si,Ee+Lr)}const bi=Sl(ci,Ee,V,G);if(T.lineTo(bi.x,bi.y),yn>0){const Ln=Sl(ci,Ii,V,G);T.arc(Ln.x,Ln.y,yn,Ee+Lr,Ii+Math.PI)}if(T.arc(V,G,Bt,Ee-yn/Bt,we+un/Bt,!0),un>0){const Ln=Sl(Ei,wi,V,G);T.arc(Ln.x,Ln.y,un,wi+Math.PI,we-Lr)}const Jn=Sl(Fn,we,V,G);if(T.lineTo(Jn.x,Jn.y),He>0){const Ln=Sl(Fn,ni,V,G);T.arc(Ln.x,Ln.y,He,we-Lr,ni)}T.closePath()}class ar extends Co{constructor(y){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,y&&Object.assign(this,y)}inRange(y,S,D){const R=this.getProps(["x","y"],D),{angle:V,distance:G}=Ra(R,{x:y,y:S}),{startAngle:tt,endAngle:st,innerRadius:ht,outerRadius:Rt,circumference:Bt}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],D),Kt=this.options.spacing/2;return(Bt>=ir||v(V,tt,st))&&G>=ht+Kt&&G<=Rt+Kt}getCenterPoint(y){const{x:S,y:D,startAngle:R,endAngle:V,innerRadius:G,outerRadius:tt}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius","circumference"],y),{offset:st,spacing:ht}=this.options,Rt=(R+V)/2,Bt=(G+tt+ht+st)/2;return{x:S+Math.cos(Rt)*Bt,y:D+Math.sin(Rt)*Bt}}tooltipPosition(y){return this.getCenterPoint(y)}draw(y){const{options:S,circumference:D}=this,R=(S.offset||0)/2,V=(S.spacing||0)/2;if(this.pixelMargin="inner"===S.borderAlign?.33:0,this.fullCircles=D>ir?Math.floor(D/ir):0,0===D||this.innerRadius<0||this.outerRadius<0)return;y.save();let G=0;if(R){G=R/2;const st=(this.startAngle+this.endAngle)/2;y.translate(Math.cos(st)*G,Math.sin(st)*G),this.circumference>=Vi&&(G=R)}y.fillStyle=S.backgroundColor,y.strokeStyle=S.borderColor,function(T,y,S,D,R){const{options:V}=y,G="inner"===V.borderAlign;V.borderWidth&&(G?(T.lineWidth=2*V.borderWidth,T.lineJoin="round"):(T.lineWidth=V.borderWidth,T.lineJoin="bevel"),y.fullCircles&&function(tt,st,ht){const{x:Rt,y:Bt,startAngle:Kt,pixelMargin:ce,fullCircles:xe}=st,we=Math.max(st.outerRadius-ce,0),Ee=st.innerRadius+ce;let He;for(ht&&Qu(tt,st,Kt+ir),tt.beginPath(),tt.arc(Rt,Bt,Ee,Kt+ir,Kt,!0),He=0;He<xe;++He)tt.stroke();for(tt.beginPath(),tt.arc(Rt,Bt,we,Kt,Kt+ir),He=0;He<xe;++He)tt.stroke()}(T,y,G),G&&Qu(T,y,R),_u(T,y,S,D,R),T.stroke())}(y,this,G,V,function(st,ht,Rt,Bt){const{fullCircles:Kt,startAngle:ce,circumference:xe}=ht;let we=ht.endAngle;if(Kt){_u(st,ht,Rt,Bt,ce+ir);for(let Ee=0;Ee<Kt;++Ee)st.fill();isNaN(xe)||(we=ce+xe%ir,xe%ir==0&&(we+=ir))}return _u(st,ht,Rt,Bt,we),st.fill(),we}(y,this,G,V)),y.restore()}}function _h(T,y,S=y){T.lineCap=hi(S.borderCapStyle,y.borderCapStyle),T.setLineDash(hi(S.borderDash,y.borderDash)),T.lineDashOffset=hi(S.borderDashOffset,y.borderDashOffset),T.lineJoin=hi(S.borderJoinStyle,y.borderJoinStyle),T.lineWidth=hi(S.borderWidth,y.borderWidth),T.strokeStyle=hi(S.borderColor,y.borderColor)}function Dc(T,y,S){T.lineTo(S.x,S.y)}function wh(T,y,S={}){const D=T.length,{start:R=0,end:V=D-1}=S,{start:G,end:tt}=y,st=Math.max(R,G),ht=Math.min(V,tt);return{count:D,start:st,loop:y.loop,ilen:ht<st&&!(R<G&&V<G||R>tt&&V>tt)?D+ht-st:ht-st}}function Mo(T,y,S,D){const{points:R,options:V}=y,{count:G,start:tt,loop:st,ilen:ht}=wh(R,S,D),Rt=(Ee=V).stepped?Ht:Ee.tension||"monotone"===Ee.cubicInterpolationMode?qt:Dc;var Ee;let Bt,Kt,ce,{move:xe=!0,reverse:we}=D||{};for(Bt=0;Bt<=ht;++Bt)Kt=R[(tt+(we?ht-Bt:Bt))%G],Kt.skip||(xe?(T.moveTo(Kt.x,Kt.y),xe=!1):Rt(T,ce,Kt,we,V.stepped),ce=Kt);return st&&(Kt=R[(tt+(we?ht:0))%G],Rt(T,ce,Kt,we,V.stepped)),!!st}function Bg(T,y,S,D){const R=y.points,{count:V,start:G,ilen:tt}=wh(R,S,D),{move:st=!0,reverse:ht}=D||{};let Rt,Bt,Kt,ce,xe,we,Ee=0,He=0;const en=yn=>(G+(ht?tt-yn:yn))%V,un=()=>{ce!==xe&&(T.lineTo(Ee,xe),T.lineTo(Ee,ce),T.lineTo(Ee,we))};for(st&&(Bt=R[en(0)],T.moveTo(Bt.x,Bt.y)),Rt=0;Rt<=tt;++Rt){if(Bt=R[en(Rt)],Bt.skip)continue;const yn=Bt.x,Fn=Bt.y,Qn=0|yn;Qn===Kt?(Fn<ce?ce=Fn:Fn>xe&&(xe=Fn),Ee=(He*Ee+yn)/++He):(un(),T.lineTo(yn,Fn),Kt=Qn,He=0,ce=xe=Fn),we=Fn}un()}function Sh(T){const y=T.options;return T._decimated||T._loop||y.tension||"monotone"===y.cubicInterpolationMode||y.stepped||y.borderDash&&y.borderDash.length?Mo:Bg}ar.id="arc",ar.defaults={borderAlign:"center",borderColor:"#fff",borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0},ar.defaultRoutes={backgroundColor:"backgroundColor"};const sf="function"==typeof Path2D;class tc extends Co{constructor(y){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,y&&Object.assign(this,y)}updateControlPoints(y,S){const D=this.options;!D.tension&&"monotone"!==D.cubicInterpolationMode||D.stepped||this._pointsUpdated||(ph(this._points,D,y,D.spanGaps?this._loop:this._fullLoop,S),this._pointsUpdated=!0)}set points(y){this._points=y,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=Zu(this,this.options.segment))}first(){const y=this.segments;return y.length&&this.points[y[0].start]}last(){const y=this.segments,D=y.length;return D&&this.points[y[D-1].end]}interpolate(y,S){const D=this.options,R=y[S],V=this.points,G=ya(this,{property:S,start:R,end:R});if(!G.length)return;const tt=[],st=(Bt=D).stepped?cp:Bt.tension||"monotone"===Bt.cubicInterpolationMode?ps:Do;var Bt;let ht,Rt;for(ht=0,Rt=G.length;ht<Rt;++ht){const{start:Bt,end:Kt}=G[ht],ce=V[Bt],xe=V[Kt];if(ce===xe){tt.push(ce);continue}const we=st(ce,xe,Math.abs((R-ce[S])/(xe[S]-ce[S])),D.stepped);we[S]=y[S],tt.push(we)}return 1===tt.length?tt[0]:tt}pathSegment(y,S,D){return Sh(this)(y,this,S,D)}path(y,S,D){const R=this.segments,V=Sh(this);let G=this._loop;S=S||0,D=D||this.points.length-S;for(const tt of R)G&=V(y,this,tt,{start:S,end:S+D-1});return!!G}draw(y,S,D,R){(this.points||[]).length&&(this.options||{}).borderWidth&&(y.save(),function(T,y,S,D){sf&&!y.options.segment?function(R,V,G,tt){let st=V._path;st||(st=V._path=new Path2D,V.path(st,G,tt)&&st.closePath()),_h(R,V.options),R.stroke(st)}(T,y,S,D):function(R,V,G,tt){const{segments:st,options:ht}=V,Rt=Sh(V);for(const Bt of st)_h(R,ht,Bt.style),R.beginPath(),Rt(R,V,Bt,{start:G,end:G+tt-1})&&R.closePath(),R.stroke()}(T,y,S,D)}(y,this,D,R),y.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function Ec(T,y,S,D){const R=T.options,{[S]:V}=T.getProps([S],D);return Math.abs(y-V)<R.radius+R.hitRadius}tc.id="line",tc.defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0},tc.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"},tc.descriptors={_scriptable:!0,_indexable:T=>"borderDash"!==T&&"fill"!==T};class lf extends Co{constructor(y){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,y&&Object.assign(this,y)}inRange(y,S,D){const R=this.options,{x:V,y:G}=this.getProps(["x","y"],D);return Math.pow(y-V,2)+Math.pow(S-G,2)<Math.pow(R.hitRadius+R.radius,2)}inXRange(y,S){return Ec(this,y,"x",S)}inYRange(y,S){return Ec(this,y,"y",S)}getCenterPoint(y){const{x:S,y:D}=this.getProps(["x","y"],y);return{x:S,y:D}}size(y){let S=(y=y||this.options||{}).radius||0;return S=Math.max(S,S&&y.hoverRadius||0),2*(S+(S&&y.borderWidth||0))}draw(y,S){const D=this.options;this.skip||D.radius<.1||!ct(this,S,this.size(D)/2)||(y.strokeStyle=D.borderColor,y.lineWidth=D.borderWidth,y.fillStyle=D.backgroundColor,J(y,D,this.x,this.y))}getRange(){const y=this.options||{};return y.radius+y.hitRadius}}function Wa(T,y){const{x:S,y:D,base:R,width:V,height:G}=T.getProps(["x","y","base","width","height"],y);let tt,st,ht,Rt,Bt;return T.horizontal?(Bt=G/2,tt=Math.min(S,R),st=Math.max(S,R),ht=D-Bt,Rt=D+Bt):(Bt=V/2,tt=S-Bt,st=S+Bt,ht=Math.min(D,R),Rt=Math.max(D,R)),{left:tt,top:ht,right:st,bottom:Rt}}function wu(T,y,S,D){return T?0:_(y,S,D)}function ql(T,y,S,D){const R=null===y,V=null===S,G=T&&!(R&&V)&&Wa(T,D);return G&&(R||y>=G.left&&y<=G.right)&&(V||S>=G.top&&S<=G.bottom)}function Ch(T,y){T.rect(y.x,y.y,y.w,y.h)}function Fg(T,y,S={}){const D=T.x!==S.x?-y:0,R=T.y!==S.y?-y:0;return{x:T.x+D,y:T.y+R,w:T.w+((T.x+T.w!==S.x+S.w?y:0)-D),h:T.h+((T.y+T.h!==S.y+S.h?y:0)-R),radius:T.radius}}lf.id="point",lf.defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0},lf.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};class ec extends Co{constructor(y){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,y&&Object.assign(this,y)}draw(y){const{inflateAmount:S,options:{borderColor:D,backgroundColor:R}}=this,{inner:V,outer:G}=function(T){const y=Wa(T),S=y.right-y.left,D=y.bottom-y.top,R=function(G,tt,st){const Rt=G.borderSkipped,Bt=bc(G.options.borderWidth);return{t:wu(Rt.top,Bt.top,0,st),r:wu(Rt.right,Bt.right,0,tt),b:wu(Rt.bottom,Bt.bottom,0,st),l:wu(Rt.left,Bt.left,0,tt)}}(T,S/2,D/2),V=function(G,tt,st){const{enableBorderRadius:ht}=G.getProps(["enableBorderRadius"]),Rt=G.options.borderRadius,Bt=ma(Rt),Kt=Math.min(tt,st),ce=G.borderSkipped,xe=ht||$e(Rt);return{topLeft:wu(!xe||ce.top||ce.left,Bt.topLeft,0,Kt),topRight:wu(!xe||ce.top||ce.right,Bt.topRight,0,Kt),bottomLeft:wu(!xe||ce.bottom||ce.left,Bt.bottomLeft,0,Kt),bottomRight:wu(!xe||ce.bottom||ce.right,Bt.bottomRight,0,Kt)}}(T,S/2,D/2);return{outer:{x:y.left,y:y.top,w:S,h:D,radius:V},inner:{x:y.left+R.l,y:y.top+R.t,w:S-R.l-R.r,h:D-R.t-R.b,radius:{topLeft:Math.max(0,V.topLeft-Math.max(R.t,R.l)),topRight:Math.max(0,V.topRight-Math.max(R.t,R.r)),bottomLeft:Math.max(0,V.bottomLeft-Math.max(R.b,R.l)),bottomRight:Math.max(0,V.bottomRight-Math.max(R.b,R.r))}}}}(this),tt=(st=G.radius).topLeft||st.topRight||st.bottomLeft||st.bottomRight?De:Ch;var st;y.save(),G.w===V.w&&G.h===V.h||(y.beginPath(),tt(y,Fg(G,S,V)),y.clip(),tt(y,Fg(V,-S,G)),y.fillStyle=D,y.fill("evenodd")),y.beginPath(),tt(y,Fg(V,S)),y.fillStyle=R,y.fill(),y.restore()}inRange(y,S,D){return ql(this,y,S,D)}inXRange(y,S){return ql(this,y,null,S)}inYRange(y,S){return ql(this,null,y,S)}getCenterPoint(y){const{x:S,y:D,base:R,horizontal:V}=this.getProps(["x","y","base","horizontal"],y);return{x:V?(S+R)/2:S,y:V?D:(D+R)/2}}getRange(y){return"x"===y?this.width/2:this.height/2}}ec.id="bar",ec.defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0},ec.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};var Go=Object.freeze({__proto__:null,ArcElement:ar,LineElement:tc,PointElement:lf,BarElement:ec});function Su(T){if(T._decimated){const y=T._data;delete T._decimated,delete T._data,Object.defineProperty(T,"data",{value:y})}}function Vg(T){T.data.datasets.forEach(y=>{Su(y)})}var Vx={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(T,y,S)=>{if(!S.enabled)return void Vg(T);const D=T.width;T.data.datasets.forEach((R,V)=>{const{_data:G,indexAxis:tt}=R,st=T.getDatasetMeta(V),ht=G||R.data;if("y"===qs([tt,T.options.indexAxis])||"line"!==st.type)return;const Rt=T.scales[st.xAxisID];if("linear"!==Rt.type&&"time"!==Rt.type||T.options.parsing)return;let ce,{start:Bt,count:Kt}=function(xe,we){const Ee=we.length;let He,en=0;const{iScale:un}=xe,{min:yn,max:Fn,minDefined:Qn,maxDefined:ni}=un.getUserBounds();return Qn&&(en=_(ut(we,un.axis,yn).lo,0,Ee-1)),He=ni?_(ut(we,un.axis,Fn).hi+1,en,Ee)-en:Ee-en,{start:en,count:He}}(st,ht);if(Kt<=(S.threshold||4*D))Su(R);else{switch(sn(G)&&(R._data=ht,delete R.data,Object.defineProperty(R,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(xe){this._data=xe}})),S.algorithm){case"lttb":ce=function(xe,we,Ee,He,en){const un=en.samples||He;if(un>=Ee)return xe.slice(we,we+Ee);const yn=[],Fn=(Ee-2)/(un-2);let Qn=0;const ni=we+Ee-1;let Si,Ei,ci,wi,Ii,bi=we;for(yn[Qn++]=xe[bi],Si=0;Si<un-2;Si++){let Jn,Ln=0,Zr=0;const Ro=Math.floor((Si+1)*Fn)+1+we,yo=Math.min(Math.floor((Si+2)*Fn)+1,Ee)+we,fa=yo-Ro;for(Jn=Ro;Jn<yo;Jn++)Ln+=xe[Jn].x,Zr+=xe[Jn].y;Ln/=fa,Zr/=fa;const sr=Math.floor(Si*Fn)+1+we,Xa=Math.min(Math.floor((Si+1)*Fn)+1,Ee)+we,{x:zi,y:ac}=xe[bi];for(ci=wi=-1,Jn=sr;Jn<Xa;Jn++)wi=.5*Math.abs((zi-Ln)*(xe[Jn].y-ac)-(zi-xe[Jn].x)*(Zr-ac)),wi>ci&&(ci=wi,Ei=xe[Jn],Ii=Jn);yn[Qn++]=Ei,bi=Ii}return yn[Qn++]=xe[ni],yn}(ht,Bt,Kt,D,S);break;case"min-max":ce=function(xe,we,Ee,He){let en,un,yn,Fn,Qn,ni,Si,Ei,ci,wi,Ii=0,bi=0;const Jn=[],Zr=xe[we].x,Ro=xe[we+Ee-1].x-Zr;for(en=we;en<we+Ee;++en){un=xe[en],yn=(un.x-Zr)/Ro*He,Fn=un.y;const yo=0|yn;if(yo===Qn)Fn<ci?(ci=Fn,ni=en):Fn>wi&&(wi=Fn,Si=en),Ii=(bi*Ii+un.x)/++bi;else{const fa=en-1;if(!sn(ni)&&!sn(Si)){const sr=Math.min(ni,Si),Xa=Math.max(ni,Si);sr!==Ei&&sr!==fa&&Jn.push(Wv(er({},xe[sr]),{x:Ii})),Xa!==Ei&&Xa!==fa&&Jn.push(Wv(er({},xe[Xa]),{x:Ii}))}en>0&&fa!==Ei&&Jn.push(xe[fa]),Jn.push(un),Qn=yo,bi=0,ci=wi=Fn,ni=Si=Ei=en}}return Jn}(ht,Bt,Kt,D);break;default:throw new Error(`Unsupported decimation algorithm '${S.algorithm}'`)}R._decimated=ce}})},destroy(T){Vg(T)}};function Hg(T,y,S){const D=function(V){const G=V.options,tt=G.fill;let st=hi(tt&&tt.target,tt);return void 0===st&&(st=!!G.backgroundColor),!1!==st&&null!==st&&(!0===st?"origin":st)}(T);if($e(D))return!isNaN(D.value)&&D;let R=parseFloat(D);return ti(R)&&Math.floor(R)===R?("-"!==D[0]&&"+"!==D[0]||(R=y+R),!(R===y||R<0||R>=S)&&R):["origin","start","end","stack","shape"].indexOf(D)>=0&&D}class jv{constructor(y){this.x=y.x,this.y=y.y,this.radius=y.radius}pathSegment(y,S,D){const{x:R,y:V,radius:G}=this;return y.arc(R,V,G,(S=S||{start:0,end:ir}).end,S.start,!0),!D.bounds}interpolate(y){const{x:S,y:D,radius:R}=this,V=y.angle;return{x:S+Math.cos(V)*R,y:D+Math.sin(V)*R,angle:V}}}function Ul(T,y,S){for(;y>T;y--){const D=S[y];if(!isNaN(D.x)&&!isNaN(D.y))break}return y}function $l(T,y,S){const D=[];for(let R=0;R<S.length;R++){const V=S[R],{first:G,last:tt,point:st}=qo(V,y,"x");if(!(!st||G&&tt))if(G)D.unshift(st);else if(T.push(st),!tt)break}T.push(...D)}function qo(T,y,S){const D=T.interpolate(y,S);if(!D)return{};const R=D[S],V=T.segments,G=T.points;let tt=!1,st=!1;for(let ht=0;ht<V.length;ht++){const Rt=V[ht],Bt=G[Rt.start][S],Kt=G[Rt.end][S];if(R>=Bt&&R<=Kt){tt=R===Bt,st=R===Kt;break}}return{first:tt,last:st,point:D}}function ad(T,y){let S=[],D=!1;return hn(T)?(D=!0,S=T):S=function(R,V){const{x:G=null,y:tt=null}=R||{},st=V.points,ht=[];return V.segments.forEach(({start:Rt,end:Bt})=>{Bt=Ul(Rt,Bt,st);const Kt=st[Rt],ce=st[Bt];null!==tt?(ht.push({x:Kt.x,y:tt}),ht.push({x:ce.x,y:tt})):null!==G&&(ht.push({x:G,y:Kt.y}),ht.push({x:G,y:ce.y}))}),ht}(T,y),S.length?new tc({points:S,options:{tension:0},_loop:D,_fullLoop:D}):null}function Wg(T,y,S){let D=T[y].fill;const R=[y];let V;if(!S)return D;for(;!1!==D&&-1===R.indexOf(D);){if(!ti(D))return D;if(V=T[D],!V)return!1;if(V.visible)return D;R.push(D),D=V.fill}return!1}function sd(T,y,S){T.beginPath(),y.path(T),T.lineTo(y.last().x,S),T.lineTo(y.first().x,S),T.closePath(),T.clip()}function uf(T,y,S,D){if(D)return;let R=y[T],V=S[T];return"angle"===T&&(R=h(R),V=h(V)),{property:T,start:R,end:V}}function hp(T,y,S,D){return T&&y?D(T[S],y[S]):T?T[S]:y?y[S]:0}function dp(T,y,S){const{top:D,bottom:R}=y.chart.chartArea,{property:V,start:G,end:tt}=S||{};"x"===V&&(T.beginPath(),T.rect(G,D,tt-G,R-D),T.clip())}function Zl(T,y,S,D){const R=y.interpolate(S,D);R&&T.lineTo(R.x,R.y)}function kh(T,y){const{line:S,target:D,property:R,color:V,scale:G}=y,tt=function(st,ht,Rt){const Bt=st.segments,Kt=st.points,ce=ht.points,xe=[];for(const we of Bt){let{start:Ee,end:He}=we;He=Ul(Ee,He,Kt);const en=uf(Rt,Kt[Ee],Kt[He],we.loop);if(!ht.segments){xe.push({source:we,target:en,start:Kt[Ee],end:Kt[He]});continue}const un=ya(ht,en);for(const yn of un){const Fn=uf(Rt,ce[yn.start],ce[yn.end],yn.loop),Qn=$u(we,Kt,Fn);for(const ni of Qn)xe.push({source:ni,target:yn,start:{[Rt]:hp(en,Fn,"start",Math.max)},end:{[Rt]:hp(en,Fn,"end",Math.min)}})}}return xe}(S,D,R);for(const{source:st,target:ht,start:Rt,end:Bt}of tt){const{style:{backgroundColor:Kt=V}={}}=st,ce=!0!==D;T.save(),T.fillStyle=Kt,dp(T,G,ce&&uf(R,Rt,Bt)),T.beginPath();const xe=!!S.pathSegment(T,st);let we;if(ce){xe?T.closePath():Zl(T,D,Bt,R);const Ee=!!D.pathSegment(T,ht,{move:xe,reverse:!0});we=xe&&Ee,we||Zl(T,D,Rt,R)}T.closePath(),T.fill(we?"evenodd":"nonzero"),T.restore()}}function Cu(T,y,S){const D=function(T){const{chart:y,fill:S,line:D}=T;if(ti(S))return function(V,G){const tt=V.getDatasetMeta(G);return tt&&V.isDatasetVisible(G)?tt.dataset:null}(y,S);if("stack"===S)return function(V){const{scale:G,index:tt,line:st}=V,ht=[],Rt=st.segments,Bt=st.points,Kt=function(ce,xe){const we=[],Ee=ce.getMatchingVisibleMetas("line");for(let He=0;He<Ee.length;He++){const en=Ee[He];if(en.index===xe)break;en.hidden||we.unshift(en.dataset)}return we}(G,tt);Kt.push(ad({x:null,y:G.bottom},st));for(let ce=0;ce<Rt.length;ce++){const xe=Rt[ce];for(let we=xe.start;we<=xe.end;we++)$l(ht,Bt[we],Kt)}return new tc({points:ht,options:{}})}(T);if("shape"===S)return!0;const R=function(T){return(T.scale||{}).getPointPositionForValue?function(y){const{scale:S,fill:D}=y,R=S.options,V=S.getLabels().length,G=[],tt=R.reverse?S.max:S.min;let ht,Rt,Bt;if(Bt="start"===D?tt:"end"===D?R.reverse?S.min:S.max:$e(D)?D.value:S.getBaseValue(),R.grid.circular)return Rt=S.getPointPositionForValue(0,tt),new jv({x:Rt.x,y:Rt.y,radius:S.getDistanceFromCenterForValue(Bt)});for(ht=0;ht<V;++ht)G.push(S.getPointPositionForValue(ht,Bt));return G}(T):function(y){const{scale:S={},fill:D}=y;let R,V=null;return"start"===D?V=S.bottom:"end"===D?V=S.top:$e(D)?V=S.getPixelForValue(D.value):S.getBasePixel&&(V=S.getBasePixel()),ti(V)?(R=S.isHorizontal(),{x:R?V:null,y:R?null:V}):null}(T)}(T);return R instanceof jv?R:ad(R,D)}(y),{line:R,scale:V,axis:G}=y,tt=R.options,st=tt.fill,ht=tt.backgroundColor,{above:Rt=ht,below:Bt=ht}=st||{};D&&R.points.length&&(yt(T,S),function(Kt,ce){const{line:xe,target:we,above:Ee,below:He,area:en,scale:un}=ce,yn=xe._loop?"angle":ce.axis;Kt.save(),"x"===yn&&He!==Ee&&(sd(Kt,we,en.top),kh(Kt,{line:xe,target:we,color:Ee,scale:un,property:yn}),Kt.restore(),Kt.save(),sd(Kt,we,en.bottom)),kh(Kt,{line:xe,target:we,color:He,scale:un,property:yn}),Kt.restore()}(T,{line:R,target:D,above:Rt,below:Bt,area:S,scale:V,axis:G}),Vt(T))}var Os={id:"filler",afterDatasetsUpdate(T,y,S){const D=(T.data.datasets||[]).length,R=[];let V,G,tt,st;for(G=0;G<D;++G)V=T.getDatasetMeta(G),tt=V.dataset,st=null,tt&&tt.options&&tt instanceof tc&&(st={visible:T.isDatasetVisible(G),index:G,fill:Hg(tt,G,D),chart:T,axis:V.controller.options.indexAxis,scale:V.vScale,line:tt}),V.$filler=st,R.push(st);for(G=0;G<D;++G)st=R[G],st&&!1!==st.fill&&(st.fill=Wg(R,G,S.propagate))},beforeDraw(T,y,S){const D="beforeDraw"===S.drawTime,R=T.getSortedVisibleDatasetMetas(),V=T.chartArea;for(let G=R.length-1;G>=0;--G){const tt=R[G].$filler;tt&&(tt.line.updateControlPoints(V,tt.axis),D&&Cu(T.ctx,tt,V))}},beforeDatasetsDraw(T,y,S){if("beforeDatasetsDraw"!==S.drawTime)return;const D=T.getSortedVisibleDatasetMetas();for(let R=D.length-1;R>=0;--R){const V=D[R].$filler;V&&Cu(T.ctx,V,T.chartArea)}},beforeDatasetDraw(T,y,S){const D=y.meta.$filler;D&&!1!==D.fill&&"beforeDatasetDraw"===S.drawTime&&Cu(T.ctx,D,T.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const Ah=(T,y)=>{let{boxHeight:S=y,boxWidth:D=y}=T;return T.usePointStyle&&(S=Math.min(S,y),D=Math.min(D,y)),{boxWidth:D,boxHeight:S,itemHeight:Math.max(y,S)}};class ja extends Co{constructor(y){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=y.chart,this.options=y.options,this.ctx=y.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(y,S,D){this.maxWidth=y,this.maxHeight=S,this._margins=D,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const y=this.options.labels||{};let S=dn(y.generateLabels,[this.chart],this)||[];y.filter&&(S=S.filter(D=>y.filter(D,this.chart.data))),y.sort&&(S=S.sort((D,R)=>y.sort(D,R,this.chart.data))),this.options.reverse&&S.reverse(),this.legendItems=S}fit(){const{options:y,ctx:S}=this;if(!y.display)return void(this.width=this.height=0);const D=y.labels,R=lo(D.font),V=R.size,G=this._computeTitleHeight(),{boxWidth:tt,itemHeight:st}=Ah(D,V);let ht,Rt;S.font=R.string,this.isHorizontal()?(ht=this.maxWidth,Rt=this._fitRows(G,V,tt,st)+10):(Rt=this.maxHeight,ht=this._fitCols(G,V,tt,st)+10),this.width=Math.min(ht,y.maxWidth||this.maxWidth),this.height=Math.min(Rt,y.maxHeight||this.maxHeight)}_fitRows(y,S,D,R){const{ctx:V,maxWidth:G,options:{labels:{padding:tt}}}=this,st=this.legendHitBoxes=[],ht=this.lineWidths=[0],Rt=R+tt;let Bt=y;V.textAlign="left",V.textBaseline="middle";let Kt=-1,ce=-Rt;return this.legendItems.forEach((xe,we)=>{const Ee=D+S/2+V.measureText(xe.text).width;(0===we||ht[ht.length-1]+Ee+2*tt>G)&&(Bt+=Rt,ht[ht.length-(we>0?0:1)]=0,ce+=Rt,Kt++),st[we]={left:0,top:ce,row:Kt,width:Ee,height:R},ht[ht.length-1]+=Ee+tt}),Bt}_fitCols(y,S,D,R){const{ctx:V,maxHeight:G,options:{labels:{padding:tt}}}=this,st=this.legendHitBoxes=[],ht=this.columnSizes=[],Rt=G-y;let Bt=tt,Kt=0,ce=0,xe=0,we=0;return this.legendItems.forEach((Ee,He)=>{const en=D+S/2+V.measureText(Ee.text).width;He>0&&ce+R+2*tt>Rt&&(Bt+=Kt+tt,ht.push({width:Kt,height:ce}),xe+=Kt+tt,we++,Kt=ce=0),st[He]={left:xe,top:ce,col:we,width:en,height:R},Kt=Math.max(Kt,en),ce+=R+tt}),Bt+=Kt,ht.push({width:Kt,height:ce}),Bt}adjustHitBoxes(){if(!this.options.display)return;const y=this._computeTitleHeight(),{legendHitBoxes:S,options:{align:D,labels:{padding:R},rtl:V}}=this,G=xu(V,this.left,this.width);if(this.isHorizontal()){let tt=0,st=Oe(D,this.left+R,this.right-this.lineWidths[tt]);for(const ht of S)tt!==ht.row&&(tt=ht.row,st=Oe(D,this.left+R,this.right-this.lineWidths[tt])),ht.top+=this.top+y+R,ht.left=G.leftForLtr(G.x(st),ht.width),st+=ht.width+R}else{let tt=0,st=Oe(D,this.top+y+R,this.bottom-this.columnSizes[tt].height);for(const ht of S)ht.col!==tt&&(tt=ht.col,st=Oe(D,this.top+y+R,this.bottom-this.columnSizes[tt].height)),ht.top=st,ht.left+=this.left+R,ht.left=G.leftForLtr(G.x(ht.left),ht.width),st+=ht.height+R}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const y=this.ctx;yt(y,this),this._draw(),Vt(y)}}_draw(){const{options:y,columnSizes:S,lineWidths:D,ctx:R}=this,{align:V,labels:G}=y,tt=ge.color,st=xu(y.rtl,this.left,this.width),ht=lo(G.font),{color:Rt,padding:Bt}=G,Kt=ht.size,ce=Kt/2;let xe;this.drawTitle(),R.textAlign=st.textAlign("left"),R.textBaseline="middle",R.lineWidth=.5,R.font=ht.string;const{boxWidth:we,boxHeight:Ee,itemHeight:He}=Ah(G,Kt),en=this.isHorizontal(),un=this._computeTitleHeight();xe=en?{x:Oe(V,this.left+Bt,this.right-D[0]),y:this.top+Bt+un,line:0}:{x:this.left+Bt,y:Oe(V,this.top+un+Bt,this.bottom-S[0].height),line:0},gs(this.ctx,y.textDirection);const yn=He+Bt;this.legendItems.forEach((Fn,Qn)=>{R.strokeStyle=Fn.fontColor||Rt,R.fillStyle=Fn.fontColor||Rt;const ni=R.measureText(Fn.text).width,Si=st.textAlign(Fn.textAlign||(Fn.textAlign=G.textAlign)),Ei=we+ce+ni;let ci=xe.x,wi=xe.y;var Ii,Jn;st.setWidth(this.width),en?Qn>0&&ci+Ei+Bt>this.right&&(wi=xe.y+=yn,xe.line++,ci=xe.x=Oe(V,this.left+Bt,this.right-D[xe.line])):Qn>0&&wi+yn>this.bottom&&(ci=xe.x=ci+S[xe.line].width+Bt,xe.line++,wi=xe.y=Oe(V,this.top+un+Bt,this.bottom-S[xe.line].height)),function(Ii,bi,Jn){if(isNaN(we)||we<=0||isNaN(Ee)||Ee<0)return;R.save();const Ln=hi(Jn.lineWidth,1);if(R.fillStyle=hi(Jn.fillStyle,tt),R.lineCap=hi(Jn.lineCap,"butt"),R.lineDashOffset=hi(Jn.lineDashOffset,0),R.lineJoin=hi(Jn.lineJoin,"miter"),R.lineWidth=Ln,R.strokeStyle=hi(Jn.strokeStyle,tt),R.setLineDash(hi(Jn.lineDash,[])),G.usePointStyle){const Zr={radius:we*Math.SQRT2/2,pointStyle:Jn.pointStyle,rotation:Jn.rotation,borderWidth:Ln},Ro=st.xPlus(Ii,we/2);J(R,Zr,Ro,bi+ce)}else{const Zr=bi+Math.max((Kt-Ee)/2,0),Ro=st.leftForLtr(Ii,we),yo=ma(Jn.borderRadius);R.beginPath(),Object.values(yo).some(fa=>0!==fa)?De(R,{x:Ro,y:Zr,w:we,h:Ee,radius:yo}):R.rect(Ro,Zr,we,Ee),R.fill(),0!==Ln&&R.stroke()}R.restore()}(st.x(ci),wi,Fn),ci=ve(Si,ci+we+ce,en?ci+Ei:this.right,y.rtl),Ii=st.x(ci),le(R,(Jn=Fn).text,Ii,wi+He/2,ht,{strikethrough:Jn.hidden,textAlign:st.textAlign(Jn.textAlign)}),en?xe.x+=Ei+Bt:xe.y+=yn}),go(this.ctx,y.textDirection)}drawTitle(){const y=this.options,S=y.title,D=lo(S.font),R=Yr(S.padding);if(!S.display)return;const V=xu(y.rtl,this.left,this.width),G=this.ctx,tt=S.position,ht=R.top+D.size/2;let Rt,Bt=this.left,Kt=this.width;if(this.isHorizontal())Kt=Math.max(...this.lineWidths),Rt=this.top+ht,Bt=Oe(y.align,Bt,this.right-Kt);else{const xe=this.columnSizes.reduce((we,Ee)=>Math.max(we,Ee.height),0);Rt=ht+Oe(y.align,this.top,this.bottom-xe-y.labels.padding-this._computeTitleHeight())}const ce=Oe(tt,Bt,Bt+Kt);G.textAlign=V.textAlign(ee(tt)),G.textBaseline="middle",G.strokeStyle=S.color,G.fillStyle=S.color,G.font=D.string,le(G,S.text,ce,Rt,D)}_computeTitleHeight(){const y=this.options.title,S=lo(y.font),D=Yr(y.padding);return y.display?S.lineHeight+D.height:0}_getLegendItemAt(y,S){let D,R,V;if(y>=this.left&&y<=this.right&&S>=this.top&&S<=this.bottom)for(V=this.legendHitBoxes,D=0;D<V.length;++D)if(R=V[D],y>=R.left&&y<=R.left+R.width&&S>=R.top&&S<=R.top+R.height)return this.legendItems[D];return null}handleEvent(y){const S=this.options;if(tt=S,!("mousemove"===(G=y.type)&&(tt.onHover||tt.onLeave)||tt.onClick&&("click"===G||"mouseup"===G)))return;var G,tt;const D=this._getLegendItemAt(y.x,y.y);if("mousemove"===y.type){const G=this._hoveredItem,tt=(V=D,null!==(R=G)&&null!==V&&R.datasetIndex===V.datasetIndex&&R.index===V.index);G&&!tt&&dn(S.onLeave,[y,G,this],this),this._hoveredItem=D,D&&!tt&&dn(S.onHover,[y,D,this],this)}else D&&dn(S.onClick,[y,D,this],this);var R,V}}var Kl={id:"legend",_element:ja,start(T,y,S){const D=T.legend=new ja({ctx:T.ctx,options:S,chart:T});jo.configure(T,D,S),jo.addBox(T,D)},stop(T){jo.removeBox(T,T.legend),delete T.legend},beforeUpdate(T,y,S){const D=T.legend;jo.configure(T,D,S),D.options=S},afterUpdate(T){const y=T.legend;y.buildLabels(),y.adjustHitBoxes()},afterEvent(T,y){y.replay||T.legend.handleEvent(y.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(T,y,S){const D=y.datasetIndex,R=S.chart;R.isDatasetVisible(D)?(R.hide(D),y.hidden=!0):(R.show(D),y.hidden=!1)},onHover:null,onLeave:null,labels:{color:T=>T.chart.options.color,boxWidth:40,padding:10,generateLabels(T){const y=T.data.datasets,{labels:{usePointStyle:S,pointStyle:D,textAlign:R,color:V}}=T.legend.options;return T._getSortedDatasetMetas().map(G=>{const tt=G.controller.getStyle(S?0:void 0),st=Yr(tt.borderWidth);return{text:y[G.index].label,fillStyle:tt.backgroundColor,fontColor:V,hidden:!G.visible,lineCap:tt.borderCapStyle,lineDash:tt.borderDash,lineDashOffset:tt.borderDashOffset,lineJoin:tt.borderJoinStyle,lineWidth:(st.width+st.height)/4,strokeStyle:tt.borderColor,pointStyle:D||tt.pointStyle,rotation:tt.rotation,textAlign:R||tt.textAlign,borderRadius:0,datasetIndex:G.index}},this)}},title:{color:T=>T.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:T=>!T.startsWith("on"),labels:{_scriptable:T=>!["generateLabels","filter","sort"].includes(T)}}};class nc extends Co{constructor(y){super(),this.chart=y.chart,this.options=y.options,this.ctx=y.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(y,S){const D=this.options;if(this.left=0,this.top=0,!D.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=y,this.height=this.bottom=S;const R=hn(D.text)?D.text.length:1;this._padding=Yr(D.padding);const V=R*lo(D.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=V:this.width=V}isHorizontal(){const y=this.options.position;return"top"===y||"bottom"===y}_drawArgs(y){const{top:S,left:D,bottom:R,right:V,options:G}=this,tt=G.align;let st,ht,Rt,Bt=0;return this.isHorizontal()?(ht=Oe(tt,D,V),Rt=S+y,st=V-D):("left"===G.position?(ht=D+y,Rt=Oe(tt,R,S),Bt=-.5*Vi):(ht=V-y,Rt=Oe(tt,S,R),Bt=.5*Vi),st=R-S),{titleX:ht,titleY:Rt,maxWidth:st,rotation:Bt}}draw(){const y=this.ctx,S=this.options;if(!S.display)return;const D=lo(S.font),R=D.lineHeight/2+this._padding.top,{titleX:V,titleY:G,maxWidth:tt,rotation:st}=this._drawArgs(R);le(y,S.text,0,0,D,{color:S.color,maxWidth:tt,rotation:st,textAlign:ee(S.align),textBaseline:"middle",translation:[V,G]})}}var cf={id:"title",_element:nc,start(T,y,S){!function(D,R){const V=new nc({ctx:D.ctx,options:R,chart:D});jo.configure(D,V,R),jo.addBox(D,V),D.titleBlock=V}(T,S)},stop(T){jo.removeBox(T,T.titleBlock),delete T.titleBlock},beforeUpdate(T,y,S){const D=T.titleBlock;jo.configure(T,D,S),D.options=S},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Xr=new WeakMap;var ol={id:"subtitle",start(T,y,S){const D=new nc({ctx:T.ctx,options:S,chart:T});jo.configure(T,D,S),jo.addBox(T,D),Xr.set(T,D)},stop(T){jo.removeBox(T,Xr.get(T)),Xr.delete(T)},beforeUpdate(T,y,S){const D=Xr.get(T);jo.configure(T,D,S),D.options=S},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const ss={average(T){if(!T.length)return!1;let y,S,D=0,R=0,V=0;for(y=0,S=T.length;y<S;++y){const G=T[y].element;if(G&&G.hasValue()){const tt=G.tooltipPosition();D+=tt.x,R+=tt.y,++V}}return{x:D/V,y:R/V}},nearest(T,y){if(!T.length)return!1;let S,D,R,V=y.x,G=y.y,tt=Number.POSITIVE_INFINITY;for(S=0,D=T.length;S<D;++S){const st=T[S].element;if(st&&st.hasValue()){const ht=ae(y,st.getCenterPoint());ht<tt&&(tt=ht,R=st)}}if(R){const st=R.tooltipPosition();V=st.x,G=st.y}return{x:V,y:G}}};function al(T,y){return y&&(hn(y)?Array.prototype.push.apply(T,y):T.push(y)),T}function Ya(T){return("string"==typeof T||T instanceof String)&&T.indexOf("\n")>-1?T.split("\n"):T}function jg(T,y){const{element:S,datasetIndex:D,index:R}=y,V=T.getDatasetMeta(D).controller,{label:G,value:tt}=V.getLabelAndValue(R);return{chart:T,label:G,parsed:V.getParsed(R),raw:T.data.datasets[D].data[R],formattedValue:tt,dataset:V.getDataset(),dataIndex:R,datasetIndex:D,element:S}}function fp(T,y){const S=T._chart.ctx,{body:D,footer:R,title:V}=T,{boxWidth:G,boxHeight:tt}=y,st=lo(y.bodyFont),ht=lo(y.titleFont),Rt=lo(y.footerFont),Bt=V.length,Kt=R.length,ce=D.length,xe=Yr(y.padding);let we=xe.height,Ee=0,He=D.reduce((yn,Fn)=>yn+Fn.before.length+Fn.lines.length+Fn.after.length,0);He+=T.beforeBody.length+T.afterBody.length,Bt&&(we+=Bt*ht.lineHeight+(Bt-1)*y.titleSpacing+y.titleMarginBottom),He&&(we+=ce*(y.displayColors?Math.max(tt,st.lineHeight):st.lineHeight)+(He-ce)*st.lineHeight+(He-1)*y.bodySpacing),Kt&&(we+=y.footerMarginTop+Kt*Rt.lineHeight+(Kt-1)*y.footerSpacing);let en=0;const un=function(yn){Ee=Math.max(Ee,S.measureText(yn).width+en)};return S.save(),S.font=ht.string,fn(T.title,un),S.font=st.string,fn(T.beforeBody.concat(T.afterBody),un),en=y.displayColors?G+2+y.boxPadding:0,fn(D,yn=>{fn(yn.before,un),fn(yn.lines,un),fn(yn.after,un)}),en=0,S.font=Rt.string,fn(T.footer,un),S.restore(),Ee+=xe.width,{width:Ee,height:we}}function pp(T,y,S,D){const{x:R,width:V}=S,{width:G,chartArea:{left:tt,right:st}}=T;let ht="center";return"center"===D?ht=R<=(tt+st)/2?"left":"right":R<=V/2?ht="left":R>=G-V/2&&(ht="right"),function(Rt,Bt,Kt,ce){const{x:xe,width:we}=ce,Ee=Kt.caretSize+Kt.caretPadding;return"left"===Rt&&xe+we+Ee>Bt.width||"right"===Rt&&xe-we-Ee<0||void 0}(ht,T,y,S)&&(ht="center"),ht}function Pc(T,y,S){const D=y.yAlign||function(R,V){const{y:G,height:tt}=V;return G<tt/2?"top":G>R.height-tt/2?"bottom":"center"}(T,S);return{xAlign:y.xAlign||pp(T,y,S,D),yAlign:D}}function Ql(T,y,S,D){const{caretSize:R,caretPadding:V,cornerRadius:G}=T,{xAlign:tt,yAlign:st}=S,ht=R+V,{topLeft:Rt,topRight:Bt,bottomLeft:Kt,bottomRight:ce}=ma(G);let xe=function(Ee,He){let{x:en,width:un}=Ee;return"right"===He?en-=un:"center"===He&&(en-=un/2),en}(y,tt);const we=function(Ee,He,en){let{y:un,height:yn}=Ee;return"top"===He?un+=en:un-="bottom"===He?yn+en:yn/2,un}(y,st,ht);return"center"===st?"left"===tt?xe+=ht:"right"===tt&&(xe-=ht):"left"===tt?xe-=Math.max(Rt,Kt)+V:"right"===tt&&(xe+=Math.max(Bt,ce)+V),{x:_(xe,0,D.width-y.width),y:_(we,0,D.height-y.height)}}function Uo(T,y,S){const D=Yr(S.padding);return"center"===y?T.x+T.width/2:"right"===y?T.x+T.width-D.right:T.x+D.left}function Mh(T){return al([],Ya(T))}function ic(T,y){const S=y&&y.dataset&&y.dataset.tooltip&&y.dataset.tooltip.callbacks;return S?T.override(S):T}class Jl extends Co{constructor(y){super(),this.opacity=0,this._active=[],this._chart=y._chart,this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.options=y.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(y){this.options=y,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const y=this._cachedAnimations;if(y)return y;const S=this._chart,D=this.options.setContext(this.getContext()),R=D.enabled&&S.options.animation&&D.animations,V=new Js(this._chart,R);return R._cacheable&&(this._cachedAnimations=Object.freeze(V)),V}getContext(){return this.$context||(this.$context=Ma(this._chart.getContext(),{tooltip:this,tooltipItems:this._tooltipItems,type:"tooltip"}))}getTitle(y,S){const{callbacks:D}=S,R=D.beforeTitle.apply(this,[y]),V=D.title.apply(this,[y]),G=D.afterTitle.apply(this,[y]);let tt=[];return tt=al(tt,Ya(R)),tt=al(tt,Ya(V)),tt=al(tt,Ya(G)),tt}getBeforeBody(y,S){return Mh(S.callbacks.beforeBody.apply(this,[y]))}getBody(y,S){const{callbacks:D}=S,R=[];return fn(y,V=>{const G={before:[],lines:[],after:[]},tt=ic(D,V);al(G.before,Ya(tt.beforeLabel.call(this,V))),al(G.lines,tt.label.call(this,V)),al(G.after,Ya(tt.afterLabel.call(this,V))),R.push(G)}),R}getAfterBody(y,S){return Mh(S.callbacks.afterBody.apply(this,[y]))}getFooter(y,S){const{callbacks:D}=S,R=D.beforeFooter.apply(this,[y]),V=D.footer.apply(this,[y]),G=D.afterFooter.apply(this,[y]);let tt=[];return tt=al(tt,Ya(R)),tt=al(tt,Ya(V)),tt=al(tt,Ya(G)),tt}_createItems(y){const S=this._active,D=this._chart.data,R=[],V=[],G=[];let tt,st,ht=[];for(tt=0,st=S.length;tt<st;++tt)ht.push(jg(this._chart,S[tt]));return y.filter&&(ht=ht.filter((Rt,Bt,Kt)=>y.filter(Rt,Bt,Kt,D))),y.itemSort&&(ht=ht.sort((Rt,Bt)=>y.itemSort(Rt,Bt,D))),fn(ht,Rt=>{const Bt=ic(y.callbacks,Rt);R.push(Bt.labelColor.call(this,Rt)),V.push(Bt.labelPointStyle.call(this,Rt)),G.push(Bt.labelTextColor.call(this,Rt))}),this.labelColors=R,this.labelPointStyles=V,this.labelTextColors=G,this.dataPoints=ht,ht}update(y,S){const D=this.options.setContext(this.getContext()),R=this._active;let V,G=[];if(R.length){const tt=ss[D.position].call(this,R,this._eventPosition);G=this._createItems(D),this.title=this.getTitle(G,D),this.beforeBody=this.getBeforeBody(G,D),this.body=this.getBody(G,D),this.afterBody=this.getAfterBody(G,D),this.footer=this.getFooter(G,D);const st=this._size=fp(this,D),ht=Object.assign({},tt,st),Rt=Pc(this._chart,D,ht),Bt=Ql(D,ht,Rt,this._chart);this.xAlign=Rt.xAlign,this.yAlign=Rt.yAlign,V={opacity:1,x:Bt.x,y:Bt.y,width:st.width,height:st.height,caretX:tt.x,caretY:tt.y}}else 0!==this.opacity&&(V={opacity:0});this._tooltipItems=G,this.$context=void 0,V&&this._resolveAnimations().update(this,V),y&&D.external&&D.external.call(this,{chart:this._chart,tooltip:this,replay:S})}drawCaret(y,S,D,R){const V=this.getCaretPosition(y,D,R);S.lineTo(V.x1,V.y1),S.lineTo(V.x2,V.y2),S.lineTo(V.x3,V.y3)}getCaretPosition(y,S,D){const{xAlign:R,yAlign:V}=this,{caretSize:G,cornerRadius:tt}=D,{topLeft:st,topRight:ht,bottomLeft:Rt,bottomRight:Bt}=ma(tt),{x:Kt,y:ce}=y,{width:xe,height:we}=S;let Ee,He,en,un,yn,Fn;return"center"===V?(yn=ce+we/2,"left"===R?(Ee=Kt,He=Ee-G,un=yn+G,Fn=yn-G):(Ee=Kt+xe,He=Ee+G,un=yn-G,Fn=yn+G),en=Ee):(He="left"===R?Kt+Math.max(st,Rt)+G:"right"===R?Kt+xe-Math.max(ht,Bt)-G:this.caretX,"top"===V?(un=ce,yn=un-G,Ee=He-G,en=He+G):(un=ce+we,yn=un+G,Ee=He+G,en=He-G),Fn=un),{x1:Ee,x2:He,x3:en,y1:un,y2:yn,y3:Fn}}drawTitle(y,S,D){const R=this.title,V=R.length;let G,tt,st;if(V){const ht=xu(D.rtl,this.x,this.width);for(y.x=Uo(this,D.titleAlign,D),S.textAlign=ht.textAlign(D.titleAlign),S.textBaseline="middle",G=lo(D.titleFont),tt=D.titleSpacing,S.fillStyle=D.titleColor,S.font=G.string,st=0;st<V;++st)S.fillText(R[st],ht.x(y.x),y.y+G.lineHeight/2),y.y+=G.lineHeight+tt,st+1===V&&(y.y+=D.titleMarginBottom-tt)}}_drawColorBox(y,S,D,R,V){const G=this.labelColors[D],tt=this.labelPointStyles[D],{boxHeight:st,boxWidth:ht,boxPadding:Rt}=V,Bt=lo(V.bodyFont),Kt=Uo(this,"left",V),ce=R.x(Kt),we=S.y+(st<Bt.lineHeight?(Bt.lineHeight-st)/2:0);if(V.usePointStyle){const Ee={radius:Math.min(ht,st)/2,pointStyle:tt.pointStyle,rotation:tt.rotation,borderWidth:1},He=R.leftForLtr(ce,ht)+ht/2,en=we+st/2;y.strokeStyle=V.multiKeyBackground,y.fillStyle=V.multiKeyBackground,J(y,Ee,He,en),y.strokeStyle=G.borderColor,y.fillStyle=G.backgroundColor,J(y,Ee,He,en)}else{y.lineWidth=G.borderWidth||1,y.strokeStyle=G.borderColor,y.setLineDash(G.borderDash||[]),y.lineDashOffset=G.borderDashOffset||0;const Ee=R.leftForLtr(ce,ht-Rt),He=R.leftForLtr(R.xPlus(ce,1),ht-Rt-2),en=ma(G.borderRadius);Object.values(en).some(un=>0!==un)?(y.beginPath(),y.fillStyle=V.multiKeyBackground,De(y,{x:Ee,y:we,w:ht,h:st,radius:en}),y.fill(),y.stroke(),y.fillStyle=G.backgroundColor,y.beginPath(),De(y,{x:He,y:we+1,w:ht-2,h:st-2,radius:en}),y.fill()):(y.fillStyle=V.multiKeyBackground,y.fillRect(Ee,we,ht,st),y.strokeRect(Ee,we,ht,st),y.fillStyle=G.backgroundColor,y.fillRect(He,we+1,ht-2,st-2))}y.fillStyle=this.labelTextColors[D]}drawBody(y,S,D){const{body:R}=this,{bodySpacing:V,bodyAlign:G,displayColors:tt,boxHeight:st,boxWidth:ht,boxPadding:Rt}=D,Bt=lo(D.bodyFont);let Kt=Bt.lineHeight,ce=0;const xe=xu(D.rtl,this.x,this.width),we=function(Si){S.fillText(Si,xe.x(y.x+ce),y.y+Kt/2),y.y+=Kt+V},Ee=xe.textAlign(G);let He,en,un,yn,Fn,Qn,ni;for(S.textAlign=G,S.textBaseline="middle",S.font=Bt.string,y.x=Uo(this,Ee,D),S.fillStyle=D.bodyColor,fn(this.beforeBody,we),ce=tt&&"right"!==Ee?"center"===G?ht/2+Rt:ht+2+Rt:0,yn=0,Qn=R.length;yn<Qn;++yn){for(He=R[yn],en=this.labelTextColors[yn],S.fillStyle=en,fn(He.before,we),un=He.lines,tt&&un.length&&(this._drawColorBox(S,y,yn,xe,D),Kt=Math.max(Bt.lineHeight,st)),Fn=0,ni=un.length;Fn<ni;++Fn)we(un[Fn]),Kt=Bt.lineHeight;fn(He.after,we)}ce=0,Kt=Bt.lineHeight,fn(this.afterBody,we),y.y-=V}drawFooter(y,S,D){const R=this.footer,V=R.length;let G,tt;if(V){const st=xu(D.rtl,this.x,this.width);for(y.x=Uo(this,D.footerAlign,D),y.y+=D.footerMarginTop,S.textAlign=st.textAlign(D.footerAlign),S.textBaseline="middle",G=lo(D.footerFont),S.fillStyle=D.footerColor,S.font=G.string,tt=0;tt<V;++tt)S.fillText(R[tt],st.x(y.x),y.y+G.lineHeight/2),y.y+=G.lineHeight+D.footerSpacing}}drawBackground(y,S,D,R){const{xAlign:V,yAlign:G}=this,{x:tt,y:st}=y,{width:ht,height:Rt}=D,{topLeft:Bt,topRight:Kt,bottomLeft:ce,bottomRight:xe}=ma(R.cornerRadius);S.fillStyle=R.backgroundColor,S.strokeStyle=R.borderColor,S.lineWidth=R.borderWidth,S.beginPath(),S.moveTo(tt+Bt,st),"top"===G&&this.drawCaret(y,S,D,R),S.lineTo(tt+ht-Kt,st),S.quadraticCurveTo(tt+ht,st,tt+ht,st+Kt),"center"===G&&"right"===V&&this.drawCaret(y,S,D,R),S.lineTo(tt+ht,st+Rt-xe),S.quadraticCurveTo(tt+ht,st+Rt,tt+ht-xe,st+Rt),"bottom"===G&&this.drawCaret(y,S,D,R),S.lineTo(tt+ce,st+Rt),S.quadraticCurveTo(tt,st+Rt,tt,st+Rt-ce),"center"===G&&"left"===V&&this.drawCaret(y,S,D,R),S.lineTo(tt,st+Bt),S.quadraticCurveTo(tt,st,tt+Bt,st),S.closePath(),S.fill(),R.borderWidth>0&&S.stroke()}_updateAnimationTarget(y){const S=this._chart,D=this.$animations,R=D&&D.x,V=D&&D.y;if(R||V){const G=ss[y.position].call(this,this._active,this._eventPosition);if(!G)return;const tt=this._size=fp(this,y),st=Object.assign({},G,this._size),ht=Pc(S,y,st),Rt=Ql(y,st,ht,S);R._to===Rt.x&&V._to===Rt.y||(this.xAlign=ht.xAlign,this.yAlign=ht.yAlign,this.width=tt.width,this.height=tt.height,this.caretX=G.x,this.caretY=G.y,this._resolveAnimations().update(this,Rt))}}draw(y){const S=this.options.setContext(this.getContext());let D=this.opacity;if(!D)return;this._updateAnimationTarget(S);const R={width:this.width,height:this.height},V={x:this.x,y:this.y};D=Math.abs(D)<.001?0:D;const G=Yr(S.padding);S.enabled&&(this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length)&&(y.save(),y.globalAlpha=D,this.drawBackground(V,y,R,S),gs(y,S.textDirection),V.y+=G.top,this.drawTitle(V,y,S),this.drawBody(V,y,S),this.drawFooter(V,y,S),go(y,S.textDirection),y.restore())}getActiveElements(){return this._active||[]}setActiveElements(y,S){const D=this._active,R=y.map(({datasetIndex:tt,index:st})=>{const ht=this._chart.getDatasetMeta(tt);if(!ht)throw new Error("Cannot find a dataset at index "+tt);return{datasetIndex:tt,element:ht.data[st],index:st}}),V=!On(D,R),G=this._positionChanged(R,S);(V||G)&&(this._active=R,this._eventPosition=S,this.update(!0))}handleEvent(y,S){const D=this.options,R=this._active||[];let V=!1,G=[];"mouseout"!==y.type&&(G=this._chart.getElementsAtEventForMode(y,D.mode,D,S),D.reverse&&G.reverse());const tt=this._positionChanged(G,y);return V=S||!On(G,R)||tt,V&&(this._active=G,(D.enabled||D.external)&&(this._eventPosition={x:y.x,y:y.y},this.update(!0,S))),V}_positionChanged(y,S){const{caretX:D,caretY:R,options:V}=this,G=ss[V.position].call(this,y,S);return!1!==G&&(D!==G.x||R!==G.y)}}Jl.positioners=ss;var rc=Object.freeze({__proto__:null,Decimation:Vx,Filler:Os,Legend:Kl,SubTitle:ol,Title:cf,Tooltip:{id:"tooltip",_element:Jl,positioners:ss,afterInit(T,y,S){S&&(T.tooltip=new Jl({_chart:T,options:S}))},beforeUpdate(T,y,S){T.tooltip&&T.tooltip.initialize(S)},reset(T,y,S){T.tooltip&&T.tooltip.initialize(S)},afterDraw(T){const y=T.tooltip,S={tooltip:y};!1!==T.notifyPlugins("beforeTooltipDraw",S)&&(y&&y.draw(T.ctx),T.notifyPlugins("afterTooltipDraw",S))},afterEvent(T,y){T.tooltip&&T.tooltip.handleEvent(y.event,y.replay)&&(y.changed=!0)},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(T,y)=>y.bodyFont.size,boxWidth:(T,y)=>y.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:{beforeTitle:Fe,title(T){if(T.length>0){const y=T[0],S=y.chart.data.labels,D=S?S.length:0;if(this&&this.options&&"dataset"===this.options.mode)return y.dataset.label||"";if(y.label)return y.label;if(D>0&&y.dataIndex<D)return S[y.dataIndex]}return""},afterTitle:Fe,beforeBody:Fe,beforeLabel:Fe,label(T){if(this&&this.options&&"dataset"===this.options.mode)return T.label+": "+T.formattedValue||T.formattedValue;let y=T.dataset.label||"";y&&(y+=": ");const S=T.formattedValue;return sn(S)||(y+=S),y},labelColor(T){const y=T.chart.getDatasetMeta(T.datasetIndex).controller.getStyle(T.dataIndex);return{borderColor:y.borderColor,backgroundColor:y.backgroundColor,borderWidth:y.borderWidth,borderDash:y.borderDash,borderDashOffset:y.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(T){const y=T.chart.getDatasetMeta(T.datasetIndex).controller.getStyle(T.dataIndex);return{pointStyle:y.pointStyle,rotation:y.rotation}},afterLabel:Fe,afterBody:Fe,beforeFooter:Fe,footer:Fe,afterFooter:Fe}},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:T=>"filter"!==T&&"itemSort"!==T&&"external"!==T,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]}});class tu extends Da{constructor(y){super(y),this._startValue=void 0,this._valueRange=0}parse(y,S){if(sn(y))return null;const D=this.getLabels();return R=S=isFinite(S)&&D[S]===y?S:function(T,y,S){const D=T.indexOf(y);return-1===D?(G=S,"string"==typeof(V=y)?T.push(V)-1:isNaN(V)?null:G):D!==T.lastIndexOf(y)?S:D;var V,G}(D,y,hi(S,y)),V=D.length-1,null===R?null:_(Math.round(R),0,V);var R,V}determineDataLimits(){const{minDefined:y,maxDefined:S}=this.getUserBounds();let{min:D,max:R}=this.getMinMax(!0);"ticks"===this.options.bounds&&(y||(D=0),S||(R=this.getLabels().length-1)),this.min=D,this.max=R}buildTicks(){const y=this.min,S=this.max,D=this.options.offset,R=[];let V=this.getLabels();V=0===y&&S===V.length-1?V:V.slice(y,S+1),this._valueRange=Math.max(V.length-(D?0:1),1),this._startValue=this.min-(D?.5:0);for(let G=y;G<=S;G++)R.push({value:G});return R}getLabelForValue(y){const S=this.getLabels();return y>=0&&y<S.length?S[y]:y}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(y){return"number"!=typeof y&&(y=this.parse(y)),null===y?NaN:this.getPixelForDecimal((y-this._startValue)/this._valueRange)}getPixelForTick(y){const S=this.ticks;return y<0||y>S.length-1?null:this.getPixelForValue(S[y].value)}getValueForPixel(y){return Math.round(this._startValue+this.getDecimalForPixel(y)*this._valueRange)}getBasePixel(){return this.bottom}}function ku(T,y,{horizontal:S,minRotation:D}){const R=Ho(D),V=(S?Math.sin(R):Math.cos(R))||.001;return Math.min(y/V,.75*y*(""+T).length)}tu.id="category",tu.defaults={ticks:{callback:tu.prototype.getLabelForValue}};class ld extends Da{constructor(y){super(y),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(y,S){return sn(y)||("number"==typeof y||y instanceof Number)&&!isFinite(+y)?null:+y}handleTickRangeOptions(){const{beginAtZero:y}=this.options,{minDefined:S,maxDefined:D}=this.getUserBounds();let{min:R,max:V}=this;const G=st=>R=S?R:st,tt=st=>V=D?V:st;if(y){const st=gi(R),ht=gi(V);st<0&&ht<0?tt(0):st>0&&ht>0&&G(0)}if(R===V){let st=1;(V>=Number.MAX_SAFE_INTEGER||R<=Number.MIN_SAFE_INTEGER)&&(st=Math.abs(.05*V)),tt(V+st),y||G(R-st)}this.min=R,this.max=V}getTickLimit(){const y=this.options.ticks;let S,{maxTicksLimit:D,stepSize:R}=y;return R?(S=Math.ceil(this.max/R)-Math.floor(this.min/R)+1,S>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${R} would result generating up to ${S} ticks. Limiting to 1000.`),S=1e3)):(S=this.computeTickLimit(),D=D||11),D&&(S=Math.min(D,S)),S}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const y=this.options,S=y.ticks;let D=this.getTickLimit();D=Math.max(2,D);const R=function(V,G){const tt=[],{bounds:st,step:ht,min:Rt,max:Bt,precision:Kt,count:ce,maxTicks:xe,maxDigits:we,includeBounds:Ee}=V,He=ht||1,en=xe-1,{min:un,max:yn}=G,Fn=!sn(Rt),Qn=!sn(Bt),ni=!sn(ce),Si=(yn-un)/(we+1);let Ei,ci,wi,Ii,bi=oo((yn-un)/en/He)*He;if(bi<1e-14&&!Fn&&!Qn)return[{value:un},{value:yn}];Ii=Math.ceil(yn/bi)-Math.floor(un/bi),Ii>en&&(bi=oo(Ii*bi/en/He)*He),sn(Kt)||(Ei=Math.pow(10,Kt),bi=Math.ceil(bi*Ei)/Ei),"ticks"===st?(ci=Math.floor(un/bi)*bi,wi=Math.ceil(yn/bi)*bi):(ci=un,wi=yn),Fn&&Qn&&ht&&pu((Bt-Rt)/ht,bi/1e3)?(Ii=Math.round(Math.min((Bt-Rt)/bi,xe)),bi=(Bt-Rt)/Ii,ci=Rt,wi=Bt):ni?(ci=Fn?Rt:ci,wi=Qn?Bt:wi,Ii=ce-1,bi=(wi-ci)/Ii):(Ii=(wi-ci)/bi,Ii=Nr(Ii,Math.round(Ii),bi/1e3)?Math.round(Ii):Math.ceil(Ii));const Jn=Math.max(ts(bi),ts(ci));Ei=Math.pow(10,sn(Kt)?Jn:Kt),ci=Math.round(ci*Ei)/Ei,wi=Math.round(wi*Ei)/Ei;let Ln=0;for(Fn&&(Ee&&ci!==Rt?(tt.push({value:Rt}),ci<Rt&&Ln++,Nr(Math.round((ci+Ln*bi)*Ei)/Ei,Rt,ku(Rt,Si,V))&&Ln++):ci<Rt&&Ln++);Ln<Ii;++Ln)tt.push({value:Math.round((ci+Ln*bi)*Ei)/Ei});return Qn&&Ee&&wi!==Bt?tt.length&&Nr(tt[tt.length-1].value,Bt,ku(Bt,Si,V))?tt[tt.length-1].value=Bt:tt.push({value:Bt}):Qn&&wi!==Bt||tt.push({value:wi}),tt}({maxTicks:D,bounds:y.bounds,min:y.min,max:y.max,precision:S.precision,step:S.stepSize,count:S.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:S.minRotation||0,includeBounds:!1!==S.includeBounds},this._range||this);return"ticks"===y.bounds&&Aa(R,this,"value"),y.reverse?(R.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),R}configure(){const y=this.ticks;let S=this.min,D=this.max;if(super.configure(),this.options.offset&&y.length){const R=(D-S)/Math.max(y.length-1,1)/2;S-=R,D+=R}this._startValue=S,this._endValue=D,this._valueRange=D-S}getLabelForValue(y){return yu(y,this.chart.options.locale)}}class ud extends ld{determineDataLimits(){const{min:y,max:S}=this.getMinMax(!0);this.min=ti(y)?y:0,this.max=ti(S)?S:1,this.handleTickRangeOptions()}computeTickLimit(){const y=this.isHorizontal(),S=y?this.width:this.height,D=Ho(this.options.ticks.minRotation),R=(y?Math.sin(D):Math.cos(D))||.001,V=this._resolveTickFontOptions(0);return Math.ceil(S/Math.min(40,V.lineHeight/R))}getPixelForValue(y){return null===y?NaN:this.getPixelForDecimal((y-this._startValue)/this._valueRange)}getValueForPixel(y){return this._startValue+this.getDecimalForPixel(y)*this._valueRange}}function _a(T){return T/Math.pow(10,Math.floor(Vo(T)))==1}ud.id="linear",ud.defaults={ticks:{callback:no.formatters.numeric}};class hf extends Da{constructor(y){super(y),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(y,S){const D=ld.prototype.parse.apply(this,[y,S]);if(0!==D)return ti(D)&&D>0?D:null;this._zero=!0}determineDataLimits(){const{min:y,max:S}=this.getMinMax(!0);this.min=ti(y)?Math.max(0,y):null,this.max=ti(S)?Math.max(0,S):null,this.options.beginAtZero&&(this._zero=!0),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:y,maxDefined:S}=this.getUserBounds();let D=this.min,R=this.max;const V=st=>D=y?D:st,G=st=>R=S?R:st,tt=(st,ht)=>Math.pow(10,Math.floor(Vo(st))+ht);D===R&&(D<=0?(V(1),G(10)):(V(tt(D,-1)),G(tt(R,1)))),D<=0&&V(tt(R,-1)),R<=0&&G(tt(D,1)),this._zero&&this.min!==this._suggestedMin&&D===tt(this.min,0)&&V(tt(D,-1)),this.min=D,this.max=R}buildTicks(){const y=this.options,S=function(D,R){const V=Math.floor(Vo(R.max)),G=Math.ceil(R.max/Math.pow(10,V)),tt=[];let st=ui(D.min,Math.pow(10,Math.floor(Vo(R.min)))),ht=Math.floor(Vo(st)),Rt=Math.floor(st/Math.pow(10,ht)),Bt=ht<0?Math.pow(10,Math.abs(ht)):1;do{tt.push({value:st,major:_a(st)}),++Rt,10===Rt&&(Rt=1,++ht,Bt=ht>=0?1:Bt),st=Math.round(Rt*Math.pow(10,ht)*Bt)/Bt}while(ht<V||ht===V&&Rt<G);const Kt=ui(D.max,st);return tt.push({value:Kt,major:_a(st)}),tt}({min:this._userMin,max:this._userMax},this);return"ticks"===y.bounds&&Aa(S,this,"value"),y.reverse?(S.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),S}getLabelForValue(y){return void 0===y?"0":yu(y,this.chart.options.locale)}configure(){const y=this.min;super.configure(),this._startValue=Vo(y),this._valueRange=Vo(this.max)-Vo(y)}getPixelForValue(y){return void 0!==y&&0!==y||(y=this.min),null===y||isNaN(y)?NaN:this.getPixelForDecimal(y===this.min?0:(Vo(y)-this._startValue)/this._valueRange)}getValueForPixel(y){const S=this.getDecimalForPixel(y);return Math.pow(10,this._startValue+S*this._valueRange)}}function gp(T){const y=T.ticks;if(y.display&&T.display){const S=Yr(y.backdropPadding);return hi(y.font&&y.font.size,ge.font.size)+S.height}return 0}function cd(T,y,S,D,R){return T===D||T===R?{start:y-S/2,end:y+S/2}:T<D||T>R?{start:y-S,end:y}:{start:y,end:y+S}}function mp(T){return 0===T||180===T?"center":T<180?"left":"right"}function Ns(T,y,S){return"right"===S?T-=y:"center"===S&&(T-=y/2),T}function Rs(T,y,S){return 90===S||270===S?T-=y/2:(S>270||S<90)&&(T-=y),T}function hd(T,y,S,D){const{ctx:R}=T;if(S)R.arc(T.xCenter,T.yCenter,y,0,ir);else{let V=T.getPointPosition(0,y);R.moveTo(V.x,V.y);for(let G=1;G<D;G++)V=T.getPointPosition(G,y),R.lineTo(V.x,V.y)}}function dd(T){return Na(T)?T:0}hf.id="logarithmic",hf.defaults={ticks:{callback:no.formatters.logarithmic,major:{enabled:!0}}};class sl extends ld{constructor(y){super(y),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){this.width=this.maxWidth,this.height=this.maxHeight,this.paddingTop=gp(this.options)/2,this.xCenter=Math.floor(this.width/2),this.yCenter=Math.floor((this.height-this.paddingTop)/2),this.drawingArea=Math.min(this.height-this.paddingTop,this.width)/2}determineDataLimits(){const{min:y,max:S}=this.getMinMax(!1);this.min=ti(y)&&!isNaN(y)?y:0,this.max=ti(S)&&!isNaN(S)?S:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/gp(this.options))}generateTickLabels(y){ld.prototype.generateTickLabels.call(this,y),this._pointLabels=this.getLabels().map((S,D)=>{const R=dn(this.options.pointLabels.callback,[S,D],this);return R||0===R?R:""})}fit(){const y=this.options;y.display&&y.pointLabels.display?function(T){const y={l:0,r:T.width,t:0,b:T.height-T.paddingTop},S={},D=[],R=[],V=T.getLabels().length;for(let ht=0;ht<V;ht++){const Rt=T.options.pointLabels.setContext(T.getPointLabelContext(ht));R[ht]=Rt.padding;const Bt=T.getPointPosition(ht,T.drawingArea+R[ht]),Kt=lo(Rt.font),ce=(G=T.ctx,tt=Kt,st=hn(st=T._pointLabels[ht])?st:[st],{w:F(G,tt.string,st),h:st.length*tt.lineHeight});D[ht]=ce;const xe=T.getIndexAngle(ht),we=Dr(xe),Ee=cd(we,Bt.x,ce.w,0,180),He=cd(we,Bt.y,ce.h,90,270);Ee.start<y.l&&(y.l=Ee.start,S.l=xe),Ee.end>y.r&&(y.r=Ee.end,S.r=xe),He.start<y.t&&(y.t=He.start,S.t=xe),He.end>y.b&&(y.b=He.end,S.b=xe)}var G,tt,st;T._setReductions(T.drawingArea,y,S),T._pointLabelItems=function(ht,Rt,Bt){const Kt=[],ce=ht.getLabels().length,xe=ht.options,we=gp(xe),Ee=ht.getDistanceFromCenterForValue(xe.ticks.reverse?ht.min:ht.max);for(let He=0;He<ce;He++){const un=ht.getPointPosition(He,Ee+(0===He?we/2:0)+Bt[He]),yn=Dr(ht.getIndexAngle(He)),Fn=Rt[He],Qn=Rs(un.y,Fn.h,yn),ni=mp(yn),Si=Ns(un.x,Fn.w,ni);Kt.push({x:un.x,y:Qn,textAlign:ni,left:Si,top:Qn,right:Si+Fn.w,bottom:Qn+Fn.h})}return Kt}(T,D,R)}(this):this.setCenterPoint(0,0,0,0)}_setReductions(y,S,D){let R=S.l/Math.sin(D.l),V=Math.max(S.r-this.width,0)/Math.sin(D.r),G=-S.t/Math.cos(D.t),tt=-Math.max(S.b-(this.height-this.paddingTop),0)/Math.cos(D.b);R=dd(R),V=dd(V),G=dd(G),tt=dd(tt),this.drawingArea=Math.max(y/2,Math.min(Math.floor(y-(R+V)/2),Math.floor(y-(G+tt)/2))),this.setCenterPoint(R,V,G,tt)}setCenterPoint(y,S,D,R){const tt=D+this.drawingArea,st=this.height-this.paddingTop-R-this.drawingArea;this.xCenter=Math.floor((y+this.drawingArea+(this.width-S-this.drawingArea))/2+this.left),this.yCenter=Math.floor((tt+st)/2+this.top+this.paddingTop)}getIndexAngle(y){return h(y*(ir/this.getLabels().length)+Ho(this.options.startAngle||0))}getDistanceFromCenterForValue(y){if(sn(y))return NaN;const S=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-y)*S:(y-this.min)*S}getValueForDistanceFromCenter(y){if(sn(y))return NaN;const S=y/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-S:this.min+S}getPointLabelContext(y){const S=this._pointLabels||[];if(y>=0&&y<S.length){const D=S[y];return Ma(this.getContext(),{label:D,index:y,type:"pointLabel"})}}getPointPosition(y,S){const D=this.getIndexAngle(y)-Lr;return{x:Math.cos(D)*S+this.xCenter,y:Math.sin(D)*S+this.yCenter,angle:D}}getPointPositionForValue(y,S){return this.getPointPosition(y,this.getDistanceFromCenterForValue(S))}getBasePosition(y){return this.getPointPositionForValue(y||0,this.getBaseValue())}getPointLabelPosition(y){const{left:S,top:D,right:R,bottom:V}=this._pointLabelItems[y];return{left:S,top:D,right:R,bottom:V}}drawBackground(){const{backgroundColor:y,grid:{circular:S}}=this.options;if(y){const D=this.ctx;D.save(),D.beginPath(),hd(this,this.getDistanceFromCenterForValue(this._endValue),S,this.getLabels().length),D.closePath(),D.fillStyle=y,D.fill(),D.restore()}}drawGrid(){const y=this.ctx,S=this.options,{angleLines:D,grid:R}=S,V=this.getLabels().length;let G,tt,st;if(S.pointLabels.display&&function(ht,Rt){const{ctx:Bt,options:{pointLabels:Kt}}=ht;for(let ce=Rt-1;ce>=0;ce--){const xe=Kt.setContext(ht.getPointLabelContext(ce)),we=lo(xe.font),{x:Ee,y:He,textAlign:en,left:un,top:yn,right:Fn,bottom:Qn}=ht._pointLabelItems[ce],{backdropColor:ni}=xe;if(!sn(ni)){const Si=Yr(xe.backdropPadding);Bt.fillStyle=ni,Bt.fillRect(un-Si.left,yn-Si.top,Fn-un+Si.width,Qn-yn+Si.height)}le(Bt,ht._pointLabels[ce],Ee,He+we.lineHeight/2,we,{color:xe.color,textAlign:en,textBaseline:"middle"})}}(this,V),R.display&&this.ticks.forEach((ht,Rt)=>{0!==Rt&&(tt=this.getDistanceFromCenterForValue(ht.value),function(Bt,Kt,ce,xe){const we=Bt.ctx,Ee=Kt.circular,{color:He,lineWidth:en}=Kt;!Ee&&!xe||!He||!en||ce<0||(we.save(),we.strokeStyle=He,we.lineWidth=en,we.setLineDash(Kt.borderDash),we.lineDashOffset=Kt.borderDashOffset,we.beginPath(),hd(Bt,ce,Ee,xe),we.closePath(),we.stroke(),we.restore())}(this,R.setContext(this.getContext(Rt-1)),tt,V))}),D.display){for(y.save(),G=this.getLabels().length-1;G>=0;G--){const ht=D.setContext(this.getPointLabelContext(G)),{color:Rt,lineWidth:Bt}=ht;Bt&&Rt&&(y.lineWidth=Bt,y.strokeStyle=Rt,y.setLineDash(ht.borderDash),y.lineDashOffset=ht.borderDashOffset,tt=this.getDistanceFromCenterForValue(S.ticks.reverse?this.min:this.max),st=this.getPointPosition(G,tt),y.beginPath(),y.moveTo(this.xCenter,this.yCenter),y.lineTo(st.x,st.y),y.stroke())}y.restore()}}drawBorder(){}drawLabels(){const y=this.ctx,S=this.options,D=S.ticks;if(!D.display)return;const R=this.getIndexAngle(0);let V,G;y.save(),y.translate(this.xCenter,this.yCenter),y.rotate(R),y.textAlign="center",y.textBaseline="middle",this.ticks.forEach((tt,st)=>{if(0===st&&!S.reverse)return;const ht=D.setContext(this.getContext(st)),Rt=lo(ht.font);if(V=this.getDistanceFromCenterForValue(this.ticks[st].value),ht.showLabelBackdrop){y.font=Rt.string,G=y.measureText(tt.label).width,y.fillStyle=ht.backdropColor;const Bt=Yr(ht.backdropPadding);y.fillRect(-G/2-Bt.left,-V-Rt.size/2-Bt.top,G+Bt.width,Rt.size+Bt.height)}le(y,tt.label,0,-V,Rt,{color:ht.color})}),y.restore()}drawTitle(){}}sl.id="radialLinear",sl.defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:no.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:T=>T,padding:5}},sl.defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"},sl.descriptors={angleLines:{_fallback:"grid"}};const Th={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},To=Object.keys(Th);function Tr(T,y){return T-y}function Oc(T,y){if(sn(y))return null;const S=T._adapter,{parser:D,round:R,isoWeekday:V}=T._parseOpts;let G=y;return"function"==typeof D&&(G=D(G)),ti(G)||(G="string"==typeof D?S.parse(G,D):S.parse(G)),null===G?null:(R&&(G="week"!==R||!Na(V)&&!0!==V?S.startOf(G,R):S.startOf(G,"isoWeek",V)),+G)}function ll(T,y,S,D){const R=To.length;for(let V=To.indexOf(T);V<R-1;++V){const G=Th[To[V]],tt=G.steps?G.steps:Number.MAX_SAFE_INTEGER;if(G.common&&Math.ceil((S-y)/(tt*G.size))<=D)return To[V]}return To[R-1]}function vp(T,y,S){if(S){if(S.length){const{lo:D,hi:R}=j(S,y);T[S[D]>=y?S[D]:S[R]]=!0}}else T[y]=!0}function oc(T,y,S){const D=[],R={},V=y.length;let G,tt;for(G=0;G<V;++G)tt=y[G],R[tt]=G,D.push({value:tt,major:!1});return 0!==V&&S?function(st,ht,Rt,Bt){const Kt=st._adapter,ce=+Kt.startOf(ht[0].value,Bt),xe=ht[ht.length-1].value;let we,Ee;for(we=ce;we<=xe;we=+Kt.add(we,1,Bt))Ee=Rt[we],Ee>=0&&(ht[Ee].major=!0);return ht}(T,D,R,S):D}class Ih extends Da{constructor(y){super(y),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(y,S){const D=y.time||(y.time={}),R=this._adapter=new ba._date(y.adapters.date);Ni(D.displayFormats,R.formats()),this._parseOpts={parser:D.parser,round:D.round,isoWeekday:D.isoWeekday},super.init(y),this._normalized=S.normalized}parse(y,S){return void 0===y?null:Oc(this,y)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const y=this.options,S=this._adapter,D=y.time.unit||"day";let{min:R,max:V,minDefined:G,maxDefined:tt}=this.getUserBounds();function st(ht){G||isNaN(ht.min)||(R=Math.min(R,ht.min)),tt||isNaN(ht.max)||(V=Math.max(V,ht.max))}G&&tt||(st(this._getLabelBounds()),"ticks"===y.bounds&&"labels"===y.ticks.source||st(this.getMinMax(!1))),R=ti(R)&&!isNaN(R)?R:+S.startOf(Date.now(),D),V=ti(V)&&!isNaN(V)?V:+S.endOf(Date.now(),D)+1,this.min=Math.min(R,V-1),this.max=Math.max(R+1,V)}_getLabelBounds(){const y=this.getLabelTimestamps();let S=Number.POSITIVE_INFINITY,D=Number.NEGATIVE_INFINITY;return y.length&&(S=y[0],D=y[y.length-1]),{min:S,max:D}}buildTicks(){const y=this.options,S=y.time,D=y.ticks,R="labels"===D.source?this.getLabelTimestamps():this._generate();"ticks"===y.bounds&&R.length&&(this.min=this._userMin||R[0],this.max=this._userMax||R[R.length-1]);const V=this.min,G=he(R,V,this.max);return this._unit=S.unit||(D.autoSkip?ll(S.minUnit,this.min,this.max,this._getLabelCapacity(V)):function(tt,st,ht,Rt,Bt){for(let Kt=To.length-1;Kt>=To.indexOf(ht);Kt--){const ce=To[Kt];if(Th[ce].common&&tt._adapter.diff(Bt,Rt,ce)>=st-1)return ce}return To[ht?To.indexOf(ht):0]}(this,G.length,S.minUnit,this.min,this.max)),this._majorUnit=D.major.enabled&&"year"!==this._unit?function(tt){for(let st=To.indexOf(tt)+1,ht=To.length;st<ht;++st)if(Th[To[st]].common)return To[st]}(this._unit):void 0,this.initOffsets(R),y.reverse&&G.reverse(),oc(this,G,this._majorUnit)}initOffsets(y){let S,D,R=0,V=0;this.options.offset&&y.length&&(S=this.getDecimalForValue(y[0]),R=1===y.length?1-S:(this.getDecimalForValue(y[1])-S)/2,D=this.getDecimalForValue(y[y.length-1]),V=1===y.length?D:(D-this.getDecimalForValue(y[y.length-2]))/2);const G=y.length<3?.5:.25;R=_(R,0,G),V=_(V,0,G),this._offsets={start:R,end:V,factor:1/(R+1+V)}}_generate(){const y=this._adapter,S=this.min,D=this.max,R=this.options,V=R.time,G=V.unit||ll(V.minUnit,S,D,this._getLabelCapacity(S)),tt=hi(V.stepSize,1),st="week"===G&&V.isoWeekday,ht=Na(st)||!0===st,Rt={};let Bt,Kt,ce=S;if(ht&&(ce=+y.startOf(ce,"isoWeek",st)),ce=+y.startOf(ce,ht?"day":G),y.diff(D,S,G)>1e5*tt)throw new Error(S+" and "+D+" are too far apart with stepSize of "+tt+" "+G);const xe="data"===R.ticks.source&&this.getDataTimestamps();for(Bt=ce,Kt=0;Bt<D;Bt=+y.add(Bt,tt,G),Kt++)vp(Rt,Bt,xe);return Bt!==D&&"ticks"!==R.bounds&&1!==Kt||vp(Rt,Bt,xe),Object.keys(Rt).sort((we,Ee)=>we-Ee).map(we=>+we)}getLabelForValue(y){const D=this.options.time;return this._adapter.format(y,D.tooltipFormat?D.tooltipFormat:D.displayFormats.datetime)}_tickFormatFunction(y,S,D,R){const V=this.options,G=V.time.displayFormats,tt=this._unit,st=this._majorUnit,Rt=st&&G[st],Bt=D[S],ce=this._adapter.format(y,R||(st&&Rt&&Bt&&Bt.major?Rt:tt&&G[tt])),xe=V.ticks.callback;return xe?dn(xe,[ce,S,D],this):ce}generateTickLabels(y){let S,D,R;for(S=0,D=y.length;S<D;++S)R=y[S],R.label=this._tickFormatFunction(R.value,S,y)}getDecimalForValue(y){return null===y?NaN:(y-this.min)/(this.max-this.min)}getPixelForValue(y){const S=this._offsets,D=this.getDecimalForValue(y);return this.getPixelForDecimal((S.start+D)*S.factor)}getValueForPixel(y){const S=this._offsets,D=this.getDecimalForPixel(y)/S.factor-S.end;return this.min+D*(this.max-this.min)}_getLabelSize(y){const S=this.options.ticks,D=this.ctx.measureText(y).width,R=Ho(this.isHorizontal()?S.maxRotation:S.minRotation),V=Math.cos(R),G=Math.sin(R),tt=this._resolveTickFontOptions(0).size;return{w:D*V+tt*G,h:D*G+tt*V}}_getLabelCapacity(y){const S=this.options.time,D=S.displayFormats,R=D[S.unit]||D.millisecond,V=this._tickFormatFunction(y,0,oc(this,[y],this._majorUnit),R),G=this._getLabelSize(V),tt=Math.floor(this.isHorizontal()?this.width/G.w:this.height/G.h)-1;return tt>0?tt:1}getDataTimestamps(){let y,S,D=this._cache.data||[];if(D.length)return D;const R=this.getMatchingVisibleMetas();if(this._normalized&&R.length)return this._cache.data=R[0].controller.getAllParsedValues(this);for(y=0,S=R.length;y<S;++y)D=D.concat(R[y].controller.getAllParsedValues(this));return this._cache.data=this.normalize(D)}getLabelTimestamps(){const y=this._cache.labels||[];let S,D;if(y.length)return y;const R=this.getLabels();for(S=0,D=R.length;S<D;++S)y.push(Oc(this,R[S]));return this._cache.labels=this._normalized?y:this.normalize(y)}normalize(y){return Kn(y.sort(Tr))}}function df(T,y,S){let D,R,V,G,tt=0,st=T.length-1;S?(y>=T[tt].pos&&y<=T[st].pos&&({lo:tt,hi:st}=ut(T,"pos",y)),({pos:D,time:V}=T[tt]),({pos:R,time:G}=T[st])):(y>=T[tt].time&&y<=T[st].time&&({lo:tt,hi:st}=ut(T,"time",y)),({time:D,pos:V}=T[tt]),({time:R,pos:G}=T[st]));const ht=R-D;return ht?V+(G-V)*(y-D)/ht:V}Ih.id="time",Ih.defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",major:{enabled:!1}}};class fd extends Ih{constructor(y){super(y),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const y=this._getTimestampsForTable(),S=this._table=this.buildLookupTable(y);this._minPos=df(S,this.min),this._tableRange=df(S,this.max)-this._minPos,super.initOffsets(y)}buildLookupTable(y){const{min:S,max:D}=this,R=[],V=[];let G,tt,st,ht,Rt;for(G=0,tt=y.length;G<tt;++G)ht=y[G],ht>=S&&ht<=D&&R.push(ht);if(R.length<2)return[{time:S,pos:0},{time:D,pos:1}];for(G=0,tt=R.length;G<tt;++G)Rt=R[G+1],st=R[G-1],ht=R[G],Math.round((Rt+st)/2)!==ht&&V.push({time:ht,pos:G/(tt-1)});return V}_getTimestampsForTable(){let y=this._cache.all||[];if(y.length)return y;const S=this.getDataTimestamps(),D=this.getLabelTimestamps();return y=S.length&&D.length?this.normalize(S.concat(D)):S.length?S:D,y=this._cache.all=y,y}getDecimalForValue(y){return(df(this._table,y)-this._minPos)/this._tableRange}getValueForPixel(y){const S=this._offsets,D=this.getDecimalForPixel(y)/S.factor-S.end;return df(this._table,D*this._tableRange+this._minPos,!0)}}fd.id="timeseries",fd.defaults=Ih.defaults;var zr=Object.freeze({__proto__:null,CategoryScale:tu,LinearScale:ud,LogarithmicScale:hf,RadialLinearScale:sl,TimeScale:Ih,TimeSeriesScale:fd});return qi.register(af,zr,Go,rc),qi.helpers=er({},mh),qi._adapters=ba,qi.Animation=Ks,qi.Animations=Js,qi.animator=Wt,qi.controllers=ue.controllers.items,qi.DatasetController=Lo,qi.Element=Co,qi.elements=Go,qi.Interaction=dh,qi.layouts=jo,qi.platforms=as,qi.Scale=Da,qi.Ticks=no,Object.assign(qi,af,zr,Go,rc,as),qi.Chart=qi,"undefined"!=typeof window&&(window.Chart=qi),qi}),function(Le,$t){"object"==typeof exports&&"undefined"!=typeof module?$t(exports):"function"==typeof define&&define.amd?define(["exports"],$t):$t((Le="undefined"!=typeof globalThis?globalThis:Le||self).echarts={})}(this,function(Le){"use strict";var $t=function(n,e){return($t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])})(n,e)};function Tt(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function t(){this.constructor=n}$t(n,e),n.prototype=null===e?Object.create(e):(t.prototype=e.prototype,new t)}var ee=function(){return(ee=Object.assign||function(n){for(var e,t=1,i=arguments.length;t<i;t++)for(var r in e=arguments[t])Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}).apply(this,arguments)};function Oe(n,e,t){if(t||2===arguments.length)for(var i,r=0,o=e.length;r<o;r++)!i&&r in e||(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return n.concat(i||e)}var ve=function(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1},Wt=new function(){this.browser=new ve,this.node=!1,this.wxa=!1,this.worker=!1,this.canvasSupported=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1,this.transformSupported=!1,this.transform3dSupported=!1};"object"==typeof wx&&"function"==typeof wx.getSystemInfoSync?(Wt.wxa=!0,Wt.canvasSupported=!0,Wt.touchEventsSupported=!0):"undefined"==typeof document&&"undefined"!=typeof self?(Wt.worker=!0,Wt.canvasSupported=!0):"undefined"==typeof navigator?(Wt.node=!0,Wt.canvasSupported=!0,Wt.svgSupported=!0):function(n,e){var t=e.browser,i=n.match(/Firefox\/([\d.]+)/),r=n.match(/MSIE\s([\d.]+)/)||n.match(/Trident\/.+?rv:(([\d.]+))/),o=n.match(/Edge?\/([\d.]+)/),s=/micromessenger/i.test(n);i&&(t.firefox=!0,t.version=i[1]),r&&(t.ie=!0,t.version=r[1]),o&&(t.edge=!0,t.version=o[1],t.newEdge=+o[1].split(".")[0]>18),s&&(t.weChat=!0),e.canvasSupported=!!document.createElement("canvas").getContext,e.svgSupported="undefined"!=typeof SVGRect,e.touchEventsSupported="ontouchstart"in window&&!t.ie&&!t.edge,e.pointerEventsSupported="onpointerdown"in window&&(t.edge||t.ie&&+t.version>=11),e.domSupported="undefined"!=typeof document;var l=document.documentElement.style;e.transform3dSupported=(t.ie&&"transition"in l||t.edge||"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MozPerspective"in l)&&!("OTransition"in l),e.transformSupported=e.transform3dSupported||t.ie&&+t.version>=9}(navigator.userAgent,Wt);var Ft={"[object Function]":!0,"[object RegExp]":!0,"[object Date]":!0,"[object Error]":!0,"[object CanvasGradient]":!0,"[object CanvasPattern]":!0,"[object Image]":!0,"[object Canvas]":!0},Nt={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0},gt=Object.prototype.toString,dt=Array.prototype,ft=dt.forEach,St=dt.filter,Et=dt.slice,lt=dt.map,_t=function(){}.constructor,xt=_t?_t.prototype:null,ot="__proto__",it={};function It(n,e){it[n]=e}var Ut=2311;function Yt(){return Ut++}function ie(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];"undefined"!=typeof console&&console.error.apply(console,n)}function Pt(n){if(null==n||"object"!=typeof n)return n;var e=n,t=gt.call(n);if("[object Array]"===t){if(!qr(n)){e=[];for(var i=0,r=n.length;i<r;i++)e[i]=Pt(n[i])}}else if(Nt[t]){if(!qr(n)){var o=n.constructor;if(o.from)e=o.from(n);else for(e=new o(n.length),i=0,r=n.length;i<r;i++)e[i]=Pt(n[i])}}else if(!Ft[t]&&!qr(n)&&!hi(n))for(var s in e={},n)n.hasOwnProperty(s)&&s!==ot&&(e[s]=Pt(n[s]));return e}function Xt(n,e,t){if(!$e(e)||!$e(n))return t?Pt(e):n;for(var i in e)if(e.hasOwnProperty(i)&&i!==ot){var r=n[i],o=e[i];!$e(o)||!$e(r)||Jt(o)||Jt(r)||hi(o)||hi(r)||ti(o)||ti(r)||qr(o)||qr(r)?!t&&i in n||(n[i]=Pt(e[i])):Xt(r,o,t)}return n}function vt(n,e){for(var t=n[0],i=1,r=n.length;i<r;i++)t=Xt(t,n[i],e);return t}function Dt(n,e){if(Object.assign)Object.assign(n,e);else for(var t in e)e.hasOwnProperty(t)&&t!==ot&&(n[t]=e[t]);return n}function se(n,e,t){for(var i=be(e),r=0;r<i.length;r++){var o=i[r];(t?null!=e[o]:null==n[o])&&(n[o]=e[o])}return n}var Pe=function(){return it.createCanvas()};function Ne(n,e){if(n){if(n.indexOf)return n.indexOf(e);for(var t=0,i=n.length;t<i;t++)if(n[t]===e)return t}return-1}function tn(n,e){var t=n.prototype;function i(){}for(var r in i.prototype=e.prototype,n.prototype=new i,t)t.hasOwnProperty(r)&&(n.prototype[r]=t[r]);n.prototype.constructor=n,n.superClass=e}function on(n,e,t){if(n="prototype"in n?n.prototype:n,e="prototype"in e?e.prototype:e,Object.getOwnPropertyNames)for(var i=Object.getOwnPropertyNames(e),r=0;r<i.length;r++){var o=i[r];"constructor"!==o&&(t?null!=e[o]:null==n[o])&&(n[o]=e[o])}else se(n,e,t)}function an(n){return!!n&&"string"!=typeof n&&"number"==typeof n.length}function mt(n,e,t){if(n&&e)if(n.forEach&&n.forEach===ft)n.forEach(e,t);else if(n.length===+n.length)for(var i=0,r=n.length;i<r;i++)e.call(t,n[i],i,n);else for(var o in n)n.hasOwnProperty(o)&&e.call(t,n[o],o,n)}function zt(n,e,t){if(!n)return[];if(!e)return Di(n);if(n.map&&n.map===lt)return n.map(e,t);for(var i=[],r=0,o=n.length;r<o;r++)i.push(e.call(t,n[r],r,n));return i}function oe(n,e,t,i){if(n&&e){for(var r=0,o=n.length;r<o;r++)t=e.call(i,t,n[r],r,n);return t}}function Ae(n,e,t){if(!n)return[];if(!e)return Di(n);if(n.filter&&n.filter===St)return n.filter(e,t);for(var i=[],r=0,o=n.length;r<o;r++)e.call(t,n[r],r,n)&&i.push(n[r]);return i}function ze(n,e,t){if(n&&e)for(var i=0,r=n.length;i<r;i++)if(e.call(t,n[i],i,n))return n[i]}function be(n){if(!n)return[];if(Object.keys)return Object.keys(n);var e=[];for(var t in n)n.hasOwnProperty(t)&&e.push(t);return e}it.createCanvas=function(){return document.createElement("canvas")};var _e=xt&&Fe(xt.bind)?xt.call.bind(xt.bind):function(n,e){for(var t=[],i=2;i<arguments.length;i++)t[i-2]=arguments[i];return function(){return n.apply(e,t.concat(Et.call(arguments)))}};function de(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return function(){return n.apply(this,e.concat(Et.call(arguments)))}}function Jt(n){return Array.isArray?Array.isArray(n):"[object Array]"===gt.call(n)}function Fe(n){return"function"==typeof n}function Ke(n){return"string"==typeof n}function sn(n){return"[object String]"===gt.call(n)}function hn(n){return"number"==typeof n}function $e(n){var e=typeof n;return"function"===e||!!n&&"object"===e}function ti(n){return!!Ft[gt.call(n)]}function ui(n){return!!Nt[gt.call(n)]}function hi(n){return"object"==typeof n&&"number"==typeof n.nodeType&&"object"==typeof n.ownerDocument}function ur(n){return null!=n.colorStops}function Zi(n){return null!=n.image}function dn(n){return"[object RegExp]"===gt.call(n)}function fn(n){return n!=n}function On(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];for(var t=0,i=n.length;t<i;t++)if(null!=n[t])return n[t]}function Tn(n,e){return null!=n?n:e}function En(n,e,t){return null!=n?n:null!=e?e:t}function Di(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return Et.apply(n,e)}function Oi(n){if("number"==typeof n)return[n,n,n,n];var e=n.length;return 2===e?[n[0],n[1],n[0],n[1]]:3===e?[n[0],n[1],n[2],n[1]]:n}function Ni(n,e){if(!n)throw new Error(e)}function br(n){return null==n?null:"function"==typeof n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var ji="__ec_primitive__";function nr(n){n[ji]=!0}function qr(n){return n[ji]}var Io=function(){function n(e){this.data={};var t=Jt(e);this.data={};var i=this;function r(o,s){t?i.set(o,s):i.set(s,o)}e instanceof n?e.each(r):e&&mt(e,r)}return n.prototype.get=function(e){return this.data.hasOwnProperty(e)?this.data[e]:null},n.prototype.set=function(e,t){return this.data[e]=t},n.prototype.each=function(e,t){for(var i in this.data)this.data.hasOwnProperty(i)&&e.call(t,this.data[i],i)},n.prototype.keys=function(){return be(this.data)},n.prototype.removeKey=function(e){delete this.data[e]},n}();function ii(n){return new Io(n)}function Bl(n,e){for(var t=new n.constructor(n.length+e.length),i=0;i<n.length;i++)t[i]=n[i];var r=n.length;for(i=0;i<e.length;i++)t[i+r]=e[i];return t}function Fo(n,e){var t;if(Object.create)t=Object.create(n);else{var i=function(){};i.prototype=n,t=new i}return e&&Dt(t,e),t}function ei(n,e){return n.hasOwnProperty(e)}function Mr(){}var ta=Object.freeze({__proto__:null,$override:It,guid:Yt,logError:ie,clone:Pt,merge:Xt,mergeAll:vt,extend:Dt,defaults:se,createCanvas:Pe,indexOf:Ne,inherits:tn,mixin:on,isArrayLike:an,each:mt,map:zt,reduce:oe,filter:Ae,find:ze,keys:be,bind:_e,curry:de,isArray:Jt,isFunction:Fe,isString:Ke,isStringSafe:sn,isNumber:hn,isObject:$e,isBuiltInObject:ti,isTypedArray:ui,isDom:hi,isGradientObject:ur,isImagePatternObject:Zi,isRegExp:dn,eqNaN:fn,retrieve:On,retrieve2:Tn,retrieve3:En,slice:Di,normalizeCssArray:Oi,assert:Ni,trim:br,setAsPrimitive:nr,isPrimitive:qr,HashMap:Io,createHashMap:ii,concatArray:Bl,createObject:Fo,hasOwn:ei,noop:Mr});function ge(n,e){return null==n&&(n=0),null==e&&(e=0),[n,e]}function Vi(n,e){return n[0]=e[0],n[1]=e[1],n}function ir(n){return[n[0],n[1]]}function Xs(n,e,t){return n[0]=e,n[1]=t,n}function ho(n,e,t){return n[0]=e[0]+t[0],n[1]=e[1]+t[1],n}function ca(n,e,t,i){return n[0]=e[0]+t[0]*i,n[1]=e[1]+t[1]*i,n}function Lr(n,e,t){return n[0]=e[0]-t[0],n[1]=e[1]-t[1],n}function Ja(n){return Math.sqrt(Vo(n))}function Vo(n){return n[0]*n[0]+n[1]*n[1]}function oo(n,e,t){return n[0]=e[0]*t,n[1]=e[1]*t,n}function Oa(n,e){var t=Ja(e);return 0===t?(n[0]=0,n[1]=0):(n[0]=e[0]/t,n[1]=e[1]/t),n}function Na(n,e){return Math.sqrt((n[0]-e[0])*(n[0]-e[0])+(n[1]-e[1])*(n[1]-e[1]))}var Nr=Na;function pu(n,e){return(n[0]-e[0])*(n[0]-e[0])+(n[1]-e[1])*(n[1]-e[1])}var Aa=pu;function Ho(n,e,t,i){return n[0]=e[0]+i*(t[0]-e[0]),n[1]=e[1]+i*(t[1]-e[1]),n}function Dr(n,e,t){var i=e[0],r=e[1];return n[0]=t[0]*i+t[2]*r+t[4],n[1]=t[1]*i+t[3]*r+t[5],n}function ts(n,e,t){return n[0]=Math.min(e[0],t[0]),n[1]=Math.min(e[1],t[1]),n}function Ra(n,e,t){return n[0]=Math.max(e[0],t[0]),n[1]=Math.max(e[1],t[1]),n}var ae=Object.freeze({__proto__:null,create:ge,copy:Vi,clone:ir,set:Xs,add:ho,scaleAndAdd:ca,sub:Lr,len:Ja,length:Ja,lenSquare:Vo,lengthSquare:Vo,mul:function(n,e,t){return n[0]=e[0]*t[0],n[1]=e[1]*t[1],n},div:function(n,e,t){return n[0]=e[0]/t[0],n[1]=e[1]/t[1],n},dot:function(n,e){return n[0]*e[0]+n[1]*e[1]},scale:oo,normalize:Oa,distance:Na,dist:Nr,distanceSquare:pu,distSquare:Aa,negate:function(n,e){return n[0]=-e[0],n[1]=-e[1],n},lerp:Ho,applyTransform:Dr,min:ts,max:Ra}),c=function(n,e){this.target=n,this.topTarget=e&&e.topTarget},h=function(){function n(e){this.handler=e,e.on("mousedown",this._dragStart,this),e.on("mousemove",this._drag,this),e.on("mouseup",this._dragEnd,this)}return n.prototype._dragStart=function(e){for(var t=e.target;t&&!t.draggable;)t=t.parent;t&&(this._draggingTarget=t,t.dragging=!0,this._x=e.offsetX,this._y=e.offsetY,this.handler.dispatchToElement(new c(t,e),"dragstart",e.event))},n.prototype._drag=function(e){var t=this._draggingTarget;if(t){var i=e.offsetX,r=e.offsetY,o=i-this._x,s=r-this._y;this._x=i,this._y=r,t.drift(o,s,e),this.handler.dispatchToElement(new c(t,e),"drag",e.event);var l=this.handler.findHover(i,r,t).target,u=this._dropTarget;this._dropTarget=l,t!==l&&(u&&l!==u&&this.handler.dispatchToElement(new c(u,e),"dragleave",e.event),l&&l!==u&&this.handler.dispatchToElement(new c(l,e),"dragenter",e.event))}},n.prototype._dragEnd=function(e){var t=this._draggingTarget;t&&(t.dragging=!1),this.handler.dispatchToElement(new c(t,e),"dragend",e.event),this._dropTarget&&this.handler.dispatchToElement(new c(this._dropTarget,e),"drop",e.event),this._draggingTarget=null,this._dropTarget=null},n}(),v=function(){function n(e){e&&(this._$eventProcessor=e)}return n.prototype.on=function(e,t,i,r){this._$handlers||(this._$handlers={});var o=this._$handlers;if("function"==typeof t&&(r=i,i=t,t=null),!i||!e)return this;var s=this._$eventProcessor;null!=t&&s&&s.normalizeQuery&&(t=s.normalizeQuery(t)),o[e]||(o[e]=[]);for(var l=0;l<o[e].length;l++)if(o[e][l].h===i)return this;var u={h:i,query:t,ctx:r||this,callAtLast:i.zrEventfulCallAtLast},f=o[e].length-1,p=o[e][f];return p&&p.callAtLast?o[e].splice(f,0,u):o[e].push(u),this},n.prototype.isSilent=function(e){var t=this._$handlers;return!t||!t[e]||!t[e].length},n.prototype.off=function(e,t){var i=this._$handlers;if(!i)return this;if(!e)return this._$handlers={},this;if(t){if(i[e]){for(var r=[],o=0,s=i[e].length;o<s;o++)i[e][o].h!==t&&r.push(i[e][o]);i[e]=r}i[e]&&0===i[e].length&&delete i[e]}else delete i[e];return this},n.prototype.trigger=function(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];if(!this._$handlers)return this;var r=this._$handlers[e],o=this._$eventProcessor;if(r)for(var s=t.length,l=r.length,u=0;u<l;u++){var f=r[u];if(!o||!o.filter||null==f.query||o.filter(e,f.query))switch(s){case 0:f.h.call(f.ctx);break;case 1:f.h.call(f.ctx,t[0]);break;case 2:f.h.call(f.ctx,t[0],t[1]);break;default:f.h.apply(f.ctx,t)}}return o&&o.afterTrigger&&o.afterTrigger(e),this},n.prototype.triggerWithContext=function(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];if(!this._$handlers)return this;var r=this._$handlers[e],o=this._$eventProcessor;if(r)for(var s=t.length,l=t[s-1],u=r.length,f=0;f<u;f++){var p=r[f];if(!o||!o.filter||null==p.query||o.filter(e,p.query))switch(s){case 0:p.h.call(l);break;case 1:p.h.call(l,t[0]);break;case 2:p.h.call(l,t[0],t[1]);break;default:p.h.apply(l,t.slice(1,s-1))}}return o&&o.afterTrigger&&o.afterTrigger(e),this},n}(),_=Math.log(2);function A(n,e,t,i,r,o){var s=i+"-"+r,l=n.length;if(o.hasOwnProperty(s))return o[s];if(1===e){var u=Math.round(Math.log((1<<l)-1&~r)/_);return n[t][u]}for(var f=i|1<<t,p=t+1;i&1<<p;)p++;for(var m=0,b=0,w=0;b<l;b++){var k=1<<b;k&r||(m+=(w%2?-1:1)*n[t][b]*A(n,e-1,p,f,r|k,o),w++)}return o[s]=m,m}function P(n,e){var t=[[n[0],n[1],1,0,0,0,-e[0]*n[0],-e[0]*n[1]],[0,0,0,n[0],n[1],1,-e[1]*n[0],-e[1]*n[1]],[n[2],n[3],1,0,0,0,-e[2]*n[2],-e[2]*n[3]],[0,0,0,n[2],n[3],1,-e[3]*n[2],-e[3]*n[3]],[n[4],n[5],1,0,0,0,-e[4]*n[4],-e[4]*n[5]],[0,0,0,n[4],n[5],1,-e[5]*n[4],-e[5]*n[5]],[n[6],n[7],1,0,0,0,-e[6]*n[6],-e[6]*n[7]],[0,0,0,n[6],n[7],1,-e[7]*n[6],-e[7]*n[7]]],i={},r=A(t,8,0,0,0,i);if(0!==r){for(var o=[],s=0;s<8;s++)for(var l=0;l<8;l++)null==o[l]&&(o[l]=0),o[l]+=((s+l)%2?-1:1)*A(t,7,0===s?1:0,1<<s,1<<l,i)/r*e[s];return function(u,f,p){var m=f*o[6]+p*o[7]+1;u[0]=(f*o[0]+p*o[1]+o[2])/m,u[1]=(f*o[3]+p*o[4]+o[5])/m}}}var E=[];function F(n,e,t,i,r){if(e.getBoundingClientRect&&Wt.domSupported&&!W(e)){var o=e.___zrEVENTSAVED||(e.___zrEVENTSAVED={}),s=function(l,u,f){for(var p=f?"invTrans":"trans",m=u[p],b=u.srcCoords,w=[],k=[],M=!0,I=0;I<4;I++){var O=l[I].getBoundingClientRect(),B=2*I,H=O.left,X=O.top;w.push(H,X),M=M&&b&&H===b[B]&&X===b[B+1],k.push(l[I].offsetLeft,l[I].offsetTop)}return M&&m?m:(u.srcCoords=w,u[p]=f?P(k,w):P(w,k))}(function(l,u){var f=u.markers;if(f)return f;f=u.markers=[];for(var p=["left","right"],m=["top","bottom"],b=0;b<4;b++){var w=document.createElement("div"),k=b%2,M=(b>>1)%2;w.style.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",p[k]+":0",m[M]+":0",p[1-k]+":auto",m[1-M]+":auto",""].join("!important;"),l.appendChild(w),f.push(w)}return f}(e,o),o,r);if(s)return s(n,t,i),!0}return!1}function W(n){return"CANVAS"===n.nodeName.toUpperCase()}var K="undefined"!=typeof window&&!!window.addEventListener,J=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,ct=[];function yt(n,e,t,i){return t=t||{},i||!Wt.canvasSupported?Vt(n,e,t):Wt.browser.firefox&&Wt.browser.version<"39"&&null!=e.layerX&&e.layerX!==e.offsetX?(t.zrX=e.layerX,t.zrY=e.layerY):null!=e.offsetX?(t.zrX=e.offsetX,t.zrY=e.offsetY):Vt(n,e,t),t}function Vt(n,e,t){if(Wt.domSupported&&n.getBoundingClientRect){var i=e.clientX,r=e.clientY;if(W(n)){var o=n.getBoundingClientRect();return t.zrX=i-o.left,void(t.zrY=r-o.top)}if(F(ct,n,i,r))return t.zrX=ct[0],void(t.zrY=ct[1])}t.zrX=t.zrY=0}function Ht(n){return n||window.event}function qt(n,e,t){if(null!=(e=Ht(e)).zrX)return e;var i=e.type;if(i&&i.indexOf("touch")>=0){var r="touchend"!==i?e.targetTouches[0]:e.changedTouches[0];r&&yt(n,r,e,t)}else{yt(n,e,e,t);var o=function(l){var u=l.wheelDelta;if(u)return u;var f=l.deltaX,p=l.deltaY;return null==f||null==p?u:3*Math.abs(0!==p?p:f)*(p>0?-1:p<0?1:f>0?-1:1)}(e);e.zrDelta=o?o/120:-(e.detail||0)/3}var s=e.button;return null==e.which&&void 0!==s&&J.test(e.type)&&(e.which=1&s?1:2&s?3:4&s?2:0),e}function le(n,e,t,i){K?n.addEventListener(e,t,i):n.attachEvent("on"+e,t)}var me=K?function(n){n.preventDefault(),n.stopPropagation(),n.cancelBubble=!0}:function(n){n.returnValue=!1,n.cancelBubble=!0};function De(n){return 2===n.which||3===n.which}var j=function(){function n(){this._track=[]}return n.prototype.recognize=function(e,t,i){return this._doTrack(e,t,i),this._recognize(e)},n.prototype.clear=function(){return this._track.length=0,this},n.prototype._doTrack=function(e,t,i){var r=e.touches;if(r){for(var o={points:[],touches:[],target:t,event:e},s=0,l=r.length;s<l;s++){var u=r[s],f=yt(i,u,{});o.points.push([f.zrX,f.zrY]),o.touches.push(u)}this._track.push(o)}},n.prototype._recognize=function(e){for(var t in Zt)if(Zt.hasOwnProperty(t)){var i=Zt[t](this._track,e);if(i)return i}},n}();function ut(n){var e=n[1][0]-n[0][0],t=n[1][1]-n[0][1];return Math.sqrt(e*e+t*t)}var Zt={pinch:function(n,e){var t=n.length;if(t){var i,r=(n[t-1]||{}).points,o=(n[t-2]||{}).points||r;if(o&&o.length>1&&r&&r.length>1){var s=ut(r)/ut(o);!isFinite(s)&&(s=1),e.pinchScale=s;var l=[((i=r)[0][0]+i[1][0])/2,(i[0][1]+i[1][1])/2];return e.pinchX=l[0],e.pinchY=l[1],{type:"pinch",target:n[0].target,event:e}}}}};function Ue(){me(this.event)}var kn=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.handler=null,t}return Tt(e,n),e.prototype.dispose=function(){},e.prototype.setCursor=function(){},e}(v),rn=function(n,e){this.x=n,this.y=e},Kn=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],zn=function(n){function e(t,i,r,o){var s=n.call(this)||this;return s._hovered=new rn(0,0),s.storage=t,s.painter=i,s.painterRoot=o,r=r||new kn,s.proxy=null,s.setHandlerProxy(r),s._draggingMgr=new h(s),s}return Tt(e,n),e.prototype.setHandlerProxy=function(t){this.proxy&&this.proxy.dispose(),t&&(mt(Kn,function(i){t.on&&t.on(i,this[i],this)},this),t.handler=this),this.proxy=t},e.prototype.mousemove=function(t){var i=t.zrX,r=t.zrY,o=Mi(this,i,r),s=this._hovered,l=s.target;l&&!l.__zr&&(l=(s=this.findHover(s.x,s.y)).target);var u=this._hovered=o?new rn(i,r):this.findHover(i,r),f=u.target,p=this.proxy;p.setCursor&&p.setCursor(f?f.cursor:"default"),l&&f!==l&&this.dispatchToElement(s,"mouseout",t),this.dispatchToElement(u,"mousemove",t),f&&f!==l&&this.dispatchToElement(u,"mouseover",t)},e.prototype.mouseout=function(t){var i=t.zrEventControl;"only_globalout"!==i&&this.dispatchToElement(this._hovered,"mouseout",t),"no_globalout"!==i&&this.trigger("globalout",{type:"globalout",event:t})},e.prototype.resize=function(){this._hovered=new rn(0,0)},e.prototype.dispatch=function(t,i){var r=this[t];r&&r.call(this,i)},e.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},e.prototype.setCursorStyle=function(t){var i=this.proxy;i.setCursor&&i.setCursor(t)},e.prototype.dispatchToElement=function(t,i,r){var f,p,o=(t=t||{}).target;if(!o||!o.silent){for(var s="on"+i,l={type:i,event:p=r,target:(f=t).target,topTarget:f.topTarget,cancelBubble:!1,offsetX:p.zrX,offsetY:p.zrY,gestureEvent:p.gestureEvent,pinchX:p.pinchX,pinchY:p.pinchY,pinchScale:p.pinchScale,wheelDelta:p.zrDelta,zrByTouch:p.zrByTouch,which:p.which,stop:Ue};o&&(o[s]&&(l.cancelBubble=!!o[s].call(o,l)),o.trigger(i,l),o=o.__hostTarget?o.__hostTarget:o.parent,!l.cancelBubble););l.cancelBubble||(this.trigger(i,l),this.painter&&this.painter.eachOtherLayer&&this.painter.eachOtherLayer(function(u){"function"==typeof u[s]&&u[s].call(u,l),u.trigger&&u.trigger(i,l)}))}},e.prototype.findHover=function(t,i,r){for(var o=this.storage.getDisplayList(),s=new rn(t,i),l=o.length-1;l>=0;l--){var u=void 0;if(o[l]!==r&&!o[l].ignore&&(u=ai(o[l],t,i))&&(!s.topTarget&&(s.topTarget=o[l]),"silent"!==u)){s.target=o[l];break}}return s},e.prototype.processGesture=function(t,i){this._gestureMgr||(this._gestureMgr=new j);var r=this._gestureMgr;"start"===i&&r.clear();var o=r.recognize(t,this.findHover(t.zrX,t.zrY,null).target,this.proxy.dom);if("end"===i&&r.clear(),o){var s=o.type;t.gestureEvent=s;var l=new rn;l.target=o.target,this.dispatchToElement(l,s,o.event)}},e}(v);function ai(n,e,t){if(n[n.rectHover?"rectContain":"contain"](e,t)){for(var i=n,r=void 0,o=!1;i;){if(i.ignoreClip&&(o=!0),!o){var s=i.getClipPath();if(s&&!s.contain(e,t))return!1;i.silent&&(r=!0)}i=i.__hostTarget||i.parent}return!r||"silent"}return!1}function Mi(n,e,t){var i=n.painter;return e<0||e>i.getWidth()||t<0||t>i.getHeight()}function Ki(n,e,t,i){var r=e+1;if(r===t)return 1;if(i(n[r++],n[e])<0){for(;r<t&&i(n[r],n[r-1])<0;)r++;!function(o,s,l){for(l--;s<l;){var u=o[s];o[s++]=o[l],o[l--]=u}}(n,e,r)}else for(;r<t&&i(n[r],n[r-1])>=0;)r++;return r-e}function Qi(n,e,t,i,r){for(i===e&&i++;i<t;i++){for(var o,s=n[i],l=e,u=i;l<u;)r(s,n[o=l+u>>>1])<0?u=o:l=o+1;var f=i-l;switch(f){case 3:n[l+3]=n[l+2];case 2:n[l+2]=n[l+1];case 1:n[l+1]=n[l];break;default:for(;f>0;)n[l+f]=n[l+f-1],f--}n[l]=s}}function Ur(n,e,t,i,r,o){var s=0,l=0,u=1;if(o(n,e[t+r])>0){for(l=i-r;u<l&&o(n,e[t+r+u])>0;)s=u,(u=1+(u<<1))<=0&&(u=l);u>l&&(u=l),s+=r,u+=r}else{for(l=r+1;u<l&&o(n,e[t+r-u])<=0;)s=u,(u=1+(u<<1))<=0&&(u=l);u>l&&(u=l);var f=s;s=r-u,u=r-f}for(s++;s<u;){var p=s+(u-s>>>1);o(n,e[t+p])>0?s=p+1:u=p}return u}function ao(n,e,t,i,r,o){var s=0,l=0,u=1;if(o(n,e[t+r])<0){for(l=r+1;u<l&&o(n,e[t+r-u])<0;)s=u,(u=1+(u<<1))<=0&&(u=l);u>l&&(u=l);var f=s;s=r-u,u=r-f}else{for(l=i-r;u<l&&o(n,e[t+r+u])>=0;)s=u,(u=1+(u<<1))<=0&&(u=l);u>l&&(u=l),s+=r,u+=r}for(s++;s<u;){var p=s+(u-s>>>1);o(n,e[t+p])<0?u=p:s=p+1}return u}function ns(n,e,t,i){t||(t=0),i||(i=n.length);var r=i-t;if(!(r<2)){var o=0;if(r<32)Qi(n,t,i,t+(o=Ki(n,t,i,e)),e);else{var s=function(n,e){var t,i,r=7,o=0,s=[];function l(u){var f=t[u],p=i[u],m=t[u+1],b=i[u+1];i[u]=p+b,u===o-3&&(t[u+1]=t[u+2],i[u+1]=i[u+2]),o--;var w=ao(n[m],n,f,p,0,e);f+=w,0!=(p-=w)&&0!==(b=Ur(n[f+p-1],n,m,b,b-1,e))&&(p<=b?function(k,M,I,O){var B=0;for(B=0;B<M;B++)s[B]=n[k+B];var H=0,X=I,U=k;if(n[U++]=n[X++],0!=--O)if(1!==M){for(var $,et,at,At=r;;){$=0,et=0,at=!1;do{if(e(n[X],s[H])<0){if(n[U++]=n[X++],et++,$=0,0==--O){at=!0;break}}else if(n[U++]=s[H++],$++,et=0,1==--M){at=!0;break}}while(($|et)<At);if(at)break;do{if(0!==($=ao(n[X],s,H,M,0,e))){for(B=0;B<$;B++)n[U+B]=s[H+B];if(U+=$,H+=$,(M-=$)<=1){at=!0;break}}if(n[U++]=n[X++],0==--O){at=!0;break}if(0!==(et=Ur(s[H],n,X,O,0,e))){for(B=0;B<et;B++)n[U+B]=n[X+B];if(U+=et,X+=et,0==(O-=et)){at=!0;break}}if(n[U++]=s[H++],1==--M){at=!0;break}At--}while($>=7||et>=7);if(at)break;At<0&&(At=0),At+=2}if((r=At)<1&&(r=1),1===M){for(B=0;B<O;B++)n[U+B]=n[X+B];n[U+O]=s[H]}else{if(0===M)throw new Error;for(B=0;B<M;B++)n[U+B]=s[H+B]}}else{for(B=0;B<O;B++)n[U+B]=n[X+B];n[U+O]=s[H]}else for(B=0;B<M;B++)n[U+B]=s[H+B]}(f,p,m,b):function(k,M,I,O){var B=0;for(B=0;B<O;B++)s[B]=n[I+B];var H=k+M-1,X=O-1,U=I+O-1,$=0,et=0;if(n[U--]=n[H--],0!=--M)if(1!==O){for(var at=r;;){var At=0,Mt=0,Lt=!1;do{if(e(s[X],n[H])<0){if(n[U--]=n[H--],At++,Mt=0,0==--M){Lt=!0;break}}else if(n[U--]=s[X--],Mt++,At=0,1==--O){Lt=!0;break}}while((At|Mt)<at);if(Lt)break;do{if(0!=(At=M-ao(s[X],n,k,M,M-1,e))){for(M-=At,et=1+(U-=At),$=1+(H-=At),B=At-1;B>=0;B--)n[et+B]=n[$+B];if(0===M){Lt=!0;break}}if(n[U--]=s[X--],1==--O){Lt=!0;break}if(0!=(Mt=O-Ur(n[H],s,0,O,O-1,e))){for(O-=Mt,et=1+(U-=Mt),$=1+(X-=Mt),B=0;B<Mt;B++)n[et+B]=s[$+B];if(O<=1){Lt=!0;break}}if(n[U--]=n[H--],0==--M){Lt=!0;break}at--}while(At>=7||Mt>=7);if(Lt)break;at<0&&(at=0),at+=2}if((r=at)<1&&(r=1),1===O){for(et=1+(U-=M),$=1+(H-=M),B=M-1;B>=0;B--)n[et+B]=n[$+B];n[U]=s[X]}else{if(0===O)throw new Error;for($=U-(O-1),B=0;B<O;B++)n[$+B]=s[B]}}else{for(et=1+(U-=M),$=1+(H-=M),B=M-1;B>=0;B--)n[et+B]=n[$+B];n[U]=s[X]}else for($=U-(O-1),B=0;B<O;B++)n[$+B]=s[B]}(f,p,m,b))}return t=[],i=[],{mergeRuns:function(){for(;o>1;){var u=o-2;if(u>=1&&i[u-1]<=i[u]+i[u+1]||u>=2&&i[u-2]<=i[u]+i[u-1])i[u-1]<i[u+1]&&u--;else if(i[u]>i[u+1])break;l(u)}},forceMergeRuns:function(){for(;o>1;){var u=o-2;u>0&&i[u-1]<i[u+1]&&u--,l(u)}},pushRun:function(u,f){t[o]=u,i[o]=f,o+=1}}}(n,e),l=function(f){for(var p=0;f>=32;)p|=1&f,f>>=1;return f+p}(r);do{if((o=Ki(n,t,i,e))<l){var u=r;u>l&&(u=l),Qi(n,t,t+u,t+o,e),o=u}s.pushRun(t,o),s.mergeRuns(),r-=o,t+=o}while(0!==r);s.forceMergeRuns()}}}mt(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(n){zn.prototype[n]=function(e){var t,i,r=e.zrX,o=e.zrY,s=Mi(this,r,o);if("mouseup"===n&&s||(i=(t=this.findHover(r,o)).target),"mousedown"===n)this._downEl=i,this._downPoint=[e.zrX,e.zrY],this._upEl=i;else if("mouseup"===n)this._upEl=i;else if("click"===n){if(this._downEl!==this._upEl||!this._downPoint||Nr(this._downPoint,[e.zrX,e.zrY])>4)return;this._downPoint=null}this.dispatchToElement(t,n,e)}});var Ci=!1;function gu(){Ci||(Ci=!0,console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors"))}function Ms(n,e){return n.zlevel===e.zlevel?n.z===e.z?n.z2-e.z2:n.z-e.z:n.zlevel-e.zlevel}var vn=function(){function n(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=Ms}return n.prototype.traverse=function(e,t){for(var i=0;i<this._roots.length;i++)this._roots[i].traverse(e,t)},n.prototype.getDisplayList=function(e,t){t=t||!1;var i=this._displayList;return!e&&i.length||this.updateDisplayList(t),i},n.prototype.updateDisplayList=function(e){this._displayListLen=0;for(var t=this._roots,i=this._displayList,r=0,o=t.length;r<o;r++)this._updateAndAddDisplayable(t[r],null,e);i.length=this._displayListLen,Wt.canvasSupported&&ns(i,Ms)},n.prototype._updateAndAddDisplayable=function(e,t,i){if(!e.ignore||i){e.beforeUpdate(),e.update(),e.afterUpdate();var r=e.getClipPath();if(e.ignoreClip)t=null;else if(r){t=t?t.slice():[];for(var o=r,s=e;o;)o.parent=s,o.updateTransform(),t.push(o),s=o,o=o.getClipPath()}if(e.childrenRef){for(var l=e.childrenRef(),u=0;u<l.length;u++){var f=l[u];e.__dirty&&(f.__dirty|=1),this._updateAndAddDisplayable(f,t,i)}e.__dirty=0}else{var p=e;t&&t.length?p.__clipPaths=t:p.__clipPaths&&p.__clipPaths.length>0&&(p.__clipPaths=[]),isNaN(p.z)&&(gu(),p.z=0),isNaN(p.z2)&&(gu(),p.z2=0),isNaN(p.zlevel)&&(gu(),p.zlevel=0),this._displayList[this._displayListLen++]=p}var m=e.getDecalElement&&e.getDecalElement();m&&this._updateAndAddDisplayable(m,t,i);var b=e.getTextGuideLine();b&&this._updateAndAddDisplayable(b,t,i);var w=e.getTextContent();w&&this._updateAndAddDisplayable(w,t,i)}},n.prototype.addRoot=function(e){e.__zr&&e.__zr.storage===this||this._roots.push(e)},n.prototype.delRoot=function(e){if(e instanceof Array)for(var t=0,i=e.length;t<i;t++)this.delRoot(e[t]);else{var r=Ne(this._roots,e);r>=0&&this._roots.splice(r,1)}},n.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0},n.prototype.getRoots=function(){return this._roots},n.prototype.dispose=function(){this._displayList=null,this._roots=null},n}(),Qe="undefined"!=typeof window&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(n){return setTimeout(n,16)},pr={linear:function(n){return n},quadraticIn:function(n){return n*n},quadraticOut:function(n){return n*(2-n)},quadraticInOut:function(n){return(n*=2)<1?.5*n*n:-.5*(--n*(n-2)-1)},cubicIn:function(n){return n*n*n},cubicOut:function(n){return--n*n*n+1},cubicInOut:function(n){return(n*=2)<1?.5*n*n*n:.5*((n-=2)*n*n+2)},quarticIn:function(n){return n*n*n*n},quarticOut:function(n){return 1- --n*n*n*n},quarticInOut:function(n){return(n*=2)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2)},quinticIn:function(n){return n*n*n*n*n},quinticOut:function(n){return--n*n*n*n*n+1},quinticInOut:function(n){return(n*=2)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2)},sinusoidalIn:function(n){return 1-Math.cos(n*Math.PI/2)},sinusoidalOut:function(n){return Math.sin(n*Math.PI/2)},sinusoidalInOut:function(n){return.5*(1-Math.cos(Math.PI*n))},exponentialIn:function(n){return 0===n?0:Math.pow(1024,n-1)},exponentialOut:function(n){return 1===n?1:1-Math.pow(2,-10*n)},exponentialInOut:function(n){return 0===n?0:1===n?1:(n*=2)<1?.5*Math.pow(1024,n-1):.5*(2-Math.pow(2,-10*(n-1)))},circularIn:function(n){return 1-Math.sqrt(1-n*n)},circularOut:function(n){return Math.sqrt(1- --n*n)},circularInOut:function(n){return(n*=2)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1)},elasticIn:function(n){var e,t=.1;return 0===n?0:1===n?1:(!t||t<1?(t=1,e=.1):e=.4*Math.asin(1/t)/(2*Math.PI),-t*Math.pow(2,10*(n-=1))*Math.sin((n-e)*(2*Math.PI)/.4))},elasticOut:function(n){var e,t=.1;return 0===n?0:1===n?1:(!t||t<1?(t=1,e=.1):e=.4*Math.asin(1/t)/(2*Math.PI),t*Math.pow(2,-10*n)*Math.sin((n-e)*(2*Math.PI)/.4)+1)},elasticInOut:function(n){var e,t=.1;return 0===n?0:1===n?1:(!t||t<1?(t=1,e=.1):e=.4*Math.asin(1/t)/(2*Math.PI),(n*=2)<1?t*Math.pow(2,10*(n-=1))*Math.sin((n-e)*(2*Math.PI)/.4)*-.5:t*Math.pow(2,-10*(n-=1))*Math.sin((n-e)*(2*Math.PI)/.4)*.5+1)},backIn:function(n){var e=1.70158;return n*n*((e+1)*n-e)},backOut:function(n){var e=1.70158;return--n*n*((e+1)*n+e)+1},backInOut:function(n){var e=2.5949095;return(n*=2)<1?n*n*((e+1)*n-e)*.5:.5*((n-=2)*n*((e+1)*n+e)+2)},bounceIn:function(n){return 1-pr.bounceOut(1-n)},bounceOut:function(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},bounceInOut:function(n){return n<.5?.5*pr.bounceIn(2*n):.5*pr.bounceOut(2*n-1)+.5}},so=function(){function n(e){this._initialized=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=e.life||1e3,this._delay=e.delay||0,this.loop=null!=e.loop&&e.loop,this.gap=e.gap||0,this.easing=e.easing||"linear",this.onframe=e.onframe,this.ondestroy=e.ondestroy,this.onrestart=e.onrestart}return n.prototype.step=function(e,t){if(this._initialized||(this._startTime=e+this._delay,this._initialized=!0),!this._paused){var i=(e-this._startTime-this._pausedTime)/this._life;i<0&&(i=0),i=Math.min(i,1);var r=this.easing,o="string"==typeof r?pr[r]:r,s="function"==typeof o?o(i):i;if(this.onframe&&this.onframe(s),1===i){if(!this.loop)return!0;this._restart(e),this.onrestart&&this.onrestart()}return!1}this._pausedTime+=t},n.prototype._restart=function(e){this._startTime=e-(e-this._startTime-this._pausedTime)%this._life+this.gap,this._pausedTime=0},n.prototype.pause=function(){this._paused=!0},n.prototype.resume=function(){this._paused=!1},n}(),pl=function(n){this.value=n},hh=function(){function n(){this._len=0}return n.prototype.insert=function(e){var t=new pl(e);return this.insertEntry(t),t},n.prototype.insertEntry=function(e){this.head?(this.tail.next=e,e.prev=this.tail,e.next=null,this.tail=e):this.head=this.tail=e,this._len++},n.prototype.remove=function(e){var t=e.prev,i=e.next;t?t.next=i:this.head=i,i?i.prev=t:this.tail=t,e.next=e.prev=null,this._len--},n.prototype.len=function(){return this._len},n.prototype.clear=function(){this.head=this.tail=null,this._len=0},n}(),Ts=function(){function n(e){this._list=new hh,this._maxSize=10,this._map={},this._maxSize=e}return n.prototype.put=function(e,t){var i=this._list,r=this._map,o=null;if(null==r[e]){var s=i.len(),l=this._lastRemovedEntry;if(s>=this._maxSize&&s>0){var u=i.head;i.remove(u),delete r[u.key],o=u.value,this._lastRemovedEntry=u}l?l.value=t:l=new pl(t),l.key=e,i.insertEntry(l),r[e]=l}return o},n.prototype.get=function(e){var t=this._map[e],i=this._list;if(null!=t)return t!==i.tail&&(i.remove(t),i.insertEntry(t)),t.value},n.prototype.clear=function(){this._list.clear(),this._map={}},n.prototype.len=function(){return this._list.len()},n}(),dh={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function _o(n){return(n=Math.round(n))<0?0:n>255?255:n}function Is(n){return n<0?0:n>1?1:n}function gl(n){var e=n;return e.length&&"%"===e.charAt(e.length-1)?_o(parseFloat(e)/100*255):_o(parseInt(e,10))}function Gs(n){var e=n;return e.length&&"%"===e.charAt(e.length-1)?Is(parseFloat(e)/100):Is(parseFloat(e))}function bc(n,e,t){return t<0?t+=1:t>1&&(t-=1),6*t<1?n+(e-n)*t*6:2*t<1?e:3*t<2?n+(e-n)*(2/3-t)*6:n}function ma(n,e,t){return n+(e-n)*t}function Yr(n,e,t,i,r){return n[0]=e,n[1]=t,n[2]=i,n[3]=r,n}function lo(n,e){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n}var qs=new Ts(20),_c=null;function Ma(n,e){_c&&lo(_c,e),_c=qs.put(n,_c||e.slice())}function ea(n,e){if(n){e=e||[];var t=qs.get(n);if(t)return lo(e,t);var i=(n+="").replace(/ /g,"").toLowerCase();if(i in dh)return lo(e,dh[i]),Ma(n,e),e;var r,o=i.length;if("#"===i.charAt(0))return 4===o||5===o?(r=parseInt(i.slice(1,4),16))>=0&&r<=4095?(Yr(e,(3840&r)>>4|(3840&r)>>8,240&r|(240&r)>>4,15&r|(15&r)<<4,5===o?parseInt(i.slice(4),16)/15:1),Ma(n,e),e):void Yr(e,0,0,0,1):7===o||9===o?(r=parseInt(i.slice(1,7),16))>=0&&r<=16777215?(Yr(e,(16711680&r)>>16,(65280&r)>>8,255&r,9===o?parseInt(i.slice(7),16)/255:1),Ma(n,e),e):void Yr(e,0,0,0,1):void 0;var s=i.indexOf("("),l=i.indexOf(")");if(-1!==s&&l+1===o){var u=i.substr(0,s),f=i.substr(s+1,l-(s+1)).split(","),p=1;switch(u){case"rgba":if(4!==f.length)return 3===f.length?Yr(e,+f[0],+f[1],+f[2],1):Yr(e,0,0,0,1);p=Gs(f.pop());case"rgb":return 3!==f.length?void Yr(e,0,0,0,1):(Yr(e,gl(f[0]),gl(f[1]),gl(f[2]),p),Ma(n,e),e);case"hsla":return 4!==f.length?void Yr(e,0,0,0,1):(f[3]=Gs(f[3]),ha(f,e),Ma(n,e),e);case"hsl":return 3!==f.length?void Yr(e,0,0,0,1):(ha(f,e),Ma(n,e),e);default:return}}Yr(e,0,0,0,1)}}function ha(n,e){var t=(parseFloat(n[0])%360+360)%360/360,i=Gs(n[1]),r=Gs(n[2]),o=r<=.5?r*(i+1):r+i-r*i,s=2*r-o;return Yr(e=e||[],_o(255*bc(s,o,t+1/3)),_o(255*bc(s,o,t)),_o(255*bc(s,o,t-1/3)),1),4===n.length&&(e[3]=n[3]),e}function ml(n,e){var t=ea(n);if(t){for(var i=0;i<3;i++)t[i]=e<0?t[i]*(1-e)|0:(255-t[i])*e+t[i]|0,t[i]>255?t[i]=255:t[i]<0&&(t[i]=0);return Wo(t,4===t.length?"rgba":"rgb")}}function vl(n){var e=ea(n);if(e)return((1<<24)+(e[0]<<16)+(e[1]<<8)+ +e[2]).toString(16).slice(1)}function zl(n,e,t){if(e&&e.length&&n>=0&&n<=1){t=t||[];var i=n*(e.length-1),r=Math.floor(i),o=Math.ceil(i),s=e[r],l=e[o],u=i-r;return t[0]=_o(ma(s[0],l[0],u)),t[1]=_o(ma(s[1],l[1],u)),t[2]=_o(ma(s[2],l[2],u)),t[3]=Is(ma(s[3],l[3],u)),t}}function Gu(n,e,t){if(e&&e.length&&n>=0&&n<=1){var i=n*(e.length-1),r=Math.floor(i),o=Math.ceil(i),s=ea(e[r]),l=ea(e[o]),u=i-r,f=Wo([_o(ma(s[0],l[0],u)),_o(ma(s[1],l[1],u)),_o(ma(s[2],l[2],u)),Is(ma(s[3],l[3],u))],"rgba");return t?{color:f,leftIndex:r,rightIndex:o,value:i}:f}}function Fl(n,e,t,i){var o,r=ea(n);if(n)return r=function(o){if(o){var s,l,u=o[0]/255,f=o[1]/255,p=o[2]/255,m=Math.min(u,f,p),b=Math.max(u,f,p),w=b-m,k=(b+m)/2;if(0===w)s=0,l=0;else{l=k<.5?w/(b+m):w/(2-b-m);var M=((b-u)/6+w/2)/w,I=((b-f)/6+w/2)/w,O=((b-p)/6+w/2)/w;u===b?s=O-I:f===b?s=1/3+M-O:p===b&&(s=2/3+I-M),s<0&&(s+=1),s>1&&(s-=1)}var B=[360*s,l,k];return null!=o[3]&&B.push(o[3]),B}}(r),null!=e&&(r[0]=(o=e,(o=Math.round(o))<0?0:o>360?360:o)),null!=t&&(r[1]=Gs(t)),null!=i&&(r[2]=Gs(i)),Wo(ha(r),"rgba")}function Us(n,e){var t=ea(n);if(t&&null!=e)return t[3]=Is(e),Wo(t,"rgba")}function Wo(n,e){if(n&&n.length){var t=n[0]+","+n[1]+","+n[2];return"rgba"!==e&&"hsva"!==e&&"hsla"!==e||(t+=","+n[3]),e+"("+t+")"}}function $s(n,e){var t=ea(n);return t?(.299*t[0]+.587*t[1]+.114*t[2])*t[3]/255+(1-t[3])*e:0}var jo=Object.freeze({__proto__:null,parse:ea,lift:ml,toHex:vl,fastLerp:zl,fastMapToColor:zl,lerp:Gu,mapToColor:Gu,modifyHSL:Fl,modifyAlpha:Us,stringify:Wo,lum:$s,random:function(){return"rgb("+Math.round(255*Math.random())+","+Math.round(255*Math.random())+","+Math.round(255*Math.random())+")"}}),yl=Array.prototype.slice;function is(n,e,t){return(e-n)*t+n}function Ba(n,e,t,i){for(var r=e.length,o=0;o<r;o++)n[o]=is(e[o],t[o],i)}function qu(n,e,t,i){for(var r=e.length,o=0;o<r;o++)n[o]=e[o]+t[o]*i;return n}function Jh(n,e,t,i){for(var r=e.length,o=r&&e[0].length,s=0;s<r;s++){n[s]||(n[s]=[]);for(var l=0;l<o;l++)n[s][l]=e[s][l]+t[s][l]*i}return n}function mu(n,e,t){var i=n,r=e;if(i.push&&r.push){var o=i.length,s=r.length;if(o!==s)if(o>s)i.length=s;else for(var l=o;l<s;l++)i.push(1===t?r[l]:yl.call(r[l]));var u=i[0]&&i[0].length;for(l=0;l<i.length;l++)if(1===t)isNaN(i[l])&&(i[l]=r[l]);else for(var f=0;f<u;f++)isNaN(i[l][f])&&(i[l][f]=r[l][f])}}function vu(n,e){var t=n.length;if(t!==e.length)return!1;for(var i=0;i<t;i++)if(n[i]!==e[i])return!1;return!0}function td(n,e,t,i,r,o,s){var l=.5*(t-n),u=.5*(i-e);return(2*(e-t)+l+u)*s+(-3*(e-t)-2*l-u)*o+l*r+e}function va(n,e,t,i,r,o,s,l){for(var u=e.length,f=0;f<u;f++)n[f]=td(e[f],t[f],i[f],r[f],o,s,l)}function wo(n){if(an(n)){var e=n.length;if(an(n[0])){for(var t=[],i=0;i<e;i++)t.push(yl.call(n[i]));return t}return yl.call(n)}return n}function xl(n){return n[0]=Math.floor(n[0]),n[1]=Math.floor(n[1]),n[2]=Math.floor(n[2]),"rgba("+n.join(",")+")"}var wc,Ds,Es=[0,0,0,0],Zs=function(){function n(e){this.keyframes=[],this.maxTime=0,this.arrDim=0,this.interpolable=!0,this._needsSort=!1,this._isAllValueEqual=!0,this._lastFrame=0,this._lastFramePercent=0,this.propName=e}return n.prototype.isFinished=function(){return this._finished},n.prototype.setFinished=function(){this._finished=!0,this._additiveTrack&&this._additiveTrack.setFinished()},n.prototype.needsAnimate=function(){return!this._isAllValueEqual&&this.keyframes.length>=2&&this.interpolable&&this.maxTime>0},n.prototype.getAdditiveTrack=function(){return this._additiveTrack},n.prototype.addKeyframe=function(e,t){e>=this.maxTime?this.maxTime=e:this._needsSort=!0;var f,i=this.keyframes,r=i.length;if(this.interpolable)if(an(t)){var o=an((f=t)&&f[0])?2:1;if(r>0&&this.arrDim!==o)return void(this.interpolable=!1);if(1===o&&"number"!=typeof t[0]||2===o&&"number"!=typeof t[0][0])return void(this.interpolable=!1);if(r>0){var s=i[r-1];this._isAllValueEqual&&(1===o&&vu(t,s.value)||(this._isAllValueEqual=!1))}this.arrDim=o}else{if(this.arrDim>0)return void(this.interpolable=!1);if("string"==typeof t){var l=ea(t);l?(t=l,this.isValueColor=!0):this.interpolable=!1}else if("number"!=typeof t||isNaN(t))return void(this.interpolable=!1);this._isAllValueEqual&&r>0&&(s=i[r-1],(this.isValueColor&&!vu(s.value,t)||s.value!==t)&&(this._isAllValueEqual=!1))}var u={time:e,value:t,percent:0};return this.keyframes.push(u),u},n.prototype.prepare=function(e){var t=this.keyframes;this._needsSort&&t.sort(function(u,f){return u.time-f.time});for(var i=this.arrDim,r=t.length,o=t[r-1],s=0;s<r;s++)t[s].percent=t[s].time/this.maxTime,i>0&&s!==r-1&&mu(t[s].value,o.value,i);if(e&&this.needsAnimate()&&e.needsAnimate()&&i===e.arrDim&&this.isValueColor===e.isValueColor&&!e._finished){this._additiveTrack=e;var l=t[0].value;for(s=0;s<r;s++)0===i?t[s].additiveValue=this.isValueColor?qu([],t[s].value,l,-1):t[s].value-l:1===i?t[s].additiveValue=qu([],t[s].value,l,-1):2===i&&(t[s].additiveValue=Jh([],t[s].value,l,-1))}},n.prototype.step=function(e,t){if(!this._finished){this._additiveTrack&&this._additiveTrack._finished&&(this._additiveTrack=null);var i,r=null!=this._additiveTrack,o=r?"additiveValue":"value",s=this.keyframes,l=this.keyframes.length,u=this.propName,f=this.arrDim,p=this.isValueColor;if(t<0)i=0;else if(t<this._lastFramePercent){for(i=Math.min(this._lastFrame+1,l-1);i>=0&&!(s[i].percent<=t);i--);i=Math.min(i,l-2)}else{for(i=this._lastFrame;i<l&&!(s[i].percent>t);i++);i=Math.min(i-1,l-2)}var m=s[i+1],b=s[i];if(b&&m){this._lastFrame=i,this._lastFramePercent=t;var w=m.percent-b.percent;if(0!==w){var k=(t-b.percent)/w,M=r?this._additiveValue:p?Es:e[u];if((f>0||p)&&!M&&(M=this._additiveValue=[]),this.useSpline){var I=s[i][o],O=s[0===i?i:i-1][o],B=s[i>l-2?l-1:i+1][o],H=s[i>l-3?l-1:i+2][o];if(f>0)1===f?va(M,O,I,B,H,k,k*k,k*k*k):function(U,$,et,at,At,Mt,Lt,Gt){for(var ne=$.length,re=$[0].length,fe=0;fe<ne;fe++){U[fe]||(U[1]=[]);for(var ye=0;ye<re;ye++)U[fe][ye]=td($[fe][ye],et[fe][ye],at[fe][ye],At[fe][ye],Mt,Lt,Gt)}}(M,O,I,B,H,k,k*k,k*k*k);else if(p)va(M,O,I,B,H,k,k*k,k*k*k),r||(e[u]=xl(M));else{var X=void 0;X=this.interpolable?td(O,I,B,H,k,k*k,k*k*k):B,r?this._additiveValue=X:e[u]=X}}else f>0?1===f?Ba(M,b[o],m[o],k):function(U,$,et,at){for(var At=$.length,Mt=At&&$[0].length,Lt=0;Lt<At;Lt++){U[Lt]||(U[Lt]=[]);for(var Gt=0;Gt<Mt;Gt++)U[Lt][Gt]=is($[Lt][Gt],et[Lt][Gt],at)}}(M,b[o],m[o],k):p?(Ba(M,b[o],m[o],k),r||(e[u]=xl(M))):(X=void 0,X=this.interpolable?is(b[o],m[o],k):k>.5?m[o]:b[o],r?this._additiveValue=X:e[u]=X);r&&this._addToTarget(e)}}}},n.prototype._addToTarget=function(e){var t=this.arrDim,i=this.propName,r=this._additiveValue;0===t?this.isValueColor?(ea(e[i],Es),qu(Es,Es,r,1),e[i]=xl(Es)):e[i]=e[i]+r:1===t?qu(e[i],e[i],r,1):2===t&&Jh(e[i],e[i],r,1)},n}(),Sc=function(){function n(e,t,i){this._tracks={},this._trackKeys=[],this._delay=0,this._maxTime=0,this._paused=!1,this._started=0,this._clip=null,this._target=e,this._loop=t,t&&i?ie("Can' use additive animation on looped animation."):this._additiveAnimators=i}return n.prototype.getTarget=function(){return this._target},n.prototype.changeTarget=function(e){this._target=e},n.prototype.when=function(e,t){return this.whenWithKeys(e,t,be(t))},n.prototype.whenWithKeys=function(e,t,i){for(var r=this._tracks,o=0;o<i.length;o++){var s=i[o],l=r[s];if(!l){l=r[s]=new Zs(s);var u=void 0,f=this._getAdditiveTrack(s);if(f){var p=f.keyframes[f.keyframes.length-1];u=p&&p.value,f.isValueColor&&u&&(u=xl(u))}else u=this._target[s];if(null==u)continue;0!==e&&l.addKeyframe(0,wo(u)),this._trackKeys.push(s)}l.addKeyframe(e,wo(t[s]))}return this._maxTime=Math.max(this._maxTime,e),this},n.prototype.pause=function(){this._clip.pause(),this._paused=!0},n.prototype.resume=function(){this._clip.resume(),this._paused=!1},n.prototype.isPaused=function(){return!!this._paused},n.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var e=this._doneCbs;if(e)for(var t=e.length,i=0;i<t;i++)e[i].call(this)},n.prototype._abortedCallback=function(){this._setTracksFinished();var e=this.animation,t=this._abortedCbs;if(e&&e.removeClip(this._clip),this._clip=null,t)for(var i=0;i<t.length;i++)t[i].call(this)},n.prototype._setTracksFinished=function(){for(var e=this._tracks,t=this._trackKeys,i=0;i<t.length;i++)e[t[i]].setFinished()},n.prototype._getAdditiveTrack=function(e){var t,i=this._additiveAnimators;if(i)for(var r=0;r<i.length;r++){var o=i[r].getTrack(e);o&&(t=o)}return t},n.prototype.start=function(e,t){if(!(this._started>0)){this._started=1;for(var i=this,r=[],o=0;o<this._trackKeys.length;o++){var s=this._trackKeys[o],l=this._tracks[s],u=this._getAdditiveTrack(s),f=l.keyframes;if(l.prepare(u),l.needsAnimate())r.push(l);else if(!l.interpolable){var p=f[f.length-1];p&&(i._target[l.propName]=p.value)}}if(r.length||t){var m=new so({life:this._maxTime,loop:this._loop,delay:this._delay,onframe:function(b){i._started=2;var w=i._additiveAnimators;if(w){for(var k=!1,M=0;M<w.length;M++)if(w[M]._clip){k=!0;break}k||(i._additiveAnimators=null)}for(M=0;M<r.length;M++)r[M].step(i._target,b);var I=i._onframeCbs;if(I)for(M=0;M<I.length;M++)I[M](i._target,b)},ondestroy:function(){i._doneCallback()}});this._clip=m,this.animation&&this.animation.addClip(m),e&&"spline"!==e&&(m.easing=e)}else this._doneCallback();return this}},n.prototype.stop=function(e){this._clip&&(e&&this._clip.onframe(1),this._abortedCallback())},n.prototype.delay=function(e){return this._delay=e,this},n.prototype.during=function(e){return e&&(this._onframeCbs||(this._onframeCbs=[]),this._onframeCbs.push(e)),this},n.prototype.done=function(e){return e&&(this._doneCbs||(this._doneCbs=[]),this._doneCbs.push(e)),this},n.prototype.aborted=function(e){return e&&(this._abortedCbs||(this._abortedCbs=[]),this._abortedCbs.push(e)),this},n.prototype.getClip=function(){return this._clip},n.prototype.getTrack=function(e){return this._tracks[e]},n.prototype.stopTracks=function(e,t){if(!e.length||!this._clip)return!0;for(var i=this._tracks,r=this._trackKeys,o=0;o<e.length;o++){var s=i[e[o]];s&&(t?s.step(this._target,1):1===this._started&&s.step(this._target,0),s.setFinished())}var l=!0;for(o=0;o<r.length;o++)if(!i[r[o]].isFinished()){l=!1;break}return l&&this._abortedCallback(),l},n.prototype.saveFinalToTarget=function(e,t){if(e){t=t||this._trackKeys;for(var i=0;i<t.length;i++){var r=t[i],o=this._tracks[r];if(o&&!o.isFinished()){var s=o.keyframes,l=s[s.length-1];if(l){var u=wo(l.value);o.isValueColor&&(u=xl(u)),e[r]=u}}}}},n.prototype.__changeFinalValue=function(e,t){t=t||be(e);for(var i=0;i<t.length;i++){var r=t[i],o=this._tracks[r];if(o){var s=o.keyframes;if(s.length>1){var l=s.pop();o.addKeyframe(l.time,e[r]),o.prepare(o.getAdditiveTrack())}}}},n}(),bl=function(n){function e(t){var i=n.call(this)||this;return i._running=!1,i._time=0,i._pausedTime=0,i._pauseStart=0,i._paused=!1,i.stage=(t=t||{}).stage||{},i.onframe=t.onframe||function(){},i}return Tt(e,n),e.prototype.addClip=function(t){t.animation&&this.removeClip(t),this._clipsHead?(this._clipsTail.next=t,t.prev=this._clipsTail,t.next=null,this._clipsTail=t):this._clipsHead=this._clipsTail=t,t.animation=this},e.prototype.addAnimator=function(t){t.animation=this;var i=t.getClip();i&&this.addClip(i)},e.prototype.removeClip=function(t){if(t.animation){var i=t.prev,r=t.next;i?i.next=r:this._clipsHead=r,r?r.prev=i:this._clipsTail=i,t.next=t.prev=t.animation=null}},e.prototype.removeAnimator=function(t){var i=t.getClip();i&&this.removeClip(i),t.animation=null},e.prototype.update=function(t){for(var i=(new Date).getTime()-this._pausedTime,r=i-this._time,o=this._clipsHead;o;){var s=o.next;o.step(i,r)&&(o.ondestroy&&o.ondestroy(),this.removeClip(o)),o=s}this._time=i,t||(this.onframe(r),this.trigger("frame",r),this.stage.update&&this.stage.update())},e.prototype._startLoop=function(){var t=this;this._running=!0,Qe(function i(){t._running&&(Qe(i),!t._paused&&t.update())})},e.prototype.start=function(){this._running||(this._time=(new Date).getTime(),this._pausedTime=0,this._startLoop())},e.prototype.stop=function(){this._running=!1},e.prototype.pause=function(){this._paused||(this._pauseStart=(new Date).getTime(),this._paused=!0)},e.prototype.resume=function(){this._paused&&(this._pausedTime+=(new Date).getTime()-this._pauseStart,this._paused=!1)},e.prototype.clear=function(){for(var t=this._clipsHead;t;){var i=t.next;t.prev=t.next=t.animation=null,t=i}this._clipsHead=this._clipsTail=null},e.prototype.isFinished=function(){return null==this._clipsHead},e.prototype.animate=function(t,i){i=i||{},this.start();var r=new Sc(t,i.loop);return this.addAnimator(r),r},e}(v),ed=Wt.domSupported,rs=(Ds={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},{mouse:wc=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],touch:["touchstart","touchend","touchmove"],pointer:zt(wc,function(n){var e=n.replace("mouse","pointer");return Ds.hasOwnProperty(e)?e:n})}),ph=["mousemove","mouseup"],Cc=["pointermove","pointerup"],gh=!1;function kc(n){var e=n.pointerType;return"pen"===e||"touch"===e}function na(n){n&&(n.zrByTouch=!0)}function Do(n,e){for(var t=e,i=!1;t&&9!==t.nodeType&&!(i=t.domBelongToZr||t!==e&&t===n.painterRoot);)t=t.parentNode;return i}var cp=function(n,e){this.stopPropagation=Mr,this.stopImmediatePropagation=Mr,this.preventDefault=Mr,this.type=e.type,this.target=this.currentTarget=n.dom,this.pointerType=e.pointerType,this.clientX=e.clientX,this.clientY=e.clientY},ps={mousedown:function(n){n=qt(this.dom,n),this.__mayPointerCapture=[n.zrX,n.zrY],this.trigger("mousedown",n)},mousemove:function(n){n=qt(this.dom,n);var e=this.__mayPointerCapture;!e||n.zrX===e[0]&&n.zrY===e[1]||this.__togglePointerCapture(!0),this.trigger("mousemove",n)},mouseup:function(n){n=qt(this.dom,n),this.__togglePointerCapture(!1),this.trigger("mouseup",n)},mouseout:function(n){Do(this,(n=qt(this.dom,n)).toElement||n.relatedTarget)||(this.__pointerCapturing&&(n.zrEventControl="no_globalout"),this.trigger("mouseout",n))},wheel:function(n){gh=!0,n=qt(this.dom,n),this.trigger("mousewheel",n)},mousewheel:function(n){gh||(n=qt(this.dom,n),this.trigger("mousewheel",n))},touchstart:function(n){na(n=qt(this.dom,n)),this.__lastTouchMoment=new Date,this.handler.processGesture(n,"start"),ps.mousemove.call(this,n),ps.mousedown.call(this,n)},touchmove:function(n){na(n=qt(this.dom,n)),this.handler.processGesture(n,"change"),ps.mousemove.call(this,n)},touchend:function(n){na(n=qt(this.dom,n)),this.handler.processGesture(n,"end"),ps.mouseup.call(this,n),+new Date-+this.__lastTouchMoment<300&&ps.click.call(this,n)},pointerdown:function(n){ps.mousedown.call(this,n)},pointermove:function(n){kc(n)||ps.mousemove.call(this,n)},pointerup:function(n){ps.mouseup.call(this,n)},pointerout:function(n){kc(n)||ps.mouseout.call(this,n)}};mt(["click","dblclick","contextmenu"],function(n){ps[n]=function(e){e=qt(this.dom,e),this.trigger(n,e)}});var Ta={pointermove:function(n){kc(n)||Ta.mousemove.call(this,n)},pointerup:function(n){Ta.mouseup.call(this,n)},mousemove:function(n){this.trigger("mousemove",n)},mouseup:function(n){var e=this.__pointerCapturing;this.__togglePointerCapture(!1),this.trigger("mouseup",n),e&&(n.zrEventControl="only_globalout",this.trigger("mouseout",n))}};function gs(n,e,t,i){n.mounted[e]=t,n.listenerOpts[e]=i,le(n.domTarget,e,t,i)}function go(n){var e,t,i,o=n.mounted;for(var s in o)o.hasOwnProperty(s)&&(e=n.domTarget,t=s,i=o[s],K?e.removeEventListener(t,i,n.listenerOpts[s]):e.detachEvent("on"+t,i));n.mounted={}}var So=function(n,e){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=n,this.domHandlers=e},Uu=function(n){function e(t,i){var r=n.call(this)||this;return r.__pointerCapturing=!1,r.dom=t,r.painterRoot=i,r._localHandlerScope=new So(t,ps),ed&&(r._globalHandlerScope=new So(document,Ta)),function(n,e){var t=e.domHandlers;Wt.pointerEventsSupported?mt(rs.pointer,function(i){gs(e,i,function(r){t[i].call(n,r)})}):(Wt.touchEventsSupported&&mt(rs.touch,function(i){gs(e,i,function(r){var o;t[i].call(n,r),(o=e).touching=!0,null!=o.touchTimer&&(clearTimeout(o.touchTimer),o.touchTimer=null),o.touchTimer=setTimeout(function(){o.touching=!1,o.touchTimer=null},700)})}),mt(rs.mouse,function(i){gs(e,i,function(r){r=Ht(r),e.touching||t[i].call(n,r)})}))}(r,r._localHandlerScope),r}return Tt(e,n),e.prototype.dispose=function(){go(this._localHandlerScope),ed&&go(this._globalHandlerScope)},e.prototype.setCursor=function(t){this.dom.style&&(this.dom.style.cursor=t||"default")},e.prototype.__togglePointerCapture=function(t){if(this.__mayPointerCapture=null,ed&&+this.__pointerCapturing^+t){this.__pointerCapturing=t;var i=this._globalHandlerScope;t?function(n,e){function t(i){gs(e,i,function(r){var o;r=Ht(r),Do(n,r.target)||(r=qt((o=n).dom,new cp(o,r),!0),e.domHandlers[i].call(n,r))},{capture:!0})}Wt.pointerEventsSupported?mt(Cc,t):Wt.touchEventsSupported||mt(ph,t)}(this,i):go(i)}},e}(v),$u=1;"undefined"!=typeof window&&($u=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1));var ya=$u,Zu="#333",ki="#ccc";function ri(n){return n[0]=1,n[1]=0,n[2]=0,n[3]=1,n[4]=0,n[5]=0,n}function mh(n,e){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n[4]=e[4],n[5]=e[5],n}function za(n,e,t){var r=e[1]*t[0]+e[3]*t[1],o=e[0]*t[2]+e[2]*t[3],s=e[1]*t[2]+e[3]*t[3],l=e[0]*t[4]+e[2]*t[5]+e[4],u=e[1]*t[4]+e[3]*t[5]+e[5];return n[0]=e[0]*t[0]+e[2]*t[1],n[1]=r,n[2]=o,n[3]=s,n[4]=l,n[5]=u,n}function Eo(n,e,t){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n[4]=e[4]+t[0],n[5]=e[5]+t[1],n}function Vr(n,e,t){var i=e[0],r=e[2],o=e[4],s=e[1],l=e[3],u=e[5],f=Math.sin(t),p=Math.cos(t);return n[0]=i*p+s*f,n[1]=-i*f+s*p,n[2]=r*p+l*f,n[3]=-r*f+p*l,n[4]=p*o+f*u,n[5]=p*u-f*o,n}function vh(n,e,t){var i=t[0],r=t[1];return n[0]=e[0]*i,n[1]=e[1]*r,n[2]=e[2]*i,n[3]=e[3]*r,n[4]=e[4]*i,n[5]=e[5]*r,n}function xa(n,e){var t=e[0],i=e[2],r=e[4],o=e[1],s=e[3],l=e[5],u=t*s-o*i;return u?(n[0]=s*(u=1/u),n[1]=-o*u,n[2]=-i*u,n[3]=t*u,n[4]=(i*l-s*r)*u,n[5]=(o*r-t*l)*u,n):null}function Hr(n){var e=[1,0,0,1,0,0];return mh(e,n),e}var yh=Object.freeze({__proto__:null,create:function(){return[1,0,0,1,0,0]},identity:ri,copy:mh,mul:za,translate:Eo,rotate:Vr,scale:vh,invert:xa,clone:Hr}),os=ri;function Mc(n){return n>5e-5||n<-5e-5}var Tc,id,Vl=[],_l=[],Fa=[1,0,0,1,0,0],Hl=Math.abs,as=function(){function n(){}return n.prototype.getLocalTransform=function(e){return n.getLocalTransform(this,e)},n.prototype.setPosition=function(e){this.x=e[0],this.y=e[1]},n.prototype.setScale=function(e){this.scaleX=e[0],this.scaleY=e[1]},n.prototype.setSkew=function(e){this.skewX=e[0],this.skewY=e[1]},n.prototype.setOrigin=function(e){this.originX=e[0],this.originY=e[1]},n.prototype.needLocalTransform=function(){return Mc(this.rotation)||Mc(this.x)||Mc(this.y)||Mc(this.scaleX-1)||Mc(this.scaleY-1)},n.prototype.updateTransform=function(){var e=this.parent&&this.parent.transform,t=this.needLocalTransform(),i=this.transform;t||e?(i=i||[1,0,0,1,0,0],t?this.getLocalTransform(i):os(i),e&&(t?za(i,e,i):mh(i,e)),this.transform=i,this._resolveGlobalScaleRatio(i)):i&&os(i)},n.prototype._resolveGlobalScaleRatio=function(e){var t=this.globalScaleRatio;if(null!=t&&1!==t){this.getGlobalScale(Vl);var i=Vl[0]<0?-1:1,r=Vl[1]<0?-1:1,o=((Vl[0]-i)*t+i)/Vl[0]||0,s=((Vl[1]-r)*t+r)/Vl[1]||0;e[0]*=o,e[1]*=o,e[2]*=s,e[3]*=s}this.invTransform=this.invTransform||[1,0,0,1,0,0],xa(this.invTransform,e)},n.prototype.getComputedTransform=function(){for(var e=this,t=[];e;)t.push(e),e=e.parent;for(;e=t.pop();)e.updateTransform();return this.transform},n.prototype.setLocalTransform=function(e){if(e){var t=e[0]*e[0]+e[1]*e[1],i=e[2]*e[2]+e[3]*e[3],r=Math.atan2(e[1],e[0]),o=Math.PI/2+r-Math.atan2(e[3],e[2]);i=Math.sqrt(i)*Math.cos(o),t=Math.sqrt(t),this.skewX=o,this.skewY=0,this.rotation=-r,this.x=+e[4],this.y=+e[5],this.scaleX=t,this.scaleY=i,this.originX=0,this.originY=0}},n.prototype.decomposeTransform=function(){if(this.transform){var e=this.parent,t=this.transform;e&&e.transform&&(za(_l,e.invTransform,t),t=_l);var i=this.originX,r=this.originY;(i||r)&&(Fa[4]=i,Fa[5]=r,za(_l,t,Fa),_l[4]-=i,_l[5]-=r,t=_l),this.setLocalTransform(t)}},n.prototype.getGlobalScale=function(e){var t=this.transform;return e=e||[],t?(e[0]=Math.sqrt(t[0]*t[0]+t[1]*t[1]),e[1]=Math.sqrt(t[2]*t[2]+t[3]*t[3]),t[0]<0&&(e[0]=-e[0]),t[3]<0&&(e[1]=-e[1]),e):(e[0]=1,e[1]=1,e)},n.prototype.transformCoordToLocal=function(e,t){var i=[e,t],r=this.invTransform;return r&&Dr(i,i,r),i},n.prototype.transformCoordToGlobal=function(e,t){var i=[e,t],r=this.transform;return r&&Dr(i,i,r),i},n.prototype.getLineScale=function(){var e=this.transform;return e&&Hl(e[0]-1)>1e-10&&Hl(e[3]-1)>1e-10?Math.sqrt(Hl(e[0]*e[3]-e[2]*e[1])):1},n.prototype.copyTransform=function(e){for(var t=0;t<rd.length;t++){var i=rd[t];this[i]=e[i]}},n.getLocalTransform=function(e,t){t=t||[];var i=e.originX||0,r=e.originY||0,o=e.scaleX,s=e.scaleY,l=e.rotation||0,u=e.x,f=e.y,p=e.skewX?Math.tan(e.skewX):0,m=e.skewY?Math.tan(-e.skewY):0;return i||r?(t[4]=-i*o-p*r*s,t[5]=-r*s-m*i*o):t[4]=t[5]=0,t[0]=o,t[3]=s,t[1]=m*o,t[2]=p*s,l&&Vr(t,t,l),t[4]+=i+u,t[5]+=r+f,t},n.initDefaultProps=((e=n.prototype).x=0,e.y=0,e.scaleX=1,e.scaleY=1,e.originX=0,e.originY=0,e.skewX=0,e.skewY=0,e.rotation=0,void(e.globalScaleRatio=1)),n;var e}(),rd=["x","y","originX","originY","rotation","scaleX","scaleY","skewX","skewY"],Bi=function(){function n(e,t){this.x=e||0,this.y=t||0}return n.prototype.copy=function(e){return this.x=e.x,this.y=e.y,this},n.prototype.clone=function(){return new n(this.x,this.y)},n.prototype.set=function(e,t){return this.x=e,this.y=t,this},n.prototype.equal=function(e){return e.x===this.x&&e.y===this.y},n.prototype.add=function(e){return this.x+=e.x,this.y+=e.y,this},n.prototype.scale=function(e){this.x*=e,this.y*=e},n.prototype.scaleAndAdd=function(e,t){this.x+=e.x*t,this.y+=e.y*t},n.prototype.sub=function(e){return this.x-=e.x,this.y-=e.y,this},n.prototype.dot=function(e){return this.x*e.x+this.y*e.y},n.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},n.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},n.prototype.normalize=function(){var e=this.len();return this.x/=e,this.y/=e,this},n.prototype.distance=function(e){var t=this.x-e.x,i=this.y-e.y;return Math.sqrt(t*t+i*i)},n.prototype.distanceSquare=function(e){var t=this.x-e.x,i=this.y-e.y;return t*t+i*i},n.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},n.prototype.transform=function(e){if(e){var t=this.x,i=this.y;return this.x=e[0]*t+e[2]*i+e[4],this.y=e[1]*t+e[3]*i+e[5],this}},n.prototype.toArray=function(e){return e[0]=this.x,e[1]=this.y,e},n.prototype.fromArray=function(e){this.x=e[0],this.y=e[1]},n.set=function(e,t,i){e.x=t,e.y=i},n.copy=function(e,t){e.x=t.x,e.y=t.y},n.len=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},n.lenSquare=function(e){return e.x*e.x+e.y*e.y},n.dot=function(e,t){return e.x*t.x+e.y*t.y},n.add=function(e,t,i){e.x=t.x+i.x,e.y=t.y+i.y},n.sub=function(e,t,i){e.x=t.x-i.x,e.y=t.y-i.y},n.scale=function(e,t,i){e.x=t.x*i,e.y=t.y*i},n.scaleAndAdd=function(e,t,i,r){e.x=t.x+i.x*r,e.y=t.y+i.y*r},n.lerp=function(e,t,i,r){var o=1-r;e.x=o*t.x+r*i.x,e.y=o*t.y+r*i.y},n}(),Ks=Math.min,Qs=Math.max,Js=new Bi,Va=new Bi,Wl=new Bi,Ls=new Bi,jl=new Bi,tl=new Bi,Xi=function(){function n(e,t,i,r){i<0&&(e+=i,i=-i),r<0&&(t+=r,r=-r),this.x=e,this.y=t,this.width=i,this.height=r}return n.prototype.union=function(e){var t=Ks(e.x,this.x),i=Ks(e.y,this.y);this.width=isFinite(this.x)&&isFinite(this.width)?Qs(e.x+e.width,this.x+this.width)-t:e.width,this.height=isFinite(this.y)&&isFinite(this.height)?Qs(e.y+e.height,this.y+this.height)-i:e.height,this.x=t,this.y=i},n.prototype.applyTransform=function(e){n.applyTransform(this,this,e)},n.prototype.calculateTransform=function(e){var t=this,i=e.width/t.width,r=e.height/t.height,o=[1,0,0,1,0,0];return Eo(o,o,[-t.x,-t.y]),vh(o,o,[i,r]),Eo(o,o,[e.x,e.y]),o},n.prototype.intersect=function(e,t){if(!e)return!1;e instanceof n||(e=n.create(e));var i=this,r=i.x,o=i.x+i.width,s=i.y,l=i.y+i.height,u=e.x,f=e.x+e.width,p=e.y,m=e.y+e.height,b=!(o<u||f<r||l<p||m<s);if(t){var w=1/0,k=0,M=Math.abs(o-u),I=Math.abs(f-r),O=Math.abs(l-p),B=Math.abs(m-s),H=Math.min(M,I),X=Math.min(O,B);o<u||f<r?H>k&&(k=H,Bi.set(tl,M<I?-M:I,0)):H<w&&(w=H,Bi.set(jl,M<I?M:-I,0)),l<p||m<s?X>k&&(k=X,Bi.set(tl,0,O<B?-O:B)):H<w&&(w=H,Bi.set(jl,0,O<B?O:-B))}return t&&Bi.copy(t,b?jl:tl),b},n.prototype.contain=function(e,t){var i=this;return e>=i.x&&e<=i.x+i.width&&t>=i.y&&t<=i.y+i.height},n.prototype.clone=function(){return new n(this.x,this.y,this.width,this.height)},n.prototype.copy=function(e){n.copy(this,e)},n.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},n.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},n.prototype.isZero=function(){return 0===this.width||0===this.height},n.create=function(e){return new n(e.x,e.y,e.width,e.height)},n.copy=function(e,t){e.x=t.x,e.y=t.y,e.width=t.width,e.height=t.height},n.applyTransform=function(e,t,i){if(i){if(i[1]<1e-5&&i[1]>-1e-5&&i[2]<1e-5&&i[2]>-1e-5){var r=i[0],o=i[3],l=i[5];return e.x=t.x*r+i[4],e.y=t.y*o+l,e.width=t.width*r,e.height=t.height*o,e.width<0&&(e.x+=e.width,e.width=-e.width),void(e.height<0&&(e.y+=e.height,e.height=-e.height))}Js.x=Wl.x=t.x,Js.y=Ls.y=t.y,Va.x=Ls.x=t.x+t.width,Va.y=Wl.y=t.y+t.height,Js.transform(i),Ls.transform(i),Va.transform(i),Wl.transform(i),e.x=Ks(Js.x,Va.x,Wl.x,Ls.x),e.y=Ks(Js.y,Va.y,Wl.y,Ls.y);var u=Qs(Js.x,Va.x,Wl.x,Ls.x),f=Qs(Js.y,Va.y,Wl.y,Ls.y);e.width=u-e.x,e.height=f-e.y}else e!==t&&n.copy(e,t)},n}(),Ic={},el="12px sans-serif";function da(n,e){var t=Ic[e=e||el];t||(t=Ic[e]=new Ts(500));var i=t.get(n);return null==i&&(i=function(n,e){return Tc||(Tc=Pe().getContext("2d")),id!==e&&(id=Tc.font=e||el),Tc.measureText(n)}(n,e).width,t.put(n,i)),i}function xh(n,e,t,i){var r=da(n,e),o=no(e),s=Co(0,r,t),l=bu(0,o,i);return new Xi(s,l,r,o)}function Lo(n,e,t,i){var r=((n||"")+"").split("\n");if(1===r.length)return xh(r[0],e,t,i);for(var o=new Xi(0,0,0,0),s=0;s<r.length;s++){var l=xh(r[s],e,t,i);0===s?o.copy(l):o.union(l)}return o}function Co(n,e,t){return"right"===t?n-=e:"center"===t&&(n-=e/2),n}function bu(n,e,t){return"middle"===t?n-=e/2:"bottom"===t&&(n-=e),n}function no(n){return da("\u56fd",n)}function Wr(n,e){return"string"==typeof n?n.lastIndexOf("%")>=0?parseFloat(n)/100*e:parseFloat(n):n}function Yl(n,e,t){var i=e.position||"inside",r=null!=e.distance?e.distance:5,o=t.height,s=t.width,l=o/2,u=t.x,f=t.y,p="left",m="top";if(i instanceof Array)u+=Wr(i[0],t.width),f+=Wr(i[1],t.height),p=null,m=null;else switch(i){case"left":u-=r,f+=l,p="right",m="middle";break;case"right":u+=r+s,f+=l,m="middle";break;case"top":u+=s/2,f-=r,p="center",m="bottom";break;case"bottom":u+=s/2,f+=o+r,p="center";break;case"inside":u+=s/2,f+=l,p="center",m="middle";break;case"insideLeft":u+=r,f+=l,m="middle";break;case"insideRight":u+=s-r,f+=l,p="right",m="middle";break;case"insideTop":u+=s/2,f+=r,p="center";break;case"insideBottom":u+=s/2,f+=o-r,p="center",m="bottom";break;case"insideTopLeft":u+=r,f+=r;break;case"insideTopRight":u+=s-r,f+=r,p="right";break;case"insideBottomLeft":u+=r,f+=o-r,m="bottom";break;case"insideBottomRight":u+=s-r,f+=o-r,p="right",m="bottom"}return(n=n||{}).x=u,n.y=f,n.align=p,n.verticalAlign=m,n}var Jr="__zr_normal__",il=["x","y","scaleX","scaleY","originX","originY","rotation","ignore"],Xl={x:!0,y:!0,scaleX:!0,scaleY:!0,originX:!0,originY:!0,rotation:!0,ignore:!1},Ia={},wl=new Xi(0,0,0,0),Gl=function(){function n(e){this.id=Yt(),this.animators=[],this.currentStates=[],this.states={},this._init(e)}return n.prototype._init=function(e){this.attr(e)},n.prototype.drift=function(e,t,i){switch(this.draggable){case"horizontal":t=0;break;case"vertical":e=0}var r=this.transform;r||(r=this.transform=[1,0,0,1,0,0]),r[4]+=e,r[5]+=t,this.decomposeTransform(),this.markRedraw()},n.prototype.beforeUpdate=function(){},n.prototype.afterUpdate=function(){},n.prototype.update=function(){this.updateTransform(),this.__dirty&&this.updateInnerText()},n.prototype.updateInnerText=function(e){var t=this._textContent;if(t&&(!t.ignore||e)){this.textConfig||(this.textConfig={});var i=this.textConfig,r=i.local,o=t.innerTransformable,s=void 0,l=void 0,u=!1;o.parent=r?this:null;var f=!1;if(o.copyTransform(t),null!=i.position){var p=wl;p.copy(i.layoutRect?i.layoutRect:this.getBoundingRect()),r||p.applyTransform(this.transform),this.calculateTextPosition?this.calculateTextPosition(Ia,i,p):Yl(Ia,i,p),o.x=Ia.x,o.y=Ia.y,s=Ia.align,l=Ia.verticalAlign;var m=i.origin;if(m&&null!=i.rotation){var b=void 0,w=void 0;"center"===m?(b=.5*p.width,w=.5*p.height):(b=Wr(m[0],p.width),w=Wr(m[1],p.height)),f=!0,o.originX=-o.x+b+(r?0:p.x),o.originY=-o.y+w+(r?0:p.y)}}null!=i.rotation&&(o.rotation=i.rotation);var k=i.offset;k&&(o.x+=k[0],o.y+=k[1],f||(o.originX=-k[0],o.originY=-k[1]));var M=null==i.inside?"string"==typeof i.position&&i.position.indexOf("inside")>=0:i.inside,I=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={}),O=void 0,B=void 0,H=void 0;M&&this.canBeInsideText()?(B=i.insideStroke,null!=(O=i.insideFill)&&"auto"!==O||(O=this.getInsideTextFill()),null!=B&&"auto"!==B||(B=this.getInsideTextStroke(O),H=!0)):(B=i.outsideStroke,null!=(O=i.outsideFill)&&"auto"!==O||(O=this.getOutsideFill()),null!=B&&"auto"!==B||(B=this.getOutsideStroke(O),H=!0)),(O=O||"#000")===I.fill&&B===I.stroke&&H===I.autoStroke&&s===I.align&&l===I.verticalAlign||(u=!0,I.fill=O,I.stroke=B,I.autoStroke=H,I.align=s,I.verticalAlign=l,t.setDefaultTextStyle(I)),t.__dirty|=1,u&&t.dirtyStyle(!0)}},n.prototype.canBeInsideText=function(){return!0},n.prototype.getInsideTextFill=function(){return"#fff"},n.prototype.getInsideTextStroke=function(e){return"#000"},n.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?ki:Zu},n.prototype.getOutsideStroke=function(e){var t=this.__zr&&this.__zr.getBackgroundColor(),i="string"==typeof t&&ea(t);i||(i=[255,255,255,1]);for(var r=i[3],o=this.__zr.isDarkMode(),s=0;s<3;s++)i[s]=i[s]*r+(o?0:255)*(1-r);return i[3]=1,Wo(i,"rgba")},n.prototype.traverse=function(e,t){},n.prototype.attrKV=function(e,t){"textConfig"===e?this.setTextConfig(t):"textContent"===e?this.setTextContent(t):"clipPath"===e?this.setClipPath(t):"extra"===e?(this.extra=this.extra||{},Dt(this.extra,t)):this[e]=t},n.prototype.hide=function(){this.ignore=!0,this.markRedraw()},n.prototype.show=function(){this.ignore=!1,this.markRedraw()},n.prototype.attr=function(e,t){if("string"==typeof e)this.attrKV(e,t);else if($e(e))for(var i=be(e),r=0;r<i.length;r++){var o=i[r];this.attrKV(o,e[o])}return this.markRedraw(),this},n.prototype.saveCurrentToNormalState=function(e){this._innerSaveToNormal(e);for(var t=this._normalState,i=0;i<this.animators.length;i++){var r=this.animators[i],o=r.__fromStateTransition;if(!o||o===Jr){var s=r.targetName;r.saveFinalToTarget(s?t[s]:t)}}},n.prototype._innerSaveToNormal=function(e){var t=this._normalState;t||(t=this._normalState={}),e.textConfig&&!t.textConfig&&(t.textConfig=this.textConfig),this._savePrimaryToNormal(e,t,il)},n.prototype._savePrimaryToNormal=function(e,t,i){for(var r=0;r<i.length;r++){var o=i[r];null==e[o]||o in t||(t[o]=this[o])}},n.prototype.hasState=function(){return this.currentStates.length>0},n.prototype.getState=function(e){return this.states[e]},n.prototype.ensureState=function(e){var t=this.states;return t[e]||(t[e]={}),t[e]},n.prototype.clearStates=function(e){this.useState(Jr,!1,e)},n.prototype.useState=function(e,t,i,r){var o=e===Jr;if(this.hasState()||!o){var s=this.currentStates,l=this.stateTransition;if(!(Ne(s,e)>=0)||!t&&1!==s.length){var u;if(this.stateProxy&&!o&&(u=this.stateProxy(e)),u||(u=this.states&&this.states[e]),u||o){o||this.saveCurrentToNormalState(u);var f=!!(u&&u.hoverLayer||r);f&&this._toggleHoverLayerFlag(!0),this._applyStateObj(e,u,this._normalState,t,!i&&!this.__inHover&&l&&l.duration>0,l);var p=this._textContent,m=this._textGuide;return p&&p.useState(e,t,i,f),m&&m.useState(e,t,i,f),o?(this.currentStates=[],this._normalState={}):t?this.currentStates.push(e):this.currentStates=[e],this._updateAnimationTargets(),this.markRedraw(),!f&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=-2),u}ie("State "+e+" not exists.")}}},n.prototype.useStates=function(e,t,i){if(e.length){var r=[],o=this.currentStates,s=e.length,l=s===o.length;if(l)for(var u=0;u<s;u++)if(e[u]!==o[u]){l=!1;break}if(l)return;for(u=0;u<s;u++){var f=e[u],p=void 0;this.stateProxy&&(p=this.stateProxy(f,e)),p||(p=this.states[f]),p&&r.push(p)}var m=r[s-1],b=!!(m&&m.hoverLayer||i);b&&this._toggleHoverLayerFlag(!0);var w=this._mergeStates(r),k=this.stateTransition;this.saveCurrentToNormalState(w),this._applyStateObj(e.join(","),w,this._normalState,!1,!t&&!this.__inHover&&k&&k.duration>0,k);var M=this._textContent,I=this._textGuide;M&&M.useStates(e,t,b),I&&I.useStates(e,t,b),this._updateAnimationTargets(),this.currentStates=e.slice(),this.markRedraw(),!b&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=-2)}else this.clearStates()},n.prototype._updateAnimationTargets=function(){for(var e=0;e<this.animators.length;e++){var t=this.animators[e];t.targetName&&t.changeTarget(this[t.targetName])}},n.prototype.removeState=function(e){var t=Ne(this.currentStates,e);if(t>=0){var i=this.currentStates.slice();i.splice(t,1),this.useStates(i)}},n.prototype.replaceState=function(e,t,i){var r=this.currentStates.slice(),o=Ne(r,e),s=Ne(r,t)>=0;o>=0?s?r.splice(o,1):r[o]=t:i&&!s&&r.push(t),this.useStates(r)},n.prototype.toggleState=function(e,t){t?this.useState(e,!0):this.removeState(e)},n.prototype._mergeStates=function(e){for(var t,i={},r=0;r<e.length;r++){var o=e[r];Dt(i,o),o.textConfig&&Dt(t=t||{},o.textConfig)}return t&&(i.textConfig=t),i},n.prototype._applyStateObj=function(e,t,i,r,o,s){var l=!(t&&r);t&&t.textConfig?(this.textConfig=Dt({},r?this.textConfig:i.textConfig),Dt(this.textConfig,t.textConfig)):l&&i.textConfig&&(this.textConfig=i.textConfig);for(var u={},f=!1,p=0;p<il.length;p++){var m=il[p],b=o&&Xl[m];t&&null!=t[m]?b?(f=!0,u[m]=t[m]):this[m]=t[m]:l&&null!=i[m]&&(b?(f=!0,u[m]=i[m]):this[m]=i[m])}if(!o)for(p=0;p<this.animators.length;p++){var w=this.animators[p],k=w.targetName;w.__changeFinalValue(k?(t||i)[k]:t||i)}f&&this._transitionState(e,u,s)},n.prototype._attachComponent=function(e){if(e.__zr&&!e.__hostTarget)throw new Error("Text element has been added to zrender.");if(e===this)throw new Error("Recursive component attachment.");var t=this.__zr;t&&e.addSelfToZr(t),e.__zr=t,e.__hostTarget=this},n.prototype._detachComponent=function(e){e.__zr&&e.removeSelfFromZr(e.__zr),e.__zr=null,e.__hostTarget=null},n.prototype.getClipPath=function(){return this._clipPath},n.prototype.setClipPath=function(e){this._clipPath&&this._clipPath!==e&&this.removeClipPath(),this._attachComponent(e),this._clipPath=e,this.markRedraw()},n.prototype.removeClipPath=function(){var e=this._clipPath;e&&(this._detachComponent(e),this._clipPath=null,this.markRedraw())},n.prototype.getTextContent=function(){return this._textContent},n.prototype.setTextContent=function(e){var t=this._textContent;if(t!==e){if(t&&t!==e&&this.removeTextContent(),e.__zr&&!e.__hostTarget)throw new Error("Text element has been added to zrender.");e.innerTransformable=new as,this._attachComponent(e),this._textContent=e,this.markRedraw()}},n.prototype.setTextConfig=function(e){this.textConfig||(this.textConfig={}),Dt(this.textConfig,e),this.markRedraw()},n.prototype.removeTextConfig=function(){this.textConfig=null,this.markRedraw()},n.prototype.removeTextContent=function(){var e=this._textContent;e&&(e.innerTransformable=null,this._detachComponent(e),this._textContent=null,this._innerTextDefaultStyle=null,this.markRedraw())},n.prototype.getTextGuideLine=function(){return this._textGuide},n.prototype.setTextGuideLine=function(e){this._textGuide&&this._textGuide!==e&&this.removeTextGuideLine(),this._attachComponent(e),this._textGuide=e,this.markRedraw()},n.prototype.removeTextGuideLine=function(){var e=this._textGuide;e&&(this._detachComponent(e),this._textGuide=null,this.markRedraw())},n.prototype.markRedraw=function(){this.__dirty|=1;var e=this.__zr;e&&(this.__inHover?e.refreshHover():e.refresh()),this.__hostTarget&&this.__hostTarget.markRedraw()},n.prototype.dirty=function(){this.markRedraw()},n.prototype._toggleHoverLayerFlag=function(e){this.__inHover=e;var t=this._textContent,i=this._textGuide;t&&(t.__inHover=e),i&&(i.__inHover=e)},n.prototype.addSelfToZr=function(e){if(this.__zr!==e){this.__zr=e;var t=this.animators;if(t)for(var i=0;i<t.length;i++)e.animation.addAnimator(t[i]);this._clipPath&&this._clipPath.addSelfToZr(e),this._textContent&&this._textContent.addSelfToZr(e),this._textGuide&&this._textGuide.addSelfToZr(e)}},n.prototype.removeSelfFromZr=function(e){if(this.__zr){this.__zr=null;var t=this.animators;if(t)for(var i=0;i<t.length;i++)e.animation.removeAnimator(t[i]);this._clipPath&&this._clipPath.removeSelfFromZr(e),this._textContent&&this._textContent.removeSelfFromZr(e),this._textGuide&&this._textGuide.removeSelfFromZr(e)}},n.prototype.animate=function(e,t){var i=e?this[e]:this;if(i){var r=new Sc(i,t);return this.addAnimator(r,e),r}ie('Property "'+e+'" is not existed in element '+this.id)},n.prototype.addAnimator=function(e,t){var i=this.__zr,r=this;e.during(function(){r.updateDuringAnimation(t)}).done(function(){var o=r.animators,s=Ne(o,e);s>=0&&o.splice(s,1)}),this.animators.push(e),i&&i.animation.addAnimator(e),i&&i.wakeUp()},n.prototype.updateDuringAnimation=function(e){this.markRedraw()},n.prototype.stopAnimation=function(e,t){for(var i=this.animators,r=i.length,o=[],s=0;s<r;s++){var l=i[s];e&&e!==l.scope?o.push(l):l.stop(t)}return this.animators=o,this},n.prototype.animateTo=function(e,t,i){Da(this,e,t,i)},n.prototype.animateFrom=function(e,t,i){Da(this,e,t,i,!0)},n.prototype._transitionState=function(e,t,i,r){for(var o=Da(this,t,i,r),s=0;s<o.length;s++)o[s].__fromStateTransition=e},n.prototype.getBoundingRect=function(){return null},n.prototype.getPaintRect=function(){return null},n.initDefaultProps=function(){var e=n.prototype;e.type="element",e.name="",e.ignore=!1,e.silent=!1,e.isGroup=!1,e.draggable=!1,e.dragging=!1,e.ignoreClip=!1,e.__inHover=!1,e.__dirty=1;var t={};function i(o,s,l){t[o+s+l]||(console.warn("DEPRECATED: '"+o+"' has been deprecated. use '"+s+"', '"+l+"' instead"),t[o+s+l]=!0)}function r(o,s,l,u){function f(p,m){Object.defineProperty(m,0,{get:function(){return p[l]},set:function(b){p[l]=b}}),Object.defineProperty(m,1,{get:function(){return p[u]},set:function(b){p[u]=b}})}Object.defineProperty(e,o,{get:function(){return i(o,l,u),this[s]||f(this,this[s]=[]),this[s]},set:function(p){i(o,l,u),this[l]=p[0],this[u]=p[1],this[s]=p,f(this,p)}})}Object.defineProperty&&(!Wt.browser.ie||Wt.browser.version>8)&&(r("position","_legacyPos","x","y"),r("scale","_legacyScale","scaleX","scaleY"),r("origin","_legacyOrigin","originX","originY"))}(),n}();function Da(n,e,t,i,r){var o=[];nt(n,"",n,e,t=t||{},i,o,r);var s=o.length,l=!1,u=t.done,f=t.aborted,p=function(){l=!0,--s<=0&&(l?u&&u():f&&f())},m=function(){--s<=0&&(l?u&&u():f&&f())};s||u&&u(),o.length>0&&t.during&&o[0].during(function(k,M){t.during(M)});for(var b=0;b<o.length;b++){var w=o[b];p&&w.done(p),m&&w.aborted(m),w.start(t.easing,t.force)}return o}function ko(n,e,t){for(var i=0;i<t;i++)n[i]=e[i]}function ue(n,e,t){if(an(e[t]))if(an(n[t])||(n[t]=[]),ui(e[t])){var i=e[t].length;n[t].length!==i&&(n[t]=new e[t].constructor(i),ko(n[t],e[t],i))}else{var r=e[t],o=n[t],s=r.length;if(an(r[0]))for(var l=r[0].length,u=0;u<s;u++)o[u]?ko(o[u],r[u],l):o[u]=Array.prototype.slice.call(r[u]);else ko(o,r,s);o.length=r.length}else n[t]=e[t]}function nt(n,e,t,i,r,o,s,l){for(var u=[],f=[],p=be(i),m=r.duration,b=r.delay,w=r.additive,k=r.setToFinal,M=!$e(o),I=0;I<p.length;I++)if(null!=t[At=p[I]]&&null!=i[At]&&(M||o[At]))if($e(i[At])&&!an(i[At])){if(e){l||(t[At]=i[At],n.updateDuringAnimation(e));continue}nt(n,At,t[At],i[At],r,o&&o[At],s,l)}else u.push(At),f.push(At);else l||(t[At]=i[At],n.updateDuringAnimation(e),f.push(At));var O=u.length;if(O>0||r.force&&!s.length){for(var B=n.animators,H=[],X=0;X<B.length;X++)B[X].targetName===e&&H.push(B[X]);if(!w&&H.length)for(X=0;X<H.length;X++)if(H[X].stopTracks(f)){var U=Ne(B,H[X]);B.splice(U,1)}var $=void 0,et=void 0,at=void 0;if(l)for(et={},k&&($={}),X=0;X<O;X++)et[At=u[X]]=t[At],k?$[At]=i[At]:t[At]=i[At];else if(k)for(at={},X=0;X<O;X++){var At;at[At=u[X]]=wo(t[At]),ue(t,i,At)}var Mt=new Sc(t,!1,w?H:null);Mt.targetName=e,r.scope&&(Mt.scope=r.scope),k&&$&&Mt.whenWithKeys(0,$,u),at&&Mt.whenWithKeys(0,at,u),Mt.whenWithKeys(null==m?500:m,l?et:i,u).delay(b||0),n.addAnimator(Mt,e),s.push(Mt)}}on(Gl,v),on(Gl,as);var bt=function(n){function e(t){var i=n.call(this)||this;return i.isGroup=!0,i._children=[],i.attr(t),i}return Tt(e,n),e.prototype.childrenRef=function(){return this._children},e.prototype.children=function(){return this._children.slice()},e.prototype.childAt=function(t){return this._children[t]},e.prototype.childOfName=function(t){for(var i=this._children,r=0;r<i.length;r++)if(i[r].name===t)return i[r]},e.prototype.childCount=function(){return this._children.length},e.prototype.add=function(t){if(t&&(t!==this&&t.parent!==this&&(this._children.push(t),this._doAdd(t)),t.__hostTarget))throw"This elemenet has been used as an attachment";return this},e.prototype.addBefore=function(t,i){if(t&&t!==this&&t.parent!==this&&i&&i.parent===this){var r=this._children,o=r.indexOf(i);o>=0&&(r.splice(o,0,t),this._doAdd(t))}return this},e.prototype.replace=function(t,i){var r=Ne(this._children,t);return r>=0&&this.replaceAt(i,r),this},e.prototype.replaceAt=function(t,i){var r=this._children,o=r[i];if(t&&t!==this&&t.parent!==this&&t!==o){r[i]=t,o.parent=null;var s=this.__zr;s&&o.removeSelfFromZr(s),this._doAdd(t)}return this},e.prototype._doAdd=function(t){t.parent&&t.parent.remove(t),t.parent=this;var i=this.__zr;i&&i!==t.__zr&&t.addSelfToZr(i),i&&i.refresh()},e.prototype.remove=function(t){var i=this.__zr,r=this._children,o=Ne(r,t);return o<0||(r.splice(o,1),t.parent=null,i&&t.removeSelfFromZr(i),i&&i.refresh()),this},e.prototype.removeAll=function(){for(var t=this._children,i=this.__zr,r=0;r<t.length;r++){var o=t[r];i&&o.removeSelfFromZr(i),o.parent=null}return t.length=0,this},e.prototype.eachChild=function(t,i){for(var r=this._children,o=0;o<r.length;o++)t.call(i,r[o],o);return this},e.prototype.traverse=function(t,i){for(var r=0;r<this._children.length;r++){var o=this._children[r],s=t.call(i,o);o.isGroup&&!s&&o.traverse(t,i)}return this},e.prototype.addSelfToZr=function(t){n.prototype.addSelfToZr.call(this,t);for(var i=0;i<this._children.length;i++)this._children[i].addSelfToZr(t)},e.prototype.removeSelfFromZr=function(t){n.prototype.removeSelfFromZr.call(this,t);for(var i=0;i<this._children.length;i++)this._children[i].removeSelfFromZr(t)},e.prototype.getBoundingRect=function(t){for(var i=new Xi(0,0,0,0),r=t||this._children,o=[],s=null,l=0;l<r.length;l++){var u=r[l];if(!u.ignore&&!u.invisible){var f=u.getBoundingRect(),p=u.getLocalTransform(o);p?(Xi.applyTransform(i,f,p),(s=s||i.clone()).union(i)):(s=s||f.clone()).union(f)}}return s||i},e}(Gl);bt.prototype.type="group";var Me=!Wt.canvasSupported,We={},Je={},wn=function(){function n(e,t,i){var r=this;this._sleepAfterStill=10,this._stillFrameAccum=0,this._needsRefresh=!0,this._needsRefreshHover=!0,this._darkMode=!1,i=i||{},this.dom=t,this.id=e;var o=new vn,s=i.renderer||"canvas";if(Me)throw new Error("IE8 support has been dropped since 5.0");if(We[s]||(s=be(We)[0]),!We[s])throw new Error("Renderer '"+s+"' is not imported. Please import it first.");i.useDirtyRect=null!=i.useDirtyRect&&i.useDirtyRect;var l=new We[s](t,o,i,e);this.storage=o,this.painter=l;var u=Wt.node||Wt.worker?null:new Uu(l.getViewportRoot(),l.root);this.handler=new zn(o,l,u,l.root),this.animation=new bl({stage:{update:function(){return r._flush(!0)}}}),this.animation.start()}return n.prototype.add=function(e){e&&(this.storage.addRoot(e),e.addSelfToZr(this),this.refresh())},n.prototype.remove=function(e){e&&(this.storage.delRoot(e),e.removeSelfFromZr(this),this.refresh())},n.prototype.configLayer=function(e,t){this.painter.configLayer&&this.painter.configLayer(e,t),this.refresh()},n.prototype.setBackgroundColor=function(e){this.painter.setBackgroundColor&&this.painter.setBackgroundColor(e),this.refresh(),this._backgroundColor=e,this._darkMode=function(t){if(!t)return!1;if("string"==typeof t)return $s(t,1)<.4;if(t.colorStops){for(var i=t.colorStops,r=0,o=i.length,s=0;s<o;s++)r+=$s(i[s].color,1);return(r/=o)<.4}return!1}(e)},n.prototype.getBackgroundColor=function(){return this._backgroundColor},n.prototype.setDarkMode=function(e){this._darkMode=e},n.prototype.isDarkMode=function(){return this._darkMode},n.prototype.refreshImmediately=function(e){e||this.animation.update(!0),this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1},n.prototype.refresh=function(){this._needsRefresh=!0,this.animation.start()},n.prototype.flush=function(){this._flush(!1)},n.prototype._flush=function(e){var t,i=(new Date).getTime();this._needsRefresh&&(t=!0,this.refreshImmediately(e)),this._needsRefreshHover&&(t=!0,this.refreshHoverImmediately());var r=(new Date).getTime();t?(this._stillFrameAccum=0,this.trigger("rendered",{elapsedTime:r-i})):this._sleepAfterStill>0&&(this._stillFrameAccum++,this._stillFrameAccum>this._sleepAfterStill&&this.animation.stop())},n.prototype.setSleepAfterStill=function(e){this._sleepAfterStill=e},n.prototype.wakeUp=function(){this.animation.start(),this._stillFrameAccum=0},n.prototype.addHover=function(e){},n.prototype.removeHover=function(e){},n.prototype.clearHover=function(){},n.prototype.refreshHover=function(){this._needsRefreshHover=!0},n.prototype.refreshHoverImmediately=function(){this._needsRefreshHover=!1,this.painter.refreshHover&&"canvas"===this.painter.getType()&&this.painter.refreshHover()},n.prototype.resize=function(e){this.painter.resize((e=e||{}).width,e.height),this.handler.resize()},n.prototype.clearAnimation=function(){this.animation.clear()},n.prototype.getWidth=function(){return this.painter.getWidth()},n.prototype.getHeight=function(){return this.painter.getHeight()},n.prototype.pathToImage=function(e,t){if(this.painter.pathToImage)return this.painter.pathToImage(e,t)},n.prototype.setCursorStyle=function(e){this.handler.setCursorStyle(e)},n.prototype.findHover=function(e,t){return this.handler.findHover(e,t)},n.prototype.on=function(e,t,i){return this.handler.on(e,t,i),this},n.prototype.off=function(e,t){this.handler.off(e,t)},n.prototype.trigger=function(e,t){this.handler.trigger(e,t)},n.prototype.clear=function(){for(var e=this.storage.getRoots(),t=0;t<e.length;t++)e[t]instanceof bt&&e[t].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()},n.prototype.dispose=function(){this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,delete Je[this.id]},n}();function Wn(n,e){var t=new wn(Yt(),n,e);return Je[t.id]=t,t}function si(n,e){We[n]=e}var li=Object.freeze({__proto__:null,init:Wn,dispose:function(n){n.dispose()},disposeAll:function(){for(var n in Je)Je.hasOwnProperty(n)&&Je[n].dispose();Je={}},getInstance:function(n){return Je[n]},registerPainter:si,version:"5.2.1"});function Bn(n,e,t,i){var r=e[0],o=e[1],s=t[0],l=t[1],u=o-r,f=l-s;if(0===u)return 0===f?s:(s+l)/2;if(i)if(u>0){if(n<=r)return s;if(n>=o)return l}else{if(n>=r)return s;if(n<=o)return l}else{if(n===r)return s;if(n===o)return l}return(n-r)/u*f+s}function In(n,e){switch(n){case"center":case"middle":n="50%";break;case"left":case"top":n="0%";break;case"right":case"bottom":n="100%"}return"string"==typeof n?(t=n,t.replace(/^\s+|\s+$/g,"")).match(/%$/)?parseFloat(n)/100*e:parseFloat(n):null==n?NaN:+n;var t}function xi(n,e,t){return null==e&&(e=10),e=Math.min(Math.max(0,e),20),n=(+n).toFixed(e),t?n:+n}function Li(n){return n.sort(function(e,t){return e-t}),n}function Hi(n){if(n=+n,isNaN(n))return 0;if(n>1e-14)for(var e=1,t=0;t<15;t++,e*=10)if(Math.round(n*e)/e===n)return t;return Ti(n)}function Ti(n){var e=n.toString().toLowerCase(),t=e.indexOf("e"),i=t>0?+e.slice(t+1):0,r=t>0?t:e.length,o=e.indexOf(".");return Math.max(0,(o<0?0:r-1-o)-i)}function Pr(n,e){var t=Math.log,i=Math.LN10,r=Math.floor(t(n[1]-n[0])/i),o=Math.round(t(Math.abs(e[1]-e[0]))/i),s=Math.min(Math.max(-r+o,0),20);return isFinite(s)?s:20}function or(n,e,t){if(!n[e])return 0;var i=oe(n,function(k,M){return k+(isNaN(M)?0:M)},0);if(0===i)return 0;for(var r=Math.pow(10,t),o=zt(n,function(k){return(isNaN(k)?0:k)/i*r*100}),s=100*r,l=zt(o,function(k){return Math.floor(k)}),u=oe(l,function(k,M){return k+M},0),f=zt(o,function(k,M){return k-l[M]});u<s;){for(var p=Number.NEGATIVE_INFINITY,m=null,b=0,w=f.length;b<w;++b)f[b]>p&&(p=f[b],m=b);++l[m],f[m]=0,++u}return l[e]/r}function cr(n,e){var t=Math.max(Hi(n),Hi(e)),i=n+e;return t>20?i:xi(i,t)}var _r=9007199254740991;function hr(n){var e=2*Math.PI;return(n%e+e)%e}function gr(n){return n>-1e-4&&n<1e-4}var qi=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function Ji(n){if(n instanceof Date)return n;if("string"==typeof n){var e=qi.exec(n);if(!e)return new Date(NaN);if(e[8]){var t=+e[4]||0;return"Z"!==e[8].toUpperCase()&&(t-=+e[8].slice(0,3)),new Date(Date.UTC(+e[1],+(e[2]||1)-1,+e[3]||1,t,+(e[5]||0),+e[6]||0,e[7]?+e[7].substring(0,3):0))}return new Date(+e[1],+(e[2]||1)-1,+e[3]||1,+e[4]||0,+(e[5]||0),+e[6]||0,e[7]?+e[7].substring(0,3):0)}return null==n?new Date(NaN):new Date(Math.round(n))}function wr(n){return Math.pow(10,fo(n))}function fo(n){if(0===n)return 0;var e=Math.floor(Math.log(n)/Math.LN10);return n/Math.pow(10,e)>=10&&e++,e}function $r(n,e){var t=fo(n),i=Math.pow(10,t),r=n/i;return n=(e?r<1.5?1:r<2.5?2:r<4?3:r<7?5:10:r<1?1:r<2?2:r<3?3:r<5?5:10)*i,t>=-20?+n.toFixed(t<0?-t:0):n}function ba(n,e){var t=(n.length-1)*e+1,i=Math.floor(t),r=+n[i-1],o=t-i;return o?r+o*(n[i]-r):r}function uo(n){n.sort(function(u,f){return l(u,f,0)?-1:1});for(var e=-1/0,t=1,i=0;i<n.length;){for(var r=n[i].interval,o=n[i].close,s=0;s<2;s++)r[s]<=e&&(r[s]=e,o[s]=s?1:1-t),e=r[s],t=o[s];r[0]===r[1]&&o[0]*o[1]!=1?n.splice(i,1):i++}return n;function l(u,f,p){return u.interval[p]<f.interval[p]||u.interval[p]===f.interval[p]&&(u.close[p]-f.close[p]==(p?-1:1)||!p&&l(u,f,1))}}function Po(n){var e=parseFloat(n);return e==n&&(0!==e||"string"!=typeof n||n.indexOf("x")<=0)?e:NaN}function Ps(n){return!isNaN(Po(n))}function Ha(){return Math.round(9*Math.random())}function Yo(n,e){return 0===e?n:Yo(e,n%e)}function io(n,e){return null==n?e:null==e?n:n*e/Yo(n,e)}function Ai(n){throw new Error(n)}var Ao="series\0";function mr(n){return n instanceof Array?n:null==n?[]:[n]}function Xo(n,e,t){if(n){n[e]=n[e]||{},n.emphasis=n.emphasis||{},n.emphasis[e]=n.emphasis[e]||{};for(var i=0,r=t.length;i<r;i++){var o=t[i];!n.emphasis[e].hasOwnProperty(o)&&n[e].hasOwnProperty(o)&&(n.emphasis[e][o]=n[e][o])}}}var ms=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function rl(n){return!$e(n)||Jt(n)||n instanceof Date?n:n.value}function bh(n){return $e(n)&&!(n instanceof Array)}function Ku(n,e,t){var i="normalMerge"===t,r="replaceMerge"===t,o="replaceAll"===t;n=n||[],e=(e||[]).slice();var s=ii();mt(e,function(p,m){$e(p)||(e[m]=null)});var l,u,p,m,b,w,f=function(p,m,b){var w=[];if("replaceAll"===b)return w;for(var k=0;k<p.length;k++){var M=p[k];M&&null!=M.id&&m.set(M.id,k),w.push({existing:"replaceMerge"===b||_u(M)?null:M,newOption:null,keyInfo:null,brandNew:null})}return w}(n,s,t);return(i||r)&&(p=f,m=n,b=s,mt(w=e,function(k,M){if(k&&null!=k.id){var I=Qu(k.id),O=b.get(I);if(null!=O){var B=p[O];Ni(!B.newOption,'Duplicated option on id "'+I+'".'),B.newOption=k,B.existing=m[O],w[M]=null}}})),i&&function(p,m){mt(m,function(b,w){if(b&&null!=b.name)for(var k=0;k<p.length;k++){var M=p[k].existing;if(!p[k].newOption&&M&&(null==M.id||null==b.id)&&!_u(b)&&!_u(M)&&af("name",M,b))return p[k].newOption=b,void(m[w]=null)}})}(f,e),i||r?function(p,m,b){mt(m,function(w){if(w){for(var k,M=0;(k=p[M])&&(k.newOption||_u(k.existing)||k.existing&&null!=w.id&&!af("id",w,k.existing));)M++;k?(k.newOption=w,k.brandNew=b):p.push({newOption:w,brandNew:b,existing:null,keyInfo:null}),M++}})}(f,e,r):o&&function(p,m){mt(m,function(b){p.push({newOption:b,brandNew:!0,existing:null,keyInfo:null})})}(f,e),l=f,u=ii(),mt(l,function(p){var m=p.existing;m&&u.set(m.id,p)}),mt(l,function(p){var m=p.newOption;Ni(!m||null==m.id||!u.get(m.id)||u.get(m.id)===p,"id duplicates: "+(m&&m.id)),m&&null!=m.id&&u.set(m.id,p),!p.keyInfo&&(p.keyInfo={})}),mt(l,function(p,m){var b=p.existing,w=p.newOption,k=p.keyInfo;if($e(w)){if(k.name=null!=w.name?Qu(w.name):b?b.name:Ao+m,b)k.id=Qu(b.id);else if(null!=w.id)k.id=Qu(w.id);else{var M=0;do{k.id="\0"+k.name+"\0"+M++}while(u.get(k.id))}u.set(k.id,p)}}),f}function af(n,e,t){var i=No(e[n],null),r=No(t[n],null);return null!=i&&null!=r&&i===r}function Qu(n){return No(n,"")}function No(n,e){if(null==n)return e;var t=typeof n;return"string"===t?n:"number"===t||sn(n)?n+"":e}function Sl(n){var e=n.name;return!(!e||!e.indexOf(Ao))}function _u(n){return n&&null!=n.id&&0===Qu(n.id).indexOf("\0_ec_\0")}function Ju(n,e){return null!=e.dataIndexInside?e.dataIndexInside:null!=e.dataIndex?Jt(e.dataIndex)?zt(e.dataIndex,function(t){return n.indexOfRawIndex(t)}):n.indexOfRawIndex(e.dataIndex):null!=e.name?Jt(e.name)?zt(e.name,function(t){return n.indexOfName(t)}):n.indexOfName(e.name):void 0}function ar(){var n="__ec_inner_"+_h++;return function(e){return e[n]||(e[n]={})}}var _h=Ha();function Dc(n,e,t){var i=wh(e,t),o=i.queryOptionMap,s=i.others,l=t?t.defaultMainType:null;return!i.mainTypeSpecified&&l&&o.set(l,{}),o.each(function(u,f){var p=Sh(n,f,u,{useDefault:l===f,enableAll:!t||null==t.enableAll||t.enableAll,enableNone:!t||null==t.enableNone||t.enableNone});s[f+"Models"]=p.models,s[f+"Model"]=p.models[0]}),s}function wh(n,e){var t;if(Ke(n)){var i={};i[n+"Index"]=0,t=i}else t=n;var r=ii(),o={},s=!1;return mt(t,function(l,u){if("dataIndex"!==u&&"dataIndexInside"!==u){var f=u.match(/^(\w+)(Index|Id|Name)$/)||[],p=f[1],m=(f[2]||"").toLowerCase();p&&m&&!(e&&e.includeMainTypes&&Ne(e.includeMainTypes,p)<0)&&(s=s||!!p,(r.get(p)||r.set(p,{}))[m]=l)}else o[u]=l}),{mainTypeSpecified:s,queryOptionMap:r,others:o}}var Mo={useDefault:!0,enableAll:!1,enableNone:!1},Bg={useDefault:!1,enableAll:!0,enableNone:!0};function Sh(n,e,t,i){i=i||Mo;var r=t.index,o=t.id,s=t.name,l={models:null,specified:null!=r||null!=o||null!=s};if(!l.specified){var u=void 0;return l.models=i.useDefault&&(u=n.getComponent(e))?[u]:[],l}return"none"===r||!1===r?(Ni(i.enableNone,'`"none"` or `false` is not a valid value on index option.'),l.models=[],l):("all"===r&&(Ni(i.enableAll,'`"all"` is not a valid value on index option.'),r=o=s=null),l.models=n.queryComponents({mainType:e,index:r,id:o,name:s}),l)}function sf(n,e,t){n.setAttribute?n.setAttribute(e,t):n[e]=t}function od(n,e){var t=ii(),i=[];return mt(n,function(r){var o=e(r);(t.get(o)||(i.push(o),t.set(o,[]))).push(r)}),{keys:i,buckets:t}}function tc(n,e,t,i,r){var o=null==e||"auto"===e;if(null==i)return i;if("number"==typeof i)return xi(k=is(t||0,i,r),o?Math.max(Hi(t||0),Hi(i)):e);if("string"==typeof i)return r<1?t:i;for(var s=[],l=t,u=i,f=Math.max(l?l.length:0,u.length),p=0;p<f;++p){var m=n.getDimensionInfo(p);if(m&&"ordinal"===m.type)s[p]=(r<1&&l?l:u)[p];else{var b=l&&l[p]?l[p]:0,w=u[p],k=is(b,w,r);s[p]=xi(k,o?Math.max(Hi(b),Hi(w)):e)}}return s}var Ec="___EC__COMPONENT__CONTAINER___",lf="___EC__EXTENDED_CLASS___";function Wa(n){var e={main:"",sub:""};if(n){var t=n.split(".");e.main=t[0]||"",e.sub=t[1]||""}return e}function wu(n,e){n.$constructor=n,n.extend=function(t){var i=this;function r(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];if(t.$constructor)t.$constructor.apply(this,arguments);else{if(zg(i)){var l=Fo(r.prototype,new(i.bind.apply(i,Oe([void 0],o))));return l}i.apply(this,arguments)}}return r[lf]=!0,Dt(r.prototype,t),r.extend=this.extend,r.superCall=Fg,r.superApply=ec,tn(r,this),r.superClass=i,r}}function zg(n){return"function"==typeof n&&/^class\s/.test(Function.prototype.toString.call(n))}function ql(n,e){n.extend=e.extend}var Ch=Math.round(10*Math.random());function Fg(n,e){for(var t=[],i=2;i<arguments.length;i++)t[i-2]=arguments[i];return this.superClass.prototype[e].apply(n,t)}function ec(n,e,t){return this.superClass.prototype[e].apply(n,t)}function Go(n){var e={};n.registerClass=function(t){var i,s,l,r=t.type||t.prototype.type;if(r){Ni(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(i=r),'componentType "'+i+'" illegal'),t.prototype.type=r;var o=Wa(r);o.sub?o.sub!==Ec&&((s=o,l=e[s.main],l&&l[Ec]||((l=e[s.main]={})[Ec]=!0),l)[o.sub]=t):e[o.main]=t}return t},n.getClass=function(t,i,r){var o=e[t];if(o&&o[Ec]&&(o=i?o[i]:null),r&&!o)throw new Error(i?"Component "+t+"."+(i||"")+" is used but not imported.":t+".type should be specified.");return o},n.getClassesByMainType=function(t){var i=Wa(t),r=[],o=e[i.main];return o&&o[Ec]?mt(o,function(s,l){l!==Ec&&r.push(s)}):r.push(o),r},n.hasClass=function(t){var i=Wa(t);return!!e[i.main]},n.getAllClassMainTypes=function(){var t=[];return mt(e,function(i,r){t.push(r)}),t},n.hasSubTypes=function(t){var i=Wa(t),r=e[i.main];return r&&r[Ec]}}function Su(n,e){for(var t=0;t<n.length;t++)n[t][1]||(n[t][1]=n[t][0]);return e=e||!1,function(i,r,o){for(var s={},l=0;l<n.length;l++){var u=n[l][1];if(!(r&&Ne(r,u)>=0||o&&Ne(o,u)<0)){var f=i.getShallow(u,e);null!=f&&(s[n[l][0]]=f)}}return s}}var Vg=Su([["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]]),Vx=function(){function n(){}return n.prototype.getAreaStyle=function(e,t){return Vg(this,e,t)},n}(),Hg=new Ts(50);function jv(n){if("string"==typeof n){var e=Hg.get(n);return e&&e.image}return n}function Lc(n,e,t,i,r){if(n){if("string"==typeof n){if(e&&e.__zrImageSrc===n||!t)return e;var o=Hg.get(n),s={hostEl:t,cb:i,cbPayload:r};return o?!$l(e=o.image)&&o.pending.push(s):((e=new Image).onload=e.onerror=Ul,Hg.put(n,e.__cachedImgObj={image:e,pending:[s]}),e.src=e.__zrImageSrc=n),e}return n}return e}function Ul(){var n=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var e=0;e<n.pending.length;e++){var t=n.pending[e],i=t.cb;i&&i(this,t.cbPayload),t.hostEl.dirty()}n.pending.length=0}function $l(n){return n&&n.width&&n.height}var qo=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function jr(n,e,t,i,r){if(!e)return"";var o=(n+"").split("\n");r=ad(e,t,i,r);for(var s=0,l=o.length;s<l;s++)o[s]=Wg(o[s],r);return o.join("\n")}function ad(n,e,t,i){var r=Dt({},i=i||{});r.font=e,t=Tn(t,"..."),r.maxIterations=Tn(i.maxIterations,2);var o=r.minChar=Tn(i.minChar,0);r.cnCharWidth=da("\u56fd",e);var s=r.ascCharWidth=da("a",e);r.placeholder=Tn(i.placeholder,"");for(var l=n=Math.max(0,n-1),u=0;u<o&&l>=s;u++)l-=s;var f=da(t,e);return f>l&&(t="",f=0),l=n-f,r.ellipsis=t,r.ellipsisWidth=f,r.contentWidth=l,r.containerWidth=n,r}function Wg(n,e){var t=e.containerWidth,i=e.font,r=e.contentWidth;if(!t)return"";var o=da(n,i);if(o<=t)return n;for(var s=0;;s++){if(o<=r||s>=e.maxIterations){n+=e.ellipsis;break}var l=0===s?sd(n,r,e.ascCharWidth,e.cnCharWidth):o>0?Math.floor(n.length*r/o):0;o=da(n=n.substr(0,l),i)}return""===n&&(n=e.placeholder),n}function sd(n,e,t,i){for(var r=0,o=0,s=n.length;o<s&&r<e;o++){var l=n.charCodeAt(o);r+=0<=l&&l<=127?t:i}return o}var uf=function(){},hp=function(n){this.tokens=[],n&&(this.tokens=n)},dp=function(){this.width=0,this.height=0,this.contentWidth=0,this.contentHeight=0,this.outerWidth=0,this.outerHeight=0,this.lines=[]};function Zl(n,e,t,i,r){var o,s,l=""===e,u=r&&t.rich[r]||{},f=n.lines,p=u.font||t.font,m=!1;if(i){var b=u.padding,w=b?b[1]+b[3]:0;if(null!=u.width&&"auto"!==u.width){var k=Wr(u.width,i.width)+w;f.length>0&&k+i.accumWidth>i.width&&(o=e.split("\n"),m=!0),i.accumWidth=k}else{var M=Os(e,p,i.width,i.breakAll,i.accumWidth);i.accumWidth=M.accumWidth+w,s=M.linesWidths,o=M.lines}}else o=e.split("\n");for(var I=0;I<o.length;I++){var O=o[I],B=new uf;if(B.styleName=r,B.text=O,B.isLineHolder=!O&&!l,B.width="number"==typeof u.width?u.width:s?s[I]:da(O,p),I||m)f.push(new hp([B]));else{var H=(f[f.length-1]||(f[0]=new hp)).tokens,X=H.length;1===X&&H[0].isLineHolder?H[0]=B:(O||!X||l)&&H.push(B)}}}var kh=oe(",&?/;] ".split(""),function(n,e){return n[e]=!0,n},{});function Cu(n){return!((t=n.charCodeAt(0))>=33&&t<=255&&!kh[n]);var t}function Os(n,e,t,i,r){for(var o=[],s=[],l="",u="",f=0,p=0,m=0;m<n.length;m++){var b=n.charAt(m);if("\n"!==b){var w=da(b,e),k=!i&&!Cu(b);(o.length?p+w>t:r+p+w>t)?p?(l||u)&&(k?(l||(l=u,u="",p=f=0),o.push(l),s.push(p-f),u+=b,l="",p=f+=w):(u&&(l+=u,p+=f,u="",f=0),o.push(l),s.push(p),l=b,p=w)):k?(o.push(u),s.push(f),u=b,f=w):(o.push(b),s.push(w)):(p+=w,k?(u+=b,f+=w):(u&&(l+=u,u="",f=0),l+=b))}else u&&(l+=u,p+=f),o.push(l),s.push(p),l="",u="",f=0,p=0}return o.length||l||(l=n,u="",f=0),u&&(l+=u),l&&(o.push(l),s.push(p)),1===o.length&&(p+=r),{accumWidth:p,lines:o,linesWidths:s}}var Ah="__zr_style_"+Math.round(10*Math.random()),ja={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"},Kl={style:{shadowBlur:!0,shadowOffsetX:!0,shadowOffsetY:!0,shadowColor:!0,opacity:!0}};ja[Ah]=!0;var nc=["z","z2","invisible"],cf=["invisible"],Xr=function(n){function e(i){return n.call(this,i)||this}var t;return Tt(e,n),e.prototype._init=function(i){for(var r=be(i),o=0;o<r.length;o++){var s=r[o];"style"===s?this.useStyle(i[s]):n.prototype.attrKV.call(this,s,i[s])}this.style||this.useStyle({})},e.prototype.beforeBrush=function(){},e.prototype.afterBrush=function(){},e.prototype.innerBeforeBrush=function(){},e.prototype.innerAfterBrush=function(){},e.prototype.shouldBePainted=function(i,r,o,s){var p,m,b,l=this.transform;if(this.ignore||this.invisible||0===this.style.opacity||this.culling&&(m=i,b=r,ol.copy((p=this).getBoundingRect()),p.transform&&ol.applyTransform(p.transform),ss.width=m,ss.height=b,!ol.intersect(ss))||l&&!l[0]&&!l[3])return!1;if(o&&this.__clipPaths)for(var u=0;u<this.__clipPaths.length;++u)if(this.__clipPaths[u].isZeroArea())return!1;if(s&&this.parent)for(var f=this.parent;f;){if(f.ignore)return!1;f=f.parent}return!0},e.prototype.contain=function(i,r){return this.rectContain(i,r)},e.prototype.traverse=function(i,r){i.call(r,this)},e.prototype.rectContain=function(i,r){var o=this.transformCoordToLocal(i,r);return this.getBoundingRect().contain(o[0],o[1])},e.prototype.getPaintRect=function(){var i=this._paintRect;if(!this._paintRect||this.__dirty){var r=this.transform,o=this.getBoundingRect(),s=this.style,l=s.shadowBlur||0,u=s.shadowOffsetX||0,f=s.shadowOffsetY||0;i=this._paintRect||(this._paintRect=new Xi(0,0,0,0)),r?Xi.applyTransform(i,o,r):i.copy(o),(l||u||f)&&(i.width+=2*l+Math.abs(u),i.height+=2*l+Math.abs(f),i.x=Math.min(i.x,i.x+u-l),i.y=Math.min(i.y,i.y+f-l));var p=this.dirtyRectTolerance;i.isZero()||(i.x=Math.floor(i.x-p),i.y=Math.floor(i.y-p),i.width=Math.ceil(i.width+1+2*p),i.height=Math.ceil(i.height+1+2*p))}return i},e.prototype.setPrevPaintRect=function(i){i?(this._prevPaintRect=this._prevPaintRect||new Xi(0,0,0,0),this._prevPaintRect.copy(i)):this._prevPaintRect=null},e.prototype.getPrevPaintRect=function(){return this._prevPaintRect},e.prototype.animateStyle=function(i){return this.animate("style",i)},e.prototype.updateDuringAnimation=function(i){"style"===i?this.dirtyStyle():this.markRedraw()},e.prototype.attrKV=function(i,r){"style"!==i?n.prototype.attrKV.call(this,i,r):this.style?this.setStyle(r):this.useStyle(r)},e.prototype.setStyle=function(i,r){return"string"==typeof i?this.style[i]=r:Dt(this.style,i),this.dirtyStyle(),this},e.prototype.dirtyStyle=function(i){i||this.markRedraw(),this.__dirty|=2,this._rect&&(this._rect=null)},e.prototype.dirty=function(){this.dirtyStyle()},e.prototype.styleChanged=function(){return!!(2&this.__dirty)},e.prototype.styleUpdated=function(){this.__dirty&=-3},e.prototype.createStyle=function(i){return Fo(ja,i)},e.prototype.useStyle=function(i){i[Ah]||(i=this.createStyle(i)),this.__inHover?this.__hoverStyle=i:this.style=i,this.dirtyStyle()},e.prototype.isStyleObject=function(i){return i[Ah]},e.prototype._innerSaveToNormal=function(i){n.prototype._innerSaveToNormal.call(this,i);var r=this._normalState;i.style&&!r.style&&(r.style=this._mergeStyle(this.createStyle(),this.style)),this._savePrimaryToNormal(i,r,nc)},e.prototype._applyStateObj=function(i,r,o,s,l,u){n.prototype._applyStateObj.call(this,i,r,o,s,l,u);var f,p=!(r&&s);if(r&&r.style?l?s?f=r.style:(f=this._mergeStyle(this.createStyle(),o.style),this._mergeStyle(f,r.style)):(f=this._mergeStyle(this.createStyle(),s?this.style:o.style),this._mergeStyle(f,r.style)):p&&(f=o.style),f)if(l){var m=this.style;if(this.style=this.createStyle(p?{}:m),p)for(var b=be(m),w=0;w<b.length;w++)(M=b[w])in f&&(f[M]=f[M],this.style[M]=m[M]);var k=be(f);for(w=0;w<k.length;w++){var M=k[w];this.style[M]=this.style[M]}this._transitionState(i,{style:f},u,this.getAnimationStyleProps())}else this.useStyle(f);var I=this.__inHover?cf:nc;for(w=0;w<I.length;w++)M=I[w],r&&null!=r[M]?this[M]=r[M]:p&&null!=o[M]&&(this[M]=o[M])},e.prototype._mergeStates=function(i){for(var r,o=n.prototype._mergeStates.call(this,i),s=0;s<i.length;s++){var l=i[s];l.style&&this._mergeStyle(r=r||{},l.style)}return r&&(o.style=r),o},e.prototype._mergeStyle=function(i,r){return Dt(i,r),i},e.prototype.getAnimationStyleProps=function(){return Kl},e.initDefaultProps=((t=e.prototype).type="displayable",t.invisible=!1,t.z=0,t.z2=0,t.zlevel=0,t.culling=!1,t.cursor="pointer",t.rectHover=!1,t.incremental=!1,t._rect=null,t.dirtyRectTolerance=0,void(t.__dirty=3)),e}(Gl),ol=new Xi(0,0,0,0),ss=new Xi(0,0,0,0),al=Math.pow,Ya=Math.sqrt,pp=Ya(3),Pc=1/3,Ql=ge(),Uo=ge(),Mh=ge();function ic(n){return n>-1e-8&&n<1e-8}function Jl(n){return n>1e-8||n<-1e-8}function vo(n,e,t,i,r){var o=1-r;return o*o*(o*n+3*r*e)+r*r*(r*i+3*o*t)}function rc(n,e,t,i,r){var o=1-r;return 3*(((e-n)*o+2*(t-e)*r)*o+(i-t)*r*r)}function po(n,e,t,i,r,o){var s=i+3*(e-t)-n,l=3*(t-2*e+n),u=3*(e-n),f=n-r,p=l*l-3*s*u,m=l*u-9*s*f,b=u*u-3*l*f,w=0;if(ic(p)&&ic(m))ic(l)?o[0]=0:(at=-u/l)>=0&&at<=1&&(o[w++]=at);else{var k=m*m-4*p*b;if(ic(k)){var M=m/p,I=-M/2;(at=-l/s+M)>=0&&at<=1&&(o[w++]=at),I>=0&&I<=1&&(o[w++]=I)}else if(k>0){var O=Ya(k),B=p*l+1.5*s*(-m+O),H=p*l+1.5*s*(-m-O);(at=(-l-((B=B<0?-al(-B,Pc):al(B,Pc))+(H=H<0?-al(-H,Pc):al(H,Pc))))/(3*s))>=0&&at<=1&&(o[w++]=at)}else{var X=(2*p*l-3*s*m)/(2*Ya(p*p*p)),U=Math.acos(X)/3,$=Ya(p),et=Math.cos(U),at=(-l-2*$*et)/(3*s),At=(I=(-l+$*(et+pp*Math.sin(U)))/(3*s),(-l+$*(et-pp*Math.sin(U)))/(3*s));at>=0&&at<=1&&(o[w++]=at),I>=0&&I<=1&&(o[w++]=I),At>=0&&At<=1&&(o[w++]=At)}}return w}function tu(n,e,t,i,r){var o=6*t-12*e+6*n,s=9*e+3*i-3*n-9*t,l=3*e-3*n,u=0;if(ic(s))Jl(o)&&(p=-l/o)>=0&&p<=1&&(r[u++]=p);else{var f=o*o-4*s*l;if(ic(f))r[0]=-o/(2*s);else if(f>0){var p,m=Ya(f),b=(-o-m)/(2*s);(p=(-o+m)/(2*s))>=0&&p<=1&&(r[u++]=p),b>=0&&b<=1&&(r[u++]=b)}}return u}function ku(n,e,t,i,r,o){var s=(e-n)*r+n,l=(t-e)*r+e,u=(i-t)*r+t,f=(l-s)*r+s,p=(u-l)*r+l,m=(p-f)*r+f;o[0]=n,o[1]=s,o[2]=f,o[3]=m,o[4]=m,o[5]=p,o[6]=u,o[7]=i}function ld(n,e,t,i,r,o,s,l,u,f,p){var m,b,w,k,M,I=.005,O=1/0;Ql[0]=u,Ql[1]=f;for(var B=0;B<1;B+=.05)Uo[0]=vo(n,t,r,s,B),Uo[1]=vo(e,i,o,l,B),(k=Aa(Ql,Uo))<O&&(m=B,O=k);O=1/0;for(var H=0;H<32&&!(I<1e-4);H++)w=m+I,Uo[0]=vo(n,t,r,s,b=m-I),Uo[1]=vo(e,i,o,l,b),k=Aa(Uo,Ql),b>=0&&k<O?(m=b,O=k):(Mh[0]=vo(n,t,r,s,w),Mh[1]=vo(e,i,o,l,w),M=Aa(Mh,Ql),w<=1&&M<O?(m=w,O=M):I*=.5);return p&&(p[0]=vo(n,t,r,s,m),p[1]=vo(e,i,o,l,m)),Ya(O)}function ud(n,e,t,i,r,o,s,l,u){for(var f=n,p=e,m=0,b=1/u,w=1;w<=u;w++){var k=w*b,M=vo(n,t,r,s,k),I=vo(e,i,o,l,k),O=M-f,B=I-p;m+=Math.sqrt(O*O+B*B),f=M,p=I}return m}function _a(n,e,t,i){var r=1-i;return r*(r*n+2*i*e)+i*i*t}function hf(n,e,t,i){return 2*((1-i)*(e-n)+i*(t-e))}function gp(n,e,t){var i=n+t-2*e;return 0===i?.5:(n-e)/i}function cd(n,e,t,i,r){var o=(e-n)*i+n,s=(t-e)*i+e,l=(s-o)*i+o;r[0]=n,r[1]=o,r[2]=l,r[3]=l,r[4]=s,r[5]=t}function Yv(n,e,t,i,r,o,s,l,u){var f,p=.005,m=1/0;Ql[0]=s,Ql[1]=l;for(var b=0;b<1;b+=.05)Uo[0]=_a(n,t,r,b),Uo[1]=_a(e,i,o,b),(I=Aa(Ql,Uo))<m&&(f=b,m=I);m=1/0;for(var w=0;w<32&&!(p<1e-4);w++){var k=f-p,M=f+p;Uo[0]=_a(n,t,r,k),Uo[1]=_a(e,i,o,k);var I=Aa(Uo,Ql);if(k>=0&&I<m)f=k,m=I;else{Mh[0]=_a(n,t,r,M),Mh[1]=_a(e,i,o,M);var O=Aa(Mh,Ql);M<=1&&O<m?(f=M,m=O):p*=.5}}return u&&(u[0]=_a(n,t,r,f),u[1]=_a(e,i,o,f)),Ya(m)}function mp(n,e,t,i,r,o,s){for(var l=n,u=e,f=0,p=1/s,m=1;m<=s;m++){var b=m*p,w=_a(n,t,r,b),k=_a(e,i,o,b),M=w-l,I=k-u;f+=Math.sqrt(M*M+I*I),l=w,u=k}return f}var Ns=Math.min,Rs=Math.max,hd=Math.sin,dd=Math.cos,sl=2*Math.PI,Th=ge(),To=ge(),Tr=ge();function Oc(n,e,t){if(0!==n.length){for(var i=n[0],r=i[0],o=i[0],s=i[1],l=i[1],u=1;u<n.length;u++)r=Ns(r,(i=n[u])[0]),o=Rs(o,i[0]),s=Ns(s,i[1]),l=Rs(l,i[1]);e[0]=r,e[1]=s,t[0]=o,t[1]=l}}function ll(n,e,t,i,r,o){r[0]=Ns(n,t),r[1]=Ns(e,i),o[0]=Rs(n,t),o[1]=Rs(e,i)}var vp=[],oc=[];function Ih(n,e,t,i,r,o,s,l,u,f){var p=tu,m=vo,b=p(n,t,r,s,vp);u[0]=1/0,u[1]=1/0,f[0]=-1/0,f[1]=-1/0;for(var w=0;w<b;w++){var k=m(n,t,r,s,vp[w]);u[0]=Ns(k,u[0]),f[0]=Rs(k,f[0])}for(b=p(e,i,o,l,oc),w=0;w<b;w++){var M=m(e,i,o,l,oc[w]);u[1]=Ns(M,u[1]),f[1]=Rs(M,f[1])}u[0]=Ns(n,u[0]),f[0]=Rs(n,f[0]),u[0]=Ns(s,u[0]),f[0]=Rs(s,f[0]),u[1]=Ns(e,u[1]),f[1]=Rs(e,f[1]),u[1]=Ns(l,u[1]),f[1]=Rs(l,f[1])}function df(n,e,t,i,r,o,s,l){var u=gp,f=_a,p=Rs(Ns(u(n,t,r),1),0),m=Rs(Ns(u(e,i,o),1),0),b=f(n,t,r,p),w=f(e,i,o,m);s[0]=Ns(n,r,b),s[1]=Ns(e,o,w),l[0]=Rs(n,r,b),l[1]=Rs(e,o,w)}function fd(n,e,t,i,r,o,s,l,u){var f=ts,p=Ra,m=Math.abs(r-o);if(m%sl<1e-4&&m>1e-4)return l[0]=n-t,l[1]=e-i,u[0]=n+t,void(u[1]=e+i);if(Th[0]=dd(r)*t+n,Th[1]=hd(r)*i+e,To[0]=dd(o)*t+n,To[1]=hd(o)*i+e,f(l,Th,To),p(u,Th,To),(r%=sl)<0&&(r+=sl),(o%=sl)<0&&(o+=sl),r>o&&!s?o+=sl:r<o&&s&&(r+=sl),s){var b=o;o=r,r=b}for(var w=0;w<o;w+=Math.PI/2)w>r&&(Tr[0]=dd(w)*t+n,Tr[1]=hd(w)*i+e,f(l,Tr,l),p(u,Tr,u))}var zr={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},T=[],y=[],S=[],D=[],R=[],V=[],G=Math.min,tt=Math.max,st=Math.cos,ht=Math.sin,Rt=Math.sqrt,Bt=Math.abs,Kt=Math.PI,ce=2*Kt,xe="undefined"!=typeof Float32Array,we=[];function Ee(n){return Math.round(n/Kt*1e8)/1e8%2*Kt}function He(n,e){var t=Ee(n[0]);t<0&&(t+=ce);var r=n[1];r+=t-n[0],!e&&r-t>=ce?r=t+ce:e&&t-r>=ce?r=t-ce:!e&&t>r?r=t+(ce-Ee(t-r)):e&&t<r&&(r=t-(ce-Ee(r-t))),n[0]=t,n[1]=r}var en=function(){function n(e){this.dpr=1,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._len=0,e&&(this._saveData=!1),this._saveData&&(this.data=[])}return n.prototype.increaseVersion=function(){this._version++},n.prototype.getVersion=function(){return this._version},n.prototype.setScale=function(e,t,i){(i=i||0)>0&&(this._ux=Bt(i/ya/e)||0,this._uy=Bt(i/ya/t)||0)},n.prototype.setDPR=function(e){this.dpr=e},n.prototype.setContext=function(e){this._ctx=e},n.prototype.getContext=function(){return this._ctx},n.prototype.beginPath=function(){return this._ctx&&this._ctx.beginPath(),this.reset(),this},n.prototype.reset=function(){this._saveData&&(this._len=0),this._lineDash&&(this._lineDash=null,this._dashOffset=0),this._pathSegLen&&(this._pathSegLen=null,this._pathLen=0),this._version++},n.prototype.moveTo=function(e,t){return this._drawPendingPt(),this.addData(zr.M,e,t),this._ctx&&this._ctx.moveTo(e,t),this._x0=e,this._y0=t,this._xi=e,this._yi=t,this},n.prototype.lineTo=function(e,t){var i=Bt(e-this._xi),r=Bt(t-this._yi),o=i>this._ux||r>this._uy;if(this.addData(zr.L,e,t),this._ctx&&o&&(this._needsDash?this._dashedLineTo(e,t):this._ctx.lineTo(e,t)),o)this._xi=e,this._yi=t,this._pendingPtDist=0;else{var s=i*i+r*r;s>this._pendingPtDist&&(this._pendingPtX=e,this._pendingPtY=t,this._pendingPtDist=s)}return this},n.prototype.bezierCurveTo=function(e,t,i,r,o,s){return this._drawPendingPt(),this.addData(zr.C,e,t,i,r,o,s),this._ctx&&(this._needsDash?this._dashedBezierTo(e,t,i,r,o,s):this._ctx.bezierCurveTo(e,t,i,r,o,s)),this._xi=o,this._yi=s,this},n.prototype.quadraticCurveTo=function(e,t,i,r){return this._drawPendingPt(),this.addData(zr.Q,e,t,i,r),this._ctx&&(this._needsDash?this._dashedQuadraticTo(e,t,i,r):this._ctx.quadraticCurveTo(e,t,i,r)),this._xi=i,this._yi=r,this},n.prototype.arc=function(e,t,i,r,o,s){this._drawPendingPt(),we[0]=r,we[1]=o,He(we,s);var l=(o=we[1])-(r=we[0]);return this.addData(zr.A,e,t,i,i,r,l,0,s?0:1),this._ctx&&this._ctx.arc(e,t,i,r,o,s),this._xi=st(o)*i+e,this._yi=ht(o)*i+t,this},n.prototype.arcTo=function(e,t,i,r,o){return this._drawPendingPt(),this._ctx&&this._ctx.arcTo(e,t,i,r,o),this},n.prototype.rect=function(e,t,i,r){return this._drawPendingPt(),this._ctx&&this._ctx.rect(e,t,i,r),this.addData(zr.R,e,t,i,r),this},n.prototype.closePath=function(){this._drawPendingPt(),this.addData(zr.Z);var e=this._ctx,t=this._x0,i=this._y0;return e&&(this._needsDash&&this._dashedLineTo(t,i),e.closePath()),this._xi=t,this._yi=i,this},n.prototype.fill=function(e){e&&e.fill(),this.toStatic()},n.prototype.stroke=function(e){e&&e.stroke(),this.toStatic()},n.prototype.setLineDash=function(e){if(e instanceof Array){this._lineDash=e,this._dashIdx=0;for(var t=0,i=0;i<e.length;i++)t+=e[i];this._dashSum=t,this._needsDash=!0}else this._lineDash=null,this._needsDash=!1;return this},n.prototype.setLineDashOffset=function(e){return this._dashOffset=e,this},n.prototype.len=function(){return this._len},n.prototype.setData=function(e){var t=e.length;this.data&&this.data.length===t||!xe||(this.data=new Float32Array(t));for(var i=0;i<t;i++)this.data[i]=e[i];this._len=t},n.prototype.appendPath=function(e){e instanceof Array||(e=[e]);for(var t=e.length,i=0,r=this._len,o=0;o<t;o++)i+=e[o].len();for(xe&&this.data instanceof Float32Array&&(this.data=new Float32Array(r+i)),o=0;o<t;o++)for(var s=e[o].data,l=0;l<s.length;l++)this.data[r++]=s[l];this._len=r},n.prototype.addData=function(e,t,i,r,o,s,l,u,f){if(this._saveData){var p=this.data;this._len+arguments.length>p.length&&(this._expandData(),p=this.data);for(var m=0;m<arguments.length;m++)p[this._len++]=arguments[m]}},n.prototype._drawPendingPt=function(){this._pendingPtDist>0&&(this._ctx&&this._ctx.lineTo(this._pendingPtX,this._pendingPtY),this._pendingPtDist=0)},n.prototype._expandData=function(){if(!(this.data instanceof Array)){for(var e=[],t=0;t<this._len;t++)e[t]=this.data[t];this.data=e}},n.prototype._dashedLineTo=function(e,t){var i,r,o=this._dashSum,s=this._lineDash,l=this._ctx,u=this._dashOffset,f=this._xi,p=this._yi,m=e-f,b=t-p,w=Rt(m*m+b*b),k=f,M=p,I=s.length;for(u<0&&(u=o+u),k-=(u%=o)*(m/=w),M-=u*(b/=w);m>0&&k<=e||m<0&&k>=e||0===m&&(b>0&&M<=t||b<0&&M>=t);)k+=m*(i=s[r=this._dashIdx]),M+=b*i,this._dashIdx=(r+1)%I,m>0&&k<f||m<0&&k>f||b>0&&M<p||b<0&&M>p||l[r%2?"moveTo":"lineTo"](m>=0?G(k,e):tt(k,e),b>=0?G(M,t):tt(M,t));this._dashOffset=-Rt((m=k-e)*m+(b=M-t)*b)},n.prototype._dashedBezierTo=function(e,t,i,r,o,s){var l,u,f,p,m,b=this._ctx,w=this._dashSum,k=this._dashOffset,M=this._lineDash,I=this._xi,O=this._yi,B=0,H=this._dashIdx,X=M.length,U=0;for(k<0&&(k=w+k),k%=w,l=0;l<1;l+=.1)u=vo(I,e,i,o,l+.1)-vo(I,e,i,o,l),f=vo(O,t,r,s,l+.1)-vo(O,t,r,s,l),B+=Rt(u*u+f*f);for(;H<X&&!((U+=M[H])>k);H++);for(l=(U-k)/B;l<=1;)p=vo(I,e,i,o,l),m=vo(O,t,r,s,l),H%2?b.moveTo(p,m):b.lineTo(p,m),l+=M[H]/B,H=(H+1)%X;H%2!=0&&b.lineTo(o,s),this._dashOffset=-Rt((u=o-p)*u+(f=s-m)*f)},n.prototype._dashedQuadraticTo=function(e,t,i,r){var o=i,s=r;i=(i+2*e)/3,r=(r+2*t)/3,this._dashedBezierTo(e=(this._xi+2*e)/3,t=(this._yi+2*t)/3,i,r,o,s)},n.prototype.toStatic=function(){if(this._saveData){this._drawPendingPt();var e=this.data;e instanceof Array&&(e.length=this._len,xe&&this._len>11&&(this.data=new Float32Array(e)))}},n.prototype.getBoundingRect=function(){S[0]=S[1]=R[0]=R[1]=Number.MAX_VALUE,D[0]=D[1]=V[0]=V[1]=-Number.MAX_VALUE;var e,t=this.data,i=0,r=0,o=0,s=0;for(e=0;e<this._len;){var l=t[e++],u=1===e;switch(u&&(o=i=t[e],s=r=t[e+1]),l){case zr.M:i=o=t[e++],r=s=t[e++],R[0]=o,R[1]=s,V[0]=o,V[1]=s;break;case zr.L:ll(i,r,t[e],t[e+1],R,V),i=t[e++],r=t[e++];break;case zr.C:Ih(i,r,t[e++],t[e++],t[e++],t[e++],t[e],t[e+1],R,V),i=t[e++],r=t[e++];break;case zr.Q:df(i,r,t[e++],t[e++],t[e],t[e+1],R,V),i=t[e++],r=t[e++];break;case zr.A:var f=t[e++],p=t[e++],m=t[e++],b=t[e++],w=t[e++],k=t[e++]+w;e+=1;var M=!t[e++];u&&(o=st(w)*m+f,s=ht(w)*b+p),fd(f,p,m,b,w,k,M,R,V),i=st(k)*m+f,r=ht(k)*b+p;break;case zr.R:ll(o=i=t[e++],s=r=t[e++],o+t[e++],s+t[e++],R,V);break;case zr.Z:i=o,r=s}ts(S,S,R),Ra(D,D,V)}return 0===e&&(S[0]=S[1]=D[0]=D[1]=0),new Xi(S[0],S[1],D[0]-S[0],D[1]-S[1])},n.prototype._calculateLength=function(){var e=this.data,t=this._len,i=this._ux,r=this._uy,o=0,s=0,l=0,u=0;this._pathSegLen||(this._pathSegLen=[]);for(var f=this._pathSegLen,p=0,m=0,b=0;b<t;){var w=e[b++],k=1===b;k&&(l=o=e[b],u=s=e[b+1]);var M=-1;switch(w){case zr.M:o=l=e[b++],s=u=e[b++];break;case zr.L:var I=e[b++],O=(X=e[b++])-s;(Bt(re=I-o)>i||Bt(O)>r||b===t-1)&&(M=Math.sqrt(re*re+O*O),o=I,s=X);break;case zr.C:var B=e[b++],H=e[b++],X=(I=e[b++],e[b++]),U=e[b++],$=e[b++];M=ud(o,s,B,H,I,X,U,$,10),o=U,s=$;break;case zr.Q:M=mp(o,s,B=e[b++],H=e[b++],I=e[b++],X=e[b++],10),o=I,s=X;break;case zr.A:var et=e[b++],at=e[b++],At=e[b++],Mt=e[b++],Lt=e[b++],Gt=e[b++],ne=Gt+Lt;b+=1,b++,k&&(l=st(Lt)*At+et,u=ht(Lt)*Mt+at),M=tt(At,Mt)*G(ce,Math.abs(Gt)),o=st(ne)*At+et,s=ht(ne)*Mt+at;break;case zr.R:l=o=e[b++],u=s=e[b++],M=2*e[b++]+2*e[b++];break;case zr.Z:var re=l-o;O=u-s,M=Math.sqrt(re*re+O*O),o=l,s=u}M>=0&&(f[m++]=M,p+=M)}return this._pathLen=p,p},n.prototype.rebuildPath=function(e,t){var i,r,o,s,l,u,f,p,m,b,w=this.data,k=this._ux,M=this._uy,I=this._len,O=t<1,B=0,H=0,X=0;if(!O||(this._pathSegLen||this._calculateLength(),f=this._pathSegLen,p=t*this._pathLen))t:for(var U=0;U<I;){var $=w[U++],et=1===U;switch(et&&(i=o=w[U],r=s=w[U+1]),$!==zr.L&&X>0&&(e.lineTo(m,b),X=0),$){case zr.M:i=o=w[U++],r=s=w[U++],e.moveTo(o,s);break;case zr.L:l=w[U++],u=w[U++];var at=Bt(l-o),At=Bt(u-s);if(at>k||At>M){if(O){if(B+(Gi=f[H++])>p){var Mt=(p-B)/Gi;e.lineTo(o*(1-Mt)+l*Mt,s*(1-Mt)+u*Mt);break t}B+=Gi}e.lineTo(l,u),o=l,s=u,X=0}else{var Lt=at*at+At*At;Lt>X&&(m=l,b=u,X=Lt)}break;case zr.C:var Gt=w[U++],ne=w[U++],re=w[U++],fe=w[U++],ye=w[U++],Te=w[U++];if(O){if(B+(Gi=f[H++])>p){ku(o,Gt,re,ye,Mt=(p-B)/Gi,T),ku(s,ne,fe,Te,Mt,y),e.bezierCurveTo(T[1],y[1],T[2],y[2],T[3],y[3]);break t}B+=Gi}e.bezierCurveTo(Gt,ne,re,fe,ye,Te),o=ye,s=Te;break;case zr.Q:if(Gt=w[U++],ne=w[U++],re=w[U++],fe=w[U++],O){if(B+(Gi=f[H++])>p){cd(o,Gt,re,Mt=(p-B)/Gi,T),cd(s,ne,fe,Mt,y),e.quadraticCurveTo(T[1],y[1],T[2],y[2]);break t}B+=Gi}e.quadraticCurveTo(Gt,ne,re,fe),o=re,s=fe;break;case zr.A:var Ie=w[U++],Re=w[U++],Xe=w[U++],cn=w[U++],_n=w[U++],Hn=w[U++],gn=w[U++],Dn=!w[U++],Un=Xe>cn?Xe:cn,Yn=Bt(Xe-cn)>.001,Xn=_n+Hn,di=!1;if(O&&(B+(Gi=f[H++])>p&&(Xn=_n+Hn*(p-B)/Gi,di=!0),B+=Gi),Yn&&e.ellipse?e.ellipse(Ie,Re,Xe,cn,gn,_n,Xn,Dn):e.arc(Ie,Re,Un,_n,Xn,Dn),di)break t;et&&(i=st(_n)*Xe+Ie,r=ht(_n)*cn+Re),o=st(Xn)*Xe+Ie,s=ht(Xn)*cn+Re;break;case zr.R:i=o=w[U],r=s=w[U+1],l=w[U++],u=w[U++];var fi=w[U++],Pi=w[U++];if(O){if(B+(Gi=f[H++])>p){var Wi=p-B;e.moveTo(l,u),e.lineTo(l+G(Wi,fi),u),(Wi-=fi)>0&&e.lineTo(l+fi,u+G(Wi,Pi)),(Wi-=Pi)>0&&e.lineTo(l+tt(fi-Wi,0),u+Pi),(Wi-=fi)>0&&e.lineTo(l,u+tt(Pi-Wi,0));break t}B+=Gi}e.rect(l,u,fi,Pi);break;case zr.Z:if(O){var Gi;if(B+(Gi=f[H++])>p){e.lineTo(o*(1-(Mt=(p-B)/Gi))+i*Mt,s*(1-Mt)+r*Mt);break t}B+=Gi}e.closePath(),o=i,s=r}}},n.prototype.clone=function(){var e=new n,t=this.data;return e.data=t.slice?t.slice():Array.prototype.slice.call(t),e._len=this._len,e},n.CMD=zr,n.initDefaultProps=((e=n.prototype)._saveData=!0,e._needsDash=!1,e._dashOffset=0,e._dashIdx=0,e._dashSum=0,e._ux=0,e._uy=0,e._pendingPtDist=0,void(e._version=0)),n;var e}();function un(n,e,t,i,r,o,s){if(0===r)return!1;var u,l=r;if(s>e+l&&s>i+l||s<e-l&&s<i-l||o>n+l&&o>t+l||o<n-l&&o<t-l)return!1;if(n===t)return Math.abs(o-n)<=l/2;var f=(u=(e-i)/(n-t))*o-s+(n*i-t*e)/(n-t);return f*f/(u*u+1)<=l/2*l/2}function yn(n,e,t,i,r,o,s,l,u,f,p){if(0===u)return!1;var m=u;return!(p>e+m&&p>i+m&&p>o+m&&p>l+m||p<e-m&&p<i-m&&p<o-m&&p<l-m||f>n+m&&f>t+m&&f>r+m&&f>s+m||f<n-m&&f<t-m&&f<r-m&&f<s-m)&&ld(n,e,t,i,r,o,s,l,f,p,null)<=m/2}function Fn(n,e,t,i,r,o,s,l,u){if(0===s)return!1;var f=s;return!(u>e+f&&u>i+f&&u>o+f||u<e-f&&u<i-f&&u<o-f||l>n+f&&l>t+f&&l>r+f||l<n-f&&l<t-f&&l<r-f)&&Yv(n,e,t,i,r,o,l,u,null)<=f/2}var Qn=2*Math.PI;function ni(n){return(n%=Qn)<0&&(n+=Qn),n}var Si=2*Math.PI;function Ei(n,e,t,i,r,o,s,l,u){if(0===s)return!1;var f=s;l-=n,u-=e;var p=Math.sqrt(l*l+u*u);if(p-f>t||p+f<t)return!1;if(Math.abs(i-r)%Si<1e-4)return!0;if(o){var m=i;i=ni(r),r=ni(m)}else i=ni(i),r=ni(r);i>r&&(r+=Si);var b=Math.atan2(u,l);return b<0&&(b+=Si),b>=i&&b<=r||b+Si>=i&&b+Si<=r}function ci(n,e,t,i,r,o){if(o>e&&o>i||o<e&&o<i||i===e)return 0;var s=(o-e)/(i-e),l=i<e?1:-1;1!==s&&0!==s||(l=i<e?.5:-.5);var u=s*(t-n)+n;return u===r?1/0:u>r?l:0}var wi=en.CMD,Ii=2*Math.PI,bi=[-1,-1,-1],Jn=[-1,-1];function Ln(n,e,t,i,r,o,s,l,u,f){if(f>e&&f>i&&f>o&&f>l||f<e&&f<i&&f<o&&f<l)return 0;var p,m=po(e,i,o,l,f,bi);if(0===m)return 0;for(var b=0,w=-1,k=void 0,M=void 0,I=0;I<m;I++){var O=bi[I],B=0===O||1===O?.5:1;vo(n,t,r,s,O)<u||(w<0&&(w=tu(e,i,o,l,Jn),Jn[1]<Jn[0]&&w>1&&(p=Jn[0],Jn[0]=Jn[1],Jn[1]=p),k=vo(e,i,o,l,Jn[0]),w>1&&(M=vo(e,i,o,l,Jn[1]))),b+=2===w?O<Jn[0]?k<e?B:-B:O<Jn[1]?M<k?B:-B:l<M?B:-B:O<Jn[0]?k<e?B:-B:l<k?B:-B)}return b}function Zr(n,e,t,i,r,o,s,l){if(l>e&&l>i&&l>o||l<e&&l<i&&l<o)return 0;var u=function(k,M,I,O,B){var H=k-2*M+I,X=2*(M-k),U=k-O,$=0;if(ic(H))Jl(X)&&(at=-U/X)>=0&&at<=1&&(B[$++]=at);else{var et=X*X-4*H*U;if(ic(et))(at=-X/(2*H))>=0&&at<=1&&(B[$++]=at);else if(et>0){var at,At=Ya(et),Mt=(-X-At)/(2*H);(at=(-X+At)/(2*H))>=0&&at<=1&&(B[$++]=at),Mt>=0&&Mt<=1&&(B[$++]=Mt)}}return $}(e,i,o,l,bi);if(0===u)return 0;var f=gp(e,i,o);if(f>=0&&f<=1){for(var p=0,m=_a(e,i,o,f),b=0;b<u;b++){var w=0===bi[b]||1===bi[b]?.5:1;_a(n,t,r,bi[b])<s||(p+=bi[b]<f?m<e?w:-w:o<m?w:-w)}return p}return w=0===bi[0]||1===bi[0]?.5:1,_a(n,t,r,bi[0])<s?0:o<e?w:-w}function Ro(n,e,t,i,r,o,s,l){if((l-=e)>t||l<-t)return 0;var u=Math.sqrt(t*t-l*l);bi[0]=-u,bi[1]=u;var f=Math.abs(i-r);if(f<1e-4)return 0;if(f>=Ii-1e-4){i=0,r=Ii;var p=o?1:-1;return s>=bi[0]+n&&s<=bi[1]+n?p:0}if(i>r){var m=i;i=r,r=m}i<0&&(i+=Ii,r+=Ii);for(var b=0,w=0;w<2;w++){var k=bi[w];if(k+n>s){var M=Math.atan2(l,k);p=o?1:-1,M<0&&(M=Ii+M),(M>=i&&M<=r||M+Ii>=i&&M+Ii<=r)&&(M>Math.PI/2&&M<1.5*Math.PI&&(p=-p),b+=p)}}return b}function yo(n,e,t,i,r){for(var o,s,f=n.data,p=n.len(),m=0,b=0,w=0,k=0,M=0,I=0;I<p;){var O=f[I++],B=1===I;switch(O===wi.M&&I>1&&(t||(m+=ci(b,w,k,M,i,r))),B&&(k=b=f[I],M=w=f[I+1]),O){case wi.M:b=k=f[I++],w=M=f[I++];break;case wi.L:if(t){if(un(b,w,f[I],f[I+1],e,i,r))return!0}else m+=ci(b,w,f[I],f[I+1],i,r)||0;b=f[I++],w=f[I++];break;case wi.C:if(t){if(yn(b,w,f[I++],f[I++],f[I++],f[I++],f[I],f[I+1],e,i,r))return!0}else m+=Ln(b,w,f[I++],f[I++],f[I++],f[I++],f[I],f[I+1],i,r)||0;b=f[I++],w=f[I++];break;case wi.Q:if(t){if(Fn(b,w,f[I++],f[I++],f[I],f[I+1],e,i,r))return!0}else m+=Zr(b,w,f[I++],f[I++],f[I],f[I+1],i,r)||0;b=f[I++],w=f[I++];break;case wi.A:var H=f[I++],X=f[I++],U=f[I++],$=f[I++],et=f[I++],at=f[I++];I+=1;var At=!!(1-f[I++]);o=Math.cos(et)*U+H,s=Math.sin(et)*$+X,B?(k=o,M=s):m+=ci(b,w,o,s,i,r);var Mt=(i-H)*$/U+H;if(t){if(Ei(H,X,$,et,et+at,At,e,Mt,r))return!0}else m+=Ro(H,X,$,et,et+at,At,Mt,r);b=Math.cos(et+at)*U+H,w=Math.sin(et+at)*$+X;break;case wi.R:if(k=b=f[I++],M=w=f[I++],o=k+f[I++],s=M+f[I++],t){if(un(k,M,o,M,e,i,r)||un(o,M,o,s,e,i,r)||un(o,s,k,s,e,i,r)||un(k,s,k,M,e,i,r))return!0}else m+=ci(o,M,o,s,i,r),m+=ci(k,s,k,M,i,r);break;case wi.Z:if(t){if(un(b,w,k,M,e,i,r))return!0}else m+=ci(b,w,k,M,i,r);b=k,w=M}}return t||Math.abs(w-M)<1e-4||(m+=ci(b,w,k,M,i,r)||0),0!==m}var fa=se({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:!1,strokeFirst:!1},ja),sr={style:se({fill:!0,stroke:!0,strokePercent:!0,fillOpacity:!0,strokeOpacity:!0,lineDashOffset:!0,lineWidth:!0,miterLimit:!0},Kl.style)},Xa=["x","y","rotation","scaleX","scaleY","originX","originY","invisible","culling","z","z2","zlevel","parent"],zi=function(n){function e(i){return n.call(this,i)||this}var t;return Tt(e,n),e.prototype.update=function(){var i=this;n.prototype.update.call(this);var r=this.style;if(r.decal){var o=this._decalEl=this._decalEl||new e;o.buildPath===e.prototype.buildPath&&(o.buildPath=function(f){i.buildPath(f,i.shape)}),o.silent=!0;var s=o.style;for(var l in r)s[l]!==r[l]&&(s[l]=r[l]);s.fill=r.fill?r.decal:null,s.decal=null,s.shadowColor=null,r.strokeFirst&&(s.stroke=null);for(var u=0;u<Xa.length;++u)o[Xa[u]]=this[Xa[u]];o.__dirty|=1}else this._decalEl&&(this._decalEl=null)},e.prototype.getDecalElement=function(){return this._decalEl},e.prototype._init=function(i){var r=be(i);this.shape=this.getDefaultShape();var o=this.getDefaultStyle();o&&this.useStyle(o);for(var s=0;s<r.length;s++){var l=r[s],u=i[l];"style"===l?this.style?Dt(this.style,u):this.useStyle(u):"shape"===l?Dt(this.shape,u):n.prototype.attrKV.call(this,l,u)}this.style||this.useStyle({})},e.prototype.getDefaultStyle=function(){return null},e.prototype.getDefaultShape=function(){return{}},e.prototype.canBeInsideText=function(){return this.hasFill()},e.prototype.getInsideTextFill=function(){var i=this.style.fill;if("none"!==i){if(Ke(i)){var r=$s(i,0);return r>.5?Zu:r>.2?"#eee":ki}if(i)return ki}return Zu},e.prototype.getInsideTextStroke=function(i){var r=this.style.fill;if(Ke(r)){var o=this.__zr;if(!(!o||!o.isDarkMode())==$s(i,0)<.4)return r}},e.prototype.buildPath=function(i,r,o){},e.prototype.pathUpdated=function(){this.__dirty&=-5},e.prototype.getUpdatedPathProxy=function(i){return!this.path&&this.createPathProxy(),this.path.beginPath(),this.buildPath(this.path,this.shape,i),this.path},e.prototype.createPathProxy=function(){this.path=new en(!1)},e.prototype.hasStroke=function(){var i=this.style,r=i.stroke;return!(null==r||"none"===r||!(i.lineWidth>0))},e.prototype.hasFill=function(){var i=this.style.fill;return null!=i&&"none"!==i},e.prototype.getBoundingRect=function(){var i=this._rect,r=this.style,o=!i;if(o){var s=!1;this.path||(s=!0,this.createPathProxy());var l=this.path;(s||4&this.__dirty)&&(l.beginPath(),this.buildPath(l,this.shape,!1),this.pathUpdated()),i=l.getBoundingRect()}if(this._rect=i,this.hasStroke()&&this.path&&this.path.len()>0){var u=this._rectWithStroke||(this._rectWithStroke=i.clone());if(this.__dirty||o){u.copy(i);var f=r.strokeNoScale?this.getLineScale():1,p=r.lineWidth;if(!this.hasFill()){var m=this.strokeContainThreshold;p=Math.max(p,null==m?4:m)}f>1e-10&&(u.width+=p/f,u.height+=p/f,u.x-=p/f/2,u.y-=p/f/2)}return u}return i},e.prototype.contain=function(i,r){var o=this.transformCoordToLocal(i,r),s=this.getBoundingRect(),l=this.style;if(s.contain(i=o[0],r=o[1])){var u=this.path;if(this.hasStroke()){var f=l.lineWidth,p=l.strokeNoScale?this.getLineScale():1;if(p>1e-10&&(this.hasFill()||(f=Math.max(f,this.strokeContainThreshold)),yo(u,f/p,!0,i,r)))return!0}if(this.hasFill())return yo(u,0,!1,i,r)}return!1},e.prototype.dirtyShape=function(){this.__dirty|=4,this._rect&&(this._rect=null),this._decalEl&&this._decalEl.dirtyShape(),this.markRedraw()},e.prototype.dirty=function(){this.dirtyStyle(),this.dirtyShape()},e.prototype.animateShape=function(i){return this.animate("shape",i)},e.prototype.updateDuringAnimation=function(i){"style"===i?this.dirtyStyle():"shape"===i?this.dirtyShape():this.markRedraw()},e.prototype.attrKV=function(i,r){"shape"===i?this.setShape(r):n.prototype.attrKV.call(this,i,r)},e.prototype.setShape=function(i,r){var o=this.shape;return o||(o=this.shape={}),"string"==typeof i?o[i]=r:Dt(o,i),this.dirtyShape(),this},e.prototype.shapeChanged=function(){return!!(4&this.__dirty)},e.prototype.createStyle=function(i){return Fo(fa,i)},e.prototype._innerSaveToNormal=function(i){n.prototype._innerSaveToNormal.call(this,i);var r=this._normalState;i.shape&&!r.shape&&(r.shape=Dt({},this.shape))},e.prototype._applyStateObj=function(i,r,o,s,l,u){n.prototype._applyStateObj.call(this,i,r,o,s,l,u);var f,p=!(r&&s);if(r&&r.shape?l?s?f=r.shape:(f=Dt({},o.shape),Dt(f,r.shape)):(f=Dt({},s?this.shape:o.shape),Dt(f,r.shape)):p&&(f=o.shape),f)if(l){this.shape=Dt({},this.shape);for(var m={},b=be(f),w=0;w<b.length;w++){var k=b[w];"object"==typeof f[k]?this.shape[k]=f[k]:m[k]=f[k]}this._transitionState(i,{shape:m},u)}else this.shape=f,this.dirtyShape()},e.prototype._mergeStates=function(i){for(var r,o=n.prototype._mergeStates.call(this,i),s=0;s<i.length;s++){var l=i[s];l.shape&&this._mergeStyle(r=r||{},l.shape)}return r&&(o.shape=r),o},e.prototype.getAnimationStyleProps=function(){return sr},e.prototype.isZeroArea=function(){return!1},e.extend=function(i){var r=function(s){function l(u){var f=s.call(this,u)||this;return i.init&&i.init.call(f,u),f}return Tt(l,s),l.prototype.getDefaultStyle=function(){return Pt(i.style)},l.prototype.getDefaultShape=function(){return Pt(i.shape)},l}(e);for(var o in i)"function"==typeof i[o]&&(r.prototype[o]=i[o]);return r},e.initDefaultProps=((t=e.prototype).type="path",t.strokeContainThreshold=5,t.segmentIgnoreThreshold=0,t.subPixelOptimize=!1,t.autoBatch=!1,void(t.__dirty=7)),e}(Xr),ac=se({strokeFirst:!0,font:el,x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},fa),ia=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return Tt(e,n),e.prototype.hasStroke=function(){var t=this.style,i=t.stroke;return null!=i&&"none"!==i&&t.lineWidth>0},e.prototype.hasFill=function(){var t=this.style.fill;return null!=t&&"none"!==t},e.prototype.createStyle=function(t){return Fo(ac,t)},e.prototype.setBoundingRect=function(t){this._rect=t},e.prototype.getBoundingRect=function(){var t=this.style;if(!this._rect){var i=t.text;null!=i?i+="":i="";var r=Lo(i,t.font,t.textAlign,t.textBaseline);if(r.x+=t.x||0,r.y+=t.y||0,this.hasStroke()){var o=t.lineWidth;r.x-=o/2,r.y-=o/2,r.width+=o,r.height+=o}this._rect=r}return this._rect},e.initDefaultProps=void(e.prototype.dirtyRectTolerance=10),e}(Xr);ia.prototype.type="tspan";var pa=se({x:0,y:0},ja),ra={style:se({x:!0,y:!0,width:!0,height:!0,sx:!0,sy:!0,sWidth:!0,sHeight:!0},Kl.style)},ga=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return Tt(e,n),e.prototype.createStyle=function(t){return Fo(pa,t)},e.prototype._getSize=function(t){var i=this.style,r=i[t];if(null!=r)return r;var o,s=(o=i.image)&&"string"!=typeof o&&o.width&&o.height?i.image:this.__image;if(!s)return 0;var l="width"===t?"height":"width",u=i[l];return null==u?s[t]:s[t]/s[l]*u},e.prototype.getWidth=function(){return this._getSize("width")},e.prototype.getHeight=function(){return this._getSize("height")},e.prototype.getAnimationStyleProps=function(){return ra},e.prototype.getBoundingRect=function(){var t=this.style;return this._rect||(this._rect=new Xi(t.x||0,t.y||0,this.getWidth(),this.getHeight())),this._rect},e}(Xr);ga.prototype.type="image";var Nc=Math.round;function Xv(n,e,t){if(e){var i=e.x1,r=e.x2,o=e.y1,s=e.y2;n.x1=i,n.x2=r,n.y1=o,n.y2=s;var l=t&&t.lineWidth;return l&&(Nc(2*i)===Nc(2*r)&&(n.x1=n.x2=Ea(i,l,!0)),Nc(2*o)===Nc(2*s)&&(n.y1=n.y2=Ea(o,l,!0))),n}}function Au(n,e,t){if(e){var i=e.x,r=e.y,o=e.width,s=e.height;n.x=i,n.y=r,n.width=o,n.height=s;var l=t&&t.lineWidth;return l&&(n.x=Ea(i,l,!0),n.y=Ea(r,l,!0),n.width=Math.max(Ea(i+o,l,!1)-n.x,0===o?0:1),n.height=Math.max(Ea(r+s,l,!1)-n.y,0===s?0:1)),n}}function Ea(n,e,t){if(!e)return n;var i=Nc(2*n);return(i+Nc(e))%2==0?i/2:(i+(t?1:-1))/2}var yp=function(){this.x=0,this.y=0,this.width=0,this.height=0},Hx={},vr=function(n){function e(t){return n.call(this,t)||this}return Tt(e,n),e.prototype.getDefaultShape=function(){return new yp},e.prototype.buildPath=function(t,i){var r,o,s,l,f,p,m,b,w,k,M,I,O,B,H,X;if(this.subPixelOptimize){var u=Au(Hx,i,this.style);r=u.x,o=u.y,s=u.width,l=u.height,u.r=i.r,i=u}else r=i.x,o=i.y,s=i.width,l=i.height;i.r?(f=t,I=(p=i).x,O=p.y,(B=p.width)<0&&(I+=B,B=-B),(H=p.height)<0&&(O+=H,H=-H),"number"==typeof(X=p.r)?m=b=w=k=X:X instanceof Array?1===X.length?m=b=w=k=X[0]:2===X.length?(m=w=X[0],b=k=X[1]):3===X.length?(m=X[0],b=k=X[1],w=X[2]):(m=X[0],b=X[1],w=X[2],k=X[3]):m=b=w=k=0,m+b>B&&(m*=B/(M=m+b),b*=B/M),w+k>B&&(w*=B/(M=w+k),k*=B/M),b+w>H&&(b*=H/(M=b+w),w*=H/M),m+k>H&&(m*=H/(M=m+k),k*=H/M),f.moveTo(I+m,O),f.lineTo(I+B-b,O),0!==b&&f.arc(I+B-b,O+b,b,-Math.PI/2,0),f.lineTo(I+B,O+H-w),0!==w&&f.arc(I+B-w,O+H-w,w,0,Math.PI/2),f.lineTo(I+k,O+H),0!==k&&f.arc(I+k,O+H-k,k,Math.PI/2,Math.PI),f.lineTo(I,O+m),0!==m&&f.arc(I+m,O+m,m,Math.PI,1.5*Math.PI)):t.rect(r,o,s,l)},e.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height},e}(zi);vr.prototype.type="rect";var Gv={fill:"#000"},qv={style:se({fill:!0,stroke:!0,fillOpacity:!0,strokeOpacity:!0,lineWidth:!0,fontSize:!0,lineHeight:!0,width:!0,height:!0,textShadowColor:!0,textShadowBlur:!0,textShadowOffsetX:!0,textShadowOffsetY:!0,backgroundColor:!0,padding:!0,borderColor:!0,borderWidth:!0,borderRadius:!0},Kl.style)},dr=function(n){function e(t){var i=n.call(this)||this;return i.type="text",i._children=[],i._defaultStyle=Gv,i.attr(t),i}return Tt(e,n),e.prototype.childrenRef=function(){return this._children},e.prototype.update=function(){n.prototype.update.call(this),this.styleChanged()&&this._updateSubTexts();for(var t=0;t<this._children.length;t++){var i=this._children[t];i.zlevel=this.zlevel,i.z=this.z,i.z2=this.z2,i.culling=this.culling,i.cursor=this.cursor,i.invisible=this.invisible}},e.prototype.updateTransform=function(){var t=this.innerTransformable;t?(t.updateTransform(),t.transform&&(this.transform=t.transform)):n.prototype.updateTransform.call(this)},e.prototype.getLocalTransform=function(t){var i=this.innerTransformable;return i?i.getLocalTransform(t):n.prototype.getLocalTransform.call(this,t)},e.prototype.getComputedTransform=function(){return this.__hostTarget&&(this.__hostTarget.getComputedTransform(),this.__hostTarget.updateInnerText(!0)),n.prototype.getComputedTransform.call(this)},e.prototype._updateSubTexts=function(){var t;this._childCursor=0,Wx(t=this.style),mt(t.rich,Wx),this.style.rich?this._updateRichTexts():this._updatePlainTexts(),this._children.length=this._childCursor,this.styleUpdated()},e.prototype.addSelfToZr=function(t){n.prototype.addSelfToZr.call(this,t);for(var i=0;i<this._children.length;i++)this._children[i].__zr=t},e.prototype.removeSelfFromZr=function(t){n.prototype.removeSelfFromZr.call(this,t);for(var i=0;i<this._children.length;i++)this._children[i].__zr=null},e.prototype.getBoundingRect=function(){if(this.styleChanged()&&this._updateSubTexts(),!this._rect){for(var t=new Xi(0,0,0,0),i=this._children,r=[],o=null,s=0;s<i.length;s++){var l=i[s],u=l.getBoundingRect(),f=l.getLocalTransform(r);f?(t.copy(u),t.applyTransform(f),(o=o||t.clone()).union(t)):(o=o||u.clone()).union(u)}this._rect=o||t}return this._rect},e.prototype.setDefaultTextStyle=function(t){this._defaultStyle=t||Gv},e.prototype.setTextContent=function(t){throw new Error("Can't attach text on another text")},e.prototype._mergeStyle=function(t,i){if(!i)return t;var r=i.rich,o=t.rich||r&&{};return Dt(t,i),r&&o?(this._mergeRich(o,r),t.rich=o):o&&(t.rich=o),t},e.prototype._mergeRich=function(t,i){for(var r=be(i),o=0;o<r.length;o++){var s=r[o];t[s]=t[s]||{},Dt(t[s],i[s])}},e.prototype.getAnimationStyleProps=function(){return qv},e.prototype._getOrCreateChild=function(t){var i=this._children[this._childCursor];return i&&i instanceof t||(i=new t),this._children[this._childCursor++]=i,i.__zr=this.__zr,i.parent=this,i},e.prototype._updatePlainTexts=function(){var t=this.style,i=t.font||el,r=t.padding,o=function(fe,ye){null!=fe&&(fe+="");var Te,Ie=ye.overflow,Re=ye.padding,Xe=ye.font,cn="truncate"===Ie,_n=no(Xe),Hn=Tn(ye.lineHeight,_n),gn="truncate"===ye.lineOverflow,Dn=ye.width,Un=(Te=null!=Dn&&"break"===Ie||"breakAll"===Ie?fe?Os(fe,ye.font,Dn,"breakAll"===Ie,0).lines:[]:fe?fe.split("\n"):[]).length*Hn,Yn=Tn(ye.height,Un);if(Un>Yn&&gn){var Xn=Math.floor(Yn/Hn);Te=Te.slice(0,Xn)}var di=Yn,fi=Dn;if(Re&&(di+=Re[0]+Re[2],null!=fi&&(fi+=Re[1]+Re[3])),fe&&cn&&null!=fi)for(var Pi=ad(Dn,Xe,ye.ellipsis,{minChar:ye.truncateMinChar,placeholder:ye.placeholder}),Wi=0;Wi<Te.length;Wi++)Te[Wi]=Wg(Te[Wi],Pi);if(null==Dn){var Gi=0;for(Wi=0;Wi<Te.length;Wi++)Gi=Math.max(da(Te[Wi],Xe),Gi);Dn=Gi}return{lines:Te,height:Yn,outerHeight:di,lineHeight:Hn,calculatedLineHeight:_n,contentHeight:Un,width:Dn}}(Xx(t),t),s=pd(t),l=!!t.backgroundColor,u=o.outerHeight,f=o.lines,p=o.lineHeight,m=this._defaultStyle,b=t.x||0,w=t.y||0,k=t.align||m.align||"left",M=t.verticalAlign||m.verticalAlign||"top",I=b,O=bu(w,o.contentHeight,M);if(s||r){var B=o.width;r&&(B+=r[1]+r[3]);var H=Co(b,B,k),X=bu(w,u,M);s&&this._renderBackground(t,t,H,X,B,u)}O+=p/2,r&&(I=Yx(b,k,r),"top"===M?O+=r[0]:"bottom"===M&&(O-=r[2]));for(var U=0,$=!1,et=(jx("fill"in t?t.fill:($=!0,m.fill))),at=(Ew("stroke"in t?t.stroke:l||m.autoStroke&&!$?null:(U=2,m.stroke))),At=t.textShadowBlur>0,Mt=null!=t.width&&("truncate"===t.overflow||"break"===t.overflow||"breakAll"===t.overflow),Lt=o.calculatedLineHeight,Gt=0;Gt<f.length;Gt++){var ne=this._getOrCreateChild(ia),re=ne.createStyle();ne.useStyle(re),re.text=f[Gt],re.x=I,re.y=O,k&&(re.textAlign=k),re.textBaseline="middle",re.opacity=t.opacity,re.strokeFirst=!0,At&&(re.shadowBlur=t.textShadowBlur||0,re.shadowColor=t.textShadowColor||"transparent",re.shadowOffsetX=t.textShadowOffsetX||0,re.shadowOffsetY=t.textShadowOffsetY||0),at&&(re.stroke=at,re.lineWidth=t.lineWidth||U,re.lineDash=t.lineDash,re.lineDashOffset=t.lineDashOffset||0),et&&(re.fill=et),re.font=i,O+=p,Mt&&ne.setBoundingRect(new Xi(Co(re.x,t.width,re.textAlign),bu(re.y,Lt,re.textBaseline),t.width,Lt))}},e.prototype._updateRichTexts=function(){var t=this.style,i=function(re,fe){var ye=new dp;if(null!=re&&(re+=""),!re)return ye;for(var Te,Ie=fe.width,Re=fe.height,Xe=fe.overflow,cn="break"!==Xe&&"breakAll"!==Xe||null==Ie?null:{width:Ie,accumWidth:0,breakAll:"breakAll"===Xe},_n=qo.lastIndex=0;null!=(Te=qo.exec(re));){var Hn=Te.index;Hn>_n&&Zl(ye,re.substring(_n,Hn),fe,cn),Zl(ye,Te[2],fe,cn,Te[1]),_n=qo.lastIndex}_n<re.length&&Zl(ye,re.substring(_n,re.length),fe,cn);var gn=[],Dn=0,Un=0,Yn=fe.padding,Xn="truncate"===Xe,di="truncate"===fe.lineOverflow;function fi(Qa,bo,Rl){Qa.width=bo,Qa.lineHeight=Rl,Dn+=Rl,Un=Math.max(Un,bo)}t:for(var Pi=0;Pi<ye.lines.length;Pi++){for(var Wi=ye.lines[Pi],Gi=0,Jo=0,zo=0;zo<Wi.tokens.length;zo++){var Ir=(Ui=Wi.tokens[zo]).styleName&&fe.rich[Ui.styleName]||{},Ar=Ui.textPadding=Ir.padding,ua=Ar?Ar[1]+Ar[3]:0,xo=Ui.font=Ir.font||fe.font;Ui.contentHeight=no(xo);var Nl=Tn(Ir.height,Ui.contentHeight);if(Ui.innerHeight=Nl,Ar&&(Nl+=Ar[0]+Ar[2]),Ui.height=Nl,Ui.lineHeight=En(Ir.lineHeight,fe.lineHeight,Nl),Ui.align=Ir&&Ir.align||fe.align,Ui.verticalAlign=Ir&&Ir.verticalAlign||"middle",di&&null!=Re&&Dn+Ui.lineHeight>Re){zo>0?(Wi.tokens=Wi.tokens.slice(0,zo),fi(Wi,Jo,Gi),ye.lines=ye.lines.slice(0,Pi+1)):ye.lines=ye.lines.slice(0,Pi);break t}var fu=Ir.width,eo=null==fu||"auto"===fu;if("string"==typeof fu&&"%"===fu.charAt(fu.length-1))Ui.percentWidth=fu,gn.push(Ui),Ui.contentWidth=da(Ui.text,xo);else{if(eo){var fr=Ir.backgroundColor,Qr=fr&&fr.image;Qr&&$l(Qr=jv(Qr))&&(Ui.width=Math.max(Ui.width,Qr.width*Nl/Qr.height))}var Br=Xn&&null!=Ie?Ie-Jo:null;null!=Br&&Br<Ui.width?!eo||Br<ua?(Ui.text="",Ui.width=Ui.contentWidth=0):(Ui.text=jr(Ui.text,Br-ua,xo,fe.ellipsis,{minChar:fe.truncateMinChar}),Ui.width=Ui.contentWidth=da(Ui.text,xo)):Ui.contentWidth=da(Ui.text,xo)}Ui.width+=ua,Jo+=Ui.width,Ir&&(Gi=Math.max(Gi,Ui.lineHeight))}fi(Wi,Jo,Gi)}for(ye.outerWidth=ye.width=Tn(Ie,Un),ye.outerHeight=ye.height=Tn(Re,Dn),ye.contentHeight=Dn,ye.contentWidth=Un,Yn&&(ye.outerWidth+=Yn[1]+Yn[3],ye.outerHeight+=Yn[0]+Yn[2]),Pi=0;Pi<gn.length;Pi++){var Ui,fs=(Ui=gn[Pi]).percentWidth;Ui.width=parseInt(fs,10)/100*ye.width}return ye}(Xx(t),t),r=i.width,o=i.outerWidth,s=i.outerHeight,l=t.padding,f=t.y||0,p=this._defaultStyle,b=t.verticalAlign||p.verticalAlign,w=Co(t.x||0,o,t.align||p.align),k=bu(f,s,b),M=w,I=k;l&&(M+=l[3],I+=l[0]);var O=M+r;pd(t)&&this._renderBackground(t,t,w,k,o,s);for(var B=!!t.backgroundColor,H=0;H<i.lines.length;H++){for(var X=i.lines[H],U=X.tokens,$=U.length,et=X.lineHeight,at=X.width,At=0,Mt=M,Lt=O,Gt=$-1,ne=void 0;At<$&&(!(ne=U[At]).align||"left"===ne.align);)this._placeToken(ne,t,et,I,Mt,"left",B),at-=ne.width,Mt+=ne.width,At++;for(;Gt>=0&&"right"===(ne=U[Gt]).align;)this._placeToken(ne,t,et,I,Lt,"right",B),at-=ne.width,Lt-=ne.width,Gt--;for(Mt+=(r-(Mt-M)-(O-Lt)-at)/2;At<=Gt;)this._placeToken(ne=U[At],t,et,I,Mt+ne.width/2,"center",B),Mt+=ne.width,At++;I+=et}},e.prototype._placeToken=function(t,i,r,o,s,l,u){var f=i.rich[t.styleName]||{};f.text=t.text;var p=t.verticalAlign,m=o+r/2;"top"===p?m=o+t.height/2:"bottom"===p&&(m=o+r-t.height/2),!t.isLineHolder&&pd(f)&&this._renderBackground(f,i,"right"===l?s-t.width:"center"===l?s-t.width/2:s,m-t.height/2,t.width,t.height);var b=!!f.backgroundColor,w=t.textPadding;w&&(s=Yx(s,l,w),m-=t.height/2-w[0]-t.innerHeight/2);var k=this._getOrCreateChild(ia),M=k.createStyle();k.useStyle(M);var I=this._defaultStyle,O=!1,B=0,H=jx("fill"in f?f.fill:"fill"in i?i.fill:(O=!0,I.fill)),X=Ew("stroke"in f?f.stroke:"stroke"in i?i.stroke:b||u||I.autoStroke&&!O?null:(B=2,I.stroke)),U=f.textShadowBlur>0||i.textShadowBlur>0;M.text=t.text,M.x=s,M.y=m,U&&(M.shadowBlur=f.textShadowBlur||i.textShadowBlur||0,M.shadowColor=f.textShadowColor||i.textShadowColor||"transparent",M.shadowOffsetX=f.textShadowOffsetX||i.textShadowOffsetX||0,M.shadowOffsetY=f.textShadowOffsetY||i.textShadowOffsetY||0),M.textAlign=l,M.textBaseline="middle",M.font=t.font||el,M.opacity=En(f.opacity,i.opacity,1),X&&(M.lineWidth=En(f.lineWidth,i.lineWidth,B),M.lineDash=Tn(f.lineDash,i.lineDash),M.lineDashOffset=i.lineDashOffset||0,M.stroke=X),H&&(M.fill=H);var $=t.contentWidth,et=t.contentHeight;k.setBoundingRect(new Xi(Co(M.x,$,M.textAlign),bu(M.y,et,M.textBaseline),$,et))},e.prototype._renderBackground=function(t,i,r,o,s,l){var u,f,p,m=t.backgroundColor,b=t.borderWidth,w=t.borderColor,k=m&&m.image,M=m&&!k,I=t.borderRadius,O=this;if(M||t.lineHeight||b&&w){(u=this._getOrCreateChild(vr)).useStyle(u.createStyle()),u.style.fill=null;var B=u.shape;B.x=r,B.y=o,B.width=s,B.height=l,B.r=I,u.dirtyShape()}if(M)(p=u.style).fill=m||null,p.fillOpacity=Tn(t.fillOpacity,1);else if(k){(f=this._getOrCreateChild(ga)).onload=function(){O.dirtyStyle()};var H=f.style;H.image=m.image,H.x=r,H.y=o,H.width=s,H.height=l}b&&w&&((p=u.style).lineWidth=b,p.stroke=w,p.strokeOpacity=Tn(t.strokeOpacity,1),p.lineDash=t.borderDash,p.lineDashOffset=t.borderDashOffset||0,u.strokeContainThreshold=0,u.hasFill()&&u.hasStroke()&&(p.strokeFirst=!0,p.lineWidth*=2));var X=(u||f).style;X.shadowBlur=t.shadowBlur||0,X.shadowColor=t.shadowColor||"transparent",X.shadowOffsetX=t.shadowOffsetX||0,X.shadowOffsetY=t.shadowOffsetY||0,X.opacity=En(t.opacity,i.opacity,1)},e.makeFont=function(t){var i="";if(t.fontSize||t.fontFamily||t.fontWeight){var r="";r="string"!=typeof t.fontSize||-1===t.fontSize.indexOf("px")&&-1===t.fontSize.indexOf("rem")&&-1===t.fontSize.indexOf("em")?isNaN(+t.fontSize)?"12px":t.fontSize+"px":t.fontSize,i=[t.fontStyle,t.fontWeight,r,t.fontFamily||"sans-serif"].join(" ")}return i&&br(i)||t.textFont||t.font},e}(Xr),Dw={left:!0,right:1,center:1},ul={top:1,bottom:1,middle:1};function Wx(n){if(n){n.font=dr.makeFont(n);var e=n.align;"middle"===e&&(e="center"),n.align=null==e||Dw[e]?e:"left";var t=n.verticalAlign;"center"===t&&(t="middle"),n.verticalAlign=null==t||ul[t]?t:"top",n.padding&&(n.padding=Oi(n.padding))}}function Ew(n,e){return null==n||e<=0||"transparent"===n||"none"===n?null:n.image||n.colorStops?"#000":n}function jx(n){return null==n||"none"===n?null:n.image||n.colorStops?"#000":n}function Yx(n,e,t){return"right"===e?n-t[1]:"center"===e?n+t[3]/2-t[1]/2:n+t[3]}function Xx(n){var e=n.text;return null!=e&&(e+=""),e}function pd(n){return!!(n.backgroundColor||n.lineHeight||n.borderWidth&&n.borderColor)}var Fi=ar(),Uv=function(n,e,t,i){if(i){var r=Fi(i);r.dataIndex=t,r.dataType=e,r.seriesIndex=n,"group"===i.type&&i.traverse(function(o){var s=Fi(o);s.seriesIndex=n,s.dataIndex=t,s.dataType=e})}},Gx=1,gd={},qx=ar(),Bs=["emphasis","blur","select"],Rc=["normal","emphasis","blur","select"],md="highlight",ff="downplay",Mu="select",Yg="unselect",pf="toggleSelect";function vd(n){return null!=n&&"none"!==n}var Ux=new Ts(100);function $v(n){if("string"!=typeof n)return n;var e=Ux.get(n);return e||(e=ml(n,-.1),Ux.put(n,e)),e}function Xg(n,e,t){n.onHoverStateChange&&(n.hoverState||0)!==t&&n.onHoverStateChange(e),n.hoverState=t}function yd(n){Xg(n,"emphasis",2)}function $x(n){2===n.hoverState&&Xg(n,"normal",0)}function Gg(n){Xg(n,"blur",1)}function bp(n){1===n.hoverState&&Xg(n,"normal",0)}function Zv(n){n.selected=!0}function Jk(n){n.selected=!1}function Lw(n,e,t){e(n,t)}function Cl(n,e,t){Lw(n,e,t),n.isGroup&&n.traverse(function(i){Lw(i,e,t)})}function Kv(n,e){switch(e){case"emphasis":n.hoverState=2;break;case"normal":n.hoverState=0;break;case"blur":n.hoverState=1;break;case"select":n.selected=!0}}function Qv(n,e){var r,o,s,l,u,f,t=this.states[n];if(this.style){if("emphasis"===n)return function(i,r,o,s){var l=o&&Ne(o,"select")>=0,u=!1;if(i instanceof zi){var f=qx(i),p=l&&f.selectFill||f.normalFill,m=l&&f.selectStroke||f.normalStroke;if(vd(p)||vd(m)){var b=(s=s||{}).style||{};"inherit"===b.fill?(u=!0,s=Dt({},s),(b=Dt({},b)).fill=p):!vd(b.fill)&&vd(p)?(u=!0,s=Dt({},s),(b=Dt({},b)).fill=$v(p)):!vd(b.stroke)&&vd(m)&&(u||(s=Dt({},s),b=Dt({},b)),b.stroke=$v(m)),s.style=b}}if(s&&null==s.z2){u||(s=Dt({},s));var w=i.z2EmphasisLift;s.z2=i.z2+(null!=w?w:10)}return s}(this,0,e,t);if("blur"===n)return o=t,s=Ne(this.currentStates,r=n)>=0,l=this.style.opacity,u=s?null:function(p,m,b,w){for(var k=p.style,M={},I=0;I<m.length;I++){var O=m[I],B=k[O];M[O]=null==B?w&&w[O]:B}for(I=0;I<p.animators.length;I++){var H=p.animators[I];H.__fromStateTransition&&H.__fromStateTransition.indexOf(b)<0&&"style"===H.targetName&&H.saveFinalToTarget(M,m)}return M}(this,["opacity"],r,{opacity:1}),null==(f=(o=o||{}).style||{}).opacity&&(o=Dt({},o),f=Dt({opacity:s?l:.1*u.opacity},f),o.style=f),o;if("select"===n)return function(i,r,o){if(o&&null==o.z2){o=Dt({},o);var s=i.z2SelectLift;o.z2=i.z2+(null!=s?s:9)}return o}(this,0,t)}return t}function gf(n){n.stateProxy=Qv;var e=n.getTextContent(),t=n.getTextGuideLine();e&&(e.stateProxy=Qv),t&&(t.stateProxy=Qv)}function Zx(n,e){!Dh(n,e)&&!n.__highByOuter&&Cl(n,yd)}function Pw(n,e){!Dh(n,e)&&!n.__highByOuter&&Cl(n,$x)}function kl(n,e){n.__highByOuter|=1<<(e||0),Cl(n,yd)}function Bc(n,e){!(n.__highByOuter&=~(1<<(e||0)))&&Cl(n,$x)}function _p(n){Cl(n,Gg)}function Jv(n){Cl(n,bp)}function Kx(n){Cl(n,Zv)}function qg(n){Cl(n,Jk)}function Dh(n,e){return n.__highDownSilentOnTouch&&e.zrByTouch}function mn(n){n.getModel().eachComponent(function(e,t){("series"===e?n.getViewOfSeriesModel(t):n.getViewOfComponentModel(t)).group.traverse(function(i){bp(i)})})}function wp(n,e,t,i){var r=i.getModel();function o(f,p){for(var m=0;m<p.length;m++){var b=f.getItemGraphicEl(p[m]);b&&Jv(b)}}if(t=t||"coordinateSystem",null!=n&&e&&"none"!==e){var s=r.getSeriesByIndex(n),l=s.coordinateSystem;l&&l.master&&(l=l.master);var u=[];r.eachSeries(function(f){var p=s===f,m=f.coordinateSystem;if(m&&m.master&&(m=m.master),!("series"===t&&!p||"coordinateSystem"===t&&!(m&&l?m===l:p)||"series"===e&&p)){if(i.getViewOfSeriesModel(f).group.traverse(function(k){Gg(k)}),an(e))o(f.getData(),e);else if($e(e))for(var b=be(e),w=0;w<b.length;w++)o(f.getData(b[w]),e[b[w]]);u.push(f)}}),r.eachComponent(function(f,p){if("series"!==f){var m=i.getViewOfComponentModel(p);m&&m.blurSeries&&m.blurSeries(u,r)}})}}function Ug(n,e,t){if(null!=n&&null!=e){var i=t.getModel().getComponent(n,e);if(i){var r=t.getViewOfComponentModel(i);r&&r.focusBlurEnabled&&r.group.traverse(function(o){Gg(o)})}}}function ty(n,e,t,i){var r={focusSelf:!1,dispatchers:null};if(null==n||"series"===n||null==e||null==t)return r;var o=i.getModel().getComponent(n,e);if(!o)return r;var s=i.getViewOfComponentModel(o);if(!s||!s.findHighDownDispatchers)return r;for(var l,u=s.findHighDownDispatchers(t),f=0;f<u.length;f++)if("self"===Fi(u[f]).focus){l=!0;break}return{focusSelf:l,dispatchers:u}}function Qx(n){mt(n.getAllData(),function(e){var i=e.type;e.data.eachItemGraphicEl(function(r,o){n.isSelected(o,i)?Kx(r):qg(r)})})}function Ow(n){var e=[];return n.eachSeries(function(t){mt(t.getAllData(),function(i){var r=i.type,o=t.getSelectedDataIndices();if(o.length>0){var s={dataIndex:o,seriesIndex:t.seriesIndex};null!=r&&(s.dataType=r),e.push(s)}})}),e}function to(n,e,t){mf(n,!0),Cl(n,gf),ey(n,e,t)}function ey(n,e,t){var i=Fi(n);null!=e?(i.focus=e,i.blurScope=t):i.focus&&(i.focus=null)}var ny=["emphasis","blur","select"],Nw={itemStyle:"getItemStyle",lineStyle:"getLineStyle",areaStyle:"getAreaStyle"};function ls(n,e,t,i){t=t||"itemStyle";for(var r=0;r<ny.length;r++){var o=ny[r],s=e.getModel([o,t]);n.ensureState(o).style=i?i(s):s[Nw[t]]()}}function mf(n,e){var t=!1===e,i=n;n.highDownSilentOnTouch&&(i.__highDownSilentOnTouch=n.highDownSilentOnTouch),t&&!i.__highDownDispatcher||(i.__highByOuter=i.__highByOuter||0,i.__highDownDispatcher=!t)}function $g(n){return!(!n||!n.__highDownDispatcher)}function iy(n){var e=n.type;return e===Mu||e===Yg||e===pf}function ry(n){var e=n.type;return e===md||e===ff}var vf=en.CMD,Rw=[[],[],[]],Ga=Math.sqrt,Zg=Math.atan2;function Jx(n,e){if(e){var t,i,r,o,s,l,u=n.data,f=n.len(),p=vf.M,m=vf.C,b=vf.L,w=vf.R,k=vf.A,M=vf.Q;for(r=0,o=0;r<f;){switch(t=u[r++],o=r,i=0,t){case p:case b:i=1;break;case m:i=3;break;case M:i=2;break;case k:var I=e[4],O=e[5],B=Ga(e[0]*e[0]+e[1]*e[1]),H=Ga(e[2]*e[2]+e[3]*e[3]),X=Zg(-e[1]/H,e[0]/B);u[r]*=B,u[r++]+=I,u[r]*=H,u[r++]+=O,u[r++]*=B,u[r++]*=H,u[r++]+=X,u[r++]+=X,o=r+=2;break;case w:l[0]=u[r++],l[1]=u[r++],Dr(l,l,e),u[o++]=l[0],u[o++]=l[1],l[0]+=u[r++],l[1]+=u[r++],Dr(l,l,e),u[o++]=l[0],u[o++]=l[1]}for(s=0;s<i;s++){var U=Rw[s];U[0]=u[r++],U[1]=u[r++],Dr(U,U,e),u[o++]=U[0],u[o++]=U[1]}}n.increaseVersion()}}var oy=Math.sqrt,Kg=Math.sin,Qg=Math.cos,Sp=Math.PI;function tb(n){return Math.sqrt(n[0]*n[0]+n[1]*n[1])}function ay(n,e){return(n[0]*e[0]+n[1]*e[1])/(tb(n)*tb(e))}function eb(n,e){return(n[0]*e[1]<n[1]*e[0]?-1:1)*Math.acos(ay(n,e))}function Cp(n,e,t,i,r,o,s,l,u,f,p){var m=u*(Sp/180),b=Qg(m)*(n-t)/2+Kg(m)*(e-i)/2,w=-1*Kg(m)*(n-t)/2+Qg(m)*(e-i)/2,k=b*b/(s*s)+w*w/(l*l);k>1&&(s*=oy(k),l*=oy(k));var M=(r===o?-1:1)*oy((s*s*(l*l)-s*s*(w*w)-l*l*(b*b))/(s*s*(w*w)+l*l*(b*b)))||0,I=M*s*w/l,O=M*-l*b/s,B=(n+t)/2+Qg(m)*I-Kg(m)*O,H=(e+i)/2+Kg(m)*I+Qg(m)*O,X=eb([1,0],[(b-I)/s,(w-O)/l]),U=[(b-I)/s,(w-O)/l],$=[(-1*b-I)/s,(-1*w-O)/l],et=eb(U,$);if(ay(U,$)<=-1&&(et=Sp),ay(U,$)>=1&&(et=0),et<0){var at=Math.round(et/Sp*1e6)/1e6;et=2*Sp+at%2*Sp}p.addData(f,B,H,s,l,X,et,m,o)}var Jg=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/gi,nb=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g,ib=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return Tt(e,n),e.prototype.applyTransform=function(t){},e}(zi);function rb(n){return null!=n.setData}function ob(n,e){var t=function(r){var o=new en;if(!r)return o;var s,l=0,u=0,f=l,p=u,m=en.CMD,b=r.match(Jg);if(!b)return o;for(var w=0;w<b.length;w++){for(var k=b[w],M=k.charAt(0),I=void 0,O=k.match(nb)||[],B=O.length,H=0;H<B;H++)O[H]=parseFloat(O[H]);for(var X=0;X<B;){var U=void 0,$=void 0,et=void 0,at=void 0,At=void 0,Mt=void 0,Lt=void 0,Gt=l,ne=u,re=void 0,fe=void 0;switch(M){case"l":l+=O[X++],u+=O[X++],o.addData(I=m.L,l,u);break;case"L":l=O[X++],u=O[X++],o.addData(I=m.L,l,u);break;case"m":l+=O[X++],u+=O[X++],o.addData(I=m.M,l,u),f=l,p=u,M="l";break;case"M":l=O[X++],u=O[X++],o.addData(I=m.M,l,u),f=l,p=u,M="L";break;case"h":l+=O[X++],o.addData(I=m.L,l,u);break;case"H":l=O[X++],o.addData(I=m.L,l,u);break;case"v":u+=O[X++],o.addData(I=m.L,l,u);break;case"V":u=O[X++],o.addData(I=m.L,l,u);break;case"C":o.addData(I=m.C,O[X++],O[X++],O[X++],O[X++],O[X++],O[X++]),l=O[X-2],u=O[X-1];break;case"c":o.addData(I=m.C,O[X++]+l,O[X++]+u,O[X++]+l,O[X++]+u,O[X++]+l,O[X++]+u),l+=O[X-2],u+=O[X-1];break;case"S":U=l,$=u,re=o.len(),fe=o.data,s===m.C&&(U+=l-fe[re-4],$+=u-fe[re-3]),Gt=O[X++],ne=O[X++],l=O[X++],u=O[X++],o.addData(I=m.C,U,$,Gt,ne,l,u);break;case"s":U=l,$=u,re=o.len(),fe=o.data,s===m.C&&(U+=l-fe[re-4],$+=u-fe[re-3]),Gt=l+O[X++],ne=u+O[X++],l+=O[X++],u+=O[X++],o.addData(I=m.C,U,$,Gt,ne,l,u);break;case"Q":Gt=O[X++],ne=O[X++],l=O[X++],u=O[X++],o.addData(I=m.Q,Gt,ne,l,u);break;case"q":Gt=O[X++]+l,ne=O[X++]+u,l+=O[X++],u+=O[X++],o.addData(I=m.Q,Gt,ne,l,u);break;case"T":U=l,$=u,re=o.len(),fe=o.data,s===m.Q&&(U+=l-fe[re-4],$+=u-fe[re-3]),l=O[X++],u=O[X++],o.addData(I=m.Q,U,$,l,u);break;case"t":U=l,$=u,re=o.len(),fe=o.data,s===m.Q&&(U+=l-fe[re-4],$+=u-fe[re-3]),l+=O[X++],u+=O[X++],o.addData(I=m.Q,U,$,l,u);break;case"A":et=O[X++],at=O[X++],At=O[X++],Mt=O[X++],Lt=O[X++],Cp(Gt=l,ne=u,l=O[X++],u=O[X++],Mt,Lt,et,at,At,I=m.A,o);break;case"a":et=O[X++],at=O[X++],At=O[X++],Mt=O[X++],Lt=O[X++],Cp(Gt=l,ne=u,l+=O[X++],u+=O[X++],Mt,Lt,et,at,At,I=m.A,o)}}"z"!==M&&"Z"!==M||(o.addData(I=m.Z),l=f,u=p),s=I}return o.toStatic(),o}(n),i=Dt({},e);return i.buildPath=function(r){if(rb(r))r.setData(t.data),(o=r.getContext())&&r.rebuildPath(o,1);else{var o=r;t.rebuildPath(o,1)}},i.applyTransform=function(r){Jx(t,r),this.dirtyShape()},i}function ab(n,e){return new ib(ob(n,e))}function sb(n,e){e=e||{};var t=new zi;return n.shape&&t.setShape(n.shape),t.setStyle(n.style),e.bakeTransform?Jx(t.path,n.getComputedTransform()):e.toLocal?t.setLocalTransform(n.getComputedTransform()):t.copyTransform(n),t.buildPath=n.buildPath,t.applyTransform=t.applyTransform,t.z=n.z,t.z2=n.z2,t.zlevel=n.zlevel,t}var tA=function(){this.cx=0,this.cy=0,this.r=0},eu=function(n){function e(t){return n.call(this,t)||this}return Tt(e,n),e.prototype.getDefaultShape=function(){return new tA},e.prototype.buildPath=function(t,i,r){r&&t.moveTo(i.cx+i.r,i.cy),t.arc(i.cx,i.cy,i.r,0,2*Math.PI)},e}(zi);eu.prototype.type="circle";var eA=function(){this.cx=0,this.cy=0,this.rx=0,this.ry=0},kp=function(n){function e(t){return n.call(this,t)||this}return Tt(e,n),e.prototype.getDefaultShape=function(){return new eA},e.prototype.buildPath=function(t,i){var r=.5522848,o=i.cx,s=i.cy,l=i.rx,u=i.ry,f=l*r,p=u*r;t.moveTo(o-l,s),t.bezierCurveTo(o-l,s-p,o-f,s-u,o,s-u),t.bezierCurveTo(o+f,s-u,o+l,s-p,o+l,s),t.bezierCurveTo(o+l,s+p,o+f,s+u,o,s+u),t.bezierCurveTo(o-f,s+u,o-l,s+p,o-l,s),t.closePath()},e}(zi);kp.prototype.type="ellipse";var xd=Math.PI,sy=2*xd,Tu=Math.sin,nu=Math.cos,zc=Math.acos,us=Math.atan2,lb=Math.abs,Ap=Math.sqrt,tm=Math.max,em=Math.min,cl=1e-4;function yf(n,e,t,i,r,o,s){var l=n-t,u=e-i,f=(s?o:-o)/Ap(l*l+u*u),p=f*u,m=-f*l,b=n+p,w=e+m,k=t+p,M=i+m,I=(b+k)/2,O=(w+M)/2,B=k-b,H=M-w,X=B*B+H*H,U=r-o,$=b*M-k*w,et=(H<0?-1:1)*Ap(tm(0,U*U*X-$*$)),at=($*H-B*et)/X,At=(-$*B-H*et)/X,Mt=($*H+B*et)/X,Lt=(-$*B+H*et)/X,Gt=at-I,ne=At-O,re=Mt-I,fe=Lt-O;return Gt*Gt+ne*ne>re*re+fe*fe&&(at=Mt,At=Lt),{cx:at,cy:At,x01:-p,y01:-m,x11:at*(r/U-1),y11:At*(r/U-1)}}var ly=function(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0,this.cornerRadius=0,this.innerCornerRadius=0},Fr=function(n){function e(t){return n.call(this,t)||this}return Tt(e,n),e.prototype.getDefaultShape=function(){return new ly},e.prototype.buildPath=function(t,i){!function(n,e){var t=tm(e.r,0),i=tm(e.r0||0,0),r=t>0;if(r||i>0){if(r||(t=i,i=0),i>t){var o=t;t=i,i=o}var s,l=!!e.clockwise,u=e.startAngle,f=e.endAngle;if(u===f)s=0;else{var p=[u,f];He(p,!l),s=lb(p[0]-p[1])}var m=e.cx,b=e.cy,w=e.cornerRadius||0,k=e.innerCornerRadius||0;if(t>cl)if(s>sy-cl)n.moveTo(m+t*nu(u),b+t*Tu(u)),n.arc(m,b,t,u,f,!l),i>cl&&(n.moveTo(m+i*nu(f),b+i*Tu(f)),n.arc(m,b,i,f,u,l));else{var M=lb(t-i)/2,I=em(M,w),O=em(M,k),B=O,H=I,X=t*nu(u),U=t*Tu(u),$=i*nu(f),et=i*Tu(f),at=void 0,At=void 0,Mt=void 0,Lt=void 0;if((I>cl||O>cl)&&(at=t*nu(f),At=t*Tu(f),Mt=i*nu(u),Lt=i*Tu(u),s<xd)){var Gt=function(cn,_n,Hn,gn,Dn,Un,Yn,Xn){var di=Hn-cn,fi=gn-_n,Pi=Yn-Dn,Wi=Xn-Un,Gi=Wi*di-Pi*fi;if(!(Gi*Gi<cl))return[cn+(Gi=(Pi*(_n-Un)-Wi*(cn-Dn))/Gi)*di,_n+Gi*fi]}(X,U,Mt,Lt,at,At,$,et);if(Gt){var ne=X-Gt[0],re=U-Gt[1],fe=at-Gt[0],ye=At-Gt[1],Te=1/Tu(zc((ne*fe+re*ye)/(Ap(ne*ne+re*re)*Ap(fe*fe+ye*ye)))/2),Ie=Ap(Gt[0]*Gt[0]+Gt[1]*Gt[1]);B=em(O,(i-Ie)/(Te-1)),H=em(I,(t-Ie)/(Te+1))}}if(s>cl)if(H>cl){var Re=yf(Mt,Lt,X,U,t,H,l),Xe=yf(at,At,$,et,t,H,l);n.moveTo(m+Re.cx+Re.x01,b+Re.cy+Re.y01),H<I?n.arc(m+Re.cx,b+Re.cy,H,us(Re.y01,Re.x01),us(Xe.y01,Xe.x01),!l):(n.arc(m+Re.cx,b+Re.cy,H,us(Re.y01,Re.x01),us(Re.y11,Re.x11),!l),n.arc(m,b,t,us(Re.cy+Re.y11,Re.cx+Re.x11),us(Xe.cy+Xe.y11,Xe.cx+Xe.x11),!l),n.arc(m+Xe.cx,b+Xe.cy,H,us(Xe.y11,Xe.x11),us(Xe.y01,Xe.x01),!l))}else n.moveTo(m+X,b+U),n.arc(m,b,t,u,f,!l);else n.moveTo(m+X,b+U);i>cl&&s>cl?B>cl?(Re=yf($,et,at,At,i,-B,l),Xe=yf(X,U,Mt,Lt,i,-B,l),n.lineTo(m+Re.cx+Re.x01,b+Re.cy+Re.y01),B<O?n.arc(m+Re.cx,b+Re.cy,B,us(Re.y01,Re.x01),us(Xe.y01,Xe.x01),!l):(n.arc(m+Re.cx,b+Re.cy,B,us(Re.y01,Re.x01),us(Re.y11,Re.x11),!l),n.arc(m,b,i,us(Re.cy+Re.y11,Re.cx+Re.x11),us(Xe.cy+Xe.y11,Xe.cx+Xe.x11),l),n.arc(m+Xe.cx,b+Xe.cy,B,us(Xe.y11,Xe.x11),us(Xe.y01,Xe.x01),!l))):(n.lineTo(m+$,b+et),n.arc(m,b,i,f,u,l)):n.lineTo(m+$,b+et)}else n.moveTo(m,b);n.closePath()}}(t,i)},e.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0},e}(zi);Fr.prototype.type="sector";var uy=function(){this.cx=0,this.cy=0,this.r=0,this.r0=0},zs=function(n){function e(t){return n.call(this,t)||this}return Tt(e,n),e.prototype.getDefaultShape=function(){return new uy},e.prototype.buildPath=function(t,i){var r=i.cx,o=i.cy,s=2*Math.PI;t.moveTo(r+i.r,o),t.arc(r,o,i.r,0,s,!1),t.moveTo(r+i.r0,o),t.arc(r,o,i.r0,0,s,!0)},e}(zi);function cb(n,e,t,i,r,o,s){var l=.5*(t-n),u=.5*(i-e);return(2*(e-t)+l+u)*s+(-3*(e-t)-2*l-u)*o+l*r+e}function hb(n,e,t){var i=e.smooth,r=e.points;if(r&&r.length>=2){if(i&&"spline"!==i){var o=function(b,w,k,M){var I,O,B,H,X=[],U=[],$=[],et=[];if(M){B=[1/0,1/0],H=[-1/0,-1/0];for(var at=0,At=b.length;at<At;at++)ts(B,B,b[at]),Ra(H,H,b[at]);ts(B,B,M[0]),Ra(H,H,M[1])}for(at=0,At=b.length;at<At;at++){var Mt=b[at];if(k)I=b[at?at-1:At-1],O=b[(at+1)%At];else{if(0===at||at===At-1){X.push(ir(b[at]));continue}I=b[at-1],O=b[at+1]}Lr(U,O,I),oo(U,U,w);var Lt=Na(Mt,I),Gt=Na(Mt,O),ne=Lt+Gt;0!==ne&&(Lt/=ne,Gt/=ne),oo($,U,-Lt),oo(et,U,Gt);var re=ho([],Mt,$),fe=ho([],Mt,et);M&&(Ra(re,re,B),ts(re,re,H),Ra(fe,fe,B),ts(fe,fe,H)),X.push(re),X.push(fe)}return k&&X.push(X.shift()),X}(r,i,t,e.smoothConstraint);n.moveTo(r[0][0],r[0][1]);for(var s=r.length,l=0;l<(t?s:s-1);l++){var u=o[2*l],f=o[2*l+1],p=r[(l+1)%s];n.bezierCurveTo(u[0],u[1],f[0],f[1],p[0],p[1])}}else{"spline"===i&&(r=function(b,w){for(var k=b.length,M=[],I=0,O=1;O<k;O++)I+=Na(b[O-1],b[O]);var B=I/2;for(B=B<k?k:B,O=0;O<B;O++){var H=O/(B-1)*(w?k:k-1),X=Math.floor(H),U=H-X,$=void 0,et=b[X%k],at=void 0,At=void 0;w?($=b[(X-1+k)%k],at=b[(X+1)%k],At=b[(X+2)%k]):($=b[0===X?X:X-1],at=b[X>k-2?k-1:X+1],At=b[X>k-3?k-1:X+2]);var Mt=U*U,Lt=U*Mt;M.push([cb($[0],et[0],at[0],At[0],U,Mt,Lt),cb($[1],et[1],at[1],At[1],U,Mt,Lt)])}return M}(r,t)),n.moveTo(r[0][0],r[0][1]),l=1;for(var m=r.length;l<m;l++)n.lineTo(r[l][0],r[l][1])}t&&n.closePath()}}zs.prototype.type="ring";var Bw=function(){this.points=null,this.smooth=0,this.smoothConstraint=null},qa=function(n){function e(t){return n.call(this,t)||this}return Tt(e,n),e.prototype.getDefaultShape=function(){return new Bw},e.prototype.buildPath=function(t,i){hb(t,i,!0)},e}(zi);qa.prototype.type="polygon";var cy=function(){this.points=null,this.percent=1,this.smooth=0,this.smoothConstraint=null},Fs=function(n){function e(t){return n.call(this,t)||this}return Tt(e,n),e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new cy},e.prototype.buildPath=function(t,i){hb(t,i,!1)},e}(zi);Fs.prototype.type="polyline";var nA={},iA=function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1},wa=function(n){function e(t){return n.call(this,t)||this}return Tt(e,n),e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new iA},e.prototype.buildPath=function(t,i){var r,o,s,l;if(this.subPixelOptimize){var u=Xv(nA,i,this.style);r=u.x1,o=u.y1,s=u.x2,l=u.y2}else r=i.x1,o=i.y1,s=i.x2,l=i.y2;var f=i.percent;0!==f&&(t.moveTo(r,o),f<1&&(s=r*(1-f)+s*f,l=o*(1-f)+l*f),t.lineTo(s,l))},e.prototype.pointAt=function(t){var i=this.shape;return[i.x1*(1-t)+i.x2*t,i.y1*(1-t)+i.y2*t]},e}(zi);wa.prototype.type="line";var La=[],db=function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.percent=1};function zw(n,e,t){return null===n.cpx2||null===n.cpy2?[(t?rc:vo)(n.x1,n.cpx1,n.cpx2,n.x2,e),(t?rc:vo)(n.y1,n.cpy1,n.cpy2,n.y2,e)]:[(t?hf:_a)(n.x1,n.cpx1,n.x2,e),(t?hf:_a)(n.y1,n.cpy1,n.y2,e)]}var Mp=function(n){function e(t){return n.call(this,t)||this}return Tt(e,n),e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new db},e.prototype.buildPath=function(t,i){var r=i.x1,o=i.y1,s=i.x2,l=i.y2,u=i.cpx1,f=i.cpy1,p=i.cpx2,m=i.cpy2,b=i.percent;0!==b&&(t.moveTo(r,o),null==p||null==m?(b<1&&(cd(r,u,s,b,La),u=La[1],s=La[2],cd(o,f,l,b,La),f=La[1],l=La[2]),t.quadraticCurveTo(u,f,s,l)):(b<1&&(ku(r,u,p,s,b,La),u=La[1],p=La[2],s=La[3],ku(o,f,m,l,b,La),f=La[1],m=La[2],l=La[3]),t.bezierCurveTo(u,f,p,m,s,l)))},e.prototype.pointAt=function(t){return zw(this.shape,t,!1)},e.prototype.tangentAt=function(t){var i=zw(this.shape,t,!0);return Oa(i,i)},e}(zi);Mp.prototype.type="bezier-curve";var rA=function(){this.cx=0,this.cy=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0},Eh=function(n){function e(t){return n.call(this,t)||this}return Tt(e,n),e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new rA},e.prototype.buildPath=function(t,i){var r=i.cx,o=i.cy,s=Math.max(i.r,0),l=i.startAngle,u=i.endAngle,f=i.clockwise,p=Math.cos(l),m=Math.sin(l);t.moveTo(p*s+r,m*s+o),t.arc(r,o,s,l,u,!f)},e}(zi);Eh.prototype.type="arc";var nm=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="compound",t}return Tt(e,n),e.prototype._updatePathDirty=function(){for(var t=this.shape.paths,i=this.shapeChanged(),r=0;r<t.length;r++)i=i||t[r].shapeChanged();i&&this.dirtyShape()},e.prototype.beforeBrush=function(){this._updatePathDirty();for(var t=this.shape.paths||[],i=this.getGlobalScale(),r=0;r<t.length;r++)t[r].path||t[r].createPathProxy(),t[r].path.setScale(i[0],i[1],t[r].segmentIgnoreThreshold)},e.prototype.buildPath=function(t,i){for(var r=i.paths||[],o=0;o<r.length;o++)r[o].buildPath(t,r[o].shape,!0)},e.prototype.afterBrush=function(){for(var t=this.shape.paths||[],i=0;i<t.length;i++)t[i].pathUpdated()},e.prototype.getBoundingRect=function(){return this._updatePathDirty.call(this),zi.prototype.getBoundingRect.call(this)},e}(zi),Fw=function(){function n(e){this.colorStops=e||[]}return n.prototype.addColorStop=function(e,t){this.colorStops.push({offset:e,color:t})},n}(),Tp=function(n){function e(t,i,r,o,s,l){var u=n.call(this,s)||this;return u.x=null==t?0:t,u.y=null==i?0:i,u.x2=null==r?1:r,u.y2=null==o?0:o,u.type="linear",u.global=l||!1,u}return Tt(e,n),e}(Fw),hy=function(n){function e(t,i,r,o,s){var l=n.call(this,o)||this;return l.x=null==t?.5:t,l.y=null==i?.5:i,l.r=null==r?.5:r,l.type="radial",l.global=s||!1,l}return Tt(e,n),e}(Fw),bd=[0,0],_d=[0,0],dy=new Bi,wd=new Bi,Sd=function(){function n(e,t){this._corners=[],this._axes=[],this._origin=[0,0];for(var i=0;i<4;i++)this._corners[i]=new Bi;for(i=0;i<2;i++)this._axes[i]=new Bi;e&&this.fromBoundingRect(e,t)}return n.prototype.fromBoundingRect=function(e,t){var i=this._corners,r=this._axes,o=e.x,s=e.y,l=o+e.width,u=s+e.height;if(i[0].set(o,s),i[1].set(l,s),i[2].set(l,u),i[3].set(o,u),t)for(var f=0;f<4;f++)i[f].transform(t);for(Bi.sub(r[0],i[1],i[0]),Bi.sub(r[1],i[3],i[0]),r[0].normalize(),r[1].normalize(),f=0;f<2;f++)this._origin[f]=r[f].dot(i[0])},n.prototype.intersect=function(e,t){var i=!0,r=!t;return dy.set(1/0,1/0),wd.set(0,0),!this._intersectCheckOneSide(this,e,dy,wd,r,1)&&(i=!1,r)||!this._intersectCheckOneSide(e,this,dy,wd,r,-1)&&(i=!1,r)||r||Bi.copy(t,i?dy:wd),i},n.prototype._intersectCheckOneSide=function(e,t,i,r,o,s){for(var l=!0,u=0;u<2;u++){var f=this._axes[u];if(this._getProjMinMaxOnAxis(u,e._corners,bd),this._getProjMinMaxOnAxis(u,t._corners,_d),bd[1]<_d[0]||bd[0]>_d[1]){if(l=!1,o)return l;var p=Math.abs(_d[0]-bd[1]),m=Math.abs(bd[0]-_d[1]);Math.min(p,m)>r.len()&&Bi.scale(r,f,p<m?-p*s:m*s)}else i&&(p=Math.abs(_d[0]-bd[1]),m=Math.abs(bd[0]-_d[1]),Math.min(p,m)<i.len()&&Bi.scale(i,f,p<m?p*s:-m*s))}return l},n.prototype._getProjMinMaxOnAxis=function(e,t,i){for(var r=this._axes[e],o=this._origin,s=t[0].dot(r)+o[e],l=s,u=s,f=1;f<t.length;f++){var p=t[f].dot(r)+o[e];l=Math.min(p,l),u=Math.max(p,u)}i[0]=l,i[1]=u},n}(),Vw=[],Ip=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.notClear=!0,t.incremental=!0,t._displayables=[],t._temporaryDisplayables=[],t._cursor=0,t}return Tt(e,n),e.prototype.traverse=function(t,i){t.call(i,this)},e.prototype.useStyle=function(){this.style={}},e.prototype.getCursor=function(){return this._cursor},e.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length},e.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.markRedraw(),this.notClear=!1},e.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]},e.prototype.addDisplayable=function(t,i){i?this._temporaryDisplayables.push(t):this._displayables.push(t),this.markRedraw()},e.prototype.addDisplayables=function(t,i){i=i||!1;for(var r=0;r<t.length;r++)this.addDisplayable(t[r],i)},e.prototype.getDisplayables=function(){return this._displayables},e.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables},e.prototype.eachPendingDisplayable=function(t){for(var i=this._cursor;i<this._displayables.length;i++)t&&t(this._displayables[i]);for(i=0;i<this._temporaryDisplayables.length;i++)t&&t(this._temporaryDisplayables[i])},e.prototype.update=function(){this.updateTransform();for(var t=this._cursor;t<this._displayables.length;t++)(i=this._displayables[t]).parent=this,i.update(),i.parent=null;for(t=0;t<this._temporaryDisplayables.length;t++){var i;(i=this._temporaryDisplayables[t]).parent=this,i.update(),i.parent=null}},e.prototype.getBoundingRect=function(){if(!this._rect){for(var t=new Xi(1/0,1/0,-1/0,-1/0),i=0;i<this._displayables.length;i++){var r=this._displayables[i],o=r.getBoundingRect().clone();r.needLocalTransform()&&o.applyTransform(r.getLocalTransform(Vw)),t.union(o)}this._rect=t}return this._rect},e.prototype.contain=function(t,i){var r=this.transformCoordToLocal(t,i);if(this.getBoundingRect().contain(r[0],r[1]))for(var o=0;o<this._displayables.length;o++)if(this._displayables[o].contain(t,i))return!0;return!1},e}(Xr),Iu=ar();function im(n,e,t,i,r){var o;if(e&&e.ecModel){var s=e.ecModel.getUpdatePayload();o=s&&s.animation}var l="update"===n;if(e&&e.isAnimationEnabled()){var u=void 0,f=void 0,p=void 0;return i?(u=Tn(i.duration,200),f=Tn(i.easing,"cubicOut"),p=0):(u=e.getShallow(l?"animationDurationUpdate":"animationDuration"),f=e.getShallow(l?"animationEasingUpdate":"animationEasing"),p=e.getShallow(l?"animationDelayUpdate":"animationDelay")),o&&(null!=o.duration&&(u=o.duration),null!=o.easing&&(f=o.easing),null!=o.delay&&(p=o.delay)),"function"==typeof p&&(p=p(t,r)),"function"==typeof u&&(u=u(t)),{duration:u||0,delay:p,easing:f}}return null}function fy(n,e,t,i,r,o,s){var l,u=!1;"function"==typeof r?(s=o,o=r,r=null):$e(r)&&(o=r.cb,s=r.during,u=r.isFrom,l=r.removeOpt,r=r.dataIndex);var f="remove"===n;f||e.stopAnimation("remove");var p=im(n,i,r,f?l||{}:null,i&&i.getAnimationDelayParams?i.getAnimationDelayParams(e,r):null);if(p&&p.duration>0){var m={duration:p.duration,delay:p.delay||0,easing:p.easing,done:o,force:!!o||!!s,setToFinal:!f,scope:n,during:s};u?e.animateFrom(t,m):e.animateTo(t,m)}else e.stopAnimation(),!u&&e.attr(t),s&&s(1),o&&o()}function xr(n,e,t,i,r,o){fy("update",n,e,t,i,r,o)}function ro(n,e,t,i,r,o){fy("init",n,e,t,i,r,o)}function sc(n){if(!n.__zr)return!0;for(var e=0;e<n.animators.length;e++)if("remove"===n.animators[e].scope)return!0;return!1}function vs(n,e,t,i,r,o){sc(n)||fy("remove",n,e,t,i,r,o)}function Cd(n,e,t,i){n.removeTextContent(),n.removeTextGuideLine(),vs(n,{style:{opacity:0}},e,t,i)}function Dp(n,e,t){function i(){n.parent&&n.parent.remove(n)}n.isGroup?n.traverse(function(r){r.isGroup||Cd(r,e,t,i)}):Cd(n,e,t,i)}function Du(n){Iu(n).oldStyle=n.style}var rm=Math.max,om=Math.min,am={};function fb(n){return zi.extend(n)}function Al(n,e){return function(n,e){var t=ob(n,e);return function(i){function r(o){var s=i.call(this,o)||this;return s.applyTransform=t.applyTransform,s.buildPath=t.buildPath,s}return Tt(r,i),r}(ib)}(n,e)}function ys(n,e){am[n]=e}function Ep(n){if(am.hasOwnProperty(n))return am[n]}function kd(n,e,t,i){var r=ab(n,e);return t&&("center"===i&&(t=gy(t,r.getBoundingRect())),Ad(r,t)),r}function py(n,e,t){var i=new ga({style:{image:n,x:e.x,y:e.y,width:e.width,height:e.height},onload:function(r){"center"===t&&i.setStyle(gy(e,{width:r.width,height:r.height}))}});return i}function gy(n,e){var t,i=e.width/e.height,r=n.height*i;return t=r<=n.width?n.height:(r=n.width)/i,{x:n.x+n.width/2-r/2,y:n.y+n.height/2-t/2,width:r,height:t}}var hl=function(n,e){for(var t=[],i=n.length,r=0;r<i;r++)t.push(n[r].getUpdatedPathProxy(!0));var s=new zi(e);return s.createPathProxy(),s.buildPath=function(l){if(rb(l)){l.appendPath(t);var u=l.getContext();u&&l.rebuildPath(u,1)}},s};function Ad(n,e){if(n.applyTransform){var t=n.getBoundingRect().calculateTransform(e);n.applyTransform(t)}}var Eu=Ea;function Fc(n,e){for(var t=ri([]);n&&n!==e;)za(t,n.getLocalTransform(),t),n=n.parent;return t}function iu(n,e,t){return e&&!an(e)&&(e=as.getLocalTransform(e)),t&&(e=xa([],e)),Dr([],n,e)}function xf(n,e,t){var i=0===e[4]||0===e[5]||0===e[0]?1:Math.abs(2*e[4]/e[0]),r=0===e[4]||0===e[5]||0===e[2]?1:Math.abs(2*e[4]/e[2]),o=["left"===n?-i:"right"===n?i:0,"top"===n?-r:"bottom"===n?r:0];return o=iu(o,e,t),Math.abs(o[0])>Math.abs(o[1])?o[0]>0?"right":"left":o[1]>0?"bottom":"top"}function pb(n){return!n.isGroup}function Md(n,e,t){if(n&&e){var i,r=(i={},n.traverse(function(s){pb(s)&&s.anid&&(i[s.anid]=s)}),i);e.traverse(function(s){if(pb(s)&&s.anid){var l=r[s.anid];if(l){var u=o(s);s.attr(o(l)),xr(s,u,t,Fi(s).dataIndex)}}})}function o(s){var l={x:s.x,y:s.y,rotation:s.rotation};return null!=s.shape&&(l.shape=Dt({},s.shape)),l}}function gb(n,e){return zt(n,function(t){var i=t[0];i=rm(i,e.x),i=om(i,e.x+e.width);var r=t[1];return r=rm(r,e.y),[i,r=om(r,e.y+e.height)]})}function lc(n,e){var t=rm(n.x,e.x),i=om(n.x+n.width,e.x+e.width),r=rm(n.y,e.y),o=om(n.y+n.height,e.y+e.height);if(i>=t&&o>=r)return{x:t,y:r,width:i-t,height:o-r}}function Ua(n,e,t){var i=Dt({rectHover:!0},e),r=i.style={strokeNoScale:!0};if(t=t||{x:-1,y:-1,width:2,height:2},n)return 0===n.indexOf("image://")?(r.image=n.slice(8),se(r,t),new ga(i)):kd(n.replace("path://",""),i,t,"center")}function $o(n,e,t,i,r){for(var o=0,s=r[r.length-1];o<r.length;o++){var l=r[o];if(my(n,e,t,i,l[0],l[1],s[0],s[1]))return!0;s=l}}function my(n,e,t,i,r,o,s,l){var u,f=t-n,p=i-e,m=s-r,b=l-o,w=vy(m,b,f,p);if((u=w)<=1e-6&&u>=-1e-6)return!1;var k=n-r,M=e-o,I=vy(k,M,f,p)/w;if(I<0||I>1)return!1;var O=vy(k,M,m,b)/w;return!(O<0||O>1)}function vy(n,e,t,i){return n*i-t*e}function bf(n){var e=n.itemTooltipOption,t=n.componentModel,i=n.itemName,r=Ke(e)?{formatter:e}:e,o=t.mainType,s=t.componentIndex,l={componentType:o,name:i,$vars:["name"]};l[o+"Index"]=s;var u=n.formatterParamsExtra;u&&mt(be(u),function(p){ei(l,p)||(l[p]=u[p],l.$vars.push(p))});var f=Fi(n.el);f.componentMainType=o,f.componentIndex=s,f.tooltipConfig={name:i,option:se({content:i,formatterParams:l},r)}}ys("circle",eu),ys("ellipse",kp),ys("sector",Fr),ys("ring",zs),ys("polygon",qa),ys("polyline",Fs),ys("rect",vr),ys("line",wa),ys("bezierCurve",Mp),ys("arc",Eh);var sm=Object.freeze({__proto__:null,updateProps:xr,initProps:ro,removeElement:vs,removeElementWithFadeOut:Dp,isElementRemoved:sc,extendShape:fb,extendPath:Al,registerShape:ys,getShapeClass:Ep,makePath:kd,makeImage:py,mergePath:hl,resizePath:Ad,subPixelOptimizeLine:function(n){return Xv(n.shape,n.shape,n.style),n},subPixelOptimizeRect:function(n){return Au(n.shape,n.shape,n.style),n},subPixelOptimize:Eu,getTransform:Fc,applyTransform:iu,transformDirection:xf,groupTransition:Md,clipPointsByRect:gb,clipRectByRect:lc,createIcon:Ua,linePolygonIntersect:$o,lineLineIntersect:my,setTooltipConfig:bf,Group:bt,Image:ga,Text:dr,Circle:eu,Ellipse:kp,Sector:Fr,Ring:zs,Polygon:qa,Polyline:Fs,Rect:vr,Line:wa,BezierCurve:Mp,Arc:Eh,IncrementalDisplayable:Ip,CompoundPath:nm,LinearGradient:Tp,RadialGradient:hy,BoundingRect:Xi,OrientedBoundingRect:Sd,Point:Bi,Path:zi}),yy={};function mb(n,e){for(var t=0;t<Bs.length;t++){var i=Bs[t],r=e[i],o=n.ensureState(i);o.style=o.style||{},o.style.text=r}var s=n.currentStates.slice();n.clearStates(!0),n.setStyle({text:e.normal}),n.useStates(s,!0)}function xy(n,e,t){var i,r=n.labelFetcher,o=n.labelDataIndex,s=n.labelDimIndex,l=e.normal;r&&(i=r.getFormattedLabel(o,"normal",null,s,l&&l.get("formatter"),null!=t?{interpolatedValue:t}:null)),null==i&&(i=Fe(n.defaultText)?n.defaultText(o,n,t):n.defaultText);for(var u={normal:i},f=0;f<Bs.length;f++){var p=Bs[f],m=e[p];u[p]=Tn(r?r.getFormattedLabel(o,p,null,s,m&&m.get("formatter")):null,i)}return u}function xs(n,e,t,i){t=t||yy;for(var r=n instanceof dr,o=!1,s=0;s<Rc.length;s++)if((b=e[Rc[s]])&&b.getShallow("show")){o=!0;break}var l=r?n:n.getTextContent();if(o){r||(l||(l=new dr,n.setTextContent(l)),n.stateProxy&&(l.stateProxy=n.stateProxy));var u=xy(t,e),f=e.normal,p=!!f.getShallow("show"),m=Zo(f,i&&i.normal,t,!1,!r);for(m.text=u.normal,r||n.setTextConfig(Lh(f,t,!1)),s=0;s<Bs.length;s++){var b,w=Bs[s];if(b=e[w]){var k=l.ensureState(w),M=!!Tn(b.getShallow("show"),p);M!==p&&(k.ignore=!M),k.style=Zo(b,i&&i[w],t,!0,!r),k.style.text=u[w],!r&&(n.ensureState(w).textConfig=Lh(b,t,!0))}}l.silent=!!f.getShallow("silent"),null!=l.style.x&&(m.x=l.style.x),null!=l.style.y&&(m.y=l.style.y),l.ignore=!p,l.useStyle(m),l.dirty(),t.enableTextSetter&&(Td(l).setLabelText=function(I){var O=xy(t,e,I);mb(l,O)})}else l&&(l.ignore=!0);n.dirty()}function Sa(n,e){for(var t={normal:n.getModel(e=e||"label")},i=0;i<Bs.length;i++){var r=Bs[i];t[r]=n.getModel([r,e])}return t}function Zo(n,e,t,i,r){var o={};return function(s,l,u,f,p){u=u||yy;var m,b=l.ecModel,w=b&&b.option.textStyle,k=function(H){for(var X;H&&H!==H.ecModel;){var U=(H.option||yy).rich;if(U){X=X||{};for(var $=be(U),et=0;et<$.length;et++)X[$[et]]=1}H=H.parentModel}return X}(l);if(k)for(var M in m={},k)if(k.hasOwnProperty(M)){var I=l.getModel(["rich",M]);_f(m[M]={},I,w,u,f,p,!1,!0)}m&&(s.rich=m);var O=l.get("overflow");O&&(s.overflow=O);var B=l.get("minMargin");null!=B&&(s.margin=B),_f(s,l,w,u,f,p,!0,!1)}(o,n,t,i,r),e&&Dt(o,e),o}function Lh(n,e,t){e=e||{};var i,r={},o=n.getShallow("rotate"),s=Tn(n.getShallow("distance"),t?null:5),l=n.getShallow("offset");return"outside"===(i=n.getShallow("position")||(t?null:"inside"))&&(i=e.defaultOutsidePosition||"top"),null!=i&&(r.position=i),null!=l&&(r.offset=l),null!=o&&(o*=Math.PI/180,r.rotation=o),null!=s&&(r.distance=s),r.outsideFill="inherit"===n.get("color")?e.inheritColor||null:"auto",r}var Lp=["fontStyle","fontWeight","fontSize","fontFamily","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY"],by=["align","lineHeight","width","height","tag","verticalAlign"],vb=["padding","borderWidth","borderRadius","borderDashOffset","backgroundColor","borderColor","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function _f(n,e,t,i,r,o,s,l){t=!r&&t||yy;var u=i&&i.inheritColor,f=e.getShallow("color"),p=e.getShallow("textBorderColor"),m=Tn(e.getShallow("opacity"),t.opacity);"inherit"!==f&&"auto"!==f||(f=u||null),"inherit"!==p&&"auto"!==p||(p=u||null),o||(f=f||t.color,p=p||t.textBorderColor),null!=f&&(n.fill=f),null!=p&&(n.stroke=p);var b=Tn(e.getShallow("textBorderWidth"),t.textBorderWidth);null!=b&&(n.lineWidth=b);var w=Tn(e.getShallow("textBorderType"),t.textBorderType);null!=w&&(n.lineDash=w);var k=Tn(e.getShallow("textBorderDashOffset"),t.textBorderDashOffset);null!=k&&(n.lineDashOffset=k),r||null!=m||l||(m=i&&i.defaultOpacity),null!=m&&(n.opacity=m),r||o||null==n.fill&&i.inheritColor&&(n.fill=i.inheritColor);for(var M=0;M<Lp.length;M++){var I=Lp[M];null!=(B=Tn(e.getShallow(I),t[I]))&&(n[I]=B)}for(M=0;M<by.length;M++)null!=(B=e.getShallow(I=by[M]))&&(n[I]=B);if(null==n.verticalAlign){var O=e.getShallow("baseline");null!=O&&(n.verticalAlign=O)}if(!s||!i.disableBox){for(M=0;M<vb.length;M++){var B;null!=(B=e.getShallow(I=vb[M]))&&(n[I]=B)}var H=e.getShallow("borderType");null!=H&&(n.borderDash=H),"auto"!==n.backgroundColor&&"inherit"!==n.backgroundColor||!u||(n.backgroundColor=u),"auto"!==n.borderColor&&"inherit"!==n.borderColor||!u||(n.borderColor=u)}}function Pp(n,e){var t=e&&e.getModel("textStyle");return br([n.fontStyle||t&&t.getShallow("fontStyle")||"",n.fontWeight||t&&t.getShallow("fontWeight")||"",(n.fontSize||t&&t.getShallow("fontSize")||12)+"px",n.fontFamily||t&&t.getShallow("fontFamily")||"sans-serif"].join(" "))}var Td=ar();function _y(n,e,t,i){if(n){var r=Td(n);r.prevValue=r.value,r.value=t;var o=e.normal;r.valueAnimation=o.get("valueAnimation"),r.valueAnimation&&(r.precision=o.get("precision"),r.defaultInterpolatedText=i,r.statesModels=e)}}function lm(n,e,t,i,r){var o=Td(n);if(o.valueAnimation&&o.prevValue!==o.value){var s=o.defaultInterpolatedText,l=Tn(o.interpolatedValue,o.prevValue),u=o.value;n.percent=0,(null==o.prevValue?ro:xr)(n,{percent:1},i,e,null,function(f){var p=tc(t,o.precision,l,u,f);o.interpolatedValue=1===f?null:p;var m=xy({labelDataIndex:e,labelFetcher:r,defaultText:s?s(p):p+""},o.statesModels,p);mb(n,m)})}}var um,cm,yb=["textStyle","color"],wy=new dr,aA=function(){function n(){}return n.prototype.getTextColor=function(e){var t=this.ecModel;return this.getShallow("color")||(!e&&t?t.get(yb):null)},n.prototype.getFont=function(){return Pp({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},n.prototype.getTextRect=function(e){return wy.useStyle({text:e,fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily"),verticalAlign:this.getShallow("verticalAlign")||this.getShallow("baseline"),padding:this.getShallow("padding"),lineHeight:this.getShallow("lineHeight"),rich:this.getShallow("rich")}),wy.update(),wy.getBoundingRect()},n}(),xb=[["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","type"],["lineDashOffset","dashOffset"],["lineCap","cap"],["lineJoin","join"],["miterLimit"]],hm=Su(xb),Hw=function(){function n(){}return n.prototype.getLineStyle=function(e){return hm(this,e)},n}(),bb=[["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","borderType"],["lineDashOffset","borderDashOffset"],["lineCap","borderCap"],["lineJoin","borderJoin"],["miterLimit","borderMiterLimit"]],Sy=Su(bb),Ww=function(){function n(){}return n.prototype.getItemStyle=function(e,t){return Sy(this,e,t)},n}(),Er=function(){function n(e,t,i){this.parentModel=t,this.ecModel=i,this.option=e}return n.prototype.init=function(e,t,i){for(var r=[],o=3;o<arguments.length;o++)r[o-3]=arguments[o]},n.prototype.mergeOption=function(e,t){Xt(this.option,e,!0)},n.prototype.get=function(e,t){return null==e?this.option:this._doGet(this.parsePath(e),!t&&this.parentModel)},n.prototype.getShallow=function(e,t){var i=this.option,r=null==i?i:i[e];if(null==r&&!t){var o=this.parentModel;o&&(r=o.getShallow(e))}return r},n.prototype.getModel=function(e,t){var i=null!=e,r=i?this.parsePath(e):null;return new n(i?this._doGet(r):this.option,t=t||this.parentModel&&this.parentModel.getModel(this.resolveParentPath(r)),this.ecModel)},n.prototype.isEmpty=function(){return null==this.option},n.prototype.restoreData=function(){},n.prototype.clone=function(){return new this.constructor(Pt(this.option))},n.prototype.parsePath=function(e){return"string"==typeof e?e.split("."):e},n.prototype.resolveParentPath=function(e){return e},n.prototype.isAnimationEnabled=function(){if(!Wt.node&&this.option){if(null!=this.option.animation)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}},n.prototype._doGet=function(e,t){var i=this.option;if(!e)return i;for(var r=0;r<e.length&&(!e[r]||null!=(i=i&&"object"==typeof i?i[e[r]]:null));r++);return null==i&&t&&(i=t._doGet(this.resolveParentPath(e),t.parentModel)),i},n}();wu(Er),um=Er,cm=["__\0is_clz",Ch++].join("_"),um.prototype[cm]=!0,um.isInstance=function(n){return!(!n||!n[cm])},on(Er,Hw),on(Er,Ww),on(Er,Vx),on(Er,aA);var Vc=Math.round(10*Math.random());function wf(n){return[n||"",Vc++].join("_")}function Hc(n,e){return Xt(Xt({},n,!0),e,!0)}var Vs={},Cy={},Lu=Wt.domSupported&&(document.documentElement.lang||navigator.language||navigator.browserLanguage).toUpperCase().indexOf("ZH")>-1?"ZH":"EN";function Pu(n,e){n=n.toUpperCase(),Cy[n]=new Er(e),Vs[n]=e}function cs(n){return Cy[n]}Pu("EN",{time:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayOfWeekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},legend:{selector:{all:"All",inverse:"Inv"}},toolbox:{brush:{title:{rect:"Box Select",polygon:"Lasso Select",lineX:"Horizontally Select",lineY:"Vertically Select",keep:"Keep Selections",clear:"Clear Selections"}},dataView:{title:"Data View",lang:["Data View","Close","Refresh"]},dataZoom:{title:{zoom:"Zoom",back:"Zoom Reset"}},magicType:{title:{line:"Switch to Line Chart",bar:"Switch to Bar Chart",stack:"Stack",tiled:"Tile"}},restore:{title:"Restore"},saveAsImage:{title:"Save as Image",lang:["Right Click to Save Image"]}},series:{typeNames:{pie:"Pie chart",bar:"Bar chart",line:"Line chart",scatter:"Scatter plot",effectScatter:"Ripple scatter plot",radar:"Radar chart",tree:"Tree",treemap:"Treemap",boxplot:"Boxplot",candlestick:"Candlestick",k:"K line chart",heatmap:"Heat map",map:"Map",parallel:"Parallel coordinate map",lines:"Line graph",graph:"Relationship graph",sankey:"Sankey diagram",funnel:"Funnel chart",gauge:"Gauge",pictorialBar:"Pictorial bar",themeRiver:"Theme River Map",sunburst:"Sunburst"}},aria:{general:{withTitle:'This is a chart about "{title}"',withoutTitle:"This is a chart"},series:{single:{prefix:"",withName:" with type {seriesType} named {seriesName}.",withoutName:" with type {seriesType}."},multiple:{prefix:". It consists of {seriesCount} series count.",withName:" The {seriesId} series is a {seriesType} representing {seriesName}.",withoutName:" The {seriesId} series is a {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"The data is as follows: ",partialData:"The first {displayCnt} items are: ",withName:"the data for {name} is {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}}),Pu("ZH",{time:{month:["\u4e00\u6708","\u4e8c\u6708","\u4e09\u6708","\u56db\u6708","\u4e94\u6708","\u516d\u6708","\u4e03\u6708","\u516b\u6708","\u4e5d\u6708","\u5341\u6708","\u5341\u4e00\u6708","\u5341\u4e8c\u6708"],monthAbbr:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],dayOfWeek:["\u661f\u671f\u65e5","\u661f\u671f\u4e00","\u661f\u671f\u4e8c","\u661f\u671f\u4e09","\u661f\u671f\u56db","\u661f\u671f\u4e94","\u661f\u671f\u516d"],dayOfWeekAbbr:["\u65e5","\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d"]},legend:{selector:{all:"\u5168\u9009",inverse:"\u53cd\u9009"}},toolbox:{brush:{title:{rect:"\u77e9\u5f62\u9009\u62e9",polygon:"\u5708\u9009",lineX:"\u6a2a\u5411\u9009\u62e9",lineY:"\u7eb5\u5411\u9009\u62e9",keep:"\u4fdd\u6301\u9009\u62e9",clear:"\u6e05\u9664\u9009\u62e9"}},dataView:{title:"\u6570\u636e\u89c6\u56fe",lang:["\u6570\u636e\u89c6\u56fe","\u5173\u95ed","\u5237\u65b0"]},dataZoom:{title:{zoom:"\u533a\u57df\u7f29\u653e",back:"\u533a\u57df\u7f29\u653e\u8fd8\u539f"}},magicType:{title:{line:"\u5207\u6362\u4e3a\u6298\u7ebf\u56fe",bar:"\u5207\u6362\u4e3a\u67f1\u72b6\u56fe",stack:"\u5207\u6362\u4e3a\u5806\u53e0",tiled:"\u5207\u6362\u4e3a\u5e73\u94fa"}},restore:{title:"\u8fd8\u539f"},saveAsImage:{title:"\u4fdd\u5b58\u4e3a\u56fe\u7247",lang:["\u53f3\u952e\u53e6\u5b58\u4e3a\u56fe\u7247"]}},series:{typeNames:{pie:"\u997c\u56fe",bar:"\u67f1\u72b6\u56fe",line:"\u6298\u7ebf\u56fe",scatter:"\u6563\u70b9\u56fe",effectScatter:"\u6d9f\u6f2a\u6563\u70b9\u56fe",radar:"\u96f7\u8fbe\u56fe",tree:"\u6811\u56fe",treemap:"\u77e9\u5f62\u6811\u56fe",boxplot:"\u7bb1\u578b\u56fe",candlestick:"K\u7ebf\u56fe",k:"K\u7ebf\u56fe",heatmap:"\u70ed\u529b\u56fe",map:"\u5730\u56fe",parallel:"\u5e73\u884c\u5750\u6807\u56fe",lines:"\u7ebf\u56fe",graph:"\u5173\u7cfb\u56fe",sankey:"\u6851\u57fa\u56fe",funnel:"\u6f0f\u6597\u56fe",gauge:"\u4eea\u8868\u76d8\u56fe",pictorialBar:"\u8c61\u5f62\u67f1\u56fe",themeRiver:"\u4e3b\u9898\u6cb3\u6d41\u56fe",sunburst:"\u65ed\u65e5\u56fe"}},aria:{general:{withTitle:"\u8fd9\u662f\u4e00\u4e2a\u5173\u4e8e\u201c{title}\u201d\u7684\u56fe\u8868\u3002",withoutTitle:"\u8fd9\u662f\u4e00\u4e2a\u56fe\u8868\uff0c"},series:{single:{prefix:"",withName:"\u56fe\u8868\u7c7b\u578b\u662f{seriesType}\uff0c\u8868\u793a{seriesName}\u3002",withoutName:"\u56fe\u8868\u7c7b\u578b\u662f{seriesType}\u3002"},multiple:{prefix:"\u5b83\u7531{seriesCount}\u4e2a\u56fe\u8868\u7cfb\u5217\u7ec4\u6210\u3002",withName:"\u7b2c{seriesId}\u4e2a\u7cfb\u5217\u662f\u4e00\u4e2a\u8868\u793a{seriesName}\u7684{seriesType}\uff0c",withoutName:"\u7b2c{seriesId}\u4e2a\u7cfb\u5217\u662f\u4e00\u4e2a{seriesType}\uff0c",separator:{middle:"\uff1b",end:"\u3002"}}},data:{allData:"\u5176\u6570\u636e\u662f\u2014\u2014",partialData:"\u5176\u4e2d\uff0c\u524d{displayCnt}\u9879\u662f\u2014\u2014",withName:"{name}\u7684\u6570\u636e\u662f{value}",withoutName:"{value}",separator:{middle:"\uff0c",end:""}}}});var Oh=864e5,ky=31536e6,Wc={year:"{yyyy}",month:"{MMM}",day:"{d}",hour:"{HH}:{mm}",minute:"{HH}:{mm}",second:"{HH}:{mm}:{ss}",millisecond:"{HH}:{mm}:{ss} {SSS}",none:"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss} {SSS}"},Sb={year:"{yyyy}",month:"{yyyy}-{MM}",day:"{yyyy}-{MM}-{dd}",hour:"{yyyy}-{MM}-{dd} "+Wc.hour,minute:"{yyyy}-{MM}-{dd} "+Wc.minute,second:"{yyyy}-{MM}-{dd} "+Wc.second,millisecond:Wc.none},Cb=["year","month","day","hour","minute","second","millisecond"],kb=["year","half-year","quarter","month","week","half-week","day","half-day","quarter-day","hour","minute","second","millisecond"];function Ml(n,e){return"0000".substr(0,e-(n+="").length)+n}function Id(n){switch(n){case"half-year":case"quarter":return"month";case"week":case"half-week":return"day";case"half-day":case"quarter-day":return"hour";default:return n}}function sA(n){return n===Id(n)}function jc(n,e,t,i){var r=Ji(n),o=r[My(t)](),s=r[Dd(t)]()+1,l=Math.floor((s-1)/4)+1,u=r[dm(t)](),f=r["get"+(t?"UTC":"")+"Day"](),p=r[fm(t)](),m=(p-1)%12+1,b=r[Np(t)](),w=r[Rp(t)](),k=r[pm(t)](),M=(i instanceof Er?i:cs(i||Lu)||Cy.EN).getModel("time"),I=M.get("month"),O=M.get("monthAbbr"),B=M.get("dayOfWeek"),H=M.get("dayOfWeekAbbr");return(e||"").replace(/{yyyy}/g,o+"").replace(/{yy}/g,o%100+"").replace(/{Q}/g,l+"").replace(/{MMMM}/g,I[s-1]).replace(/{MMM}/g,O[s-1]).replace(/{MM}/g,Ml(s,2)).replace(/{M}/g,s+"").replace(/{dd}/g,Ml(u,2)).replace(/{d}/g,u+"").replace(/{eeee}/g,B[f]).replace(/{ee}/g,H[f]).replace(/{e}/g,f+"").replace(/{HH}/g,Ml(p,2)).replace(/{H}/g,p+"").replace(/{hh}/g,Ml(m+"",2)).replace(/{h}/g,m+"").replace(/{mm}/g,Ml(b,2)).replace(/{m}/g,b+"").replace(/{ss}/g,Ml(w,2)).replace(/{s}/g,w+"").replace(/{SSS}/g,Ml(k,3)).replace(/{S}/g,k+"")}function Ay(n,e){var t=Ji(n),i=t[Dd(e)]()+1,r=t[dm(e)](),o=t[fm(e)](),s=t[Np(e)](),l=t[Rp(e)](),u=0===t[pm(e)](),f=u&&0===l,p=f&&0===s,m=p&&0===o,b=m&&1===r;return b&&1===i?"year":b?"month":m?"day":p?"hour":f?"minute":u?"second":"millisecond"}function Ab(n,e,t){var i="number"==typeof n?Ji(n):n;switch(e=e||Ay(n,t)){case"year":return i[My(t)]();case"half-year":return i[Dd(t)]()>=6?1:0;case"quarter":return Math.floor((i[Dd(t)]()+1)/4);case"month":return i[Dd(t)]();case"day":return i[dm(t)]();case"half-day":return i[fm(t)]()/24;case"hour":return i[fm(t)]();case"minute":return i[Np(t)]();case"second":return i[Rp(t)]();case"millisecond":return i[pm(t)]()}}function My(n){return n?"getUTCFullYear":"getFullYear"}function Dd(n){return n?"getUTCMonth":"getMonth"}function dm(n){return n?"getUTCDate":"getDate"}function fm(n){return n?"getUTCHours":"getHours"}function Np(n){return n?"getUTCMinutes":"getMinutes"}function Rp(n){return n?"getUTCSeconds":"getSeconds"}function pm(n){return n?"getUTCMilliseconds":"getMilliseconds"}function Mb(n){return n?"setUTCFullYear":"setFullYear"}function Tb(n){return n?"setUTCMonth":"setMonth"}function Ty(n){return n?"setUTCDate":"setDate"}function Ib(n){return n?"setUTCHours":"setHours"}function gm(n){return n?"setUTCMinutes":"setMinutes"}function mm(n){return n?"setUTCSeconds":"setSeconds"}function vm(n){return n?"setUTCMilliseconds":"setMilliseconds"}function Sf(n){if(!Ps(n))return Ke(n)?n:"-";var e=(n+"").split(".");return e[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(e.length>1?"."+e[1]:"")}function _i(n,e){return n=(n||"").toLowerCase().replace(/-(.)/g,function(t,i){return i.toUpperCase()}),e&&n&&(n=n.charAt(0).toUpperCase()+n.slice(1)),n}var Cf=Oi,Iy=/([&<>"'])/g,Xw={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function Tl(n){return null==n?"":(n+"").replace(Iy,function(e,t){return Xw[t]})}function ym(n,e,t){function i(f){return f&&br(f)?f:"-"}function r(f){return!(null==f||isNaN(f)||!isFinite(f))}var o="time"===e,s=n instanceof Date;if(o||s){var l=o?Ji(n):n;if(!isNaN(+l))return jc(l,"{yyyy}-{MM}-{dd} {hh}:{mm}:{ss}",t);if(s)return"-"}if("ordinal"===e)return sn(n)?i(n):hn(n)&&r(n)?n+"":"-";var u=Po(n);return r(u)?Sf(u):sn(n)?i(n):"boolean"==typeof n?n+"":"-"}var Db=["a","b","c","d","e","f","g"],xm=function(n,e){return"{"+n+(null==e?"":e)+"}"};function Dy(n,e,t){Jt(e)||(e=[e]);var i=e.length;if(!i)return"";for(var r=e[0].$vars||[],o=0;o<r.length;o++){var s=Db[o];n=n.replace(xm(s),xm(s,0))}for(var l=0;l<i;l++)for(var u=0;u<r.length;u++){var f=e[l][r[u]];n=n.replace(xm(Db[u],l),t?Tl(f):f)}return n}function Eb(n,e){var t=Ke(n)?{color:n,extraCssText:e}:n||{},i=t.color,r=t.type;e=t.extraCssText;var o=t.renderMode||"html";return i?"html"===o?"subItem"===r?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+Tl(i)+";"+(e||"")+'"></span>':'<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:'+Tl(i)+";"+(e||"")+'"></span>':{renderMode:o,content:"{"+(t.markerId||"markerX")+"|}  ",style:"subItem"===r?{width:4,height:4,borderRadius:2,backgroundColor:i}:{width:10,height:10,borderRadius:5,backgroundColor:i}}:""}function Ed(n,e){return e=e||"transparent",Ke(n)?n:$e(n)&&n.colorStops&&(n.colorStops[0]||{}).color||e}function bm(n,e){if("_blank"===e||"blank"===e){var t=window.open();t.opener=null,t.location.href=n}else window.open(n,e)}var Bp=mt,Lb=["left","right","top","bottom","width","height"],Ld=[["width","left","right"],["height","top","bottom"]];function Ey(n,e,t,i,r){var o=0,s=0;null==i&&(i=1/0),null==r&&(r=1/0);var l=0;e.eachChild(function(u,f){var p,m,b=u.getBoundingRect(),w=e.childAt(f+1),k=w&&w.getBoundingRect();if("horizontal"===n){var M=b.width+(k?-k.x+b.x:0);(p=o+M)>i||u.newline?(o=0,p=M,s+=l+t,l=b.height):l=Math.max(l,b.height)}else{var I=b.height+(k?-k.y+b.y:0);(m=s+I)>r||u.newline?(o+=l+t,s=0,m=I,l=b.width):l=Math.max(l,b.width)}u.newline||(u.x=o,u.y=s,u.markRedraw(),"horizontal"===n?o=p+t:s=m+t)})}var kf=Ey;function Ca(n,e,t){t=Cf(t||0);var i=e.width,r=e.height,o=In(n.left,i),s=In(n.top,r),l=In(n.right,i),u=In(n.bottom,r),f=In(n.width,i),p=In(n.height,r),m=t[2]+t[0],b=t[1]+t[3],w=n.aspect;switch(isNaN(f)&&(f=i-l-b-o),isNaN(p)&&(p=r-u-m-s),null!=w&&(isNaN(f)&&isNaN(p)&&(w>i/r?f=.8*i:p=.8*r),isNaN(f)&&(f=w*p),isNaN(p)&&(p=f/w)),isNaN(o)&&(o=i-l-f-b),isNaN(s)&&(s=r-u-p-m),n.left||n.right){case"center":o=i/2-f/2-t[3];break;case"right":o=i-f-b}switch(n.top||n.bottom){case"middle":case"center":s=r/2-p/2-t[0];break;case"bottom":s=r-p-m}o=o||0,s=s||0,isNaN(f)&&(f=i-b-o-(l||0)),isNaN(p)&&(p=r-m-s-(u||0));var k=new Xi(o+t[3],s+t[0],f,p);return k.margin=t,k}function Ly(n,e,t,i,r){var o=!r||!r.hv||r.hv[0],s=!r||!r.hv||r.hv[1],l=r&&r.boundingMode||"all";if(o||s){var u;if("raw"===l)u="group"===n.type?new Xi(0,0,+e.width||0,+e.height||0):n.getBoundingRect();else if(u=n.getBoundingRect(),n.needLocalTransform()){var f=n.getLocalTransform();(u=u.clone()).applyTransform(f)}var p=Ca(se({width:u.width,height:u.height},e),t,i),m=o?p.x-u.x:0,b=s?p.y-u.y:0;"raw"===l?(n.x=m,n.y=b):(n.x+=m,n.y+=b),n.markRedraw()}}function _m(n){var e=n.layoutMode||n.constructor.layoutMode;return $e(e)?e:e?{type:e}:null}function Ou(n,e,t){var i=t&&t.ignoreSize;!Jt(i)&&(i=[i,i]);var r=s(Ld[0],0),o=s(Ld[1],1);function s(p,m){var b={},w=0,k={},M=0;if(Bp(p,function(B){k[B]=n[B]}),Bp(p,function(B){l(e,B)&&(b[B]=k[B]=e[B]),u(b,B)&&w++,u(k,B)&&M++}),i[m])return u(e,p[1])?k[p[2]]=null:u(e,p[2])&&(k[p[1]]=null),k;if(2!==M&&w){if(w>=2)return b;for(var I=0;I<p.length;I++){var O=p[I];if(!l(b,O)&&l(n,O)){b[O]=n[O];break}}return b}return k}function l(p,m){return p.hasOwnProperty(m)}function u(p,m){return null!=p[m]&&"auto"!==p[m]}function f(p,m,b){Bp(p,function(w){m[w]=b[w]})}f(Ld[0],n,r),f(Ld[1],n,o)}function Af(n){return Py({},n)}function Py(n,e){return e&&n&&Bp(Lb,function(t){e.hasOwnProperty(t)&&(n[t]=e[t])}),n}de(Ey,"vertical"),de(Ey,"horizontal");var n,e,Gw=ar(),rr=function(n){function e(t,i,r){var o=n.call(this,t,i,r)||this;return o.uid=wf("ec_cpt_model"),o}return Tt(e,n),e.prototype.init=function(t,i,r){this.mergeDefaultAndTheme(t,r)},e.prototype.mergeDefaultAndTheme=function(t,i){var r=_m(this),o=r?Af(t):{};Xt(t,i.getTheme().get(this.mainType)),Xt(t,this.getDefaultOption()),r&&Ou(t,o,r)},e.prototype.mergeOption=function(t,i){Xt(this.option,t,!0);var r=_m(this);r&&Ou(this.option,t,r)},e.prototype.optionUpdated=function(t,i){},e.prototype.getDefaultOption=function(){var f,t=this.constructor;if(!(f=t)||!f[lf])return t.defaultOption;var i=Gw(this);if(!i.defaultOption){for(var r=[],o=t;o;){var s=o.prototype.defaultOption;s&&r.push(s),o=o.superClass}for(var l={},u=r.length-1;u>=0;u--)l=Xt(l,r[u],!0);i.defaultOption=l}return i.defaultOption},e.prototype.getReferringComponents=function(t,i){var o=t+"Id";return Sh(this.ecModel,t,{index:this.get(t+"Index",!0),id:this.get(o,!0)},i)},e.prototype.getBoxLayoutParams=function(){var t=this;return{left:t.get("left"),top:t.get("top"),right:t.get("right"),bottom:t.get("bottom"),width:t.get("width"),height:t.get("height")}},e.protoInitialize=((t=e.prototype).type="component",t.id="",t.name="",t.mainType="",t.subType="",void(t.componentIndex=0)),e;var t}(Er);ql(rr,Er),Go(rr),e={},(n=rr).registerSubTypeDefaulter=function(t,i){var r=Wa(t);e[r.main]=i},n.determineSubType=function(t,i){var r=i.type;if(!r){var o=Wa(t).main;n.hasSubTypes(t)&&e[o]&&(r=e[o](i))}return r},function(n,e){function t(i,r){return i[r]||(i[r]={predecessor:[],successor:[]}),i[r]}n.topologicalTravel=function(i,r,o,s){if(i.length){var l=(O={},B=[],mt(I=r,function(H){var $,et,at,X=t(O,H),U=($=X.originalDeps=function(n){var e=[];return mt(rr.getClassesByMainType(n),function(t){e=e.concat(t.dependencies||t.prototype.dependencies||[])}),e=zt(e,function(t){return Wa(t).main}),"dataset"!==n&&Ne(e,"dataset")<=0&&e.unshift("dataset"),e}(H),et=I,at=[],mt($,function(At){Ne(et,At)>=0&&at.push(At)}),at);X.entryCount=U.length,0===X.entryCount&&B.push(H),mt(U,function($){Ne(X.predecessor,$)<0&&X.predecessor.push($);var et=t(O,$);Ne(et.successor,$)<0&&et.successor.push(H)})}),{graph:O,noEntryList:B}),u=l.graph,f=l.noEntryList,p={};for(mt(i,function(I){p[I]=!0});f.length;){var m=f.pop(),b=u[m],w=!!p[m];w&&(o.call(s,m,b.originalDeps.slice()),delete p[m]),mt(b.successor,w?M:k)}mt(p,function(){throw new Error("")})}var I,O,B;function k(I){u[I].entryCount--,0===u[I].entryCount&&f.push(I)}function M(I){p[I]=!0,k(I)}}}(rr);var Pb="";"undefined"!=typeof navigator&&(Pb=navigator.platform||"");var Pd="rgba(0, 0, 0, 0.2)",qw={darkMode:"auto",colorBy:"series",color:["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc"],gradientColor:["#f6efa6","#d88273","#bf444c"],aria:{decal:{decals:[{color:Pd,dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:Pd,symbol:"circle",dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:.8},{color:Pd,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:Pd,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:Pd,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:Pd,symbol:"triangle",dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:.75}]}},textStyle:{fontFamily:Pb.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,stateAnimation:{duration:300,easing:"cubicOut"},animation:"auto",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicInOut",animationEasingUpdate:"cubicInOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1},Ob=ii(["tooltip","label","itemName","itemId","itemGroupId","seriesName"]),Od="original",Nu="arrayRows",Yc="objectRows",zp="keyedColumns",Nh="typedArray",Uw="unknown",Mf="column",Nb=ar();function Rb(n,e,t){var i={},r=wm(e);if(!r||!n)return i;var o,s,l=[],u=[],p=Nb(e.ecModel).datasetMap,m=r.uid+"_"+t.seriesLayoutBy;mt(n=n.slice(),function(M,I){var O=$e(M)?M:n[I]={name:M};"ordinal"===O.type&&null==o&&(o=I,s=k(O)),i[O.name]=[]});var b=p.get(m)||p.set(m,{categoryWayDim:s,valueWayDim:0});function w(M,I,O){for(var B=0;B<O;B++)M.push(I+B)}function k(M){var I=M.dimsDef;return I?I.length:1}return mt(n,function(M,I){var O=M.name,B=k(M);if(null==o){var H=b.valueWayDim;w(i[O],H,B),w(u,H,B),b.valueWayDim+=B}else o===I?(w(i[O],0,B),w(l,0,B)):(w(i[O],H=b.categoryWayDim,B),w(u,H,B),b.categoryWayDim+=B)}),l.length&&(i.itemName=l),u.length&&(i.seriesName=u),i}function Ny(n,e,t){var i={};if(!wm(n))return i;var r,o=e.sourceFormat,s=e.dimensionsDefine;o!==Yc&&o!==zp||mt(s,function(f,p){"name"===($e(f)?f.name:f)&&(r=p)});var l=function(){for(var f={},p={},m=[],b=0,w=Math.min(5,t);b<w;b++){var k=Bb(e.data,o,e.seriesLayoutBy,s,e.startIndex,b);m.push(k);var M=3===k;if(M&&null==f.v&&b!==r&&(f.v=b),(null==f.n||f.n===f.v||!M&&3===m[f.n])&&(f.n=b),I(f)&&3!==m[f.n])return f;M||(2===k&&null==p.v&&b!==r&&(p.v=b),null!=p.n&&p.n!==p.v||(p.n=b))}function I(O){return null!=O.v&&null!=O.n}return I(f)?f:I(p)?p:null}();if(l){i.value=[l.v];var u=null!=r?r:l.n;i.itemName=[u],i.seriesName=[u]}return i}function wm(n){if(!n.get("data",!0))return Sh(n.ecModel,"dataset",{index:n.get("datasetIndex",!0),id:n.get("datasetId",!0)},Mo).models[0]}function Sm(n,e){return Bb(n.data,n.sourceFormat,n.seriesLayoutBy,n.dimensionsDefine,n.startIndex,e)}function Bb(n,e,t,i,r,o){var s,l,u;if(ui(n))return 3;if(i){var f=i[o];$e(f)?(l=f.name,u=f.type):Ke(f)&&(l=f)}if(null!=u)return"ordinal"===u?1:3;if(e===Nu){var p=n;if("row"===t){for(var m=p[o],b=0;b<(m||[]).length&&b<5;b++)if(null!=(s=B(m[r+b])))return s}else for(b=0;b<p.length&&b<5;b++){var w=p[r+b];if(w&&null!=(s=B(w[o])))return s}}else if(e===Yc){var k=n;if(!l)return 3;for(b=0;b<k.length&&b<5;b++)if((I=k[b])&&null!=(s=B(I[l])))return s}else if(e===zp){if(!l||!(m=n[l])||ui(m))return 3;for(b=0;b<m.length&&b<5;b++)if(null!=(s=B(m[b])))return s}else if(e===Od){var M=n;for(b=0;b<M.length&&b<5;b++){var I,O=rl(I=M[b]);if(!Jt(O))return 3;if(null!=(s=B(O[o])))return s}}function B(H){var X=Ke(H);return null!=H&&isFinite(H)&&""!==H?X?2:3:X&&"-"!==H?1:void 0}return 3}var Cm,km,$w,Tf=ii(),Zw=ar(),zb=ar(),Fb=function(){function n(){}return n.prototype.getColorFromPalette=function(e,t,i){var r=mr(this.get("color",!0)),o=this.get("colorLayer",!0);return Vb(this,Zw,r,o,e,t,i)},n.prototype.clearColorPalette=function(){!function(e,t){t(e).paletteIdx=0,t(e).paletteNameMap={}}(this,Zw)},n}();function Vp(n,e,t,i){var r=mr(n.get(["aria","decal","decals"]));return Vb(n,zb,r,null,e,t,i)}function Vb(n,e,t,i,r,o,s){var l=e(o=o||n),u=l.paletteIdx||0,f=l.paletteNameMap=l.paletteNameMap||{};if(f.hasOwnProperty(r))return f[r];var p=null!=s&&i?function(b,w){for(var k=b.length,M=0;M<k;M++)if(b[M].length>w)return b[M];return b[k-1]}(i,s):t;if((p=p||t)&&p.length){var m=p[u];return r&&(f[r]=m),l.paletteIdx=(u+1)%p.length,m}}var Hb=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return Tt(e,n),e.prototype.init=function(t,i,r,o,s,l){o=o||{},this.option=null,this._theme=new Er(o),this._locale=new Er(s),this._optionManager=l},e.prototype.setOption=function(t,i,r){var o=By(i);this._optionManager.setOption(t,r,o),this._resetOption(null,o)},e.prototype.resetOption=function(t,i){return this._resetOption(t,By(i))},e.prototype._resetOption=function(t,i){var r=!1,o=this._optionManager;if(!t||"recreate"===t){var s=o.mountOption("recreate"===t);this.option&&"recreate"!==t?(this.restoreData(),this._mergeOption(s,i)):$w(this,s),r=!0}if("timeline"!==t&&"media"!==t||this.restoreData(),!t||"recreate"===t||"timeline"===t){var l=o.getTimelineOption(this);l&&(r=!0,this._mergeOption(l,i))}if(!t||"recreate"===t||"media"===t){var u=o.getMediaOption(this);u.length&&mt(u,function(f){r=!0,this._mergeOption(f,i)},this)}return r},e.prototype.mergeOption=function(t){this._mergeOption(t,null)},e.prototype._mergeOption=function(t,i){var r=this.option,o=this._componentsMap,s=this._componentsCount,l=[],u=ii(),f=i&&i.replaceMergeMainTypeMap;Nb(this).datasetMap=ii(),mt(t,function(p,m){null!=p&&(rr.hasClass(m)?m&&(l.push(m),u.set(m,!0)):r[m]=null==r[m]?Pt(p):Xt(r[m],p,!0))}),f&&f.each(function(p,m){rr.hasClass(m)&&!u.get(m)&&(l.push(m),u.set(m,!0))}),rr.topologicalTravel(l,rr.getAllClassMainTypes(),function(p){var H,X,m=function(B,H,X){var U=Tf.get(H);if(!U)return X;var $=U(B);return $?X.concat($):X}(this,p,mr(t[p])),b=o.get(p),k=Ku(b,m,b?f&&f.get(p)?"replaceMerge":"normalMerge":"replaceAll");H=p,X=rr,mt(k,function(U){var at,At,$=U.newOption;$e($)&&(U.keyInfo.mainType=H,U.keyInfo.subType=(At=U.existing,(at=$).type?at.type:At?At.subType:X.determineSubType(H,at)))}),r[p]=null,o.set(p,null),s.set(p,0);var M=[],I=[],O=0;mt(k,function(B,H){var X=B.existing,U=B.newOption;if(U){var et=rr.getClass(p,B.keyInfo.subType,!("series"===p));if(!et)return;if(X&&X.constructor===et)X.name=B.keyInfo.name,X.mergeOption(U,this),X.optionUpdated(U,!1);else{var at=Dt({componentIndex:H},B.keyInfo);Dt(X=new et(U,this,this,at),at),B.brandNew&&(X.__requireNewView=!0),X.init(U,this,this),X.optionUpdated(null,!0)}}else X&&(X.mergeOption({},this),X.optionUpdated({},!1));X?(M.push(X.option),I.push(X),O++):(M.push(void 0),I.push(void 0))},this),r[p]=M,o.set(p,I),s.set(p,O),"series"===p&&Cm(this)},this),this._seriesIndices||Cm(this)},e.prototype.getOption=function(){var t=Pt(this.option);return mt(t,function(i,r){if(rr.hasClass(r)){for(var o=mr(i),s=o.length,l=!1,u=s-1;u>=0;u--)o[u]&&!_u(o[u])?l=!0:(o[u]=null,!l&&s--);o.length=s,t[r]=o}}),delete t["\0_ec_inner"],t},e.prototype.getTheme=function(){return this._theme},e.prototype.getLocaleModel=function(){return this._locale},e.prototype.setUpdatePayload=function(t){this._payload=t},e.prototype.getUpdatePayload=function(){return this._payload},e.prototype.getComponent=function(t,i){var r=this._componentsMap.get(t);if(r){var o=r[i||0];if(o)return o;if(null==i)for(var s=0;s<r.length;s++)if(r[s])return r[s]}},e.prototype.queryComponents=function(t){var i=t.mainType;if(!i)return[];var r,o=t.index,s=t.id,l=t.name,u=this._componentsMap.get(i);return u&&u.length?(null!=o?(r=[],mt(mr(o),function(f){u[f]&&r.push(u[f])})):r=null!=s?Wb("id",s,u):null!=l?Wb("name",l,u):Ae(u,function(f){return!!f}),Ry(r,t)):[]},e.prototype.findComponents=function(t){var i,r,o,s,l,f=t.mainType,p=(r=f+"Index",o=f+"Id",s=f+"Name",!(i=t.query)||null==i[r]&&null==i[o]&&null==i[s]?null:{mainType:f,index:i[r],id:i[o],name:i[s]});return l=Ry(p?this.queryComponents(p):Ae(this._componentsMap.get(f),function(b){return!!b}),t),t.filter?Ae(l,t.filter):l},e.prototype.eachComponent=function(t,i,r){var o=this._componentsMap;if(Fe(t)){var s=i,l=t;o.each(function(m,b){for(var w=0;m&&w<m.length;w++){var k=m[w];k&&l.call(s,b,k,k.componentIndex)}})}else for(var u=Ke(t)?o.get(t):$e(t)?this.findComponents(t):null,f=0;u&&f<u.length;f++){var p=u[f];p&&i.call(r,p,p.componentIndex)}},e.prototype.getSeriesByName=function(t){var i=No(t,null);return Ae(this._componentsMap.get("series"),function(r){return!!r&&null!=i&&r.name===i})},e.prototype.getSeriesByIndex=function(t){return this._componentsMap.get("series")[t]},e.prototype.getSeriesByType=function(t){return Ae(this._componentsMap.get("series"),function(i){return!!i&&i.subType===t})},e.prototype.getSeries=function(){return Ae(this._componentsMap.get("series"),function(t){return!!t})},e.prototype.getSeriesCount=function(){return this._componentsCount.get("series")},e.prototype.eachSeries=function(t,i){km(this),mt(this._seriesIndices,function(r){var o=this._componentsMap.get("series")[r];t.call(i,o,r)},this)},e.prototype.eachRawSeries=function(t,i){mt(this._componentsMap.get("series"),function(r){r&&t.call(i,r,r.componentIndex)})},e.prototype.eachSeriesByType=function(t,i,r){km(this),mt(this._seriesIndices,function(o){var s=this._componentsMap.get("series")[o];s.subType===t&&i.call(r,s,o)},this)},e.prototype.eachRawSeriesByType=function(t,i,r){return mt(this.getSeriesByType(t),i,r)},e.prototype.isSeriesFiltered=function(t){return km(this),null==this._seriesIndicesMap.get(t.componentIndex)},e.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()},e.prototype.filterSeries=function(t,i){km(this);var r=[];mt(this._seriesIndices,function(o){var s=this._componentsMap.get("series")[o];t.call(i,s,o)&&r.push(o)},this),this._seriesIndices=r,this._seriesIndicesMap=ii(r)},e.prototype.restoreData=function(t){Cm(this);var i=this._componentsMap,r=[];i.each(function(o,s){rr.hasClass(s)&&r.push(s)}),rr.topologicalTravel(r,rr.getAllClassMainTypes(),function(o){mt(i.get(o),function(s){!s||"series"===o&&function(l,u){if(u){var f=u.seriesIndex,p=u.seriesId,m=u.seriesName;return null!=f&&l.componentIndex!==f||null!=p&&l.id!==p||null!=m&&l.name!==m}}(s,t)||s.restoreData()})})},e.internalField=(Cm=function(t){var i=t._seriesIndices=[];mt(t._componentsMap.get("series"),function(r){r&&i.push(r.componentIndex)}),t._seriesIndicesMap=ii(i)},km=function(t){},void($w=function(t,i){t.option={},t.option["\0_ec_inner"]=1,t._componentsMap=ii({series:[]}),t._componentsCount=ii();var o,l,r=i.aria;$e(r)&&null==r.enabled&&(r.enabled=!0),l=(o=i).color&&!o.colorLayer,mt(t._theme.option,function(u,f){"colorLayer"===f&&l||rr.hasClass(f)||("object"==typeof u?o[f]=o[f]?Xt(o[f],u,!1):Pt(u):null==o[f]&&(o[f]=u))}),Xt(i,qw,!1),t._mergeOption(i,null)})),e}(Er);function Wb(n,e,t){if(Jt(e)){var i=ii();return mt(e,function(o){null!=o&&null!=No(o,null)&&i.set(o,!0)}),Ae(t,function(o){return o&&i.get(o[n])})}var r=No(e,null);return Ae(t,function(o){return o&&null!=r&&o[n]===r})}function Ry(n,e){return e.hasOwnProperty("subType")?Ae(n,function(t){return t&&t.subType===e.subType}):n}function By(n){var e=ii();return n&&mt(mr(n.replaceMerge),function(t){e.set(t,!0)}),{replaceMergeMainTypeMap:e}}on(Hb,Fb);var lA=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isDisposed","on","off","getDataURL","getConnectedDataURL","getOption","getId","updateLabelLayout"],ru=function(n){mt(lA,function(e){this[e]=_e(n[e],n)},this)},$a={},Rd=function(){function n(){this._coordinateSystems=[]}return n.prototype.create=function(e,t){var i=[];mt($a,function(r,o){var s=r.create(e,t);i=i.concat(s||[])}),this._coordinateSystems=i},n.prototype.update=function(e,t){mt(this._coordinateSystems,function(i){i.update&&i.update(e,t)})},n.prototype.getCoordinateSystems=function(){return this._coordinateSystems.slice()},n.register=function(e,t){$a[e]=t},n.get=function(e){return $a[e]},n}(),Kw=/^(min|max)?(.+)$/,uA=function(){function n(e){this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[],this._api=e}return n.prototype.setOption=function(e,t,i){e&&(mt(mr(e.series),function(s){s&&s.data&&ui(s.data)&&nr(s.data)}),mt(mr(e.dataset),function(s){s&&s.source&&ui(s.source)&&nr(s.source)})),e=Pt(e);var r=this._optionBackup,o=function(s,l,u){var f,p,m=[],b=s.baseOption,w=s.timeline,k=s.options,M=s.media,I=!!s.media,O=!!(k||w||b&&b.timeline);function B(H){mt(l,function(X){X(H,u)})}return b?(p=b).timeline||(p.timeline=w):((O||I)&&(s.options=s.media=null),p=s),I&&Jt(M)&&mt(M,function(H){H&&H.option&&(H.query?m.push(H):f||(f=H))}),B(p),mt(k,function(H){return B(H)}),mt(m,function(H){return B(H.option)}),{baseOption:p,timelineOptions:k||[],mediaDefault:f,mediaList:m}}(e,t,!r);this._newBaseOption=o.baseOption,r?(o.timelineOptions.length&&(r.timelineOptions=o.timelineOptions),o.mediaList.length&&(r.mediaList=o.mediaList),o.mediaDefault&&(r.mediaDefault=o.mediaDefault)):this._optionBackup=o},n.prototype.mountOption=function(e){var t=this._optionBackup;return this._timelineOptions=t.timelineOptions,this._mediaList=t.mediaList,this._mediaDefault=t.mediaDefault,this._currentMediaIndices=[],Pt(e?t.baseOption:this._newBaseOption)},n.prototype.getTimelineOption=function(e){var t,i=this._timelineOptions;if(i.length){var r=e.getComponent("timeline");r&&(t=Pt(i[r.getCurrentIndex()]))}return t},n.prototype.getMediaOption=function(e){var i,r=this._api.getWidth(),o=this._api.getHeight(),s=this._mediaList,l=this._mediaDefault,u=[],f=[];if(!s.length&&!l)return f;for(var p=0,m=s.length;p<m;p++)cA(s[p].query,r,o)&&u.push(p);return!u.length&&l&&(u=[-1]),u.length&&(i=this._currentMediaIndices,u.join(",")!==i.join(","))&&(f=zt(u,function(b){return Pt(-1===b?l.option:s[b].option)})),this._currentMediaIndices=u,f},n}();function cA(n,e,t){var i={width:e,height:t,aspectratio:e/t},r=!0;return mt(n,function(o,s){var p,m,b,l=s.match(Kw);if(l&&l[1]&&l[2]){var u=l[1],f=l[2].toLowerCase();p=i[f],m=o,("min"===(b=u)?p>=m:"max"===b?p<=m:p===m)||(r=!1)}}),r}var cc=mt,Am=$e,Rh=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function Hs(n){var e=n&&n.itemStyle;if(e)for(var t=0,i=Rh.length;t<i;t++){var r=Rh[t],o=e.normal,s=e.emphasis;o&&o[r]&&(n[r]=n[r]||{},n[r].normal?Xt(n[r].normal,o[r]):n[r].normal=o[r],o[r]=null),s&&s[r]&&(n[r]=n[r]||{},n[r].emphasis?Xt(n[r].emphasis,s[r]):n[r].emphasis=s[r],s[r]=null)}}function hs(n,e,t){if(n&&n[e]&&(n[e].normal||n[e].emphasis)){var i=n[e].normal,r=n[e].emphasis;i&&(t?(n[e].normal=n[e].emphasis=null,se(n[e],i)):n[e]=i),r&&(n.emphasis=n.emphasis||{},n.emphasis[e]=r,r.focus&&(n.emphasis.focus=r.focus),r.blurScope&&(n.emphasis.blurScope=r.blurScope))}}function Bd(n){hs(n,"itemStyle"),hs(n,"lineStyle"),hs(n,"areaStyle"),hs(n,"label"),hs(n,"labelLine"),hs(n,"upperLabel"),hs(n,"edgeLabel")}function ka(n,e){var t=Am(n)&&n[e],i=Am(t)&&t.textStyle;if(i)for(var r=0,o=ms.length;r<o;r++){var s=ms[r];i.hasOwnProperty(s)&&(t[s]=i[s])}}function Il(n){n&&(Bd(n),ka(n,"label"),n.emphasis&&ka(n.emphasis,"label"))}function Xc(n){return Jt(n)?n:n?[n]:[]}function jb(n){return(Jt(n)?n[0]:n)||{}}function If(n){n&&mt(hA,function(e){e[0]in n&&!(e[1]in n)&&(n[e[1]]=n[e[0]])})}var hA=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],dA=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],zy=[["borderRadius","barBorderRadius"],["borderColor","barBorderColor"],["borderWidth","barBorderWidth"]];function Hp(n){var e=n&&n.itemStyle;if(e)for(var t=0;t<zy.length;t++){var i=zy[t][1];null!=e[i]&&(e[zy[t][0]]=e[i])}}function Fy(n){n&&"edge"===n.alignTo&&null!=n.margin&&null==n.edgeDistance&&(n.edgeDistance=n.margin)}function Yb(n){n&&n.downplay&&!n.blur&&(n.blur=n.downplay)}function Jw(n,e){if(n)for(var t=0;t<n.length;t++)e(n[t]),n[t]&&Jw(n[t].children,e)}function Bh(n,e){(function(n,e){cc(Xc(n.series),function(i){Am(i)&&function(r){if(Am(r)){Hs(r),Bd(r),ka(r,"label"),ka(r,"upperLabel"),ka(r,"edgeLabel"),r.emphasis&&(ka(r.emphasis,"label"),ka(r.emphasis,"upperLabel"),ka(r.emphasis,"edgeLabel"));var o=r.markPoint;o&&(Hs(o),Il(o));var s=r.markLine;s&&(Hs(s),Il(s));var l=r.markArea;l&&Il(l);var u=r.data;if("graph"===r.type){u=u||r.nodes;var f=r.links||r.edges;if(f&&!ui(f))for(var p=0;p<f.length;p++)Il(f[p]);mt(r.categories,function(w){Bd(w)})}if(u&&!ui(u))for(p=0;p<u.length;p++)Il(u[p]);if((o=r.markPoint)&&o.data){var m=o.data;for(p=0;p<m.length;p++)Il(m[p])}if((s=r.markLine)&&s.data){var b=s.data;for(p=0;p<b.length;p++)Jt(b[p])?(Il(b[p][0]),Il(b[p][1])):Il(b[p])}"gauge"===r.type?(ka(r,"axisLabel"),ka(r,"title"),ka(r,"detail")):"treemap"===r.type?(hs(r.breadcrumb,"itemStyle"),mt(r.levels,function(w){Bd(w)})):"tree"===r.type&&Bd(r.leaves)}}(i)});var t=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];e&&t.push("valueAxis","categoryAxis","logAxis","timeAxis"),cc(t,function(i){cc(Xc(n[i]),function(r){r&&(ka(r,"axisLabel"),ka(r.axisPointer,"label"))})}),cc(Xc(n.parallel),function(i){var r=i&&i.parallelAxisDefault;ka(r,"axisLabel"),ka(r&&r.axisPointer,"label")}),cc(Xc(n.calendar),function(i){hs(i,"itemStyle"),ka(i,"dayLabel"),ka(i,"monthLabel"),ka(i,"yearLabel")}),cc(Xc(n.radar),function(i){ka(i,"name"),i.name&&null==i.axisName&&(i.axisName=i.name,delete i.name),null!=i.nameGap&&null==i.axisNameGap&&(i.axisNameGap=i.nameGap,delete i.nameGap)}),cc(Xc(n.geo),function(i){Am(i)&&(Il(i),cc(Xc(i.regions),function(r){Il(r)}))}),cc(Xc(n.timeline),function(i){Il(i),hs(i,"label"),hs(i,"itemStyle"),hs(i,"controlStyle",!0);var r=i.data;Jt(r)&&mt(r,function(o){$e(o)&&(hs(o,"label"),hs(o,"itemStyle"))})}),cc(Xc(n.toolbox),function(i){hs(i,"iconStyle"),cc(i.feature,function(r){hs(r,"iconStyle")})}),ka(jb(n.axisPointer),"label"),ka(jb(n.tooltip).axisPointer,"label")})(n,e),n.series=mr(n.series),mt(n.series,function(t){if($e(t)){var i=t.type;if("line"===i)null!=t.clipOverflow&&(t.clip=t.clipOverflow);else if("pie"===i||"gauge"===i){if(null!=t.clockWise&&(t.clockwise=t.clockWise),Fy(t.label),(s=t.data)&&!ui(s))for(var r=0;r<s.length;r++)Fy(s[r]);null!=t.hoverOffset&&(t.emphasis=t.emphasis||{},(t.emphasis.scaleSize=null)&&(t.emphasis.scaleSize=t.hoverOffset))}else if("gauge"===i){var o=function(u,f){for(var p="pointer.color".split(","),m=u,b=0;b<p.length&&null!=(m=m&&m[p[b]]);b++);return m}(t);null!=o&&function(u,f,p,m){for(var b,w="itemStyle.color".split(","),k=u,M=0;M<w.length-1;M++)null==k[b=w[M]]&&(k[b]={}),k=k[b];null==k[w[M]]&&(k[w[M]]=p)}(t,0,o)}else if("bar"===i){var s;if(Hp(t),Hp(t.backgroundStyle),Hp(t.emphasis),(s=t.data)&&!ui(s))for(r=0;r<s.length;r++)"object"==typeof s[r]&&(Hp(s[r]),Hp(s[r]&&s[r].emphasis))}else if("sunburst"===i){var l=t.highlightPolicy;l&&(t.emphasis=t.emphasis||{},t.emphasis.focus||(t.emphasis.focus=l)),Yb(t),Jw(t.data,Yb)}else"graph"===i||"sankey"===i?(u=t)&&null!=u.focusNodeAdjacency&&(u.emphasis=u.emphasis||{},null==u.emphasis.focus&&(u.emphasis.focus="adjacency")):"map"===i&&(t.mapType&&!t.map&&(t.map=t.mapType),t.mapLocation&&se(t,t.mapLocation));null!=t.hoverAnimation&&(t.emphasis=t.emphasis||{},t.emphasis&&null==t.emphasis.scale&&(t.emphasis.scale=t.hoverAnimation)),If(t)}var u}),n.dataRange&&(n.visualMap=n.dataRange),mt(dA,function(t){var i=n[t];i&&(Jt(i)||(i=[i]),mt(i,function(r){If(r)}))})}function tS(n){mt(n,function(e,t){var i=[],r=[NaN,NaN],s=e.data,l=e.isStackedByIndex;s.modify([e.stackResultDimension,e.stackedOverDimension],function(u,f,p){var m,b,w=s.get(e.stackedDimension,p);if(isNaN(w))return r;l?b=s.getRawIndex(p):m=s.get(e.stackedByDimension,p);for(var k=NaN,M=t-1;M>=0;M--){var I=n[M];if(l||(b=I.data.rawIndexOf(I.stackedByDimension,m)),b>=0){var O=I.data.getByRawIndex(I.stackResultDimension,b);if(w>=0&&O>0||w<=0&&O<0){w=cr(w,O),k=O;break}}}return i[0]=w,i[1]=k,i})})}var Df,Bu,Wp,Xb,Gc,jp=function(n){this.data=n.data||(n.sourceFormat===zp?{}:[]),this.sourceFormat=n.sourceFormat||Uw,this.seriesLayoutBy=n.seriesLayoutBy||Mf,this.startIndex=n.startIndex||0,this.dimensionsDetectedCount=n.dimensionsDetectedCount,this.metaRawOption=n.metaRawOption;var e=this.dimensionsDefine=n.dimensionsDefine;if(e)for(var t=0;t<e.length;t++){var i=e[t];null==i.type&&1===Sm(this,t)&&(i.type="ordinal")}};function Vy(n){return n instanceof jp}function Hy(n,e,t){t=t||eS(n);var i=e.seriesLayoutBy,r=function(o,s,l,u,f){var p,m;if(!o)return{dimensionsDefine:Mm(f),startIndex:m,dimensionsDetectedCount:p};if(s===Nu){var b=o;"auto"===u||null==u?jy(function(k){null!=k&&"-"!==k&&(Ke(k)?null==m&&(m=1):m=0)},l,b,10):m=hn(u)?u:u?1:0,f||1!==m||(f=[],jy(function(k,M){f[M]=null!=k?k+"":""},l,b,1/0)),p=f?f.length:"row"===l?b.length:b[0]?b[0].length:null}else if(s===Yc)f||(f=function(k){for(var M,I=0;I<k.length&&!(M=k[I++]););if(M){var O=[];return mt(M,function(B,H){O.push(H)}),O}}(o));else if(s===zp)f||(f=[],mt(o,function(k,M){f.push(M)}));else if(s===Od){var w=rl(o[0]);p=Jt(w)&&w.length||1}return{startIndex:m,dimensionsDefine:Mm(f),dimensionsDetectedCount:p}}(n,t,i,e.sourceHeader,e.dimensions);return new jp({data:n,sourceFormat:t,seriesLayoutBy:i,dimensionsDefine:r.dimensionsDefine,startIndex:r.startIndex,dimensionsDetectedCount:r.dimensionsDetectedCount,metaRawOption:Pt(e)})}function Wy(n){return new jp({data:n,sourceFormat:ui(n)?Nh:Od})}function eS(n){var e=Uw;if(ui(n))e=Nh;else if(Jt(n)){0===n.length&&(e=Nu);for(var t=0,i=n.length;t<i;t++){var r=n[t];if(null!=r){if(Jt(r)){e=Nu;break}if($e(r)){e=Yc;break}}}}else if($e(n))for(var o in n)if(ei(n,o)&&an(n[o])){e=zp;break}return e}function Mm(n){if(n){var e=ii();return zt(n,function(t,i){var r={name:(t=$e(t)?t:{name:t}).name,displayName:t.displayName,type:t.type};if(null==r.name)return r;r.name+="",null==r.displayName&&(r.displayName=r.name);var o=e.get(r.name);return o?r.name+="-"+o.count++:e.set(r.name,{count:1}),r})}}function jy(n,e,t,i){if("row"===e)for(var r=0;r<t.length&&r<i;r++)n(t[r]?t[r][0]:null,r);else{var o=t[0]||[];for(r=0;r<o.length&&r<i;r++)n(o[r],r)}}function Yy(n){var e=n.sourceFormat;return e===Yc||e===zp}var Gb=function(){function n(e,t){var i=Vy(e)?e:Wy(e);this._source=i;var r=this._data=i.data;i.sourceFormat===Nh&&(this._offset=0,this._dimSize=t,this._data=r),Gc(this,r,i)}return n.prototype.getSource=function(){return this._source},n.prototype.count=function(){return 0},n.prototype.getItem=function(e,t){},n.prototype.appendData=function(e){},n.prototype.clean=function(){},n.protoInitialize=function(){var e=n.prototype;e.pure=!1,e.persistent=!0}(),n.internalField=function(){var e;Gc=function(s,l,u){var f=u.sourceFormat,p=u.seriesLayoutBy,m=u.startIndex,b=u.dimensionsDefine;if(Dt(s,Xb[$b(f,p)]),f===Nh)s.getItem=t,s.count=r,s.fillStorage=i;else{var k=Ub(f,p);s.getItem=_e(k,null,l,m,b);var M=Tm(f,p);s.count=_e(M,null,l,m,b)}};var t=function(s,l){l=l||[];for(var u=this._data,f=this._dimSize,p=f*(s-=this._offset),m=0;m<f;m++)l[m]=u[p+m];return l},i=function(s,l,u,f){for(var p=this._data,m=this._dimSize,b=0;b<m;b++){for(var w=f[b],k=null==w[0]?1/0:w[0],M=null==w[1]?-1/0:w[1],I=l-s,O=u[b],B=0;B<I;B++){var H=p[B*m+b];O[s+B]=H,H<k&&(k=H),H>M&&(M=H)}w[0]=k,w[1]=M}},r=function(){return this._data?this._data.length/this._dimSize:0};function o(s){for(var l=0;l<s.length;l++)this._data.push(s[l])}(e={}).arrayRows_column={pure:!0,appendData:o},e.arrayRows_row={pure:!0,appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},e.objectRows={pure:!0,appendData:o},e.keyedColumns={pure:!0,appendData:function(s){var l=this._data;mt(s,function(u,f){for(var p=l[f]||(l[f]=[]),m=0;m<(u||[]).length;m++)p.push(u[m])})}},e.original={appendData:o},e.typedArray={persistent:!1,pure:!0,appendData:function(s){this._data=s},clean:function(){this._offset+=this.count(),this._data=null}},Xb=e}(),n}(),qb=function(n,e,t,i){return n[i]},nS=((Df={}).arrayRows_column=function(n,e,t,i){return n[i+e]},Df.arrayRows_row=function(n,e,t,i,r){i+=e;for(var o=r||[],s=n,l=0;l<s.length;l++){var u=s[l];o[l]=u?u[i]:null}return o},Df.objectRows=qb,Df.keyedColumns=function(n,e,t,i,r){for(var o=r||[],s=0;s<t.length;s++){var u=n[t[s].name];o[s]=u?u[i]:null}return o},Df.original=qb,Df);function Ub(n,e){return nS[$b(n,e)]}var Xy=function(n,e,t){return n.length},Gy=((Bu={}).arrayRows_column=function(n,e,t){return Math.max(0,n.length-e)},Bu.arrayRows_row=function(n,e,t){var i=n[0];return i?Math.max(0,i.length-e):0},Bu.objectRows=Xy,Bu.keyedColumns=function(n,e,t){var r=n[t[0].name];return r?r.length:0},Bu.original=Xy,Bu);function Tm(n,e){return Gy[$b(n,e)]}var qy=function(n,e,t){return n[e]},iS=((Wp={}).arrayRows=qy,Wp.objectRows=function(n,e,t){return n[t]},Wp.keyedColumns=qy,Wp.original=function(n,e,t){var i=rl(n);return i instanceof Array?i[e]:i},Wp.typedArray=qy,Wp);function rS(n){return iS[n]}function $b(n,e){return n===Nu?n+"_"+e:n}function Ef(n,e,t){if(n){var i=n.getRawDataItem(e);if(null!=i){var r=n.getStore(),o=r.getSource().sourceFormat;if(null!=t){var s=n.getDimensionIndex(t),l=r.getDimensionProperty(s);return rS(o)(i,s,l)}var u=i;return o===Od&&(u=rl(i)),u}}}var oS=/\{@(.+?)\}/g,Yp=function(){function n(){}return n.prototype.getDataParams=function(e,t){var i=this.getData(t),r=this.getRawValue(e,t),o=i.getRawIndex(e),s=i.getName(e),l=i.getRawDataItem(e),u=i.getItemVisual(e,"style"),f=u&&u[i.getItemVisual(e,"drawType")||"fill"],p=u&&u.stroke,m=this.mainType,b="series"===m,w=i.userOutput&&i.userOutput.get();return{componentType:m,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:b?this.subType:null,seriesIndex:this.seriesIndex,seriesId:b?this.id:null,seriesName:b?this.name:null,name:s,dataIndex:o,data:l,dataType:t,value:r,color:f,borderColor:p,dimensionNames:w?w.fullDimensions:null,encode:w?w.encode:null,$vars:["seriesName","name","value"]}},n.prototype.getFormattedLabel=function(e,t,i,r,o,s){t=t||"normal";var l=this.getData(i),u=this.getDataParams(e,i);return s&&(u.value=s.interpolatedValue),null!=r&&Jt(u.value)&&(u.value=u.value[r]),o||(o=l.getItemModel(e).get("normal"===t?["label","formatter"]:[t,"label","formatter"])),"function"==typeof o?(u.status=t,u.dimensionIndex=r,o(u)):"string"==typeof o?Dy(o,u).replace(oS,function(f,p){var m=p.length,b=p;"["===b.charAt(0)&&"]"===b.charAt(m-1)&&(b=+b.slice(1,m-1));var w=Ef(l,e,b);if(s&&Jt(s.interpolatedValue)){var k=l.getDimensionIndex(b);k>=0&&(w=s.interpolatedValue[k])}return null!=w?w+"":""}):void 0},n.prototype.getRawValue=function(e,t){return Ef(this.getData(t),e)},n.prototype.formatTooltip=function(e,t,i){},n}();function Uy(n){var e,t;return $e(n)?n.type&&(t=n):e=n,{markupText:e,markupFragment:t}}function Lf(n){return new fA(n)}var fA=function(){function n(e){this._reset=(e=e||{}).reset,this._plan=e.plan,this._count=e.count,this._onDirty=e.onDirty,this._dirty=!0}return n.prototype.perform=function(e){var t,i=this._upstream,r=e&&e.skip;if(this._dirty&&i){var o=this.context;o.data=o.outputData=i.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this),this._plan&&!r&&(t=this._plan(this.context));var s,l=m(this._modBy),u=this._modDataCount||0,f=m(e&&e.modBy),p=e&&e.modDataCount||0;function m(B){return!(B>=1)&&(B=1),B}l===f&&u===p||(t="reset"),(this._dirty||"reset"===t)&&(this._dirty=!1,s=this._doReset(r)),this._modBy=f,this._modDataCount=p;var b=e&&e.step;if(this._dueEnd=i?i._outputDueEnd:this._count?this._count(this.context):1/0,this._progress){var w=this._dueIndex,k=Math.min(null!=b?this._dueIndex+b:1/0,this._dueEnd);if(!r&&(s||w<k)){var M=this._progress;if(Jt(M))for(var I=0;I<M.length;I++)this._doProgress(M[I],w,k,f,p);else this._doProgress(M,w,k,f,p)}this._dueIndex=k,this._outputDueEnd=null!=this._settedOutputEnd?this._settedOutputEnd:k}else this._dueIndex=this._outputDueEnd=null!=this._settedOutputEnd?this._settedOutputEnd:this._dueEnd;return this.unfinished()},n.prototype.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},n.prototype._doProgress=function(e,t,i,r,o){Zb.reset(t,i,r,o),this._callingProgress=e,this._callingProgress({start:t,end:i,count:i-t,next:Zb.next},this.context)},n.prototype._doReset=function(e){var t,i;this._dueIndex=this._outputDueEnd=this._dueEnd=0,this._settedOutputEnd=null,!e&&this._reset&&((t=this._reset(this.context))&&t.progress&&(i=t.forceFirstProgress,t=t.progress),Jt(t)&&!t.length&&(t=null)),this._progress=t,this._modBy=this._modDataCount=null;var r=this._downstream;return r&&r.dirty(),i},n.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},n.prototype.pipe=function(e){(this._downstream!==e||this._dirty)&&(this._downstream=e,e._upstream=this,e.dirty())},n.prototype.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},n.prototype.getUpstream=function(){return this._upstream},n.prototype.getDownstream=function(){return this._downstream},n.prototype.setOutputEnd=function(e){this._outputDueEnd=this._settedOutputEnd=e},n}(),Zb=function(){var n,e,t,i,r,o={reset:function(u,f,p,m){e=u,n=f,t=p,i=m,r=Math.ceil(i/t),o.next=t>1&&i>0?l:s}};return o;function s(){return e<n?e++:null}function l(){var u=e%r*t+Math.ceil(e/r),f=e>=n?null:u<i?u:e;return e++,f}}();function zh(n,e){var t=e&&e.type;return"ordinal"===t?n:("time"===t&&"number"!=typeof n&&null!=n&&"-"!==n&&(n=+Ji(n)),null==n||""===n?NaN:+n)}var pA=ii({number:function(n){return parseFloat(n)},time:function(n){return+Ji(n)},trim:function(n){return"string"==typeof n?br(n):n}});function aS(n){return pA.get(n)}var Kb={lt:function(n,e){return n<e},lte:function(n,e){return n<=e},gt:function(n,e){return n>e},gte:function(n,e){return n>=e}},gA=function(){function n(e,t){"number"!=typeof t&&Ai(""),this._opFn=Kb[e],this._rvalFloat=Po(t)}return n.prototype.evaluate=function(e){return this._opFn("number"==typeof e?e:Po(e),this._rvalFloat)},n}(),sS=function(){function n(e,t){var i="desc"===e;this._resultLT=i?1:-1,null==t&&(t=i?"min":"max"),this._incomparable="min"===t?-1/0:1/0}return n.prototype.evaluate=function(e,t){var i=typeof e,r=typeof t,o="number"===i?e:Po(e),s="number"===r?t:Po(t),l=isNaN(o),u=isNaN(s);if(l&&(o=this._incomparable),u&&(s=this._incomparable),l&&u){var f="string"===i,p="string"===r;f&&(o=p?e:0),p&&(s=f?t:0)}return o<s?this._resultLT:o>s?-this._resultLT:0},n}(),Pf=function(){function n(e,t){this._rval=t,this._isEQ=e,this._rvalTypeof=typeof t,this._rvalFloat=Po(t)}return n.prototype.evaluate=function(e){var t=e===this._rval;if(!t){var i=typeof e;i===this._rvalTypeof||"number"!==i&&"number"!==this._rvalTypeof||(t=Po(e)===this._rvalFloat)}return this._isEQ?t:!t},n}();function Qb(n,e){return"eq"===n||"ne"===n?new Pf("eq"===n,e):ei(Kb,n)?new gA(n,e):null}var Jb=function(){function n(){}return n.prototype.getRawData=function(){throw new Error("not supported")},n.prototype.getRawDataItem=function(e){throw new Error("not supported")},n.prototype.cloneRawData=function(){},n.prototype.getDimensionInfo=function(e){},n.prototype.cloneAllDimensionInfo=function(){},n.prototype.count=function(){},n.prototype.retrieveValue=function(e,t){},n.prototype.retrieveValueFromItem=function(e,t){},n.prototype.convertValue=function(e,t){return zh(e,t)},n}();function $y(n){return Im(n.sourceFormat)||Ai(""),n.data}function lS(n){var e=n.sourceFormat,t=n.data;if(Im(e)||Ai(""),e===Nu){for(var r=[],o=0,s=t.length;o<s;o++)r.push(t[o].slice());return r}if(e===Yc){for(r=[],o=0,s=t.length;o<s;o++)r.push(Dt({},t[o]));return r}}function uS(n,e,t){if(null!=t)return"number"==typeof t||!isNaN(t)&&!ei(e,t)?n[t]:ei(e,t)?e[t]:void 0}function t1(n){return Pt(n)}var e1=ii();function cS(n,e,t,i){e.length||Ai(""),$e(n)||Ai("");var s=e1.get(n.type);s||Ai("");var l=zt(e,function(f){return function(p,m){var b=new Jb,w=p.data,k=b.sourceFormat=p.sourceFormat,M=p.startIndex;p.seriesLayoutBy!==Mf&&Ai("");var O=[],B={},H=p.dimensionsDefine;if(H)mt(H,function(At,Mt){var Lt=At.name,Gt={index:Mt,name:Lt,displayName:At.displayName};O.push(Gt),null!=Lt&&(ei(B,Lt)&&Ai(""),B[Lt]=Gt)});else for(var X=0;X<p.dimensionsDetectedCount;X++)O.push({index:X});var U=Ub(k,Mf);m.__isBuiltIn&&(b.getRawDataItem=function(At){return U(w,M,O,At)},b.getRawData=_e($y,null,p)),b.cloneRawData=_e(lS,null,p);var $=Tm(k,Mf);b.count=_e($,null,w,M,O);var et=rS(k);b.retrieveValue=function(At,Mt){var Lt=U(w,M,O,At);return at(Lt,Mt)};var at=b.retrieveValueFromItem=function(At,Mt){if(null!=At){var Lt=O[Mt];return Lt?et(At,Mt,Lt.name):void 0}};return b.getDimensionInfo=_e(uS,null,O,B),b.cloneAllDimensionInfo=_e(t1,null,O),b}(f,s)});return zt(mr(s.transform({upstream:l[0],upstreamList:l,config:Pt(n.config)})),function(f,p){var m;$e(f)||Ai(""),f.data||Ai(""),Im(eS(f.data))||Ai("");var w=e[0];if(w&&0===p&&!f.dimensions){var k=w.startIndex;k&&(f.data=w.data.slice(0,k).concat(f.data)),m={seriesLayoutBy:Mf,sourceHeader:k,dimensions:w.metaRawOption.dimensions}}else m={seriesLayoutBy:Mf,sourceHeader:0,dimensions:f.dimensions};return Hy(f.data,m,null)})}function Im(n){return n===Nu||n===Yc}var Zy,Ky="undefined",hS=typeof Uint32Array===Ky?Array:Uint32Array,n1=typeof Uint16Array===Ky?Array:Uint16Array,i1=typeof Int32Array===Ky?Array:Int32Array,r1=typeof Float64Array===Ky?Array:Float64Array,dS={float:r1,int:i1,ordinal:Array,number:Array,time:r1};function Dm(n){return n>65535?hS:n1}function o1(n,e,t,i,r){var o=dS[t||"float"];if(r){var s=n[e],l=s&&s.length;if(l!==i){for(var u=new o(i),f=0;f<l;f++)u[f]=s[f];n[e]=u}}else n[e]=new o(i)}var Qy=function(){function n(){this._chunks=[],this._rawExtent=[],this._extent=[],this._count=0,this._rawCount=0,this._calcDimNameToIdx=ii()}return n.prototype.initData=function(e,t,i){this._provider=e,this._chunks=[],this._indices=null,this.getRawIndex=this._getRawIdxIdentity;var r=e.getSource(),o=this.defaultDimValueGetter=Zy[r.sourceFormat];this._dimValueGetter=i||o,this._rawExtent=[],Yy(r),this._dimensions=zt(t,function(s){return{type:s.type,property:s.property}}),this._initDataFromProvider(0,e.count())},n.prototype.getProvider=function(){return this._provider},n.prototype.getSource=function(){return this._provider.getSource()},n.prototype.ensureCalculationDimension=function(e,t){var i=this._calcDimNameToIdx,r=this._dimensions,o=i.get(e);if(null!=o){if(r[o].type===t)return o}else o=r.length;return r[o]={type:t},i.set(e,o),this._chunks[o]=new dS[t||"float"](this._rawCount),this._rawExtent[o]=[1/0,-1/0],o},n.prototype.collectOrdinalMeta=function(e,t){var i=this._chunks[e],r=this._dimensions[e],o=this._rawExtent,s=r.ordinalOffset||0,l=i.length;0===s&&(o[e]=[1/0,-1/0]);for(var u=o[e],f=s;f<l;f++){var p=i[f]=t.parseAndCollect(i[f]);u[0]=Math.min(p,u[0]),u[1]=Math.max(p,u[1])}r.ordinalMeta=t,r.ordinalOffset=l,r.type="ordinal"},n.prototype.getOrdinalMeta=function(e){return this._dimensions[e].ordinalMeta},n.prototype.getDimensionProperty=function(e){var t=this._dimensions[e];return t&&t.property},n.prototype.appendData=function(e){var t=this._provider,i=this.count();t.appendData(e);var r=t.count();return t.persistent||(r+=i),i<r&&this._initDataFromProvider(i,r,!0),[i,r]},n.prototype.appendValues=function(e,t){for(var i=this._chunks,r=this._dimensions,o=r.length,s=this._rawExtent,l=this.count(),u=l+Math.max(e.length,t||0),f=0;f<o;f++)o1(i,f,(k=r[f]).type,u,!0);for(var p=[],m=l;m<u;m++)for(var b=m-l,w=0;w<o;w++){var k=r[w],M=Zy.arrayRows.call(this,e[b]||p,k.property,b,w);i[w][m]=M;var I=s[w];M<I[0]&&(I[0]=M),M>I[1]&&(I[1]=M)}return this._rawCount=this._count=u,{start:l,end:u}},n.prototype._initDataFromProvider=function(e,t,i){for(var r=this._provider,o=this._chunks,s=this._dimensions,l=s.length,u=this._rawExtent,f=zt(s,function(B){return B.property}),p=0;p<l;p++){var m=s[p];u[p]||(u[p]=[1/0,-1/0]),o1(o,p,m.type,t,i)}if(r.fillStorage)r.fillStorage(e,t,o,u);else for(var b=[],w=e;w<t;w++){b=r.getItem(w,b);for(var k=0;k<l;k++){var M=o[k],I=this._dimValueGetter(b,f[k],w,k);M[w]=I;var O=u[k];I<O[0]&&(O[0]=I),I>O[1]&&(O[1]=I)}}!r.persistent&&r.clean&&r.clean(),this._rawCount=this._count=t,this._extent=[]},n.prototype.count=function(){return this._count},n.prototype.get=function(e,t){if(!(t>=0&&t<this._count))return NaN;var i=this._chunks[e];return i?i[this.getRawIndex(t)]:NaN},n.prototype.getValues=function(e,t){var i=[],r=[];if(null==t){t=e,e=[];for(var o=0;o<this._dimensions.length;o++)r.push(o)}else r=e;o=0;for(var s=r.length;o<s;o++)i.push(this.get(r[o],t));return i},n.prototype.getByRawIndex=function(e,t){if(!(t>=0&&t<this._rawCount))return NaN;var i=this._chunks[e];return i?i[t]:NaN},n.prototype.getSum=function(e){var t=0;if(this._chunks[e])for(var i=0,r=this.count();i<r;i++){var o=this.get(e,i);isNaN(o)||(t+=o)}return t},n.prototype.getMedian=function(e){var t=[];this.each([e],function(o){isNaN(o)||t.push(o)});var i=t.sort(function(o,s){return o-s}),r=this.count();return 0===r?0:r%2==1?i[(r-1)/2]:(i[r/2]+i[r/2-1])/2},n.prototype.indexOfRawIndex=function(e){if(e>=this._rawCount||e<0)return-1;if(!this._indices)return e;var t=this._indices,i=t[e];if(null!=i&&i<this._count&&i===e)return e;for(var r=0,o=this._count-1;r<=o;){var s=(r+o)/2|0;if(t[s]<e)r=s+1;else{if(!(t[s]>e))return s;o=s-1}}return-1},n.prototype.indicesOfNearest=function(e,t,i){var r=this._chunks[e],o=[];if(!r)return o;null==i&&(i=1/0);for(var s=1/0,l=-1,u=0,f=0,p=this.count();f<p;f++){var m=t-r[this.getRawIndex(f)],b=Math.abs(m);b<=i&&((b<s||b===s&&m>=0&&l<0)&&(s=b,l=m,u=0),m===l&&(o[u++]=f))}return o.length=u,o},n.prototype.getIndices=function(){var e,t=this._indices;if(t){var i=t.constructor,r=this._count;if(i===Array){e=new i(r);for(var o=0;o<r;o++)e[o]=t[o]}else e=new i(t.buffer,0,r)}else for(e=new(i=Dm(this._rawCount))(this.count()),o=0;o<e.length;o++)e[o]=o;return e},n.prototype.filter=function(e,t){if(!this._count)return this;for(var i=this.clone(),r=i.count(),o=new(Dm(i._rawCount))(r),s=[],l=e.length,u=0,f=e[0],p=i._chunks,m=0;m<r;m++){var b=void 0,w=i.getRawIndex(m);if(0===l)b=t(m);else if(1===l)b=t(p[f][w],m);else{for(var k=0;k<l;k++)s[k]=p[e[k]][w];s[k]=m,b=t.apply(null,s)}b&&(o[u++]=w)}return u<r&&(i._indices=o),i._count=u,i._extent=[],i._updateGetRawIdx(),i},n.prototype.selectRange=function(e){var t=this.clone(),i=t._count;if(!i)return this;var r=be(e),o=r.length;if(!o)return this;var s=t.count(),l=new(Dm(t._rawCount))(s),u=0,f=r[0],p=e[f][0],m=e[f][1],b=t._chunks,w=!1;if(!t._indices){var k=0;if(1===o){for(var M=b[r[0]],I=0;I<i;I++)((X=M[I])>=p&&X<=m||isNaN(X))&&(l[u++]=k),k++;w=!0}else if(2===o){M=b[r[0]];var O=b[r[1]],B=e[r[1]][0],H=e[r[1]][1];for(I=0;I<i;I++){var X=M[I],U=O[I];(X>=p&&X<=m||isNaN(X))&&(U>=B&&U<=H||isNaN(U))&&(l[u++]=k),k++}w=!0}}if(!w)if(1===o)for(I=0;I<s;I++){var $=t.getRawIndex(I);((X=b[r[0]][$])>=p&&X<=m||isNaN(X))&&(l[u++]=$)}else for(I=0;I<s;I++){for(var et=!0,at=($=t.getRawIndex(I),0);at<o;at++){var At=r[at];((X=b[At][$])<e[At][0]||X>e[At][1])&&(et=!1)}et&&(l[u++]=t.getRawIndex(I))}return u<s&&(t._indices=l),t._count=u,t._extent=[],t._updateGetRawIdx(),t},n.prototype.map=function(e,t){var i=this.clone(e);return this._updateDims(i,e,t),i},n.prototype.modify=function(e,t){this._updateDims(this,e,t)},n.prototype._updateDims=function(e,t,i){for(var r=e._chunks,o=[],s=t.length,l=e.count(),u=[],f=e._rawExtent,p=0;p<t.length;p++)f[t[p]]=[1/0,-1/0];for(var m=0;m<l;m++){for(var b=e.getRawIndex(m),w=0;w<s;w++)u[w]=r[t[w]][b];u[s]=m;var k=i&&i.apply(null,u);if(null!=k)for("object"!=typeof k&&(o[0]=k,k=o),p=0;p<k.length;p++){var M=t[p],I=k[p],O=f[M],B=r[M];B&&(B[b]=I),I<O[0]&&(O[0]=I),I>O[1]&&(O[1]=I)}}},n.prototype.lttbDownSample=function(e,t){var i,r,o,s=this.clone([e],!0),l=s._chunks[e],u=this.count(),f=0,p=Math.floor(1/t),m=this.getRawIndex(0),b=new(Dm(this._rawCount))(Math.ceil(u/p)+2);b[f++]=m;for(var w=1;w<u-1;w+=p){for(var k=Math.min(w+p,u-1),M=Math.min(w+2*p,u),I=(M+k)/2,O=0,B=k;B<M;B++){var H=l[at=this.getRawIndex(B)];isNaN(H)||(O+=H)}O/=M-k;var X=w,U=Math.min(w+p,u),$=w-1,et=l[m];for(i=-1,o=X,B=X;B<U;B++){var at;H=l[at=this.getRawIndex(B)],isNaN(H)||(r=Math.abs(($-I)*(H-et)-($-B)*(O-et)))>i&&(i=r,o=at)}b[f++]=o,m=o}return b[f++]=this.getRawIndex(u-1),s._count=f,s._indices=b,s.getRawIndex=this._getRawIdx,s},n.prototype.downSample=function(e,t,i,r){for(var o=this.clone([e],!0),s=o._chunks,l=[],u=Math.floor(1/t),f=s[e],p=this.count(),m=o._rawExtent[e]=[1/0,-1/0],b=new(Dm(this._rawCount))(Math.ceil(p/u)),w=0,k=0;k<p;k+=u){u>p-k&&(l.length=u=p-k);for(var M=0;M<u;M++){var I=this.getRawIndex(k+M);l[M]=f[I]}var O=i(l),B=this.getRawIndex(Math.min(k+r(l,O)||0,p-1));f[B]=O,O<m[0]&&(m[0]=O),O>m[1]&&(m[1]=O),b[w++]=B}return o._count=w,o._indices=b,o._updateGetRawIdx(),o},n.prototype.each=function(e,t){if(this._count)for(var i=e.length,r=this._chunks,o=0,s=this.count();o<s;o++){var l=this.getRawIndex(o);switch(i){case 0:t(o);break;case 1:t(r[e[0]][l],o);break;case 2:t(r[e[0]][l],r[e[1]][l],o);break;default:for(var u=0,f=[];u<i;u++)f[u]=r[e[u]][l];f[u]=o,t.apply(null,f)}}},n.prototype.getDataExtent=function(e){var t=this._chunks[e],i=[1/0,-1/0];if(!t)return i;var r,o=this.count();if(!this._indices)return this._rawExtent[e].slice();if(r=this._extent[e])return r.slice();for(var s=(r=i)[0],l=r[1],u=0;u<o;u++){var f=t[this.getRawIndex(u)];f<s&&(s=f),f>l&&(l=f)}return this._extent[e]=r=[s,l],r},n.prototype.getRawDataItem=function(e){var t=this.getRawIndex(e);if(this._provider.persistent)return this._provider.getItem(t);for(var i=[],r=this._chunks,o=0;o<r.length;o++)i.push(r[o][t]);return i},n.prototype.clone=function(e,t){var i,r,o=new n,s=this._chunks,l=e&&oe(e,function(f,p){return f[p]=!0,f},{});if(l)for(var u=0;u<s.length;u++)o._chunks[u]=l[u]?(r=void 0,(r=(i=s[u]).constructor)===Array?i.slice():new r(i)):s[u];else o._chunks=s;return this._copyCommonProps(o),t||(o._indices=this._cloneIndices()),o._updateGetRawIdx(),o},n.prototype._copyCommonProps=function(e){e._count=this._count,e._rawCount=this._rawCount,e._provider=this._provider,e._dimensions=this._dimensions,e._extent=Pt(this._extent),e._rawExtent=Pt(this._rawExtent)},n.prototype._cloneIndices=function(){if(this._indices){var e=this._indices.constructor,t=void 0;if(e===Array){var i=this._indices.length;t=new e(i);for(var r=0;r<i;r++)t[r]=this._indices[r]}else t=new e(this._indices);return t}return null},n.prototype._getRawIdxIdentity=function(e){return e},n.prototype._getRawIdx=function(e){return e<this._count&&e>=0?this._indices[e]:-1},n.prototype._updateGetRawIdx=function(){this.getRawIndex=this._indices?this._getRawIdx:this._getRawIdxIdentity},n.internalField=function(){function e(t,i,r,o){return zh(t[o],this._dimensions[o])}Zy={arrayRows:e,objectRows:function(t,i,r,o){return zh(t[i],this._dimensions[o])},keyedColumns:e,original:function(t,i,r,o){var s=t&&(null==t.value?t:t.value);return zh(s instanceof Array?s[o]:s,this._dimensions[o])},typedArray:function(t,i,r,o){return t[o]}}}(),n}(),fS=function(){function n(e){this._sourceList=[],this._storeList=[],this._upstreamSignList=[],this._versionSignBase=0,this._dirty=!0,this._sourceHost=e}return n.prototype.dirty=function(){this._setLocalSource([],[]),this._storeList=[],this._dirty=!0},n.prototype._setLocalSource=function(e,t){this._sourceList=e,this._upstreamSignList=t,this._versionSignBase++,this._versionSignBase>9e10&&(this._versionSignBase=0)},n.prototype._getVersionSign=function(){return this._sourceHost.uid+"_"+this._versionSignBase},n.prototype.prepareSource=function(){this._isDirty()&&(this._createSource(),this._dirty=!1)},n.prototype._createSource=function(){this._setLocalSource([],[]);var e,t,i=this._sourceHost,r=this._getUpstreamSourceManagers(),o=!!r.length;if(Xp(i)){var s=i,l=void 0,u=void 0,f=void 0;if(o){var p=r[0];p.prepareSource(),l=(f=p.getSource()).data,u=f.sourceFormat,t=[p._getVersionSign()]}else u=ui(l=s.get("data",!0))?Nh:Od,t=[];var m=this._getSourceMetaRawOption()||{},b=f&&f.metaRawOption||{},w=Tn(m.seriesLayoutBy,b.seriesLayoutBy)||null,k=Tn(m.sourceHeader,b.sourceHeader)||null,M=Tn(m.dimensions,b.dimensions);e=w!==b.seriesLayoutBy||!!k!=!!b.sourceHeader||M?[Hy(l,{seriesLayoutBy:w,sourceHeader:k,dimensions:M},u)]:[]}else{var I=i;if(o){var O=this._applyTransform(r);e=O.sourceList,t=O.upstreamSignList}else e=[Hy(I.get("source",!0),this._getSourceMetaRawOption(),null)],t=[]}this._setLocalSource(e,t)},n.prototype._applyTransform=function(e){var t,i=this._sourceHost,r=i.get("transform",!0),o=i.get("fromTransformResult",!0);null!=o&&1!==e.length&&pS("");var l,u=[],f=[];return mt(e,function(p){p.prepareSource();var m=p.getSource(o||0);null==o||m||pS(""),u.push(m),f.push(p._getVersionSign())}),r?t=function(p,m,b){var w=mr(p),k=w.length;k||Ai("");for(var I=0,O=k;I<O;I++)m=cS(w[I],m),I!==O-1&&(m.length=Math.max(m.length,1));return m}(r,u):null!=o&&(t=[(l=u[0],new jp({data:l.data,sourceFormat:l.sourceFormat,seriesLayoutBy:l.seriesLayoutBy,dimensionsDefine:Pt(l.dimensionsDefine),startIndex:l.startIndex,dimensionsDetectedCount:l.dimensionsDetectedCount}))]),{sourceList:t,upstreamSignList:f}},n.prototype._isDirty=function(){if(this._dirty)return!0;for(var e=this._getUpstreamSourceManagers(),t=0;t<e.length;t++){var i=e[t];if(i._isDirty()||this._upstreamSignList[t]!==i._getVersionSign())return!0}},n.prototype.getSource=function(e){var t=this._sourceList[e=e||0];if(!t){var i=this._getUpstreamSourceManagers();return i[0]&&i[0].getSource(e)}return t},n.prototype.getSharedDataStore=function(e){var t=e.makeStoreSchema();return this._innerGetDataStore(t.dimensions,e.source,t.hash)},n.prototype._innerGetDataStore=function(e,t,i){var r=this._storeList,o=r[0];o||(o=r[0]={});var s=o[i];if(!s){var l=this._getUpstreamSourceManagers()[0];Xp(this._sourceHost)&&l?s=l._innerGetDataStore(e,t,i):(s=new Qy).initData(new Gb(t,e.length),e),o[i]=s}return s},n.prototype._getUpstreamSourceManagers=function(){var i,e=this._sourceHost;if(Xp(e)){var t=wm(e);return t?[t.getSourceManager()]:[]}return zt((i=e).get("transform",!0)||i.get("fromTransformResult",!0)?Sh(i.ecModel,"dataset",{index:i.get("fromDatasetIndex",!0),id:i.get("fromDatasetId",!0)},Mo).models:[],function(i){return i.getSourceManager()})},n.prototype._getSourceMetaRawOption=function(){var e,t,i,r=this._sourceHost;if(Xp(r))e=r.get("seriesLayoutBy",!0),t=r.get("sourceHeader",!0),i=r.get("dimensions",!0);else if(!this._getUpstreamSourceManagers().length){var o=r;e=o.get("seriesLayoutBy",!0),t=o.get("sourceHeader",!0),i=o.get("dimensions",!0)}return{seriesLayoutBy:e,sourceHeader:t,dimensions:i}},n}();function Em(n){n.option.transform&&nr(n.option.transform)}function Xp(n){return"series"===n.mainType}function pS(n){throw new Error(n)}function gS(n,e){var t=n.color||"#6e7079",i=n.fontSize||12,r=n.fontWeight||"400",o=n.color||"#464646",s=n.fontSize||14,l=n.fontWeight||"900";return"html"===e?{nameStyle:"font-size:"+Tl(i+"")+"px;color:"+Tl(t)+";font-weight:"+Tl(r+""),valueStyle:"font-size:"+Tl(s+"")+"px;color:"+Tl(o)+";font-weight:"+Tl(l+"")}:{nameStyle:{fontSize:i,fill:t,fontWeight:r},valueStyle:{fontSize:s,fill:o,fontWeight:l}}}var a1=[0,10,20,30],mS=["","\n","\n\n","\n\n\n"];function Za(n,e){return e.type=n,e}function s1(n){return ei(Jy,n.type)&&Jy[n.type]}var Jy={section:{planLayout:function(n){var e=n.blocks.length,t=e>1||e>0&&!n.noHeader,i=0;mt(n.blocks,function(r){s1(r).planLayout(r);var o=r.__gapLevelBetweenSubBlocks;o>=i&&(i=o+(!t||o&&("section"!==r.type||r.noHeader)?0:1))}),n.__gapLevelBetweenSubBlocks=i},build:function(n,e,t,i){var r=e.noHeader,o=vS(e),s=function(f,p,m,b){var w=[],k=p.blocks||[];Ni(!k||Jt(k)),k=k||[];var M=f.orderMode;if(p.sortBlocks&&M){k=k.slice();var I={valueAsc:"asc",valueDesc:"desc"};if(ei(I,M)){var O=new sS(I[M],null);k.sort(function(H,X){return O.evaluate(H.sortParam,X.sortParam)})}else"seriesDesc"===M&&k.reverse()}var B=vS(p);if(mt(k,function(H,X){var U=s1(H).build(f,H,X>0?B.html:0,b);null!=U&&w.push(U)}),w.length)return"richText"===f.renderMode?w.join(B.richText):e0(w.join(""),m)}(n,e,r?t:o.html,i);if(r)return s;var l=ym(e.header,"ordinal",n.useUTC),u=gS(i,n.renderMode).nameStyle;return"richText"===n.renderMode?n0(n,l,u)+o.richText+s:e0('<div style="'+u+';line-height:1;">'+Tl(l)+"</div>"+s,t)}},nameValue:{planLayout:function(n){n.__gapLevelBetweenSubBlocks=0},build:function(n,e,t,i){var X,U,At,r=n.renderMode,o=e.noName,s=e.noValue,l=!e.markerType,u=e.name,f=e.value,p=n.useUTC;if(!o||!s){var m=l?"":n.markupStyleCreator.makeTooltipMarker(e.markerType,e.markerColor||"#333",r),b=o?"":ym(u,"ordinal",p),w=e.valueType,k=s?[]:Jt(f)?zt(f,function(X,U){return ym(X,Jt(w)?w[U]:w,p)}):[ym(f,Jt(w)?w[0]:w,p)],M=!l||!o,I=!l&&o,O=gS(i,r),B=O.nameStyle,H=O.valueStyle;return"richText"===r?(l?"":m)+(o?"":n0(n,b,B))+(s?"":(X=n,U=k,At=[H],M&&At.push({padding:[0,0,0,I?10:20],align:"right"}),X.markupStyleCreator.wrapRichTextStyle(U.join("  "),At))):e0((l?"":m)+(o?"":function(X,U,$){return'<span style="'+$+";"+(U?"margin-left:2px":"")+'">'+Tl(X)+"</span>"}(b,!l,B))+(s?"":function(X,U,$,et){return'<span style="'+(U?"float:right;margin-left:"+($?"10px":"20px"):"")+";"+et+'">'+zt(X,function(At){return Tl(At)}).join("&nbsp;&nbsp;")+"</span>"}(k,M,I,H)),t)}}}};function t0(n,e,t,i,r,o){if(n){var s=s1(n);return s.planLayout(n),s.build({useUTC:r,renderMode:t,orderMode:i,markupStyleCreator:e},n,0,o)}}function vS(n){var e=n.__gapLevelBetweenSubBlocks;return{html:a1[e],richText:mS[e]}}function e0(n,e){return'<div style="margin: '+e+'px 0 0;line-height:1;">'+n+'<div style="clear:both"></div></div>'}function n0(n,e,t){return n.markupStyleCreator.wrapRichTextStyle(e,t)}function l1(n,e){return Ed(n.getData().getItemVisual(e,"style")[n.visualDrawType])}function i0(n,e){var t=n.get("padding");return null!=t?t:"richText"===e?[8,10]:10}var r0=function(){function n(){this.richTextStyles={},this._nextStyleNameId=Ha()}return n.prototype._generateStyleName=function(){return"__EC_aUTo_"+this._nextStyleNameId++},n.prototype.makeTooltipMarker=function(e,t,i){var r="richText"===i?this._generateStyleName():null,o=Eb({color:t,type:e,renderMode:i,markerId:r});return Ke(o)?o:(this.richTextStyles[r]=o.style,o.content)},n.prototype.wrapRichTextStyle=function(e,t){var i={};Jt(t)?mt(t,function(o){return Dt(i,o)}):Dt(i,t);var r=this._generateStyleName();return this.richTextStyles[r]=i,"{"+r+"|"+e+"}"},n}();function u1(n){var e,t,i,r,o=n.series,s=n.dataIndex,l=n.multipleSeries,u=o.getData(),f=u.mapDimensionsAll("defaultedTooltip"),p=f.length,m=o.getRawValue(s),b=Jt(m),w=l1(o,s);if(p>1||b&&!p){var k=function(X,U,$,et,at){var At=U.getData(),Mt=oe(X,function(fe,ye,Te){var Ie=At.getDimensionInfo(Te);return fe||Ie&&!1!==Ie.tooltip&&null!=Ie.displayName},!1),Lt=[],Gt=[],ne=[];function re(fe,ye){var Te=At.getDimensionInfo(ye);Te&&!1!==Te.otherDims.tooltip&&(Mt?ne.push(Za("nameValue",{markerType:"subItem",markerColor:at,name:Te.displayName,value:fe,valueType:Te.type})):(Lt.push(fe),Gt.push(Te.type)))}return et.length?mt(et,function(fe){re(Ef(At,$,fe),fe)}):mt(X,re),{inlineValues:Lt,inlineValueTypes:Gt,blocks:ne}}(m,o,s,f,w);e=k.inlineValues,t=k.inlineValueTypes,i=k.blocks,r=k.inlineValues[0]}else if(p){var M=u.getDimensionInfo(f[0]);r=e=Ef(u,s,f[0]),t=M.type}else r=e=b?m[0]:m;var I=Sl(o),O=I&&o.name||"",B=u.getName(s),H=l?O:B;return Za("section",{header:O,noHeader:l||!I,sortParam:r,blocks:[Za("nameValue",{markerType:"item",markerColor:w,name:H,noName:!br(H),value:e,valueType:t})].concat(i||[])})}var qc=ar();function Lm(n,e){return n.getName(e)||n.getId(e)}var Gr=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t._selectedDataIndicesMap={},t}return Tt(e,n),e.prototype.init=function(t,i,r){this.seriesIndex=this.componentIndex,this.dataTask=Lf({count:c1,reset:h1}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(t,r),(qc(this).sourceManager=new fS(this)).prepareSource();var o=this.getInitialData(t,r);d1(o,this),this.dataTask.context.data=o,qc(this).dataBeforeProcessed=o,o0(this),this._initSelectedMapFromData(o)},e.prototype.mergeDefaultAndTheme=function(t,i){var r=_m(this),o=r?Af(t):{},s=this.subType;rr.hasClass(s)&&(s+="Series"),Xt(t,i.getTheme().get(this.subType)),Xt(t,this.getDefaultOption()),Xo(t,"label",["show"]),this.fillDataTextStyle(t.data),r&&Ou(t,o,r)},e.prototype.mergeOption=function(t,i){t=Xt(this.option,t,!0),this.fillDataTextStyle(t.data);var r=_m(this);r&&Ou(this.option,t,r);var o=qc(this).sourceManager;o.dirty(),o.prepareSource();var s=this.getInitialData(t,i);d1(s,this),this.dataTask.dirty(),this.dataTask.context.data=s,qc(this).dataBeforeProcessed=s,o0(this),this._initSelectedMapFromData(s)},e.prototype.fillDataTextStyle=function(t){if(t&&!ui(t))for(var i=["show"],r=0;r<t.length;r++)t[r]&&t[r].label&&Xo(t[r],"label",i)},e.prototype.getInitialData=function(t,i){},e.prototype.appendData=function(t){this.getRawData().appendData(t.data)},e.prototype.getData=function(t){var i=f1(this);if(i){var r=i.context.data;return null==t?r:r.getLinkedData(t)}return qc(this).data},e.prototype.getAllData=function(){var t=this.getData();return t&&t.getLinkedDataAll?t.getLinkedDataAll():[{data:t}]},e.prototype.setData=function(t){var i=f1(this);if(i){var r=i.context;r.outputData=t,i!==this.dataTask&&(r.data=t)}qc(this).data=t},e.prototype.getEncode=function(){var t=this.get("encode",!0);if(t)return ii(t)},e.prototype.getSourceManager=function(){return qc(this).sourceManager},e.prototype.getSource=function(){return this.getSourceManager().getSource()},e.prototype.getRawData=function(){return qc(this).dataBeforeProcessed},e.prototype.getColorBy=function(){return this.get("colorBy")||"series"},e.prototype.isColorBySeries=function(){return"series"===this.getColorBy()},e.prototype.getBaseAxis=function(){var t=this.coordinateSystem;return t&&t.getBaseAxis&&t.getBaseAxis()},e.prototype.formatTooltip=function(t,i,r){return u1({series:this,dataIndex:t,multipleSeries:i})},e.prototype.isAnimationEnabled=function(){if(Wt.node)return!1;var t=this.getShallow("animation");return t&&this.getData().count()>this.getShallow("animationThreshold")&&(t=!1),!!t},e.prototype.restoreData=function(){this.dataTask.dirty()},e.prototype.getColorFromPalette=function(t,i,r){var o=this.ecModel,s=Fb.prototype.getColorFromPalette.call(this,t,i,r);return s||(s=o.getColorFromPalette(t,i,r)),s},e.prototype.coordDimToDataDim=function(t){return this.getRawData().mapDimensionsAll(t)},e.prototype.getProgressive=function(){return this.get("progressive")},e.prototype.getProgressiveThreshold=function(){return this.get("progressiveThreshold")},e.prototype.select=function(t,i){this._innerSelect(this.getData(i),t)},e.prototype.unselect=function(t,i){var r=this.option.selectedMap;if(r)for(var o=this.getData(i),s=0;s<t.length;s++){var l=Lm(o,t[s]);r[l]=!1,this._selectedDataIndicesMap[l]=-1}},e.prototype.toggleSelect=function(t,i){for(var r=[],o=0;o<t.length;o++)r[0]=t[o],this.isSelected(t[o],i)?this.unselect(r,i):this.select(r,i)},e.prototype.getSelectedDataIndices=function(){for(var t=this._selectedDataIndicesMap,i=be(t),r=[],o=0;o<i.length;o++){var s=t[i[o]];s>=0&&r.push(s)}return r},e.prototype.isSelected=function(t,i){var r=this.option.selectedMap;return r&&r[Lm(this.getData(i),t)]||!1},e.prototype.isUniversalTransitionEnabled=function(){if(this.__universalTransitionEnabled)return!0;var t=this.option.universalTransition;return!!t&&(!0===t||t&&t.enabled)},e.prototype._innerSelect=function(t,i){var r,o,s=this.option.selectedMode,l=i.length;if(s&&l)if("multiple"===s)for(var u=this.option.selectedMap||(this.option.selectedMap={}),f=0;f<l;f++){var p=i[f];u[b=Lm(t,p)]=!0,this._selectedDataIndicesMap[b]=t.getRawIndex(p)}else if("single"===s||!0===s){var m=i[l-1],b=Lm(t,m);this.option.selectedMap=((r={})[b]=!0,r),this._selectedDataIndicesMap=((o={})[b]=t.getRawIndex(m),o)}},e.prototype._initSelectedMapFromData=function(t){if(!this.option.selectedMap){var i=[];t.hasItemOption&&t.each(function(r){var o=t.getRawDataItem(r);o&&o.selected&&i.push(r)}),i.length>0&&this._innerSelect(t,i)}},e.registerClass=function(t){return rr.registerClass(t)},e.protoInitialize=((t=e.prototype).type="series.__base__",t.seriesIndex=0,t.ignoreStyleOnData=!1,t.hasSymbolVisual=!1,t.defaultSymbol="circle",t.visualStyleAccessPath="itemStyle",void(t.visualDrawType="fill")),e;var t}(rr);function o0(n){var i,r,o,e=n.name;Sl(n)||(n.name=(r=(i=n.getRawData()).mapDimensionsAll("seriesName"),o=[],mt(r,function(s){var l=i.getDimensionInfo(s);l.displayName&&o.push(l.displayName)}),o.join(" ")||e))}function c1(n){return n.model.getRawData().count()}function h1(n){var e=n.model;return e.setData(e.getRawData().cloneShallow()),yS}function yS(n,e){e.outputData&&n.end>e.outputData.count()&&e.model.getRawData().cloneShallow(e.outputData)}function d1(n,e){mt(Bl(n.CHANGABLE_METHODS,n.DOWNSAMPLE_METHODS),function(t){n.wrapMethod(t,de(mA,e))})}function mA(n,e){var t=f1(n);return t&&t.setOutputEnd((e||this).count()),e}function f1(n){var e=(n.ecModel||{}).scheduler,t=e&&e.getPipeline(n.uid);if(t){var i=t.currentTask;if(i){var r=i.agentStubMap;r&&(i=r.get(n.uid))}return i}}on(Gr,Yp),on(Gr,Fb),ql(Gr,rr);var co=function(){function n(){this.group=new bt,this.uid=wf("viewComponent")}return n.prototype.init=function(e,t){},n.prototype.render=function(e,t,i,r){},n.prototype.dispose=function(e,t){},n.prototype.updateView=function(e,t,i,r){},n.prototype.updateLayout=function(e,t,i,r){},n.prototype.updateVisual=function(e,t,i,r){},n.prototype.blurSeries=function(e,t){},n}();function Of(){var n=ar();return function(e){var t=n(e),i=e.pipelineContext,r=!!t.large,o=!!t.progressiveRender,s=t.large=!(!i||!i.large),l=t.progressiveRender=!(!i||!i.progressiveRender);return!(r===s&&o===l)&&"reset"}}wu(co),Go(co);var p1=ar(),g1=Of(),Rr=function(){function n(){this.group=new bt,this.uid=wf("viewChart"),this.renderTask=Lf({plan:Gp,reset:qp}),this.renderTask.context={view:this}}return n.prototype.init=function(e,t){},n.prototype.render=function(e,t,i,r){},n.prototype.highlight=function(e,t,i,r){bS(e.getData(),r,"emphasis")},n.prototype.downplay=function(e,t,i,r){bS(e.getData(),r,"normal")},n.prototype.remove=function(e,t){this.group.removeAll()},n.prototype.dispose=function(e,t){},n.prototype.updateView=function(e,t,i,r){this.render(e,t,i,r)},n.prototype.updateLayout=function(e,t,i,r){this.render(e,t,i,r)},n.prototype.updateVisual=function(e,t,i,r){this.render(e,t,i,r)},n.markUpdateMethod=function(e,t){p1(e).updateMethod=t},n.protoInitialize=void(n.prototype.type="chart"),n}();function xS(n,e,t){n&&("emphasis"===e?kl:Bc)(n,t)}function bS(n,e,t){var o,s,i=Ju(n,e),r=e&&null!=e.highlightKey?(null==(s=gd[o=e.highlightKey])&&Gx<=32&&(s=gd[o]=Gx++),s):null;null!=i?mt(mr(i),function(o){xS(n.getItemGraphicEl(o),t,r)}):n.eachItemGraphicEl(function(o){xS(o,t,r)})}function Gp(n){return g1(n.model)}function qp(n){var e=n.model,t=n.ecModel,i=n.api,r=n.payload,o=e.pipelineContext.progressiveRender,s=n.view,l=r&&p1(r).updateMethod,u=o?"incrementalPrepareRender":l&&s[l]?l:"render";return"render"!==u&&s[u](e,t,i,r),_S[u]}wu(Rr),Go(Rr);var _S={incrementalPrepareRender:{progress:function(n,e){e.view.incrementalRender(n,e.model,e.ecModel,e.api,e.payload)}},render:{forceFirstProgress:!0,progress:function(n,e){e.view.render(e.model,e.ecModel,e.api,e.payload)}}},Pm="\0__throttleOriginMethod",Fh="\0__throttleRate",Vh="\0__throttleType";function Nf(n,e,t){var i,r,o,s,l,u=0,f=0,p=null;function m(){f=(new Date).getTime(),p=null,n.apply(o,s||[])}e=e||0;var b=function(){for(var w=[],k=0;k<arguments.length;k++)w[k]=arguments[k];i=(new Date).getTime(),o=this,s=w;var M=l||e,I=l||t;l=null,r=i-(I?u:f)-M,clearTimeout(p),I?p=setTimeout(m,M):r>=0?m():p=setTimeout(m,-r),u=i};return b.clear=function(){p&&(clearTimeout(p),p=null)},b.debounceNextCall=function(w){l=w},b}function Up(n,e,t,i){var r=n[e];if(r){var o=r[Pm]||r;if(r[Fh]!==t||r[Vh]!==i){if(null==t||!i)return n[e]=o;(r=n[e]=Nf(o,t,"debounce"===i))[Pm]=o,r[Vh]=i,r[Fh]=t}return r}}var wS=ar(),SS={itemStyle:Su(bb,!0),lineStyle:Su(xb,!0)},vA={lineStyle:"stroke",itemStyle:"fill"};function CS(n,e){return n.visualStyleMapper||SS[e]||(console.warn("Unkown style type '"+e+"'."),SS.itemStyle)}function $p(n,e){return n.visualDrawType||vA[e]||(console.warn("Unkown style type '"+e+"'."),"fill")}var kS={createOnAllSeries:!0,performRawSeries:!0,reset:function(n,e){var t=n.getData(),i=n.visualStyleAccessPath||"itemStyle",r=n.getModel(i),o=CS(n,i)(r),s=r.getShallow("decal");s&&(t.setVisual("decal",s),s.dirty=!0);var l=$p(n,i),u=o[l],f=Fe(u)?u:null;if(!o[l]||f||"auto"===o.fill||"auto"===o.stroke){var m=n.getColorFromPalette(n.name,null,e.getSeriesCount());o[l]||(o[l]=m,t.setVisual("colorFromPalette",!0)),o.fill="auto"===o.fill||"function"==typeof o.fill?m:o.fill,o.stroke="auto"===o.stroke||"function"==typeof o.stroke?m:o.stroke}if(t.setVisual("style",o),t.setVisual("drawType",l),!e.isSeriesFiltered(n)&&f)return t.setVisual("colorFromPalette",!1),{dataEach:function(b,w){var k=n.getDataParams(w),M=Dt({},o);M[l]=f(k),b.setItemVisual(w,"style",M)}}}},Rf=new Er,m1={createOnAllSeries:!0,performRawSeries:!0,reset:function(n,e){if(!n.ignoreStyleOnData&&!e.isSeriesFiltered(n)){var t=n.getData(),i=n.visualStyleAccessPath||"itemStyle",r=CS(n,i),o=t.getVisual("drawType");return{dataEach:t.hasItemOption?function(s,l){var u=s.getRawDataItem(l);if(u&&u[i]){Rf.option=u[i];var f=r(Rf);Dt(s.ensureUniqueItemVisual(l,"style"),f),Rf.option.decal&&(s.setItemVisual(l,"decal",Rf.option.decal),Rf.option.decal.dirty=!0),o in f&&s.setItemVisual(l,"colorFromPalette",!1)}}:null}}}},a0={performRawSeries:!0,overallReset:function(n){var e=ii();n.eachSeries(function(t){var i=t.getColorBy();if(!t.isColorBySeries()){var r=t.type+"-"+i,o=e.get(r);o||e.set(r,o={}),wS(t).scope=o}}),n.eachSeries(function(t){if(!t.isColorBySeries()&&!n.isSeriesFiltered(t)){var i=t.getRawData(),r={},o=t.getData(),s=wS(t).scope,u=$p(t,t.visualStyleAccessPath||"itemStyle");o.each(function(f){var p=o.getRawIndex(f);r[p]=f}),i.each(function(f){var p=r[f];if(o.getItemVisual(p,"colorFromPalette")){var m=o.ensureUniqueItemVisual(p,"style"),b=i.getName(f)||f+"",w=i.count();m[u]=t.getColorFromPalette(b,s,w)}})}})}},Zp=Math.PI,s0=function(){function n(e,t,i,r){this._stageTaskMap=ii(),this.ecInstance=e,this.api=t,i=this._dataProcessorHandlers=i.slice(),r=this._visualHandlers=r.slice(),this._allHandlers=i.concat(r)}return n.prototype.restoreData=function(e,t){e.restoreData(t),this._stageTaskMap.each(function(i){var r=i.overallTask;r&&r.dirty()})},n.prototype.getPerformArgs=function(e,t){if(e.__pipeline){var i=this._pipelineMap.get(e.__pipeline.id),r=i.context,o=!t&&i.progressiveEnabled&&(!r||r.progressiveRender)&&e.__idxInPipeline>i.blockIndex?i.step:null,s=r&&r.modDataCount;return{step:o,modBy:null!=s?Math.ceil(s/o):null,modDataCount:s}}},n.prototype.getPipeline=function(e){return this._pipelineMap.get(e)},n.prototype.updateStreamModes=function(e,t){var i=this._pipelineMap.get(e.uid),r=e.getData().count(),o=i.progressiveEnabled&&t.incrementalPrepareRender&&r>=i.threshold,s=e.get("large")&&r>=e.get("largeThreshold"),l="mod"===e.get("progressiveChunkMode")?r:null;e.pipelineContext=i.context={progressiveRender:o,modDataCount:l,large:s}},n.prototype.restorePipelines=function(e){var t=this,i=t._pipelineMap=ii();e.eachSeries(function(r){var o=r.getProgressive(),s=r.uid;i.set(s,{id:s,head:null,tail:null,threshold:r.getProgressiveThreshold(),progressiveEnabled:o&&!(r.preventIncremental&&r.preventIncremental()),blockIndex:-1,step:Math.round(o||700),count:0}),t._pipe(r,r.dataTask)})},n.prototype.prepareStageTasks=function(){var e=this._stageTaskMap,t=this.api.getModel(),i=this.api;mt(this._allHandlers,function(r){var o=e.get(r.uid)||e.set(r.uid,{});Ni(!(r.reset&&r.overallReset),""),r.reset&&this._createSeriesStageTask(r,o,t,i),r.overallReset&&this._createOverallStageTask(r,o,t,i)},this)},n.prototype.prepareView=function(e,t,i,r){var o=e.renderTask,s=o.context;s.model=t,s.ecModel=i,s.api=r,o.__block=!e.incrementalPrepareRender,this._pipe(t,o)},n.prototype.performDataProcessorTasks=function(e,t){this._performStageTasks(this._dataProcessorHandlers,e,t,{block:!0})},n.prototype.performVisualTasks=function(e,t,i){this._performStageTasks(this._visualHandlers,e,t,i)},n.prototype._performStageTasks=function(e,t,i,r){r=r||{};var o=!1,s=this;function l(u,f){return u.setDirty&&(!u.dirtyMap||u.dirtyMap.get(f.__pipeline.id))}mt(e,function(u,f){if(!r.visualType||r.visualType===u.visualType){var p=s._stageTaskMap.get(u.uid),m=p.seriesTaskMap,b=p.overallTask;if(b){var w,k=b.agentStubMap;k.each(function(I){l(r,I)&&(I.dirty(),w=!0)}),w&&b.dirty(),s.updatePayload(b,i);var M=s.getPerformArgs(b,r.block);k.each(function(I){I.perform(M)}),b.perform(M)&&(o=!0)}else m&&m.each(function(I,O){l(r,I)&&I.dirty();var B=s.getPerformArgs(I,r.block);B.skip=!u.performRawSeries&&t.isSeriesFiltered(I.context.model),s.updatePayload(I,i),I.perform(B)&&(o=!0)})}}),this.unfinished=o||this.unfinished},n.prototype.performSeriesTasks=function(e){var t;e.eachSeries(function(i){t=i.dataTask.perform()||t}),this.unfinished=t||this.unfinished},n.prototype.plan=function(){this._pipelineMap.each(function(e){var t=e.tail;do{if(t.__block){e.blockIndex=t.__idxInPipeline;break}t=t.getUpstream()}while(t)})},n.prototype.updatePayload=function(e,t){"remain"!==t&&(e.context.payload=t)},n.prototype._createSeriesStageTask=function(e,t,i,r){var o=this,s=t.seriesTaskMap,l=t.seriesTaskMap=ii(),u=e.seriesType,f=e.getTargetSeries;function p(m){var b=m.uid,w=l.set(b,s&&s.get(b)||Lf({plan:l0,reset:MS,count:IS}));w.context={model:m,ecModel:i,api:r,useClearVisual:e.isVisual&&!e.isLayout,plan:e.plan,reset:e.reset,scheduler:o},o._pipe(m,w)}e.createOnAllSeries?i.eachRawSeries(p):u?i.eachRawSeriesByType(u,p):f&&f(i,r).each(p)},n.prototype._createOverallStageTask=function(e,t,i,r){var o=this,s=t.overallTask=t.overallTask||Lf({reset:v1});s.context={ecModel:i,api:r,overallReset:e.overallReset,scheduler:o};var l=s.agentStubMap,u=s.agentStubMap=ii(),f=e.seriesType,p=e.getTargetSeries,m=!0,b=!1;function k(M){var I=M.uid,O=u.set(I,l&&l.get(I)||(b=!0,Lf({reset:Uc,onDirty:AS})));O.context={model:M,overallProgress:m},O.agent=s,O.__block=m,o._pipe(M,O)}Ni(!e.createOnAllSeries,""),f?i.eachRawSeriesByType(f,k):p?p(i,r).each(k):(m=!1,mt(i.getSeries(),k)),b&&s.dirty()},n.prototype._pipe=function(e,t){var r=this._pipelineMap.get(e.uid);!r.head&&(r.head=t),r.tail&&r.tail.pipe(t),r.tail=t,t.__idxInPipeline=r.count++,t.__pipeline=r},n.wrapStageHandler=function(e,t){return Fe(e)&&(e={overallReset:e,seriesType:DS(e)}),e.uid=wf("stageHandler"),t&&(e.visualType=t),e},n}();function v1(n){n.overallReset(n.ecModel,n.api,n.payload)}function Uc(n){return n.overallProgress&&Kp}function Kp(){this.agent.dirty(),this.getDownstream().dirty()}function AS(){this.agent&&this.agent.dirty()}function l0(n){return n.plan?n.plan(n.model,n.ecModel,n.api,n.payload):null}function MS(n){n.useClearVisual&&n.data.clearAllVisual();var e=n.resetDefines=mr(n.reset(n.model,n.ecModel,n.api,n.payload));return e.length>1?zt(e,function(t,i){return u0(i)}):TS}var TS=u0(0);function u0(n){return function(e,t){var i=t.data,r=t.resetDefines[n];if(r&&r.dataEach)for(var o=e.start;o<e.end;o++)r.dataEach(i,o);else r&&r.progress&&r.progress(e,i)}}function IS(n){return n.data.count()}function DS(n){Om=null;try{n(Qp,y1)}catch(e){}return Om}var Om,Qp={},y1={};function x1(n,e){for(var t in e.prototype)n[t]=Mr}x1(Qp,Hb),x1(y1,ru),Qp.eachSeriesByType=Qp.eachRawSeriesByType=function(n){Om=n},Qp.eachComponent=function(n){"series"===n.mainType&&n.subType&&(Om=n.subType)};var b1=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"],ES={color:b1,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],b1]},bs="#B9B8CE",_1="#100C2A",Bf=function(){return{axisLine:{lineStyle:{color:bs}},splitLine:{lineStyle:{color:"#484753"}},splitArea:{areaStyle:{color:["rgba(255,255,255,0.02)","rgba(255,255,255,0.05)"]}},minorSplitLine:{lineStyle:{color:"#20203B"}}}},w1=["#4992ff","#7cffb2","#fddd60","#ff6e76","#58d9f9","#05c091","#ff8a45","#8d48e3","#dd79ff"],zf={darkMode:!0,color:w1,backgroundColor:_1,axisPointer:{lineStyle:{color:"#817f91"},crossStyle:{color:"#817f91"},label:{color:"#fff"}},legend:{textStyle:{color:bs}},textStyle:{color:bs},title:{textStyle:{color:"#EEF1FA"},subtextStyle:{color:"#B9B8CE"}},toolbox:{iconStyle:{borderColor:bs}},dataZoom:{borderColor:"#71708A",textStyle:{color:bs},brushStyle:{color:"rgba(135,163,206,0.3)"},handleStyle:{color:"#353450",borderColor:"#C5CBE3"},moveHandleStyle:{color:"#B0B6C3",opacity:.3},fillerColor:"rgba(135,163,206,0.2)",emphasis:{handleStyle:{borderColor:"#91B7F2",color:"#4D587D"},moveHandleStyle:{color:"#636D9A",opacity:.7}},dataBackground:{lineStyle:{color:"#71708A",width:1},areaStyle:{color:"#71708A"}},selectedDataBackground:{lineStyle:{color:"#87A3CE"},areaStyle:{color:"#87A3CE"}}},visualMap:{textStyle:{color:bs}},timeline:{lineStyle:{color:bs},label:{color:bs},controlStyle:{color:bs,borderColor:bs}},calendar:{itemStyle:{color:_1},dayLabel:{color:bs},monthLabel:{color:bs},yearLabel:{color:bs}},timeAxis:Bf(),logAxis:Bf(),valueAxis:Bf(),categoryAxis:Bf(),line:{symbol:"circle"},graph:{color:w1},gauge:{title:{color:bs},axisLine:{lineStyle:{color:[[1,"rgba(207,212,219,0.2)"]]}},axisLabel:{color:bs},detail:{color:"#EEF1FA"}},candlestick:{itemStyle:{color:"#f64e56",color0:"#54ea92",borderColor:"#f64e56",borderColor0:"#54ea92"}}};zf.categoryAxis.splitLine.show=!1;var LS=function(){function n(){}return n.prototype.normalizeQuery=function(e){var t={},i={},r={};if(Ke(e)){var o=Wa(e);t.mainType=o.main||null,t.subType=o.sub||null}else{var s=["Index","Name","Id"],l={name:1,dataIndex:1,dataType:1};mt(e,function(u,f){for(var p=!1,m=0;m<s.length;m++){var b=s[m],w=f.lastIndexOf(b);if(w>0&&w===f.length-b.length){var k=f.slice(0,w);"data"!==k&&(t.mainType=k,t[b.toLowerCase()]=u,p=!0)}}l.hasOwnProperty(f)&&(i[f]=u,p=!0),p||(r[f]=u)})}return{cptQuery:t,dataQuery:i,otherQuery:r}},n.prototype.filter=function(e,t){var i=this.eventInfo;if(!i)return!0;var r=i.targetEl,o=i.packedEvent,s=i.model,l=i.view;if(!s||!l)return!0;var u=t.cptQuery,f=t.dataQuery;return p(u,s,"mainType")&&p(u,s,"subType")&&p(u,s,"index","componentIndex")&&p(u,s,"name")&&p(u,s,"id")&&p(f,o,"name")&&p(f,o,"dataIndex")&&p(f,o,"dataType")&&(!l.filterForExposedEvent||l.filterForExposedEvent(e,t.otherQuery,r,o));function p(m,b,w,k){return null==m[w]||b[k||w]===m[w]}},n.prototype.afterTrigger=function(){this.eventInfo=null},n}(),yA={createOnAllSeries:!0,performRawSeries:!0,reset:function(n,e){var t=n.getData();if(n.legendIcon&&t.setVisual("legendIcon",n.legendIcon),n.hasSymbolVisual){var i=n.get("symbol"),r=n.get("symbolSize"),o=n.get("symbolKeepAspect"),s=n.get("symbolRotate"),l=n.get("symbolOffset"),u=Fe(i),f=Fe(r),p=Fe(s),m=Fe(l),b=u||f||p||m,w=!u&&i?i:n.defaultSymbol;if(t.setVisual({legendIcon:n.legendIcon||w,symbol:w,symbolSize:f?null:r,symbolKeepAspect:o,symbolRotate:p?null:s,symbolOffset:m?null:l}),!e.isSeriesFiltered(n))return{dataEach:b?function(O,B){var H=n.getRawValue(B),X=n.getDataParams(B);u&&O.setItemVisual(B,"symbol",i(H,X)),f&&O.setItemVisual(B,"symbolSize",r(H,X)),p&&O.setItemVisual(B,"symbolRotate",s(H,X)),m&&O.setItemVisual(B,"symbolOffset",l(H,X))}:null}}}};function c0(n,e,t){switch(t){case"color":return n.getItemVisual(e,"style")[n.getVisual("drawType")];case"opacity":return n.getItemVisual(e,"style").opacity;case"symbol":case"symbolSize":case"liftZ":return n.getItemVisual(e,t)}}function Jp(n,e){switch(e){case"color":return n.getVisual("style")[n.getVisual("drawType")];case"opacity":return n.getVisual("style").opacity;case"symbol":case"symbolSize":case"liftZ":return n.getVisual(e)}}function S1(n,e,t,i){switch(t){case"color":n.ensureUniqueItemVisual(e,"style")[n.getVisual("drawType")]=i,n.setItemVisual(e,"colorFromPalette",!1);break;case"opacity":n.ensureUniqueItemVisual(e,"style").opacity=i;break;case"symbol":case"symbolSize":case"liftZ":n.setItemVisual(e,t,i)}}function PS(n,e){function t(i,r){var o=[];return i.eachComponent({mainType:"series",subType:n,query:r},function(s){o.push(s.seriesIndex)}),o}mt([[n+"ToggleSelect","toggleSelect"],[n+"Select","select"],[n+"UnSelect","unselect"]],function(i){e(i[0],function(r,o,s){r=Dt({},r),s.dispatchAction(Dt(r,{type:i[1],seriesIndex:t(o,r)}))})})}function zd(n,e,t,i,r){var o=n+e;t.isSilent(o)||i.eachComponent({mainType:"series",subType:"pie"},function(s){for(var l=s.seriesIndex,u=r.selected,f=0;f<u.length;f++)if(u[f].seriesIndex===l){var p=s.getData(),m=Ju(p,r.fromActionPayload);t.trigger(o,{type:o,seriesId:s.id,name:Jt(m)?p.getName(m[0]):p.getName(m),selected:Dt({},s.option.selectedMap)})}})}function Fd(n,e,t){for(var i;n&&(!e(n)||(i=n,!t));)n=n.__hostTarget||n.parent;return i}var OS=Math.round(9*Math.random()),NS="function"==typeof Object.defineProperty,C1=function(){function n(){this._id="__ec_inner_"+OS++}return n.prototype.get=function(e){return this._guard(e)[this._id]},n.prototype.set=function(e,t){var i=this._guard(e);return NS?Object.defineProperty(i,this._id,{value:t,enumerable:!1,configurable:!0}):i[this._id]=t,this},n.prototype.delete=function(e){return!!this.has(e)&&(delete this._guard(e)[this._id],!0)},n.prototype.has=function(e){return!!this._guard(e)[this._id]},n.prototype._guard=function(e){if(e!==Object(e))throw TypeError("Value of WeakMap is not a non-null object.");return e},n}(),RS=zi.extend({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(n,e){var t=e.cx,i=e.cy,r=e.width/2,o=e.height/2;n.moveTo(t,i-o),n.lineTo(t+r,i+o),n.lineTo(t-r,i+o),n.closePath()}}),BS=zi.extend({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(n,e){var t=e.cx,i=e.cy,r=e.width/2,o=e.height/2;n.moveTo(t,i-o),n.lineTo(t+r,i),n.lineTo(t,i+o),n.lineTo(t-r,i),n.closePath()}}),xA=zi.extend({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(n,e){var t=e.x,i=e.y,r=e.width/5*3,o=Math.max(r,e.height),s=r/2,l=s*s/(o-s),u=i-o+s+l,f=Math.asin(l/s),p=Math.cos(f)*s,m=Math.sin(f),b=Math.cos(f),w=.6*s,k=.7*s;n.moveTo(t-p,u+l),n.arc(t,u,s,Math.PI-f,2*Math.PI+f),n.bezierCurveTo(t+p-m*w,u+l+b*w,t,i-k,t,i),n.bezierCurveTo(t,i-k,t-p+m*w,u+l+b*w,t-p,u+l),n.closePath()}}),bA=zi.extend({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(n,e){var t=e.height,r=e.x,o=e.y,s=e.width/3*2;n.moveTo(r,o),n.lineTo(r+s,o+t),n.lineTo(r,o+t/4*3),n.lineTo(r-s,o+t),n.lineTo(r,o),n.closePath()}}),zS={line:function(n,e,t,i,r){r.x1=n,r.y1=e+i/2,r.x2=n+t,r.y2=e+i/2},rect:function(n,e,t,i,r){r.x=n,r.y=e,r.width=t,r.height=i},roundRect:function(n,e,t,i,r){r.x=n,r.y=e,r.width=t,r.height=i,r.r=Math.min(t,i)/4},square:function(n,e,t,i,r){var o=Math.min(t,i);r.x=n,r.y=e,r.width=o,r.height=o},circle:function(n,e,t,i,r){r.cx=n+t/2,r.cy=e+i/2,r.r=Math.min(t,i)/2},diamond:function(n,e,t,i,r){r.cx=n+t/2,r.cy=e+i/2,r.width=t,r.height=i},pin:function(n,e,t,i,r){r.x=n+t/2,r.y=e+i/2,r.width=t,r.height=i},arrow:function(n,e,t,i,r){r.x=n+t/2,r.y=e+i/2,r.width=t,r.height=i},triangle:function(n,e,t,i,r){r.cx=n+t/2,r.cy=e+i/2,r.width=t,r.height=i}},h0={};mt({line:wa,rect:vr,roundRect:vr,square:vr,circle:eu,diamond:BS,pin:xA,arrow:bA,triangle:RS},function(n,e){h0[e]=new n});var _A=zi.extend({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(n,e,t){var i=Yl(n,e,t),r=this.shape;return r&&"pin"===r.symbolType&&"inside"===e.position&&(i.y=t.y+.4*t.height),i},buildPath:function(n,e,t){var i=e.symbolType;if("none"!==i){var r=h0[i];r||(r=h0[i="rect"]),zS[i](e.x,e.y,e.width,e.height,r.shape),r.buildPath(n,r.shape,t)}}});function d0(n,e){if("image"!==this.type){var t=this.style;this.__isEmptyBrush?(t.stroke=n,t.fill=e||"#fff",t.lineWidth=2):"line"===this.shape.symbolType?t.stroke=n:t.fill=n,this.markRedraw()}}function oa(n,e,t,i,r,o,s){var l,u=0===n.indexOf("empty");return u&&(n=n.substr(5,1).toLowerCase()+n.substr(6)),(l=0===n.indexOf("image://")?py(n.slice(8),new Xi(e,t,i,r),s?"center":"cover"):0===n.indexOf("path://")?kd(n.slice(7),{},new Xi(e,t,i,r),s?"center":"cover"):new _A({shape:{symbolType:n,x:e,y:t,width:i,height:r}})).__isEmptyBrush=u,l.setColor=d0,o&&l.setColor(o),l}function tg(n){return Jt(n)||(n=[+n,+n]),[n[0]||0,n[1]||0]}function eg(n,e){if(null!=n)return Jt(n)||(n=[n,n]),[In(n[0],e[0])||0,In(Tn(n[1],n[0]),e[1])||0]}function Nm(n,e,t){for(var i="radial"===e.type?(s=n,l=e,void 0,void 0,void 0,b=void 0,w=void 0,k=void 0,f=(u=t).width,p=u.height,m=Math.min(f,p),b=null==l.x?.5:l.x,w=null==l.y?.5:l.y,k=null==l.r?.5:l.r,l.global||(b=b*f+u.x,w=w*p+u.y,k*=m),s.createRadialGradient(b,w,0,b,w,k)):function(s,l,u){var f=null==l.x?0:l.x,p=null==l.x2?1:l.x2,m=null==l.y?0:l.y,b=null==l.y2?0:l.y2;return l.global||(f=f*u.width+u.x,p=p*u.width+u.x,m=m*u.height+u.y,b=b*u.height+u.y),f=isNaN(f)?0:f,p=isNaN(p)?1:p,m=isNaN(m)?0:m,b=isNaN(b)?0:b,s.createLinearGradient(f,m,p,b)}(n,e,t),r=e.colorStops,o=0;o<r.length;o++)i.addColorStop(r[o].offset,r[o].color);var s,l,u,f,p,m,b,w,k;return i}function f0(n,e){if(n===e||!n&&!e)return!1;if(!n||!e||n.length!==e.length)return!0;for(var t=0;t<n.length;t++)if(n[t]!==e[t])return!0;return!1}function Rm(n,e){return n&&"solid"!==n&&e>0?(e=e||1,"dashed"===n?[4*e,2*e]:"dotted"===n?[e]:hn(n)?[n]:Jt(n)?n:null):null}var FS=new en(!0);function Ff(n){var e=n.stroke;return!(null==e||"none"===e||!(n.lineWidth>0))}function p0(n){return"string"==typeof n&&"none"!==n}function Vf(n){var e=n.fill;return null!=e&&"none"!==e}function k1(n,e){if(null!=e.fillOpacity&&1!==e.fillOpacity){var t=n.globalAlpha;n.globalAlpha=e.fillOpacity*e.opacity,n.fill(),n.globalAlpha=t}else n.fill()}function A1(n,e){if(null!=e.strokeOpacity&&1!==e.strokeOpacity){var t=n.globalAlpha;n.globalAlpha=e.strokeOpacity*e.opacity,n.stroke(),n.globalAlpha=t}else n.stroke()}function hc(n,e,t){var i=Lc(e.image,e.__image,t);if($l(i)){var r=n.createPattern(i,e.repeat||"repeat");if("function"==typeof DOMMatrix&&r.setTransform){var o=new DOMMatrix;o.rotateSelf(0,0,(e.rotation||0)/Math.PI*180),o.scaleSelf(e.scaleX||1,e.scaleY||1),o.translateSelf(e.x||0,e.y||0),r.setTransform(o)}return r}}var VS=["shadowBlur","shadowOffsetX","shadowOffsetY"],g0=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];function aa(n,e,t,i,r){var o=!1;if(!i&&e===(t=t||{}))return!1;if(i||e.opacity!==t.opacity){o||(Dl(n,r),o=!0);var s=Math.max(Math.min(e.opacity,1),0);n.globalAlpha=isNaN(s)?ja.opacity:s}(i||e.blend!==t.blend)&&(o||(Dl(n,r),o=!0),n.globalCompositeOperation=e.blend||ja.blend);for(var l=0;l<VS.length;l++){var u=VS[l];(i||e[u]!==t[u])&&(o||(Dl(n,r),o=!0),n[u]=n.dpr*(e[u]||0))}return(i||e.shadowColor!==t.shadowColor)&&(o||(Dl(n,r),o=!0),n.shadowColor=e.shadowColor||ja.shadowColor),o}function M1(n,e,t,i,r){var o=ng(e,r.inHover),s=i?null:t&&ng(t,r.inHover)||{};if(o===s)return!1;var l=aa(n,o,s,i,r);if((i||o.fill!==s.fill)&&(l||(Dl(n,r),l=!0),p0(o.fill)&&(n.fillStyle=o.fill)),(i||o.stroke!==s.stroke)&&(l||(Dl(n,r),l=!0),p0(o.stroke)&&(n.strokeStyle=o.stroke)),(i||o.opacity!==s.opacity)&&(l||(Dl(n,r),l=!0),n.globalAlpha=null==o.opacity?1:o.opacity),e.hasStroke()){var u=o.lineWidth/(o.strokeNoScale&&e&&e.getLineScale?e.getLineScale():1);n.lineWidth!==u&&(l||(Dl(n,r),l=!0),n.lineWidth=u)}for(var f=0;f<g0.length;f++){var p=g0[f],m=p[0];(i||o[m]!==s[m])&&(l||(Dl(n,r),l=!0),n[m]=o[m]||p[1])}return l}function T1(n,e){var t=e.transform,i=n.dpr||1;t?n.setTransform(i*t[0],i*t[1],i*t[2],i*t[3],i*t[4],i*t[5]):n.setTransform(i,0,0,i,0,0)}function Dl(n,e){e.batchFill&&n.fill(),e.batchStroke&&n.stroke(),e.batchFill="",e.batchStroke=""}function ng(n,e){return e&&n.__hoverStyle||n.style}function Bm(n,e){$c(n,e,{inHover:!1,viewWidth:0,viewHeight:0},!0)}function $c(n,e,t,i){var r=e.transform;if(!e.shouldBePainted(t.viewWidth,t.viewHeight,!1,!1))return e.__dirty&=-2,void(e.__isRendered=!1);var k,M,I,o=e.__clipPaths,s=t.prevElClipPaths,l=!1,u=!1;if(s&&!f0(o,s)||(s&&s.length&&(Dl(n,t),n.restore(),u=l=!0,t.prevElClipPaths=null,t.allClipped=!1,t.prevEl=null),o&&o.length&&(Dl(n,t),n.save(),function(k,M,I){for(var O=!1,B=0;B<k.length;B++){var H=k[B];O=O||H.isZeroArea(),T1(M,H),M.beginPath(),H.buildPath(M,H.shape),M.clip()}I.allClipped=O}(o,n,t),l=!0),t.prevElClipPaths=o),t.allClipped)e.__isRendered=!1;else{e.beforeBrush&&e.beforeBrush(),e.innerBeforeBrush();var f=t.prevEl;f||(u=l=!0);var p,m,b=e instanceof zi&&e.autoBatch&&(M=Vf(k=e.style),I=Ff(k),!(k.lineDash||!(+M^+I)||M&&"string"!=typeof k.fill||I&&"string"!=typeof k.stroke||k.strokePercent<1||k.strokeOpacity<1||k.fillOpacity<1));l||(m=f.transform,(p=r)&&m?p[0]!==m[0]||p[1]!==m[1]||p[2]!==m[2]||p[3]!==m[3]||p[4]!==m[4]||p[5]!==m[5]:p||m)?(Dl(n,t),T1(n,e)):b||Dl(n,t);var w=ng(e,t.inHover);e instanceof zi?(1!==t.lastDrawType&&(u=!0,t.lastDrawType=1),M1(n,e,f,u,t),b&&(t.batchFill||t.batchStroke)||n.beginPath(),function(k,M,I,O){var B=Ff(I),H=Vf(I),X=I.strokePercent,U=X<1,$=!M.path;M.silent&&!U||!$||M.createPathProxy();var et=M.path||FS;if(!O){var at=I.fill,At=I.stroke,Mt=H&&!!at.colorStops,Lt=B&&!!At.colorStops,Gt=H&&!!at.image,ne=B&&!!At.image,re=void 0,fe=void 0,ye=void 0,Te=void 0,Ie=void 0;(Mt||Lt)&&(Ie=M.getBoundingRect()),Mt&&(re=M.__dirty?Nm(k,at,Ie):M.__canvasFillGradient,M.__canvasFillGradient=re),Lt&&(fe=M.__dirty?Nm(k,At,Ie):M.__canvasStrokeGradient,M.__canvasStrokeGradient=fe),Gt&&(ye=M.__dirty||!M.__canvasFillPattern?hc(k,at,M):M.__canvasFillPattern,M.__canvasFillPattern=ye),ne&&(Te=M.__dirty||!M.__canvasStrokePattern?hc(k,At,M):M.__canvasStrokePattern,M.__canvasStrokePattern=ye),Mt?k.fillStyle=re:Gt&&(ye?k.fillStyle=ye:H=!1),Lt?k.strokeStyle=fe:ne&&(Te?k.strokeStyle=Te:B=!1)}var Re=I.lineDash&&I.lineWidth>0&&Rm(I.lineDash,I.lineWidth),Xe=I.lineDashOffset,cn=!!k.setLineDash,_n=M.getGlobalScale();if(et.setScale(_n[0],_n[1],M.segmentIgnoreThreshold),Re){var Hn=I.strokeNoScale&&M.getLineScale?M.getLineScale():1;Hn&&1!==Hn&&(Re=zt(Re,function(Dn){return Dn/Hn}),Xe/=Hn)}var gn=!0;($||4&M.__dirty||Re&&!cn&&B)&&(et.setDPR(k.dpr),U?et.setContext(null):(et.setContext(k),gn=!1),et.reset(),Re&&!cn&&(et.setLineDash(Re),et.setLineDashOffset(Xe)),M.buildPath(et,M.shape,O),et.toStatic(),M.pathUpdated()),gn&&et.rebuildPath(k,U?X:1),Re&&cn&&(k.setLineDash(Re),k.lineDashOffset=Xe),O||(I.strokeFirst?(B&&A1(k,I),H&&k1(k,I)):(H&&k1(k,I),B&&A1(k,I))),Re&&cn&&k.setLineDash([])}(n,e,w,b),b&&(t.batchFill=w.fill||"",t.batchStroke=w.stroke||"")):e instanceof ia?(3!==t.lastDrawType&&(u=!0,t.lastDrawType=3),M1(n,e,f,u,t),function(k,M,I){var O=I.text;if(null!=O&&(O+=""),O){k.font=I.font||el,k.textAlign=I.textAlign,k.textBaseline=I.textBaseline;var B=void 0;if(k.setLineDash){var H=I.lineDash&&I.lineWidth>0&&Rm(I.lineDash,I.lineWidth),X=I.lineDashOffset;if(H){var U=I.strokeNoScale&&M.getLineScale?M.getLineScale():1;U&&1!==U&&(H=zt(H,function($){return $/U}),X/=U),k.setLineDash(H),k.lineDashOffset=X,B=!0}}I.strokeFirst?(Ff(I)&&k.strokeText(O,I.x,I.y),Vf(I)&&k.fillText(O,I.x,I.y)):(Vf(I)&&k.fillText(O,I.x,I.y),Ff(I)&&k.strokeText(O,I.x,I.y)),B&&k.setLineDash([])}}(n,e,w)):e instanceof ga?(2!==t.lastDrawType&&(u=!0,t.lastDrawType=2),function(k,M,I,O,B){aa(k,ng(M,B.inHover),I&&ng(I,B.inHover),O,B)}(n,e,f,u,t),function(k,M,I){var O=M.__image=Lc(I.image,M.__image,M,M.onload);if(O&&$l(O)){var B=I.x||0,H=I.y||0,X=M.getWidth(),U=M.getHeight(),$=O.width/O.height;if(null==X&&null!=U?X=U*$:null==U&&null!=X?U=X/$:null==X&&null==U&&(X=O.width,U=O.height),I.sWidth&&I.sHeight){var et=I.sx||0,at=I.sy||0;k.drawImage(O,et,at,I.sWidth,I.sHeight,B,H,X,U)}else if(I.sx&&I.sy){var At=X-(et=I.sx),Mt=U-(at=I.sy);k.drawImage(O,et,at,At,Mt,B,H,X,U)}else k.drawImage(O,B,H,X,U)}}(n,e,w)):e instanceof Ip&&(4!==t.lastDrawType&&(u=!0,t.lastDrawType=4),function(k,M,I){var O=M.getDisplayables(),B=M.getTemporalDisplayables();k.save();var H,X,U={prevElClipPaths:null,prevEl:null,allClipped:!1,viewWidth:I.viewWidth,viewHeight:I.viewHeight,inHover:I.inHover};for(H=M.getCursor(),X=O.length;H<X;H++)(at=O[H]).beforeBrush&&at.beforeBrush(),at.innerBeforeBrush(),$c(k,at,U,H===X-1),at.innerAfterBrush(),at.afterBrush&&at.afterBrush(),U.prevEl=at;for(var $=0,et=B.length;$<et;$++){var at;(at=B[$]).beforeBrush&&at.beforeBrush(),at.innerBeforeBrush(),$c(k,at,U,$===et-1),at.innerAfterBrush(),at.afterBrush&&at.afterBrush(),U.prevEl=at}M.clearTemporalDisplayables(),M.notClear=!0,k.restore()}(n,e,t)),b&&i&&Dl(n,t),e.innerAfterBrush(),e.afterBrush&&e.afterBrush(),t.prevEl=e,e.__dirty=0,e.__isRendered=!0}}var Hf,I1=new C1,m0=new Ts(100),Wf=["symbol","symbolSize","symbolKeepAspect","color","backgroundColor","dashArrayX","dashArrayY","maxTileWidth","maxTileHeight"];function ig(n,e){if("none"===n)return null;var t=e.getDevicePixelRatio(),i=e.getZr(),r="svg"===i.painter.type;n.dirty&&I1.delete(n);var o=I1.get(n);if(o)return o;var s=se(n,{symbol:"rect",symbolSize:1,symbolKeepAspect:!0,color:"rgba(0, 0, 0, 0.2)",backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512});"none"===s.backgroundColor&&(s.backgroundColor=null);var l={repeat:"repeat"};return function(u){for(var f,p=[t],m=!0,b=0;b<Wf.length;++b){var w=s[Wf[b]],k=typeof w;if(null!=w&&!Jt(w)&&"string"!==k&&"number"!==k&&"boolean"!==k){m=!1;break}p.push(w)}if(m){f=p.join(",")+(r?"-svg":"");var M=m0.get(f);M&&(r?u.svgElement=M:u.image=M)}var I,O=v0(s.dashArrayX),B=function(Mt){if(!Mt||"object"==typeof Mt&&0===Mt.length)return[0,0];if("number"==typeof Mt){var Lt=Math.ceil(Mt);return[Lt,Lt]}var Gt=zt(Mt,function(ne){return Math.ceil(ne)});return Mt.length%2?Gt.concat(Gt):Gt}(s.dashArrayY),H=zm(s.symbol),X=zt(O,function(Mt){return D1(Mt)}),U=D1(B),$=!r&&Pe(),et=r&&i.painter.createSVGElement("g"),at=function(){for(var Mt=1,Lt=0,Gt=X.length;Lt<Gt;++Lt)Mt=io(Mt,X[Lt]);var ne=1;for(Lt=0,Gt=H.length;Lt<Gt;++Lt)ne=io(ne,H[Lt].length);Mt*=ne;var re=U*X.length*H.length;return{width:Math.max(1,Math.min(Mt,s.maxTileWidth)),height:Math.max(1,Math.min(re,s.maxTileHeight))}}();$&&($.width=at.width*t,$.height=at.height*t,I=$.getContext("2d")),function(){I&&(I.clearRect(0,0,$.width,$.height),s.backgroundColor&&(I.fillStyle=s.backgroundColor,I.fillRect(0,0,$.width,$.height)));for(var Mt=0,Lt=0;Lt<B.length;++Lt)Mt+=B[Lt];var Gi,Jo;if(!(Mt<=0))for(var Gt=-U,ne=0,re=0,fe=0;Gt<at.height;){if(ne%2==0){for(var ye=re/2%H.length,Te=0,Ie=0,Re=0;Te<2*at.width;){var Xe=0;for(Lt=0;Lt<O[fe].length;++Lt)Xe+=O[fe][Lt];if(Xe<=0)break;if(Ie%2==0){var cn=.5*(1-s.symbolSize);void 0,void 0,Jo=oa(H[ye][Re/2%H[ye].length],(Te+O[fe][Ie]*cn)*(Gi=r?1:t),(Gt+B[ne]*cn)*Gi,O[fe][Ie]*s.symbolSize*Gi,B[ne]*s.symbolSize*Gi,s.color,s.symbolKeepAspect),r?et.appendChild(i.painter.paintOne(Jo)):Bm(I,Jo)}Te+=O[fe][Ie],++Re,++Ie===O[fe].length&&(Ie=0)}++fe===O.length&&(fe=0)}Gt+=B[ne],++re,++ne===B.length&&(ne=0)}}(),m&&m0.put(f,$||et),u.image=$,u.svgElement=et,u.svgWidth=at.width,u.svgHeight=at.height}(l),l.rotation=s.rotation,l.scaleX=l.scaleY=r?1:1/t,I1.set(n,l),n.dirty=!1,l}function zm(n){if(!n||0===n.length)return[["rect"]];if("string"==typeof n)return[[n]];for(var e=!0,t=0;t<n.length;++t)if("string"!=typeof n[t]){e=!1;break}if(e)return zm([n]);var i=[];for(t=0;t<n.length;++t)i.push("string"==typeof n[t]?[n[t]]:n[t]);return i}function v0(n){if(!n||0===n.length)return[[0,0]];if("number"==typeof n)return[[r=Math.ceil(n),r]];for(var e=!0,t=0;t<n.length;++t)if("number"!=typeof n[t]){e=!1;break}if(e)return v0([n]);var i=[];for(t=0;t<n.length;++t)if("number"==typeof n[t]){var r=Math.ceil(n[t]);i.push([r,r])}else(r=zt(n[t],function(o){return Math.ceil(o)})).length%2==1?i.push(r.concat(r)):i.push(r);return i}function D1(n){for(var e=0,t=0;t<n.length;++t)e+=n[t];return n.length%2==1?2*e:e}function E1(n){Ke(n)&&(n=(new DOMParser).parseFromString(n,"text/xml"));var e=n;for(9===e.nodeType&&(e=e.firstChild);"svg"!==e.nodeName.toLowerCase()||1!==e.nodeType;)e=e.nextSibling;return e}var y0={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-anchor":"textAlign",visibility:"visibility",display:"display"},L1=be(y0),Fm={"alignment-baseline":"textBaseline","stop-color":"stopColor"},P1=be(Fm),wA=function(){function n(){this._defs={},this._root=null}return n.prototype.parse=function(e,t){t=t||{};var i=E1(e);if(!i)throw new Error("Illegal svg");this._defsUsePending=[];var r=new bt;this._root=r;var o=[],s=i.getAttribute("viewBox")||"",l=parseFloat(i.getAttribute("width")||t.width),u=parseFloat(i.getAttribute("height")||t.height);isNaN(l)&&(l=null),isNaN(u)&&(u=null),Ll(i,r,null,!0,!1);for(var f,p,m=i.firstChild;m;)this._parseNode(m,r,o,null,!1,!1),m=m.nextSibling;if(function(k,M){for(var I=0;I<M.length;I++){var O=M[I];O[0].style[O[1]]=k[O[2]]}}(this._defs,this._defsUsePending),this._defsUsePending=[],s){var b=b0(s);b.length>=4&&(f={x:parseFloat(b[0]||0),y:parseFloat(b[1]||0),width:parseFloat(b[2]),height:parseFloat(b[3])})}if(f&&null!=l&&null!=u&&(p=jS(f,{x:0,y:0,width:l,height:u}),!t.ignoreViewBox)){var w=r;(r=new bt).add(w),w.scaleX=w.scaleY=p.scale,w.x=p.x,w.y=p.y}return t.ignoreRootClip||null==l||null==u||r.setClipPath(new vr({shape:{x:0,y:0,width:l,height:u}})),{root:r,width:l,height:u,viewBoxRect:f,viewBoxTransform:p,named:o}},n.prototype._parseNode=function(e,t,i,r,o,s){var l,u=e.nodeName.toLowerCase(),f=r;if("defs"===u&&(o=!0),"text"===u&&(s=!0),"defs"===u||"switch"===u)l=t;else{if(!o){var p=Hf[u];if(p&&ei(Hf,u)){l=p.call(this,e,t);var m=e.getAttribute("name");if(m){var b={name:m,namedFrom:null,svgNodeTagLower:u,el:l};i.push(b),"g"===u&&(f=b)}else r&&i.push({name:r.name,namedFrom:r,svgNodeTagLower:u,el:l});t.add(l)}}var w=x0[u];if(w&&ei(x0,u)){var k=w.call(this,e),M=e.getAttribute("id");M&&(this._defs[M]=k)}}if(l&&l.isGroup)for(var I=e.firstChild;I;)1===I.nodeType?this._parseNode(I,l,i,f,o,s):3===I.nodeType&&s&&this._parseText(I,l),I=I.nextSibling},n.prototype._parseText=function(e,t){var i=new ia({style:{text:e.textContent},silent:!0,x:this._textX||0,y:this._textY||0});El(t,i),Ll(e,i,this._defsUsePending,!1,!1),function(u,f){var p=f.__selfStyle;if(p){var m=p.textBaseline,b=m;m&&"auto"!==m?"baseline"===m?b="alphabetic":"before-edge"===m||"text-before-edge"===m?b="top":"after-edge"===m||"text-after-edge"===m?b="bottom":"central"!==m&&"mathematical"!==m||(b="middle"):b="alphabetic",u.style.textBaseline=b}var w=f.__inheritedStyle;if(w){var k=w.textAlign,M=k;k&&("middle"===k&&(M="center"),u.style.textAlign=M)}}(i,t);var r=i.style,o=r.fontSize;o&&o<9&&(r.fontSize=9,i.scaleX*=o/9,i.scaleY*=o/9);var s=(r.fontSize||r.fontFamily)&&[r.fontStyle,r.fontWeight,(r.fontSize||12)+"px",r.fontFamily||"sans-serif"].join(" ");r.font=s;var l=i.getBoundingRect();return this._textX+=l.width,t.add(i),i},n.internalField=void(Hf={g:function(e,t){var i=new bt;return El(t,i),Ll(e,i,this._defsUsePending,!1,!1),i},rect:function(e,t){var i=new vr;return El(t,i),Ll(e,i,this._defsUsePending,!1,!1),i.setShape({x:parseFloat(e.getAttribute("x")||"0"),y:parseFloat(e.getAttribute("y")||"0"),width:parseFloat(e.getAttribute("width")||"0"),height:parseFloat(e.getAttribute("height")||"0")}),i.silent=!0,i},circle:function(e,t){var i=new eu;return El(t,i),Ll(e,i,this._defsUsePending,!1,!1),i.setShape({cx:parseFloat(e.getAttribute("cx")||"0"),cy:parseFloat(e.getAttribute("cy")||"0"),r:parseFloat(e.getAttribute("r")||"0")}),i.silent=!0,i},line:function(e,t){var i=new wa;return El(t,i),Ll(e,i,this._defsUsePending,!1,!1),i.setShape({x1:parseFloat(e.getAttribute("x1")||"0"),y1:parseFloat(e.getAttribute("y1")||"0"),x2:parseFloat(e.getAttribute("x2")||"0"),y2:parseFloat(e.getAttribute("y2")||"0")}),i.silent=!0,i},ellipse:function(e,t){var i=new kp;return El(t,i),Ll(e,i,this._defsUsePending,!1,!1),i.setShape({cx:parseFloat(e.getAttribute("cx")||"0"),cy:parseFloat(e.getAttribute("cy")||"0"),rx:parseFloat(e.getAttribute("rx")||"0"),ry:parseFloat(e.getAttribute("ry")||"0")}),i.silent=!0,i},polygon:function(e,t){var i,r=e.getAttribute("points");r&&(i=HS(r));var o=new qa({shape:{points:i||[]},silent:!0});return El(t,o),Ll(e,o,this._defsUsePending,!1,!1),o},polyline:function(e,t){var i,r=e.getAttribute("points");r&&(i=HS(r));var o=new Fs({shape:{points:i||[]},silent:!0});return El(t,o),Ll(e,o,this._defsUsePending,!1,!1),o},image:function(e,t){var i=new ga;return El(t,i),Ll(e,i,this._defsUsePending,!1,!1),i.setStyle({image:e.getAttribute("xlink:href")||e.getAttribute("href"),x:+e.getAttribute("x"),y:+e.getAttribute("y"),width:+e.getAttribute("width"),height:+e.getAttribute("height")}),i.silent=!0,i},text:function(e,t){var i=e.getAttribute("x")||"0",r=e.getAttribute("y")||"0",o=e.getAttribute("dx")||"0",s=e.getAttribute("dy")||"0";this._textX=parseFloat(i)+parseFloat(o),this._textY=parseFloat(r)+parseFloat(s);var l=new bt;return El(t,l),Ll(e,l,this._defsUsePending,!1,!0),l},tspan:function(e,t){var i=e.getAttribute("x"),r=e.getAttribute("y");null!=i&&(this._textX=parseFloat(i)),null!=r&&(this._textY=parseFloat(r));var o=e.getAttribute("dx")||"0",s=e.getAttribute("dy")||"0",l=new bt;return El(t,l),Ll(e,l,this._defsUsePending,!1,!0),this._textX+=parseFloat(o),this._textY+=parseFloat(s),l},path:function(e,t){var i=ab(e.getAttribute("d")||"");return El(t,i),Ll(e,i,this._defsUsePending,!1,!1),i.silent=!0,i}}),n}(),x0={lineargradient:function(n){var e=parseInt(n.getAttribute("x1")||"0",10),t=parseInt(n.getAttribute("y1")||"0",10),i=parseInt(n.getAttribute("x2")||"10",10),r=parseInt(n.getAttribute("y2")||"0",10),o=new Tp(e,t,i,r);return O1(n,o),N1(n,o),o},radialgradient:function(n){var e=parseInt(n.getAttribute("cx")||"0",10),t=parseInt(n.getAttribute("cy")||"0",10),i=parseInt(n.getAttribute("r")||"0",10),r=new hy(e,t,i);return O1(n,r),N1(n,r),r}};function O1(n,e){"userSpaceOnUse"===n.getAttribute("gradientUnits")&&(e.global=!0)}function N1(n,e){for(var t=n.firstChild;t;){if(1===t.nodeType&&"stop"===t.nodeName.toLocaleLowerCase()){var r,i=t.getAttribute("offset");r=i&&i.indexOf("%")>0?parseInt(i,10)/100:i?parseFloat(i):0;var o={};Hm(t,o,o);var s=o.stopColor||t.getAttribute("stop-color")||"#000000";e.colorStops.push({offset:r,color:s})}t=t.nextSibling}}function El(n,e){n&&n.__inheritedStyle&&(e.__inheritedStyle||(e.__inheritedStyle={}),se(e.__inheritedStyle,n.__inheritedStyle))}function HS(n){for(var e=b0(n),t=[],i=0;i<e.length;i+=2){var r=parseFloat(e[i]),o=parseFloat(e[i+1]);t.push([r,o])}return t}function Ll(n,e,t,i,r){var o=e,s=o.__inheritedStyle=o.__inheritedStyle||{},l={};1===n.nodeType&&(function(u,f){var p=u.getAttribute("transform");if(p){p=p.replace(/,/g," ");var m=[],b=null;p.replace(SA,function(O,B,H){return m.push(B,H),""});for(var w=m.length-1;w>0;w-=2){var M=m[w-1],I=b0(m[w]);switch(b=b||[1,0,0,1,0,0],M){case"translate":Eo(b,b,[parseFloat(I[0]),parseFloat(I[1]||"0")]);break;case"scale":vh(b,b,[parseFloat(I[0]),parseFloat(I[1]||I[0])]);break;case"rotate":Vr(b,b,-parseFloat(I[0])*_0);break;case"skewX":za(b,[1,0,Math.tan(parseFloat(I[0])*_0),1,0,0],b);break;case"skewY":za(b,[1,Math.tan(parseFloat(I[0])*_0),0,1,0,0],b);break;case"matrix":b[0]=parseFloat(I[0]),b[1]=parseFloat(I[1]),b[2]=parseFloat(I[2]),b[3]=parseFloat(I[3]),b[4]=parseFloat(I[4]),b[5]=parseFloat(I[5])}}f.setLocalTransform(b)}}(n,e),Hm(n,s,l),i||function(u,f,p){for(var m=0;m<L1.length;m++){var b=L1[m];null!=(w=u.getAttribute(b))&&(f[y0[b]]=w)}for(m=0;m<P1.length;m++){var w;null!=(w=u.getAttribute(b=P1[m]))&&(p[Fm[b]]=w)}}(n,s,l)),o.style=o.style||{},null!=s.fill&&(o.style.fill=WS(o,"fill",s.fill,t)),null!=s.stroke&&(o.style.stroke=WS(o,"stroke",s.stroke,t)),mt(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],function(u){null!=s[u]&&(o.style[u]=parseFloat(s[u]))}),mt(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign"],function(u){null!=s[u]&&(o.style[u]=s[u])}),r&&(o.__selfStyle=l),s.lineDash&&(o.style.lineDash=zt(b0(s.lineDash),function(u){return parseFloat(u)})),"hidden"!==s.visibility&&"collapse"!==s.visibility||(o.invisible=!0),"none"===s.display&&(o.ignore=!0)}var Vm=/^url\(\s*#(.*?)\)/;function WS(n,e,t,i){var r=t&&t.match(Vm);if(!r)return"none"===t&&(t=null),t;var o=br(r[1]);i.push([n,e,o])}var R1=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function b0(n){return n.match(R1)||[]}var SA=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.eE,]*)\)/g,_0=Math.PI/180,w0=/([^\s:;]+)\s*:\s*([^:;]+)/g;function Hm(n,e,t){var i,r=n.getAttribute("style");if(r)for(w0.lastIndex=0;null!=(i=w0.exec(r));){var o=i[1],s=ei(y0,o)?y0[o]:null;s&&(e[s]=i[2]);var l=ei(Fm,o)?Fm[o]:null;l&&(t[l]=i[2])}}function jS(n,e){var r=Math.min(e.width/n.width,e.height/n.height);return{scale:r,x:-(n.x+n.width/2)*r+(e.x+e.width/2),y:-(n.y+n.height/2)*r+(e.y+e.height/2)}}function rg(n,e){return Math.abs(n-e)<1e-8}function Zc(n,e,t){var i=0,r=n[0];if(!r)return!1;for(var o=1;o<n.length;o++){var s=n[o];i+=ci(r[0],r[1],s[0],s[1],e,t),r=s}var l=n[0];return rg(r[0],l[0])&&rg(r[1],l[1])||(i+=ci(r[0],r[1],l[0],l[1],e,t)),0!==i}var YS=[],XS=function(){function n(e){this.name=e}return n.prototype.getCenter=function(){},n}(),GS=function(n){function e(t,i,r){var o=n.call(this,t)||this;if(o.type="geoJSON",o.geometries=i,r)r=[r[0],r[1]];else{var s=o.getBoundingRect();r=[s.x+s.width/2,s.y+s.height/2]}return o._center=r,o}return Tt(e,n),e.prototype.getBoundingRect=function(){var t=this._rect;if(t)return t;for(var i=Number.MAX_VALUE,r=[i,i],o=[-i,-i],s=[],l=[],u=this.geometries,f=0;f<u.length;f++)"polygon"===u[f].type&&(Oc(u[f].exterior,s,l),ts(r,r,s),Ra(o,o,l));return 0===f&&(r[0]=r[1]=o[0]=o[1]=0),this._rect=new Xi(r[0],r[1],o[0]-r[0],o[1]-r[1])},e.prototype.contain=function(t){var i=this.getBoundingRect(),r=this.geometries;if(!i.contain(t[0],t[1]))return!1;t:for(var o=0,s=r.length;o<s;o++)if("polygon"===r[o].type){var u=r[o].interiors;if(Zc(r[o].exterior,t[0],t[1])){for(var f=0;f<(u?u.length:0);f++)if(Zc(u[f],t[0],t[1]))continue t;return!0}}return!1},e.prototype.transformTo=function(t,i,r,o){var s=this.getBoundingRect(),l=s.width/s.height;r?o||(o=r/l):r=l*o;for(var u=new Xi(t,i,r,o),f=s.calculateTransform(u),p=this.geometries,m=0;m<p.length;m++)if("polygon"===p[m].type){for(var b=p[m].exterior,w=p[m].interiors,k=0;k<b.length;k++)Dr(b[k],b[k],f);for(var M=0;M<(w?w.length:0);M++)for(k=0;k<w[M].length;k++)Dr(w[M][k],w[M][k],f)}(s=this._rect).copy(u),this._center=[s.x+s.width/2,s.y+s.height/2]},e.prototype.cloneShallow=function(t){null==t&&(t=this.name);var i=new e(t,this.geometries,this._center);return i._rect=this._rect,i.transformTo=null,i},e.prototype.getCenter=function(){return this._center},e.prototype.setCenter=function(t){this._center=t},e}(XS),jf=function(n){function e(t,i){var r=n.call(this,t)||this;return r.type="geoSVG",r._elOnlyForCalculate=i,r}return Tt(e,n),e.prototype.getCenter=function(){var t=this._center;return t||(t=this._center=this._calculateCenter()),t},e.prototype._calculateCenter=function(){for(var t=this._elOnlyForCalculate,i=t.getBoundingRect(),r=[i.x+i.width/2,i.y+i.height/2],o=ri(YS),s=t;s&&!s.isGeoSVGGraphicRoot;)za(o,s.getLocalTransform(),o),s=s.parent;return xa(o,o),Dr(r,r,o),r},e}(XS),qS=ii(["rect","circle","line","ellipse","polygon","polyline","path","text","tspan","g"]),US=function(){function n(e,t){this.type="geoSVG",this._usedGraphicMap=ii(),this._freedGraphics=[],this._mapName=e,this._parsedXML=E1(t)}return n.prototype.load=function(){var o,s,l,e=this._firstGraphic;if(!e){e=this._firstGraphic=this._buildGraphic(this._parsedXML),this._freedGraphics.push(e),this._boundingRect=this._firstGraphic.boundingRect.clone();var t=(o=e.named,s=[],l=ii(),mt(o,function(u){if(null==u.namedFrom){var f=new jf(u.name,u.el);s.push(f),l.set(u.name,f)}}),{regions:s,regionsMap:l}),r=t.regionsMap;this._regions=t.regions,this._regionsMap=r}return{boundingRect:this._boundingRect,regions:this._regions,regionsMap:this._regionsMap}},n.prototype._buildGraphic=function(e){var t,i,r,o;try{Ni(null!=(i=(t=e&&(r=e,o={ignoreViewBox:!0,ignoreRootClip:!0},(new wA).parse(r,o))||{}).root))}catch(B){throw new Error("Invalid svg format\n"+B.message)}var s=new bt;s.add(i),s.isGeoSVGGraphicRoot=!0;var l=t.width,u=t.height,f=t.viewBoxRect,p=this._boundingRect;if(!p){var m=void 0,b=void 0,w=void 0,k=void 0;if(null!=l?(m=0,w=l):f&&(m=f.x,w=f.width),null!=u?(b=0,k=u):f&&(b=f.y,k=f.height),null==m||null==b){var M=i.getBoundingRect();null==m&&(m=M.x,w=M.width),null==b&&(b=M.y,k=M.height)}p=this._boundingRect=new Xi(m,b,w,k)}if(f){var I=jS(f,p);i.scaleX=i.scaleY=I.scale,i.x=I.x,i.y=I.y}s.setClipPath(new vr({shape:p.plain()}));var O=[];return mt(t.named,function(B){var H;null!=qS.get(B.svgNodeTagLower)&&(O.push(B),(H=B.el).silent=!1,H.isGroup&&H.traverse(function(X){X.silent=!1}))}),{root:s,boundingRect:p,named:O}},n.prototype.useGraphic=function(e){var t=this._usedGraphicMap,i=t.get(e);return i||(i=this._freedGraphics.pop()||this._buildGraphic(this._parsedXML),t.set(e,i),i)},n.prototype.freeGraphic=function(e){var t=this._usedGraphicMap,i=t.get(e);i&&(t.removeKey(e),this._freedGraphics.push(i))},n}();function B1(n,e,t){for(var i=[],r=e[0],o=e[1],s=0;s<n.length;s+=2){var l=n.charCodeAt(s)-64,u=n.charCodeAt(s+1)-64;l=l>>1^-(1&l),u=u>>1^-(1&u),r=l+=r,o=u+=o,i.push([l/t,u/t])}return i}function S0(n,e){return zt(Ae((n=function(t){if(!t.UTF8Encoding)return t;var i=t,r=i.UTF8Scale;null==r&&(r=1024);for(var o=i.features,s=0;s<o.length;s++){var l=o[s].geometry;if("Polygon"===l.type)for(var u=l.coordinates,f=0;f<u.length;f++)u[f]=B1(u[f],l.encodeOffsets[f],r);else if("MultiPolygon"===l.type)for(u=l.coordinates,f=0;f<u.length;f++)for(var p=u[f],m=0;m<p.length;m++)p[m]=B1(p[m],l.encodeOffsets[f][m],r)}return i.UTF8Encoding=!1,i}(n)).features,function(t){return t.geometry&&t.properties&&t.geometry.coordinates.length>0}),function(t){var i=t.properties,r=t.geometry,o=[];if("Polygon"===r.type){var s=r.coordinates;o.push({type:"polygon",exterior:s[0],interiors:s.slice(1)})}"MultiPolygon"===r.type&&mt(s=r.coordinates,function(u){u[0]&&o.push({type:"polygon",exterior:u[0],interiors:u.slice(1)})});var l=new GS(i[e||"name"],o,i.cp);return l.properties=i,l})}for(var C0=[126,25],Yf=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]],Vd=0;Vd<Yf.length;Vd++)for(var Xf=0;Xf<Yf[Vd].length;Xf++)Yf[Vd][Xf][0]/=10.5,Yf[Vd][Xf][1]/=-14,Yf[Vd][Xf][0]+=C0[0],Yf[Vd][Xf][1]+=C0[1];var $S={\u5357\u6d77\u8bf8\u5c9b:[32,80],\u5e7f\u4e1c:[0,-10],\u9999\u6e2f:[10,5],\u6fb3\u95e8:[-10,10],\u5929\u6d25:[5,5]},ZS={Russia:[100,60],"United States":[-99,38],"United States of America":[-99,38]},CA=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]],k0=function(){function n(e,t,i){var r;this.type="geoJSON",this._parsedMap=ii(),this._mapName=e,this._specialAreas=i,this._geoJSON=Ke(r=t)?"undefined"!=typeof JSON&&JSON.parse?JSON.parse(r):new Function("return ("+r+");")():r}return n.prototype.load=function(e,t){var i=this._parsedMap.get(t=t||"name");if(!i){var r=this._parseToRegions(t);i=this._parsedMap.set(t,{regions:r,boundingRect:KS(r)})}var o=ii(),s=[];return mt(i.regions,function(l){var u=l.name;e&&e.hasOwnProperty(u)&&(l=l.cloneShallow(u=e[u])),s.push(l),o.set(u,l)}),{regions:s,boundingRect:i.boundingRect||new Xi(0,0,0,0),regionsMap:o}},n.prototype._parseToRegions=function(e){var t,i=this._mapName,r=this._geoJSON;try{t=r?S0(r,e):[]}catch(o){throw new Error("Invalid geoJson format\n"+o.message)}return function(o,s){if("china"===o){for(var l=0;l<s.length;l++)if("\u5357\u6d77\u8bf8\u5c9b"===s[l].name)return;s.push(new GS("\u5357\u6d77\u8bf8\u5c9b",zt(Yf,function(u){return{type:"polygon",exterior:u}}),C0))}}(i,t),mt(t,function(o){var f,s=o.name;(function(u,f){if("china"===u){var p=$S[f.name];if(p){var m=f.getCenter();m[0]+=p[0]/10.5,m[1]+=-p[1]/14,f.setCenter(m)}}})(i,o),function(u,f){if("world"===u){var p=ZS[f.name];p&&f.setCenter([p[0],p[1]])}}(i,o),f=o,"china"===i&&"\u53f0\u6e7e"===f.name&&f.geometries.push({type:"polygon",exterior:CA[0]});var l=this._specialAreas&&this._specialAreas[s];l&&o.transformTo(l.left,l.top,l.width,l.height)},this),t},n.prototype.getMapForUser=function(){return{geoJson:this._geoJSON,geoJSON:this._geoJSON,specialAreas:this._specialAreas}},n}();function KS(n){for(var e,t=0;t<n.length;t++){var i=n[t].getBoundingRect();(e=e||i.clone()).union(i)}return e}var jm=ii(),A0=function(n){return jm.get(n)},F1=function(n,e,t){var i=jm.get(n);if(i)return i.load(e,t)},zu=new v,AA="undefined"!=typeof window,Xm={PROCESSOR:{FILTER:1e3,SERIES_FILTER:800,STATISTIC:5e3},VISUAL:{LAYOUT:1e3,PROGRESSIVE_LAYOUT:1100,GLOBAL:2e3,CHART:3e3,POST_CHART_LAYOUT:4600,COMPONENT:4e3,BRUSH:5e3,CHART_ITEM:4500,ARIA:6e3,DECAL:7e3}},QS=/^[a-zA-Z0-9_]+$/,H1="__connectUpdateStatus";function JS(n){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(!this.isDisposed())return Fu(this,n,e)}}function tC(n){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Fu(this,n,e)}}function Fu(n,e,t){return t[0]=t[0]&&t[0].toLowerCase(),v.prototype[e].apply(n,t)}var ou,M0,Gm,dc,qm,Um,$m,Zm,og,W1,eC,Km,T0,j1,I0,Y1,nC,Vu,X1,G1=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return Tt(e,n),e}(v),q1=G1.prototype;q1.on=tC("on"),q1.off=tC("off");var Qm=function(n){function e(t,i,r){var o=n.call(this,new LS)||this;o._chartsViews=[],o._chartsMap={},o._componentsViews=[],o._componentsMap={},o._pendingActions=[],r=r||{},"string"==typeof i&&(i=P0[i]),o._dom=t;var u=o._zr=Wn(t,{renderer:r.renderer||"canvas",devicePixelRatio:r.devicePixelRatio,width:r.width,height:r.height,useDirtyRect:null!=r.useDirtyRect&&r.useDirtyRect});o._throttledZrFlush=Nf(_e(u.flush,u),17),(i=Pt(i))&&Bh(i,!0),o._theme=i,o._locale=function(m){if(Ke(m)){var b=Vs[m.toUpperCase()]||{};return"ZH"===m||"EN"===m?Pt(b):Xt(Pt(b),Pt(Vs.EN),!1)}return Xt(Pt(m),Pt(Vs.EN),!1)}(r.locale||Lu),o._coordSysMgr=new Rd;var f=o._api=Y1(o);function p(m,b){return m.__prio-b.__prio}return ns(L0,p),ns(ag,p),o._scheduler=new s0(o,f,ag,L0),o._messageCenter=new G1,o._initEvents(),o.resize=_e(o.resize,o),u.animation.on("frame",o._onframe,o),W1(u,o),eC(u,o),nr(o),o}return Tt(e,n),e.prototype._onframe=function(){if(!this._disposed){X1(this);var t=this._scheduler;if(this.__pendingUpdate){var i=this.__pendingUpdate.silent;this.__flagInMainProcess=!0,ou(this),dc.update.call(this,null,this.__pendingUpdate.updateParams),this._zr.flush(),this.__flagInMainProcess=!1,this.__pendingUpdate=null,Zm.call(this,i),og.call(this,i)}else if(t.unfinished){var r=1,o=this._model,s=this._api;t.unfinished=!1;do{var l=+new Date;t.performSeriesTasks(o),t.performDataProcessorTasks(o),Um(this,o),t.performVisualTasks(o),I0(this,this._model,s,"remain",{}),r-=+new Date-l}while(r>0&&t.unfinished);t.unfinished||this._zr.flush()}}},e.prototype.getDom=function(){return this._dom},e.prototype.getId=function(){return this.id},e.prototype.getZr=function(){return this._zr},e.prototype.setOption=function(t,i,r){if(this._disposed);else{var o,s,l;if($e(i)&&(r=i.lazyUpdate,o=i.silent,s=i.replaceMerge,l=i.transition,i=i.notMerge),this.__flagInMainProcess=!0,!this._model||i){var u=new uA(this._api),f=this._theme,p=this._model=new Hb;p.scheduler=this._scheduler,p.init(null,null,null,f,this._locale,u)}this._model.setOption(t,{replaceMerge:s},E0);var m={seriesTransition:l,optionChanged:!0};r?(this.__pendingUpdate={silent:o,updateParams:m},this.__flagInMainProcess=!1,this.getZr().wakeUp()):(ou(this),dc.update.call(this,null,m),this._zr.flush(),this.__pendingUpdate=null,this.__flagInMainProcess=!1,Zm.call(this,o),og.call(this,o))}},e.prototype.setTheme=function(){console.error("ECharts#setTheme() is DEPRECATED in ECharts 3.0")},e.prototype.getModel=function(){return this._model},e.prototype.getOption=function(){return this._model&&this._model.getOption()},e.prototype.getWidth=function(){return this._zr.getWidth()},e.prototype.getHeight=function(){return this._zr.getHeight()},e.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr||AA&&window.devicePixelRatio||1},e.prototype.getRenderedCanvas=function(t){if(Wt.canvasSupported)return this._zr.painter.getRenderedCanvas({backgroundColor:(t=t||{}).backgroundColor||this._model.get("backgroundColor"),pixelRatio:t.pixelRatio||this.getDevicePixelRatio()})},e.prototype.getSvgDataURL=function(){if(Wt.svgSupported){var t=this._zr;return mt(t.storage.getDisplayList(),function(i){i.stopAnimation(null,!0)}),t.painter.toDataURL()}},e.prototype.getDataURL=function(t){if(!this._disposed){var i=(t=t||{}).excludeComponents,r=this._model,o=[],s=this;mt(i,function(u){r.eachComponent({mainType:u},function(f){var p=s._componentsMap[f.__viewId];p.group.ignore||(o.push(p),p.group.ignore=!0)})});var l="svg"===this._zr.painter.getType()?this.getSvgDataURL():this.getRenderedCanvas(t).toDataURL("image/"+(t&&t.type||"png"));return mt(o,function(u){u.group.ignore=!1}),l}},e.prototype.getConnectedDataURL=function(t){if(this._disposed);else if(Wt.canvasSupported){var i="svg"===t.type,r=this.group,o=Math.min,s=Math.max,l=1/0;if(N0[r]){var u=l,f=l,p=-1/0,m=-1/0,b=[],w=t&&t.pixelRatio||this.getDevicePixelRatio();mt(Hd,function(H,X){if(H.group===r){var U=i?H.getZr().painter.getSvgDom().innerHTML:H.getRenderedCanvas(Pt(t)),$=H.getDom().getBoundingClientRect();u=o($.left,u),f=o($.top,f),p=s($.right,p),m=s($.bottom,m),b.push({dom:U,left:$.left,top:$.top})}});var k=(p*=w)-(u*=w),M=(m*=w)-(f*=w),I=Pe(),O=Wn(I,{renderer:i?"svg":"canvas"});if(O.resize({width:k,height:M}),i){var B="";return mt(b,function(H){B+='<g transform="translate('+(H.left-u)+","+(H.top-f)+')">'+H.dom+"</g>"}),O.painter.getSvgRoot().innerHTML=B,t.connectedBackgroundColor&&O.painter.setBackgroundColor(t.connectedBackgroundColor),O.refreshImmediately(),O.painter.toDataURL()}return t.connectedBackgroundColor&&O.add(new vr({shape:{x:0,y:0,width:k,height:M},style:{fill:t.connectedBackgroundColor}})),mt(b,function(H){var X=new ga({style:{x:H.left*w-u,y:H.top*w-f,image:H.dom}});O.add(X)}),O.refreshImmediately(),I.toDataURL("image/"+(t&&t.type||"png"))}return this.getDataURL(t)}},e.prototype.convertToPixel=function(t,i){return qm(this,"convertToPixel",t,i)},e.prototype.convertFromPixel=function(t,i){return qm(this,"convertFromPixel",t,i)},e.prototype.containPixel=function(t,i){var r;if(!this._disposed)return mt(Dc(this._model,t),function(o,s){s.indexOf("Models")>=0&&mt(o,function(l){var u=l.coordinateSystem;if(u&&u.containPoint)r=r||!!u.containPoint(i);else if("seriesModels"===s){var f=this._chartsMap[l.__viewId];f&&f.containPoint&&(r=r||f.containPoint(i,l))}},this)},this),!!r},e.prototype.getVisual=function(t,i){var r=Dc(this._model,t,{defaultMainType:"series"}),s=r.seriesModel.getData(),l=r.hasOwnProperty("dataIndexInside")?r.dataIndexInside:r.hasOwnProperty("dataIndex")?s.indexOfRawIndex(r.dataIndex):null;return null!=l?c0(s,l,i):Jp(s,i)},e.prototype.getViewOfComponentModel=function(t){return this._componentsMap[t.__viewId]},e.prototype.getViewOfSeriesModel=function(t){return this._chartsMap[t.__viewId]},e.prototype._initEvents=function(){var i,r,o=this;mt(Gf,function(s){var l=function(u){var f,p=o.getModel(),m=u.target;if("globalout"===s?f={}:m&&Fd(m,function(O){var B=Fi(O);if(B&&null!=B.dataIndex){var H=B.dataModel||p.getSeriesByIndex(B.seriesIndex);return f=H&&H.getDataParams(B.dataIndex,B.dataType)||{},!0}if(B.eventData)return f=Dt({},B.eventData),!0},!0),f){var w=f.componentType,k=f.componentIndex;"markLine"!==w&&"markPoint"!==w&&"markArea"!==w||(w="series",k=f.seriesIndex);var M=w&&null!=k&&p.getComponent(w,k),I=M&&o["series"===M.mainType?"_chartsMap":"_componentsMap"][M.__viewId];f.event=u,f.type=s,o._$eventProcessor.eventInfo={targetEl:m,packedEvent:f,model:M,view:I},o.trigger(s,f)}};l.zrEventfulCallAtLast=!0,o._zr.on(s,l,o)}),mt(Jm,function(s,l){o._messageCenter.on(l,function(u){this.trigger(l,u)},o)}),mt(["selectchanged"],function(s){o._messageCenter.on(s,function(l){this.trigger(s,l)},o)}),i=this,r=this._api,this._messageCenter.on("selectchanged",function(s){var l=r.getModel();s.isFromClick?(zd("map","selectchanged",i,l,s),zd("pie","selectchanged",i,l,s)):"select"===s.fromAction?(zd("map","selected",i,l,s),zd("pie","selected",i,l,s)):"unselect"===s.fromAction&&(zd("map","unselected",i,l,s),zd("pie","unselected",i,l,s))})},e.prototype.isDisposed=function(){return this._disposed},e.prototype.clear=function(){this._disposed||this.setOption({series:[]},!0)},e.prototype.dispose=function(){if(this._disposed);else{this._disposed=!0,sf(this.getDom(),R0,"");var t=this,i=t._api,r=t._model;mt(t._componentsViews,function(o){o.dispose(r,i)}),mt(t._chartsViews,function(o){o.dispose(r,i)}),t._zr.dispose(),t._dom=t._model=t._chartsMap=t._componentsMap=t._chartsViews=t._componentsViews=t._scheduler=t._api=t._zr=t._throttledZrFlush=t._theme=t._coordSysMgr=t._messageCenter=null,delete Hd[t.id]}},e.prototype.resize=function(t){if(this._disposed);else{this._zr.resize(t);var i=this._model;if(this._loadingFX&&this._loadingFX.resize(),i){var r=i.resetOption("media"),o=t&&t.silent;this.__pendingUpdate&&(null==o&&(o=this.__pendingUpdate.silent),r=!0,this.__pendingUpdate=null),this.__flagInMainProcess=!0,r&&ou(this),dc.update.call(this,{type:"resize",animation:Dt({duration:0},t&&t.animation)}),this.__flagInMainProcess=!1,Zm.call(this,o),og.call(this,o)}}},e.prototype.showLoading=function(t,i){if(this._disposed);else if($e(t)&&(i=t,t=""),t=t||"default",this.hideLoading(),O0[t]){var r=O0[t](this._api,i),o=this._zr;this._loadingFX=r,o.add(r)}},e.prototype.hideLoading=function(){this._disposed||(this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null)},e.prototype.makeActionFromEvent=function(t){var i=Dt({},t);return i.type=Jm[t.type],i},e.prototype.dispatchAction=function(t,i){if(this._disposed);else if($e(i)||(i={silent:!!i}),Ws[t.type]&&this._model)if(this.__flagInMainProcess)this._pendingActions.push(t);else{var r=i.silent;$m.call(this,t,r);var o=i.flush;o?this._zr.flush():!1!==o&&Wt.browser.weChat&&this._throttledZrFlush(),Zm.call(this,r),og.call(this,r)}},e.prototype.updateLabelLayout=function(){zu.trigger("series:layoutlabels",this._model,this._api,{updatedSeries:[]})},e.prototype.appendData=function(t){if(this._disposed);else{var i=t.seriesIndex;this.getModel().getSeriesByIndex(i).appendData(t),this._scheduler.unfinished=!0,this.getZr().wakeUp()}},e.internalField=function(){function t(l){for(var u=[],f=l.currentStates,p=0;p<f.length;p++){var m=f[p];"emphasis"!==m&&"blur"!==m&&"select"!==m&&u.push(m)}l.selected&&l.states.select&&u.push("select"),2===l.hoverState&&l.states.emphasis?u.push("emphasis"):1===l.hoverState&&l.states.blur&&u.push("blur"),l.useStates(u)}function i(l,u){l.preventAutoZ||r(u.group,l.get("z")||0,l.get("zlevel")||0,-1/0)}function r(l,u,f,p){var m=l.getTextContent(),b=l.getTextGuideLine();if(l.isGroup)for(var w=l.childrenRef(),k=0;k<w.length;k++)p=Math.max(r(w[k],u,f,p),p);else l.z=u,l.zlevel=f,p=Math.max(l.z2,p);if(m&&(m.z=u,m.zlevel=f,isFinite(p)&&(m.z2=p+2)),b){var M=l.textGuideLineConfig;b.z=u,b.zlevel=f,isFinite(p)&&(b.z2=p+(M&&M.showAbove?1:-1))}return p}function o(l,u){u.group.traverse(function(f){if(!sc(f)){var p=f.getTextContent(),m=f.getTextGuideLine();f.stateTransition&&(f.stateTransition=null),p&&p.stateTransition&&(p.stateTransition=null),m&&m.stateTransition&&(m.stateTransition=null),f.hasState()?(f.prevStates=f.currentStates,f.clearStates()):f.prevStates&&(f.prevStates=null)}})}function s(l,u){var f=l.getModel("stateAnimation"),p=l.isAnimationEnabled(),m=f.get("duration"),b=m>0?{duration:m,delay:f.get("delay"),easing:f.get("easing")}:null;u.group.traverse(function(w){if(w.states&&w.states.emphasis){if(sc(w))return;if(w instanceof zi&&function(O){var B=qx(O);B.normalFill=O.style.fill,B.normalStroke=O.style.stroke;var H=O.states.select||{};B.selectFill=H.style&&H.style.fill||null,B.selectStroke=H.style&&H.style.stroke||null}(w),w.__dirty){var k=w.prevStates;k&&w.useStates(k)}if(p){w.stateTransition=b;var M=w.getTextContent(),I=w.getTextGuideLine();M&&(M.stateTransition=b),I&&(I.stateTransition=b)}w.__dirty&&t(w)}})}ou=function(l){var u=l._scheduler;u.restorePipelines(l._model),u.prepareStageTasks(),M0(l,!0),M0(l,!1),u.plan()},M0=function(l,u){for(var f=l._model,p=l._scheduler,m=u?l._componentsViews:l._chartsViews,b=u?l._componentsMap:l._chartsMap,w=l._zr,k=l._api,M=0;M<m.length;M++)m[M].__alive=!1;function I(B){var H=B.__requireNewView;B.__requireNewView=!1;var X="_ec_"+B.id+"_"+B.type,U=!H&&b[X];if(!U){var $=Wa(B.type);(U=new(u?co.getClass($.main,$.sub):Rr.getClass($.sub))).init(f,k),b[X]=U,m.push(U),w.add(U.group)}B.__viewId=U.__id=X,U.__alive=!0,U.__model=B,U.group.__ecComponentInfo={mainType:B.mainType,index:B.componentIndex},!u&&p.prepareView(U,B,f,k)}for(u?f.eachComponent(function(B,H){"series"!==B&&I(H)}):f.eachSeries(I),M=0;M<m.length;){var O=m[M];O.__alive?M++:(!u&&O.renderTask.dispose(),w.remove(O.group),O.dispose(f,k),m.splice(M,1),b[O.__id]===O&&delete b[O.__id],O.__id=O.group.__ecComponentInfo=null)}},Gm=function(l,u,f,p,m){var b=l._model;if(b.setUpdatePayload(f),p){var w={};w[p+"Id"]=f[p+"Id"],w[p+"Index"]=f[p+"Index"],w[p+"Name"]=f[p+"Name"];var k={mainType:p,query:w};m&&(k.subType=m);var M,I=f.excludeSeriesId;null!=I&&(M=ii(),mt(mr(I),function(B){var H=No(B,null);null!=H&&M.set(H,!0)})),ry(f)&&mn(l._api),b&&b.eachComponent(k,function(B){if(!M||null===M.get(B.id))if(ry(f))if(B instanceof Gr)f.type!==md||f.notBlur||function($,et,at){var At=$.seriesIndex,Mt=$.getData(et.dataType),Lt=Ju(Mt,et);Lt=(Jt(Lt)?Lt[0]:Lt)||0;var Gt=Mt.getItemGraphicEl(Lt);if(!Gt)for(var ne=Mt.count(),re=0;!Gt&&re<ne;)Gt=Mt.getItemGraphicEl(re++);if(Gt){var fe=Fi(Gt);wp(At,fe.focus,fe.blurScope,at)}else{var ye=$.get(["emphasis","focus"]),Te=$.get(["emphasis","blurScope"]);null!=ye&&wp(At,ye,Te,at)}}(B,f,l._api);else{var H=ty(B.mainType,B.componentIndex,f.name,l._api),U=H.dispatchers;f.type===md&&H.focusSelf&&!f.notBlur&&Ug(B.mainType,B.componentIndex,l._api),U&&mt(U,function($){f.type===md?kl($):Bc($)})}else iy(f)&&B instanceof Gr&&(function($,et,at){if(iy(et)){var At=et.dataType,Mt=Ju($.getData(At),et);Jt(Mt)||(Mt=[Mt]),$[et.type===pf?"toggleSelect":et.type===Mu?"select":"unselect"](Mt,At)}}(B,f),Qx(B),Vu(l))},l),b&&b.eachComponent(k,function(B){M&&null!==M.get(B.id)||O(l["series"===p?"_chartsMap":"_componentsMap"][B.__viewId])},l)}else mt([].concat(l._componentsViews).concat(l._chartsViews),O);function O(B){B&&B.__alive&&B[u]&&B[u](B.__model,b,l._api,f)}},dc={prepareAndUpdate:function(l){ou(this),dc.update.call(this,l,{optionChanged:null!=l.newOption})},update:function(l,u){var f=this._model,p=this._api,m=this._zr,b=this._coordSysMgr,w=this._scheduler;if(f){f.setUpdatePayload(l),w.restoreData(f,l),w.performSeriesTasks(f),b.create(f,p),w.performDataProcessorTasks(f,l),Um(this,f),b.update(f,p),Km(f),w.performVisualTasks(f,l),T0(this,f,p,l,u);var k=f.get("backgroundColor")||"transparent",M=f.get("darkMode");if(Wt.canvasSupported)m.setBackgroundColor(k),null!=M&&"auto"!==M&&m.setDarkMode(M);else{var I=ea(k);k=Wo(I,"rgb"),0===I[3]&&(k="transparent")}zu.trigger("afterupdate",f,p)}},updateTransform:function(l){var u=this,f=this._model,p=this._api;if(f){f.setUpdatePayload(l);var m=[];f.eachComponent(function(w,k){if("series"!==w){var M=u.getViewOfComponentModel(k);if(M&&M.__alive)if(M.updateTransform){var I=M.updateTransform(k,f,p,l);I&&I.update&&m.push(M)}else m.push(M)}});var b=ii();f.eachSeries(function(w){var k=u._chartsMap[w.__viewId];if(k.updateTransform){var M=k.updateTransform(w,f,p,l);M&&M.update&&b.set(w.uid,1)}else b.set(w.uid,1)}),Km(f),this._scheduler.performVisualTasks(f,l,{setDirty:!0,dirtyMap:b}),I0(this,f,p,l,{},b),zu.trigger("afterupdate",f,p)}},updateView:function(l){var u=this._model;u&&(u.setUpdatePayload(l),Rr.markUpdateMethod(l,"updateView"),Km(u),this._scheduler.performVisualTasks(u,l,{setDirty:!0}),T0(this,u,this._api,l,{}),zu.trigger("afterupdate",u,this._api))},updateVisual:function(l){var u=this,f=this._model;f&&(f.setUpdatePayload(l),f.eachSeries(function(p){p.getData().clearAllVisual()}),Rr.markUpdateMethod(l,"updateVisual"),Km(f),this._scheduler.performVisualTasks(f,l,{visualType:"visual",setDirty:!0}),f.eachComponent(function(p,m){if("series"!==p){var b=u.getViewOfComponentModel(m);b&&b.__alive&&b.updateVisual(m,f,u._api,l)}}),f.eachSeries(function(p){u._chartsMap[p.__viewId].updateVisual(p,f,u._api,l)}),zu.trigger("afterupdate",f,this._api))},updateLayout:function(l){dc.update.call(this,l)}},qm=function(l,u,f,p){if(l._disposed);else for(var m,b=l._model,w=l._coordSysMgr.getCoordinateSystems(),k=Dc(b,f),M=0;M<w.length;M++){var I=w[M];if(I[u]&&null!=(m=I[u](b,k,p)))return m}},Um=function(l,u){var f=l._chartsMap,p=l._scheduler;u.eachSeries(function(m){p.updateStreamModes(m,f[m.__viewId])})},$m=function(l,u){var f=this,p=this.getModel(),m=l.type,b=l.escapeConnect,w=Ws[m],k=w.actionInfo,M=(k.update||"update").split(":"),I=M.pop(),O=null!=M[0]&&Wa(M[0]);this.__flagInMainProcess=!0;var B=[l],H=!1;l.batch&&(H=!0,B=zt(l.batch,function(Mt){return(Mt=se(Dt({},Mt),l)).batch=null,Mt}));var X,U=[],$=iy(l),et=ry(l);if(mt(B,function(Mt){if((X=(X=w.action(Mt,f._model,f._api))||Dt({},Mt)).type=k.event||X.type,U.push(X),et){var Lt=wh(l),ne=Lt.mainTypeSpecified?Lt.queryOptionMap.keys()[0]:"series";Gm(f,I,Mt,ne),Vu(f)}else $?(Gm(f,I,Mt,"series"),Vu(f)):O&&Gm(f,I,Mt,O.main,O.sub)}),"none"===I||et||$||O||(this.__pendingUpdate?(ou(this),dc.update.call(this,l),this.__pendingUpdate=null):dc[I].call(this,l)),X=H?{type:k.event||m,escapeConnect:b,batch:U}:U[0],this.__flagInMainProcess=!1,!u){var at=this._messageCenter;if(at.trigger(X.type,X),$){var At={type:"selectchanged",escapeConnect:b,selected:Ow(p),isFromClick:l.isFromClick||!1,fromAction:l.type,fromActionPayload:l};at.trigger(At.type,At)}}},Zm=function(l){for(var u=this._pendingActions;u.length;){var f=u.shift();$m.call(this,f,l)}},og=function(l){!l&&this.trigger("updated")},W1=function(l,u){l.on("rendered",function(f){u.trigger("rendered",f),!l.animation.isFinished()||u.__pendingUpdate||u._scheduler.unfinished||u._pendingActions.length||u.trigger("finished")})},eC=function(l,u){l.on("mouseover",function(f){var m,b,w,k,M,I,p=Fd(f.target,$g);p&&(b=f,w=u._api,(I=(M=ty((k=Fi(m=p)).componentMainType,k.componentIndex,k.componentHighDownName,w)).dispatchers)?(M.focusSelf&&Ug(k.componentMainType,k.componentIndex,w),mt(I,function(B){return Zx(B,b)})):(wp(k.seriesIndex,k.focus,k.blurScope,w),"self"===k.focus&&Ug(k.componentMainType,k.componentIndex,w),Zx(m,b)),Vu(u))}).on("mouseout",function(f){var p=Fd(f.target,$g);p&&(function(m,b,w){mn(w);var k=Fi(m),M=ty(k.componentMainType,k.componentIndex,k.componentHighDownName,w).dispatchers;M?mt(M,function(I){return Pw(I,b)}):Pw(m,b)}(p,f,u._api),Vu(u))}).on("click",function(f){var p=Fd(f.target,function(w){return null!=Fi(w).dataIndex},!0);if(p){var m=p.selected?"unselect":"select",b=Fi(p);u._api.dispatchAction({type:m,dataType:b.dataType,dataIndexInside:b.dataIndex,seriesIndex:b.seriesIndex,isFromClick:!0})}})},Km=function(l){l.clearColorPalette(),l.eachSeries(function(u){u.clearColorPalette()})},T0=function(l,u,f,p,m){j1(l,u,f,p,m),mt(l._chartsViews,function(b){b.__alive=!1}),I0(l,u,f,p,m),mt(l._chartsViews,function(b){b.__alive||b.remove(u,f)})},j1=function(l,u,f,p,m,b){mt(b||l._componentsViews,function(w){var k=w.__model;o(0,w),w.render(k,u,f,p),i(k,w),s(k,w)})},I0=function(l,u,f,p,m,b){var w=l._scheduler;m=Dt(m||{},{updatedSeries:u.getSeries()}),zu.trigger("series:beforeupdate",u,f,m);var M,I,B,k=!1;u.eachSeries(function(M){var I=l._chartsMap[M.__viewId];I.__alive=!0;var H,X,O=I.renderTask;w.updatePayload(O,p),o(0,I),b&&b.get(M.uid)&&O.dirty(),O.perform(w.getPerformArgs(O))&&(k=!0),I.group.silent=!!M.get("silent"),H=I,X=M.get("blendMode")||null,H.group.traverse(function(U){U.isGroup||(U.style.blend=X),U.eachPendingDisplayable&&U.eachPendingDisplayable(function($){$.style.blend=X})}),Qx(M)}),w.unfinished=k||w.unfinished,zu.trigger("series:layoutlabels",u,f,m),zu.trigger("series:transition",u,f,m),u.eachSeries(function(M){var I=l._chartsMap[M.__viewId];i(M,I),s(M,I)}),I=u,B=0,(M=l)._zr.storage.traverse(function(H){H.isGroup||B++}),B>I.get("hoverLayerThreshold")&&!Wt.node&&!Wt.worker&&I.eachSeries(function(H){if(!H.preventUsingHoverLayer){var X=M._chartsMap[H.__viewId];X.__alive&&X.group.traverse(function(U){U.states.emphasis&&(U.states.emphasis.hoverLayer=!0)})}}),zu.trigger("series:afterupdate",u,f,m)},Vu=function(l){l.__needsUpdateStatus=!0,l.getZr().wakeUp()},X1=function(l){l.__needsUpdateStatus&&(l.getZr().storage.traverse(function(u){sc(u)||t(u)}),l.__needsUpdateStatus=!1)},Y1=function(l){return new(function(u){function f(){return null!==u&&u.apply(this,arguments)||this}return Tt(f,u),f.prototype.getCoordinateSystems=function(){return l._coordSysMgr.getCoordinateSystems()},f.prototype.getComponentByElement=function(p){for(;p;){var m=p.__ecComponentInfo;if(null!=m)return l._model.getComponent(m.mainType,m.index);p=p.parent}},f.prototype.enterEmphasis=function(p,m){kl(p,m),Vu(l)},f.prototype.leaveEmphasis=function(p,m){Bc(p,m),Vu(l)},f.prototype.enterBlur=function(p){_p(p),Vu(l)},f.prototype.leaveBlur=function(p){Jv(p),Vu(l)},f.prototype.enterSelect=function(p){Kx(p),Vu(l)},f.prototype.leaveSelect=function(p){qg(p),Vu(l)},f.prototype.getModel=function(){return l.getModel()},f.prototype.getViewOfComponentModel=function(p){return l.getViewOfComponentModel(p)},f.prototype.getViewOfSeriesModel=function(p){return l.getViewOfSeriesModel(p)},f}(ru))(l)},nC=function(l){function u(f,p){for(var m=0;m<f.length;m++)f[m][H1]=p}mt(Jm,function(f,p){l._messageCenter.on(p,function(m){if(N0[l.group]&&0!==l[H1]){if(m&&m.escapeConnect)return;var b=l.makeActionFromEvent(m),w=[];mt(Hd,function(k){k!==l&&k.group===l.group&&w.push(k)}),u(w,0),mt(w,function(k){1!==k[H1]&&k.dispatchAction(b)}),u(w,2)}})})}}(),e}(v),D0=Qm.prototype;D0.on=JS("on"),D0.off=JS("off"),D0.one=function(n,e,t){var i=this;this.on.call(this,n,function r(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];e&&e.apply&&e.apply(this,o),i.off(n,r)},t)};var Gf=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"],Ws={},Jm={},ag=[],E0=[],L0=[],P0={},O0={},Hd={},N0={},MA=+new Date-0,iC=+new Date-0,R0="_echarts_instance_";function U1(n){N0[n]=!1}var B0=U1;function z0(n){return Hd[function(e,t){return e.getAttribute?e.getAttribute(t):e[t]}(n,R0)]}function $1(n,e){P0[n]=e}function sg(n){Ne(E0,n)<0&&E0.push(n)}function fc(n,e){F0(ag,n,e,2e3)}function qf(n){lg("afterinit",n)}function Z1(n){lg("afterupdate",n)}function lg(n,e){zu.on(n,e)}function pc(n,e,t){"function"==typeof e&&(t=e,e="");var i=$e(n)?n.type:[n,n={event:e}][0];n.event=(n.event||i).toLowerCase(),Jm[e=n.event]||(Ni(QS.test(i)&&QS.test(e)),Ws[i]||(Ws[i]={action:t,actionInfo:n}),Jm[e]=i)}function rC(n,e){Rd.register(n,e)}function K1(n,e){F0(L0,n,e,1e3,"layout")}function gc(n,e){F0(L0,n,e,3e3,"visual")}var Q1=[];function F0(n,e,t,i,r){if((Fe(e)||$e(e))&&(t=e,e=i),!(Ne(Q1,t)>=0)){Q1.push(t);var o=s0.wrapStageHandler(t,r);o.__prio=e,o.__raw=t,n.push(o)}}function J1(n,e){O0[n]=e}function oC(n,e,t){!function(n,e,t){if(e.svg){var i=new US(n,e.svg);jm.set(n,i)}else{var r=e.geoJson||e.geoJSON;r&&!e.features?t=e.specialAreas:r=e,i=new k0(n,r,t),jm.set(n,i)}}(n,e,t)}var t_=function(n){var e=(n=Pt(n)).type;e||Ai("");var i=e.split(":");2!==i.length&&Ai("");var r=!1;"echarts"===i[0]&&(e=i[1],r=!0),n.__isBuiltIn=r,e1.set(e,n)};gc(2e3,kS),gc(4500,m1),gc(4500,a0),gc(2e3,yA),gc(4500,{createOnAllSeries:!0,performRawSeries:!0,reset:function(n,e){if(n.hasSymbolVisual&&!e.isSeriesFiltered(n))return{dataEach:n.getData().hasItemOption?function(t,i){var r=t.getItemModel(i),o=r.getShallow("symbol",!0),s=r.getShallow("symbolSize",!0),l=r.getShallow("symbolRotate",!0),u=r.getShallow("symbolOffset",!0),f=r.getShallow("symbolKeepAspect",!0);null!=o&&t.setItemVisual(i,"symbol",o),null!=s&&t.setItemVisual(i,"symbolSize",s),null!=l&&t.setItemVisual(i,"symbolRotate",l),null!=u&&t.setItemVisual(i,"symbolOffset",u),null!=f&&t.setItemVisual(i,"symbolKeepAspect",f)}:null}}}),gc(7e3,function(n,e){n.eachRawSeries(function(t){if(!n.isSeriesFiltered(t)){var i=t.getData();i.hasItemVisual()&&i.each(function(o){var s=i.getItemVisual(o,"decal");s&&(i.ensureUniqueItemVisual(o,"style").decal=ig(s,e))});var r=i.getVisual("decal");r&&(i.getVisual("style").decal=ig(r,e))}})}),sg(Bh),fc(900,function(n){var e=ii();n.eachSeries(function(t){var i=t.get("stack");if(i){var r=e.get(i)||e.set(i,[]),o=t.getData(),s={stackResultDimension:o.getCalculationInfo("stackResultDimension"),stackedOverDimension:o.getCalculationInfo("stackedOverDimension"),stackedDimension:o.getCalculationInfo("stackedDimension"),stackedByDimension:o.getCalculationInfo("stackedByDimension"),isStackedByIndex:o.getCalculationInfo("isStackedByIndex"),data:o,seriesModel:t};if(!s.stackedDimension||!s.isStackedByIndex&&!s.stackedByDimension)return;r.length&&o.setCalculationInfo("stackedOnSeries",r[r.length-1].seriesModel),r.push(s)}}),e.each(tS)}),J1("default",function(n,e){se(e=e||{},{text:"loading",textColor:"#000",fontSize:12,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:!0,color:"#5470c6",spinnerRadius:10,lineWidth:5,zlevel:0});var t=new bt,i=new vr({style:{fill:e.maskColor},zlevel:e.zlevel,z:1e4});t.add(i);var r,o=new dr({style:{text:e.text,fill:e.textColor,fontSize:e.fontSize,fontWeight:e.fontWeight,fontStyle:e.fontStyle,fontFamily:e.fontFamily},zlevel:e.zlevel,z:10001}),s=new vr({style:{fill:"none"},textContent:o,textConfig:{position:"right",distance:10},zlevel:e.zlevel,z:10001});return t.add(s),e.showSpinner&&((r=new Eh({shape:{startAngle:-Zp/2,endAngle:-Zp/2+.1,r:e.spinnerRadius},style:{stroke:e.color,lineCap:"round",lineWidth:e.lineWidth},zlevel:e.zlevel,z:10001})).animateShape(!0).when(1e3,{endAngle:3*Zp/2}).start("circularInOut"),r.animateShape(!0).when(1e3,{startAngle:3*Zp/2}).delay(300).start("circularInOut"),t.add(r)),t.resize=function(){var l=o.getBoundingRect().width,u=e.showSpinner?e.spinnerRadius:0,f=(n.getWidth()-2*u-(e.showSpinner&&l?10:0)-l)/2-(e.showSpinner&&l?0:5+l/2)+(e.showSpinner?0:l/2)+(l?0:u),p=n.getHeight()/2;e.showSpinner&&r.setShape({cx:f,cy:p}),s.setShape({x:f-u,y:p-u,width:2*u,height:2*u}),i.setShape({x:0,y:0,width:n.getWidth(),height:n.getHeight()})},t.resize(),t}),pc({type:md,event:md,update:md},Mr),pc({type:ff,event:ff,update:ff},Mr),pc({type:Mu,event:Mu,update:Mu},Mr),pc({type:Yg,event:Yg,update:Yg},Mr),pc({type:pf,event:pf,update:pf},Mr),$1("light",ES),$1("dark",zf);var tv=[],V0={registerPreprocessor:sg,registerProcessor:fc,registerPostInit:qf,registerPostUpdate:Z1,registerUpdateLifecycle:lg,registerAction:pc,registerCoordinateSystem:rC,registerLayout:K1,registerVisual:gc,registerTransform:t_,registerLoading:J1,registerMap:oC,PRIORITY:Xm,ComponentModel:rr,ComponentView:co,SeriesModel:Gr,ChartView:Rr,registerComponentModel:function(n){rr.registerClass(n)},registerComponentView:function(n){co.registerClass(n)},registerSeriesModel:function(n){Gr.registerClass(n)},registerChartView:function(n){Rr.registerClass(n)},registerSubTypeDefaulter:function(n,e){rr.registerSubTypeDefaulter(n,e)},registerPainter:function(n,e){si(n,e)}};function $i(n){Jt(n)?mt(n,function(e){$i(e)}):Ne(tv,n)>=0||(tv.push(n),Fe(n)&&(n={install:n}),n.install(V0))}function ug(n){return null==n?0:n.length||1}function e_(n){return n}var Hu=function(){function n(e,t,i,r,o,s){this._old=e,this._new=t,this._oldKeyGetter=i||e_,this._newKeyGetter=r||e_,this.context=o,this._diffModeMultiple="multiple"===s}return n.prototype.add=function(e){return this._add=e,this},n.prototype.update=function(e){return this._update=e,this},n.prototype.updateManyToOne=function(e){return this._updateManyToOne=e,this},n.prototype.updateOneToMany=function(e){return this._updateOneToMany=e,this},n.prototype.updateManyToMany=function(e){return this._updateManyToMany=e,this},n.prototype.remove=function(e){return this._remove=e,this},n.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},n.prototype._executeOneToOne=function(){var e=this._old,t=this._new,i={},r=new Array(e.length),o=new Array(t.length);this._initIndexMap(e,null,r,"_oldKeyGetter"),this._initIndexMap(t,i,o,"_newKeyGetter");for(var s=0;s<e.length;s++){var l=r[s],u=i[l],f=ug(u);if(f>1){var p=u.shift();1===u.length&&(i[l]=u[0]),this._update&&this._update(p,s)}else 1===f?(i[l]=null,this._update&&this._update(u,s)):this._remove&&this._remove(s)}this._performRestAdd(o,i)},n.prototype._executeMultiple=function(){var t=this._new,i={},r={},o=[],s=[];this._initIndexMap(this._old,i,o,"_oldKeyGetter"),this._initIndexMap(t,r,s,"_newKeyGetter");for(var l=0;l<o.length;l++){var u=o[l],f=i[u],p=r[u],m=ug(f),b=ug(p);if(m>1&&1===b)this._updateManyToOne&&this._updateManyToOne(p,f),r[u]=null;else if(1===m&&b>1)this._updateOneToMany&&this._updateOneToMany(p,f),r[u]=null;else if(1===m&&1===b)this._update&&this._update(p,f),r[u]=null;else if(m>1&&b>1)this._updateManyToMany&&this._updateManyToMany(p,f),r[u]=null;else if(m>1)for(var w=0;w<m;w++)this._remove&&this._remove(f[w]);else this._remove&&this._remove(f)}this._performRestAdd(s,r)},n.prototype._performRestAdd=function(e,t){for(var i=0;i<e.length;i++){var r=e[i],o=t[r],s=ug(o);if(s>1)for(var l=0;l<s;l++)this._add&&this._add(o[l]);else 1===s&&this._add&&this._add(o);t[r]=null}},n.prototype._initIndexMap=function(e,t,i,r){for(var o=this._diffModeMultiple,s=0;s<e.length;s++){var l="_ec_"+this[r](e[s],s);if(o||(i[s]=l),t){var u=t[l],f=ug(u);0===f?(t[l]=s,o&&i.push(l)):1===f?t[l]=[u,s]:u.push(s)}}},n}(),aC=function(){function n(e,t){this._encode=e,this._schema=t}return n.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}},n.prototype._getFullDimensionNames=function(){return this._cachedDimNames||(this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[]),this._cachedDimNames},n}();function H0(n,e){return n.hasOwnProperty(e)||(n[e]=[]),n[e]}function cg(n){return"category"===n?"ordinal":"time"===n?"time":"float"}var ev=function(n){this.otherDims={},null!=n&&Dt(this,n)},sC=ar(),TA={float:"f",int:"i",ordinal:"o",number:"n",time:"t"},lC=function(){function n(e){this.dimensions=e.dimensions,this._dimOmitted=e.dimensionOmitted,this.source=e.source,this._fullDimCount=e.fullDimensionCount,this._updateDimOmitted(e.dimensionOmitted)}return n.prototype.isDimensionOmitted=function(){return this._dimOmitted},n.prototype._updateDimOmitted=function(e){this._dimOmitted=e,e&&(this._dimNameMap||(this._dimNameMap=cC(this.source)))},n.prototype.getSourceDimensionIndex=function(e){return Tn(this._dimNameMap.get(e),-1)},n.prototype.getSourceDimension=function(e){var t=this.source.dimensionsDefine;if(t)return t[e]},n.prototype.makeStoreSchema=function(){for(var e=this._fullDimCount,t=Yy(this.source),i=!hC(e),r="",o=[],s=0,l=0;s<e;s++){var u=void 0,f=void 0,p=void 0,m=this.dimensions[l];if(m&&m.storeDimIndex===s)u=t?m.name:null,f=m.type,p=m.ordinalMeta,l++;else{var b=this.getSourceDimension(s);b&&(u=t?b.name:null,f=b.type)}o.push({property:u,type:f,ordinalMeta:p}),!t||null==u||m&&m.isCalculationCoord||(r+=i?u.replace(/\`/g,"`1").replace(/\$/g,"`2"):u),r+="$",r+=TA[f]||"f",p&&(r+=p.uid),r+="$"}var w=this.source;return{dimensions:o,hash:[w.seriesLayoutBy,w.startIndex,r].join("$$")}},n.prototype.makeOutputDimensionNames=function(){for(var e=[],t=0,i=0;t<this._fullDimCount;t++){var r=void 0,o=this.dimensions[i];if(o&&o.storeDimIndex===t)o.isCalculationCoord||(r=o.name),i++;else{var s=this.getSourceDimension(t);s&&(r=s.name)}e.push(r)}return e},n.prototype.appendCalculationDimension=function(e){this.dimensions.push(e),e.isCalculationCoord=!0,this._fullDimCount++,this._updateDimOmitted(!0)},n}();function n_(n){return n instanceof lC}function uC(n){for(var e=ii(),t=0;t<(n||[]).length;t++){var i=n[t],r=$e(i)?i.name:i;null!=r&&null==e.get(r)&&e.set(r,t)}return e}function cC(n){var e=sC(n);return e.dimNameMap||(e.dimNameMap=uC(n.dimensionsDefine))}function hC(n){return n>30}var i_,au,hg,Wd,nv,W0,r_,iv=$e,Kc=zt,j0="undefined"==typeof Int32Array?Array:Int32Array,Hh=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_dimSummary","userOutput","_rawData","_dimValueGetter","_nameDimIdx","_idDimIdx","_nameRepeatCount"],jd=["_approximateExtent"],_s=function(){function n(e,t){var i;this.type="list",this._dimOmitted=!1,this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!1,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","lttbDownSample"];var r=!1;n_(e)?(i=e.dimensions,this._dimOmitted=e.isDimensionOmitted(),this._schema=e):(r=!0,i=e),i=i||["x","y"];for(var o={},s=[],l={},u=!1,f={},p=0;p<i.length;p++){var m=i[p],b=Ke(m)?new ev({name:m}):m instanceof ev?m:new ev(m),w=b.name;b.type=b.type||"float",b.coordDim||(b.coordDim=w,b.coordDimIndex=0);var k=b.otherDims=b.otherDims||{};s.push(w),o[w]=b,null!=f[w]&&(u=!0),b.createInvertedIndices&&(l[w]=[]),0===k.itemName&&(this._nameDimIdx=p),0===k.itemId&&(this._idDimIdx=p),r&&(b.storeDimIndex=p)}if(this.dimensions=s,this._dimInfos=o,this._initGetDimensionInfo(u),this.hostModel=t,this._invertedIndicesMap=l,this._dimOmitted){var M=this._dimIdxToName=ii();mt(s,function(I){M.set(o[I].storeDimIndex,I)})}}return n.prototype.getDimension=function(e){var t=this._recognizeDimIndex(e);if(null==t)return e;if(t=e,!this._dimOmitted)return this.dimensions[t];var i=this._dimIdxToName.get(t);if(null!=i)return i;var r=this._schema.getSourceDimension(t);return r?r.name:void 0},n.prototype.getDimensionIndex=function(e){var t=this._recognizeDimIndex(e);if(null!=t)return t;if(null==e)return-1;var i=this._getDimInfo(e);return i?i.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(e):-1},n.prototype._recognizeDimIndex=function(e){if("number"==typeof e||null!=e&&!isNaN(e)&&!this._getDimInfo(e)&&(!this._dimOmitted||this._schema.getSourceDimensionIndex(e)<0))return+e},n.prototype._getStoreDimIndex=function(e){return this.getDimensionIndex(e)},n.prototype.getDimensionInfo=function(e){return this._getDimInfo(this.getDimension(e))},n.prototype._initGetDimensionInfo=function(e){var t=this._dimInfos;this._getDimInfo=e?function(i){return t.hasOwnProperty(i)?t[i]:void 0}:function(i){return t[i]}},n.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()},n.prototype.mapDimension=function(e,t){var i=this._dimSummary;if(null==t)return i.encodeFirstDimNotExtra[e];var r=i.encode[e];return r?r[t]:null},n.prototype.mapDimensionsAll=function(e){return(this._dimSummary.encode[e]||[]).slice()},n.prototype.getStore=function(){return this._store},n.prototype.initData=function(e,t,i){var r,o=this;if(e instanceof Qy&&(r=e),!r){var s=this.dimensions,l=Vy(e)||an(e)?new Gb(e,s.length):e;r=new Qy;var u=Kc(s,function(f){return{type:o._dimInfos[f].type,property:f}});r.initData(l,u,i)}this._store=r,this._nameList=(t||[]).slice(),this._idList=[],this._nameRepeatCount={},this._doInit(0,r.count()),this._dimSummary=function(f,p){var m={},b=m.encode={},w=ii(),k=[],M=[],I={};mt(f.dimensions,function(U){var $,et=f.getDimensionInfo(U),at=et.coordDim;if(at){var At=et.coordDimIndex;H0(b,at)[At]=U,et.isExtraCoord||(w.set(at,1),"ordinal"!==($=et.type)&&"time"!==$&&(k[0]=U),H0(I,at)[At]=f.getDimensionIndex(et.name)),et.defaultTooltip&&M.push(U)}Ob.each(function(Mt,Lt){var Gt=H0(b,Lt),ne=et.otherDims[Lt];null!=ne&&!1!==ne&&(Gt[ne]=et.name)})});var O=[],B={};w.each(function(U,$){var et=b[$];B[$]=et[0],O=O.concat(et)}),m.dataDimsOnCoord=O,m.dataDimIndicesOnCoord=zt(O,function(U){return f.getDimensionInfo(U).storeDimIndex}),m.encodeFirstDimNotExtra=B;var H=b.label;H&&H.length&&(k=H.slice());var X=b.tooltip;return X&&X.length?M=X.slice():M.length||(M=k.slice()),b.defaultedLabel=k,b.defaultedTooltip=M,m.userOutput=new aC(I,p),m}(this,this._schema),this.userOutput=this._dimSummary.userOutput},n.prototype.appendData=function(e){var t=this._store.appendData(e);this._doInit(t[0],t[1])},n.prototype.appendValues=function(e,t){var i=this._store.appendValues(e,t.length),r=i.start,o=i.end,s=this._shouldMakeIdFromName();if(this._updateOrdinalMeta(),t)for(var l=r;l<o;l++)this._nameList[l]=t[l-r],s&&r_(this,l)},n.prototype._updateOrdinalMeta=function(){for(var e=this._store,t=this.dimensions,i=0;i<t.length;i++){var r=this._dimInfos[t[i]];r.ordinalMeta&&e.collectOrdinalMeta(r.storeDimIndex,r.ordinalMeta)}},n.prototype._shouldMakeIdFromName=function(){var e=this._store.getProvider();return null==this._idDimIdx&&e.getSource().sourceFormat!==Nh&&!e.fillStorage},n.prototype._doInit=function(e,t){if(!(e>=t)){var i=this._store.getProvider();this._updateOrdinalMeta();var r=this._nameList,o=this._idList;if(i.getSource().sourceFormat===Od&&!i.pure)for(var s=[],l=e;l<t;l++){var u=i.getItem(l,s);if(!this.hasItemOption&&bh(u)&&(this.hasItemOption=!0),u){var f=u.name;null==r[l]&&null!=f&&(r[l]=No(f,null));var p=u.id;null==o[l]&&null!=p&&(o[l]=No(p,null))}}if(this._shouldMakeIdFromName())for(l=e;l<t;l++)r_(this,l);i_(this)}},n.prototype.getApproximateExtent=function(e){return this._approximateExtent[e]||this._store.getDataExtent(this._getStoreDimIndex(e))},n.prototype.setApproximateExtent=function(e,t){t=this.getDimension(t),this._approximateExtent[t]=e.slice()},n.prototype.getCalculationInfo=function(e){return this._calculationInfo[e]},n.prototype.setCalculationInfo=function(e,t){iv(e)?Dt(this._calculationInfo,e):this._calculationInfo[e]=t},n.prototype.getName=function(e){var t=this.getRawIndex(e),i=this._nameList[t];return null==i&&null!=this._nameDimIdx&&(i=hg(this,this._nameDimIdx,t)),null==i&&(i=""),i},n.prototype._getCategory=function(e,t){var i=this._store.get(e,t),r=this._store.getOrdinalMeta(e);return r?r.categories[i]:i},n.prototype.getId=function(e){return au(this,this.getRawIndex(e))},n.prototype.count=function(){return this._store.count()},n.prototype.get=function(e,t){var r=this._dimInfos[e];if(r)return this._store.get(r.storeDimIndex,t)},n.prototype.getByRawIndex=function(e,t){var r=this._dimInfos[e];if(r)return this._store.getByRawIndex(r.storeDimIndex,t)},n.prototype.getIndices=function(){return this._store.getIndices()},n.prototype.getDataExtent=function(e){return this._store.getDataExtent(this._getStoreDimIndex(e))},n.prototype.getSum=function(e){return this._store.getSum(this._getStoreDimIndex(e))},n.prototype.getMedian=function(e){return this._store.getMedian(this._getStoreDimIndex(e))},n.prototype.getValues=function(e,t){var i=this,r=this._store;return Jt(e)?r.getValues(Kc(e,function(o){return i._getStoreDimIndex(o)}),t):r.getValues(e)},n.prototype.hasValue=function(e){for(var t=this._dimSummary.dataDimIndicesOnCoord,i=0,r=t.length;i<r;i++)if(isNaN(this._store.get(t[i],e)))return!1;return!0},n.prototype.indexOfName=function(e){for(var t=0,i=this._store.count();t<i;t++)if(this.getName(t)===e)return t;return-1},n.prototype.getRawIndex=function(e){return this._store.getRawIndex(e)},n.prototype.indexOfRawIndex=function(e){return this._store.indexOfRawIndex(e)},n.prototype.rawIndexOf=function(e,t){var r=(e&&this._invertedIndicesMap[e])[t];return null==r||isNaN(r)?-1:r},n.prototype.indicesOfNearest=function(e,t,i){return this._store.indicesOfNearest(this._getStoreDimIndex(e),t,i)},n.prototype.each=function(e,t,i){"function"==typeof e&&(i=t,t=e,e=[]);var r=i||this,o=Kc(Wd(e),this._getStoreDimIndex,this);this._store.each(o,r?_e(t,r):t)},n.prototype.filterSelf=function(e,t,i){"function"==typeof e&&(i=t,t=e,e=[]);var r=i||this,o=Kc(Wd(e),this._getStoreDimIndex,this);return this._store=this._store.filter(o,r?_e(t,r):t),this},n.prototype.selectRange=function(e){var t=this,i={};return mt(be(e),function(r){var o=t._getStoreDimIndex(r);i[o]=e[r]}),this._store=this._store.selectRange(i),this},n.prototype.mapArray=function(e,t,i){"function"==typeof e&&(i=t,t=e,e=[]);var r=[];return this.each(e,function(){r.push(t&&t.apply(this,arguments))},i=i||this),r},n.prototype.map=function(e,t,i,r){var o=i||r||this,s=Kc(Wd(e),this._getStoreDimIndex,this),l=W0(this);return l._store=this._store.map(s,o?_e(t,o):t),l},n.prototype.modify=function(e,t,i,r){var o=i||r||this,s=Kc(Wd(e),this._getStoreDimIndex,this);this._store.modify(s,o?_e(t,o):t)},n.prototype.downSample=function(e,t,i,r){var o=W0(this);return o._store=this._store.downSample(this._getStoreDimIndex(e),t,i,r),o},n.prototype.lttbDownSample=function(e,t){var i=W0(this);return i._store=this._store.lttbDownSample(this._getStoreDimIndex(e),t),i},n.prototype.getRawDataItem=function(e){return this._store.getRawDataItem(e)},n.prototype.getItemModel=function(e){var t=this.hostModel,i=this.getRawDataItem(e);return new Er(i,t,t&&t.ecModel)},n.prototype.diff=function(e){var t=this;return new Hu(e?e.getStore().getIndices():[],this.getStore().getIndices(),function(i){return au(e,i)},function(i){return au(t,i)})},n.prototype.getVisual=function(e){var t=this._visual;return t&&t[e]},n.prototype.setVisual=function(e,t){this._visual=this._visual||{},iv(e)?Dt(this._visual,e):this._visual[e]=t},n.prototype.getItemVisual=function(e,t){var i=this._itemVisuals[e],r=i&&i[t];return null==r?this.getVisual(t):r},n.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},n.prototype.ensureUniqueItemVisual=function(e,t){var i=this._itemVisuals,r=i[e];r||(r=i[e]={});var o=r[t];return null==o&&(Jt(o=this.getVisual(t))?o=o.slice():iv(o)&&(o=Dt({},o)),r[t]=o),o},n.prototype.setItemVisual=function(e,t,i){var r=this._itemVisuals[e]||{};this._itemVisuals[e]=r,iv(t)?Dt(r,t):r[t]=i},n.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},n.prototype.setLayout=function(e,t){if(iv(e))for(var i in e)e.hasOwnProperty(i)&&this.setLayout(i,e[i]);else this._layout[e]=t},n.prototype.getLayout=function(e){return this._layout[e]},n.prototype.getItemLayout=function(e){return this._itemLayouts[e]},n.prototype.setItemLayout=function(e,t,i){this._itemLayouts[e]=i?Dt(this._itemLayouts[e]||{},t):t},n.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},n.prototype.setItemGraphicEl=function(e,t){Uv(this.hostModel&&this.hostModel.seriesIndex,this.dataType,e,t),this._graphicEls[e]=t},n.prototype.getItemGraphicEl=function(e){return this._graphicEls[e]},n.prototype.eachItemGraphicEl=function(e,t){mt(this._graphicEls,function(i,r){i&&e&&e.call(t,i,r)})},n.prototype.cloneShallow=function(e){return e||(e=new n(this._schema?this._schema:Kc(this.dimensions,this._getDimInfo,this),this.hostModel)),nv(e,this),e._store=this._store,e},n.prototype.wrapMethod=function(e,t){var i=this[e];"function"==typeof i&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(e),this[e]=function(){var r=i.apply(this,arguments);return t.apply(this,[r].concat(Di(arguments)))})},n.internalField=(i_=function(e){var t=e._invertedIndicesMap;mt(t,function(i,r){var o=e._dimInfos[r],s=o.ordinalMeta,l=e._store;if(s){i=t[r]=new j0(s.categories.length);for(var u=0;u<i.length;u++)i[u]=-1;for(u=0;u<l.count();u++)i[l.get(o.storeDimIndex,u)]=u}})},hg=function(e,t,i){return No(e._getCategory(t,i),null)},au=function(e,t){var i=e._idList[t];return null==i&&null!=e._idDimIdx&&(i=hg(e,e._idDimIdx,t)),null==i&&(i="e\0\0"+t),i},Wd=function(e){return Jt(e)||(e=null!=e?[e]:[]),e},W0=function(e){var t=new n(e._schema?e._schema:Kc(e.dimensions,e._getDimInfo,e),e.hostModel);return nv(t,e),t},nv=function(e,t){mt(Hh.concat(t.__wrappedMethods||[]),function(i){t.hasOwnProperty(i)&&(e[i]=t[i])}),e.__wrappedMethods=t.__wrappedMethods,mt(jd,function(i){e[i]=Pt(t[i])}),e._calculationInfo=Dt({},t._calculationInfo)},void(r_=function(e,t){var i=e._nameList,r=e._idList,o=e._nameDimIdx,s=e._idDimIdx,l=i[t],u=r[t];if(null==l&&null!=o&&(i[t]=l=hg(e,o,t)),null==u&&null!=s&&(r[t]=u=hg(e,s,t)),null==u&&null!=l){var f=e._nameRepeatCount,p=f[l]=(f[l]||0)+1;u=l,p>1&&(u+="__ec__"+p),r[t]=u}})),n}();function dg(n,e){Vy(n)||(n=Wy(n));var At,Gt,t=(e=e||{}).coordDimensions||[],i=e.dimensionsDefine||n.dimensionsDefine||[],r=ii(),o=[],s=(At=t,Gt=Math.max(n.dimensionsDetectedCount||1,At.length,i.length,e.dimensionsCount||0),mt(At,function(ne){var re;$e(ne)&&(re=ne.dimsDef)&&(Gt=Math.max(Gt,re.length))}),Gt),l=e.canOmitUnusedDimensions&&hC(s),u=i===n.dimensionsDefine,f=u?cC(n):uC(i),p=e.encodeDefine;!p&&e.encodeDefaulter&&(p=e.encodeDefaulter(n,s));for(var m=ii(p),b=new i1(s),w=0;w<b.length;w++)b[w]=-1;function k(at){var At=b[at];if(At<0){var Mt=i[at],Lt=$e(Mt)?Mt:{name:Mt},Gt=new ev,ne=Lt.name;return null!=ne&&null!=f.get(ne)&&(Gt.name=Gt.displayName=ne),null!=Lt.type&&(Gt.type=Lt.type),null!=Lt.displayName&&(Gt.displayName=Lt.displayName),b[at]=o.length,Gt.storeDimIndex=at,o.push(Gt),Gt}return o[At]}if(!l)for(w=0;w<s;w++)k(w);m.each(function(at,At){var Mt=mr(at).slice();if(1===Mt.length&&!Ke(Mt[0])&&Mt[0]<0)m.set(At,!1);else{var Lt=m.set(At,[]);mt(Mt,function(Gt,ne){var re=Ke(Gt)?f.get(Gt):Gt;null!=re&&re<s&&(Lt[ne]=re,I(k(re),At,ne))})}});var M=0;function I(at,At,Mt){null!=Ob.get(At)?at.otherDims[At]=Mt:(at.coordDim=At,at.coordDimIndex=Mt,r.set(At,!0))}mt(t,function(at){var At,Mt,Lt,Gt;if(Ke(at))At=at,Gt={};else{At=(Gt=at).name;var ne=Gt.ordinalMeta;Gt.ordinalMeta=null,(Gt=Dt({},Gt)).ordinalMeta=ne,Mt=Gt.dimsDef,Lt=Gt.otherDims,Gt.name=Gt.coordDim=Gt.coordDimIndex=Gt.dimsDef=Gt.otherDims=null}var re=m.get(At);if(!1!==re){if(!(re=mr(re)).length)for(var fe=0;fe<(Mt&&Mt.length||1);fe++){for(;M<s&&null!=k(M).coordDim;)M++;M<s&&re.push(M++)}mt(re,function(ye,Te){var Ie=k(ye);if(u&&null!=Gt.type&&(Ie.type=Gt.type),I(se(Ie,Gt),At,Te),null==Ie.name&&Mt){var Re=Mt[Te];!$e(Re)&&(Re={name:Re}),Ie.name=Ie.displayName=Re.name,Ie.defaultTooltip=Re.defaultTooltip}Lt&&se(Ie.otherDims,Lt)})}});var O=e.generateCoord,B=e.generateCoordCount,H=null!=B;B=O?B||1:0;var X=O||"value";function U(at){null==at.name&&(at.name=at.coordDim)}if(l)mt(o,function(at){U(at)}),o.sort(function(at,At){return at.storeDimIndex-At.storeDimIndex});else for(var $=0;$<s;$++){var et=k($);null==et.coordDim&&(et.coordDim=Y0(X,r,H),et.coordDimIndex=0,(!O||B<=0)&&(et.isExtraCoord=!0),B--),U(et),null!=et.type||1!==Sm(n,$)&&(!et.isExtraCoord||null==et.otherDims.itemName&&null==et.otherDims.seriesName)||(et.type="ordinal")}return function(at){for(var At=ii(),Mt=0;Mt<at.length;Mt++){var Lt=at[Mt],Gt=Lt.name,ne=At.get(Gt)||0;ne>0&&(Lt.name=Gt+(ne-1)),ne++,At.set(Gt,ne)}}(o),new lC({source:n,dimensions:o,fullDimensionCount:s,dimensionOmitted:l})}function Y0(n,e,t){var i=e.data;if(t||i.hasOwnProperty(n)){for(var r=0;i.hasOwnProperty(n+r);)r++;n+=r}return e.set(n,!0),n}var ws=function(n){this.coordSysDims=[],this.axisMap=ii(),this.categoryAxisMap=ii(),this.coordSysName=n},IA={cartesian2d:function(n,e,t,i){var r=n.getReferringComponents("xAxis",Mo).models[0],o=n.getReferringComponents("yAxis",Mo).models[0];e.coordSysDims=["x","y"],t.set("x",r),t.set("y",o),Uf(r)&&(i.set("x",r),e.firstCategoryDimIndex=0),Uf(o)&&(i.set("y",o),null==e.firstCategoryDimIndex&&(e.firstCategoryDimIndex=1))},singleAxis:function(n,e,t,i){var r=n.getReferringComponents("singleAxis",Mo).models[0];e.coordSysDims=["single"],t.set("single",r),Uf(r)&&(i.set("single",r),e.firstCategoryDimIndex=0)},polar:function(n,e,t,i){var r=n.getReferringComponents("polar",Mo).models[0],o=r.findAxisModel("radiusAxis"),s=r.findAxisModel("angleAxis");e.coordSysDims=["radius","angle"],t.set("radius",o),t.set("angle",s),Uf(o)&&(i.set("radius",o),e.firstCategoryDimIndex=0),Uf(s)&&(i.set("angle",s),null==e.firstCategoryDimIndex&&(e.firstCategoryDimIndex=1))},geo:function(n,e,t,i){e.coordSysDims=["lng","lat"]},parallel:function(n,e,t,i){var r=n.ecModel,o=r.getComponent("parallel",n.get("parallelIndex")),s=e.coordSysDims=o.dimensions.slice();mt(o.parallelAxisIndex,function(l,u){var f=r.getComponent("parallelAxis",l),p=s[u];t.set(p,f),Uf(f)&&(i.set(p,f),null==e.firstCategoryDimIndex&&(e.firstCategoryDimIndex=u))})}};function Uf(n){return"category"===n.get("type")}function dC(n,e,t){var i,r,o,s=(t=t||{}).byIndex,l=t.stackedCoordDimension;n_(e.schema)?(i=(r=e.schema).dimensions,o=e.store):i=e;var u,f,p,m,b=!(!n||!n.get("stack"));if(mt(i,function(B,H){Ke(B)&&(i[H]=B={name:B}),b&&!B.isExtraCoord&&(s||u||!B.ordinalMeta||(u=B),f||"ordinal"===B.type||"time"===B.type||l&&l!==B.coordDim||(f=B))}),!f||s||u||(s=!0),f){p="__\0ecstackresult_"+n.id,m="__\0ecstackedover_"+n.id,u&&(u.createInvertedIndices=!0);var w=f.coordDim,k=f.type,M=0;mt(i,function(B){B.coordDim===w&&M++});var I={name:p,coordDim:w,coordDimIndex:M,type:k,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:i.length},O={name:m,coordDim:m,coordDimIndex:M+1,type:k,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:i.length+1};r?(o&&(I.storeDimIndex=o.ensureCalculationDimension(m,k),O.storeDimIndex=o.ensureCalculationDimension(p,k)),r.appendCalculationDimension(I),r.appendCalculationDimension(O)):(i.push(I),i.push(O))}return{stackedDimension:f&&f.name,stackedByDimension:u&&u.name,isStackedByIndex:s,stackedOverDimension:m,stackResultDimension:p}}function Qc(n,e){return!!e&&e===n.getCalculationInfo("stackedDimension")}function X0(n,e){return Qc(n,e)?n.getCalculationInfo("stackResultDimension"):e}function Jc(n,e,t){t=t||{};var i,r=e.getSourceManager(),o=!1;n?(o=!0,i=Wy(n)):o=(i=r.getSource()).sourceFormat===Od;var O,B,H,X,s=function(I){var O=I.get("coordinateSystem"),B=new ws(O),H=IA[O];if(H)return H(I,B,B.axisMap,B.categoryAxisMap),B}(e),l=(O=s,H=e.get("coordinateSystem"),X=Rd.get(H),O&&O.coordSysDims&&(B=zt(O.coordSysDims,function(U){var $={name:U},et=O.axisMap.get(U);if(et){var at=et.get("type");$.type=cg(at)}return $})),B||(B=X&&(X.getDimensionsInfo?X.getDimensionsInfo():X.dimensions.slice())||["x","y"]),B),u=t.useEncodeDefaulter,f=Fe(u)?u:u?de(Rb,l,e):null,p=dg(i,{coordDimensions:l,generateCoord:t.generateCoord,encodeDefine:e.getEncode(),encodeDefaulter:f,canOmitUnusedDimensions:!o}),m=function(I,O,B){var H,X;return B&&mt(I,function(U,$){var at=B.categoryAxisMap.get(U.coordDim);at&&(null==H&&(H=$),U.ordinalMeta=at.getOrdinalMeta(),O&&(U.createInvertedIndices=!0)),null!=U.otherDims.itemName&&(X=!0)}),X||null==H||(I[H].otherDims.itemName=0),H}(p.dimensions,t.createInvertedIndices,s),b=o?null:r.getSharedDataStore(p),w=dC(e,{schema:p,store:b}),k=new _s(p,e);k.setCalculationInfo(w);var M=null!=m&&function(I){if(I.sourceFormat===Od){var O=function(B){for(var H=0;H<B.length&&null==B[H];)H++;return B[H]}(I.data||[]);return null!=O&&!Jt(rl(O))}}(i)?function(I,O,B,H){return H===m?B:this.defaultDimValueGetter(I,O,B,H)}:null;return k.hasItemOption=!1,k.initData(o?i:b,null,M),k}var th=function(){function n(e){this._setting=e||{},this._extent=[1/0,-1/0]}return n.prototype.getSetting=function(e){return this._setting[e]},n.prototype.unionExtent=function(e){var t=this._extent;e[0]<t[0]&&(t[0]=e[0]),e[1]>t[1]&&(t[1]=e[1])},n.prototype.unionExtentFromData=function(e,t){this.unionExtent(e.getApproximateExtent(t))},n.prototype.getExtent=function(){return this._extent.slice()},n.prototype.setExtent=function(e,t){var i=this._extent;isNaN(e)||(i[0]=e),isNaN(t)||(i[1]=t)},n.prototype.isInExtentRange=function(e){return this._extent[0]<=e&&this._extent[1]>=e},n.prototype.isBlank=function(){return this._isBlank},n.prototype.setBlank=function(e){this._isBlank=e},n}();Go(th);var su=0,Yd=function(){function n(e){this.categories=e.categories||[],this._needCollect=e.needCollect,this._deduplication=e.deduplication,this.uid=++su}return n.createByAxisModel=function(e){var t=e.option,i=t.data,r=i&&zt(i,DA);return new n({categories:r,needCollect:!r,deduplication:!1!==t.dedplication})},n.prototype.getOrdinal=function(e){return this._getOrCreateMap().get(e)},n.prototype.parseAndCollect=function(e){var t,i=this._needCollect;if("string"!=typeof e&&!i)return e;if(i&&!this._deduplication)return this.categories[t=this.categories.length]=e,t;var r=this._getOrCreateMap();return null==(t=r.get(e))&&(i?(this.categories[t=this.categories.length]=e,r.set(e,t)):t=NaN),t},n.prototype._getOrCreateMap=function(){return this._map||(this._map=ii(this.categories))},n}();function DA(n){return $e(n)&&null!=n.value?n.value:n+""}var fC=xi;function G0(n){return Hi(n)+2}function o_(n,e,t){n[e]=Math.max(Math.min(n[e],t[1]),t[0])}function $f(n,e){return n>=e[0]&&n<=e[1]}function rv(n,e){return e[1]===e[0]?.5:(n-e[0])/(e[1]-e[0])}function ov(n,e){return n*(e[1]-e[0])+e[0]}var fg=function(n){function e(t){var i=n.call(this,t)||this;i.type="ordinal";var r=i.getSetting("ordinalMeta");return r||(r=new Yd({})),Jt(r)&&(r=new Yd({categories:zt(r,function(o){return $e(o)?o.value:o})})),i._ordinalMeta=r,i._extent=i.getSetting("extent")||[0,r.categories.length-1],i}return Tt(e,n),e.prototype.parse=function(t){return"string"==typeof t?this._ordinalMeta.getOrdinal(t):Math.round(t)},e.prototype.contain=function(t){return $f(t=this.parse(t),this._extent)&&null!=this._ordinalMeta.categories[t]},e.prototype.normalize=function(t){return rv(t=this._getTickNumber(this.parse(t)),this._extent)},e.prototype.scale=function(t){return t=Math.round(ov(t,this._extent)),this.getRawOrdinalNumber(t)},e.prototype.getTicks=function(){for(var t=[],i=this._extent,r=i[0];r<=i[1];)t.push({value:r}),r++;return t},e.prototype.getMinorTicks=function(t){},e.prototype.setSortInfo=function(t){if(null!=t){for(var i=t.ordinalNumbers,r=this._ordinalNumbersByTick=[],o=this._ticksByOrdinalNumber=[],s=0,l=this._ordinalMeta.categories.length,u=Math.min(l,i.length);s<u;++s){var f=i[s];r[s]=f,o[f]=s}for(var p=0;s<l;++s){for(;null!=o[p];)p++;r.push(p),o[p]=s}}else this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null},e.prototype._getTickNumber=function(t){var i=this._ticksByOrdinalNumber;return i&&t>=0&&t<i.length?i[t]:t},e.prototype.getRawOrdinalNumber=function(t){var i=this._ordinalNumbersByTick;return i&&t>=0&&t<i.length?i[t]:t},e.prototype.getLabel=function(t){if(!this.isBlank()){var i=this.getRawOrdinalNumber(t.value),r=this._ordinalMeta.categories[i];return null==r?"":r+""}},e.prototype.count=function(){return this._extent[1]-this._extent[0]+1},e.prototype.unionExtentFromData=function(t,i){this.unionExtent(t.getApproximateExtent(i))},e.prototype.isInExtentRange=function(t){return t=this._getTickNumber(t),this._extent[0]<=t&&this._extent[1]>=t},e.prototype.getOrdinalMeta=function(){return this._ordinalMeta},e.prototype.niceTicks=function(){},e.prototype.niceExtent=function(){},e.type="ordinal",e}(th);th.registerClass(fg);var Xd=xi,Zf=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="interval",t._interval=0,t._intervalPrecision=2,t}return Tt(e,n),e.prototype.parse=function(t){return t},e.prototype.contain=function(t){return $f(t,this._extent)},e.prototype.normalize=function(t){return rv(t,this._extent)},e.prototype.scale=function(t){return ov(t,this._extent)},e.prototype.setExtent=function(t,i){var r=this._extent;isNaN(t)||(r[0]=parseFloat(t)),isNaN(i)||(r[1]=parseFloat(i))},e.prototype.unionExtent=function(t){var i=this._extent;t[0]<i[0]&&(i[0]=t[0]),t[1]>i[1]&&(i[1]=t[1]),this.setExtent(i[0],i[1])},e.prototype.getInterval=function(){return this._interval},e.prototype.setInterval=function(t){this._interval=t,this._niceExtent=this._extent.slice(),this._intervalPrecision=G0(t)},e.prototype.getTicks=function(t){var i=this._interval,r=this._extent,o=this._niceExtent,s=this._intervalPrecision,l=[];if(!i)return l;r[0]<o[0]&&l.push(t?{value:Xd(o[0]-i,s)}:{value:r[0]});for(var u=o[0];u<=o[1]&&(l.push({value:u}),(u=Xd(u+i,s))!==l[l.length-1].value);)if(l.length>1e4)return[];var f=l.length?l[l.length-1].value:o[1];return r[1]>f&&l.push(t?{value:Xd(f+i,s)}:{value:r[1]}),l},e.prototype.getMinorTicks=function(t){for(var i=this.getTicks(!0),r=[],o=this.getExtent(),s=1;s<i.length;s++){for(var u=i[s-1],f=0,p=[],m=(i[s].value-u.value)/t;f<t-1;){var b=Xd(u.value+(f+1)*m);b>o[0]&&b<o[1]&&p.push(b),f++}r.push(p)}return r},e.prototype.getLabel=function(t,i){if(null==t)return"";var r=i&&i.precision;return null==r?r=Hi(t.value)||0:"auto"===r&&(r=this._intervalPrecision),Sf(Xd(t.value,r,!0))},e.prototype.niceTicks=function(t,i,r){t=t||5;var o=this._extent,s=o[1]-o[0];if(isFinite(s)){s<0&&(s=-s,o.reverse());var l=function(n,e,t,i){var r={},s=r.interval=$r((n[1]-n[0])/e,!0);null!=t&&s<t&&(s=r.interval=t),null!=i&&s>i&&(s=r.interval=i);var u,f,l=r.intervalPrecision=G0(s);return u=r.niceTickExtent=[fC(Math.ceil(n[0]/s)*s,l),fC(Math.floor(n[1]/s)*s,l)],f=n,!isFinite(u[0])&&(u[0]=f[0]),!isFinite(u[1])&&(u[1]=f[1]),o_(u,0,f),o_(u,1,f),u[0]>u[1]&&(u[0]=u[1]),r}(o,t,i,r);this._intervalPrecision=l.intervalPrecision,this._interval=l.interval,this._niceExtent=l.niceTickExtent}},e.prototype.niceExtent=function(t){var i=this._extent;if(i[0]===i[1])if(0!==i[0]){var r=i[0];t.fixMax||(i[1]+=r/2),i[0]-=r/2}else i[1]=1;isFinite(i[1]-i[0])||(i[0]=0,i[1]=1),this.niceTicks(t.splitNumber,t.minInterval,t.maxInterval);var s=this._interval;t.fixMin||(i[0]=Xd(Math.floor(i[0]/s)*s)),t.fixMax||(i[1]=Xd(Math.ceil(i[1]/s)*s))},e.type="interval",e}(th);th.registerClass(Zf);var av="__ec_stack_",Wh="undefined"!=typeof Float32Array?Float32Array:Array;function pg(n){return n.get("stack")||av+n.seriesIndex}function Kf(n){return n.dim+n.index}function gg(n,e){var t=[];return e.eachSeriesByType(n,function(i){q0(i)&&!U0(i)&&t.push(i)}),t}function a_(n){var e=function(i){var r={};mt(i,function(m){var b=m.coordinateSystem.getBaseAxis();if("time"===b.type||"value"===b.type)for(var w=m.getData(),k=b.dim+"_"+b.index,M=w.getDimensionIndex(w.mapDimension(b.dim)),I=w.getStore(),O=0,B=I.count();O<B;++O){var H=I.get(M,O);r[k]?r[k].push(H):r[k]=[H]}});var o={};for(var s in r)if(r.hasOwnProperty(s)){var l=r[s];if(l){l.sort(function(m,b){return m-b});for(var u=null,f=1;f<l.length;++f){var p=l[f]-l[f-1];p>0&&(u=null===u?p:Math.min(u,p))}o[s]=u}}return o}(n),t=[];return mt(n,function(i){var r,o=i.coordinateSystem.getBaseAxis(),s=o.getExtent();if("category"===o.type)r=o.getBandWidth();else if("value"===o.type||"time"===o.type){var u=e[o.dim+"_"+o.index],f=Math.abs(s[1]-s[0]),p=o.scale.getExtent(),m=Math.abs(p[1]-p[0]);r=u?f/m*u:f}else{var b=i.getData();r=Math.abs(s[1]-s[0])/b.count()}var w=In(i.get("barWidth"),r),k=In(i.get("barMaxWidth"),r),M=In(i.get("barMinWidth")||1,r),I=i.get("barGap"),O=i.get("barCategoryGap");t.push({bandWidth:r,barWidth:w,barMaxWidth:k,barMinWidth:M,barGap:I,barCategoryGap:O,axisKey:Kf(o),stackId:pg(i)})}),pC(t)}function pC(n){var e={};mt(n,function(i,r){var o=i.axisKey,s=i.bandWidth,l=e[o]||{bandWidth:s,remainedWidth:s,autoWidthCount:0,categoryGap:null,gap:"20%",stacks:{}},u=l.stacks;e[o]=l;var f=i.stackId;u[f]||l.autoWidthCount++,u[f]=u[f]||{width:0,maxWidth:0};var p=i.barWidth;p&&!u[f].width&&(u[f].width=p,p=Math.min(l.remainedWidth,p),l.remainedWidth-=p);var m=i.barMaxWidth;m&&(u[f].maxWidth=m);var b=i.barMinWidth;b&&(u[f].minWidth=b);var w=i.barGap;null!=w&&(l.gap=w);var k=i.barCategoryGap;null!=k&&(l.categoryGap=k)});var t={};return mt(e,function(i,r){t[r]={};var o=i.stacks,s=i.bandWidth,l=i.categoryGap;if(null==l){var u=be(o).length;l=Math.max(35-4*u,15)+"%"}var f=In(l,s),p=In(i.gap,1),m=i.remainedWidth,b=i.autoWidthCount,w=(m-f)/(b+(b-1)*p);w=Math.max(w,0),mt(o,function(O){var B=O.maxWidth,H=O.minWidth;if(O.width)X=O.width,B&&(X=Math.min(X,B)),H&&(X=Math.max(X,H)),O.width=X,m-=X+p*X,b--;else{var X=w;B&&B<X&&(X=Math.min(B,m)),H&&H>X&&(X=H),X!==w&&(O.width=X,m-=X+p*X,b--)}}),w=(m-f)/(b+(b-1)*p),w=Math.max(w,0);var k,M=0;mt(o,function(O,B){O.width||(O.width=w),k=O,M+=O.width*(1+p)}),k&&(M-=k.width*p);var I=-M/2;mt(o,function(O,B){t[r][B]=t[r][B]||{bandWidth:s,offset:I,width:O.width},I+=O.width*(1+p)})}),t}function s_(n,e,t){if(n&&e){var i=n[Kf(e)];return null!=i&&null!=t?i[pg(t)]:i}}function l_(n,e){var t=gg(n,e),i=a_(t),r={};mt(t,function(o){var s=o.getData(),l=o.coordinateSystem,u=l.getBaseAxis(),f=pg(o),p=i[Kf(u)][f],m=p.offset,b=p.width,w=l.getOtherAxis(u),k=o.get("barMinHeight")||0;r[f]=r[f]||[],s.setLayout({bandWidth:p.bandWidth,offset:m,size:b});for(var M=s.mapDimension(w.dim),I=s.mapDimension(u.dim),O=Qc(s,M),B=w.isHorizontal(),H=c_(0,w),X=s.getStore(),U=s.getDimensionIndex(M),$=s.getDimensionIndex(I),et=0,at=X.count();et<at;et++){var At=X.get(U,et),Mt=X.get($,et),Lt=At>=0?"p":"n",Gt=H;O&&(r[f][Mt]||(r[f][Mt]={p:H,n:H}),Gt=r[f][Mt][Lt]);var ne,re=void 0,fe=void 0,ye=void 0,Te=void 0;B?(re=Gt,fe=(ne=l.dataToPoint([At,Mt]))[1]+m,ye=ne[0]-H,Te=b,Math.abs(ye)<k&&(ye=(ye<0?-1:1)*k),isNaN(ye)||O&&(r[f][Mt][Lt]+=ye)):(re=(ne=l.dataToPoint([Mt,At]))[0]+m,fe=Gt,ye=b,Te=ne[1]-H,Math.abs(Te)<k&&(Te=(Te<=0?-1:1)*k),isNaN(Te)||O&&(r[f][Mt][Lt]+=Te)),s.setItemLayout(et,{x:re,y:fe,width:ye,height:Te})}})}var u_={seriesType:"bar",plan:Of(),reset:function(n){if(q0(n)&&U0(n)){var e=n.getData(),t=n.coordinateSystem,i=t.master.getRect(),r=t.getBaseAxis(),o=t.getOtherAxis(r),s=e.getDimensionIndex(e.mapDimension(o.dim)),l=e.getDimensionIndex(e.mapDimension(r.dim)),u=o.isHorizontal(),f=u?0:1,p=s_(a_([n]),r,n).width;return p>.5||(p=.5),{progress:function(m,b){for(var w,k=m.count,M=new Wh(2*k),I=new Wh(2*k),O=new Wh(k),B=[],H=[],X=0,U=0,$=b.getStore();null!=(w=m.next());)H[f]=$.get(s,w),H[1-f]=$.get(l,w),B=t.dataToPoint(H,null),I[X]=u?i.x+i.width:B[0],M[X++]=B[0],I[X]=u?B[1]:i.y+i.height,M[X++]=B[1],O[U++]=w;b.setLayout({largePoints:M,largeDataIndices:O,largeBackgroundPoints:I,barWidth:p,valueAxisStart:c_(0,o),backgroundStart:u?i.x:i.y,valueAxisHorizontal:u})}}}}};function q0(n){return n.coordinateSystem&&"cartesian2d"===n.coordinateSystem.type}function U0(n){return n.pipelineContext&&n.pipelineContext.large}function c_(n,e,t){return e.toGlobalCoord(e.dataToCoord("log"===e.type?1:0))}var h_=function(n){function e(t){var i=n.call(this,t)||this;return i.type="time",i}return Tt(e,n),e.prototype.getLabel=function(t){var i=this.getSetting("useUTC");return jc(t.value,Sb[function(r){switch(r){case"year":case"month":return"day";case"millisecond":return"millisecond";default:return"second"}}(Id(this._minLevelUnit))]||Sb.second,i,this.getSetting("locale"))},e.prototype.getFormattedLabel=function(t,i,r){var o=this.getSetting("useUTC");return function(s,l,u,f,p){var m=null;if("string"==typeof u)m=u;else if("function"==typeof u)m=u(s.value,l,{level:s.level});else{var b=Dt({},Wc);if(s.level>0)for(var w=0;w<Cb.length;++w)b[Cb[w]]="{primary|"+b[Cb[w]]+"}";var k=u?!1===u.inherit?u:se(u,b):b,M=Ay(s.value,p);if(k[M])m=k[M];else if(k.inherit){for(w=kb.indexOf(M)-1;w>=0;--w)if(k[M]){m=k[M];break}m=m||b.none}if(Jt(m)){var I=null==s.level?0:s.level>=0?s.level:m.length+s.level;m=m[I=Math.min(I,m.length-1)]}}return jc(new Date(s.value),m,p,f)}(t,i,r,this.getSetting("locale"),o)},e.prototype.getTicks=function(t){var r=this._extent,o=[];if(!this._interval)return o;o.push({value:r[0],level:0});var s=this.getSetting("useUTC"),l=function(u,f,p,m){var w=kb,k=0;function M(Te,Ie,Re,Xe,cn,_n,Hn){for(var gn=new Date(Ie),Dn=Ie,Un=gn[Xe]();Dn<Re&&Dn<=m[1];)Hn.push({value:Dn}),gn[cn](Un+=Te),Dn=gn.getTime();Hn.push({value:Dn,notAdd:!0})}function I(Te,Ie,Re){var Xe=[],cn=!Ie.length;if(!function(di,fi,Pi,Wi){var Gi=Ji(fi),Jo=Ji(Pi),zo=function(fr){return Ab(Gi,fr,Wi)===Ab(Jo,fr,Wi)},Ir=function(){return zo("year")},Ar=function(){return Ir()&&zo("month")},ua=function(){return Ar()&&zo("day")},xo=function(){return ua()&&zo("hour")},Nl=function(){return xo()&&zo("minute")},fu=function(){return Nl()&&zo("second")};switch(di){case"year":return Ir();case"month":return Ar();case"day":return ua();case"hour":return xo();case"minute":return Nl();case"second":return fu();case"millisecond":return fu()&&zo("millisecond")}}(Id(Te),m[0],m[1],p)){cn&&(Ie=[{value:vC(new Date(m[0]),Te,p)},{value:m[1]}]);for(var _n=0;_n<Ie.length-1;_n++){var Hn=Ie[_n].value,gn=Ie[_n+1].value;if(Hn!==gn){var Dn=void 0,Un=void 0,Yn=void 0;switch(Te){case"year":Dn=Math.max(1,Math.round(f/Oh/365)),Un=My(p),Yn=Mb(p);break;case"half-year":case"quarter":case"month":Dn=EA(f),Un=Dd(p),Yn=Tb(p);break;case"week":case"half-week":case"day":Dn=gC(f),Un=dm(p),Yn=Ty(p);break;case"half-day":case"quarter-day":case"hour":Dn=jh(f),Un=fm(p),Yn=Ib(p);break;case"minute":Dn=$0(f,!0),Un=Np(p),Yn=gm(p);break;case"second":Dn=$0(f,!1),Un=Rp(p),Yn=mm(p);break;case"millisecond":Dn=mC(f),Un=pm(p),Yn=vm(p)}M(Dn,Hn,gn,Un,Yn,0,Xe),"year"===Te&&Re.length>1&&0===_n&&Re.unshift({value:Re[0].value-Dn})}}for(_n=0;_n<Xe.length;_n++)Re.push(Xe[_n]);return Xe}}for(var O=[],B=[],H=0,X=0,U=0;U<w.length&&k++<1e4;++U){var $=Id(w[U]);if(sA(w[U])&&(I(w[U],O[O.length-1]||[],B),$!==(w[U+1]?Id(w[U+1]):null))){if(B.length){X=H,B.sort(function(Te,Ie){return Te.value-Ie.value});for(var et=[],at=0;at<B.length;++at){var At=B[at].value;0!==at&&B[at-1].value===At||(et.push(B[at]),At>=m[0]&&At<=m[1]&&H++)}var Mt=(m[1]-m[0])/f;if(H>1.5*Mt&&X>Mt/1.5||(O.push(et),H>Mt||u===w[U]))break}B=[]}}var Lt=Ae(zt(O,function(Te){return Ae(Te,function(Ie){return Ie.value>=m[0]&&Ie.value<=m[1]&&!Ie.notAdd})}),function(Te){return Te.length>0}),Gt=[],ne=Lt.length-1;for(U=0;U<Lt.length;++U)for(var re=Lt[U],fe=0;fe<re.length;++fe)Gt.push({value:re[fe].value,level:ne-U});Gt.sort(function(Te,Ie){return Te.value-Ie.value});var ye=[];for(U=0;U<Gt.length;++U)0!==U&&Gt[U].value===Gt[U-1].value||ye.push(Gt[U]);return ye}(this._minLevelUnit,this._approxInterval,s,r);return(o=o.concat(l)).push({value:r[1],level:0}),o},e.prototype.niceExtent=function(t){var i=this._extent;if(i[0]===i[1]&&(i[0]-=Oh,i[1]+=Oh),i[1]===-1/0&&i[0]===1/0){var r=new Date;i[1]=+new Date(r.getFullYear(),r.getMonth(),r.getDate()),i[0]=i[1]-Oh}this.niceTicks(t.splitNumber,t.minInterval,t.maxInterval)},e.prototype.niceTicks=function(t,i,r){var o=this._extent;this._approxInterval=(o[1]-o[0])/(t=t||10),null!=i&&this._approxInterval<i&&(this._approxInterval=i),null!=r&&this._approxInterval>r&&(this._approxInterval=r);var l=Qf.length,u=Math.min(function(f,p,m,b){for(;m<b;){var w=m+b>>>1;f[w][1]<p?m=w+1:b=w}return m}(Qf,this._approxInterval,0,l),l-1);this._interval=Qf[u][1],this._minLevelUnit=Qf[Math.max(u-1,0)][0]},e.prototype.parse=function(t){return"number"==typeof t?t:+Ji(t)},e.prototype.contain=function(t){return $f(this.parse(t),this._extent)},e.prototype.normalize=function(t){return rv(this.parse(t),this._extent)},e.prototype.scale=function(t){return ov(t,this._extent)},e.type="time",e}(Zf),Qf=[["second",1e3],["minute",6e4],["hour",36e5],["quarter-day",216e5],["half-day",432e5],["day",10368e4],["half-week",3024e5],["week",6048e5],["month",26784e5],["quarter",8208e6],["half-year",ky/2],["year",ky]];function gC(n,e){return(n/=Oh)>16?16:n>7.5?7:n>3.5?4:n>1.5?2:1}function EA(n){return(n/=2592e6)>6?6:n>3?3:n>2?2:1}function jh(n){return(n/=36e5)>12?12:n>6?6:n>3.5?4:n>2?2:1}function $0(n,e){return(n/=e?6e4:1e3)>30?30:n>20?20:n>15?15:n>10?10:n>5?5:n>2?2:1}function mC(n){return $r(n,!0)}function vC(n,e,t){var i=new Date(n);switch(Id(e)){case"year":case"month":i[Tb(t)](0);case"day":i[Ty(t)](1);case"hour":i[Ib(t)](0);case"minute":i[gm(t)](0);case"second":i[mm(t)](0),i[vm(t)](0)}return i.getTime()}th.registerClass(h_);var d_=th.prototype,Gd=Zf.prototype,yC=xi,xC=Math.floor,bC=Math.ceil,sv=Math.pow,Wu=Math.log,mg=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="log",t.base=10,t._originalScale=new Zf,t._interval=0,t}return Tt(e,n),e.prototype.getTicks=function(t){var r=this._extent,o=this._originalScale.getExtent();return zt(Gd.getTicks.call(this,t),function(s){var l=s.value,u=xi(sv(this.base,l));return u=l===r[0]&&this._fixMin?lv(u,o[0]):u,{value:u=l===r[1]&&this._fixMax?lv(u,o[1]):u}},this)},e.prototype.setExtent=function(t,i){var r=this.base;t=Wu(t)/Wu(r),i=Wu(i)/Wu(r),Gd.setExtent.call(this,t,i)},e.prototype.getExtent=function(){var t=this.base,i=d_.getExtent.call(this);i[0]=sv(t,i[0]),i[1]=sv(t,i[1]);var r=this._originalScale.getExtent();return this._fixMin&&(i[0]=lv(i[0],r[0])),this._fixMax&&(i[1]=lv(i[1],r[1])),i},e.prototype.unionExtent=function(t){this._originalScale.unionExtent(t);var i=this.base;t[0]=Wu(t[0])/Wu(i),t[1]=Wu(t[1])/Wu(i),d_.unionExtent.call(this,t)},e.prototype.unionExtentFromData=function(t,i){this.unionExtent(t.getApproximateExtent(i))},e.prototype.niceTicks=function(t){t=t||10;var i=this._extent,r=i[1]-i[0];if(!(r===1/0||r<=0)){var o=wr(r);for(t/r*o<=.5&&(o*=10);!isNaN(o)&&Math.abs(o)<1&&Math.abs(o)>0;)o*=10;var s=[xi(bC(i[0]/o)*o),xi(xC(i[1]/o)*o)];this._interval=o,this._niceExtent=s}},e.prototype.niceExtent=function(t){Gd.niceExtent.call(this,t),this._fixMin=t.fixMin,this._fixMax=t.fixMax},e.prototype.parse=function(t){return t},e.prototype.contain=function(t){return $f(t=Wu(t)/Wu(this.base),this._extent)},e.prototype.normalize=function(t){return rv(t=Wu(t)/Wu(this.base),this._extent)},e.prototype.scale=function(t){return t=ov(t,this._extent),sv(this.base,t)},e.type="log",e}(th),f_=mg.prototype;function lv(n,e){return yC(n,Hi(e))}f_.getMinorTicks=Gd.getMinorTicks,f_.getLabel=Gd.getLabel,th.registerClass(mg);var Z0=function(){function n(e,t,i){this._prepareParams(e,t,i)}return n.prototype._prepareParams=function(e,t,i){i[1]<i[0]&&(i=[NaN,NaN]),this._dataMin=i[0],this._dataMax=i[1];var r=this._isOrdinal="ordinal"===e.type;this._needCrossZero=t.getNeedCrossZero&&t.getNeedCrossZero();var o=this._modelMinRaw=t.get("min",!0);Fe(o)?this._modelMinNum=qd(e,o({min:i[0],max:i[1]})):"dataMin"!==o&&(this._modelMinNum=qd(e,o));var s=this._modelMaxRaw=t.get("max",!0);if(Fe(s)?this._modelMaxNum=qd(e,s({min:i[0],max:i[1]})):"dataMax"!==s&&(this._modelMaxNum=qd(e,s)),r)this._axisDataLen=t.getCategories().length;else{var l=t.get("boundaryGap"),u=Jt(l)?l:[l||0,l||0];this._boundaryGapInner="boolean"==typeof u[0]||"boolean"==typeof u[1]?[0,0]:[Wr(u[0],1),Wr(u[1],1)]}},n.prototype.calculate=function(){var e=this._isOrdinal,t=this._dataMin,i=this._dataMax,r=this._axisDataLen,o=this._boundaryGapInner,s=e?null:i-t||Math.abs(t),l="dataMin"===this._modelMinRaw?t:this._modelMinNum,u="dataMax"===this._modelMaxRaw?i:this._modelMaxNum,f=null!=l,p=null!=u;null==l&&(l=e?r?0:NaN:t-o[0]*s),null==u&&(u=e?r?r-1:NaN:i+o[1]*s),(null==l||!isFinite(l))&&(l=NaN),(null==u||!isFinite(u))&&(u=NaN);var m=fn(l)||fn(u)||e&&!r;this._needCrossZero&&(l>0&&u>0&&!f&&(l=0),l<0&&u<0&&!p&&(u=0));var b=this._determinedMin,w=this._determinedMax;return null!=b&&(l=b,f=!0),null!=w&&(u=w,p=!0),{min:l,max:u,minFixed:f,maxFixed:p,isBlank:m}},n.prototype.modifyDataMinMax=function(e,t){this[PA[e]]=t},n.prototype.setDeterminedMinMax=function(e,t){this[LA[e]]=t},n.prototype.freeze=function(){this.frozen=!0},n}(),LA={min:"_determinedMin",max:"_determinedMax"},PA={min:"_dataMin",max:"_dataMax"};function uv(n,e,t){var i=n.rawExtentInfo;return i||(i=new Z0(n,e,t),n.rawExtentInfo=i,i)}function qd(n,e){return null==e?null:fn(e)?NaN:n.parse(e)}function cv(n,e){var t=n.type,i=uv(n,e,n.getExtent()).calculate();n.setBlank(i.isBlank);var r=i.min,o=i.max,s=e.ecModel;if(s&&"time"===t){var l=gg("bar",s),u=!1;if(mt(l,function(m){u=u||m.getBaseAxis()===e.axis}),u){var f=a_(l),p=function(m,b,w,k){var M=w.axis.getExtent(),I=M[1]-M[0],O=s_(k,w.axis);if(void 0===O)return{min:m,max:b};var B=1/0;mt(O,function(et){B=Math.min(et.offset,B)});var H=-1/0;mt(O,function(et){H=Math.max(et.offset+et.width,H)}),B=Math.abs(B),H=Math.abs(H);var X=B+H,U=b-m,$=U/(1-(B+H)/I)-U;return{min:m-=$*(B/X),max:b+=$*(H/X)}}(r,o,e,f);r=p.min,o=p.max}}return{extent:[r,o],fixMin:i.minFixed,fixMax:i.maxFixed}}function eh(n,e){var t=e,i=cv(n,t),r=i.extent,o=t.get("splitNumber");n instanceof mg&&(n.base=t.get("logBase"));var s=n.type;n.setExtent(r[0],r[1]),n.niceExtent({splitNumber:o,fixMin:i.fixMin,fixMax:i.fixMax,minInterval:"interval"===s||"time"===s?t.get("minInterval"):null,maxInterval:"interval"===s||"time"===s?t.get("maxInterval"):null});var l=t.get("interval");null!=l&&n.setInterval&&n.setInterval(l)}function vg(n,e){if(e=e||n.get("type"))switch(e){case"category":return new fg({ordinalMeta:n.getOrdinalMeta?n.getOrdinalMeta():n.getCategories(),extent:[1/0,-1/0]});case"time":return new h_({locale:n.ecModel.getLocaleModel(),useUTC:n.ecModel.get("useUTC")});default:return new(th.getClass(e)||Zf)}}function yg(n){var e,t,o,i=n.getLabelModel().get("formatter"),r="category"===n.type?n.scale.getExtent()[0]:null;return"time"===n.scale.type?(t=i,function(o,s){return n.scale.getFormattedLabel(o,s,t)}):"string"==typeof i?(o=i,function(s){var l=n.scale.getLabel(s);return o.replace("{value}",null!=l?l:"")}):"function"==typeof i?(e=i,function(o,s){return null!=r&&(s=o.value-r),e(K0(n,o),s,null!=o.level?{level:o.level}:null)}):function(o){return n.scale.getLabel(o)}}function K0(n,e){return"category"===n.type?n.scale.getLabel(e):e.value}function _C(n,e){var t=e*Math.PI/180,i=n.width,r=n.height,o=i*Math.abs(Math.cos(t))+Math.abs(r*Math.sin(t)),s=i*Math.abs(Math.sin(t))+Math.abs(r*Math.cos(t));return new Xi(n.x,n.y,o,s)}function Q0(n){var e=n.get("interval");return null==e?"auto":e}function p_(n){return"category"===n.type&&0===Q0(n.getLabelModel())}function hv(n,e){var t={};return mt(n.mapDimensionsAll(e),function(i){t[X0(n,i)]=!0}),be(t)}var Ud=function(){function n(){}return n.prototype.getNeedCrossZero=function(){return!this.option.scale},n.prototype.getCoordSysModel=function(){},n}(),wC=Object.freeze({__proto__:null,createList:function(n){return Jc(null,n)},getLayoutRect:Ca,dataStack:{isDimensionStacked:Qc,enableDataStack:dC,getStackedDimension:X0},createScale:function(n,e){var t=e;e instanceof Er||(t=new Er(e));var i=vg(t);return i.setExtent(n[0],n[1]),eh(i,t),i},mixinAxisModelCommonMethods:function(n){on(n,Ud)},getECData:Fi,createTextStyle:function(n,e){return Zo(n,null,null,"normal"!==(e=e||{}).state)},createDimensions:function(n,e){return dg(n,e).dimensions},createSymbol:oa,enableHoverEmphasis:to}),NA=Object.freeze({__proto__:null,linearMap:Bn,round:xi,asc:Li,getPrecision:Hi,getPrecisionSafe:Ti,getPixelPrecision:Pr,getPercentWithPrecision:or,MAX_SAFE_INTEGER:_r,remRadian:hr,isRadianAroundZero:gr,parseDate:Ji,quantity:wr,quantityExponent:fo,nice:$r,quantile:ba,reformIntervals:uo,isNumeric:Ps,numericToNumber:Po}),SC=Object.freeze({__proto__:null,parse:Ji,format:jc}),CC=Object.freeze({__proto__:null,extendShape:fb,extendPath:Al,makePath:kd,makeImage:py,mergePath:hl,resizePath:Ad,createIcon:Ua,updateProps:xr,initProps:ro,getTransform:Fc,clipPointsByRect:gb,clipRectByRect:lc,registerShape:ys,getShapeClass:Ep,Group:bt,Image:ga,Text:dr,Circle:eu,Ellipse:kp,Sector:Fr,Ring:zs,Polygon:qa,Polyline:Fs,Rect:vr,Line:wa,BezierCurve:Mp,Arc:Eh,IncrementalDisplayable:Ip,CompoundPath:nm,LinearGradient:Tp,RadialGradient:hy,BoundingRect:Xi}),kC=Object.freeze({__proto__:null,addCommas:Sf,toCamelCase:_i,normalizeCssArray:Cf,encodeHTML:Tl,formatTpl:Dy,getTooltipMarker:Eb,formatTime:function(n,e,t){"week"!==n&&"month"!==n&&"quarter"!==n&&"half-year"!==n&&"year"!==n||(n="MM-dd\nyyyy");var i=Ji(e),r=t?"UTC":"",o=i["get"+r+"FullYear"](),s=i["get"+r+"Month"]()+1,l=i["get"+r+"Date"](),u=i["get"+r+"Hours"](),f=i["get"+r+"Minutes"](),p=i["get"+r+"Seconds"](),m=i["get"+r+"Milliseconds"]();return n.replace("MM",Ml(s,2)).replace("M",s).replace("yyyy",o).replace("yy",o%100+"").replace("dd",Ml(l,2)).replace("d",l).replace("hh",Ml(u,2)).replace("h",u).replace("mm",Ml(f,2)).replace("m",f).replace("ss",Ml(p,2)).replace("s",p).replace("SSS",Ml(m,3))},capitalFirst:function(n){return n&&n.charAt(0).toUpperCase()+n.substr(1)},truncateText:jr,getTextRect:function(n,e,t,i,r,o,s,l){return new dr({style:{text:n,font:e,align:t,verticalAlign:i,padding:r,rich:o,overflow:s?"truncate":null,lineHeight:l}}).getBoundingRect()}}),AC=Object.freeze({__proto__:null,map:zt,each:mt,indexOf:Ne,inherits:tn,reduce:oe,filter:Ae,bind:_e,curry:de,isArray:Jt,isString:Ke,isObject:$e,isFunction:Fe,extend:Dt,defaults:se,clone:Pt,merge:Xt}),dv=ar();function IC(n,e){var i,l,u,r=g_(n,"labels"),o=Q0(e);return tr(r,o)||Jf(r,o,{labels:Fe(o)?v_(n,o):m_(n,i="auto"===o?null!=(u=dv(l=n).autoInterval)?u:dv(l).autoInterval=l.calculateCategoryInterval():o),labelCategoryInterval:i})}function g_(n,e){return dv(n)[e]||(dv(n)[e]=[])}function tr(n,e){for(var t=0;t<n.length;t++)if(n[t].key===e)return n[t].value}function Jf(n,e,t){return n.push({key:e,value:t}),t}function m_(n,e,t){var i=yg(n),r=n.scale,o=r.getExtent(),s=n.getLabelModel(),l=[],u=Math.max((e||0)+1,1),f=o[0],p=r.count();0!==f&&u>1&&p/u>2&&(f=Math.round(Math.ceil(f/u)*u));var m=p_(n),b=s.get("showMinLabel")||m,w=s.get("showMaxLabel")||m;b&&f!==o[0]&&M(o[0]);for(var k=f;k<=o[1];k+=u)M(k);function M(I){var O={value:I};l.push(t?I:{formattedLabel:i(O),rawLabel:r.getLabel(O),tickValue:I})}return w&&k-u!==o[1]&&M(o[1]),l}function v_(n,e,t){var i=n.scale,r=yg(n),o=[];return mt(i.getTicks(),function(s){var l=i.getLabel(s),u=s.value;e(s.value,l)&&o.push(t?u:{formattedLabel:r(s),rawLabel:l,tickValue:u})}),o}var y_=[0,1],lu=function(){function n(e,t,i){this.onBand=!1,this.inverse=!1,this.dim=e,this.scale=t,this._extent=i||[0,0]}return n.prototype.contain=function(e){var t=this._extent,i=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]);return e>=i&&e<=r},n.prototype.containData=function(e){return this.scale.contain(e)},n.prototype.getExtent=function(){return this._extent.slice()},n.prototype.getPixelPrecision=function(e){return Pr(e||this.scale.getExtent(),this._extent)},n.prototype.setExtent=function(e,t){var i=this._extent;i[0]=e,i[1]=t},n.prototype.dataToCoord=function(e,t){var i=this._extent,r=this.scale;return e=r.normalize(e),this.onBand&&"ordinal"===r.type&&x_(i=i.slice(),r.count()),Bn(e,y_,i,t)},n.prototype.coordToData=function(e,t){var i=this._extent,r=this.scale;this.onBand&&"ordinal"===r.type&&x_(i=i.slice(),r.count());var o=Bn(e,i,y_,t);return this.scale.scale(o)},n.prototype.pointToData=function(e,t){},n.prototype.getTicksCoords=function(e){var t=(e=e||{}).tickModel||this.getTickModel(),i=zt(function(n,e){return"category"===n.type?function(t,i){var r,o,s=g_(t,"ticks"),l=Q0(i),u=tr(s,l);if(u)return u;if(i.get("show")&&!t.scale.isBlank()||(r=[]),Fe(l))r=v_(t,l,!0);else if("auto"===l){var f=IC(t,t.getLabelModel());o=f.labelCategoryInterval,r=zt(f.labels,function(p){return p.tickValue})}else r=m_(t,o=l,!0);return Jf(s,l,{ticks:r,tickCategoryInterval:o})}(n,e):{ticks:zt(n.scale.getTicks(),function(t){return t.value})}}(this,t).ticks,function(r){return{coord:this.dataToCoord("ordinal"===this.scale.type?this.scale.getRawOrdinalNumber(r):r),tickValue:r}},this);return function(r,o,s,l){var u=o.length;if(r.onBand&&!s&&u){var f,p,m=r.getExtent();if(1===u)o[0].coord=m[0],f=o[1]={coord:m[0]};else{var w=(o[u-1].coord-o[0].coord)/(o[u-1].tickValue-o[0].tickValue);mt(o,function(I){I.coord-=w/2}),p=1+r.scale.getExtent()[1]-o[u-1].tickValue,o.push(f={coord:o[u-1].coord+w*p})}var k=m[0]>m[1];M(o[0].coord,m[0])&&(l?o[0].coord=m[0]:o.shift()),l&&M(m[0],o[0].coord)&&o.unshift({coord:m[0]}),M(m[1],f.coord)&&(l?f.coord=m[1]:o.pop()),l&&M(f.coord,m[1])&&o.push({coord:m[1]})}function M(I,O){return I=xi(I),O=xi(O),k?I>O:I<O}}(this,i,t.get("alignWithLabel"),e.clamp),i},n.prototype.getMinorTicksCoords=function(){if("ordinal"===this.scale.type)return[];var e=this.model.getModel("minorTick").get("splitNumber");return e>0&&e<100||(e=5),zt(this.scale.getMinorTicks(e),function(t){return zt(t,function(i){return{coord:this.dataToCoord(i),tickValue:i}},this)},this)},n.prototype.getViewLabels=function(){return function(n){return"category"===n.type?function(e){var t=e.getLabelModel(),i=IC(e,t);return!t.get("show")||e.scale.isBlank()?{labels:[],labelCategoryInterval:i.labelCategoryInterval}:i}(n):function(e){var t=e.scale.getTicks(),i=yg(e);return{labels:zt(t,function(r,o){return{level:r.level,formattedLabel:i(r,o),rawLabel:e.scale.getLabel(r),tickValue:r.value}})}}(n)}(this).labels},n.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},n.prototype.getTickModel=function(){return this.model.getModel("axisTick")},n.prototype.getBandWidth=function(){var e=this._extent,t=this.scale.getExtent(),i=t[1]-t[0]+(this.onBand?1:0);0===i&&(i=1);var r=Math.abs(e[1]-e[0]);return Math.abs(r)/i},n.prototype.calculateCategoryInterval=function(){return function(e){var At,Mt,t=(Mt=(At=e).getLabelModel(),{axisRotate:At.getRotate?At.getRotate():At.isHorizontal&&!At.isHorizontal()?90:0,labelRotate:Mt.get("rotate")||0,font:Mt.getFont()}),i=yg(e),r=(t.axisRotate-t.labelRotate)/180*Math.PI,o=e.scale,s=o.getExtent(),l=o.count();if(s[1]-s[0]<1)return 0;var u=1;l>40&&(u=Math.max(1,Math.floor(l/40)));for(var f=s[0],p=e.dataToCoord(f+1)-e.dataToCoord(f),m=Math.abs(p*Math.cos(r)),b=Math.abs(p*Math.sin(r)),w=0,k=0;f<=s[1];f+=u){var I,O=Lo(i({value:f}),t.font,"center","top");I=1.3*O.height,w=Math.max(w,1.3*O.width,7),k=Math.max(k,I,7)}var B=w/m,H=k/b;isNaN(B)&&(B=1/0),isNaN(H)&&(H=1/0);var X=Math.max(0,Math.floor(Math.min(B,H))),U=dv(e.model),$=e.getExtent(),et=U.lastAutoInterval,at=U.lastTickCount;return null!=et&&null!=at&&Math.abs(et-X)<=1&&Math.abs(at-l)<=1&&et>X&&U.axisExtent0===$[0]&&U.axisExtent1===$[1]?X=et:(U.lastTickCount=l,U.lastAutoInterval=X,U.axisExtent0=$[0],U.axisExtent1=$[1]),X}(this)},n}();function x_(n,e){var t=(n[1]-n[0])/e/2;n[0]+=t,n[1]-=t}var fv=2*Math.PI,$d=en.CMD,RA=["top","right","bottom","left"];function DC(n,e,t,i,r){var o=t.width,s=t.height;switch(n){case"top":i.set(t.x+o/2,t.y-e),r.set(0,-1);break;case"bottom":i.set(t.x+o/2,t.y+s+e),r.set(0,1);break;case"left":i.set(t.x-e,t.y+s/2),r.set(-1,0);break;case"right":i.set(t.x+o+e,t.y+s/2),r.set(1,0)}}function EC(n,e,t,i,r,o,s,l,u){s-=n,l-=e;var f=Math.sqrt(s*s+l*l),p=(s/=f)*t+n,m=(l/=f)*t+e;if(Math.abs(i-r)%fv<1e-4)return u[0]=p,u[1]=m,f-t;if(o){var b=i;i=ni(r),r=ni(b)}else i=ni(i),r=ni(r);i>r&&(r+=fv);var w=Math.atan2(l,s);if(w<0&&(w+=fv),w>=i&&w<=r||w+fv>=i&&w+fv<=r)return u[0]=p,u[1]=m,f-t;var k=t*Math.cos(i)+n,M=t*Math.sin(i)+e,I=t*Math.cos(r)+n,O=t*Math.sin(r)+e,B=(k-s)*(k-s)+(M-l)*(M-l),H=(I-s)*(I-s)+(O-l)*(O-l);return B<H?(u[0]=k,u[1]=M,Math.sqrt(B)):(u[0]=I,u[1]=O,Math.sqrt(H))}function pv(n,e,t,i,r,o,s,l){var u=r-n,f=o-e,p=t-n,m=i-e,b=Math.sqrt(p*p+m*m),w=(u*(p/=b)+f*(m/=b))/b;l&&(w=Math.min(Math.max(w,0),1));var k=s[0]=n+(w*=b)*p,M=s[1]=e+w*m;return Math.sqrt((k-r)*(k-r)+(M-o)*(M-o))}function xg(n,e,t,i,r,o,s){t<0&&(n+=t,t=-t),i<0&&(e+=i,i=-i);var l=n+t,u=e+i,f=s[0]=Math.min(Math.max(r,n),l),p=s[1]=Math.min(Math.max(o,e),u);return Math.sqrt((f-r)*(f-r)+(p-o)*(p-o))}var uu=[];function LC(n,e,t){var i=xg(e.x,e.y,e.width,e.height,n.x,n.y,uu);return t.set(uu[0],uu[1]),i}function PC(n,e,t){for(var i,r,o=0,s=0,l=0,u=0,f=1/0,p=e.data,m=n.x,b=n.y,w=0;w<p.length;){var k=p[w++];1===w&&(l=o=p[w],u=s=p[w+1]);var M=f;switch(k){case $d.M:o=l=p[w++],s=u=p[w++];break;case $d.L:M=pv(o,s,p[w],p[w+1],m,b,uu,!0),o=p[w++],s=p[w++];break;case $d.C:M=ld(o,s,p[w++],p[w++],p[w++],p[w++],p[w],p[w+1],m,b,uu),o=p[w++],s=p[w++];break;case $d.Q:M=Yv(o,s,p[w++],p[w++],p[w],p[w+1],m,b,uu),o=p[w++],s=p[w++];break;case $d.A:var I=p[w++],O=p[w++],B=p[w++],H=p[w++],X=p[w++],U=p[w++];w+=1;var $=!!(1-p[w++]);i=Math.cos(X)*B+I,r=Math.sin(X)*H+O,w<=1&&(l=i,u=r),M=EC(I,O,H,X,X+U,$,(m-I)*H/B+I,b,uu),o=Math.cos(X+U)*B+I,s=Math.sin(X+U)*H+O;break;case $d.R:M=xg(l=o=p[w++],u=s=p[w++],p[w++],p[w++],m,b,uu);break;case $d.Z:M=pv(o,s,l,u,m,b,uu,!0),o=l,s=u}M<f&&(f=M,t.set(uu[0],uu[1]))}return f}var Pl=new Bi,Kr=new Bi,Ko=new Bi,ju=new Bi,mc=new Bi;function J0(n,e){if(n){var t=n.getTextGuideLine(),i=n.getTextContent();if(i&&t){var r=n.textGuideLineConfig||{},o=[[0,0],[0,0],[0,0]],s=r.candidates||RA,l=i.getBoundingRect().clone();l.applyTransform(i.getComputedTransform());var u=1/0,f=r.anchor,p=n.getComputedTransform(),m=p&&xa([],p),b=e.get("length2")||0;f&&Ko.copy(f);for(var w=0;w<s.length;w++){DC(s[w],0,l,Pl,ju),Bi.scaleAndAdd(Kr,Pl,ju,b),Kr.transform(m);var k=n.getBoundingRect(),M=f?f.distance(Kr):n instanceof zi?PC(Kr,n.path,Ko):LC(Kr,k,Ko);M<u&&(u=M,Kr.transform(p),Ko.transform(p),Ko.toArray(o[0]),Kr.toArray(o[1]),Pl.toArray(o[2]))}OC(o,e.get("minTurnAngle")),t.setShape({points:o})}}}var gv=[],Ka=new Bi;function OC(n,e){if(e<=180&&e>0){e=e/180*Math.PI,Pl.fromArray(n[0]),Kr.fromArray(n[1]),Ko.fromArray(n[2]),Bi.sub(ju,Pl,Kr),Bi.sub(mc,Ko,Kr);var t=ju.len(),i=mc.len();if(!(t<.001||i<.001)){ju.scale(1/t),mc.scale(1/i);var r=ju.dot(mc);if(Math.cos(e)<r){var o=pv(Kr.x,Kr.y,Ko.x,Ko.y,Pl.x,Pl.y,gv,!1);Ka.fromArray(gv),Ka.scaleAndAdd(mc,o/Math.tan(Math.PI-e));var s=Ko.x!==Kr.x?(Ka.x-Kr.x)/(Ko.x-Kr.x):(Ka.y-Kr.y)/(Ko.y-Kr.y);if(isNaN(s))return;s<0?Bi.copy(Ka,Kr):s>1&&Bi.copy(Ka,Ko),Ka.toArray(n[1])}}}}function NC(n,e,t){if(t<=180&&t>0){t=t/180*Math.PI,Pl.fromArray(n[0]),Kr.fromArray(n[1]),Ko.fromArray(n[2]),Bi.sub(ju,Kr,Pl),Bi.sub(mc,Ko,Kr);var i=ju.len(),r=mc.len();if(!(i<.001||r<.001)&&(ju.scale(1/i),mc.scale(1/r),ju.dot(e)<Math.cos(t))){var o=pv(Kr.x,Kr.y,Ko.x,Ko.y,Pl.x,Pl.y,gv,!1);Ka.fromArray(gv);var s=Math.PI/2,l=s+Math.acos(mc.dot(e))-t;if(l>=s)Bi.copy(Ka,Ko);else{Ka.scaleAndAdd(mc,o/Math.tan(Math.PI/2-l));var u=Ko.x!==Kr.x?(Ka.x-Kr.x)/(Ko.x-Kr.x):(Ka.y-Kr.y)/(Ko.y-Kr.y);if(isNaN(u))return;u<0?Bi.copy(Ka,Kr):u>1&&Bi.copy(Ka,Ko)}Ka.toArray(n[1])}}}function RC(n,e,t,i){var r="normal"===t,o=r?n:n.ensureState(t);o.ignore=e;var s=i.get("smooth");s&&!0===s&&(s=.3),o.shape=o.shape||{},s>0&&(o.shape.smooth=s);var l=i.getModel("lineStyle").getLineStyle();r?n.useStyle(l):o.style=l}function BA(n,e){var t=e.smooth,i=e.points;if(i)if(n.moveTo(i[0][0],i[0][1]),t>0&&i.length>=3){var r=Nr(i[0],i[1]),o=Nr(i[1],i[2]);if(!r||!o)return n.lineTo(i[1][0],i[1][1]),void n.lineTo(i[2][0],i[2][1]);var s=Math.min(r,o)*t,l=Ho([],i[1],i[0],s/r),u=Ho([],i[1],i[2],s/o),f=Ho([],l,u,.5);n.bezierCurveTo(l[0],l[1],l[0],l[1],f[0],f[1]),n.bezierCurveTo(u[0],u[1],u[0],u[1],i[2][0],i[2][1])}else for(var p=1;p<i.length;p++)n.lineTo(i[p][0],i[p][1])}function tx(n,e,t){var i=n.getTextGuideLine(),r=n.getTextContent();if(r){for(var o=e.normal,s=o.get("show"),l=r.ignore,u=0;u<Rc.length;u++){var f=Rc[u],p=e[f],m="normal"===f;if(p){var b=p.get("show");if((m?l:Tn(r.states[f]&&r.states[f].ignore,l))||!Tn(b,s)){var w=m?i:i&&i.states.normal;w&&(w.ignore=!0);continue}i||(i=new Fs,n.setTextGuideLine(i),m||!l&&s||RC(i,!0,"normal",e.normal),n.stateProxy&&(i.stateProxy=n.stateProxy)),RC(i,!1,f,p)}}if(i){se(i.style,t),i.style.fill=null;var k=o.get("showAbove");(n.textGuideLineConfig=n.textGuideLineConfig||{}).showAbove=k||!1,i.buildPath=BA}}else i&&n.removeTextGuideLine()}function b_(n,e){for(var t={normal:n.getModel(e=e||"labelLine")},i=0;i<Bs.length;i++){var r=Bs[i];t[r]=n.getModel([r,e])}return t}function BC(n){for(var e=[],t=0;t<n.length;t++){var i=n[t];if(!i.defaultAttr.ignore){var r=i.label,o=r.getComputedTransform(),s=r.getBoundingRect(),l=!o||o[1]<1e-5&&o[2]<1e-5,u=r.style.margin||0,f=s.clone();f.applyTransform(o),f.x-=u/2,f.y-=u/2,f.width+=u,f.height+=u;var p=l?new Sd(s,o):null;e.push({label:r,labelLine:i.labelLine,rect:f,localRect:s,obb:p,priority:i.priority,defaultAttr:i.defaultAttr,layoutOption:i.computedLayoutOption,axisAligned:l,transform:o})}}return e}function __(n,e,t,i,r,o){var s=n.length;if(!(s<2)){n.sort(function(et,at){return et.rect[e]-at.rect[e]});for(var l,u=0,f=!1,p=0,m=0;m<s;m++){var b=n[m],w=b.rect;(l=w[e]-u)<0&&(w[e]-=l,b.label[e]-=l,f=!0),p+=Math.max(-l,0),u=w[e]+w[t]}p>0&&o&&X(-p/s,0,s);var k,M,I=n[0],O=n[s-1];return B(),k<0&&U(-k,.8),M<0&&U(M,.8),B(),H(k,M,1),H(M,k,-1),B(),k<0&&$(-k),M<0&&$(M),f}function B(){k=I.rect[e]-i,M=r-O.rect[e]-O.rect[t]}function H(et,at,At){if(et<0){var Mt=Math.min(at,-et);if(Mt>0){X(Mt*At,0,s);var Lt=Mt+et;Lt<0&&U(-Lt*At,1)}else U(-et*At,1)}}function X(et,at,At){0!==et&&(f=!0);for(var Mt=at;Mt<At;Mt++){var Lt=n[Mt];Lt.rect[e]+=et,Lt.label[e]+=et}}function U(et,at){for(var At=[],Mt=0,Lt=1;Lt<s;Lt++){var Gt=n[Lt-1].rect,ne=Math.max(n[Lt].rect[e]-Gt[e]-Gt[t],0);At.push(ne),Mt+=ne}if(Mt){var re=Math.min(Math.abs(et)/Mt,at);if(et>0)for(Lt=0;Lt<s-1;Lt++)X(At[Lt]*re,0,Lt+1);else for(Lt=s-1;Lt>0;Lt--)X(-At[Lt-1]*re,Lt,s)}}function $(et){var at=et<0?-1:1;et=Math.abs(et);for(var At=Math.ceil(et/(s-1)),Mt=0;Mt<s-1;Mt++)if(at>0?X(At,0,Mt+1):X(-At,s-Mt-1,s),(et-=At)<=0)return}}function w_(n,e,t,i){return __(n,"y","height",e,t,i)}function zC(n){var e=[];n.sort(function(M,I){return I.priority-M.priority});var t=new Xi(0,0,0,0);function i(M){if(!M.ignore){var I=M.ensureState("emphasis");null==I.ignore&&(I.ignore=!1)}M.ignore=!0}for(var r=0;r<n.length;r++){var o=n[r],s=o.axisAligned,l=o.localRect,u=o.transform,f=o.label,p=o.labelLine;t.copy(o.rect),t.width-=.1,t.height-=.1,t.x+=.05,t.y+=.05;for(var m=o.obb,b=!1,w=0;w<e.length;w++){var k=e[w];if(t.intersect(k.rect)){if(s&&k.axisAligned){b=!0;break}if(k.obb||(k.obb=new Sd(k.localRect,k.transform)),m||(m=new Sd(l,u)),m.intersect(k.obb)){b=!0;break}}}b?(i(f),p&&i(p)):(f.attr("ignore",o.defaultAttr.ignore),p&&p.attr("ignore",o.defaultAttr.labelGuideIgnore),e.push(o))}}function S_(n){if(n){for(var e=[],t=0;t<n.length;t++)e.push(n[t].slice());return e}}function FC(n,e){var t=n.label,i=e&&e.getTextGuideLine();return{dataIndex:n.dataIndex,dataType:n.dataType,seriesIndex:n.seriesModel.seriesIndex,text:n.label.style.text,rect:n.hostRect,labelRect:n.rect,align:t.style.align,verticalAlign:t.style.verticalAlign,labelLinePoints:S_(i&&i.shape.points)}}var C_=["align","verticalAlign","width","height","fontSize"],js=new as,bg=ar(),zA=ar();function Zd(n,e,t){for(var i=0;i<t.length;i++){var r=t[i];null!=e[r]&&(n[r]=e[r])}}var mv=["x","y","rotation"],cu=function(){function n(){this._labelList=[],this._chartViewList=[]}return n.prototype.clearLabels=function(){this._labelList=[],this._chartViewList=[]},n.prototype._addLabel=function(e,t,i,r,o){var s=r.style,l=r.__hostTarget.textConfig||{},u=r.getComputedTransform(),f=r.getBoundingRect().plain();Xi.applyTransform(f,f,u),u?js.setLocalTransform(u):(js.x=js.y=js.rotation=js.originX=js.originY=0,js.scaleX=js.scaleY=1);var p,m=r.__hostTarget;if(m){p=m.getBoundingRect().plain();var b=m.getComputedTransform();Xi.applyTransform(p,p,b)}var w=p&&m.getTextGuideLine();this._labelList.push({label:r,labelLine:w,seriesModel:i,dataIndex:e,dataType:t,layoutOption:o,computedLayoutOption:null,rect:f,hostRect:p,priority:p?p.width*p.height:0,defaultAttr:{ignore:r.ignore,labelGuideIgnore:w&&w.ignore,x:js.x,y:js.y,scaleX:js.scaleX,scaleY:js.scaleY,rotation:js.rotation,style:{x:s.x,y:s.y,align:s.align,verticalAlign:s.verticalAlign,width:s.width,height:s.height,fontSize:s.fontSize},cursor:r.cursor,attachedPos:l.position,attachedRot:l.rotation}})},n.prototype.addLabelsOfSeries=function(e){var t=this;this._chartViewList.push(e);var i=e.__model,r=i.get("labelLayout");(Fe(r)||be(r).length)&&e.group.traverse(function(o){if(o.ignore)return!0;var s=o.getTextContent(),l=Fi(o);s&&!s.disableLabelLayout&&t._addLabel(l.dataIndex,l.dataType,i,s,r)})},n.prototype.updateLayoutConfig=function(e){var t=e.getWidth(),i=e.getHeight();function r(O,B){return function(){J0(O,B)}}for(var o=0;o<this._labelList.length;o++){var s=this._labelList[o],l=s.label,u=l.__hostTarget,f=s.defaultAttr,p=void 0;p=(p="function"==typeof s.layoutOption?s.layoutOption(FC(s,u)):s.layoutOption)||{},s.computedLayoutOption=p;var m=Math.PI/180;u&&u.setTextConfig({local:!1,position:null!=p.x||null!=p.y?null:f.attachedPos,rotation:null!=p.rotate?p.rotate*m:f.attachedRot,offset:[p.dx||0,p.dy||0]});var b=!1;if(null!=p.x?(l.x=In(p.x,t),l.setStyle("x",0),b=!0):(l.x=f.x,l.setStyle("x",f.style.x)),null!=p.y?(l.y=In(p.y,i),l.setStyle("y",0),b=!0):(l.y=f.y,l.setStyle("y",f.style.y)),p.labelLinePoints){var w=u.getTextGuideLine();w&&(w.setShape({points:p.labelLinePoints}),b=!1)}bg(l).needsUpdateLabelLine=b,l.rotation=null!=p.rotate?p.rotate*m:f.rotation,l.scaleX=f.scaleX,l.scaleY=f.scaleY;for(var k=0;k<C_.length;k++){var M=C_[k];l.setStyle(M,null!=p[M]?p[M]:f.style[M])}if(p.draggable){if(l.draggable=!0,l.cursor="move",u){var I=s.seriesModel;null!=s.dataIndex&&(I=s.seriesModel.getData(s.dataType).getItemModel(s.dataIndex)),l.on("drag",r(u,I.getModel("labelLine")))}}else l.off("drag"),l.cursor=f.cursor}},n.prototype.layout=function(e){var i=e.getWidth(),r=e.getHeight(),o=BC(this._labelList),s=Ae(o,function(u){return"shiftX"===u.layoutOption.moveOverlap}),l=Ae(o,function(u){return"shiftY"===u.layoutOption.moveOverlap});__(s,"x","width",0,i,void 0),w_(l,0,r),zC(Ae(o,function(u){return u.layoutOption.hideOverlap}))},n.prototype.processLabelsOverall=function(){var e=this;mt(this._chartViewList,function(t){var i=t.__model,r=t.ignoreLabelLineUpdate,o=i.isAnimationEnabled();t.group.traverse(function(s){if(s.ignore&&!s.forceLabelAnimation)return!0;var l=!r,u=s.getTextContent();!l&&u&&(l=bg(u).needsUpdateLabelLine),l&&e._updateLabelLine(s,i),o&&e._animateLabels(s,i)})})},n.prototype._updateLabelLine=function(e,t){var i=e.getTextContent(),r=Fi(e),o=r.dataIndex;if(i&&null!=o){var s=t.getData(r.dataType),l=s.getItemModel(o),u={},f=s.getItemVisual(o,"style"),p=s.getVisual("drawType");u.stroke=f[p];var m=l.getModel("labelLine");tx(e,b_(l),u),J0(e,m)}},n.prototype._animateLabels=function(e,t){var i=e.getTextContent(),r=e.getTextGuideLine();if(i&&(e.forceLabelAnimation||!i.ignore&&!i.invisible&&!e.disableLabelAnimation&&!sc(e))){var o=(k=bg(i)).oldLayout,s=Fi(e),l=s.dataIndex,u={x:i.x,y:i.y,rotation:i.rotation},f=t.getData(s.dataType);if(o){i.attr(o);var p=e.prevStates;p&&(Ne(p,"select")>=0&&i.attr(k.oldLayoutSelect),Ne(p,"emphasis")>=0&&i.attr(k.oldLayoutEmphasis)),xr(i,u,t,l)}else if(i.attr(u),!Td(i).valueAnimation){var m=Tn(i.style.opacity,1);i.style.opacity=0,ro(i,{style:{opacity:m}},t,l)}if(k.oldLayout=u,i.states.select){var b=k.oldLayoutSelect={};Zd(b,u,mv),Zd(b,i.states.select,mv)}if(i.states.emphasis){var w=k.oldLayoutEmphasis={};Zd(w,u,mv),Zd(w,i.states.emphasis,mv)}lm(i,l,f,t,t)}if(r&&!r.ignore&&!r.invisible){o=(k=zA(r)).oldLayout;var k,M={points:r.shape.points};o?(r.attr({shape:o}),xr(r,{shape:M},t)):(r.setShape(M),r.style.strokePercent=0,ro(r,{style:{strokePercent:1}},t)),k.oldLayout=M}},n}(),ex=ar();function nh(n){return document.createElementNS("http://www.w3.org/2000/svg",n)}function vv(n){var e;if(n&&"transparent"!==n){if("string"==typeof n&&n.indexOf("rgba")>-1){var t=ea(n);t&&(n="rgb("+t[0]+","+t[1]+","+t[2]+")",e=t[3])}}else n="none";return{color:n,opacity:null==e?1:e}}function k_(n,e,t,i,r){for(var o=e.length,s=t.length,l=n.newPos,u=l-i,f=0;l+1<o&&u+1<s&&r(e[l+1],t[u+1]);)l++,u++,f++;return f&&n.components.push({count:f,added:!1,removed:!1,indices:[]}),n.newPos=l,u}function A_(n,e,t){var i=n[n.length-1];i&&i.added===e&&i.removed===t?n[n.length-1]={count:i.count+1,added:e,removed:t,indices:[]}:n.push({count:1,added:e,removed:t,indices:[]})}function FA(n){for(var e=0,t=n.length,i=0,r=0;e<t;e++){var o=n[e];if(o.removed){for(l=r;l<r+o.count;l++)o.indices.push(l);r+=o.count}else{for(var s=[],l=i;l<i+o.count;l++)s.push(l);o.indices=s,i+=o.count,o.added||(r+=o.count)}}return n}var yv="none",nx=Math.round,VC=Math.sin,HC=Math.cos,M_=Math.PI,ih=2*Math.PI,WC=180/M_;function xv(n){return nx(1e3*n)/1e3}function rh(n){return nx(1e4*n)/1e4}function jC(n){return n<1e-4&&n>-1e-4}function T_(n,e){e&&Bo(n,"transform","matrix("+xv(e[0])+","+xv(e[1])+","+xv(e[2])+","+xv(e[3])+","+rh(e[4])+","+rh(e[5])+")")}function Bo(n,e,t){(!t||"linear"!==t.type&&"radial"!==t.type)&&n.setAttribute(e,t)}function I_(n,e,t){var m,i=null==e.opacity?1:e.opacity;if(t instanceof ga)Bo(n,"opacity",i+"");else{if(null!=(m=e.fill)&&m!==yv){var r=vv(e.fill);Bo(n,"fill",r.color),Bo(n,"fill-opacity",(null!=e.fillOpacity?e.fillOpacity*r.opacity*i:r.opacity*i)+"")}else Bo(n,"fill",yv);if(function(p){var m=p.stroke;return null!=m&&m!==yv}(e)){var o=vv(e.stroke);Bo(n,"stroke",o.color);var s=e.lineWidth,l=e.strokeNoScale?t.getLineScale():1;Bo(n,"stroke-width",(l?s/l:0)+""),Bo(n,"paint-order",e.strokeFirst?"stroke":"fill"),Bo(n,"stroke-opacity",(null!=e.strokeOpacity?e.strokeOpacity*o.opacity*i:o.opacity*i)+"");var u=e.lineDash&&s>0&&Rm(e.lineDash,s);if(u){var f=e.lineDashOffset;l&&1!==l&&(u=zt(u,function(p){return p/l}),f&&(f=nx(f/=l))),Bo(n,"stroke-dasharray",u.join(",")),Bo(n,"stroke-dashoffset",(f||0)+"")}else Bo(n,"stroke-dasharray",yv);e.lineCap&&Bo(n,"stroke-linecap",e.lineCap),e.lineJoin&&Bo(n,"stroke-linejoin",e.lineJoin),e.miterLimit&&Bo(n,"stroke-miterlimit",e.miterLimit+"")}else Bo(n,"stroke",yv)}}var WA=function(){function n(){}return n.prototype.reset=function(){this._d=[],this._str=""},n.prototype.moveTo=function(e,t){this._add("M",e,t)},n.prototype.lineTo=function(e,t){this._add("L",e,t)},n.prototype.bezierCurveTo=function(e,t,i,r,o,s){this._add("C",e,t,i,r,o,s)},n.prototype.quadraticCurveTo=function(e,t,i,r){this._add("Q",e,t,i,r)},n.prototype.arc=function(e,t,i,r,o,s){this.ellipse(e,t,i,i,0,r,o,s)},n.prototype.ellipse=function(e,t,i,r,o,s,l,u){var f=0===this._d.length,p=l-s,m=!u,b=Math.abs(p),w=jC(b-ih)||(m?p>=ih:-p>=ih),k=p>0?p%ih:p%ih+ih,M=!1;M=!!w||!jC(b)&&k>=M_==!!m;var I=rh(e+i*HC(s)),O=rh(t+r*VC(s));w&&(p=m?ih-1e-4:1e-4-ih,M=!0,f&&this._d.push("M",I,O));var B=rh(e+i*HC(s+p)),H=rh(t+r*VC(s+p));if(isNaN(I)||isNaN(O)||isNaN(i)||isNaN(r)||isNaN(o)||isNaN(WC)||isNaN(B)||isNaN(H))return"";this._d.push("A",rh(i),rh(r),nx(o*WC),+M,+m,B,H)},n.prototype.rect=function(e,t,i,r){this._add("M",e,t),this._add("L",e+i,t),this._add("L",e+i,t+r),this._add("L",e,t+r),this._add("L",e,t),this._add("Z")},n.prototype.closePath=function(){this._d.length>0&&this._add("Z")},n.prototype._add=function(e,t,i,r,o,s,l,u,f){this._d.push(e);for(var p=1;p<arguments.length;p++){var m=arguments[p];if(isNaN(m))return void(this._invalid=!0);this._d.push(rh(m))}},n.prototype.generateStr=function(){this._str=this._invalid?"":this._d.join(" "),this._d=[]},n.prototype.getStr=function(){return this._str},n}(),Cs={brush:function(n){var e=n.style,t=n.__svgEl;t||(t=nh("path"),n.__svgEl=t),n.path||n.createPathProxy();var i=n.path;n.shapeChanged()&&(i.beginPath(),n.buildPath(i,n.shape),n.pathUpdated());var r=i.getVersion(),o=n,s=o.__svgPathBuilder;(o.__svgPathVersion!==r||!s||n.style.strokePercent<1)&&(s||(s=o.__svgPathBuilder=new WA),s.reset(),i.rebuildPath(s,n.style.strokePercent),s.generateStr(),o.__svgPathVersion=r),Bo(t,"d",s.getStr()),I_(t,e,n),T_(t,n.transform)}},YC={brush:function(n){var e=n.style,t=e.image;if(t instanceof HTMLImageElement?t=t.src:t instanceof HTMLCanvasElement&&(t=t.toDataURL()),t){var i=e.x||0,r=e.y||0,o=e.width,s=e.height,l=n.__svgEl;l||(l=nh("image"),n.__svgEl=l),t!==n.__imageSrc&&(l.setAttributeNS("http://www.w3.org/1999/xlink","href",t),n.__imageSrc=t),Bo(l,"width",o+""),Bo(l,"height",s+""),Bo(l,"x",i+""),Bo(l,"y",r+""),I_(l,e,n),T_(l,n.transform)}}},jA={left:"start",right:"end",center:"middle",middle:"middle"},XC={brush:function(n){var u,f,p,e=n.style,t=e.text;if(null!=t&&(t+=""),t&&!isNaN(e.x)&&!isNaN(e.y)){var i=n.__svgEl;i||((i=nh("text")).setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),n.__svgEl=i);var r=e.font||el;i.style.font=r,i.textContent=t,I_(i,e,n),T_(i,n.transform);var o=e.x||0,s=(u=e.y||0,f=no(r),"top"===(p=e.textBaseline)?u+=f/2:"bottom"===p&&(u-=f/2),u),l=jA[e.textAlign]||e.textAlign;Bo(i,"dominant-baseline","central"),Bo(i,"text-anchor",l),Bo(i,"x",o+""),Bo(i,"y",s+"")}}},ix=function(){function n(e,t,i,r,o){this.nextId=0,this._domName="_dom",this.createElement=nh,this._zrId=e,this._svgRoot=t,this._tagNames="string"==typeof i?[i]:i,this._markLabel=r,o&&(this._domName=o)}return n.prototype.getDefs=function(e){var t=this._svgRoot,i=this._svgRoot.getElementsByTagName("defs");if(0===i.length){if(e){var r=t.insertBefore(this.createElement("defs"),t.firstChild);return r.contains||(r.contains=function(o){var s=r.children;if(!s)return!1;for(var l=s.length-1;l>=0;--l)if(s[l]===o)return!0;return!1}),r}return null}return i[0]},n.prototype.doUpdate=function(e,t){if(e){var i=this.getDefs(!1);if(e[this._domName]&&i.contains(e[this._domName]))"function"==typeof t&&t(e);else{var r=this.add(e);r&&(e[this._domName]=r)}}},n.prototype.add=function(e){return null},n.prototype.addDom=function(e){var t=this.getDefs(!0);e.parentNode!==t&&t.appendChild(e)},n.prototype.removeDom=function(e){var t=this.getDefs(!1);t&&e[this._domName]&&(t.removeChild(e[this._domName]),e[this._domName]=null)},n.prototype.getDoms=function(){var e=this.getDefs(!1);if(!e)return[];var t=[];return mt(this._tagNames,function(i){for(var r=e.getElementsByTagName(i),o=0;o<r.length;o++)t.push(r[o])}),t},n.prototype.markAllUnused=function(){var e=this.getDoms(),t=this;mt(e,function(i){i[t._markLabel]="0"})},n.prototype.markDomUsed=function(e){e&&(e[this._markLabel]="1")},n.prototype.markDomUnused=function(e){e&&(e[this._markLabel]="0")},n.prototype.isDomUnused=function(e){return e&&"1"!==e[this._markLabel]},n.prototype.removeUnused=function(){var e=this,t=this.getDefs(!1);t&&mt(this.getDoms(),function(i){e.isDomUnused(i)&&t.removeChild(i)})},n.prototype.getSvgProxy=function(e){return e instanceof zi?Cs:e instanceof ga?YC:e instanceof ia?XC:Cs},n.prototype.getSvgElement=function(e){return e.__svgEl},n}();function GC(n){return"linear"===n.type}function rx(n){return"radial"===n.type}function D_(n){return n&&("linear"===n.type||"radial"===n.type)}var qC=function(n){function e(t,i){return n.call(this,t,i,["linearGradient","radialGradient"],"__gradient_in_use__")||this}return Tt(e,n),e.prototype.addWithoutUpdate=function(t,i){if(i&&i.style){var r=this;mt(["fill","stroke"],function(o){var s=i.style[o];if(D_(s)){var l=s,u=r.getDefs(!0),f=void 0;l.__dom?(f=l.__dom,u.contains(l.__dom)||r.addDom(f)):f=r.add(l),r.markUsed(i);var p=f.getAttribute("id");t.setAttribute(o,"url(#"+p+")")}})}},e.prototype.add=function(t){var i;if(GC(t))i=this.createElement("linearGradient");else{if(!rx(t))return ie("Illegal gradient type."),null;i=this.createElement("radialGradient")}return t.id=t.id||this.nextId++,i.setAttribute("id","zr"+this._zrId+"-gradient-"+t.id),this.updateDom(t,i),this.addDom(i),i},e.prototype.update=function(t){if(D_(t)){var i=this;this.doUpdate(t,function(){var r=t.__dom;if(r){var o=r.tagName,s=t.type;"linear"===s&&"linearGradient"===o||"radial"===s&&"radialGradient"===o?i.updateDom(t,t.__dom):(i.removeDom(t),i.add(t))}})}},e.prototype.updateDom=function(t,i){if(GC(t))i.setAttribute("x1",t.x+""),i.setAttribute("y1",t.y+""),i.setAttribute("x2",t.x2+""),i.setAttribute("y2",t.y2+"");else{if(!rx(t))return void ie("Illegal gradient type.");i.setAttribute("cx",t.x+""),i.setAttribute("cy",t.y+""),i.setAttribute("r",t.r+"")}i.setAttribute("gradientUnits",t.global?"userSpaceOnUse":"objectBoundingBox"),i.innerHTML="";for(var r=t.colorStops,o=0,s=r.length;o<s;++o){var l=this.createElement("stop");l.setAttribute("offset",100*r[o].offset+"%");var u=r[o].color;if(u.indexOf("rgba")>-1){var f=ea(u)[3],p=vl(u);l.setAttribute("stop-color","#"+p),l.setAttribute("stop-opacity",f+"")}else l.setAttribute("stop-color",r[o].color);i.appendChild(l)}t.__dom=i},e.prototype.markUsed=function(t){if(t.style){var i=t.style.fill;i&&i.__dom&&n.prototype.markDomUsed.call(this,i.__dom),(i=t.style.stroke)&&i.__dom&&n.prototype.markDomUsed.call(this,i.__dom)}},e}(ix);function _g(n){return n&&(!!n.image||!!n.svgElement)}var bv=new C1,YA=function(n){function e(t,i){return n.call(this,t,i,["pattern"],"__pattern_in_use__")||this}return Tt(e,n),e.prototype.addWithoutUpdate=function(t,i){if(i&&i.style){var r=this;mt(["fill","stroke"],function(o){var s=i.style[o];if(_g(s)){var l=r.getDefs(!0),u=bv.get(s);u?l.contains(u)||r.addDom(u):u=r.add(s),r.markUsed(i);var f=u.getAttribute("id");t.setAttribute(o,"url(#"+f+")")}})}},e.prototype.add=function(t){if(_g(t)){var i=this.createElement("pattern");return t.id=null==t.id?this.nextId++:t.id,i.setAttribute("id","zr"+this._zrId+"-pattern-"+t.id),i.setAttribute("x","0"),i.setAttribute("y","0"),i.setAttribute("patternUnits","userSpaceOnUse"),this.updateDom(t,i),this.addDom(i),i}},e.prototype.update=function(t){if(_g(t)){var i=this;this.doUpdate(t,function(){var r=bv.get(t);i.updateDom(t,r)})}},e.prototype.updateDom=function(t,i){var r=t.svgElement;if(r instanceof SVGElement)r.parentNode!==i&&(i.innerHTML="",i.appendChild(r),i.setAttribute("width",t.svgWidth+""),i.setAttribute("height",t.svgHeight+""));else{var o=void 0,s=i.getElementsByTagName("image");if(s.length){if(!t.image)return void i.removeChild(s[0]);o=s[0]}else t.image&&(o=this.createElement("image"));if(o){var l=void 0,u=t.image;if("string"==typeof u?l=u:u instanceof HTMLImageElement?l=u.src:u instanceof HTMLCanvasElement&&(l=u.toDataURL()),l){o.setAttribute("href",l),o.setAttribute("x","0"),o.setAttribute("y","0");var f=Lc(l,o,{dirty:function(){}},function(m){i.setAttribute("width",m.width+""),i.setAttribute("height",m.height+"")});f&&f.width&&f.height&&(i.setAttribute("width",f.width+""),i.setAttribute("height",f.height+"")),i.appendChild(o)}}}var p="translate("+(t.x||0)+", "+(t.y||0)+") rotate("+(t.rotation||0)/Math.PI*180+") scale("+(t.scaleX||1)+", "+(t.scaleY||1)+")";i.setAttribute("patternTransform",p),bv.set(t,i)},e.prototype.markUsed=function(t){t.style&&(_g(t.style.fill)&&n.prototype.markDomUsed.call(this,bv.get(t.style.fill)),_g(t.style.stroke)&&n.prototype.markDomUsed.call(this,bv.get(t.style.stroke)))},e}(ix);function UC(n){var e=n.__clipPaths;return e&&e.length>0}var ox=function(n){function e(t,i){var r=n.call(this,t,i,"clipPath","__clippath_in_use__")||this;return r._refGroups={},r._keyDuplicateCount={},r}return Tt(e,n),e.prototype.markAllUnused=function(){n.prototype.markAllUnused.call(this);var t=this._refGroups;for(var i in t)t.hasOwnProperty(i)&&this.markDomUnused(t[i]);this._keyDuplicateCount={}},e.prototype._getClipPathGroup=function(t,i){if(UC(t)){var r=t.__clipPaths,o=this._keyDuplicateCount,s=function(l){var u=[];if(l)for(var f=0;f<l.length;f++)u.push(l[f].id);return u.join(",")}(r);return f0(r,i&&i.__clipPaths)&&(o[s]=o[s]||0,o[s]&&(s+="-"+o[s]),o[s]++),this._refGroups[s]||(this._refGroups[s]=this.createElement("g"))}},e.prototype.update=function(t,i){var r=this._getClipPathGroup(t,i);return r&&(this.markDomUsed(r),this.updateDom(r,t.__clipPaths)),r},e.prototype.updateDom=function(t,i){if(i&&i.length>0){var r=this.getDefs(!0),o=i[0],s=void 0,l=void 0;o._dom?(l=o._dom.getAttribute("id"),r.contains(s=o._dom)||r.appendChild(s)):(l="zr"+this._zrId+"-clip-"+this.nextId,++this.nextId,(s=this.createElement("clipPath")).setAttribute("id",l),r.appendChild(s),o._dom=s),this.getSvgProxy(o).brush(o);var u=this.getSvgElement(o);s.innerHTML="",s.appendChild(u),t.setAttribute("clip-path","url(#"+l+")"),i.length>1&&this.updateDom(s,i.slice(1))}else t&&t.setAttribute("clip-path","none")},e.prototype.markUsed=function(t){var i=this;t.__clipPaths&&mt(t.__clipPaths,function(r){r._dom&&n.prototype.markDomUsed.call(i,r._dom)})},e.prototype.removeUnused=function(){n.prototype.removeUnused.call(this);var t={},i=this._refGroups;for(var r in i)if(i.hasOwnProperty(r)){var o=i[r];this.isDomUnused(o)?o.parentNode&&o.parentNode.removeChild(o):t[r]=o}this._refGroups=t},e}(ix),XA=function(n){function e(t,i){var r=n.call(this,t,i,["filter"],"__filter_in_use__","_shadowDom")||this;return r._shadowDomMap={},r._shadowDomPool=[],r}return Tt(e,n),e.prototype._getFromPool=function(){var t=this._shadowDomPool.pop();if(!t){(t=this.createElement("filter")).setAttribute("id","zr"+this._zrId+"-shadow-"+this.nextId++);var i=this.createElement("feDropShadow");t.appendChild(i),this.addDom(t)}return t},e.prototype.update=function(t,i){if((s=i.style)&&(s.shadowBlur||s.shadowOffsetX||s.shadowOffsetY)){var r=function(s){var l=s.style,u=s.getGlobalScale();return[l.shadowColor,(l.shadowBlur||0).toFixed(2),(l.shadowOffsetX||0).toFixed(2),(l.shadowOffsetY||0).toFixed(2),u[0],u[1]].join(",")}(i),o=i._shadowDom=this._shadowDomMap[r];o||(o=this._getFromPool(),this._shadowDomMap[r]=o),this.updateDom(t,i,o)}else this.remove(t,i);var s},e.prototype.remove=function(t,i){null!=i._shadowDom&&(i._shadowDom=null,t.removeAttribute("filter"))},e.prototype.updateDom=function(t,i,r){var o=r.children[0],s=i.style,l=i.getGlobalScale(),u=l[0],f=l[1];if(u&&f){var p=s.shadowOffsetX||0,m=s.shadowOffsetY||0,b=s.shadowBlur,w=vv(s.shadowColor);o.setAttribute("dx",p/u+""),o.setAttribute("dy",m/f+""),o.setAttribute("flood-color",w.color),o.setAttribute("flood-opacity",w.opacity+""),o.setAttribute("stdDeviation",b/2/u+" "+b/2/f),r.setAttribute("x","-100%"),r.setAttribute("y","-100%"),r.setAttribute("width","300%"),r.setAttribute("height","300%"),i._shadowDom=r;var M=r.getAttribute("id");t.setAttribute("filter","url(#"+M+")")}},e.prototype.removeUnused=function(){if(this.getDefs(!1)){var t=this._shadowDomPool,i=this._shadowDomMap;for(var r in i)i.hasOwnProperty(r)&&t.push(i[r]);this._shadowDomMap={}}},e}(ix);function ax(n){return parseInt(n,10)}function E_(n){return n instanceof zi?Cs:n instanceof ga?YC:n instanceof ia?XC:Cs}function L_(n,e){return e&&n&&e.parentNode!==n}function $C(n,e,t){if(L_(n,e)&&t){var i=t.nextSibling;i?n.insertBefore(e,i):n.appendChild(e)}}function P_(n,e){if(L_(n,e)){var t=n.firstChild;t?n.insertBefore(e,t):n.appendChild(e)}}function ZC(n,e){e&&n&&e.parentNode===n&&n.removeChild(e)}function tp(n){return n.__svgEl}var O_=function(){function n(e,t,i,r){this.type="svg",this.refreshHover=N_("refreshHover"),this.pathToImage=N_("pathToImage"),this.configLayer=N_("configLayer"),this.root=e,this.storage=t,this._opts=i=Dt({},i||{});var o=nh("svg");o.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns","http://www.w3.org/2000/svg"),o.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),o.setAttribute("version","1.1"),o.setAttribute("baseProfile","full"),o.style.cssText="user-select:none;position:absolute;left:0;top:0;";var s=nh("g");o.appendChild(s);var l=nh("g");o.appendChild(l),this._gradientManager=new qC(r,l),this._patternManager=new YA(r,l),this._clipPathManager=new ox(r,l),this._shadowManager=new XA(r,l);var u=document.createElement("div");u.style.cssText="overflow:hidden;position:relative",this._svgDom=o,this._svgRoot=l,this._backgroundRoot=s,this._viewport=u,e.appendChild(u),u.appendChild(o),this.resize(i.width,i.height),this._visibleList=[]}return n.prototype.getType=function(){return"svg"},n.prototype.getViewportRoot=function(){return this._viewport},n.prototype.getSvgDom=function(){return this._svgDom},n.prototype.getSvgRoot=function(){return this._svgRoot},n.prototype.getViewportRootOffset=function(){var e=this.getViewportRoot();if(e)return{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0}},n.prototype.refresh=function(){var e=this.storage.getDisplayList(!0);this._paintList(e)},n.prototype.setBackgroundColor=function(e){this._backgroundRoot&&this._backgroundNode&&this._backgroundRoot.removeChild(this._backgroundNode);var t=nh("rect");t.setAttribute("width",this.getWidth()),t.setAttribute("height",this.getHeight()),t.setAttribute("x",0),t.setAttribute("y",0),t.setAttribute("id",0);var i=vv(e),o=i.opacity;t.setAttribute("fill",i.color),t.setAttribute("fill-opacity",o),this._backgroundRoot.appendChild(t),this._backgroundNode=t},n.prototype.createSVGElement=function(e){return nh(e)},n.prototype.paintOne=function(e){var t=E_(e);return t&&t.brush(e),tp(e)},n.prototype._paintList=function(e){var t=this._gradientManager,i=this._patternManager,r=this._clipPathManager,o=this._shadowManager;t.markAllUnused(),i.markAllUnused(),r.markAllUnused(),o.markAllUnused();for(var s=this._svgRoot,l=this._visibleList,u=e.length,f=[],p=0;p<u;p++){var m=E_(U=e[p]),b=tp(U);U.invisible||(!U.__dirty&&b||(m&&m.brush(U),(b=tp(U))&&U.style&&(t.update(U.style.fill),t.update(U.style.stroke),i.update(U.style.fill),i.update(U.style.stroke),o.update(b,U)),U.__dirty=0),b&&f.push(U))}var w,k,M,I,O,B=function(n,e,t){return function(i,r,o){o||(o=function(I,O){return I===O}),i=i.slice();var s=(r=r.slice()).length,l=i.length,u=1,f=s+l,p=[{newPos:-1,components:[]}],m=k_(p[0],r,i,0,o);if(p[0].newPos+1>=s&&m+1>=l){for(var b=[],w=0;w<r.length;w++)b.push(w);return[{indices:b,count:r.length,added:!1,removed:!1}]}function k(){for(var I=-1*u;I<=u;I+=2){var O,B=p[I-1],H=p[I+1],X=(H?H.newPos:0)-I;B&&(p[I-1]=void 0);var U=B&&B.newPos+1<s,$=H&&0<=X&&X<l;if(U||$){if(!U||$&&B.newPos<H.newPos?A_((O={newPos:(et=H).newPos,components:et.components.slice(0)}).components,!1,!0):((O=B).newPos++,A_(O.components,!0,!1)),X=k_(O,r,i,I,o),O.newPos+1>=s&&X+1>=l)return FA(O.components);p[I]=O}else p[I]=void 0}var et;u++}for(;u<=f;){var M=k();if(M)return M}}(n,e,void 0)}(l,f);for(p=0;p<B.length;p++)if((X=B[p]).removed)for(var H=0;H<X.count;H++)b=tp(U=l[X.indices[H]]),UC(U)?(M=b)&&M.parentNode&&M.parentNode.removeChild(M):ZC(s,b);for(p=0;p<B.length;p++){var X;if(!(X=B[p]).removed)for(H=0;H<X.count;H++){var U=f[X.indices[H]],$=r.update(U,I);$!==O&&(w=k,$&&(w?$C(s,$,w):P_(s,$),k=$,w=null),O=$),b=tp(U),w?$C(O||s,b,w):P_(O||s,b),w=b||w,O||(k=w),t.markUsed(U),t.addWithoutUpdate(b,U),i.markUsed(U),i.addWithoutUpdate(b,U),r.markUsed(U),I=U}}t.removeUnused(),i.removeUnused(),r.removeUnused(),o.removeUnused(),this._visibleList=f},n.prototype.resize=function(e,t){var i=this._viewport;i.style.display="none";var r=this._opts;if(null!=e&&(r.width=e),null!=t&&(r.height=t),e=this._getSize(0),t=this._getSize(1),i.style.display="",this._width!==e||this._height!==t){this._width=e,this._height=t;var o=i.style;o.width=e+"px",o.height=t+"px";var s=this._svgDom;s.setAttribute("width",e+""),s.setAttribute("height",t+"")}this._backgroundNode&&(this._backgroundNode.setAttribute("width",e),this._backgroundNode.setAttribute("height",t))},n.prototype.getWidth=function(){return this._width},n.prototype.getHeight=function(){return this._height},n.prototype._getSize=function(e){var t=this._opts,i=["width","height"][e],r=["clientWidth","clientHeight"][e],o=["paddingLeft","paddingTop"][e],s=["paddingRight","paddingBottom"][e];if(null!=t[i]&&"auto"!==t[i])return parseFloat(t[i]);var l=this.root,u=document.defaultView.getComputedStyle(l);return(l[r]||ax(u[i])||ax(l.style[i]))-(ax(u[o])||0)-(ax(u[s])||0)|0},n.prototype.dispose=function(){this.root.innerHTML="",this._svgRoot=this._backgroundRoot=this._svgDom=this._backgroundNode=this._viewport=this.storage=null},n.prototype.clear=function(){var e=this._viewport;e&&e.parentNode&&e.parentNode.removeChild(e)},n.prototype.toDataURL=function(){this.refresh();var e=this._svgDom;return"data:image/svg+xml;charset=UTF-8,"+encodeURIComponent((e.outerHTML||(e.parentNode&&e.parentNode).innerHTML).replace(/></g,">\n\r<"))},n}();function N_(n){return function(){ie('In SVG mode painter not support method "'+n+'"')}}function KC(){return!1}function R_(n,e,t){var i=Pe(),r=e.getWidth(),o=e.getHeight(),s=i.style;return s&&(s.position="absolute",s.left="0",s.top="0",s.width=r+"px",s.height=o+"px",i.setAttribute("data-zr-dom-id",n)),i.width=r*t,i.height=o*t,i}var B_=function(n){function e(t,i,r){var o,s=n.call(this)||this;s.motionBlur=!1,s.lastFrameAlpha=.7,s.dpr=1,s.virtual=!1,s.config={},s.incremental=!1,s.zlevel=0,s.maxRepaintRectCount=5,s.__dirty=!0,s.__firstTimePaint=!0,s.__used=!1,s.__drawIndex=0,s.__startIndex=0,s.__endIndex=0,s.__prevStartIndex=null,s.__prevEndIndex=null,r=r||ya,"string"==typeof t?o=R_(t,i,r):$e(t)&&(t=(o=t).id),s.id=t,s.dom=o;var l=o.style;return l&&(o.onselectstart=KC,l.webkitUserSelect="none",l.userSelect="none",l.webkitTapHighlightColor="rgba(0,0,0,0)",l["-webkit-touch-callout"]="none",l.padding="0",l.margin="0",l.borderWidth="0"),s.domBack=null,s.ctxBack=null,s.painter=i,s.config=null,s.dpr=r,s}return Tt(e,n),e.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},e.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},e.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},e.prototype.setUnpainted=function(){this.__firstTimePaint=!0},e.prototype.createBackBuffer=function(){var t=this.dpr;this.domBack=R_("back-"+this.id,this.painter,t),this.ctxBack=this.domBack.getContext("2d"),1!==t&&this.ctxBack.scale(t,t)},e.prototype.createRepaintRects=function(t,i,r,o){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var s,l=[],u=this.maxRepaintRectCount,f=!1,p=new Xi(0,0,0,0);function m(B){if(B.isFinite()&&!B.isZero())if(0===l.length)(H=new Xi(0,0,0,0)).copy(B),l.push(H);else{for(var H,X=!1,U=1/0,$=0,et=0;et<l.length;++et){var at=l[et];if(at.intersect(B)){var At=new Xi(0,0,0,0);At.copy(at),At.union(B),l[et]=At,X=!0;break}if(f){p.copy(B),p.union(at);var Gt=p.width*p.height-B.width*B.height-at.width*at.height;Gt<U&&(U=Gt,$=et)}}f&&(l[$].union(B),X=!0),!X&&((H=new Xi(0,0,0,0)).copy(B),l.push(H)),f||(f=l.length>=u)}}for(var b=this.__startIndex;b<this.__endIndex;++b)if(M=t[b]){var w=M.shouldBePainted(r,o,!0,!0);(I=M.__isRendered&&(1&M.__dirty||!w)?M.getPrevPaintRect():null)&&m(I);var k=w&&(1&M.__dirty||!M.__isRendered)?M.getPaintRect():null;k&&m(k)}for(b=this.__prevStartIndex;b<this.__prevEndIndex;++b){var M,I;w=(M=i[b]).shouldBePainted(r,o,!0,!0),M&&(!w||!M.__zr)&&M.__isRendered&&(I=M.getPrevPaintRect())&&m(I)}do{for(s=!1,b=0;b<l.length;)if(l[b].isZero())l.splice(b,1);else{for(var O=b+1;O<l.length;)l[b].intersect(l[O])?(s=!0,l[b].union(l[O]),l.splice(O,1)):O++;b++}}while(s);return this._paintRects=l,l},e.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},e.prototype.resize=function(t,i){var r=this.dpr,o=this.dom,s=o.style,l=this.domBack;s&&(s.width=t+"px",s.height=i+"px"),o.width=t*r,o.height=i*r,l&&(l.width=t*r,l.height=i*r,1!==r&&this.ctxBack.scale(r,r))},e.prototype.clear=function(t,i,r){var o=this.dom,s=this.ctx,l=o.width,u=o.height;i=i||this.clearColor;var f=this.motionBlur&&!t,p=this.lastFrameAlpha,m=this.dpr,b=this;f&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(o,0,0,l/m,u/m));var w=this.domBack;function k(M,I,O,B){if(s.clearRect(M,I,O,B),i&&"transparent"!==i){var H=void 0;ur(i)?(H=i.__canvasGradient||Nm(s,i,{x:0,y:0,width:O,height:B}),i.__canvasGradient=H):Zi(i)&&(H=hc(s,i,{dirty:function(){b.setUnpainted(),b.__painter.refresh()}})),s.save(),s.fillStyle=H||i,s.fillRect(M,I,O,B),s.restore()}f&&(s.save(),s.globalAlpha=p,s.drawImage(w,M,I,O,B),s.restore())}!r||f?k(0,0,l,u):r.length&&mt(r,function(M){k(M.x*m,M.y*m,M.width*m,M.height*m)})},e}(v),wg=314159;function sx(n){return parseInt(n,10)}var QC=function(){function n(e,t,i,r){this.type="canvas",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var o=!e.nodeName||"CANVAS"===e.nodeName.toUpperCase();this._opts=i=Dt({},i||{}),this.dpr=i.devicePixelRatio||ya,this._singleCanvas=o,this.root=e;var s=e.style;s&&(s.webkitTapHighlightColor="transparent",s.webkitUserSelect="none",s.userSelect="none",s["-webkit-touch-callout"]="none",e.innerHTML=""),this.storage=t;var l=this._zlevelList;this._prevDisplayList=[];var k,M,I,u=this._layers;if(o){var f=e,p=f.width,m=f.height;null!=i.width&&(p=i.width),null!=i.height&&(m=i.height),this.dpr=i.devicePixelRatio||1,f.width=p*this.dpr,f.height=m*this.dpr,this._width=p,this._height=m;var b=new B_(f,this,this.dpr);b.__builtin__=!0,b.initContext(),u[314159]=b,b.zlevel=wg,l.push(wg),this._domRoot=e}else{this._width=this._getSize(0),this._height=this._getSize(1);var w=this._domRoot=(k=this._width,M=this._height,(I=document.createElement("div")).style.cssText=["position:relative","width:"+k+"px","height:"+M+"px","padding:0","margin:0","border-width:0"].join(";")+";",I);e.appendChild(w)}}return n.prototype.getType=function(){return"canvas"},n.prototype.isSingleCanvas=function(){return this._singleCanvas},n.prototype.getViewportRoot=function(){return this._domRoot},n.prototype.getViewportRootOffset=function(){var e=this.getViewportRoot();if(e)return{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0}},n.prototype.refresh=function(e){var t=this.storage.getDisplayList(!0),i=this._prevDisplayList,r=this._zlevelList;this._redrawId=Math.random(),this._paintList(t,i,e,this._redrawId);for(var o=0;o<r.length;o++){var l=this._layers[r[o]];!l.__builtin__&&l.refresh&&l.refresh(0===o?this._backgroundColor:null)}return this._opts.useDirtyRect&&(this._prevDisplayList=t.slice()),this},n.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},n.prototype._paintHoverList=function(e){var t=e.length,i=this._hoverlayer;if(i&&i.clear(),t){for(var r,o={inHover:!0,viewWidth:this._width,viewHeight:this._height},s=0;s<t;s++){var l=e[s];l.__inHover&&(i||(i=this._hoverlayer=this.getLayer(1e5)),r||(r=i.ctx).save(),$c(r,l,o,s===t-1))}r&&r.restore()}},n.prototype.getHoverLayer=function(){return this.getLayer(1e5)},n.prototype.paintOne=function(e,t){Bm(e,t)},n.prototype._paintList=function(e,t,i,r){if(this._redrawId===r){i=i||!1,this._updateLayerStatus(e);var o=this._doPaintList(e,t,i),s=o.finished,l=o.needsRefreshHover;if(this._needsManuallyCompositing&&this._compositeManually(),l&&this._paintHoverList(e),s)this.eachLayer(function(f){f.afterBrush&&f.afterBrush()});else{var u=this;Qe(function(){u._paintList(e,t,i,r)})}}},n.prototype._compositeManually=function(){var e=this.getLayer(wg).ctx,t=this._domRoot.width,i=this._domRoot.height;e.clearRect(0,0,t,i),this.eachBuiltinLayer(function(r){r.virtual&&e.drawImage(r.dom,0,0,t,i)})},n.prototype._doPaintList=function(e,t,i){for(var r=this,o=[],s=this._opts.useDirtyRect,l=0;l<this._zlevelList.length;l++){var f=this._layers[this._zlevelList[l]];f.__builtin__&&f!==this._hoverlayer&&(f.__dirty||i)&&o.push(f)}for(var p=!0,m=!1,b=function(M){var I,O=o[M],B=O.ctx,H=s&&O.createRepaintRects(e,t,w._width,w._height),X=i?O.__startIndex:O.__drawIndex,U=!i&&O.incremental&&Date.now,$=U&&Date.now(),et=O.zlevel===w._zlevelList[0]?w._backgroundColor:null;if(O.__startIndex===O.__endIndex)O.clear(!1,et,H);else if(X===O.__startIndex){var at=e[X];at.incremental&&at.notClear&&!i||O.clear(!1,et,H)}-1===X&&(console.error("For some unknown reason. drawIndex is -1"),X=O.__startIndex);var At=function(ne){var re={inHover:!1,allClipped:!1,prevEl:null,viewWidth:r._width,viewHeight:r._height};for(I=X;I<O.__endIndex;I++){var fe=e[I];if(fe.__inHover&&(m=!0),r._doPaintEl(fe,O,s,ne,re,I===O.__endIndex-1),U&&Date.now()-$>15)break}re.prevElClipPaths&&B.restore()};if(H)if(0===H.length)I=O.__endIndex;else for(var Mt=w.dpr,Lt=0;Lt<H.length;++Lt){var Gt=H[Lt];B.save(),B.beginPath(),B.rect(Gt.x*Mt,Gt.y*Mt,Gt.width*Mt,Gt.height*Mt),B.clip(),At(Gt),B.restore()}else B.save(),At(),B.restore();O.__drawIndex=I,O.__drawIndex<O.__endIndex&&(p=!1)},w=this,k=0;k<o.length;k++)b(k);return Wt.wxa&&mt(this._layers,function(M){M&&M.ctx&&M.ctx.draw&&M.ctx.draw()}),{finished:p,needsRefreshHover:m}},n.prototype._doPaintEl=function(e,t,i,r,o,s){var l=t.ctx;if(i){var u=e.getPaintRect();(!r||u&&u.intersect(r))&&($c(l,e,o,s),e.setPrevPaintRect(u))}else $c(l,e,o,s)},n.prototype.getLayer=function(e,t){this._singleCanvas&&!this._needsManuallyCompositing&&(e=wg);var i=this._layers[e];return i||((i=new B_("zr_"+e,this,this.dpr)).zlevel=e,i.__builtin__=!0,this._layerConfig[e]?Xt(i,this._layerConfig[e],!0):this._layerConfig[e-.01]&&Xt(i,this._layerConfig[e-.01],!0),t&&(i.virtual=t),this.insertLayer(e,i),i.initContext()),i},n.prototype.insertLayer=function(e,t){var p,i=this._layers,r=this._zlevelList,o=r.length,s=this._domRoot,l=null,u=-1;if(i[e])ie("ZLevel "+e+" has been used already");else if((p=t)&&(p.__builtin__||"function"==typeof p.resize&&"function"==typeof p.refresh)){if(o>0&&e>r[0]){for(u=0;u<o-1&&!(r[u]<e&&r[u+1]>e);u++);l=i[r[u]]}if(r.splice(u+1,0,e),i[e]=t,!t.virtual)if(l){var f=l.dom;f.nextSibling?s.insertBefore(t.dom,f.nextSibling):s.appendChild(t.dom)}else s.firstChild?s.insertBefore(t.dom,s.firstChild):s.appendChild(t.dom);t.__painter=this}else ie("Layer of zlevel "+e+" is not valid")},n.prototype.eachLayer=function(e,t){for(var i=this._zlevelList,r=0;r<i.length;r++){var o=i[r];e.call(t,this._layers[o],o)}},n.prototype.eachBuiltinLayer=function(e,t){for(var i=this._zlevelList,r=0;r<i.length;r++){var o=i[r],s=this._layers[o];s.__builtin__&&e.call(t,s,o)}},n.prototype.eachOtherLayer=function(e,t){for(var i=this._zlevelList,r=0;r<i.length;r++){var o=i[r],s=this._layers[o];s.__builtin__||e.call(t,s,o)}},n.prototype.getLayers=function(){return this._layers},n.prototype._updateLayerStatus=function(e){function t(m){s&&(s.__endIndex!==m&&(s.__dirty=!0),s.__endIndex=m)}if(this.eachBuiltinLayer(function(m,b){m.__dirty=m.__used=!1}),this._singleCanvas)for(var i=1;i<e.length;i++)if((u=e[i]).zlevel!==e[i-1].zlevel||u.incremental){this._needsManuallyCompositing=!0;break}var r,o,s=null,l=0;for(o=0;o<e.length;o++){var u,f=(u=e[o]).zlevel,p=void 0;r!==f&&(r=f,l=0),u.incremental?((p=this.getLayer(f+.001,this._needsManuallyCompositing)).incremental=!0,l=1):p=this.getLayer(f+(l>0?.01:0),this._needsManuallyCompositing),p.__builtin__||ie("ZLevel "+f+" has been used by unkown layer "+p.id),p!==s&&(p.__used=!0,p.__startIndex!==o&&(p.__dirty=!0),p.__startIndex=o,p.__drawIndex=p.incremental?-1:o,t(o),s=p),1&u.__dirty&&!u.__inHover&&(p.__dirty=!0,p.incremental&&p.__drawIndex<0&&(p.__drawIndex=o))}t(o),this.eachBuiltinLayer(function(m,b){!m.__used&&m.getElementCount()>0&&(m.__dirty=!0,m.__startIndex=m.__endIndex=m.__drawIndex=0),m.__dirty&&m.__drawIndex<0&&(m.__drawIndex=m.__startIndex)})},n.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},n.prototype._clearLayer=function(e){e.clear()},n.prototype.setBackgroundColor=function(e){this._backgroundColor=e,mt(this._layers,function(t){t.setUnpainted()})},n.prototype.configLayer=function(e,t){if(t){var i=this._layerConfig;i[e]?Xt(i[e],t,!0):i[e]=t;for(var r=0;r<this._zlevelList.length;r++){var o=this._zlevelList[r];(o===e||o===e+.01)&&Xt(this._layers[o],i[e],!0)}}},n.prototype.delLayer=function(e){var t=this._layers,i=this._zlevelList,r=t[e];r&&(r.dom.parentNode.removeChild(r.dom),delete t[e],i.splice(Ne(i,e),1))},n.prototype.resize=function(e,t){if(this._domRoot.style){var i=this._domRoot;i.style.display="none";var r=this._opts;if(null!=e&&(r.width=e),null!=t&&(r.height=t),e=this._getSize(0),t=this._getSize(1),i.style.display="",this._width!==e||t!==this._height){for(var o in i.style.width=e+"px",i.style.height=t+"px",this._layers)this._layers.hasOwnProperty(o)&&this._layers[o].resize(e,t);this.refresh(!0)}this._width=e,this._height=t}else{if(null==e||null==t)return;this._width=e,this._height=t,this.getLayer(wg).resize(e,t)}return this},n.prototype.clearLayer=function(e){var t=this._layers[e];t&&t.clear()},n.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},n.prototype.getRenderedCanvas=function(e){if(this._singleCanvas&&!this._compositeManually)return this._layers[314159].dom;var t=new B_("image",this,(e=e||{}).pixelRatio||this.dpr);t.initContext(),t.clear(!1,e.backgroundColor||this._backgroundColor);var i=t.ctx;if(e.pixelRatio<=this.dpr){this.refresh();var r=t.dom.width,o=t.dom.height;this.eachLayer(function(m){m.__builtin__?i.drawImage(m.dom,0,0,r,o):m.renderToCanvas&&(i.save(),m.renderToCanvas(i),i.restore())})}else for(var s={inHover:!1,viewWidth:this._width,viewHeight:this._height},l=this.storage.getDisplayList(!0),u=0,f=l.length;u<f;u++)$c(i,l[u],s,u===f-1);return t.dom},n.prototype.getWidth=function(){return this._width},n.prototype.getHeight=function(){return this._height},n.prototype._getSize=function(e){var t=this._opts,i=["width","height"][e],r=["clientWidth","clientHeight"][e],o=["paddingLeft","paddingTop"][e],s=["paddingRight","paddingBottom"][e];if(null!=t[i]&&"auto"!==t[i])return parseFloat(t[i]);var l=this.root,u=document.defaultView.getComputedStyle(l);return(l[r]||sx(u[i])||sx(l.style[i]))-(sx(u[o])||0)-(sx(u[s])||0)|0},n.prototype.pathToImage=function(e,t){t=t||this.dpr;var i=document.createElement("canvas"),r=i.getContext("2d"),o=e.getBoundingRect(),s=e.style,l=s.shadowBlur*t,u=s.shadowOffsetX*t,f=s.shadowOffsetY*t,p=e.hasStroke()?s.lineWidth:0,m=Math.max(p/2,-u+l),b=Math.max(p/2,u+l),w=Math.max(p/2,-f+l),k=Math.max(p/2,f+l),M=o.width+m+b,I=o.height+w+k;i.width=M*t,i.height=I*t,r.scale(t,t),r.clearRect(0,0,M,I),r.dpr=t;var O={x:e.x,y:e.y,scaleX:e.scaleX,scaleY:e.scaleY,rotation:e.rotation,originX:e.originX,originY:e.originY};e.x=m-o.x,e.y=w-o.y,e.rotation=0,e.scaleX=1,e.scaleY=1,e.updateTransform(),e&&$c(r,e,{inHover:!1,viewWidth:this._width,viewHeight:this._height},!0);var B=new ga({style:{x:0,y:0,image:i}});return Dt(e,O),B},n}(),GA=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t.hasSymbolVisual=!0,t}return Tt(e,n),e.prototype.getInitialData=function(t){return Jc(null,this,{useEncodeDefaulter:!0})},e.prototype.getLegendIcon=function(t){var i=new bt,r=oa("line",0,t.itemHeight/2,t.itemWidth,0,t.lineStyle.stroke,!1);i.add(r),r.setStyle(t.lineStyle);var o=this.getData().getVisual("symbol"),s=this.getData().getVisual("symbolRotate"),l="none"===o?"circle":o,u=.8*t.itemHeight,f=oa(l,(t.itemWidth-u)/2,(t.itemHeight-u)/2,u,u,t.itemStyle.fill);return i.add(f),f.setStyle(t.itemStyle),f.rotation=("inherit"===t.iconRotate?s:t.iconRotate||0)*Math.PI/180,f.setOrigin([t.itemWidth/2,t.itemHeight/2]),l.indexOf("empty")>-1&&(f.style.stroke=f.style.fill,f.style.fill="#fff",f.style.lineWidth=2),i},e.type="series.line",e.dependencies=["grid","polar"],e.defaultOption={zlevel:0,z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0,lineStyle:{width:"bolder"}},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},e}(Gr);function Kd(n,e){var t=n.mapDimensionsAll("defaultedLabel"),i=t.length;if(1===i){var r=Ef(n,e,t[0]);return null!=r?r+"":null}if(i){for(var o=[],s=0;s<t.length;s++)o.push(Ef(n,e,t[s]));return o.join(" ")}}function F_(n,e){var t=n.mapDimensionsAll("defaultedLabel");if(!Jt(e))return e+"";for(var i=[],r=0;r<t.length;r++){var o=n.getDimensionIndex(t[r]);o>=0&&i.push(e[o])}return i.join(" ")}var Qd=function(n){function e(t,i,r,o){var s=n.call(this)||this;return s.updateData(t,i,r,o),s}return Tt(e,n),e.prototype._createSymbol=function(t,i,r,o,s){this.removeAll();var l=oa(t,-1,-1,2,2,null,s);l.attr({z2:100,culling:!0,scaleX:o[0]/2,scaleY:o[1]/2}),l.drift=qA,this._symbolType=t,this.add(l)},e.prototype.stopSymbolAnimation=function(t){this.childAt(0).stopAnimation(null,t)},e.prototype.getSymbolType=function(){return this._symbolType},e.prototype.getSymbolPath=function(){return this.childAt(0)},e.prototype.highlight=function(){kl(this.childAt(0))},e.prototype.downplay=function(){Bc(this.childAt(0))},e.prototype.setZ=function(t,i){var r=this.childAt(0);r.zlevel=t,r.z=i},e.prototype.setDraggable=function(t){var i=this.childAt(0);i.draggable=t,i.cursor=t?"move":i.cursor},e.prototype.updateData=function(t,i,r,o){this.silent=!1;var s=t.getItemVisual(i,"symbol")||"circle",l=t.hostModel,u=e.getSymbolSize(t,i),f=s!==this._symbolType,p=o&&o.disableAnimation;if(f){var m=t.getItemVisual(i,"symbolKeepAspect");this._createSymbol(s,t,i,u,m)}else{(w=this.childAt(0)).silent=!1;var b={scaleX:u[0]/2,scaleY:u[1]/2};p?w.attr(b):xr(w,b,l,i),Du(w)}if(this._updateCommon(t,i,u,r,o),f){var w=this.childAt(0);p||(b={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:w.style.opacity}},w.scaleX=w.scaleY=0,w.style.opacity=0,ro(w,b,l,i))}p&&this.childAt(0).stopAnimation("remove"),this._seriesModel=l},e.prototype._updateCommon=function(t,i,r,o,s){var l,u,f,p,m,b,w,k,M=this.childAt(0),I=t.hostModel;if(o&&(l=o.emphasisItemStyle,u=o.blurItemStyle,f=o.selectItemStyle,p=o.focus,m=o.blurScope,b=o.labelStatesModels,w=o.hoverScale,k=o.cursorStyle),!o||t.hasItemOption){var O=o&&o.itemModel?o.itemModel:t.getItemModel(i),B=O.getModel("emphasis");l=B.getModel("itemStyle").getItemStyle(),f=O.getModel(["select","itemStyle"]).getItemStyle(),u=O.getModel(["blur","itemStyle"]).getItemStyle(),p=B.get("focus"),m=B.get("blurScope"),b=Sa(O),w=B.getShallow("scale"),k=O.getShallow("cursor")}var H=t.getItemVisual(i,"symbolRotate");M.attr("rotation",(H||0)*Math.PI/180||0);var X=eg(t.getItemVisual(i,"symbolOffset"),r);X&&(M.x=X[0],M.y=X[1]),k&&M.attr("cursor",k);var U=t.getItemVisual(i,"style"),$=U.fill;if(M instanceof ga){var et=M.style;M.useStyle(Dt({image:et.image,x:et.x,y:et.y,width:et.width,height:et.height},U))}else M.useStyle(M.__isEmptyBrush?Dt({},U):U),M.style.decal=null,M.setColor($,s&&s.symbolInnerColor),M.style.strokeNoScale=!0;var at=t.getItemVisual(i,"liftZ"),At=this._z2;null!=at?null==At&&(this._z2=M.z2,M.z2+=at):null!=At&&(M.z2=At,this._z2=null);var Mt=s&&s.useNameLabel;xs(M,b,{labelFetcher:I,labelDataIndex:i,defaultText:function(ne){return Mt?t.getName(ne):Kd(t,ne)},inheritColor:$,defaultOpacity:U.opacity}),this._sizeX=r[0]/2,this._sizeY=r[1]/2;var Lt=M.ensureState("emphasis");if(Lt.style=l,M.ensureState("select").style=f,M.ensureState("blur").style=u,w){var Gt=Math.max(1.1,3/this._sizeY);Lt.scaleX=this._sizeX*Gt,Lt.scaleY=this._sizeY*Gt}this.setSymbolScale(1),to(this,p,m)},e.prototype.setSymbolScale=function(t){this.scaleX=this.scaleY=t},e.prototype.fadeOut=function(t,i){var r=this.childAt(0),o=this._seriesModel,s=Fi(this).dataIndex,l=i&&i.animation;if(this.silent=r.silent=!0,i&&i.fadeLabel){var u=r.getTextContent();u&&vs(u,{style:{opacity:0}},o,{dataIndex:s,removeOpt:l,cb:function(){r.removeTextContent()}})}else r.removeTextContent();vs(r,{style:{opacity:0},scaleX:0,scaleY:0},o,{dataIndex:s,cb:t,removeOpt:l})},e.getSymbolSize=function(t,i){return tg(t.getItemVisual(i,"symbolSize"))},e}(bt);function qA(n,e){this.parent.drift(n,e)}function lx(n,e,t,i){return e&&!isNaN(e[0])&&!isNaN(e[1])&&!(i.isIgnore&&i.isIgnore(t))&&!(i.clipShape&&!i.clipShape.contain(e[0],e[1]))&&"none"!==n.getItemVisual(t,"symbol")}function V_(n){return null==n||$e(n)||(n={isIgnore:n}),n||{}}function Jd(n){var e=n.hostModel,t=e.getModel("emphasis");return{emphasisItemStyle:t.getModel("itemStyle").getItemStyle(),blurItemStyle:e.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:e.getModel(["select","itemStyle"]).getItemStyle(),focus:t.get("focus"),blurScope:t.get("blurScope"),hoverScale:t.get("scale"),labelStatesModels:Sa(e),cursorStyle:e.get("cursor")}}var ep=function(){function n(e){this.group=new bt,this._SymbolCtor=e||Qd}return n.prototype.updateData=function(e,t){t=V_(t);var i=this.group,r=e.hostModel,o=this._data,s=this._SymbolCtor,l=t.disableAnimation,u=Jd(e),f={disableAnimation:l},p=t.getSymbolPoint||function(m){return e.getItemLayout(m)};o||i.removeAll(),e.diff(o).add(function(m){var b=p(m);if(lx(e,b,m,t)){var w=new s(e,m,u,f);w.setPosition(b),e.setItemGraphicEl(m,w),i.add(w)}}).update(function(m,b){var w=o.getItemGraphicEl(b),k=p(m);if(lx(e,k,m,t)){var M=e.getItemVisual(m,"symbol")||"circle",I=w&&w.getSymbolType&&w.getSymbolType();if(!w||I&&I!==M)i.remove(w),(w=new s(e,m,u,f)).setPosition(k);else{w.updateData(e,m,u,f);var O={x:k[0],y:k[1]};l?w.attr(O):xr(w,O,r)}i.add(w),e.setItemGraphicEl(m,w)}else i.remove(w)}).remove(function(m){var b=o.getItemGraphicEl(m);b&&b.fadeOut(function(){i.remove(b)})}).execute(),this._getSymbolPoint=p,this._data=e},n.prototype.isPersistent=function(){return!0},n.prototype.updateLayout=function(){var e=this,t=this._data;t&&t.eachItemGraphicEl(function(i,r){var o=e._getSymbolPoint(r);i.setPosition(o),i.markRedraw()})},n.prototype.incrementalPrepareUpdate=function(e){this._seriesScope=Jd(e),this._data=null,this.group.removeAll()},n.prototype.incrementalUpdate=function(e,t,i){function r(u){u.isGroup||(u.incremental=!0,u.ensureState("emphasis").hoverLayer=!0)}i=V_(i);for(var o=e.start;o<e.end;o++){var s=t.getItemLayout(o);if(lx(t,s,o,i)){var l=new this._SymbolCtor(t,o,this._seriesScope);l.traverse(r),l.setPosition(s),this.group.add(l),t.setItemGraphicEl(o,l)}}},n.prototype.remove=function(e){var t=this.group,i=this._data;i&&e?i.eachItemGraphicEl(function(r){r.fadeOut(function(){t.remove(r)})}):t.removeAll()},n}();function Sg(n,e,t){var M,I,O,i=n.getBaseAxis(),r=n.getOtherAxis(i),o=(M=t,I=0,O=r.scale.getExtent(),"start"===M?I=O[0]:"end"===M?I=O[1]:O[0]>0?I=O[0]:O[1]<0&&(I=O[1]),I),s=i.dim,l=r.dim,u=e.mapDimension(l),f=e.mapDimension(s),p="x"===l||"radius"===l?1:0,m=zt(n.dimensions,function(k){return e.mapDimension(k)}),b=!1,w=e.getCalculationInfo("stackResultDimension");return Qc(e,m[0])&&(b=!0,m[0]=w),Qc(e,m[1])&&(b=!0,m[1]=w),{dataDimsForPoint:m,valueStart:o,valueAxisDim:l,baseAxisDim:s,stacked:!!b,valueDim:u,baseDim:f,baseDataOffset:p,stackedOverDimension:e.getCalculationInfo("stackedOverDimension")}}function H_(n,e,t,i){var r=NaN;n.stacked&&(r=t.get(t.getCalculationInfo("stackedOverDimension"),i)),isNaN(r)&&(r=n.valueStart);var o=n.baseDataOffset,s=[];return s[o]=t.get(n.baseDim,i),s[1-o]=r,e.dataToPoint(s)}var W_="undefined"!=typeof Float32Array,np=W_?Float32Array:Array;function Cg(n){return Jt(n)?W_?new Float32Array(n):n:new np(n)}var tf=Math.min,ef=Math.max;function oh(n,e){return isNaN(n)||isNaN(e)}function j_(n,e,t,i,r,o,s,l,u){for(var f,p,m,b,w,k,M=t,I=0;I<i;I++){var O=e[2*M],B=e[2*M+1];if(M>=r||M<0)break;if(oh(O,B)){if(u){M+=o;continue}break}if(M===t)n[o>0?"moveTo":"lineTo"](O,B),m=O,b=B;else{var H=O-f,X=B-p;if(H*H+X*X<.5){M+=o;continue}if(s>0){for(var U=M+o,$=e[2*U],et=e[2*U+1];$===O&&et===B&&I<i;)I++,$=e[2*(U+=o)],et=e[2*U+1],H=(O=e[2*(M+=o)])-f,X=(B=e[2*M+1])-p;var at=I+1;if(u)for(;oh($,et)&&at<i;)at++,$=e[2*(U+=o)],et=e[2*U+1];var At=.5,Mt=0,Lt=0,Gt=void 0,ne=void 0;if(at>=i||oh($,et))w=O,k=B;else{Mt=$-f,Lt=et-p;var re=O-f,fe=$-O,ye=B-p,Te=et-B,Ie=void 0,Re=void 0;"x"===l?(Ie=Math.abs(re),Re=Math.abs(fe),w=O-Ie*s,k=B,Gt=O+Ie*s,ne=B):"y"===l?(Ie=Math.abs(ye),Re=Math.abs(Te),w=O,k=B-Ie*s,Gt=O,ne=B+Ie*s):(Ie=Math.sqrt(re*re+ye*ye),w=O-Mt*s*(1-(At=(Re=Math.sqrt(fe*fe+Te*Te))/(Re+Ie))),k=B-Lt*s*(1-At),ne=B+Lt*s*At,Gt=tf(Gt=O+Mt*s*At,ef($,O)),ne=tf(ne,ef(et,B)),Gt=ef(Gt,tf($,O)),k=B-(Lt=(ne=ef(ne,tf(et,B)))-B)*Ie/Re,w=tf(w=O-(Mt=Gt-O)*Ie/Re,ef(f,O)),k=tf(k,ef(p,B)),Gt=O+(Mt=O-(w=ef(w,tf(f,O))))*Re/Ie,ne=B+(Lt=B-(k=ef(k,tf(p,B))))*Re/Ie)}n.bezierCurveTo(m,b,w,k,O,B),m=Gt,b=ne}else n.lineTo(O,B)}f=O,p=B,M+=o}return I}var JC=function(){this.smooth=0,this.smoothConstraint=!0},tk=function(n){function e(t){var i=n.call(this,t)||this;return i.type="ec-polyline",i}return Tt(e,n),e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new JC},e.prototype.buildPath=function(t,i){var r=i.points,o=0,s=r.length/2;if(i.connectNulls){for(;s>0&&oh(r[2*s-2],r[2*s-1]);s--);for(;o<s&&oh(r[2*o],r[2*o+1]);o++);}for(;o<s;)o+=j_(t,r,o,s,s,1,i.smooth,i.smoothMonotone,i.connectNulls)+1},e.prototype.getPointOn=function(t,i){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var r,o,s=this.path.data,l=en.CMD,u="x"===i,f=[],p=0;p<s.length;){var m=void 0,b=void 0,w=void 0,k=void 0,M=void 0,I=void 0,O=void 0;switch(s[p++]){case l.M:r=s[p++],o=s[p++];break;case l.L:if(m=s[p++],b=s[p++],(O=u?(t-r)/(m-r):(t-o)/(b-o))<=1&&O>=0){var B=u?(b-o)*O+o:(m-r)*O+r;return u?[t,B]:[B,t]}r=m,o=b;break;case l.C:m=s[p++],b=s[p++],w=s[p++],k=s[p++],M=s[p++],I=s[p++];var H=u?po(r,m,w,M,t,f):po(o,b,k,I,t,f);if(H>0)for(var X=0;X<H;X++){var U=f[X];if(U<=1&&U>=0)return B=u?vo(o,b,k,I,U):vo(r,m,w,M,U),u?[t,B]:[B,t]}r=M,o=I}}},e}(zi),Ys=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return Tt(e,n),e}(JC),ek=function(n){function e(t){var i=n.call(this,t)||this;return i.type="ec-polygon",i}return Tt(e,n),e.prototype.getDefaultShape=function(){return new Ys},e.prototype.buildPath=function(t,i){var r=i.points,o=i.stackedOnPoints,s=0,l=r.length/2,u=i.smoothMonotone;if(i.connectNulls){for(;l>0&&oh(r[2*l-2],r[2*l-1]);l--);for(;s<l&&oh(r[2*s],r[2*s+1]);s++);}for(;s<l;){var f=j_(t,r,s,l,l,1,i.smooth,u,i.connectNulls);j_(t,o,s+f-1,f,l,-1,i.stackedOnSmooth,u,i.connectNulls),s+=f+1,t.closePath()}},e}(zi);function ux(n,e,t,i,r){var o=n.getArea(),s=o.x,l=o.y,u=o.width,f=o.height,p=t.get(["lineStyle","width"])||2;s-=p/2,l-=p/2,u+=p,f+=p,s=Math.floor(s),u=Math.round(u);var m=new vr({shape:{x:s,y:l,width:u,height:f}});if(e){var b=n.getBaseAxis(),w=b.isHorizontal(),k=b.inverse;w?(k&&(m.shape.x+=u),m.shape.width=0):(k||(m.shape.y+=f),m.shape.height=0),ro(m,{shape:{width:u,height:f,x:s,y:l}},t,null,i,"function"==typeof r?function(M){r(M,m)}:null)}return m}function wv(n,e,t){var i=n.getArea(),r=xi(i.r0,1),o=xi(i.r,1),s=new Fr({shape:{cx:xi(n.cx,1),cy:xi(n.cy,1),r0:r,r:o,startAngle:i.startAngle,endAngle:i.endAngle,clockwise:i.clockwise}});return e&&("angle"===n.getBaseAxis().dim?s.shape.endAngle=i.startAngle:s.shape.r=r,ro(s,{shape:{endAngle:i.endAngle,r:o}},t)),s}function cx(n,e,t,i,r){return n?"polar"===n.type?wv(n,e,t):"cartesian2d"===n.type?ux(n,e,t,i,r):null:null}function dl(n,e){return n.type===e}function Y_(n,e){if(n.length===e.length){for(var t=0;t<n.length;t++)if(n[t]!==e[t])return;return!0}}function nf(n){for(var e=1/0,t=1/0,i=-1/0,r=-1/0,o=0;o<n.length;){var s=n[o++],l=n[o++];isNaN(s)||(e=Math.min(s,e),i=Math.max(s,i)),isNaN(l)||(t=Math.min(l,t),r=Math.max(l,r))}return[[e,t],[i,r]]}function nk(n,e){var t=nf(n),i=t[0],r=t[1],o=nf(e),s=o[0],l=o[1];return Math.max(Math.abs(i[0]-s[0]),Math.abs(i[1]-s[1]),Math.abs(r[0]-l[0]),Math.abs(r[1]-l[1]))}function hx(n){return"number"==typeof n?n:n?.5:0}function Ol(n,e,t){for(var i=e.getBaseAxis(),r="x"===i.dim||"radius"===i.dim?0:1,o=[],s=0,l=[],u=[],f=[];s<n.length-2;s+=2)switch(f[0]=n[s+2],f[1]=n[s+3],u[0]=n[s],u[1]=n[s+1],o.push(u[0],u[1]),t){case"end":l[r]=f[r],l[1-r]=u[1-r],o.push(l[0],l[1]);break;case"middle":var m=[];l[r]=m[r]=(u[r]+f[r])/2,l[1-r]=u[1-r],m[1-r]=f[1-r],o.push(l[0],l[1]),o.push(m[0],m[1]);break;default:l[r]=u[r],l[1-r]=f[1-r],o.push(l[0],l[1])}return o.push(n[s++],n[s++]),o}function X_(n,e){return[n[2*e],n[2*e+1]]}function G_(n){if(n.get(["endLabel","show"]))return!0;for(var e=0;e<Bs.length;e++)if(n.get([Bs[e],"endLabel","show"]))return!0;return!1}function fx(n,e,t,i){if(dl(e,"cartesian2d")){var r=i.getModel("endLabel"),o=r.get("valueAnimation"),s=i.getData(),l={lastFrameIndex:0},u=G_(i)?function(w,k){n._endLabelOnDuring(w,k,s,l,o,r,e)}:null,f=e.getBaseAxis().isHorizontal(),p=ux(e,t,i,function(){var w=n._endLabel;w&&t&&null!=l.originalX&&w.attr({x:l.originalX,y:l.originalY})},u);if(!i.get("clip",!0)){var m=p.shape,b=Math.max(m.width,m.height);f?(m.y-=b,m.height+=2*b):(m.x-=b,m.width+=2*b)}return u&&u(1,p),p}return wv(e,t,i)}var UA=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return Tt(e,n),e.prototype.init=function(){var t=new bt,i=new ep;this.group.add(i.group),this._symbolDraw=i,this._lineGroup=t},e.prototype.render=function(t,i,r){var o=this,s=t.coordinateSystem,l=this.group,u=t.getData(),f=t.getModel("lineStyle"),p=t.getModel("areaStyle"),m=u.getLayout("points")||[],b="polar"===s.type,w=this._coordSys,k=this._symbolDraw,M=this._polyline,I=this._polygon,O=this._lineGroup,B=t.get("animation"),H=!p.isEmpty(),X=p.get("origin"),U=Sg(s,u,X),$=H&&function(_n,Hn,gn){if(!gn.valueDim)return[];for(var Dn=Hn.count(),Un=Cg(2*Dn),Yn=0;Yn<Dn;Yn++){var Xn=H_(gn,_n,Hn,Yn);Un[2*Yn]=Xn[0],Un[2*Yn+1]=Xn[1]}return Un}(s,u,U),et=t.get("showSymbol"),at=et&&!b&&function(n,e,t){var i=n.get("showAllSymbol"),r="auto"===i;if(!i||r){var o=t.getAxesByScale("ordinal")[0];if(o&&(!r||!function(u,f){var p=u.getExtent(),m=Math.abs(p[1]-p[0])/u.scale.count();isNaN(m)&&(m=0);for(var b=f.count(),w=Math.max(1,Math.round(b/5)),k=0;k<b;k+=w)if(1.5*Qd.getSymbolSize(f,k)[u.isHorizontal()?1:0]>m)return!1;return!0}(o,e))){var s=e.mapDimension(o.dim),l={};return mt(o.getViewLabels(),function(u){var f=o.scale.getRawOrdinalNumber(u.tickValue);l[f]=1}),function(u){return!l.hasOwnProperty(e.get(s,u))}}}}(t,u,s),At=this._data;At&&At.eachItemGraphicEl(function(_n,Hn){_n.__temp&&(l.remove(_n),At.setItemGraphicEl(Hn,null))}),et||k.remove(),l.add(O);var Mt,Lt=!b&&t.get("step");s&&s.getArea&&t.get("clip",!0)&&(null!=(Mt=s.getArea()).width?(Mt.x-=.1,Mt.y-=.1,Mt.width+=.2,Mt.height+=.2):Mt.r0&&(Mt.r0-=.5,Mt.r+=.5)),this._clipShapeForSymbol=Mt;var Gt=function(n,e,t){var i=n.getVisual("visualMeta");if(i&&i.length&&n.count()&&"cartesian2d"===e.type){for(var r,o,s=i.length-1;s>=0;s--){var l=n.getDimensionInfo(i[s].dimension);if("x"===(r=l&&l.coordDim)||"y"===r){o=i[s];break}}if(o){var u=e.getAxis(r),f=zt(o.stops,function(B){return{coord:u.toGlobalCoord(u.dataToCoord(B.value)),color:B.color}}),p=f.length,m=o.outerColors.slice();p&&f[0].coord>f[p-1].coord&&(f.reverse(),m.reverse());var b=function(B,H){var X,U,$=[],et=B.length;function at(Gt,ne,re){var fe=Gt.coord;return{coord:re,color:Gu((re-fe)/(ne.coord-fe),[Gt.color,ne.color])}}for(var At=0;At<et;At++){var Mt=B[At],Lt=Mt.coord;if(Lt<0)X=Mt;else{if(Lt>H){U?$.push(at(U,Mt,H)):X&&$.push(at(X,Mt,0),at(X,Mt,H));break}X&&($.push(at(X,Mt,0)),X=null),$.push(Mt),U=Mt}}return $}(f,"x"===r?t.getWidth():t.getHeight()),w=b.length;if(!w&&p)return f[0].coord<0?m[1]?m[1]:f[p-1].color:m[0]?m[0]:f[0].color;var k=b[0].coord-10,M=b[w-1].coord+10,I=M-k;if(I<.001)return"transparent";mt(b,function(B){B.offset=(B.coord-k)/I}),b.push({offset:w?b[w-1].offset:.5,color:m[1]||"transparent"}),b.unshift({offset:w?b[0].offset:.5,color:m[0]||"transparent"});var O=new Tp(0,0,0,0,b,!0);return O[r]=k,O[r+"2"]=M,O}}}(u,s,r)||u.getVisual("style")[u.getVisual("drawType")];if(M&&w.type===s.type&&Lt===this._step){H&&!I?I=this._newPolygon(m,$):I&&!H&&(O.remove(I),I=this._polygon=null),b||this._initOrUpdateEndLabel(t,s,Ed(Gt));var ne=O.getClipPath();ne?ro(ne,{shape:fx(this,s,!1,t).shape},t):O.setClipPath(fx(this,s,!0,t)),et&&k.updateData(u,{isIgnore:at,clipShape:Mt,disableAnimation:!0,getSymbolPoint:function(_n){return[m[2*_n],m[2*_n+1]]}}),Y_(this._stackedOnPoints,$)&&Y_(this._points,m)||(B?this._doUpdateAnimation(u,$,s,r,Lt,X):(Lt&&(m=Ol(m,s,Lt),$&&($=Ol($,s,Lt))),M.setShape({points:m}),I&&I.setShape({points:m,stackedOnPoints:$})))}else et&&k.updateData(u,{isIgnore:at,clipShape:Mt,disableAnimation:!0,getSymbolPoint:function(_n){return[m[2*_n],m[2*_n+1]]}}),B&&this._initSymbolLabelAnimation(u,s,Mt),Lt&&(m=Ol(m,s,Lt),$&&($=Ol($,s,Lt))),M=this._newPolyline(m),H&&(I=this._newPolygon(m,$)),b||this._initOrUpdateEndLabel(t,s,Ed(Gt)),O.setClipPath(fx(this,s,!0,t));var re=t.get(["emphasis","focus"]),fe=t.get(["emphasis","blurScope"]);M.useStyle(se(f.getLineStyle(),{fill:"none",stroke:Gt,lineJoin:"bevel"})),ls(M,t,"lineStyle"),M.style.lineWidth>0&&"bolder"===t.get(["emphasis","lineStyle","width"])&&(M.getState("emphasis").style.lineWidth=+M.style.lineWidth+1),Fi(M).seriesIndex=t.seriesIndex,to(M,re,fe);var ye=hx(t.get("smooth")),Te=t.get("smoothMonotone"),Ie=t.get("connectNulls");if(M.setShape({smooth:ye,smoothMonotone:Te,connectNulls:Ie}),I){var Re=u.getCalculationInfo("stackedOnSeries"),Xe=0;I.useStyle(se(p.getAreaStyle(),{fill:Gt,opacity:.7,lineJoin:"bevel",decal:u.getVisual("style").decal})),Re&&(Xe=hx(Re.get("smooth"))),I.setShape({smooth:ye,stackedOnSmooth:Xe,smoothMonotone:Te,connectNulls:Ie}),ls(I,t,"areaStyle"),Fi(I).seriesIndex=t.seriesIndex,to(I,re,fe)}var cn=function(_n){o._changePolyState(_n)};u.eachItemGraphicEl(function(_n){_n&&(_n.onHoverStateChange=cn)}),this._polyline.onHoverStateChange=cn,this._data=u,this._coordSys=s,this._stackedOnPoints=$,this._points=m,this._step=Lt,this._valueOrigin=X,t.get("triggerLineEvent")&&(this.packEventData(t,M),I&&this.packEventData(t,I))},e.prototype.packEventData=function(t,i){Fi(i).eventData={componentType:"series",componentSubType:"line",componentIndex:t.componentIndex,seriesIndex:t.seriesIndex,seriesName:t.name,seriesType:"line"}},e.prototype.highlight=function(t,i,r,o){var s=t.getData(),l=Ju(s,o);if(this._changePolyState("emphasis"),!(l instanceof Array)&&null!=l&&l>=0){var u=s.getLayout("points"),f=s.getItemGraphicEl(l);if(!f){var p=u[2*l],m=u[2*l+1];if(isNaN(p)||isNaN(m)||this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(p,m))return;var b=t.get("zlevel"),w=t.get("z");(f=new Qd(s,l)).x=p,f.y=m,f.setZ(b,w);var k=f.getSymbolPath().getTextContent();k&&(k.zlevel=b,k.z=w,k.z2=this._polyline.z2+1),f.__temp=!0,s.setItemGraphicEl(l,f),f.stopSymbolAnimation(!0),this.group.add(f)}f.highlight()}else Rr.prototype.highlight.call(this,t,i,r,o)},e.prototype.downplay=function(t,i,r,o){var s=t.getData(),l=Ju(s,o);if(this._changePolyState("normal"),null!=l&&l>=0){var u=s.getItemGraphicEl(l);u&&(u.__temp?(s.setItemGraphicEl(l,null),this.group.remove(u)):u.downplay())}else Rr.prototype.downplay.call(this,t,i,r,o)},e.prototype._changePolyState=function(t){var i=this._polygon;Kv(this._polyline,t),i&&Kv(i,t)},e.prototype._newPolyline=function(t){var i=this._polyline;return i&&this._lineGroup.remove(i),i=new tk({shape:{points:t},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(i),this._polyline=i,i},e.prototype._newPolygon=function(t,i){var r=this._polygon;return r&&this._lineGroup.remove(r),r=new ek({shape:{points:t,stackedOnPoints:i},segmentIgnoreThreshold:2}),this._lineGroup.add(r),this._polygon=r,r},e.prototype._initSymbolLabelAnimation=function(t,i,r){var o,s,l=i.getBaseAxis(),u=l.inverse;"cartesian2d"===i.type?(o=l.isHorizontal(),s=!1):"polar"===i.type&&(o="angle"===l.dim,s=!0);var f=t.hostModel,p=f.get("animationDuration");"function"==typeof p&&(p=p(null));var m=f.get("animationDelay")||0,b="function"==typeof m?m(null):m;t.eachItemGraphicEl(function(w,k){var M=w;if(M){var O=void 0,B=void 0,H=void 0;if(r)if(s){var X=r,U=i.pointToCoord([w.x,w.y]);o?(O=X.startAngle,B=X.endAngle,H=-U[1]/180*Math.PI):(O=X.r0,B=X.r,H=U[0])}else o?(O=r.x,B=r.x+r.width,H=w.x):(O=r.y+r.height,B=r.y,H=w.y);var et=B===O?0:(H-O)/(B-O);u&&(et=1-et);var at="function"==typeof m?m(k):p*et+b,At=M.getSymbolPath(),Mt=At.getTextContent();M.attr({scaleX:0,scaleY:0}),M.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:at}),Mt&&Mt.animateFrom({style:{opacity:0}},{duration:300,delay:at}),At.disableLabelAnimation=!0}})},e.prototype._initOrUpdateEndLabel=function(t,i,r){var p,b,w,k,M,I,o=t.getModel("endLabel");if(G_(t)){var s=t.getData(),l=this._polyline,u=this._endLabel;u||((u=this._endLabel=new dr({z2:200})).ignoreClip=!0,l.setTextContent(this._endLabel),l.disableLabelAnimation=!0);var f=function(p){for(var b,w=p.length/2;w>0&&(b=p[2*w-1],isNaN(p[2*w-2])||isNaN(b));w--);return w-1}(s.getLayout("points"));f>=0&&(xs(l,Sa(t,"endLabel"),{inheritColor:r,labelFetcher:t,labelDataIndex:f,defaultText:function(p,m,b){return null!=b?F_(s,b):Kd(s,p)},enableTextSetter:!0},(p=o,w=(b=i.getBaseAxis()).isHorizontal(),k=b.inverse,M=w?k?"right":"left":"center",I=w?"middle":k?"top":"bottom",{normal:{align:p.get("align")||M,verticalAlign:p.get("verticalAlign")||I}})),l.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},e.prototype._endLabelOnDuring=function(t,i,r,o,s,l,u){var f=this._endLabel,p=this._polyline;if(f){t<1&&null==o.originalX&&(o.originalX=f.x,o.originalY=f.y);var m=r.getLayout("points"),b=r.hostModel,w=b.get("connectNulls"),k=l.get("precision"),M=l.get("distance")||0,I=u.getBaseAxis(),O=I.isHorizontal(),B=I.inverse,H=i.shape,X=B?O?H.x:H.y+H.height:O?H.x+H.width:H.y,U=(O?M:0)*(B?-1:1),$=(O?0:-M)*(B?-1:1),et=O?"x":"y",at=function(ye,Te,Ie){for(var Re,Xe,cn=ye.length/2,_n="x"===Ie?0:1,Hn=0,gn=-1,Dn=0;Dn<cn;Dn++)if(Xe=ye[2*Dn+_n],!isNaN(Xe)&&!isNaN(ye[2*Dn+1-_n]))if(0!==Dn){if(Re<=Te&&Xe>=Te||Re>=Te&&Xe<=Te){gn=Dn;break}Hn=Dn,Re=Xe}else Re=Xe;return{range:[Hn,gn],t:(Te-Re)/(Xe-Re)}}(m,X,et),At=at.range,Mt=At[1]-At[0],Lt=void 0;if(Mt>=1){if(Mt>1&&!w){var Gt=X_(m,At[0]);f.attr({x:Gt[0]+U,y:Gt[1]+$}),s&&(Lt=b.getRawValue(At[0]))}else{(Gt=p.getPointOn(X,et))&&f.attr({x:Gt[0]+U,y:Gt[1]+$});var ne=b.getRawValue(At[0]),re=b.getRawValue(At[1]);s&&(Lt=tc(r,k,ne,re,at.t))}o.lastFrameIndex=At[0]}else{var fe=1===t||o.lastFrameIndex>0?At[0]:0;Gt=X_(m,fe),s&&(Lt=b.getRawValue(fe)),f.attr({x:Gt[0]+U,y:Gt[1]+$})}s&&Td(f).setLabelText(Lt)}},e.prototype._doUpdateAnimation=function(t,i,r,o,s,l){var u=this._polyline,f=this._polygon,p=t.hostModel,m=function(U,$,et,at,At,Mt,Lt,Gt){for(var ne=function(Ui,fs){var Qa=[];return fs.diff(Ui).add(function(bo){Qa.push({cmd:"+",idx:bo})}).update(function(bo,Rl){Qa.push({cmd:"=",idx:Rl,idx1:bo})}).remove(function(bo){Qa.push({cmd:"-",idx:bo})}).execute(),Qa}(U,$),re=[],fe=[],ye=[],Te=[],Ie=[],Re=[],Xe=[],cn=Sg(At,$,Lt),_n=U.getLayout("points")||[],Hn=$.getLayout("points")||[],gn=0;gn<ne.length;gn++){var Dn=ne[gn],Un=!0,Yn=void 0,Xn=void 0;switch(Dn.cmd){case"=":var di=_n[Yn=2*Dn.idx],fi=_n[Yn+1],Pi=Hn[Xn=2*Dn.idx1],Wi=Hn[Xn+1];(isNaN(di)||isNaN(fi))&&(di=Pi,fi=Wi),re.push(di,fi),fe.push(Pi,Wi),ye.push(et[Yn],et[Yn+1]),Te.push(at[Xn],at[Xn+1]),Xe.push($.getRawIndex(Dn.idx1));break;case"+":var Gi=Dn.idx,Jo=cn.dataDimsForPoint,zo=At.dataToPoint([$.get(Jo[0],Gi),$.get(Jo[1],Gi)]);Xn=2*Gi,re.push(zo[0],zo[1]),fe.push(Hn[Xn],Hn[Xn+1]);var Ir=H_(cn,At,$,Gi);ye.push(Ir[0],Ir[1]),Te.push(at[Xn],at[Xn+1]),Xe.push($.getRawIndex(Gi));break;case"-":Un=!1}Un&&(Ie.push(Dn),Re.push(Re.length))}Re.sort(function(Ui,fs){return Xe[Ui]-Xe[fs]});var Ar=re.length,ua=Cg(Ar),xo=Cg(Ar),Nl=Cg(Ar),fu=Cg(Ar),eo=[];for(gn=0;gn<Re.length;gn++){var fr=Re[gn],Qr=2*gn,Br=2*fr;ua[Qr]=re[Br],ua[Qr+1]=re[Br+1],xo[Qr]=fe[Br],xo[Qr+1]=fe[Br+1],Nl[Qr]=ye[Br],Nl[Qr+1]=ye[Br+1],fu[Qr]=Te[Br],fu[Qr+1]=Te[Br+1],eo[gn]=Ie[fr]}return{current:ua,next:xo,stackedOnCurrent:Nl,stackedOnNext:fu,status:eo}}(this._data,t,this._stackedOnPoints,i,this._coordSys,0,this._valueOrigin),b=m.current,w=m.stackedOnCurrent,k=m.next,M=m.stackedOnNext;if(s&&(b=Ol(m.current,r,s),w=Ol(m.stackedOnCurrent,r,s),k=Ol(m.next,r,s),M=Ol(m.stackedOnNext,r,s)),nk(b,k)>3e3||f&&nk(w,M)>3e3)return u.stopAnimation(),u.setShape({points:k}),void(f&&(f.stopAnimation(),f.setShape({points:k,stackedOnPoints:M})));u.shape.__points=m.current,u.shape.points=b;var I={shape:{points:k}};m.current!==b&&(I.shape.__points=m.next),u.stopAnimation(),xr(u,I,p),f&&(f.setShape({points:b,stackedOnPoints:w}),f.stopAnimation(),xr(f,{shape:{stackedOnPoints:M}},p),u.shape.points!==f.shape.points&&(f.shape.points=u.shape.points));for(var O=[],B=m.status,H=0;H<B.length;H++)if("="===B[H].cmd){var X=t.getItemGraphicEl(B[H].idx1);X&&O.push({el:X,ptIdx:H})}u.animators&&u.animators.length&&u.animators[0].during(function(){f&&f.dirtyShape();for(var U=u.shape.__points,$=0;$<O.length;$++){var et=O[$].el,at=2*O[$].ptIdx;et.x=U[at],et.y=U[at+1],et.markRedraw()}})},e.prototype.remove=function(t){var i=this.group,r=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),r&&r.eachItemGraphicEl(function(o,s){o.__temp&&(i.remove(o),r.setItemGraphicEl(s,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},e.type="line",e}(Rr);function vc(n,e){return{seriesType:n,plan:Of(),reset:function(t){var i=t.getData(),r=t.coordinateSystem,s=e||t.pipelineContext.large;if(r){var l=zt(r.dimensions,function(w){return i.mapDimension(w)}).slice(0,2),u=l.length,f=i.getCalculationInfo("stackResultDimension");Qc(i,l[0])&&(l[0]=f),Qc(i,l[1])&&(l[1]=f);var p=i.getStore(),m=i.getDimensionIndex(l[0]),b=i.getDimensionIndex(l[1]);return u&&{progress:function(w,k){for(var I=s&&Cg((w.end-w.start)*u),O=[],B=[],H=w.start,X=0;H<w.end;H++){var U=void 0;if(1===u){var $=p.get(m,H);U=r.dataToPoint($,null,B)}else O[0]=p.get(m,H),O[1]=p.get(b,H),U=r.dataToPoint(O,null,B);s?(I[X++]=U[0],I[X++]=U[1]):k.setItemLayout(H,U.slice())}s&&k.setLayout("points",I)}}}}}}var px={average:function(n){for(var e=0,t=0,i=0;i<n.length;i++)isNaN(n[i])||(e+=n[i],t++);return 0===t?NaN:e/t},sum:function(n){for(var e=0,t=0;t<n.length;t++)e+=n[t]||0;return e},max:function(n){for(var e=-1/0,t=0;t<n.length;t++)n[t]>e&&(e=n[t]);return isFinite(e)?e:NaN},min:function(n){for(var e=1/0,t=0;t<n.length;t++)n[t]<e&&(e=n[t]);return isFinite(e)?e:NaN},nearest:function(n){return n[0]}},gx=function(n){return Math.round(n.length/2)};function q_(n){return{seriesType:n,reset:function(e,t,i){var r=e.getData(),o=e.get("sampling"),s=e.coordinateSystem,l=r.count();if(l>10&&"cartesian2d"===s.type&&o){var u=s.getBaseAxis(),f=s.getOtherAxis(u),p=u.getExtent(),m=i.getDevicePixelRatio(),b=Math.abs(p[1]-p[0])*(m||1),w=Math.round(l/b);if(w>1){"lttb"===o&&e.setData(r.lttbDownSample(r.mapDimension(f.dim),1/w));var k=void 0;"string"==typeof o?k=px[o]:"function"==typeof o&&(k=o),k&&e.setData(r.downSample(r.mapDimension(f.dim),1/w,k,gx))}}}}}var Cv=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return Tt(e,n),e.prototype.getInitialData=function(t,i){return Jc(null,this,{useEncodeDefaulter:!0})},e.prototype.getMarkerPosition=function(t){var i=this.coordinateSystem;if(i&&i.clampData){var r=i.dataToPoint(i.clampData(t)),o=this.getData(),s=o.getLayout("offset"),l=o.getLayout("size");return r[i.getBaseAxis().isHorizontal()?0:1]+=s+l/2,r}return[NaN,NaN]},e.type="series.__base_bar__",e.defaultOption={zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod"},e}(Gr);Gr.registerClass(Cv);var U_=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return Tt(e,n),e.prototype.getInitialData=function(){return Jc(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},e.prototype.getProgressive=function(){return!!this.get("large")&&this.get("progressive")},e.prototype.getProgressiveThreshold=function(){var t=this.get("progressiveThreshold"),i=this.get("largeThreshold");return i>t&&(t=i),t},e.prototype.brushSelector=function(t,i,r){return r.rect(i.getItemLayout(t))},e.type="series.bar",e.dependencies=["grid","polar"],e.defaultOption=Hc(Cv.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:"#212121"}},realtimeSort:!1}),e}(Cv),$_=function(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0},mx=function(n){function e(t){var i=n.call(this,t)||this;return i.type="sausage",i}return Tt(e,n),e.prototype.getDefaultShape=function(){return new $_},e.prototype.buildPath=function(t,i){var r=i.cx,o=i.cy,s=Math.max(i.r0||0,0),l=Math.max(i.r,0),u=.5*(l-s),f=s+u,p=i.startAngle,m=i.endAngle,b=i.clockwise,w=Math.cos(p),k=Math.sin(p),M=Math.cos(m),I=Math.sin(m);(b?m-p<2*Math.PI:p-m<2*Math.PI)&&(t.moveTo(w*s+r,k*s+o),t.arc(w*f+r,k*f+o,u,-Math.PI+p,p,!b)),t.arc(r,o,l,p,m,!b),t.moveTo(M*l+r,I*l+o),t.arc(M*f+r,I*f+o,u,m-2*Math.PI,m-Math.PI,!b),0!==s&&(t.arc(r,o,s,m,p,b),t.moveTo(w*s+r,I*s+o)),t.closePath()},e}(zi);function kv(n,e,t){return e*Math.sin(n)*(t?-1:1)}function Av(n,e,t){return e*Math.cos(n)*(t?1:-1)}var Yu=[0,0],Yh=Math.max,vx=Math.min,$A=function(n){function e(){var t=n.call(this)||this;return t.type=e.type,t._isFirstFrame=!0,t}return Tt(e,n),e.prototype.render=function(t,i,r,o){this._model=t,this._removeOnRenderedListener(r),this._updateDrawMode(t);var s=t.get("coordinateSystem");("cartesian2d"===s||"polar"===s)&&(this._isLargeDraw?this._renderLarge(t,i,r):this._renderNormal(t,i,r,o))},e.prototype.incrementalPrepareRender=function(t){this._clear(),this._updateDrawMode(t),this._updateLargeClip(t)},e.prototype.incrementalRender=function(t,i){this._incrementalRenderLarge(t,i)},e.prototype._updateDrawMode=function(t){var i=t.pipelineContext.large;null!=this._isLargeDraw&&i===this._isLargeDraw||(this._isLargeDraw=i,this._clear())},e.prototype._renderNormal=function(t,i,r,o){var s,l=this.group,u=t.getData(),f=this._data,p=t.coordinateSystem,m=p.getBaseAxis();"cartesian2d"===p.type?s=m.isHorizontal():"polar"===p.type&&(s="angle"===m.dim);var b=t.isAnimationEnabled()?t:null,w=function(Lt,Gt){var ne=Lt.get("realtimeSort",!0),re=Gt.getBaseAxis();if(ne&&"category"===re.type&&"cartesian2d"===Gt.type)return{baseAxis:re,otherAxis:Gt.getOtherAxis(re)}}(t,p);w&&this._enableRealtimeSort(w,u,r);var k=t.get("clip",!0)||w,M=function(Lt,Gt){var ne=Lt.getArea&&Lt.getArea();if(dl(Lt,"cartesian2d")){var re=Lt.getBaseAxis();if("category"!==re.type||!re.onBand){var fe=Gt.getLayout("bandWidth");re.isHorizontal()?(ne.x-=fe,ne.width+=2*fe):(ne.y-=fe,ne.height+=2*fe)}}return ne}(p,u);l.removeClipPath();var I=t.get("roundCap",!0),O=t.get("showBackground",!0),B=t.getModel("backgroundStyle"),H=B.get("borderRadius")||0,X=[],U=this._backgroundEls,$=o&&o.isInitSort,et=o&&"changeAxisOrder"===o.type;function at(Lt){var re,Gt=ip[p.type](u,Lt),ne=new("polar"===(re=p).type?Fr:vr)({shape:Xh(s,Gt,re),silent:!0,z2:0});return ne.useStyle(B.getItemStyle()),"cartesian2d"===p.type&&ne.setShape("r",H),X[Lt]=ne,ne}u.diff(f).add(function(Lt){var Gt=u.getItemModel(Lt),ne=ip[p.type](u,Lt,Gt);if(O&&at(Lt),u.hasValue(Lt)&&K_[p.type](ne)){var re=!1;k&&(re=Z_[p.type](M,ne));var fe=ik[p.type](t,u,Lt,ne,s,b,m.model,!1,I);w&&(fe.forceLabelAnimation=!0),ak(fe,u,Lt,Gt,ne,t,s,"polar"===p.type),$?fe.attr({shape:ne}):w?Mv(w,b,fe,ne,Lt,s,!1,!1):ro(fe,{shape:ne},t,Lt),u.setItemGraphicEl(Lt,fe),l.add(fe),fe.ignore=re}}).update(function(Lt,Gt){var ne=u.getItemModel(Lt),re=ip[p.type](u,Lt,ne);if(O){var fe=void 0;0===U.length?fe=at(Gt):((fe=U[Gt]).useStyle(B.getItemStyle()),"cartesian2d"===p.type&&fe.setShape("r",H),X[Lt]=fe);var ye=ip[p.type](u,Lt);xr(fe,{shape:Xh(s,ye,p)},b,Lt)}var Te=f.getItemGraphicEl(Gt);if(u.hasValue(Lt)&&K_[p.type](re)){var Ie=!1;if(k&&(Ie=Z_[p.type](M,re))&&l.remove(Te),Te?Du(Te):Te=ik[p.type](t,u,Lt,re,s,b,m.model,!!Te,I),w&&(Te.forceLabelAnimation=!0),et){var Re=Te.getTextContent();if(Re){var Xe=Td(Re);null!=Xe.prevValue&&(Xe.prevValue=Xe.value)}}et||ak(Te,u,Lt,ne,re,t,s,"polar"===p.type),$?Te.attr({shape:re}):w?Mv(w,b,Te,re,Lt,s,!0,et):xr(Te,{shape:re},t,Lt,null),u.setItemGraphicEl(Lt,Te),Te.ignore=Ie,l.add(Te)}else l.remove(Te)}).remove(function(Lt){var Gt=f.getItemGraphicEl(Lt);Gt&&Dp(Gt,t,Lt)}).execute();var At=this._backgroundGroup||(this._backgroundGroup=new bt);At.removeAll();for(var Mt=0;Mt<X.length;++Mt)At.add(X[Mt]);l.add(At),this._backgroundEls=X,this._data=u},e.prototype._renderLarge=function(t,i,r){this._clear(),lk(t,this.group),this._updateLargeClip(t)},e.prototype._incrementalRenderLarge=function(t,i){this._removeBackground(),lk(i,this.group,!0)},e.prototype._updateLargeClip=function(t){var i=t.get("clip",!0)?cx(t.coordinateSystem,!1,t):null;i?this.group.setClipPath(i):this.group.removeClipPath()},e.prototype._enableRealtimeSort=function(t,i,r){var o=this;if(i.count()){var s=t.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(i,t,r),this._isFirstFrame=!1;else{var l=function(u){var f=i.getItemGraphicEl(u);if(f){var p=f.shape;return(s.isHorizontal()?Math.abs(p.height):Math.abs(p.width))||0}return 0};this._onRendered=function(){o._updateSortWithinSameData(i,l,s,r)},r.getZr().on("rendered",this._onRendered)}}},e.prototype._dataSort=function(t,i,r){var o=[];return t.each(t.mapDimension(i.dim),function(s,l){var u=r(l);o.push({dataIndex:l,mappedValue:u=null==u?NaN:u,ordinalNumber:s})}),o.sort(function(s,l){return l.mappedValue-s.mappedValue}),{ordinalNumbers:zt(o,function(s){return s.ordinalNumber})}},e.prototype._isOrderChangedWithinSameData=function(t,i,r){for(var o=r.scale,s=t.mapDimension(r.dim),l=Number.MAX_VALUE,u=0,f=o.getOrdinalMeta().categories.length;u<f;++u){var p=t.rawIndexOf(s,o.getRawOrdinalNumber(u)),m=p<0?Number.MIN_VALUE:i(t.indexOfRawIndex(p));if(m>l)return!0;l=m}return!1},e.prototype._isOrderDifferentInView=function(t,i){for(var r=i.scale,o=r.getExtent(),s=Math.max(0,o[0]),l=Math.min(o[1],r.getOrdinalMeta().categories.length-1);s<=l;++s)if(t.ordinalNumbers[s]!==r.getRawOrdinalNumber(s))return!0},e.prototype._updateSortWithinSameData=function(t,i,r,o){if(this._isOrderChangedWithinSameData(t,i,r)){var s=this._dataSort(t,r,i);this._isOrderDifferentInView(s,r)&&(this._removeOnRenderedListener(o),o.dispatchAction({type:"changeAxisOrder",componentType:r.dim+"Axis",axisId:r.index,sortInfo:s}))}},e.prototype._dispatchInitSort=function(t,i,r){var o=i.baseAxis,s=this._dataSort(t,o,function(l){return t.get(t.mapDimension(i.otherAxis.dim),l)});r.dispatchAction({type:"changeAxisOrder",componentType:o.dim+"Axis",isInitSort:!0,axisId:o.index,sortInfo:s})},e.prototype.remove=function(t,i){this._clear(this._model),this._removeOnRenderedListener(i)},e.prototype.dispose=function(t,i){this._removeOnRenderedListener(i)},e.prototype._removeOnRenderedListener=function(t){this._onRendered&&(t.getZr().off("rendered",this._onRendered),this._onRendered=null)},e.prototype._clear=function(t){var i=this.group,r=this._data;t&&t.isAnimationEnabled()&&r&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],r.eachItemGraphicEl(function(o){Dp(o,t,Fi(o).dataIndex)})):i.removeAll(),this._data=null,this._isFirstFrame=!0},e.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},e.type="bar",e}(Rr),Z_={cartesian2d:function(n,e){var t=e.width<0?-1:1,i=e.height<0?-1:1;t<0&&(e.x+=e.width,e.width=-e.width),i<0&&(e.y+=e.height,e.height=-e.height);var r=n.x+n.width,o=n.y+n.height,s=Yh(e.x,n.x),l=vx(e.x+e.width,r),u=Yh(e.y,n.y),f=vx(e.y+e.height,o),p=l<s,m=f<u;return e.x=p&&s>r?l:s,e.y=m&&u>o?f:u,e.width=p?0:l-s,e.height=m?0:f-u,t<0&&(e.x+=e.width,e.width=-e.width),i<0&&(e.y+=e.height,e.height=-e.height),p||m},polar:function(n,e){var t=e.r0<=e.r?1:-1;if(t<0){var i=e.r;e.r=e.r0,e.r0=i}var r=vx(e.r,n.r),o=Yh(e.r0,n.r0);e.r=r,e.r0=o;var s=r-o<0;return t<0&&(i=e.r,e.r=e.r0,e.r0=i),s}},ik={cartesian2d:function(n,e,t,i,r,o,s,l,u){var f=new vr({shape:Dt({},i),z2:1});return f.__dataIndex=t,f.name="item",o&&(f.shape[r?"height":"width"]=0),f},polar:function(n,e,t,i,r,o,s,l,u){var f=!r&&u?mx:Fr,p=new f({shape:i,z2:1});p.name="item";var m,b,w=hu(r);if(p.calculateTextPosition=(m=w,b=f===mx,function(I,O,B){var H=O.position;if(!H||H instanceof Array)return Yl(I,O,B);var X=m(H),U=null!=O.distance?O.distance:5,$=this.shape,et=$.cx,at=$.cy,At=$.r,Mt=$.r0,Lt=(At+Mt)/2,Gt=$.startAngle,ne=$.endAngle,re=(Gt+ne)/2,fe=b?Math.abs(At-Mt)/2:0,ye=Math.cos,Te=Math.sin,Ie=et+At*ye(Gt),Re=at+At*Te(Gt),Xe="left",cn="top";switch(X){case"startArc":Ie=et+(Mt-U)*ye(re),Re=at+(Mt-U)*Te(re),Xe="center",cn="top";break;case"insideStartArc":Ie=et+(Mt+U)*ye(re),Re=at+(Mt+U)*Te(re),Xe="center",cn="bottom";break;case"startAngle":Ie=et+Lt*ye(Gt)+kv(Gt,U+fe,!1),Re=at+Lt*Te(Gt)+Av(Gt,U+fe,!1),Xe="right",cn="middle";break;case"insideStartAngle":Ie=et+Lt*ye(Gt)+kv(Gt,-U+fe,!1),Re=at+Lt*Te(Gt)+Av(Gt,-U+fe,!1),Xe="left",cn="middle";break;case"middle":Ie=et+Lt*ye(re),Re=at+Lt*Te(re),Xe="center",cn="middle";break;case"endArc":Ie=et+(At+U)*ye(re),Re=at+(At+U)*Te(re),Xe="center",cn="bottom";break;case"insideEndArc":Ie=et+(At-U)*ye(re),Re=at+(At-U)*Te(re),Xe="center",cn="top";break;case"endAngle":Ie=et+Lt*ye(ne)+kv(ne,U+fe,!0),Re=at+Lt*Te(ne)+Av(ne,U+fe,!0),Xe="left",cn="middle";break;case"insideEndAngle":Ie=et+Lt*ye(ne)+kv(ne,-U+fe,!0),Re=at+Lt*Te(ne)+Av(ne,-U+fe,!0),Xe="right",cn="middle";break;default:return Yl(I,O,B)}return(I=I||{}).x=Ie,I.y=Re,I.align=Xe,I.verticalAlign=cn,I}),o){var k=r?"r":"endAngle",M={};p.shape[k]=r?0:i.startAngle,M[k]=i[k],(l?xr:ro)(p,{shape:M},o)}return p}};function Mv(n,e,t,i,r,o,s,l){var u,f;o?(f={x:i.x,width:i.width},u={y:i.y,height:i.height}):(f={y:i.y,height:i.height},u={x:i.x,width:i.width}),l||(s?xr:ro)(t,{shape:u},e,r,null),(s?xr:ro)(t,{shape:f},e?n.baseAxis.model:null,r)}function lr(n,e){for(var t=0;t<e.length;t++)if(!isFinite(n[e[t]]))return!0;return!1}var rk=["x","y","width","height"],ok=["cx","cy","r","startAngle","endAngle"],K_={cartesian2d:function(n){return!lr(n,rk)},polar:function(n){return!lr(n,ok)}},ip={cartesian2d:function(n,e,t){var i=n.getItemLayout(e),r=t?function(l,u){var f=l.get(["itemStyle","borderColor"]);if(!f||"none"===f)return 0;var p=l.get(["itemStyle","borderWidth"])||0,m=isNaN(u.width)?Number.MAX_VALUE:Math.abs(u.width),b=isNaN(u.height)?Number.MAX_VALUE:Math.abs(u.height);return Math.min(p,m,b)}(t,i):0,o=i.width>0?1:-1,s=i.height>0?1:-1;return{x:i.x+o*r/2,y:i.y+s*r/2,width:i.width-o*r,height:i.height-s*r}},polar:function(n,e,t){var i=n.getItemLayout(e);return{cx:i.cx,cy:i.cy,r0:i.r0,r:i.r,startAngle:i.startAngle,endAngle:i.endAngle,clockwise:i.clockwise}}};function hu(n){return function(e){var t=e?"Arc":"Angle";return function(i){switch(i){case"start":case"insideStart":case"end":case"insideEnd":return i+t;default:return i}}}(n)}function ak(n,e,t,i,r,o,s,l){var u=e.getItemVisual(t,"style");l||n.setShape("r",i.get(["itemStyle","borderRadius"])||0),n.useStyle(u);var f=i.getShallow("cursor");f&&n.attr("cursor",f);var p=l?s?r.r>=r.r0?"endArc":"startArc":r.endAngle>=r.startAngle?"endAngle":"startAngle":s?r.height>=0?"bottom":"top":r.width>=0?"right":"left",m=Sa(i);xs(n,m,{labelFetcher:o,labelDataIndex:t,defaultText:Kd(o.getData(),t),inheritColor:u.fill,defaultOpacity:u.opacity,defaultOutsidePosition:p});var b=n.getTextContent();if(l&&b){var w=i.get(["label","position"]);n.textConfig.inside="middle"===w||null,function(M,I,O,B){if("number"!=typeof B)if(Jt(I))M.setTextConfig({rotation:0});else{var H,X=M.shape,U=X.clockwise?X.startAngle:X.endAngle,$=X.clockwise?X.endAngle:X.startAngle,et=(U+$)/2,at=O(I);switch(at){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":H=et;break;case"startAngle":case"insideStartAngle":H=U;break;case"endAngle":case"insideEndAngle":H=$;break;default:return void M.setTextConfig({rotation:0})}var At=1.5*Math.PI-H;"middle"===at&&At>Math.PI/2&&At<1.5*Math.PI&&(At-=Math.PI),M.setTextConfig({rotation:At})}else M.setTextConfig({rotation:B})}(n,"outside"===w?p:w,hu(s),i.get(["label","rotate"]))}_y(b,m,o.getRawValue(t),function(M){return F_(e,M)});var M,k=i.getModel(["emphasis"]);to(n,k.get("focus"),k.get("blurScope")),ls(n,i),null!=(M=r).startAngle&&null!=M.endAngle&&M.startAngle===M.endAngle&&(n.style.fill="none",n.style.stroke="none",mt(n.states,function(M){M.style&&(M.style.fill=M.style.stroke="none")}))}var ah=function(){},sk=function(n){function e(t){var i=n.call(this,t)||this;return i.type="largeBar",i}return Tt(e,n),e.prototype.getDefaultShape=function(){return new ah},e.prototype.buildPath=function(t,i){for(var r=i.points,o=this.__startPoint,s=this.__baseDimIdx,l=0;l<r.length;l+=2)o[s]=r[l+s],t.moveTo(o[0],o[1]),t.lineTo(r[l],r[l+1])},e}(zi);function lk(n,e,t){var i=n.getData(),r=[],o=i.getLayout("valueAxisHorizontal")?1:0;r[1-o]=i.getLayout("valueAxisStart");var w,k,M,I,O,s=i.getLayout("largeDataIndices"),l=i.getLayout("barWidth"),u=n.getModel("backgroundStyle");if(n.get("showBackground",!0)){var f=i.getLayout("largeBackgroundPoints"),p=[];p[1-o]=i.getLayout("backgroundStart");var m=new sk({shape:{points:f},incremental:!!t,silent:!0,z2:0});m.__startPoint=p,m.__baseDimIdx=o,m.__largeDataIndices=s,m.__barWidth=l,w=m,M=i,I=(k=u).get("borderColor")||k.get("color"),O=k.getItemStyle(),w.useStyle(O),w.style.fill=null,w.style.stroke=I,w.style.lineWidth=M.getLayout("barWidth"),e.add(m)}var b=new sk({shape:{points:i.getLayout("largePoints")},incremental:!!t});b.__startPoint=r,b.__baseDimIdx=o,b.__largeDataIndices=s,b.__barWidth=l,e.add(b),function(w,k,M){var I=M.getVisual("style");w.useStyle(Dt({},I)),w.style.fill=null,w.style.stroke=I.fill,w.style.lineWidth=M.getLayout("barWidth")}(b,0,i),Fi(b).seriesIndex=n.seriesIndex,n.get("silent")||(b.on("mousedown",Q_),b.on("mousemove",Q_))}var Q_=Nf(function(n){var e=function(t,i,r){var o=t.__baseDimIdx,s=1-o,l=t.shape.points,u=t.__largeDataIndices,f=Math.abs(t.__barWidth/2),p=t.__startPoint[s];Yu[0]=i,Yu[1]=r;for(var m=Yu[o],b=Yu[1-o],w=m-f,k=m+f,M=0,I=l.length/2;M<I;M++){var O=2*M,B=l[O+o],H=l[O+s];if(B>=w&&B<=k&&(p<=H?b>=p&&b<=H:b>=H&&b<=p))return u[M]}return-1}(this,n.offsetX,n.offsetY);Fi(this).dataIndex=e>=0?e:null},30,!1);function Xh(n,e,t){if(dl(t,"cartesian2d")){var i=e,r=t.getArea();return{x:n?i.x:r.x,y:n?r.y:i.y,width:n?i.width:r.width,height:n?r.height:i.height}}var o=e;return{cx:(r=t.getArea()).cx,cy:r.cy,r0:n?r.r0:o.r0,r:n?r.r:o.r,startAngle:n?o.startAngle:0,endAngle:n?o.endAngle:2*Math.PI}}var ds=2*Math.PI,uk=Math.PI/180;function Gh(n,e){return Ca(n.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}function J_(n,e){var t=Gh(n,e),i=n.get("center"),r=n.get("radius");Jt(r)||(r=[0,r]),Jt(i)||(i=[i,i]);var o=In(t.width,e.getWidth()),s=In(t.height,e.getHeight()),l=Math.min(o,s);return{cx:In(i[0],o)+t.x,cy:In(i[1],s)+t.y,r0:In(r[0],l/2),r:In(r[1],l/2)}}function ck(n,e,t){e.eachSeriesByType(n,function(i){var r=i.getData(),o=r.mapDimension("value"),s=Gh(i,t),l=J_(i,t),u=l.cx,f=l.cy,p=l.r,m=l.r0,b=-i.get("startAngle")*uk,w=i.get("minAngle")*uk,k=0;r.each(o,function(Mt){!isNaN(Mt)&&k++});var M=r.getSum(o),I=Math.PI/(M||k)*2,O=i.get("clockwise"),B=i.get("roseType"),H=i.get("stillShowZeroSum"),X=r.getDataExtent(o);X[0]=0;var U=ds,$=0,et=b,at=O?1:-1;if(r.setLayout({viewRect:s,r:p}),r.each(o,function(Mt,Lt){var Gt;if(isNaN(Mt))r.setItemLayout(Lt,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:O,cx:u,cy:f,r0:m,r:B?NaN:p});else{(Gt="area"!==B?0===M&&H?I:Mt*I:ds/k)<w?(Gt=w,U-=w):$+=Mt;var ne=et+at*Gt;r.setItemLayout(Lt,{angle:Gt,startAngle:et,endAngle:ne,clockwise:O,cx:u,cy:f,r0:m,r:B?Bn(Mt,X,[m,p]):p}),et=ne}}),U<ds&&k)if(U<=.001){var At=ds/k;r.each(o,function(Mt,Lt){if(!isNaN(Mt)){var Gt=r.getItemLayout(Lt);Gt.angle=At,Gt.startAngle=b+at*Lt*At,Gt.endAngle=b+at*(Lt+1)*At}})}else I=U/$,et=b,r.each(o,function(Mt,Lt){if(!isNaN(Mt)){var Gt=r.getItemLayout(Lt),ne=Gt.angle===w?w:Mt*I;Gt.startAngle=et,Gt.endAngle=et+at*ne,et+=at*ne}})})}function sh(n){return{seriesType:n,reset:function(e,t){var i=t.findComponents({mainType:"legend"});if(i&&i.length){var r=e.getData();r.filterSelf(function(o){for(var s=r.getName(o),l=0;l<i.length;l++)if(!i[l].isSelected(s))return!1;return!0})}}}}var Tv=Math.PI/180;function kg(n,e,t,i,r,o,s,l,u,f){if(!(n.length<2)){for(var p=n.length,m=0;m<p;m++)"outer"===n[m].position&&"labelLine"===n[m].labelAlignTo&&(n[m].linePoints[1][0]+=n[m].label.x-f,n[m].label.x=f);w_(n,u,u+s)&&function(k){for(var M={list:[],maxY:0},I={list:[],maxY:0},O=0;O<k.length;O++)if("none"===k[O].labelAlignTo){var B=k[O],H=B.label.y>t?I:M,X=Math.abs(B.label.y-t);if(X>H.maxY){var U=B.label.x-e-B.len2*r,$=i+B.len,et=Math.abs(U)<$?Math.sqrt(X*X/(1-U*U/$/$)):$;H.rB=et,H.maxY=X}H.list.push(B)}w(M),w(I)}(n)}function w(k){for(var M=k.rB,I=M*M,O=0;O<k.list.length;O++){var B=k.list[O],H=Math.abs(B.label.y-t),X=i+B.len,U=X*X,$=Math.sqrt((1-Math.abs(H*H/I))*U);B.label.x=e+($+B.len2)*r}}}function tw(n){return"center"===n.position}function rp(n,e,t){var i=n.get("borderRadius");return null==i?t?{innerCornerRadius:0,cornerRadius:0}:null:(Jt(i)||(i=[i,i]),{innerCornerRadius:Wr(i[0],e.r0),cornerRadius:Wr(i[1],e.r)})}var Ag=function(n){function e(t,i,r){var o=n.call(this)||this;o.z2=2;var s=new dr;return o.setTextContent(s),o.updateData(t,i,r,!0),o}return Tt(e,n),e.prototype.updateData=function(t,i,r,o){var s=this,l=t.hostModel,u=t.getItemModel(i),f=u.getModel("emphasis"),p=t.getItemLayout(i),m=Dt(rp(u.getModel("itemStyle"),p,!0),p);if(isNaN(m.startAngle))s.setShape(m);else{o?(s.setShape(m),"scale"===l.getShallow("animationType")?(s.shape.r=p.r0,ro(s,{shape:{r:p.r}},l,i)):null!=r?(s.setShape({startAngle:r,endAngle:r}),ro(s,{shape:{startAngle:p.startAngle,endAngle:p.endAngle}},l,i)):(s.shape.endAngle=p.startAngle,xr(s,{shape:{endAngle:p.endAngle}},l,i))):(Du(s),xr(s,{shape:m},l,i)),s.useStyle(t.getItemVisual(i,"style")),ls(s,u);var b=(p.startAngle+p.endAngle)/2,w=l.get("selectedOffset"),k=Math.cos(b)*w,M=Math.sin(b)*w,I=u.getShallow("cursor");I&&s.attr("cursor",I),this._updateLabel(l,t,i),s.ensureState("emphasis").shape=ee({r:p.r+(f.get("scale")&&f.get("scaleSize")||0)},rp(f.getModel("itemStyle"),p)),Dt(s.ensureState("select"),{x:k,y:M,shape:rp(u.getModel(["select","itemStyle"]),p)}),Dt(s.ensureState("blur"),{shape:rp(u.getModel(["blur","itemStyle"]),p)});var O=s.getTextGuideLine(),B=s.getTextContent();O&&Dt(O.ensureState("select"),{x:k,y:M}),Dt(B.ensureState("select"),{x:k,y:M}),to(this,f.get("focus"),f.get("blurScope"))}},e.prototype._updateLabel=function(t,i,r){var o=this,s=i.getItemModel(r),l=s.getModel("labelLine"),u=i.getItemVisual(r,"style"),f=u&&u.fill,p=u&&u.opacity;xs(o,Sa(s),{labelFetcher:i.hostModel,labelDataIndex:r,inheritColor:f,defaultOpacity:p,defaultText:t.getFormattedLabel(r,"normal")||i.getName(r)});var m=o.getTextContent();o.setTextConfig({position:null,rotation:null}),m.attr({z2:10});var b=t.get(["label","position"]);if("outside"!==b&&"outer"!==b)o.removeTextGuideLine();else{var w=this.getTextGuideLine();w||(w=new Fs,this.setTextGuideLine(w)),tx(this,b_(s),{stroke:f,opacity:En(l.get(["lineStyle","opacity"]),p,1)})}},e}(Fr),yx=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.ignoreLabelLineUpdate=!0,t}return Tt(e,n),e.prototype.init=function(){var t=new bt;this._sectorGroup=t},e.prototype.render=function(t,i,r,o){var s,l=t.getData(),u=this._data,f=this.group;if(!u&&l.count()>0){for(var p=l.getItemLayout(0),m=1;isNaN(p&&p.startAngle)&&m<l.count();++m)p=l.getItemLayout(m);p&&(s=p.startAngle)}if(this._emptyCircleSector&&f.remove(this._emptyCircleSector),0===l.count()&&t.get("showEmptyCircle")){var b=new Fr({shape:J_(t,r)});b.useStyle(t.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=b,f.add(b)}l.diff(u).add(function(w){var k=new Ag(l,w,s);l.setItemGraphicEl(w,k),f.add(k)}).update(function(w,k){var M=u.getItemGraphicEl(k);M.updateData(l,w,s),M.off("click"),f.add(M),l.setItemGraphicEl(w,M)}).remove(function(w){Dp(u.getItemGraphicEl(w),t,w)}).execute(),function(n){var e,t,i=n.getData(),r=[],o=!1,s=(n.get("minShowLabelAngle")||0)*Tv,l=i.getLayout("viewRect"),u=i.getLayout("r"),f=l.width,p=l.x,m=l.y,b=l.height;function w(U){U.ignore=!0}i.each(function(U){var $=i.getItemGraphicEl(U),et=$.shape,at=$.getTextContent(),At=$.getTextGuideLine(),Mt=i.getItemModel(U),Lt=Mt.getModel("label"),Gt=Lt.get("position")||Mt.get(["emphasis","label","position"]),ne=Lt.get("distanceToLabelLine"),re=Lt.get("alignTo"),fe=In(Lt.get("edgeDistance"),f),ye=Lt.get("bleedMargin"),Te=Mt.getModel("labelLine"),Ie=Te.get("length");Ie=In(Ie,f);var Re=Te.get("length2");if(Re=In(Re,f),Math.abs(et.endAngle-et.startAngle)<s)return mt(at.states,w),void(at.ignore=!0);if(function(xo){if(!xo.ignore)return!0;for(var Nl in xo.states)if(!1===xo.states[Nl].ignore)return!0;return!1}(at)){var Xe,cn,_n,Hn,gn=(et.startAngle+et.endAngle)/2,Dn=Math.cos(gn),Un=Math.sin(gn);e=et.cx,t=et.cy;var Yn,Xn="inside"===Gt||"inner"===Gt;if("center"===Gt)Xe=et.cx,cn=et.cy,Hn="center";else{var di=(Xn?(et.r+et.r0)/2*Dn:et.r*Dn)+e,fi=(Xn?(et.r+et.r0)/2*Un:et.r*Un)+t;if(Xe=di+3*Dn,cn=fi+3*Un,!Xn){var Pi=di+Dn*(Ie+u-et.r),Wi=fi+Un*(Ie+u-et.r),Gi=Pi+(Dn<0?-1:1)*Re;Xe="edge"===re?Dn<0?p+fe:p+f-fe:Gi+(Dn<0?-ne:ne),cn=Wi,_n=[[di,fi],[Pi,Wi],[Gi,Wi]]}Hn=Xn?"center":"edge"===re?Dn>0?"right":"left":Dn>0?"left":"right"}var Jo=Lt.get("rotate");if("number"==typeof Jo)Yn=Jo*(Math.PI/180);else if("center"===Gt)Yn=0;else{var zo=Dn<0?-gn+Math.PI:-gn;"radial"===Jo||!0===Jo?Yn=zo:"tangential"===Jo&&"outside"!==Gt&&"outer"!==Gt?(Yn=zo+Math.PI/2)>Math.PI/2&&(Yn-=Math.PI):Yn=0}if(o=!!Yn,at.x=Xe,at.y=cn,at.rotation=Yn,at.setStyle({verticalAlign:"middle"}),Xn){at.setStyle({align:Hn});var Ir=at.states.select;Ir&&(Ir.x+=at.x,Ir.y+=at.y)}else{var Ar=at.getBoundingRect().clone();Ar.applyTransform(at.getComputedTransform());var ua=(at.style.margin||0)+2.1;Ar.y-=ua/2,Ar.height+=ua,r.push({label:at,labelLine:At,position:Gt,len:Ie,len2:Re,minTurnAngle:Te.get("minTurnAngle"),maxSurfaceAngle:Te.get("maxSurfaceAngle"),surfaceNormal:new Bi(Dn,Un),linePoints:_n,textAlign:Hn,labelDistance:ne,labelAlignTo:re,edgeDistance:fe,bleedMargin:ye,rect:Ar})}$.setTextConfig({inside:Xn})}}),!o&&n.get("avoidLabelOverlap")&&function(U,$,et,at,At,Mt,Lt,Gt){for(var ne=[],re=[],fe=Number.MAX_VALUE,ye=-Number.MAX_VALUE,Te=0;Te<U.length;Te++){var Ie=U[Te].label;tw(U[Te])||(Ie.x<$?(fe=Math.min(fe,Ie.x),ne.push(U[Te])):(ye=Math.max(ye,Ie.x),re.push(U[Te])))}for(kg(re,$,et,at,1,0,Mt,0,Gt,ye),kg(ne,$,et,at,-1,0,Mt,0,Gt,fe),Te=0;Te<U.length;Te++){var Re=U[Te];if(Ie=Re.label,!tw(Re)){var Xe=Re.linePoints;if(Xe){var Hn,cn="edge"===Re.labelAlignTo,_n=Re.rect.width;(Hn=cn?Ie.x<$?Xe[2][0]-Re.labelDistance-Lt-Re.edgeDistance:Lt+At-Re.edgeDistance-Xe[2][0]-Re.labelDistance:Ie.x<$?Ie.x-Lt-Re.bleedMargin:Lt+At-Ie.x-Re.bleedMargin)<Re.rect.width&&(Re.label.style.width=Hn,"edge"===Re.labelAlignTo&&(_n=Hn));var gn=Xe[1][0]-Xe[2][0];cn?Xe[2][0]=Ie.x<$?Lt+Re.edgeDistance+_n+Re.labelDistance:Lt+At-Re.edgeDistance-_n-Re.labelDistance:(Xe[2][0]=Ie.x<$?Ie.x+Re.labelDistance:Ie.x-Re.labelDistance,Xe[1][0]=Xe[2][0]+gn),Xe[1][1]=Xe[2][1]=Ie.y}}}}(r,e,t,u,f,b,p,m);for(var k=0;k<r.length;k++){var M=r[k],I=M.label,O=M.labelLine,B=isNaN(I.x)||isNaN(I.y);if(I){I.setStyle({align:M.textAlign}),B&&(mt(I.states,w),I.ignore=!0);var H=I.states.select;H&&(H.x+=I.x,H.y+=I.y)}if(O){var X=M.linePoints;B||!X?(mt(O.states,w),O.ignore=!0):(OC(X,M.minTurnAngle),NC(X,M.surfaceNormal,M.maxSurfaceAngle),O.setShape({points:X}),I.__hostTarget.textGuideLineConfig={anchor:new Bi(X[0][0],X[0][1])})}}}(t),"expansion"!==t.get("animationTypeUpdate")&&(this._data=l)},e.prototype.dispose=function(){},e.prototype.containPoint=function(t,i){var r=i.getData().getItemLayout(0);if(r){var o=t[0]-r.cx,s=t[1]-r.cy,l=Math.sqrt(o*o+s*s);return l<=r.r&&l>=r.r0}},e.type="pie",e}(Rr);function Mg(n,e,t){e=Jt(e)&&{coordDimensions:e}||Dt({encodeDefine:n.getEncode()},e);var i=n.getSource(),r=dg(i,e).dimensions,o=new _s(r,n);return o.initData(i,t),o}var Iv=function(){function n(e,t){this._getDataWithEncodedVisual=e,this._getRawData=t}return n.prototype.getAllNames=function(){var e=this._getRawData();return e.mapArray(e.getName)},n.prototype.containName=function(e){return this._getRawData().indexOfName(e)>=0},n.prototype.indexOfName=function(e){return this._getDataWithEncodedVisual().indexOfName(e)},n.prototype.getItemVisual=function(e,t){return this._getDataWithEncodedVisual().getItemVisual(e,t)},n}(),xx=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return Tt(e,n),e.prototype.init=function(t){n.prototype.init.apply(this,arguments),this.legendVisualProvider=new Iv(_e(this.getData,this),_e(this.getRawData,this)),this._defaultLabelLine(t)},e.prototype.mergeOption=function(){n.prototype.mergeOption.apply(this,arguments)},e.prototype.getInitialData=function(){return Mg(this,{coordDimensions:["value"],encodeDefaulter:de(Ny,this)})},e.prototype.getDataParams=function(t){var i=this.getData(),r=n.prototype.getDataParams.call(this,t),o=[];return i.each(i.mapDimension("value"),function(s){o.push(s)}),r.percent=or(o,t,i.hostModel.get("percentPrecision")),r.$vars.push("percent"),r},e.prototype._defaultLabelLine=function(t){Xo(t,"labelLine",["show"]);var i=t.labelLine,r=t.emphasis.labelLine;i.show=i.show&&t.label.show,r.show=r.show&&t.emphasis.label.show},e.type="series.pie",e.defaultOption={zlevel:0,z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},e}(Gr),ZA=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t.hasSymbolVisual=!0,t}return Tt(e,n),e.prototype.getInitialData=function(t,i){return Jc(null,this,{useEncodeDefaulter:!0})},e.prototype.getProgressive=function(){var t=this.option.progressive;return null==t?this.option.large?5e3:this.get("progressive"):t},e.prototype.getProgressiveThreshold=function(){var t=this.option.progressiveThreshold;return null==t?this.option.large?1e4:this.get("progressiveThreshold"):t},e.prototype.brushSelector=function(t,i,r){return r.point(i.getItemLayout(t))},e.type="series.scatter",e.dependencies=["grid","polar","geo","singleAxis","calendar"],e.defaultOption={coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},emphasis:{scale:!0},clip:!0,select:{itemStyle:{borderColor:"#212121"}},universalTransition:{divideShape:"clone"}},e}(Gr),Dv=function(){},qh=function(n){function e(t){return n.call(this,t)||this}return Tt(e,n),e.prototype.getDefaultShape=function(){return new Dv},e.prototype.buildPath=function(t,i){var r=i.points,o=i.size,s=this.symbolProxy,l=s.shape,u=t.getContext?t.getContext():t;if(u&&o[0]<4)this._ctx=u;else{this._ctx=null;for(var f=0;f<r.length;){var p=r[f++],m=r[f++];isNaN(p)||isNaN(m)||this.softClipShape&&!this.softClipShape.contain(p,m)||(l.x=p-o[0]/2,l.y=m-o[1]/2,l.width=o[0],l.height=o[1],s.buildPath(t,l,!0))}}},e.prototype.afterBrush=function(){var t=this.shape,i=t.points,r=t.size,o=this._ctx;if(o)for(var s=0;s<i.length;){var l=i[s++],u=i[s++];isNaN(l)||isNaN(u)||this.softClipShape&&!this.softClipShape.contain(l,u)||o.fillRect(l-r[0]/2,u-r[1]/2,r[0],r[1])}},e.prototype.findDataIndex=function(t,i){for(var r=this.shape,o=r.points,s=r.size,l=Math.max(s[0],4),u=Math.max(s[1],4),f=o.length/2-1;f>=0;f--){var p=2*f,m=o[p]-l/2,b=o[p+1]-u/2;if(t>=m&&i>=b&&t<=m+l&&i<=b+u)return f}return-1},e}(zi),nw=function(){function n(){this.group=new bt}return n.prototype.isPersistent=function(){return!this._incremental},n.prototype.updateData=function(e,t){this.group.removeAll();var i=new qh({rectHover:!0,cursor:"default"});i.setShape({points:e.getLayout("points")}),this._setCommon(i,e,!1,t),this.group.add(i),this._incremental=null},n.prototype.updateLayout=function(e){if(!this._incremental){var t=e.getLayout("points");this.group.eachChild(function(i){null!=i.startIndex&&(t=new Float32Array(t.buffer,4*i.startIndex*2,2*(i.endIndex-i.startIndex))),i.setShape("points",t)})}},n.prototype.incrementalPrepareUpdate=function(e){this.group.removeAll(),this._clearIncremental(),e.count()>2e6?(this._incremental||(this._incremental=new Ip({silent:!0})),this.group.add(this._incremental)):this._incremental=null},n.prototype.incrementalUpdate=function(e,t,i){var r;this._incremental?(r=new qh,this._incremental.addDisplayable(r,!0)):((r=new qh({rectHover:!0,cursor:"default",startIndex:e.start,endIndex:e.end})).incremental=!0,this.group.add(r)),r.setShape({points:t.getLayout("points")}),this._setCommon(r,t,!!this._incremental,i)},n.prototype._setCommon=function(e,t,i,r){var o=t.hostModel;r=r||{};var s=t.getVisual("symbolSize");e.setShape("size",s instanceof Array?s:[s,s]),e.softClipShape=r.clipShape||null,e.symbolProxy=oa(t.getVisual("symbol"),0,0,0,0),e.setColor=e.symbolProxy.setColor;var l=e.shape.size[0]<4;e.useStyle(o.getModel("itemStyle").getItemStyle(l?["color","shadowBlur","shadowColor"]:["color"]));var u=t.getVisual("style"),f=u&&u.fill;if(f&&e.setColor(f),!i){var p=Fi(e);p.seriesIndex=o.seriesIndex,e.on("mousemove",function(m){p.dataIndex=null;var b=e.findDataIndex(m.offsetX,m.offsetY);b>=0&&(p.dataIndex=b+(e.startIndex||0))})}},n.prototype.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},n.prototype._clearIncremental=function(){var e=this._incremental;e&&e.clearDisplaybles()},n}(),bx=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return Tt(e,n),e.prototype.render=function(t,i,r){var o=t.getData();this._updateSymbolDraw(o,t).updateData(o,{clipShape:this._getClipShape(t)}),this._finished=!0},e.prototype.incrementalPrepareRender=function(t,i,r){var o=t.getData();this._updateSymbolDraw(o,t).incrementalPrepareUpdate(o),this._finished=!1},e.prototype.incrementalRender=function(t,i,r){this._symbolDraw.incrementalUpdate(t,i.getData(),{clipShape:this._getClipShape(i)}),this._finished=t.end===i.getData().count()},e.prototype.updateTransform=function(t,i,r){var o=t.getData();if(this.group.dirty(),!this._finished||o.count()>1e4||!this._symbolDraw.isPersistent())return{update:!0};var s=vc("").reset(t,i,r);s.progress&&s.progress({start:0,end:o.count(),count:o.count()},o),this._symbolDraw.updateLayout(o)},e.prototype._getClipShape=function(t){var i=t.coordinateSystem,r=i&&i.getArea&&i.getArea();return t.get("clip",!0)?r:null},e.prototype._updateSymbolDraw=function(t,i){var r=this._symbolDraw,o=i.pipelineContext.large;return r&&o===this._isLargeDraw||(r&&r.remove(),r=this._symbolDraw=o?new nw:new ep,this._isLargeDraw=o,this.group.removeAll()),this.group.add(r.group),r},e.prototype.remove=function(t,i){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},e.prototype.dispose=function(){},e.type="scatter",e}(Rr),_x=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return Tt(e,n),e.type="grid",e.dependencies=["xAxis","yAxis"],e.layoutMode="box",e.defaultOption={show:!1,zlevel:0,z:0,left:"10%",top:60,right:"10%",bottom:70,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},e}(rr),Uh=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return Tt(e,n),e.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",Mo).models[0]},e.type="cartesian2dAxis",e}(rr);on(Uh,Ud);var Sx={show:!0,zlevel:0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#6E7079",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#E0E6F1"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}},KA=Xt({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},Sx),Tg=Xt({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#F4F7FD",width:1}}},Sx),iw={category:KA,value:Tg,time:Xt({scale:!0,splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},Tg),log:se({scale:!0,logBase:10},Tg)},QA={value:1,category:1,time:1,log:1};function $h(n,e,t,i){mt(QA,function(r,o){var s=Xt(Xt({},iw[o],!0),i,!0),l=function(u){function f(){var p=null!==u&&u.apply(this,arguments)||this;return p.type=e+"Axis."+o,p}return Tt(f,u),f.prototype.mergeDefaultAndTheme=function(p,m){var b=_m(this),w=b?Af(p):{};Xt(p,m.getTheme().get(o+"Axis")),Xt(p,this.getDefaultOption()),p.type=Ev(p),b&&Ou(p,w,b)},f.prototype.optionUpdated=function(){"category"===this.option.type&&(this.__ordinalMeta=Yd.createByAxisModel(this))},f.prototype.getCategories=function(p){var m=this.option;if("category"===m.type)return p?m.data:this.__ordinalMeta.categories},f.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},f.type=e+"Axis."+o,f.defaultOption=s,f}(t);n.registerComponentModel(l)}),n.registerSubTypeDefaulter(e+"Axis",Ev)}function Ev(n){return n.type||(n.data?"category":"value")}var rw=function(){function n(e){this.type="cartesian",this._dimList=[],this._axes={},this.name=e||""}return n.prototype.getAxis=function(e){return this._axes[e]},n.prototype.getAxes=function(){return zt(this._dimList,function(e){return this._axes[e]},this)},n.prototype.getAxesByScale=function(e){return e=e.toLowerCase(),Ae(this.getAxes(),function(t){return t.scale.type===e})},n.prototype.addAxis=function(e){var t=e.dim;this._axes[t]=e,this._dimList.push(t)},n}(),ow=["x","y"];function aw(n){return"interval"===n.type||"time"===n.type}var hk=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="cartesian2d",t.dimensions=ow,t}return Tt(e,n),e.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var t=this.getAxis("x").scale,i=this.getAxis("y").scale;if(aw(t)&&aw(i)){var r=t.getExtent(),o=i.getExtent(),s=this.dataToPoint([r[0],o[0]]),l=this.dataToPoint([r[1],o[1]]),u=r[1]-r[0],f=o[1]-o[0];if(u&&f){var p=(l[0]-s[0])/u,m=(l[1]-s[1])/f,k=this._transform=[p,0,0,m,s[0]-r[0]*p,s[1]-o[0]*m];this._invTransform=xa([],k)}}},e.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},e.prototype.containPoint=function(t){var i=this.getAxis("x"),r=this.getAxis("y");return i.contain(i.toLocalCoord(t[0]))&&r.contain(r.toLocalCoord(t[1]))},e.prototype.containData=function(t){return this.getAxis("x").containData(t[0])&&this.getAxis("y").containData(t[1])},e.prototype.dataToPoint=function(t,i,r){r=r||[];var o=t[0],s=t[1];if(this._transform&&null!=o&&isFinite(o)&&null!=s&&isFinite(s))return Dr(r,t,this._transform);var l=this.getAxis("x"),u=this.getAxis("y");return r[0]=l.toGlobalCoord(l.dataToCoord(o,i)),r[1]=u.toGlobalCoord(u.dataToCoord(s,i)),r},e.prototype.clampData=function(t,i){var r=this.getAxis("x").scale,o=this.getAxis("y").scale,s=r.getExtent(),l=o.getExtent(),u=r.parse(t[0]),f=o.parse(t[1]);return(i=i||[])[0]=Math.min(Math.max(Math.min(s[0],s[1]),u),Math.max(s[0],s[1])),i[1]=Math.min(Math.max(Math.min(l[0],l[1]),f),Math.max(l[0],l[1])),i},e.prototype.pointToData=function(t,i){var r=[];if(this._invTransform)return Dr(r,t,this._invTransform);var o=this.getAxis("x"),s=this.getAxis("y");return r[0]=o.coordToData(o.toLocalCoord(t[0]),i),r[1]=s.coordToData(s.toLocalCoord(t[1]),i),r},e.prototype.getOtherAxis=function(t){return this.getAxis("x"===t.dim?"y":"x")},e.prototype.getArea=function(){var t=this.getAxis("x").getGlobalExtent(),i=this.getAxis("y").getGlobalExtent(),r=Math.min(t[0],t[1]),o=Math.min(i[0],i[1]),s=Math.max(t[0],t[1])-r,l=Math.max(i[0],i[1])-o;return new Xi(r,o,s,l)},e}(rw),a=function(n){function e(t,i,r,o,s){var l=n.call(this,t,i,r)||this;return l.index=0,l.type=o||"value",l.position=s||"bottom",l}return Tt(e,n),e.prototype.isHorizontal=function(){var t=this.position;return"top"===t||"bottom"===t},e.prototype.getGlobalExtent=function(t){var i=this.getExtent();return i[0]=this.toGlobalCoord(i[0]),i[1]=this.toGlobalCoord(i[1]),t&&i[0]>i[1]&&i.reverse(),i},e.prototype.pointToData=function(t,i){return this.coordToData(this.toLocalCoord(t["x"===this.dim?0:1]),i)},e.prototype.setCategorySortInfo=function(t){if("category"!==this.type)return!1;this.model.option.categorySortInfo=t,this.scale.setSortInfo(t)},e}(lu);function d(n,e,t){t=t||{};var i=n.coordinateSystem,r=e.axis,o={},s=r.getAxesOnZeroOf()[0],l=r.position,u=s?"onZero":l,f=r.dim,p=i.getRect(),m=[p.x,p.x+p.width,p.y,p.y+p.height],b={left:0,right:1,top:0,bottom:1,onZero:2},w=e.get("offset")||0,k="x"===f?[m[2]-w,m[3]+w]:[m[0]-w,m[1]+w];if(s){var M=s.toGlobalCoord(s.dataToCoord(0));k[b.onZero]=Math.max(Math.min(M,k[1]),k[0])}o.position=["y"===f?k[b[u]]:m[0],"x"===f?k[b[u]]:m[3]],o.rotation=Math.PI/2*("x"===f?0:1),o.labelDirection=o.tickDirection=o.nameDirection={top:-1,bottom:1,left:-1,right:1}[l],o.labelOffset=s?k[b[l]]-k[b.onZero]:0,e.get(["axisTick","inside"])&&(o.tickDirection=-o.tickDirection),On(t.labelInside,e.get(["axisLabel","inside"]))&&(o.labelDirection=-o.labelDirection);var I=e.get(["axisLabel","rotate"]);return o.labelRotate="top"===u?-I:I,o.z2=1,o}function g(n){return"cartesian2d"===n.get("coordinateSystem")}function x(n){var e={xAxisModel:null,yAxisModel:null};return mt(e,function(t,i){var r=i.replace(/Model$/,""),o=n.getReferringComponents(r,Mo).models[0];e[i]=o}),e}var C=function(){function n(e,t,i){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=ow,this._initCartesian(e,t,i),this.model=e}return n.prototype.getRect=function(){return this._rect},n.prototype.update=function(e,t){var i=this._axesMap;this._updateScale(e,this.model),mt(i.x,function(o){eh(o.scale,o.model)}),mt(i.y,function(o){eh(o.scale,o.model)});var r={};mt(i.x,function(o){N(i,"y",o,r)}),mt(i.y,function(o){N(i,"x",o,r)}),this.resize(this.model,t)},n.prototype.resize=function(e,t,i){var r=e.getBoxLayoutParams(),o=!i&&e.get("containLabel"),s=Ca(r,{width:t.getWidth(),height:t.getHeight()});this._rect=s;var l=this._axesList;function u(){mt(l,function(f){var w,k,M,I,p=f.isHorizontal(),m=p?[0,s.width]:[0,s.height],b=f.inverse?1:0;f.setExtent(m[b],m[1-b]),k=p?s.x:s.y,M=(w=f).getExtent(),I=M[0]+M[1],w.toGlobalCoord="x"===w.dim?function(O){return O+k}:function(O){return I-O+k},w.toLocalCoord="x"===w.dim?function(O){return O-k}:function(O){return I-O+k}})}u(),o&&(mt(l,function(f){if(!f.model.get(["axisLabel","inside"])){var p=function(w){var M=w.scale;if(w.model.get(["axisLabel","show"])&&!M.isBlank()){var I,O,B=M.getExtent();O=M instanceof fg?M.count():(I=M.getTicks()).length;var H,X=w.getLabelModel(),U=yg(w),$=1;O>40&&($=Math.ceil(O/40));for(var et=0;et<O;et+=$){var at=U(I?I[et]:{value:B[0]+et},et),At=_C(X.getTextRect(at),X.get("rotate")||0);H?H.union(At):H=At}return H}}(f);if(p){var m=f.isHorizontal()?"height":"width",b=f.model.get(["axisLabel","margin"]);s[m]-=p[m]+b,"top"===f.position?s.y+=p.height+b:"left"===f.position&&(s.x+=p.width+b)}}}),u()),mt(this._coordsList,function(f){f.calcAffineTransform()})},n.prototype.getAxis=function(e,t){var i=this._axesMap[e];if(null!=i)return i[t||0]},n.prototype.getAxes=function(){return this._axesList.slice()},n.prototype.getCartesian=function(e,t){if(null!=e&&null!=t)return this._coordsMap["x"+e+"y"+t];$e(e)&&(t=e.yAxisIndex,e=e.xAxisIndex);for(var r=0,o=this._coordsList;r<o.length;r++)if(o[r].getAxis("x").index===e||o[r].getAxis("y").index===t)return o[r]},n.prototype.getCartesians=function(){return this._coordsList.slice()},n.prototype.convertToPixel=function(e,t,i){var r=this._findConvertTarget(t);return r.cartesian?r.cartesian.dataToPoint(i):r.axis?r.axis.toGlobalCoord(r.axis.dataToCoord(i)):null},n.prototype.convertFromPixel=function(e,t,i){var r=this._findConvertTarget(t);return r.cartesian?r.cartesian.pointToData(i):r.axis?r.axis.coordToData(r.axis.toLocalCoord(i)):null},n.prototype._findConvertTarget=function(e){var t,i,r=e.seriesModel,o=e.xAxisModel||r&&r.getReferringComponents("xAxis",Mo).models[0],s=e.yAxisModel||r&&r.getReferringComponents("yAxis",Mo).models[0],l=e.gridModel;return r?Ne(this._coordsList,t=r.coordinateSystem)<0&&(t=null):o&&s?t=this.getCartesian(o.componentIndex,s.componentIndex):o?i=this.getAxis("x",o.componentIndex):s?i=this.getAxis("y",s.componentIndex):l&&l.coordinateSystem===this&&(t=this._coordsList[0]),{cartesian:t,axis:i}},n.prototype.containPoint=function(e){var t=this._coordsList[0];if(t)return t.containPoint(e)},n.prototype._initCartesian=function(e,t,i){var r=this,o=this,s={left:!1,right:!1,top:!1,bottom:!1},l={x:{},y:{}},u={x:0,y:0};if(t.eachComponent("xAxis",f("x"),this),t.eachComponent("yAxis",f("y"),this),!u.x||!u.y)return this._axesMap={},void(this._axesList=[]);function f(p){return function(m,b){if(L(m,e)){var w=m.get("position");"x"===p?"top"!==w&&"bottom"!==w&&(w=s.bottom?"top":"bottom"):"left"!==w&&"right"!==w&&(w=s.left?"right":"left"),s[w]=!0;var k=new a(p,vg(m),[0,0],m.get("type"),w);k.onBand="category"===k.type&&m.get("boundaryGap"),k.inverse=m.get("inverse"),m.axis=k,k.model=m,k.grid=o,k.index=b,o._axesList.push(k),l[p][b]=k,u[p]++}}}this._axesMap=l,mt(l.x,function(p,m){mt(l.y,function(b,w){var k="x"+m+"y"+w,M=new hk(k);M.master=r,M.model=e,r._coordsMap[k]=M,r._coordsList.push(M),M.addAxis(p),M.addAxis(b)})})},n.prototype._updateScale=function(e,t){function i(r,o){mt(hv(r,o.dim),function(s){o.scale.unionExtentFromData(r,s)})}mt(this._axesList,function(r){if(r.scale.setExtent(1/0,-1/0),"category"===r.type){var o=r.model.get("categorySortInfo");r.scale.setSortInfo(o)}}),e.eachSeries(function(r){if(g(r)){var o=x(r),s=o.xAxisModel,l=o.yAxisModel;if(!L(s,t)||!L(l,t))return;var u=this.getCartesian(s.componentIndex,l.componentIndex),f=r.getData(),p=u.getAxis("x"),m=u.getAxis("y");"list"===f.type&&(i(f,p),i(f,m))}},this)},n.prototype.getTooltipAxes=function(e){var t=[],i=[];return mt(this.getCartesians(),function(r){var o=null!=e&&"auto"!==e?r.getAxis(e):r.getBaseAxis(),s=r.getOtherAxis(o);Ne(t,o)<0&&t.push(o),Ne(i,s)<0&&i.push(s)}),{baseAxes:t,otherAxes:i}},n.create=function(e,t){var i=[];return e.eachComponent("grid",function(r,o){var s=new n(r,e,t);s.name="grid_"+o,s.resize(r,t,!0),r.coordinateSystem=s,i.push(s)}),e.eachSeries(function(r){if(g(r)){var o=x(r),s=o.xAxisModel,l=o.yAxisModel,u=s.getCoordSysModel();r.coordinateSystem=u.coordinateSystem.getCartesian(s.componentIndex,l.componentIndex)}}),i},n.dimensions=ow,n}();function L(n,e){return n.getCoordSysModel()===e}function N(n,e,t,i){t.getAxesOnZeroOf=function(){return r?[r]:[]};var r,o=n[e],s=t.model,l=s.get(["axisLine","onZero"]),u=s.get(["axisLine","onZeroAxisIndex"]);if(l){if(null!=u)z(o[u])&&(r=o[u]);else for(var f in o)if(o.hasOwnProperty(f)&&z(o[f])&&!i[p(o[f])]){r=o[f];break}r&&(i[p(r)]=!0)}function p(m){return m.dim+"_"+m.index}}function z(n){return n&&"category"!==n.type&&"time"!==n.type&&function(e){var t=e.scale.getExtent(),i=t[0],r=t[1];return!(i>0&&r>0||i<0&&r<0)}(n)}var q=Math.PI,Y=function(){function n(e,t){this.group=new bt,this.opt=t,this.axisModel=e,se(t,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0,handleAutoShown:function(){return!0}});var i=new bt({x:t.position[0],y:t.position[1],rotation:t.rotation});i.updateTransform(),this._transformGroup=i}return n.prototype.hasBuilder=function(e){return!!Q[e]},n.prototype.add=function(e){Q[e](this.opt,this.axisModel,this.group,this._transformGroup)},n.prototype.getGroup=function(){return this.group},n.innerTextLayout=function(e,t,i){var r,o,s=hr(t-e);return gr(s)?(o=i>0?"top":"bottom",r="center"):gr(s-q)?(o=i>0?"bottom":"top",r="center"):(o="middle",r=s>0&&s<q?i>0?"right":"left":i>0?"left":"right"),{rotation:s,textAlign:r,textVerticalAlign:o}},n.makeAxisEventDataBase=function(e){var t={componentType:e.mainType,componentIndex:e.componentIndex};return t[e.mainType+"Index"]=e.componentIndex,t},n.isLabelSilent=function(e){var t=e.get("tooltip");return e.get("silent")||!(e.get("triggerEvent")||t&&t.show)},n}(),Q={axisLine:function(n,e,t,i){var r=e.get(["axisLine","show"]);if("auto"===r&&n.handleAutoShown&&(r=n.handleAutoShown("axisLine")),r){var o=e.axis.getExtent(),s=i.transform,l=[o[0],0],u=[o[1],0];s&&(Dr(l,l,s),Dr(u,u,s));var f=Dt({lineCap:"round"},e.getModel(["axisLine","lineStyle"]).getLineStyle()),p=new wa({subPixelOptimize:!0,shape:{x1:l[0],y1:l[1],x2:u[0],y2:u[1]},style:f,strokeContainThreshold:n.strokeContainThreshold||5,silent:!0,z2:1});p.anid="line",t.add(p);var m=e.get(["axisLine","symbol"]);if(null!=m){var b=e.get(["axisLine","symbolSize"]);"string"==typeof m&&(m=[m,m]),"string"!=typeof b&&"number"!=typeof b||(b=[b,b]);var w=eg(e.get(["axisLine","symbolOffset"])||0,b),k=b[0],M=b[1];mt([{rotate:n.rotation+Math.PI/2,offset:w[0],r:0},{rotate:n.rotation-Math.PI/2,offset:w[1],r:Math.sqrt((l[0]-u[0])*(l[0]-u[0])+(l[1]-u[1])*(l[1]-u[1]))}],function(I,O){if("none"!==m[O]&&null!=m[O]){var B=oa(m[O],-k/2,-M/2,k,M,f.stroke,!0),H=I.r+I.offset;B.attr({rotation:I.rotate,x:l[0]+H*Math.cos(n.rotation),y:l[1]-H*Math.sin(n.rotation),silent:!0,z2:11}),t.add(B)}})}}},axisTickLabel:function(n,e,t,i){var r=function(s,l,u,f){var p=u.axis,m=u.getModel("axisTick"),b=m.get("show");if("auto"===b&&f.handleAutoShown&&(b=f.handleAutoShown("axisTick")),b&&!p.scale.isBlank()){for(var w=m.getModel("lineStyle"),k=f.tickDirection*m.get("length"),M=Ct(p.getTicksCoords(),l.transform,k,se(w.getLineStyle(),{stroke:u.get(["axisLine","lineStyle","color"])}),"ticks"),I=0;I<M.length;I++)s.add(M[I]);return M}}(t,i,e,n),o=function(s,l,u,f){var p=u.axis;if(On(f.axisLabelShow,u.get(["axisLabel","show"]))&&!p.scale.isBlank()){var m=u.getModel("axisLabel"),b=m.get("margin"),w=p.getViewLabels(),k=(On(f.labelRotate,m.get("rotate"))||0)*q/180,M=Y.innerTextLayout(f.rotation,k,f.labelDirection),I=u.getCategories&&u.getCategories(!0),O=[],B=Y.isLabelSilent(u),H=u.get("triggerEvent");return mt(w,function(X,U){var $="ordinal"===p.scale.type?p.scale.getRawOrdinalNumber(X.tickValue):X.tickValue,et=X.formattedLabel,at=X.rawLabel,At=m;if(I&&I[$]){var Mt=I[$];$e(Mt)&&Mt.textStyle&&(At=new Er(Mt.textStyle,m,u.ecModel))}var Lt=At.getTextColor()||u.get(["axisLine","lineStyle","color"]),Gt=p.dataToCoord($),ne=new dr({x:Gt,y:f.labelOffset+f.labelDirection*b,rotation:M.rotation,silent:B,z2:10+(X.level||0),style:Zo(At,{text:et,align:At.getShallow("align",!0)||M.textAlign,verticalAlign:At.getShallow("verticalAlign",!0)||At.getShallow("baseline",!0)||M.textVerticalAlign,fill:"function"==typeof Lt?Lt("category"===p.type?at:"value"===p.type?$+"":$,U):Lt})});if(ne.anid="label_"+$,H){var re=Y.makeAxisEventDataBase(u);re.targetType="axisLabel",re.value=at,Fi(ne).eventData=re}l.add(ne),ne.updateTransform(),O.push(ne),s.add(ne),ne.decomposeTransform()}),O}}(t,i,e,n);(function(s,l,u){if(!p_(s.axis)){var f=s.get(["axisLabel","showMinLabel"]),p=s.get(["axisLabel","showMaxLabel"]),m=(l=l||[])[0],b=l[1],w=l[l.length-1],k=l[l.length-2],M=(u=u||[])[0],I=u[1],O=u[u.length-1],B=u[u.length-2];!1===f?(Z(m),Z(M)):rt(m,b)&&(f?(Z(b),Z(I)):(Z(m),Z(M))),!1===p?(Z(w),Z(O)):rt(k,w)&&(p?(Z(k),Z(B)):(Z(w),Z(O)))}})(e,o,r),function(s,l,u,f){var p=u.axis,m=u.getModel("minorTick");if(m.get("show")&&!p.scale.isBlank()){var b=p.getMinorTicksCoords();if(b.length)for(var w=m.getModel("lineStyle"),k=f*m.get("length"),M=se(w.getLineStyle(),se(u.getModel("axisTick").getLineStyle(),{stroke:u.get(["axisLine","lineStyle","color"])})),I=0;I<b.length;I++)for(var O=Ct(b[I],l.transform,k,M,"minorticks_"+I),B=0;B<O.length;B++)s.add(O[B])}}(t,i,e,n.tickDirection),e.get(["axisLabel","hideOverlap"])&&zC(BC(zt(o,function(s){return{label:s,priority:s.z2,defaultAttr:{ignore:s.ignore}}})))},axisName:function(n,e,t,i){var $,at,At,Mt,Lt,Gt,ne,r=On(n.axisName,e.get("name"));if(r){var o,s,l=e.get("nameLocation"),u=n.nameDirection,f=e.getModel("nameTextStyle"),p=e.get("nameGap")||0,m=e.axis.getExtent(),b=m[0]>m[1]?-1:1,w=["start"===l?m[0]-b*p:"end"===l?m[1]+b*p:(m[0]+m[1])/2,pt(l)?n.labelOffset+u*p:0],k=e.get("nameRotate");null!=k&&(k=k*q/180),pt(l)?o=Y.innerTextLayout(n.rotation,null!=k?k:n.rotation,u):($=l,at=m,Lt=hr((k||0)-n.rotation),Gt=at[0]>at[1],ne="start"===$&&!Gt||"start"!==$&&Gt,gr(Lt-q/2)?(Mt=ne?"bottom":"top",At="center"):gr(Lt-1.5*q)?(Mt=ne?"top":"bottom",At="center"):(Mt="middle",At=Lt<1.5*q&&Lt>q/2?ne?"left":"right":ne?"right":"left"),o={rotation:Lt,textAlign:At,textVerticalAlign:Mt},null!=(s=n.axisNameAvailableWidth)&&(s=Math.abs(s/Math.sin(o.rotation)),!isFinite(s)&&(s=null)));var M=f.getFont(),I=e.get("nameTruncate",!0)||{},O=I.ellipsis,B=On(n.nameTruncateMaxWidth,I.maxWidth,s),H=new dr({x:w[0],y:w[1],rotation:o.rotation,silent:Y.isLabelSilent(e),style:Zo(f,{text:r,font:M,overflow:"truncate",width:B,ellipsis:O,fill:f.getTextColor()||e.get(["axisLine","lineStyle","color"]),align:f.get("align")||o.textAlign,verticalAlign:f.get("verticalAlign")||o.textVerticalAlign}),z2:1});if(bf({el:H,componentModel:e,itemName:r}),H.__fullText=r,H.anid="name",e.get("triggerEvent")){var X=Y.makeAxisEventDataBase(e);X.targetType="axisName",X.name=r,Fi(H).eventData=X}i.add(H),H.updateTransform(),t.add(H),H.decomposeTransform()}}};function Z(n){n&&(n.ignore=!0)}function rt(n,e){var t=n&&n.getBoundingRect().clone(),i=e&&e.getBoundingRect().clone();if(t&&i){var r=ri([]);return Vr(r,r,-n.rotation),t.applyTransform(za([],r,n.getLocalTransform())),i.applyTransform(za([],r,e.getLocalTransform())),t.intersect(i)}}function pt(n){return"middle"===n||"center"===n}function Ct(n,e,t,i,r){for(var o=[],s=[],l=[],u=0;u<n.length;u++){var f=n[u].coord;s[0]=f,s[1]=0,l[0]=f,l[1]=t,e&&(Dr(s,s,e),Dr(l,l,e));var p=new wa({subPixelOptimize:!0,shape:{x1:s[0],y1:s[1],x2:l[0],y2:l[1]},style:i,z2:2,autoBatch:!0,silent:!0});p.anid=r+"_"+n[u].tickValue,o.push(p)}return o}function kt(n,e){return"all"===n||Jt(n)&&Ne(n,e)>=0||n===e}function Ot(n){var e=jt(n);if(e){var t=e.axisPointerModel,i=e.axis.scale,r=t.option,o=t.get("status"),s=t.get("value");null!=s&&(s=i.parse(s));var l=Qt(t);null==o&&(r.status=l?"show":"hide");var u=i.getExtent().slice();u[0]>u[1]&&u.reverse(),(null==s||s>u[1])&&(s=u[1]),s<u[0]&&(s=u[0]),r.value=s,l&&(r.status=e.axis.scale.isBlank()?"hide":"show")}}function jt(n){var e=(n.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return e&&e.axesInfo[Se(n)]}function Qt(n){return!!n.get(["handle","show"])}function Se(n){return n.type+"||"+n.id}var Be={},te=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return Tt(e,n),e.prototype.render=function(t,i,r,o){this.axisPointerClass&&Ot(t),n.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(t,r,!0)},e.prototype.updateAxisPointer=function(t,i,r,o){this._doUpdateAxisPointerClass(t,r,!1)},e.prototype.remove=function(t,i){var r=this._axisPointer;r&&r.remove(i)},e.prototype.dispose=function(t,i){this._disposeAxisPointer(i),n.prototype.dispose.apply(this,arguments)},e.prototype._doUpdateAxisPointerClass=function(t,i,r){var u,o=e.getAxisPointerClass(this.axisPointerClass);if(o){var s=(u=jt(t))&&u.axisPointerModel;s?(this._axisPointer||(this._axisPointer=new o)).render(t,s,i,r):this._disposeAxisPointer(i)}},e.prototype._disposeAxisPointer=function(t){this._axisPointer&&this._axisPointer.dispose(t),this._axisPointer=null},e.registerAxisPointerClass=function(t,i){Be[t]=i},e.getAxisPointerClass=function(t){return t&&Be[t]},e.type="axis",e}(co),pe=ar();function ke(n,e,t,i){var r=t.axis;if(!r.scale.isBlank()){var o=t.getModel("splitArea"),s=o.getModel("areaStyle"),l=s.get("color"),u=i.coordinateSystem.getRect(),f=r.getTicksCoords({tickModel:o,clamp:!0});if(f.length){var p=l.length,m=pe(n).splitAreaColors,b=ii(),w=0;if(m)for(var k=0;k<f.length;k++){var M=m.get(f[k].tickValue);if(null!=M){w=(M+(p-1)*k)%p;break}}var I=r.toGlobalCoord(f[0].coord),O=s.getAreaStyle();for(l=Jt(l)?l:[l],k=1;k<f.length;k++){var B=r.toGlobalCoord(f[k].coord),H=void 0,X=void 0,U=void 0,$=void 0;r.isHorizontal()?(X=u.y,$=u.height,I=(H=I)+(U=B-H)):(H=u.x,U=u.width,I=(X=I)+($=B-X));var et=f[k-1].tickValue;null!=et&&b.set(et,w),e.add(new vr({anid:null!=et?"area_"+et:null,shape:{x:H,y:X,width:U,height:$},style:se({fill:l[w]},O),autoBatch:!0,silent:!0})),w=(w+1)%p}pe(n).splitAreaColors=b}}}function Ge(n){pe(n).splitAreaColors=null}var nn=["axisLine","axisTickLabel","axisName"],ln=["splitArea","splitLine","minorSplitLine"],Ve=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t.axisPointerClass="CartesianAxisPointer",t}return Tt(e,n),e.prototype.render=function(t,i,r,o){this.group.removeAll();var s=this._axisGroup;if(this._axisGroup=new bt,this.group.add(this._axisGroup),t.get("show")){var l=t.getCoordSysModel(),u=d(l,t),f=new Y(t,Dt({handleAutoShown:function(p){for(var m=l.coordinateSystem.getCartesians(),b=0;b<m.length;b++){var w=m[b].getOtherAxis(t.axis).type;if("value"===w||"log"===w)return!0}return!1}},u));mt(nn,f.add,f),this._axisGroup.add(f.getGroup()),mt(ln,function(p){t.get([p,"show"])&&qe[p](this,this._axisGroup,t,l)},this),o&&"changeAxisOrder"===o.type&&o.isInitSort||Md(s,this._axisGroup,t),n.prototype.render.call(this,t,i,r,o)}},e.prototype.remove=function(){Ge(this)},e.type="cartesianAxis",e}(te),qe={splitLine:function(n,e,t,i){var r=t.axis;if(!r.scale.isBlank()){var o=t.getModel("splitLine"),s=o.getModel("lineStyle"),l=s.get("color");l=Jt(l)?l:[l];for(var u=i.coordinateSystem.getRect(),f=r.isHorizontal(),p=0,m=r.getTicksCoords({tickModel:o}),b=[],w=[],k=s.getLineStyle(),M=0;M<m.length;M++){var I=r.toGlobalCoord(m[M].coord);f?(b[0]=I,b[1]=u.y,w[0]=I,w[1]=u.y+u.height):(b[0]=u.x,b[1]=I,w[0]=u.x+u.width,w[1]=I);var O=p++%l.length;e.add(new wa({anid:null!=m[M].tickValue?"line_"+m[M].tickValue:null,subPixelOptimize:!0,autoBatch:!0,shape:{x1:b[0],y1:b[1],x2:w[0],y2:w[1]},style:se({stroke:l[O]},k),silent:!0}))}}},minorSplitLine:function(n,e,t,i){var r=t.axis,o=t.getModel("minorSplitLine").getModel("lineStyle"),s=i.coordinateSystem.getRect(),l=r.isHorizontal(),u=r.getMinorTicksCoords();if(u.length)for(var f=[],p=[],m=o.getLineStyle(),b=0;b<u.length;b++)for(var w=0;w<u[b].length;w++){var k=r.toGlobalCoord(u[b][w].coord);l?(f[0]=k,f[1]=s.y,p[0]=k,p[1]=s.y+s.height):(f[0]=s.x,f[1]=k,p[0]=s.x+s.width,p[1]=k),e.add(new wa({anid:"minor_line_"+u[b][w].tickValue,subPixelOptimize:!0,autoBatch:!0,shape:{x1:f[0],y1:f[1],x2:p[0],y2:p[1]},style:m,silent:!0}))}},splitArea:function(n,e,t,i){ke(n,e,t,i)}},je=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return Tt(e,n),e.type="xAxis",e}(Ve),Ze=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=je.type,t}return Tt(e,n),e.type="yAxis",e}(Ve),pn=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="grid",t}return Tt(e,n),e.prototype.render=function(t,i){this.group.removeAll(),t.get("show")&&this.group.add(new vr({shape:t.coordinateSystem.getRect(),style:se({fill:t.get("backgroundColor")},t.getItemStyle()),silent:!0,z2:-1}))},e.type="grid",e}(co),Pn={offset:0};function Vn(n){n.registerComponentView(pn),n.registerComponentModel(_x),n.registerCoordinateSystem("cartesian2d",C),$h(n,"x",Uh,Pn),$h(n,"y",Uh,Pn),n.registerComponentView(je),n.registerComponentView(Ze),n.registerPreprocessor(function(e){e.xAxis&&e.yAxis&&!e.grid&&(e.grid={})})}function xn(n){n.eachSeriesByType("radar",function(e){var t=e.getData(),i=[],r=e.coordinateSystem;if(r){var o=r.getIndicatorAxes();mt(o,function(s,l){t.each(t.mapDimension(o[l].dim),function(u,f){i[f]=i[f]||[];var p=r.dataToPoint(u,l);i[f][l]=bn(p)?p:qn(r)})}),t.each(function(s){var l=ze(i[s],function(u){return bn(u)})||qn(r);i[s].push(l.slice()),t.setItemLayout(s,i[s])})}})}function bn(n){return!isNaN(n[0])&&!isNaN(n[1])}function qn(n){return[n.cx,n.cy]}function $n(n){var e=n.polar;if(e){Jt(e)||(e=[e]);var t=[];mt(e,function(i,r){i.indicator?(i.type&&!i.shape&&(i.shape=i.type),n.radar=n.radar||[],Jt(n.radar)||(n.radar=[n.radar]),n.radar.push(i)):t.push(i)}),n.polar=t}mt(n.series,function(i){i&&"radar"===i.type&&i.polarIndex&&(i.radarIndex=i.polarIndex)})}var Nn=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return Tt(e,n),e.prototype.render=function(t,i,r){var o=t.coordinateSystem,s=this.group,l=t.getData(),u=this._data;function f(b,w){var k=b.getItemVisual(w,"symbol")||"circle";if("none"!==k){var M=tg(b.getItemVisual(w,"symbolSize")),I=oa(k,-1,-1,2,2),O=b.getItemVisual(w,"symbolRotate")||0;return I.attr({style:{strokeNoScale:!0},z2:100,scaleX:M[0]/2,scaleY:M[1]/2,rotation:O*Math.PI/180||0}),I}}function p(b,w,k,M,I,O){k.removeAll();for(var B=0;B<w.length-1;B++){var H=f(M,I);H&&(H.__dimIdx=B,b[B]?(H.setPosition(b[B]),sm[O?"initProps":"updateProps"](H,{x:w[B][0],y:w[B][1]},t,I)):H.setPosition(w[B]),k.add(H))}}function m(b){return zt(b,function(w){return[o.cx,o.cy]})}l.diff(u).add(function(b){var w=l.getItemLayout(b);if(w){var k=new qa,M=new Fs,I={shape:{points:w}};k.shape.points=m(w),M.shape.points=m(w),ro(k,I,t,b),ro(M,I,t,b);var O=new bt,B=new bt;O.add(M),O.add(k),O.add(B),p(M.shape.points,w,B,l,b,!0),l.setItemGraphicEl(b,O)}}).update(function(b,w){var k=u.getItemGraphicEl(w),M=k.childAt(0),I=k.childAt(1),O=k.childAt(2),B={shape:{points:l.getItemLayout(b)}};B.shape.points&&(p(M.shape.points,B.shape.points,O,l,b,!1),Du(I),Du(M),xr(M,B,t),xr(I,B,t),l.setItemGraphicEl(b,k))}).remove(function(b){s.remove(u.getItemGraphicEl(b))}).execute(),l.eachItemGraphicEl(function(b,w){var k=l.getItemModel(w),M=b.childAt(0),I=b.childAt(1),O=b.childAt(2),B=l.getItemVisual(w,"style"),H=B.fill;s.add(b),M.useStyle(se(k.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:H})),ls(M,k,"lineStyle"),ls(I,k,"areaStyle");var X=k.getModel("areaStyle"),U=X.isEmpty()&&X.parentModel.isEmpty();I.ignore=U,mt(["emphasis","select","blur"],function(at){var At=k.getModel([at,"areaStyle"]),Mt=At.isEmpty()&&At.parentModel.isEmpty();I.ensureState(at).ignore=Mt&&U}),I.useStyle(se(X.getAreaStyle(),{fill:H,opacity:.7,decal:B.decal}));var $=k.getModel("emphasis"),et=$.getModel("itemStyle").getItemStyle();O.eachChild(function(at){if(at instanceof ga){var At=at.style;at.useStyle(Dt({image:At.image,x:At.x,y:At.y,width:At.width,height:At.height},B))}else at.useStyle(B),at.setColor(H),at.style.strokeNoScale=!0;at.ensureState("emphasis").style=Pt(et);var Mt=l.getStore().get(l.getDimensionIndex(at.__dimIdx),w);(null==Mt||isNaN(Mt))&&(Mt=""),xs(at,Sa(k),{labelFetcher:l.hostModel,labelDataIndex:w,labelDimIndex:at.__dimIdx,defaultText:Mt,inheritColor:H,defaultOpacity:B.opacity})}),to(b,$.get("focus"),$.get("blurScope"))}),this._data=l},e.prototype.remove=function(){this.group.removeAll(),this._data=null},e.type="radar",e}(Rr),pi=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t.hasSymbolVisual=!0,t}return Tt(e,n),e.prototype.init=function(t){n.prototype.init.apply(this,arguments),this.legendVisualProvider=new Iv(_e(this.getData,this),_e(this.getRawData,this))},e.prototype.getInitialData=function(t,i){return Mg(this,{generateCoord:"indicator_",generateCoordCount:1/0})},e.prototype.formatTooltip=function(t,i,r){var o=this.getData(),s=this.coordinateSystem.getIndicatorAxes(),l=this.getData().getName(t),u=""===l?this.name:l,f=l1(this,t);return Za("section",{header:u,sortBlocks:!0,blocks:zt(s,function(p){var m=o.get(o.mapDimension(p.dim),t);return Za("nameValue",{markerType:"subItem",markerColor:f,name:p.name,value:m,sortParam:m})})})},e.prototype.getTooltipPosition=function(t){if(null!=t)for(var i=this.getData(),r=this.coordinateSystem,o=i.getValues(zt(r.dimensions,function(f){return i.mapDimension(f)}),t),s=0,l=o.length;s<l;s++)if(!isNaN(o[s])){var u=r.getIndicatorAxes();return r.coordToPoint(u[s].dataToCoord(o[s]),s)}},e.type="series.radar",e.dependencies=["radar"],e.defaultOption={zlevel:0,z:2,colorBy:"data",coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:"solid",join:"round"},label:{position:"top"},symbolSize:8},e}(Gr),Cn=iw.value;function Gn(n,e){return se({show:e},n)}var Rn=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return Tt(e,n),e.prototype.optionUpdated=function(){var t=this.get("boundaryGap"),i=this.get("splitNumber"),r=this.get("scale"),o=this.get("axisLine"),s=this.get("axisTick"),l=this.get("axisLabel"),u=this.get("axisName"),f=this.get(["axisName","show"]),p=this.get(["axisName","formatter"]),m=this.get("axisNameGap"),b=this.get("triggerEvent"),w=zt(this.get("indicator")||[],function(k){null!=k.max&&k.max>0&&!k.min?k.min=0:null!=k.min&&k.min<0&&!k.max&&(k.max=0);var M=u;null!=k.color&&(M=se({color:k.color},u));var I=Xt(Pt(k),{boundaryGap:t,splitNumber:i,scale:r,axisLine:o,axisTick:s,axisLabel:l,name:k.text,nameLocation:"end",nameGap:m,nameTextStyle:M,triggerEvent:b},!1);if(f||(I.name=""),"string"==typeof p){var O=I.name;I.name=p.replace("{value}",null!=O?O:"")}else"function"==typeof p&&(I.name=p(I.name,I));var B=new Er(I,null,this.ecModel);return on(B,Ud.prototype),B.mainType="radar",B.componentIndex=this.componentIndex,B},this);this._indicatorModels=w},e.prototype.getIndicatorModels=function(){return this._indicatorModels},e.type="radar",e.defaultOption={zlevel:0,z:0,center:["50%","50%"],radius:"75%",startAngle:90,axisName:{show:!0},boundaryGap:[0,0],splitNumber:5,axisNameGap:15,scale:!1,shape:"polygon",axisLine:Xt({lineStyle:{color:"#bbb"}},Cn.axisLine),axisLabel:Gn(Cn.axisLabel,!1),axisTick:Gn(Cn.axisTick,!1),splitLine:Gn(Cn.splitLine,!0),splitArea:Gn(Cn.splitArea,!0),indicator:[]},e}(rr),Zn=["axisLine","axisTickLabel","axisName"],oi=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return Tt(e,n),e.prototype.render=function(t,i,r){this.group.removeAll(),this._buildAxes(t),this._buildSplitLineAndArea(t)},e.prototype._buildAxes=function(t){var i=t.coordinateSystem;mt(zt(i.getIndicatorAxes(),function(r){return new Y(r.model,{position:[i.cx,i.cy],rotation:r.angle,labelDirection:-1,tickDirection:-1,nameDirection:1})}),function(r){mt(Zn,r.add,r),this.group.add(r.getGroup())},this)},e.prototype._buildSplitLineAndArea=function(t){var i=t.coordinateSystem,r=i.getIndicatorAxes();if(r.length){var o=t.get("shape"),s=t.getModel("splitLine"),l=t.getModel("splitArea"),u=s.getModel("lineStyle"),f=l.getModel("areaStyle"),p=s.get("show"),m=l.get("show"),b=u.get("color"),w=f.get("color"),k=Jt(b)?b:[b],M=Jt(w)?w:[w],I=[],O=[];if("circle"===o)for(var B=r[0].getTicksCoords(),H=i.cx,X=i.cy,U=0;U<B.length;U++)p&&I[ne(I,k,U)].push(new eu({shape:{cx:H,cy:X,r:B[U].coord}})),m&&U<B.length-1&&O[ne(O,M,U)].push(new zs({shape:{cx:H,cy:X,r0:B[U].coord,r:B[U+1].coord}}));else{var $,et=zt(r,function(re,fe){var ye=re.getTicksCoords();return $=null==$?ye.length-1:Math.min(ye.length-1,$),zt(ye,function(Te){return i.coordToPoint(Te.coord,fe)})}),at=[];for(U=0;U<=$;U++){for(var At=[],Mt=0;Mt<r.length;Mt++)At.push(et[Mt][U]);At[0]&&At.push(At[0].slice()),p&&I[ne(I,k,U)].push(new Fs({shape:{points:At}})),m&&at&&O[ne(O,M,U-1)].push(new qa({shape:{points:At.concat(at)}})),at=At.slice().reverse()}}var Lt=u.getLineStyle(),Gt=f.getAreaStyle();mt(O,function(re,fe){this.group.add(hl(re,{style:se({stroke:"none",fill:M[fe%M.length]},Gt),silent:!0}))},this),mt(I,function(re,fe){this.group.add(hl(re,{style:se({fill:"none",stroke:k[fe%k.length]},Lt),silent:!0}))},this)}function ne(re,fe,ye){var Te=ye%fe.length;return re[Te]=re[Te]||[],Te}},e.type="radar",e}(co),yr=function(n){function e(t,i,r){var o=n.call(this,t,i,r)||this;return o.type="value",o.angle=0,o.name="",o}return Tt(e,n),e}(lu),Ce=function(){function n(e,t,i){this.dimensions=[],this._model=e,this._indicatorAxes=zt(e.getIndicatorModels(),function(r,o){var s="indicator_"+o,l=new yr(s,new Zf);return l.name=r.get("name"),l.model=r,r.axis=l,this.dimensions.push(s),l},this),this.resize(e,i)}return n.prototype.getIndicatorAxes=function(){return this._indicatorAxes},n.prototype.dataToPoint=function(e,t){return this.coordToPoint(this._indicatorAxes[t].dataToCoord(e),t)},n.prototype.coordToPoint=function(e,t){var i=this._indicatorAxes[t].angle;return[this.cx+e*Math.cos(i),this.cy-e*Math.sin(i)]},n.prototype.pointToData=function(e){var t=e[0]-this.cx,i=e[1]-this.cy,r=Math.sqrt(t*t+i*i);t/=r,i/=r;for(var o,s=Math.atan2(-i,t),l=1/0,u=-1,f=0;f<this._indicatorAxes.length;f++){var p=this._indicatorAxes[f],m=Math.abs(s-p.angle);m<l&&(o=p,u=f,l=m)}return[u,+(o&&o.coordToData(r))]},n.prototype.resize=function(e,t){var i=e.get("center"),r=t.getWidth(),o=t.getHeight(),s=Math.min(r,o)/2;this.cx=In(i[0],r),this.cy=In(i[1],o),this.startAngle=e.get("startAngle")*Math.PI/180;var l=e.get("radius");"string"!=typeof l&&"number"!=typeof l||(l=[0,l]),this.r0=In(l[0],s),this.r=In(l[1],s),mt(this._indicatorAxes,function(u,f){u.setExtent(this.r0,this.r);var p=this.startAngle+f*Math.PI*2/this._indicatorAxes.length;p=Math.atan2(Math.sin(p),Math.cos(p)),u.angle=p},this)},n.prototype.update=function(e,t){var i=this._indicatorAxes,r=this._model;mt(i,function(l){l.scale.setExtent(1/0,-1/0)}),e.eachSeriesByType("radar",function(l,u){if("radar"===l.get("coordinateSystem")&&e.getComponent("radar",l.get("radarIndex"))===r){var f=l.getData();mt(i,function(p){p.scale.unionExtentFromData(f,f.mapDimension(p.dim))})}},this);var o=r.get("splitNumber");function s(l){var u=Math.pow(10,Math.floor(Math.log(l)/Math.LN10)),f=l/u;return 2===f?f=5:f*=2,f*u}mt(i,function(l,u){var f=cv(l.scale,l.model).extent;eh(l.scale,l.model);var p=l.model,m=l.scale,b=qd(m,p.get("min",!0)),w=qd(m,p.get("max",!0)),k=m.getInterval();if(null!=b&&null!=w)m.setExtent(+b,+w),m.setInterval((w-b)/o);else if(null!=b){var M=void 0;do{m.setExtent(+b,M=b+k*o),m.setInterval(k),k=s(k)}while(M<f[1]&&isFinite(M)&&isFinite(f[1]))}else if(null!=w){var I=void 0;do{m.setExtent(I=w-k*o,+w),m.setInterval(k),k=s(k)}while(I>f[0]&&isFinite(I)&&isFinite(f[0]))}else m.getTicks().length-1>o&&(k=s(k)),I=xi((M=Math.ceil(f[1]/k)*k)-k*o),m.setExtent(I,M),m.setInterval(k)})},n.prototype.convertToPixel=function(e,t,i){return console.warn("Not implemented."),null},n.prototype.convertFromPixel=function(e,t,i){return console.warn("Not implemented."),null},n.prototype.containPoint=function(e){return console.warn("Not implemented."),!1},n.create=function(e,t){var i=[];return e.eachComponent("radar",function(r){var o=new n(r,e,t);i.push(o),r.coordinateSystem=o}),e.eachSeriesByType("radar",function(r){"radar"===r.get("coordinateSystem")&&(r.coordinateSystem=i[r.get("radarIndex")||0])}),i},n.dimensions=[],n}();function Ye(n){n.registerCoordinateSystem("radar",Ce),n.registerComponentModel(Rn),n.registerComponentView(oi),n.registerVisual({seriesType:"radar",reset:function(e){var t=e.getData();t.each(function(i){t.setItemVisual(i,"legendIcon","roundRect")}),t.setVisual("legendIcon","roundRect")}})}var Sn="\0_ec_interaction_mutex";function An(n,e){return!!Mn(n)[e]}function Mn(n){return n[Sn]||(n[Sn]={})}pc({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},function(){});var jn=function(n){function e(t){var i=n.call(this)||this;i._zr=t;var r=_e(i._mousedownHandler,i),o=_e(i._mousemoveHandler,i),s=_e(i._mouseupHandler,i),l=_e(i._mousewheelHandler,i),u=_e(i._pinchHandler,i);return i.enable=function(f,p){this.disable(),this._opt=se(Pt(p)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),null==f&&(f=!0),!0!==f&&"move"!==f&&"pan"!==f||(t.on("mousedown",r),t.on("mousemove",o),t.on("mouseup",s)),!0!==f&&"scale"!==f&&"zoom"!==f||(t.on("mousewheel",l),t.on("pinch",u))},i.disable=function(){t.off("mousedown",r),t.off("mousemove",o),t.off("mouseup",s),t.off("mousewheel",l),t.off("pinch",u)},i}return Tt(e,n),e.prototype.isDragging=function(){return this._dragging},e.prototype.isPinching=function(){return this._pinching},e.prototype.setPointerChecker=function(t){this.pointerChecker=t},e.prototype.dispose=function(){this.disable()},e.prototype._mousedownHandler=function(t){if(!(De(t)||t.target&&t.target.draggable)){var i=t.offsetX,r=t.offsetY;this.pointerChecker&&this.pointerChecker(t,i,r)&&(this._x=i,this._y=r,this._dragging=!0)}},e.prototype._mousemoveHandler=function(t){if(this._dragging&&kr("moveOnMouseMove",t,this._opt)&&"pinch"!==t.gestureEvent&&!An(this._zr,"globalPan")){var i=t.offsetX,r=t.offsetY,o=this._x,s=this._y,l=i-o,u=r-s;this._x=i,this._y=r,this._opt.preventDefaultMouseMove&&me(t.event),Ri(this,"pan","moveOnMouseMove",t,{dx:l,dy:u,oldX:o,oldY:s,newX:i,newY:r,isAvailableBehavior:null})}},e.prototype._mouseupHandler=function(t){De(t)||(this._dragging=!1)},e.prototype._mousewheelHandler=function(t){var i=kr("zoomOnMouseWheel",t,this._opt),r=kr("moveOnMouseWheel",t,this._opt),o=t.wheelDelta,s=Math.abs(o),l=t.offsetX,u=t.offsetY;if(0!==o&&(i||r)){if(i){var f=s>3?1.4:s>1?1.2:1.1;mi(this,"zoom","zoomOnMouseWheel",t,{scale:o>0?f:1/f,originX:l,originY:u,isAvailableBehavior:null})}if(r){var p=Math.abs(o);mi(this,"scrollMove","moveOnMouseWheel",t,{scrollDelta:(o>0?1:-1)*(p>3?.4:p>1?.15:.05),originX:l,originY:u,isAvailableBehavior:null})}}},e.prototype._pinchHandler=function(t){An(this._zr,"globalPan")||mi(this,"zoom",null,t,{scale:t.pinchScale>1?1.1:1/1.1,originX:t.pinchX,originY:t.pinchY,isAvailableBehavior:null})},e}(v);function mi(n,e,t,i,r){n.pointerChecker&&n.pointerChecker(i,r.originX,r.originY)&&(me(i.event),Ri(n,e,t,i,r))}function Ri(n,e,t,i,r){r.isAvailableBehavior=_e(kr,null,t,i),n.trigger(e,r)}function kr(n,e,t){var i=t[n];return!n||i&&(!Ke(i)||e.event[i+"Key"])}function Sr(n,e,t){var i=n.target;i.x+=e,i.y+=t,i.dirty()}function vi(n,e,t,i){var r=n.target,o=n.zoomLimit,s=n.zoom=n.zoom||1;if(s*=e,o){var l=o.min||0;s=Math.max(Math.min(o.max||1/0,s),l)}var f=s/n.zoom;n.zoom=s,r.x-=(t-r.x)*(f-1),r.y-=(i-r.y)*(f-1),r.scaleX*=f,r.scaleY*=f,r.dirty()}var Cr={axisPointer:1,tooltip:1,brush:1};function Or(n,e,t){var i=e.getComponentByElement(n.topTarget),r=i&&i.coordinateSystem;return i&&i!==t&&!Cr.hasOwnProperty(i.mainType)&&r&&r.model!==t}var sa=["rect","circle","line","ellipse","polygon","polyline","path"],la=ii(sa),Xu=ii(sa.concat(["g"])),Qo=ii(sa.concat(["g"])),ks=ar();function du(n){var e=n.getItemStyle(),t=n.get("areaColor");return null!=t&&(e.fill=t),e}var Ig=function(){function n(e){var t=new bt;this.uid=wf("ec_map_draw"),this._controller=new jn(e.getZr()),this._controllerHost={target:t},this.group=t,t.add(this._regionsGroup=new bt),t.add(this._svgGroup=new bt)}return n.prototype.draw=function(e,t,i,r,o){var s="geo"===e.mainType,l=e.getData&&e.getData();s&&t.eachComponent({mainType:"series",subType:"map"},function(I){l||I.getHostGeoModel()!==e||(l=I.getData())});var u=e.coordinateSystem,f=this._regionsGroup,p=this.group,m=u.getTransformInfo(),b=m.raw,w=m.roam;!f.childAt(0)||o?(p.x=w.x,p.y=w.y,p.scaleX=w.scaleX,p.scaleY=w.scaleY,p.dirty()):xr(p,w,e);var k=l&&l.getVisual("visualMeta")&&l.getVisual("visualMeta").length>0,M={api:i,geo:u,mapOrGeoModel:e,data:l,isVisualEncodedByVisualMap:k,isGeo:s,transformInfoRaw:b};"geoJSON"===u.resourceType?this._buildGeoJSON(M):"geoSVG"===u.resourceType&&this._buildSVG(M),this._updateController(e,t,i),this._updateMapSelectHandler(e,f,i,r)},n.prototype._buildGeoJSON=function(e){var t=this._regionsGroupByName=ii(),i=ii(),r=this._regionsGroup,o=e.transformInfoRaw,s=e.mapOrGeoModel,l=e.data,u=function(f){return[f[0]*o.scaleX+o.x,f[1]*o.scaleY+o.y]};r.removeAll(),mt(e.geo.regions,function(f){var p=f.name,m=t.get(p),b=i.get(p)||{},w=b.dataIdx,k=b.regionModel;m||(m=t.set(p,new bt),r.add(m),w=l?l.indexOfName(p):null,k=e.isGeo?s.getRegionModel(p):l?l.getItemModel(w):null,i.set(p,{dataIdx:w,regionModel:k}));var M=new nm({segmentIgnoreThreshold:1,shape:{paths:[]}});m.add(M),mt(f.geometries,function(O){if("polygon"===O.type){for(var B=[],H=0;H<O.exterior.length;++H)B.push(u(O.exterior[H]));for(M.shape.paths.push(new qa({segmentIgnoreThreshold:1,shape:{points:B}})),H=0;H<(O.interiors?O.interiors.length:0);++H){for(var X=O.interiors[H],U=[],$=0;$<X.length;++$)U.push(u(X[$]));M.shape.paths.push(new qa({segmentIgnoreThreshold:1,shape:{points:U}}))}}}),Zh(e,M,w,k),M instanceof Xr&&(M.culling=!0);var I=u(f.getCenter());yc(e,M,p,k,s,w,I)}),t.each(function(f,p){var m=i.get(p),w=m.regionModel;xc(e,f,p,w,s,m.dataIdx),dk(e,f,p,w,s),fk(e,f,p,w,s)},this)},n.prototype._buildSVG=function(e){var t=e.geo.map,i=e.transformInfoRaw;this._svgGroup.x=i.x,this._svgGroup.y=i.y,this._svgGroup.scaleX=i.scaleX,this._svgGroup.scaleY=i.scaleY,this._svgResourceChanged(t)&&(this._freeSVG(),this._useSVG(t));var r=this._svgDispatcherMap=ii(),o=!1;mt(this._svgGraphicRecord.named,function(s){var l=s.name,u=e.mapOrGeoModel,f=e.data,p=s.svgNodeTagLower,m=s.el,b=f?f.indexOfName(l):null,w=u.getRegionModel(l);null!=la.get(p)&&m instanceof Xr&&Zh(e,m,b,w),m instanceof Xr&&(m.culling=!0),m.z2EmphasisLift=0,s.namedFrom||(null!=Qo.get(p)&&yc(e,m,l,w,u,b,null),xc(e,m,l,w,u,b),dk(e,m,l,w,u),null!=Xu.get(p)&&("self"===fk(e,m,l,w,u)&&(o=!0),(r.get(l)||r.set(l,[])).push(m)))},this),this._enableBlurEntireSVG(o,e)},n.prototype._enableBlurEntireSVG=function(e,t){if(e&&t.isGeo){var i=t.mapOrGeoModel.getModel(["blur","itemStyle"]).getItemStyle().opacity;this._svgGraphicRecord.root.traverse(function(r){if(!r.isGroup){gf(r);var o=r.ensureState("blur").style||{};null==o.opacity&&null!=i&&(o.opacity=i),r.ensureState("emphasis")}})}},n.prototype.remove=function(){this._regionsGroup.removeAll(),this._regionsGroupByName=null,this._svgGroup.removeAll(),this._freeSVG(),this._controller.dispose(),this._controllerHost=null},n.prototype.findHighDownDispatchers=function(e,t){if(null==e)return[];var i=t.coordinateSystem;if("geoJSON"===i.resourceType){var r=this._regionsGroupByName;if(r){var o=r.get(e);return o?[o]:[]}}else if("geoSVG"===i.resourceType)return this._svgDispatcherMap&&this._svgDispatcherMap.get(e)||[]},n.prototype._svgResourceChanged=function(e){return this._svgMapName!==e},n.prototype._useSVG=function(e){var t=A0(e);if(t&&"geoSVG"===t.type){var i=t.useGraphic(this.uid);this._svgGroup.add(i.root),this._svgGraphicRecord=i,this._svgMapName=e}},n.prototype._freeSVG=function(){var e=this._svgMapName;if(null!=e){var t=A0(e);t&&"geoSVG"===t.type&&t.freeGraphic(this.uid),this._svgGraphicRecord=null,this._svgDispatcherMap=null,this._svgGroup.removeAll(),this._svgMapName=null}},n.prototype._updateController=function(e,t,i){var r=e.coordinateSystem,o=this._controller,s=this._controllerHost;s.zoomLimit=e.get("scaleLimit"),s.zoom=r.getZoom(),o.enable(e.get("roam")||!1);var l=e.mainType;function u(){var f={type:"geoRoam",componentType:l};return f[l+"Id"]=e.id,f}o.off("pan").on("pan",function(f){this._mouseDownFlag=!1,Sr(s,f.dx,f.dy),i.dispatchAction(Dt(u(),{dx:f.dx,dy:f.dy}))},this),o.off("zoom").on("zoom",function(f){this._mouseDownFlag=!1,vi(s,f.scale,f.originX,f.originY),i.dispatchAction(Dt(u(),{zoom:f.scale,originX:f.originX,originY:f.originY}))},this),o.setPointerChecker(function(f,p,m){return r.containPoint([p,m])&&!Or(f,i,e)})},n.prototype.resetForLabelLayout=function(){this.group.traverse(function(e){var t=e.getTextContent();t&&(t.ignore=ks(t).ignore)})},n.prototype._updateMapSelectHandler=function(e,t,i,r){var o=this;t.off("mousedown"),t.off("click"),e.get("selectedMode")&&(t.on("mousedown",function(){o._mouseDownFlag=!0}),t.on("click",function(s){o._mouseDownFlag&&(o._mouseDownFlag=!1)}))},n}();function Zh(n,e,t,i){var r=i.getModel("itemStyle"),o=i.getModel(["emphasis","itemStyle"]),s=i.getModel(["blur","itemStyle"]),l=i.getModel(["select","itemStyle"]),u=du(r),f=du(o),p=du(l),m=du(s),b=n.data;if(b){var w=b.getItemVisual(t,"style"),k=b.getItemVisual(t,"decal");n.isVisualEncodedByVisualMap&&w.fill&&(u.fill=w.fill),k&&(u.decal=ig(k,n.api))}e.setStyle(u),e.style.strokeNoScale=!0,e.ensureState("emphasis").style=f,e.ensureState("select").style=p,e.ensureState("blur").style=m,gf(e)}function yc(n,e,t,i,r,o,s){var l=n.data,u=n.isGeo,f=l&&isNaN(l.get(l.mapDimension("value"),o)),p=l&&l.getItemLayout(o);if(u||f||p&&p.showLabel){var m=u?t:o,b=void 0;(!l||o>=0)&&(b=r);var w=s?{normal:{align:"center",verticalAlign:"middle"}}:null;xs(e,Sa(i),{labelFetcher:b,labelDataIndex:m,defaultText:t},w);var k=e.getTextContent();if(k&&(ks(k).ignore=k.ignore,e.textConfig&&s)){var M=e.getBoundingRect().clone();e.textConfig.layoutRect=M,e.textConfig.position=[(s[0]-M.x)/M.width*100+"%",(s[1]-M.y)/M.height*100+"%"]}e.disableLabelAnimation=!0}else e.removeTextContent(),e.removeTextConfig(),e.disableLabelAnimation=null}function xc(n,e,t,i,r,o){n.data?n.data.setItemGraphicEl(o,e):Fi(e).eventData={componentType:"geo",componentIndex:r.componentIndex,geoIndex:r.componentIndex,name:t,region:i&&i.option||{}}}function dk(n,e,t,i,r){n.data||bf({el:e,componentModel:r,itemName:t,itemTooltipOption:i.get("tooltip")})}function fk(n,e,t,i,r){e.highDownSilentOnTouch=!!r.get("selectedMode");var u,f,p,o=i.getModel("emphasis"),s=o.get("focus");return to(e,s,o.get("blurScope")),n.isGeo&&(u=r,f=t,(p=Fi(e)).componentMainType=u.mainType,p.componentIndex=u.componentIndex,p.componentHighDownName=f),s}var pk=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return Tt(e,n),e.prototype.render=function(t,i,r,o){if(!o||"mapToggleSelect"!==o.type||o.from!==this.uid){var s=this.group;if(s.removeAll(),!t.getHostGeoModel()){if(this._mapDraw&&o&&"geoRoam"===o.type&&this._mapDraw.resetForLabelLayout(),o&&"geoRoam"===o.type&&"series"===o.componentType&&o.seriesId===t.id)(l=this._mapDraw)&&s.add(l.group);else if(t.needsDrawMap){var l=this._mapDraw||new Ig(r);s.add(l.group),l.draw(t,i,r,this,o),this._mapDraw=l}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;t.get("showLegendSymbol")&&i.getComponent("legend")&&this._renderSymbols(t,i,r)}}},e.prototype.remove=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},e.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},e.prototype._renderSymbols=function(t,i,r){var o=t.originalData,s=this.group;o.each(o.mapDimension("value"),function(l,u){if(!isNaN(l)){var f=o.getItemLayout(u);if(f&&f.point){var p=f.point,m=f.offset,b=new eu({style:{fill:t.getData().getVisual("style").fill},shape:{cx:p[0]+9*m,cy:p[1],r:3},silent:!0,z2:8+(m?0:11)});if(!m){var w=t.mainSeries.getData(),k=o.getName(u),M=w.indexOfName(k),I=o.getItemModel(u),O=I.getModel("label"),B=w.getItemGraphicEl(M);xs(b,Sa(I),{labelFetcher:{getFormattedLabel:function(H,X){return t.getFormattedLabel(M,X)}}}),b.disableLabelAnimation=!0,O.get("position")||b.setTextConfig({position:"bottom"}),B.onHoverStateChange=function(H){Kv(b,H)}}s.add(b)}}})},e.type="map",e}(Rr),gk=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t.needsDrawMap=!1,t.seriesGroup=[],t.getTooltipPosition=function(i){if(null!=i){var r=this.getData().getName(i),o=this.coordinateSystem,s=o.getRegion(r);return s&&o.dataToPoint(s.getCenter())}},t}return Tt(e,n),e.prototype.getInitialData=function(t){for(var i=Mg(this,{coordDimensions:["value"],encodeDefaulter:de(Ny,this)}),r=ii(),o=[],s=0,l=i.count();s<l;s++){var u=i.getName(s);r.set(u,!0)}return mt(F1(this.getMapType(),this.option.nameMap,this.option.nameProperty).regions,function(f){var p=f.name;r.get(p)||o.push(p)}),i.appendValues([],o),i},e.prototype.getHostGeoModel=function(){var t=this.option.geoIndex;return null!=t?this.ecModel.getComponent("geo",t):null},e.prototype.getMapType=function(){return(this.getHostGeoModel()||this).option.map},e.prototype.getRawValue=function(t){var i=this.getData();return i.get(i.mapDimension("value"),t)},e.prototype.getRegionModel=function(t){var i=this.getData();return i.getItemModel(i.indexOfName(t))},e.prototype.formatTooltip=function(t,i,r){for(var o=this.getData(),s=this.getRawValue(t),l=o.getName(t),u=this.seriesGroup,f=[],p=0;p<u.length;p++){var m=u[p].originalData.indexOfName(l),b=o.mapDimension("value");isNaN(u[p].originalData.get(b,m))||f.push(u[p].name)}return Za("section",{header:f.join(", "),noHeader:!f.length,blocks:[Za("nameValue",{name:l,value:s})]})},e.prototype.setZoom=function(t){this.option.zoom=t},e.prototype.setCenter=function(t){this.option.center=t},e.prototype.getLegendIcon=function(t){var i=t.icon||"roundRect",r=oa(i,0,0,t.itemWidth,t.itemHeight,t.itemStyle.fill);return r.setStyle(t.itemStyle),r.style.stroke="none",i.indexOf("empty")>-1&&(r.style.stroke=r.style.fill,r.style.fill="#fff",r.style.lineWidth=2),r},e.type="series.map",e.dependencies=["geo"],e.layoutMode="box",e.defaultOption={zlevel:0,z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:null,showLegendSymbol:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,selectedMode:!0,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{areaColor:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},nameProperty:"name"},e}(Gr);function JA(n){var e={};n.eachSeriesByType("map",function(t){var i=t.getHostGeoModel(),r=i?"o"+i.id:"i"+t.getMapType();(e[r]=e[r]||[]).push(t)}),mt(e,function(t,i){for(var r,o,s,l=(r=zt(t,function(f){return f.getData()}),o=t[0].get("mapValueCalculation"),s={},mt(r,function(f){f.each(f.mapDimension("value"),function(p,m){var b="ec-"+f.getName(m);s[b]=s[b]||[],isNaN(p)||s[b].push(p)})}),r[0].map(r[0].mapDimension("value"),function(f,p){for(var m="ec-"+r[0].getName(p),b=0,w=1/0,k=-1/0,M=s[m].length,I=0;I<M;I++)w=Math.min(w,s[m][I]),k=Math.max(k,s[m][I]),b+=s[m][I];return 0===M?NaN:"min"===o?w:"max"===o?k:"average"===o?b/M:b})),u=0;u<t.length;u++)t[u].originalData=t[u].getData();for(u=0;u<t.length;u++)t[u].seriesGroup=t,t[u].needsDrawMap=0===u&&!t[u].getHostGeoModel(),t[u].setData(l.cloneShallow()),t[u].mainSeries=t[0]})}function tM(n){var e={};n.eachSeriesByType("map",function(t){var i=t.getMapType();if(!t.getHostGeoModel()&&!e[i]){var r={};mt(t.seriesGroup,function(s){var l=s.coordinateSystem,u=s.originalData;s.get("showLegendSymbol")&&n.getComponent("legend")&&u.each(u.mapDimension("value"),function(f,p){var m=u.getName(p),b=l.getRegion(m);if(b&&!isNaN(f)){var w=r[m]||0,k=l.dataToPoint(b.getCenter());r[m]=w+1,u.setItemLayout(p,{point:k,offset:w})}})});var o=t.getData();o.each(function(s){var l=o.getName(s),u=o.getItemLayout(s)||{};u.showLabel=!r[l],o.setItemLayout(s,u)}),e[i]=!0}})}var m2=Dr,Cx=function(n){function e(t){var i=n.call(this)||this;return i.type="view",i.dimensions=["x","y"],i._roamTransformable=new as,i._rawTransformable=new as,i.name=t,i}return Tt(e,n),e.prototype.setBoundingRect=function(t,i,r,o){return this._rect=new Xi(t,i,r,o),this._rect},e.prototype.getBoundingRect=function(){return this._rect},e.prototype.setViewRect=function(t,i,r,o){this._transformTo(t,i,r,o),this._viewRect=new Xi(t,i,r,o)},e.prototype._transformTo=function(t,i,r,o){var s=this.getBoundingRect(),l=this._rawTransformable;l.transform=s.calculateTransform(new Xi(t,i,r,o));var u=l.parent;l.parent=null,l.decomposeTransform(),l.parent=u,this._updateTransform()},e.prototype.setCenter=function(t){t&&(this._center=t,this._updateCenterAndZoom())},e.prototype.setZoom=function(t){t=t||1;var i=this.zoomLimit;i&&(null!=i.max&&(t=Math.min(i.max,t)),null!=i.min&&(t=Math.max(i.min,t))),this._zoom=t,this._updateCenterAndZoom()},e.prototype.getDefaultCenter=function(){var t=this.getBoundingRect();return[t.x+t.width/2,t.y+t.height/2]},e.prototype.getCenter=function(){return this._center||this.getDefaultCenter()},e.prototype.getZoom=function(){return this._zoom||1},e.prototype.getRoamTransform=function(){return this._roamTransformable.getLocalTransform()},e.prototype._updateCenterAndZoom=function(){var t=this._rawTransformable.getLocalTransform(),i=this._roamTransformable,r=this.getDefaultCenter(),o=this.getCenter(),s=this.getZoom();o=Dr([],o,t),r=Dr([],r,t),i.originX=o[0],i.originY=o[1],i.x=r[0]-o[0],i.y=r[1]-o[1],i.scaleX=i.scaleY=s,this._updateTransform()},e.prototype._updateTransform=function(){var t=this._roamTransformable,i=this._rawTransformable;i.parent=t,t.updateTransform(),i.updateTransform(),mh(this.transform||(this.transform=[]),i.transform||[1,0,0,1,0,0]),this._rawTransform=i.getLocalTransform(),this.invTransform=this.invTransform||[],xa(this.invTransform,this.transform),this.decomposeTransform()},e.prototype.getTransformInfo=function(){var t=this._rawTransformable,i=this._roamTransformable,r=new as;return r.transform=i.transform,r.decomposeTransform(),{roam:{x:r.x,y:r.y,scaleX:r.scaleX,scaleY:r.scaleY},raw:{x:t.x,y:t.y,scaleX:t.scaleX,scaleY:t.scaleY}}},e.prototype.getViewRect=function(){return this._viewRect},e.prototype.getViewRectAfterRoam=function(){var t=this.getBoundingRect().clone();return t.applyTransform(this.transform),t},e.prototype.dataToPoint=function(t,i,r){var o=i?this._rawTransform:this.transform;return r=r||[],o?m2(r,t,o):Vi(r,t)},e.prototype.pointToData=function(t){var i=this.invTransform;return i?m2([],t,i):[t[0],t[1]]},e.prototype.convertToPixel=function(t,i,r){var o=v2(i);return o===this?o.dataToPoint(r):null},e.prototype.convertFromPixel=function(t,i,r){var o=v2(i);return o===this?o.pointToData(r):null},e.prototype.containPoint=function(t){return this.getViewRectAfterRoam().contain(t[0],t[1])},e.dimensions=["x","y"],e}(as);function v2(n){var e=n.seriesModel;return e?e.coordinateSystem:null}var bP={geoJSON:{aspectScale:.75,invertLongitute:!0},geoSVG:{aspectScale:1,invertLongitute:!1}},y2=["lng","lat"],eM=function(n){function e(t,i,r){var o=n.call(this,t)||this;o.dimensions=y2,o.type="geo",o._nameCoordMap=ii(),o.map=i;var s=F1(i,r.nameMap,r.nameProperty),l=A0(i);o.resourceType=l?l.type:null;var u=bP[l.type];o._regionsMap=s.regionsMap,o._invertLongitute=u.invertLongitute,o.regions=s.regions,o.aspectScale=Tn(r.aspectScale,u.aspectScale);var f=s.boundingRect;return o.setBoundingRect(f.x,f.y,f.width,f.height),o}return Tt(e,n),e.prototype._transformTo=function(t,i,r,o){var s=this.getBoundingRect(),l=this._invertLongitute;s=s.clone(),l&&(s.y=-s.y-s.height);var u=this._rawTransformable;u.transform=s.calculateTransform(new Xi(t,i,r,o));var f=u.parent;u.parent=null,u.decomposeTransform(),u.parent=f,l&&(u.scaleY=-u.scaleY),this._updateTransform()},e.prototype.getRegion=function(t){return this._regionsMap.get(t)},e.prototype.getRegionByCoord=function(t){for(var i=this.regions,r=0;r<i.length;r++){var o=i[r];if("geoJSON"===o.type&&o.contain(t))return i[r]}},e.prototype.addGeoCoord=function(t,i){this._nameCoordMap.set(t,i)},e.prototype.getGeoCoord=function(t){var i=this._regionsMap.get(t);return this._nameCoordMap.get(t)||i&&i.getCenter()},e.prototype.dataToPoint=function(t,i,r){if("string"==typeof t&&(t=this.getGeoCoord(t)),t)return Cx.prototype.dataToPoint.call(this,t,i,r)},e.prototype.convertToPixel=function(t,i,r){var o=x2(i);return o===this?o.dataToPoint(r):null},e.prototype.convertFromPixel=function(t,i,r){var o=x2(i);return o===this?o.pointToData(r):null},e}(Cx);function x2(n){var e=n.geoModel,t=n.seriesModel;return e?e.coordinateSystem:t?t.coordinateSystem||(t.getReferringComponents("geo",Mo).models[0]||{}).coordinateSystem:null}function b2(n,e){var t=n.get("boundingCoords");if(null!=t){var i=t[0],r=t[1];isNaN(i[0])||isNaN(i[1])||isNaN(r[0])||isNaN(r[1])||this.setBoundingRect(i[0],i[1],r[0]-i[0],r[1]-i[1])}var o,s,l,u=this.getBoundingRect(),f=n.get("layoutCenter"),p=n.get("layoutSize"),m=e.getWidth(),b=e.getHeight(),w=u.width/u.height*this.aspectScale,k=!1;if(f&&p&&(o=[In(f[0],m),In(f[1],b)],s=In(p,Math.min(m,b)),isNaN(o[0])||isNaN(o[1])||isNaN(s)||(k=!0)),k)l={},w>1?(l.width=s,l.height=s/w):(l.height=s,l.width=s*w),l.y=o[1]-l.height/2,l.x=o[0]-l.width/2;else{var M=n.getBoxLayoutParams();M.aspect=w,l=Ca(M,{width:m,height:b})}this.setViewRect(l.x,l.y,l.width,l.height),this.setCenter(n.get("center")),this.setZoom(n.get("zoom"))}on(eM,Cx);var _2=new(function(){function n(){this.dimensions=y2}return n.prototype.create=function(e,t){var i=[];e.eachComponent("geo",function(o,s){var l=o.get("map"),u=new eM(l+s,l,{nameMap:o.get("nameMap"),nameProperty:o.get("nameProperty"),aspectScale:o.get("aspectScale")});u.zoomLimit=o.get("scaleLimit"),i.push(u),o.coordinateSystem=u,u.model=o,u.resize=b2,u.resize(o,t)}),e.eachSeries(function(o){if("geo"===o.get("coordinateSystem")){var s=o.get("geoIndex")||0;o.coordinateSystem=i[s]}});var r={};return e.eachSeriesByType("map",function(o){if(!o.getHostGeoModel()){var s=o.getMapType();r[s]=r[s]||[],r[s].push(o)}}),mt(r,function(o,s){var l=zt(o,function(f){return f.get("nameMap")}),u=new eM(s,s,{nameMap:vt(l),nameProperty:o[0].get("nameProperty"),aspectScale:o[0].get("aspectScale")});u.zoomLimit=On.apply(null,zt(o,function(f){return f.get("scaleLimit")})),i.push(u),u.resize=b2,u.resize(o[0],t),mt(o,function(f){var p;f.coordinateSystem=u,p=u,mt(f.get("geoCoord"),function(b,w){p.addGeoCoord(w,b)})})}),i},n.prototype.getFilledRegions=function(e,t,i,r){for(var o=(e||[]).slice(),s=ii(),l=0;l<o.length;l++)s.set(o[l].name,o[l]);return mt(F1(t,i,r).regions,function(u){var f=u.name;!s.get(f)&&o.push({name:f})}),o},n}()),_P=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return Tt(e,n),e.prototype.init=function(t,i,r){var o=A0(t.map);if(o&&"geoJSON"===o.type){var s=t.itemStyle=t.itemStyle||{};"color"in s||(s.color="#eee")}this.mergeDefaultAndTheme(t,r),Xo(t,"label",["show"])},e.prototype.optionUpdated=function(){var t=this,i=this.option;i.regions=_2.getFilledRegions(i.regions,i.map,i.nameMap,i.nameProperty);var r={};this._optionModelMap=oe(i.regions||[],function(o,s){var l=s.name;return l&&(o.set(l,new Er(s,t,t.ecModel)),s.selected&&(r[l]=!0)),o},ii()),i.selectedMap||(i.selectedMap=r)},e.prototype.getRegionModel=function(t){return this._optionModelMap.get(t)||new Er(null,this,this.ecModel)},e.prototype.getFormattedLabel=function(t,i){var o=this.getRegionModel(t).get("normal"===i?["label","formatter"]:["emphasis","label","formatter"]),s={name:t};return"function"==typeof o?(s.status=i,o(s)):"string"==typeof o?o.replace("{a}",null!=t?t:""):void 0},e.prototype.setZoom=function(t){this.option.zoom=t},e.prototype.setCenter=function(t){this.option.center=t},e.prototype.select=function(t){var i=this.option,r=i.selectedMode;r&&("multiple"!==r&&(i.selectedMap=null),(i.selectedMap||(i.selectedMap={}))[t]=!0)},e.prototype.unSelect=function(t){var i=this.option.selectedMap;i&&(i[t]=!1)},e.prototype.toggleSelected=function(t){this[this.isSelected(t)?"unSelect":"select"](t)},e.prototype.isSelected=function(t){var i=this.option.selectedMap;return!(!i||!i[t])},e.type="geo",e.layoutMode="box",e.defaultOption={zlevel:0,z:0,show:!0,left:"center",top:"center",aspectScale:null,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},regions:[]},e}(rr);function nM(n,e,t){var i=n.getZoom(),r=n.getCenter(),o=e.zoom,s=n.dataToPoint(r);if(null!=e.dx&&null!=e.dy&&(s[0]-=e.dx,s[1]-=e.dy,n.setCenter(n.pointToData(s))),null!=o){if(t){var l=t.min||0;o=Math.max(Math.min(i*o,t.max||1/0),l)/i}n.scaleX*=o,n.scaleY*=o;var p=(e.originY-n.y)*(o-1);n.x-=(e.originX-n.x)*(o-1),n.y-=p,n.updateTransform(),n.setCenter(n.pointToData(s)),n.setZoom(o*i)}return{center:n.getCenter(),zoom:n.getZoom()}}var wP=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t.focusBlurEnabled=!0,t}return Tt(e,n),e.prototype.init=function(t,i){this._api=i},e.prototype.render=function(t,i,r,o){if(this._model=t,!t.get("show"))return this._mapDraw&&this._mapDraw.remove(),void(this._mapDraw=null);this._mapDraw||(this._mapDraw=new Ig(r));var s=this._mapDraw;s.draw(t,i,r,this,o),s.group.on("click",this._handleRegionClick,this),s.group.silent=t.get("silent"),this.group.add(s.group),this.updateSelectStatus(t,i,r)},e.prototype._handleRegionClick=function(t){var i;Fd(t.target,function(r){return null!=(i=Fi(r).eventData)},!0),i&&this._api.dispatchAction({type:"geoToggleSelect",geoId:this._model.id,name:i.name})},e.prototype.updateSelectStatus=function(t,i,r){var o=this;this._mapDraw.group.traverse(function(s){var l=Fi(s).eventData;if(l)return o._model.isSelected(l.name)?r.enterSelect(s):r.leaveSelect(s),!0})},e.prototype.findHighDownDispatchers=function(t){return this._mapDraw&&this._mapDraw.findHighDownDispatchers(t,this._model)},e.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove()},e.type="geo",e}(co);function w2(n){function e(t,i){i.update="geo:updateSelectStatus",n.registerAction(i,function(r,o){var s={},l=[];return o.eachComponent({mainType:"geo",query:r},function(u){u[t](r.name),mt(u.coordinateSystem.regions,function(p){s[p.name]=u.isSelected(p.name)||!1});var f=[];mt(s,function(p,m){s[m]&&f.push(m)}),l.push({geoIndex:u.componentIndex,name:f})}),{selected:s,allSelected:l,name:r.name}})}n.registerCoordinateSystem("geo",_2),n.registerComponentModel(_P),n.registerComponentView(wP),e("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),e("select",{type:"geoSelect",event:"geoselected"}),e("unSelect",{type:"geoUnSelect",event:"geounselected"}),n.registerAction({type:"geoRoam",event:"geoRoam",update:"updateTransform"},function(t,i){var r=t.componentType||"series";i.eachComponent({mainType:r,query:t},function(o){var s=o.coordinateSystem;if("geo"===s.type){var l=nM(s,t,o.get("scaleLimit"));o.setCenter&&o.setCenter(l.center),o.setZoom&&o.setZoom(l.zoom),"series"===r&&mt(o.seriesGroup,function(u){u.setCenter(l.center),u.setZoom(l.zoom)})}})})}function SP(n,e){var t=n.isExpand?n.children:[],i=n.parentNode.children,r=n.hierNode.i?i[n.hierNode.i-1]:null;if(t.length){!function(s){for(var l=s.children,u=l.length,f=0,p=0;--u>=0;){var m=l[u];m.hierNode.prelim+=f,m.hierNode.modifier+=f,f+=m.hierNode.shift+(p+=m.hierNode.change)}}(n);var o=(t[0].hierNode.prelim+t[t.length-1].hierNode.prelim)/2;r?(n.hierNode.prelim=r.hierNode.prelim+e(n,r),n.hierNode.modifier=n.hierNode.prelim-o):n.hierNode.prelim=o}else r&&(n.hierNode.prelim=r.hierNode.prelim+e(n,r));n.parentNode.hierNode.defaultAncestor=function(s,l,u,f){if(l){for(var p=s,m=s,b=m.parentNode.children[0],w=l,k=p.hierNode.modifier,M=m.hierNode.modifier,I=b.hierNode.modifier,O=w.hierNode.modifier;w=iM(w),m=rM(m),w&&m;){p=iM(p),b=rM(b),p.hierNode.ancestor=s;var B=w.hierNode.prelim+O-m.hierNode.prelim-M+f(w,m);B>0&&(AP(kP(w,s,u),s,B),M+=B,k+=B),O+=w.hierNode.modifier,M+=m.hierNode.modifier,k+=p.hierNode.modifier,I+=b.hierNode.modifier}w&&!iM(p)&&(p.hierNode.thread=w,p.hierNode.modifier+=O-k),m&&!rM(b)&&(b.hierNode.thread=m,b.hierNode.modifier+=M-I,u=s)}return u}(n,r,n.parentNode.hierNode.defaultAncestor||i[0],e)}function CP(n){n.setLayout({x:n.hierNode.prelim+n.parentNode.hierNode.modifier},!0),n.hierNode.modifier+=n.parentNode.hierNode.modifier}function S2(n){return arguments.length?n:MP}function sw(n,e){return n-=Math.PI/2,{x:e*Math.cos(n),y:e*Math.sin(n)}}function iM(n){var e=n.children;return e.length&&n.isExpand?e[e.length-1]:n.hierNode.thread}function rM(n){var e=n.children;return e.length&&n.isExpand?e[0]:n.hierNode.thread}function kP(n,e,t){return n.hierNode.ancestor.parentNode===e.parentNode?n.hierNode.ancestor:t}function AP(n,e,t){var i=t/(e.hierNode.i-n.hierNode.i);e.hierNode.change-=i,e.hierNode.shift+=t,e.hierNode.modifier+=t,e.hierNode.prelim+=t,n.hierNode.change+=i}function MP(n,e){return n.parentNode===e.parentNode?1:2}var TP=function(){this.parentPoint=[],this.childPoints=[]},IP=function(n){function e(t){return n.call(this,t)||this}return Tt(e,n),e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new TP},e.prototype.buildPath=function(t,i){var r=i.childPoints,o=r.length,s=i.parentPoint,l=r[0],u=r[o-1];if(1===o)return t.moveTo(s[0],s[1]),void t.lineTo(l[0],l[1]);var f=i.orient,p="TB"===f||"BT"===f?0:1,m=1-p,b=In(i.forkPosition,1),w=[];w[p]=s[p],w[m]=s[m]+(u[m]-s[m])*b,t.moveTo(s[0],s[1]),t.lineTo(w[0],w[1]),t.moveTo(l[0],l[1]),w[p]=l[p],t.lineTo(w[0],w[1]),w[p]=u[p],t.lineTo(w[0],w[1]),t.lineTo(u[0],u[1]);for(var k=1;k<o-1;k++){var M=r[k];t.moveTo(M[0],M[1]),w[p]=M[p],t.lineTo(w[0],w[1])}},e}(zi),DP=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t._mainGroup=new bt,t}return Tt(e,n),e.prototype.init=function(t,i){this._controller=new jn(i.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},e.prototype.render=function(t,i,r){var o=t.getData(),s=t.layoutInfo,l=this._mainGroup;"radial"===t.get("layout")?(l.x=s.x+s.width/2,l.y=s.y+s.height/2):(l.x=s.x,l.y=s.y),this._updateViewCoordSys(t),this._updateController(t,i,r);var u=this._data;o.diff(u).add(function(f){C2(o,f)&&k2(o,f,null,l,t)}).update(function(f,p){var m=u.getItemGraphicEl(p);C2(o,f)?k2(o,f,m,l,t):m&&T2(u,p,m,l,t)}).remove(function(f){var p=u.getItemGraphicEl(f);p&&T2(u,f,p,l,t)}).execute(),this._nodeScaleRatio=t.get("nodeScaleRatio"),this._updateNodeAndLinkScale(t),!0===t.get("expandAndCollapse")&&o.eachItemGraphicEl(function(f,p){f.off("click").on("click",function(){r.dispatchAction({type:"treeExpandAndCollapse",seriesId:t.id,dataIndex:p})})}),this._data=o},e.prototype._updateViewCoordSys=function(t){var i=t.getData(),r=[];i.each(function(p){var m=i.getItemLayout(p);!m||isNaN(m.x)||isNaN(m.y)||r.push([+m.x,+m.y])});var o=[],s=[];Oc(r,o,s);var l=this._min,u=this._max;s[0]-o[0]==0&&(o[0]=l?l[0]:o[0]-1,s[0]=u?u[0]:s[0]+1),s[1]-o[1]==0&&(o[1]=l?l[1]:o[1]-1,s[1]=u?u[1]:s[1]+1);var f=t.coordinateSystem=new Cx;f.zoomLimit=t.get("scaleLimit"),f.setBoundingRect(o[0],o[1],s[0]-o[0],s[1]-o[1]),f.setCenter(t.get("center")),f.setZoom(t.get("zoom")),this.group.attr({x:f.x,y:f.y,scaleX:f.scaleX,scaleY:f.scaleY}),this._min=o,this._max=s},e.prototype._updateController=function(t,i,r){var o=this,s=this._controller,l=this._controllerHost,u=this.group;s.setPointerChecker(function(f,p,m){var b=u.getBoundingRect();return b.applyTransform(u.transform),b.contain(p,m)&&!Or(f,r,t)}),s.enable(t.get("roam")),l.zoomLimit=t.get("scaleLimit"),l.zoom=t.coordinateSystem.getZoom(),s.off("pan").off("zoom").on("pan",function(f){Sr(l,f.dx,f.dy),r.dispatchAction({seriesId:t.id,type:"treeRoam",dx:f.dx,dy:f.dy})}).on("zoom",function(f){vi(l,f.scale,f.originX,f.originY),r.dispatchAction({seriesId:t.id,type:"treeRoam",zoom:f.scale,originX:f.originX,originY:f.originY}),o._updateNodeAndLinkScale(t),r.updateLabelLayout()})},e.prototype._updateNodeAndLinkScale=function(t){var i=t.getData(),r=this._getNodeGlobalScale(t);i.eachItemGraphicEl(function(o,s){o.setSymbolScale(r)})},e.prototype._getNodeGlobalScale=function(t){var i=t.coordinateSystem;if("view"!==i.type)return 1;var r=this._nodeScaleRatio,o=i.scaleX||1;return((i.getZoom()-1)*r+1)/o},e.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},e.prototype.remove=function(){this._mainGroup.removeAll(),this._data=null},e.type="tree",e}(Rr);function C2(n,e){var t=n.getItemLayout(e);return t&&!isNaN(t.x)&&!isNaN(t.y)}function k2(n,e,t,i,r){var o=!t,s=n.tree.getNodeByDataIndex(e),l=s.getModel(),u=s.getVisual("style").fill,f=!1===s.isExpand&&0!==s.children.length?u:"#fff",p=n.tree.root,m=s.parentNode===p?s:s.parentNode||s,b=n.getItemGraphicEl(m.dataIndex),w=m.getLayout(),k=b?{x:b.__oldX,y:b.__oldY,rawX:b.__radialOldRawX,rawY:b.__radialOldRawY}:w,M=s.getLayout();o?((t=new Qd(n,e,null,{symbolInnerColor:f,useNameLabel:!0})).x=k.x,t.y=k.y):t.updateData(n,e,null,{symbolInnerColor:f,useNameLabel:!0}),t.__radialOldRawX=t.__radialRawX,t.__radialOldRawY=t.__radialRawY,t.__radialRawX=M.rawX,t.__radialRawY=M.rawY,i.add(t),n.setItemGraphicEl(e,t),t.__oldX=t.x,t.__oldY=t.y,xr(t,{x:M.x,y:M.y},r);var I=t.getSymbolPath();if("radial"===r.get("layout")){var O=p.children[0],B=O.getLayout(),H=O.children.length,X=void 0,U=void 0;if(M.x===B.x&&!0===s.isExpand){var $={x:(O.children[0].getLayout().x+O.children[H-1].getLayout().x)/2,y:(O.children[0].getLayout().y+O.children[H-1].getLayout().y)/2};(X=Math.atan2($.y-B.y,$.x-B.x))<0&&(X=2*Math.PI+X),(U=$.x<B.x)&&(X-=Math.PI)}else(X=Math.atan2(M.y-B.y,M.x-B.x))<0&&(X=2*Math.PI+X),0===s.children.length||0!==s.children.length&&!1===s.isExpand?(U=M.x<B.x)&&(X-=Math.PI):(U=M.x>B.x)||(X-=Math.PI);var et=U?"left":"right",at=l.getModel("label"),At=at.get("rotate"),Mt=At*(Math.PI/180),Lt=I.getTextContent();Lt&&(I.setTextConfig({position:at.get("position")||et,rotation:null==At?-X:Mt,origin:"center"}),Lt.setStyle("verticalAlign","middle"))}var Gt=l.get(["emphasis","focus"]),ne="ancestor"===Gt?s.getAncestorsIndices():"descendant"===Gt?s.getDescendantIndices():null;ne&&(Fi(t).focus=ne),function(re,fe,ye,Te,Ie,Re,Xe,cn){var _n=fe.getModel(),Hn=re.get("edgeShape"),gn=re.get("layout"),Dn=re.getOrient(),Un=re.get(["lineStyle","curveness"]),Yn=re.get("edgeForkPosition"),Xn=_n.getModel("lineStyle").getLineStyle(),di=Te.__edge;if("curve"===Hn)fe.parentNode&&fe.parentNode!==ye&&(di||(di=Te.__edge=new Mp({shape:oM(gn,Dn,Un,Ie,Ie)})),xr(di,{shape:oM(gn,Dn,Un,Re,Xe)},re));else if("polyline"===Hn&&"orthogonal"===gn&&fe!==ye&&fe.children&&0!==fe.children.length&&!0===fe.isExpand){for(var fi=fe.children,Pi=[],Wi=0;Wi<fi.length;Wi++){var Gi=fi[Wi].getLayout();Pi.push([Gi.x,Gi.y])}di||(di=Te.__edge=new IP({shape:{parentPoint:[Xe.x,Xe.y],childPoints:[[Xe.x,Xe.y]],orient:Dn,forkPosition:Yn}})),xr(di,{shape:{parentPoint:[Xe.x,Xe.y],childPoints:Pi}},re)}di&&(di.useStyle(se({strokeNoScale:!0,fill:null},Xn)),ls(di,_n,"lineStyle"),gf(di),cn.add(di))}(r,s,p,t,k,w,M,i),t.__edge&&(t.onHoverStateChange=function(re){if("blur"!==re){var fe=s.parentNode&&n.getItemGraphicEl(s.parentNode.dataIndex);fe&&1===fe.hoverState||Kv(t.__edge,re)}})}function A2(n,e,t,i,r){var o=M2(e.tree.root,n),s=o.source,l=o.sourceLayout,u=e.getItemGraphicEl(n.dataIndex);if(u){var f=e.getItemGraphicEl(s.dataIndex).__edge,p=u.__edge||(!1===s.isExpand||1===s.children.length?f:void 0),m=i.get("edgeShape"),b=i.get("layout"),w=i.get("orient"),k=i.get(["lineStyle","curveness"]);p&&("curve"===m?vs(p,{shape:oM(b,w,k,l,l),style:{opacity:0}},i,{cb:function(){t.remove(p)},removeOpt:r}):"polyline"===m&&"orthogonal"===i.get("layout")&&vs(p,{shape:{parentPoint:[l.x,l.y],childPoints:[[l.x,l.y]]},style:{opacity:0}},i,{cb:function(){t.remove(p)},removeOpt:r}))}}function M2(n,e){for(var t,i=e.parentNode===n?e:e.parentNode||e;null==(t=i.getLayout());)i=i.parentNode===n?i:i.parentNode||i;return{source:i,sourceLayout:t}}function T2(n,e,t,i,r){var o=n.tree.getNodeByDataIndex(e),s=M2(n.tree.root,o).sourceLayout,l={duration:r.get("animationDurationUpdate"),easing:r.get("animationEasingUpdate")};vs(t,{x:s.x+1,y:s.y+1},r,{cb:function(){i.remove(t),n.setItemGraphicEl(e,null)},removeOpt:l}),t.fadeOut(null,{fadeLabel:!0,animation:l}),o.children.forEach(function(u){A2(u,n,i,r,l)}),A2(o,n,i,r,l)}function oM(n,e,t,i,r){var o,s,l,u,f,p,m,b;if("radial"===n){p=r.rawX,b=r.rawY;var w=sw(f=i.rawX,m=i.rawY),k=sw(f,m+(b-m)*t),M=sw(p,b+(m-b)*t),I=sw(p,b);return{x1:w.x||0,y1:w.y||0,x2:I.x||0,y2:I.y||0,cpx1:k.x||0,cpy1:k.y||0,cpx2:M.x||0,cpy2:M.y||0}}return f=i.x,m=i.y,p=r.x,b=r.y,"LR"!==e&&"RL"!==e||(o=f+(p-f)*t,s=m,l=p+(f-p)*t,u=b),"TB"!==e&&"BT"!==e||(o=f,s=m+(b-m)*t,l=p,u=b+(m-b)*t),{x1:f,y1:m,x2:p,y2:b,cpx1:o,cpy1:s,cpx2:l,cpy2:u}}var lh=ar();function I2(n){var e=n.mainData,t=n.datas;t||(t={main:e},n.datasAttr={main:"data"}),n.datas=n.mainData=null,D2(e,t,n),mt(t,function(i){mt(e.TRANSFERABLE_METHODS,function(r){i.wrapMethod(r,de(EP,n))})}),e.wrapMethod("cloneShallow",de(PP,n)),mt(e.CHANGABLE_METHODS,function(i){e.wrapMethod(i,de(LP,n))}),Ni(t[e.dataType]===e)}function EP(n,e){if(lh(this).mainData===this){var t=Dt({},lh(this).datas);t[this.dataType]=e,D2(e,t,n)}else aM(e,this.dataType,lh(this).mainData,n);return e}function LP(n,e){return n.struct&&n.struct.update(),e}function PP(n,e){return mt(lh(e).datas,function(t,i){t!==e&&aM(t.cloneShallow(),i,e,n)}),e}function OP(n){var e=lh(this).mainData;return null==n||null==e?e:lh(e).datas[n]}function NP(){var n=lh(this).mainData;return null==n?[{data:n}]:zt(be(lh(n).datas),function(e){return{type:e,data:lh(n).datas[e]}})}function D2(n,e,t){lh(n).datas={},mt(e,function(i,r){aM(i,r,n,t)})}function aM(n,e,t,i){lh(t).datas[e]=n,lh(n).mainData=t,n.dataType=e,i.struct&&(n[i.structAttr]=i.struct,i.struct[i.datasAttr[e]]=n),n.getLinkedData=OP,n.getLinkedDataAll=NP}var RP=function(){function n(e,t){this.depth=0,this.height=0,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.isExpand=!1,this.name=e||"",this.hostTree=t}return n.prototype.isRemoved=function(){return this.dataIndex<0},n.prototype.eachNode=function(e,t,i){"function"==typeof e&&(i=t,t=e,e=null),Ke(e=e||{})&&(e={order:e});var r,o=e.order||"preorder",s=this[e.attr||"children"];"preorder"===o&&(r=t.call(i,this));for(var l=0;!r&&l<s.length;l++)s[l].eachNode(e,t,i);"postorder"===o&&t.call(i,this)},n.prototype.updateDepthAndHeight=function(e){var t=0;this.depth=e;for(var i=0;i<this.children.length;i++){var r=this.children[i];r.updateDepthAndHeight(e+1),r.height>t&&(t=r.height)}this.height=t+1},n.prototype.getNodeById=function(e){if(this.getId()===e)return this;for(var t=0,i=this.children,r=i.length;t<r;t++){var o=i[t].getNodeById(e);if(o)return o}},n.prototype.contains=function(e){if(e===this)return!0;for(var t=0,i=this.children,r=i.length;t<r;t++){var o=i[t].contains(e);if(o)return o}},n.prototype.getAncestors=function(e){for(var t=[],i=e?this:this.parentNode;i;)t.push(i),i=i.parentNode;return t.reverse(),t},n.prototype.getAncestorsIndices=function(){for(var e=[],t=this;t;)e.push(t.dataIndex),t=t.parentNode;return e.reverse(),e},n.prototype.getDescendantIndices=function(){var e=[];return this.eachNode(function(t){e.push(t.dataIndex)}),e},n.prototype.getValue=function(e){var t=this.hostTree.data;return t.getStore().get(t.getDimensionIndex(e||"value"),this.dataIndex)},n.prototype.setLayout=function(e,t){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,e,t)},n.prototype.getLayout=function(){return this.hostTree.data.getItemLayout(this.dataIndex)},n.prototype.getModel=function(e){if(!(this.dataIndex<0))return this.hostTree.data.getItemModel(this.dataIndex).getModel(e)},n.prototype.getLevelModel=function(){return(this.hostTree.levelModels||[])[this.depth]},n.prototype.setVisual=function(e,t){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,e,t)},n.prototype.getVisual=function(e){return this.hostTree.data.getItemVisual(this.dataIndex,e)},n.prototype.getRawIndex=function(){return this.hostTree.data.getRawIndex(this.dataIndex)},n.prototype.getId=function(){return this.hostTree.data.getId(this.dataIndex)},n.prototype.getChildIndex=function(){if(this.parentNode){for(var e=this.parentNode.children,t=0;t<e.length;++t)if(e[t]===this)return t;return-1}return-1},n.prototype.isAncestorOf=function(e){for(var t=e.parentNode;t;){if(t===this)return!0;t=t.parentNode}return!1},n.prototype.isDescendantOf=function(e){return e!==this&&e.isAncestorOf(this)},n}(),sM=function(){function n(e){this.type="tree",this._nodes=[],this.hostModel=e}return n.prototype.eachNode=function(e,t,i){this.root.eachNode(e,t,i)},n.prototype.getNodeByDataIndex=function(e){var t=this.data.getRawIndex(e);return this._nodes[t]},n.prototype.getNodeById=function(e){return this.root.getNodeById(e)},n.prototype.update=function(){for(var e=this.data,t=this._nodes,i=0,r=t.length;i<r;i++)t[i].dataIndex=-1;for(i=0,r=e.count();i<r;i++)t[e.getRawIndex(i)].dataIndex=i},n.prototype.clearLayouts=function(){this.data.clearItemLayouts()},n.createTree=function(e,t,i){var r=new n(t),o=[],s=1;(function f(p,m){var b=p.value;s=Math.max(s,Jt(b)?b.length:1),o.push(p);var I,O,w=new RP(No(p.name,""),r);m?(I=w).parentNode!==(O=m)&&(O.children.push(I),I.parentNode=O):r.root=w,r._nodes.push(w);var k=p.children;if(k)for(var M=0;M<k.length;M++)f(k[M],w)})(e),r.root.updateDepthAndHeight(0);var l=dg(o,{coordDimensions:["value"],dimensionsCount:s}).dimensions,u=new _s(l,t);return u.initData(o),i&&i(u),I2({mainData:u,struct:r,structAttr:"tree"}),r.update(),r},n}();function lw(n,e,t){if(n&&Ne(e,n.type)>=0){var i=t.getData().tree.root,r=n.targetNode;if("string"==typeof r&&(r=i.getNodeById(r)),r&&i.contains(r))return{node:r};var o=n.targetNodeId;if(null!=o&&(r=i.getNodeById(o)))return{node:r}}}function E2(n){for(var e=[];n;)(n=n.parentNode)&&e.push(n);return e.reverse()}function lM(n,e){return Ne(E2(n),e)>=0}function mk(n,e){for(var t=[];n;){var i=n.dataIndex;t.push({name:n.name,dataIndex:i,value:e.getRawValue(i)}),n=n.parentNode}return t.reverse(),t}var BP=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.hasSymbolVisual=!0,t.ignoreStyleOnData=!0,t}return Tt(e,n),e.prototype.getInitialData=function(t){var i={name:t.name,children:t.data},o=new Er(t.leaves||{},this,this.ecModel),s=sM.createTree(i,this,function(f){f.wrapMethod("getItemModel",function(p,m){var b=s.getNodeByDataIndex(m);return b&&b.children.length&&b.isExpand||(p.parentModel=o),p})}),l=0;s.eachNode("preorder",function(f){f.depth>l&&(l=f.depth)});var u=t.expandAndCollapse&&t.initialTreeDepth>=0?t.initialTreeDepth:l;return s.root.eachNode("preorder",function(f){var p=f.hostTree.data.getRawDataItem(f.dataIndex);f.isExpand=p&&null!=p.collapsed?!p.collapsed:f.depth<=u}),s.data},e.prototype.getOrient=function(){var t=this.get("orient");return"horizontal"===t?t="LR":"vertical"===t&&(t="TB"),t},e.prototype.setZoom=function(t){this.option.zoom=t},e.prototype.setCenter=function(t){this.option.center=t},e.prototype.formatTooltip=function(t,i,r){for(var o=this.getData().tree,s=o.root.children[0],l=o.getNodeByDataIndex(t),u=l.getValue(),f=l.name;l&&l!==s;)f=l.parentNode.name+"."+f,l=l.parentNode;return Za("nameValue",{name:f,value:u,noValue:isNaN(u)||null==u})},e.prototype.getDataParams=function(t){var i=n.prototype.getDataParams.apply(this,arguments),r=this.getData().tree.getNodeByDataIndex(t);return i.treeAncestors=mk(r,this),i},e.type="series.tree",e.layoutMode="box",e.defaultOption={zlevel:0,z:2,coordinateSystem:"view",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",edgeShape:"curve",edgeForkPosition:"50%",roam:!1,nodeScaleRatio:.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:"#ccc",width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderWidth:1.5},label:{show:!0},animationEasing:"linear",animationDuration:700,animationDurationUpdate:500},e}(Gr);function uw(n,e){for(var t,i=[n];t=i.pop();)if(e(t),t.isExpand){var r=t.children;if(r.length)for(var o=r.length-1;o>=0;o--)i.push(r[o])}}function zP(n,e){n.eachSeriesByType("tree",function(t){!function(i,r){var et,o=(et=r,Ca(i.getBoxLayoutParams(),{width:et.getWidth(),height:et.getHeight()}));i.layoutInfo=o;var s=i.get("layout"),l=0,u=0,f=null;"radial"===s?(l=2*Math.PI,u=Math.min(o.height,o.width)/2,f=S2(function($,et){return($.parentNode===et.parentNode?1:2)/$.depth})):(l=o.width,u=o.height,f=S2());var p=i.getData().tree.root,m=p.children[0];if(m){(function($){var et=$;et.hierNode={defaultAncestor:null,ancestor:et,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var at,At,Mt=[et];at=Mt.pop();)if(At=at.children,at.isExpand&&At.length)for(var Lt=At.length-1;Lt>=0;Lt--){var Gt=At[Lt];Gt.hierNode={defaultAncestor:null,ancestor:Gt,prelim:0,modifier:0,change:0,shift:0,i:Lt,thread:null},Mt.push(Gt)}})(p),function($,et,at){for(var At,Mt=[$],Lt=[];At=Mt.pop();)if(Lt.push(At),At.isExpand){var Gt=At.children;if(Gt.length)for(var ne=0;ne<Gt.length;ne++)Mt.push(Gt[ne])}for(;At=Lt.pop();)et(At,at)}(m,SP,f),p.hierNode.modifier=-m.hierNode.prelim,uw(m,CP);var b=m,w=m,k=m;uw(m,function($){var et=$.getLayout().x;et<b.getLayout().x&&(b=$),et>w.getLayout().x&&(w=$),$.depth>k.depth&&(k=$)});var M=b===w?1:f(b,w)/2,I=M-b.getLayout().x,O=0,B=0,H=0,X=0;if("radial"===s)O=l/(w.getLayout().x+M+I),B=u/(k.depth-1||1),uw(m,function($){var et=sw(H=($.getLayout().x+I)*O,X=($.depth-1)*B);$.setLayout({x:et.x,y:et.y,rawX:H,rawY:X},!0)});else{var U=i.getOrient();"RL"===U||"LR"===U?(B=u/(w.getLayout().x+M+I),O=l/(k.depth-1||1),uw(m,function($){X=($.getLayout().x+I)*B,$.setLayout({x:H="LR"===U?($.depth-1)*O:l-($.depth-1)*O,y:X},!0)})):"TB"!==U&&"BT"!==U||(O=l/(w.getLayout().x+M+I),B=u/(k.depth-1||1),uw(m,function($){H=($.getLayout().x+I)*O,$.setLayout({x:H,y:X="TB"===U?($.depth-1)*B:u-($.depth-1)*B},!0)}))}}}(t,e)})}function FP(n){n.eachSeriesByType("tree",function(e){var t=e.getData();t.tree.eachNode(function(i){var r=i.getModel().getModel("itemStyle").getItemStyle();Dt(t.ensureUniqueItemVisual(i.dataIndex,"style"),r)})})}var VP=function(){},L2=["treemapZoomToNode","treemapRender","treemapMove"];function P2(n){var e=n.getData().tree,t={};e.eachNode(function(i){for(var r=i;r&&r.depth>1;)r=r.parentNode;var o=Vp(n.ecModel,r.name||r.dataIndex+"",t);i.setVisual("decal",o)})}var HP=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t.preventUsingHoverLayer=!0,t}return Tt(e,n),e.prototype.getInitialData=function(t,i){var r={name:t.name,children:t.data};O2(r);var o=t.levels||[],s=this.designatedVisualItemStyle={},l=new Er({itemStyle:s},this,i),u=zt((o=t.levels=function(p,m){var b,w,k=mr(m.get("color")),M=mr(m.get(["aria","decal","decals"]));if(k){mt(p=p||[],function(O){var B=new Er(O),H=B.get("color"),X=B.get("decal");(B.get(["itemStyle","color"])||H&&"none"!==H)&&(b=!0),(B.get(["itemStyle","decal"])||X&&"none"!==X)&&(w=!0)});var I=p[0]||(p[0]={});return b||(I.color=k.slice()),!w&&M&&(I.decal=M.slice()),p}}(o,i))||[],function(p){return new Er(p,l,i)},this),f=sM.createTree(r,this,function(p){p.wrapMethod("getItemModel",function(m,b){var w=f.getNodeByDataIndex(b);return m.parentModel=(w?u[w.depth]:null)||l,m})});return f.data},e.prototype.optionUpdated=function(){this.resetViewRoot()},e.prototype.formatTooltip=function(t,i,r){var o=this.getData(),s=this.getRawValue(t);return Za("nameValue",{name:o.getName(t),value:s})},e.prototype.getDataParams=function(t){var i=n.prototype.getDataParams.apply(this,arguments),r=this.getData().tree.getNodeByDataIndex(t);return i.treeAncestors=mk(r,this),i.treePathInfo=i.treeAncestors,i},e.prototype.setLayoutInfo=function(t){this.layoutInfo=this.layoutInfo||{},Dt(this.layoutInfo,t)},e.prototype.mapIdToIndex=function(t){var i=this._idIndexMap;i||(i=this._idIndexMap=ii(),this._idIndexMapCount=0);var r=i.get(t);return null==r&&i.set(t,r=this._idIndexMapCount++),r},e.prototype.getViewRoot=function(){return this._viewRoot},e.prototype.resetViewRoot=function(t){t?this._viewRoot=t:t=this._viewRoot;var i=this.getRawData().tree.root;t&&(t===i||i.contains(t))||(this._viewRoot=i)},e.prototype.enableAriaDecal=function(){P2(this)},e.type="series.treemap",e.layoutMode="box",e.defaultOption={progressive:0,left:"center",top:"middle",width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"\u25b6",zoomToNodeRatio:.1024,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{color:"rgba(0,0,0,0.7)",textStyle:{color:"#fff"}}},label:{show:!0,distance:0,padding:5,position:"inside",color:"#fff",overflow:"truncate"},upperLabel:{show:!1,position:[0,"50%"],height:20,overflow:"truncate",verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],ellipsis:!0,verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},e}(Gr);function O2(n){var e=0;mt(n.children,function(i){O2(i);var r=i.value;Jt(r)&&(r=r[0]),e+=r});var t=n.value;Jt(t)&&(t=t[0]),(null==t||isNaN(t))&&(t=e),t<0&&(t=0),Jt(n.value)?n.value[0]=t:n.value=t}var WP=function(){function n(e){this.group=new bt,e.add(this.group)}return n.prototype.render=function(e,t,i,r){var o=e.getModel("breadcrumb"),s=this.group;if(s.removeAll(),o.get("show")&&i){var l=o.getModel("itemStyle"),u=l.getModel("textStyle"),f={pos:{left:o.get("left"),right:o.get("right"),top:o.get("top"),bottom:o.get("bottom")},box:{width:t.getWidth(),height:t.getHeight()},emptyItemWidth:o.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(i,f,u),this._renderContent(e,f,l,u,r),Ly(s,f.pos,f.box)}},n.prototype._prepare=function(e,t,i){for(var r=e;r;r=r.parentNode){var o=No(r.getModel().get("name"),""),s=i.getTextRect(o),l=Math.max(s.width+16,t.emptyItemWidth);t.totalWidth+=l+8,t.renderList.push({node:r,text:o,width:l})}},n.prototype._renderContent=function(e,t,i,r,o){for(var s,l,u,f,p,m,b,w,k,M=0,I=t.emptyItemWidth,O=e.get(["breadcrumb","height"]),B=(p=(l=t.box).height,m=In((s=t.pos).left,f=l.width),b=In(s.top,p),w=In(s.right,f),k=In(s.bottom,p),(isNaN(m)||isNaN(parseFloat(s.left)))&&(m=0),(isNaN(w)||isNaN(parseFloat(s.right)))&&(w=f),(isNaN(b)||isNaN(parseFloat(s.top)))&&(b=0),(isNaN(k)||isNaN(parseFloat(s.bottom)))&&(k=p),u=Cf(u||0),{width:Math.max(w-m-u[1]-u[3],0),height:Math.max(k-b-u[0]-u[2],0)}),H=t.totalWidth,X=t.renderList,U=X.length-1;U>=0;U--){var $=X[U],et=$.node,at=$.width,At=$.text;H>B.width&&(H-=at-I,at=I,At=null);var Mt=new qa({shape:{points:jP(M,0,at,O,U===X.length-1,0===U)},style:se(i.getItemStyle(),{lineJoin:"bevel"}),textContent:new dr({style:{text:At,fill:r.getTextColor(),font:r.getFont()}}),textConfig:{position:"inside"},z2:1e5,onclick:de(o,et)});Mt.disableLabelAnimation=!0,this.group.add(Mt),YP(Mt,e,et),M+=at+8}},n.prototype.remove=function(){this.group.removeAll()},n}();function jP(n,e,t,i,r,o){var s=[[r?n:n-5,e],[n+t,e],[n+t,e+i],[r?n:n-5,e+i]];return!o&&s.splice(2,0,[n+t+5,e+i/2]),!r&&s.push([n,e+i/2]),s}function YP(n,e,t){Fi(n).eventData={componentType:"series",componentSubType:"treemap",componentIndex:e.componentIndex,seriesIndex:e.seriesIndex,seriesName:e.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:t&&t.dataIndex,name:t&&t.name},treePathInfo:t&&mk(t,e)}}var XP=function(){function n(){this._storage=[],this._elExistsMap={}}return n.prototype.add=function(e,t,i,r,o){return!this._elExistsMap[e.id]&&(this._elExistsMap[e.id]=!0,this._storage.push({el:e,target:t,duration:i,delay:r,easing:o}),!0)},n.prototype.finished=function(e){return this._finishedCallback=e,this},n.prototype.start=function(){for(var e=this,t=this._storage.length,i=function(){--t<=0&&(e._storage.length=0,e._elExistsMap={},e._finishedCallback&&e._finishedCallback())},r=0,o=this._storage.length;r<o;r++){var s=this._storage[r];s.el.animateTo(s.target,{duration:s.duration,delay:s.delay,easing:s.easing,setToFinal:!0,done:i,aborted:i})}return this},n}(),uM=bt,N2=vr,B2="upperLabel",Lv=Su([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),z2=function(n){var e=Lv(n);return e.stroke=e.fill=e.lineWidth=null,e},vk=ar(),GP=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t._state="ready",t._storage={nodeGroup:[],background:[],content:[]},t}return Tt(e,n),e.prototype.render=function(t,i,r,o){if(!(Ne(i.findComponents({mainType:"series",subType:"treemap",query:o}),t)<0)){this.seriesModel=t,this.api=r,this.ecModel=i;var s=lw(o,["treemapZoomToNode","treemapRootToNode"],t),l=o&&o.type,u=t.layoutInfo,f=!this._oldTree,p=this._storage,m="treemapRootToNode"===l&&s&&p?{rootNodeGroup:p.nodeGroup[s.node.getRawIndex()],direction:o.direction}:null,b=this._giveContainerGroup(u),w=t.get("animation"),k=this._doRender(b,t,m);!w||f||l&&"treemapZoomToNode"!==l&&"treemapRootToNode"!==l?k.renderFinally():this._doAnimation(b,k,t,m),this._resetController(r),this._renderBreadcrumb(t,r,s)}},e.prototype._giveContainerGroup=function(t){var i=this._containerGroup;return i||(i=this._containerGroup=new uM,this._initEvents(i),this.group.add(i)),i.x=t.x,i.y=t.y,i},e.prototype._doRender=function(t,i,r){var o=i.getData().tree,s=this._oldTree,l={nodeGroup:[],background:[],content:[]},u={nodeGroup:[],background:[],content:[]},f=this._storage,p=[];!function w(k,M,I,O,B){function H(U){return U.getId()}function X(U,$){var et=null!=U?k[U]:null,at=null!=$?M[$]:null,At=function(w,k,M,I){return function(O,B,H,X,U,$,et,at,At,Mt){if(et){var Lt=et.getLayout(),Gt=O.getData(),ne=et.getModel();if(Gt.setItemGraphicEl(et.dataIndex,null),Lt&&Lt.isInView){var re=Lt.width,fe=Lt.height,ye=Lt.borderWidth,Te=Lt.invisible,Ie=et.getRawIndex(),Re=at&&at.getRawIndex(),Xe=et.viewChildren,cn=Lt.upperHeight,_n=Xe&&Xe.length,Hn=ne.getModel("itemStyle"),gn=ne.getModel(["emphasis","itemStyle"]),Dn=ne.getModel(["blur","itemStyle"]),Un=ne.getModel(["select","itemStyle"]),Yn=Hn.get("borderRadius")||0,Xn=xo("nodeGroup",uM);if(Xn){if(At.add(Xn),Xn.x=Lt.x||0,Xn.y=Lt.y||0,Xn.markRedraw(),vk(Xn).nodeWidth=re,vk(Xn).nodeHeight=fe,Lt.isAboveViewRoot)return Xn;var di=xo("background",N2,Mt,20);di&&function(eo,fr,Qr){var Br=Fi(fr);if(Br.dataIndex=et.dataIndex,Br.seriesIndex=O.seriesIndex,fr.setShape({x:0,y:0,width:re,height:fe,r:Yn}),Te)Ir(fr);else{fr.invisible=!1;var Ui=et.getVisual("style"),fs=Ui.stroke,Qa=z2(Hn);Qa.fill=fs;var bo=Lv(gn);bo.fill=gn.get("borderColor");var Rl=Lv(Dn);Rl.fill=Dn.get("borderColor");var up=Lv(Un);up.fill=Un.get("borderColor"),Qr?Ar(fr,fs,Ui.opacity,{x:ye,y:0,width:re-2*ye,height:cn}):fr.removeTextContent(),fr.setStyle(Qa),fr.ensureState("emphasis").style=bo,fr.ensureState("blur").style=Rl,fr.ensureState("select").style=up,gf(fr)}eo.add(fr)}(Xn,di,_n&&Lt.upperLabelHeight);var fi=ne.get(["emphasis","focus"]),Pi=ne.get(["emphasis","blurScope"]),Wi="ancestor"===fi?et.getAncestorsIndices():"descendant"===fi?et.getDescendantIndices():fi;if(_n)$g(Xn)&&mf(Xn,!1),di&&(mf(di,!0),Gt.setItemGraphicEl(et.dataIndex,di),ey(di,Wi,Pi));else{var Gi=xo("content",N2,Mt,30);Gi&&function(eo,fr){var Qr=Fi(fr);Qr.dataIndex=et.dataIndex,Qr.seriesIndex=O.seriesIndex;var Br=Math.max(re-2*ye,0),Ui=Math.max(fe-2*ye,0);if(fr.culling=!0,fr.setShape({x:ye,y:ye,width:Br,height:Ui,r:Yn}),Te)Ir(fr);else{fr.invisible=!1;var fs=et.getVisual("style"),Qa=fs.fill,bo=z2(Hn);bo.fill=Qa,bo.decal=fs.decal;var Rl=Lv(gn),up=Lv(Dn),Fx=Lv(Un);Ar(fr,Qa,fs.opacity,null),fr.setStyle(bo),fr.ensureState("emphasis").style=Rl,fr.ensureState("blur").style=up,fr.ensureState("select").style=Fx,gf(fr)}eo.add(fr)}(Xn,Gi),di.disableMorphing=!0,di&&$g(di)&&mf(di,!1),mf(Xn,!0),Gt.setItemGraphicEl(et.dataIndex,Xn),ey(Xn,Wi,Pi)}return Xn}}}function Ir(eo){!eo.invisible&&$.push(eo)}function Ar(eo,fr,Qr,Br){var Ui=ne.getModel(Br?B2:"label"),fs=No(ne.get("name"),null),Qa=Ui.getShallow("show");xs(eo,Sa(ne,Br?B2:"label"),{defaultText:Qa?fs:null,inheritColor:fr,defaultOpacity:Qr,labelFetcher:O,labelDataIndex:et.dataIndex});var bo=eo.getTextContent();if(bo){var Rl=bo.style,up=Oi(Rl.padding||0);Br&&(eo.setTextConfig({layoutRect:Br}),bo.disableLabelLayout=!0),bo.beforeUpdate=function(){var mP=Math.max((Br?Br.width:eo.shape.width)-up[1]-up[3],0),vP=Math.max((Br?Br.height:eo.shape.height)-up[0]-up[2],0);Rl.width===mP&&Rl.height===vP||bo.setStyle({width:mP,height:vP})},Rl.truncateMinChar=2,Rl.lineOverflow="truncate",ua(Rl,Br,Lt);var Fx=bo.getState("emphasis");ua(Fx?Fx.style:null,Br,Lt)}}function ua(eo,fr,Qr){var Br=eo?eo.text:null;if(!fr&&Qr.isLeafRoot&&null!=Br){var Ui=O.get("drillDownIcon",!0);eo.text=Ui?Ui+" "+Br:Br}}function xo(eo,fr,Qr,Br){var Ui=null!=Re&&H[eo][Re],fs=U[eo];return Ui?(H[eo][Re]=null,function(eo,fr){var Qr=eo[Ie]={};fr instanceof uM?(Qr.oldX=fr.x,Qr.oldY=fr.y):Qr.oldShape=Dt({},fr.shape)}(fs,Ui)):Te||((Ui=new fr)instanceof Xr&&(Ui.z2=100*Qr+Br),function(eo,fr){var Qr=eo[Ie]={},Br=et.parentNode,Ui=fr instanceof bt;if(Br&&(!X||"drillDown"===X.direction)){var fs=0,Qa=0,bo=U.background[Br.getRawIndex()];!X&&bo&&bo.oldShape&&(fs=bo.oldShape.width,Qa=bo.oldShape.height),Ui?(Qr.oldX=0,Qr.oldY=Qa):Qr.oldShape={x:fs,y:Qa,width:0,height:0}}Qr.fadein=!Ui}(fs,Ui)),B[eo][Ie]=Ui}}(i,u,f,r,l,p,w,k,M,I)}(et,at,I,B);At&&w(et&&et.viewChildren||[],at&&at.viewChildren||[],At,O,B+1)}O?(M=k,mt(k,function(U,$){!U.isRemoved()&&X($,$)})):new Hu(M,k,H,H).add(X).update(X).remove(de(X,null)).execute()}(o.root?[o.root]:[],s&&s.root?[s.root]:[],t,o===s||!s,0);var w,k,b=(k={nodeGroup:[],background:[],content:[]},(w=f)&&mt(w,function(M,I){var O=k[I];mt(M,function(B){B&&(O.push(B),vk(B).willDelete=!0)})}),k);return this._oldTree=o,this._storage=u,{lastsForAnimation:l,willDeleteEls:b,renderFinally:function(){mt(b,function(w){mt(w,function(k){k.parent&&k.parent.remove(k)})}),mt(p,function(w){w.invisible=!0,w.dirty()})}}},e.prototype._doAnimation=function(t,i,r,o){var s=r.get("animationDurationUpdate"),l=r.get("animationEasing"),u=(Fe(s)?0:s)||0,f=(Fe(l)?null:l)||"cubicOut",p=new XP;mt(i.willDeleteEls,function(m,b){mt(m,function(w,k){if(!w.invisible){var M,I=w.parent,O=vk(I);if(o&&"drillDown"===o.direction)M=I===o.rootNodeGroup?{shape:{x:0,y:0,width:O.nodeWidth,height:O.nodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var B=0,H=0;O.willDelete||(B=O.nodeWidth/2,H=O.nodeHeight/2),M="nodeGroup"===b?{x:B,y:H,style:{opacity:0}}:{shape:{x:B,y:H,width:0,height:0},style:{opacity:0}}}M&&p.add(w,M,u,0,f)}})}),mt(this._storage,function(m,b){mt(m,function(w,k){var M=i.lastsForAnimation[b][k],I={};M&&(w instanceof bt?null!=M.oldX&&(I.x=w.x,I.y=w.y,w.x=M.oldX,w.y=M.oldY):(M.oldShape&&(I.shape=Dt({},w.shape),w.setShape(M.oldShape)),M.fadein?(w.setStyle("opacity",0),I.style={opacity:1}):1!==w.style.opacity&&(I.style={opacity:1})),p.add(w,I,u,0,f))})},this),this._state="animating",p.finished(_e(function(){this._state="ready",i.renderFinally()},this)).start()},e.prototype._resetController=function(t){var i=this._controller;i||((i=this._controller=new jn(t.getZr())).enable(this.seriesModel.get("roam")),i.on("pan",_e(this._onPan,this)),i.on("zoom",_e(this._onZoom,this)));var r=new Xi(0,0,t.getWidth(),t.getHeight());i.setPointerChecker(function(o,s,l){return r.contain(s,l)})},e.prototype._clearController=function(){var t=this._controller;t&&(t.dispose(),t=null)},e.prototype._onPan=function(t){if("animating"!==this._state&&(Math.abs(t.dx)>3||Math.abs(t.dy)>3)){var i=this.seriesModel.getData().tree.root;if(!i)return;var r=i.getLayout();if(!r)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:r.x+t.dx,y:r.y+t.dy,width:r.width,height:r.height}})}},e.prototype._onZoom=function(t){var i=t.originX,r=t.originY;if("animating"!==this._state){var o=this.seriesModel.getData().tree.root;if(!o)return;var s=o.getLayout();if(!s)return;var l=new Xi(s.x,s.y,s.width,s.height),u=this.seriesModel.layoutInfo,f=[1,0,0,1,0,0];Eo(f,f,[-(i-=u.x),-(r-=u.y)]),vh(f,f,[t.scale,t.scale]),Eo(f,f,[i,r]),l.applyTransform(f),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:l.x,y:l.y,width:l.width,height:l.height}})}},e.prototype._initEvents=function(t){var i=this;t.on("click",function(r){if("ready"===i._state){var o=i.seriesModel.get("nodeClick",!0);if(o){var s=i.findTarget(r.offsetX,r.offsetY);if(s){var l=s.node;if(l.getLayout().isLeafRoot)i._rootToNode(s);else if("zoomToNode"===o)i._zoomToNode(s);else if("link"===o){var u=l.hostTree.data.getItemModel(l.dataIndex),f=u.get("link",!0),p=u.get("target",!0)||"blank";f&&bm(f,p)}}}}},this)},e.prototype._renderBreadcrumb=function(t,i,r){var o=this;r||(r=null!=t.get("leafDepth",!0)?{node:t.getViewRoot()}:this.findTarget(i.getWidth()/2,i.getHeight()/2))||(r={node:t.getData().tree.root}),(this._breadcrumb||(this._breadcrumb=new WP(this.group))).render(t,i,r.node,function(s){"animating"!==o._state&&(lM(t.getViewRoot(),s)?o._rootToNode({node:s}):o._zoomToNode({node:s}))})},e.prototype.remove=function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage={nodeGroup:[],background:[],content:[]},this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},e.prototype.dispose=function(){this._clearController()},e.prototype._zoomToNode=function(t){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:t.node})},e.prototype._rootToNode=function(t){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:t.node})},e.prototype.findTarget=function(t,i){var r;return this.seriesModel.getViewRoot().eachNode({attr:"viewChildren",order:"preorder"},function(o){var s=this._storage.background[o.getRawIndex()];if(s){var l=s.transformCoordToLocal(t,i),u=s.shape;if(!(u.x<=l[0]&&l[0]<=u.x+u.width&&u.y<=l[1]&&l[1]<=u.y+u.height))return!1;r={node:o,offsetX:l[0],offsetY:l[1]}}},this),r},e.type="treemap",e}(Rr),cw=mt,qP=$e,As=function(){function n(e){var t=e.mappingMethod,i=e.type,r=this.option=Pt(e);this.type=i,this.mappingMethod=t,this._normalizeData=UP[t];var s,l,o=n.visualHandlers[i];this.applyVisual=o.applyVisual,this.getColorMapper=o.getColorMapper,this._normalizedToVisual=o._normalizedToVisual[t],"piecewise"===t?(hM(r),l=(s=r).pieceList,s.hasSpecialVisual=!1,mt(l,function(u,f){u.originIndex=f,null!=u.visual&&(s.hasSpecialVisual=!0)})):"category"===t?r.categories?function(s){var l=s.categories,u=s.categoryMap={},f=s.visual;if(cw(l,function(b,w){u[b]=w}),!Jt(f)){var p=[];$e(f)?cw(f,function(b,w){var k=u[w];p[null!=k?k:-1]=b}):p[-1]=f,f=V2(s,p)}for(var m=l.length-1;m>=0;m--)null==f[m]&&(delete u[l[m]],l.pop())}(r):hM(r,!0):(Ni("linear"!==t||r.dataExtent),hM(r))}return n.prototype.mapValueToVisual=function(e){var t=this._normalizeData(e);return this._normalizedToVisual(t,e)},n.prototype.getNormalizer=function(){return _e(this._normalizeData,this)},n.listVisualTypes=function(){return be(n.visualHandlers)},n.isValidType=function(e){return n.visualHandlers.hasOwnProperty(e)},n.eachVisual=function(e,t,i){$e(e)?mt(e,t,i):t.call(i,e)},n.mapVisual=function(e,t,i){var r,o=Jt(e)?[]:$e(e)?{}:(r=!0,null);return n.eachVisual(e,function(s,l){var u=t.call(i,s,l);r?o=u:o[l]=u}),o},n.retrieveVisuals=function(e){var t,i={};return e&&cw(n.visualHandlers,function(r,o){e.hasOwnProperty(o)&&(i[o]=e[o],t=!0)}),t?i:null},n.prepareVisualTypes=function(e){if(Jt(e))e=e.slice();else{if(!qP(e))return[];var t=[];cw(e,function(i,r){t.push(r)}),e=t}return e.sort(function(i,r){return"color"===r&&"color"!==i&&0===i.indexOf("color")?1:-1}),e},n.dependsOn=function(e,t){return"color"===t?!(!e||0!==e.indexOf(t)):e===t},n.findPieceIndex=function(e,t,i){for(var r,o=1/0,s=0,l=t.length;s<l;s++){var u=t[s].value;if(null!=u){if(u===e||"string"==typeof u&&u===e+"")return s;i&&b(u,s)}}for(s=0,l=t.length;s<l;s++){var f=t[s],p=f.interval,m=f.close;if(p){if(p[0]===-1/0){if(xk(m[1],e,p[1]))return s}else if(p[1]===1/0){if(xk(m[0],p[0],e))return s}else if(xk(m[0],p[0],e)&&xk(m[1],e,p[1]))return s;i&&b(p[0],s),i&&b(p[1],s)}}if(i)return e===1/0?t.length-1:e===-1/0?0:r;function b(w,k){var M=Math.abs(w-e);M<o&&(o=M,r=k)}},n.visualHandlers={color:{applyVisual:hw("color"),getColorMapper:function(){var e=this.option;return _e("category"===e.mappingMethod?function(t,i){return!i&&(t=this._normalizeData(t)),dw.call(this,t)}:function(t,i,r){var o=!!r;return!i&&(t=this._normalizeData(t)),r=zl(t,e.parsedVisual,r),o?r:Wo(r,"rgba")},this)},_normalizedToVisual:{linear:function(e){return Wo(zl(e,this.option.parsedVisual),"rgba")},category:dw,piecewise:function(e,t){var i=fM.call(this,t);return null==i&&(i=Wo(zl(e,this.option.parsedVisual),"rgba")),i},fixed:Pv}},colorHue:yk(function(e,t){return Fl(e,t)}),colorSaturation:yk(function(e,t){return Fl(e,null,t)}),colorLightness:yk(function(e,t){return Fl(e,null,null,t)}),colorAlpha:yk(function(e,t){return Us(e,t)}),decal:{applyVisual:hw("decal"),_normalizedToVisual:{linear:null,category:dw,piecewise:null,fixed:null}},opacity:{applyVisual:hw("opacity"),_normalizedToVisual:dM([0,1])},liftZ:{applyVisual:hw("liftZ"),_normalizedToVisual:{linear:Pv,category:Pv,piecewise:Pv,fixed:Pv}},symbol:{applyVisual:function(e,t,i){i("symbol",this.mapValueToVisual(e))},_normalizedToVisual:{linear:F2,category:dw,piecewise:function(e,t){var i=fM.call(this,t);return null==i&&(i=F2.call(this,e)),i},fixed:Pv}},symbolSize:{applyVisual:hw("symbolSize"),_normalizedToVisual:dM([0,1])}},n}();function hM(n,e){var t=n.visual,i=[];$e(t)?cw(t,function(r){i.push(r)}):null!=t&&i.push(t),e||1!==i.length||{color:1,symbol:1}.hasOwnProperty(n.type)||(i[1]=i[0]),V2(n,i)}function yk(n){return{applyVisual:function(e,t,i){var r=this.mapValueToVisual(e);i("color",n(t("color"),r))},_normalizedToVisual:dM([0,1])}}function F2(n){var e=this.option.visual;return e[Math.round(Bn(n,[0,1],[0,e.length-1],!0))]||{}}function hw(n){return function(e,t,i){i(n,this.mapValueToVisual(e))}}function dw(n){var e=this.option.visual;return e[this.option.loop&&-1!==n?n%e.length:n]}function Pv(){return this.option.visual[0]}function dM(n){return{linear:function(e){return Bn(e,n,this.option.visual,!0)},category:dw,piecewise:function(e,t){var i=fM.call(this,t);return null==i&&(i=Bn(e,n,this.option.visual,!0)),i},fixed:Pv}}function fM(n){var e=this.option,t=e.pieceList;if(e.hasSpecialVisual){var i=t[As.findPieceIndex(n,t)];if(i&&i.visual)return i.visual[this.type]}}function V2(n,e){return n.visual=e,"color"===n.type&&(n.parsedVisual=zt(e,function(t){return ea(t)})),e}var UP={linear:function(n){return Bn(n,this.option.dataExtent,[0,1],!0)},piecewise:function(n){var e=this.option.pieceList,t=As.findPieceIndex(n,e,!0);if(null!=t)return Bn(t,[0,e.length-1],[0,1],!0)},category:function(n){var e=this.option.categories?this.option.categoryMap[n]:n;return null==e?-1:e},fixed:Mr};function xk(n,e,t){return n?e<=t:e<t}var H2=ar(),$P={seriesType:"treemap",reset:function(n){var e=n.getData().tree.root;e.isRemoved()||W2(e,{},n.getViewRoot().getAncestors(),n)}};function W2(n,e,t,i){var M,I,O,B,H,r=n.getModel(),o=n.getLayout(),s=n.hostTree.data;if(o&&!o.invisible&&o.isInView){var l,u=r.getModel("itemStyle"),f=(M=u,O=i,B=Dt({},I=e),H=O.designatedVisualItemStyle,mt(["color","colorAlpha","colorSaturation"],function(X){H[X]=I[X];var U=M.get(X);H[X]=null,null!=U&&(B[X]=U)}),B),p=s.ensureUniqueItemVisual(n.dataIndex,"style"),m=u.get("borderColor"),b=u.get("borderColorSaturation");null!=b&&(m=function(M,I){return null!=I?Fl(I,null,null,M):null}(b,l=j2(f))),p.stroke=m;var w=n.viewChildren;if(w&&w.length){var k=function(M,I,O,B,H,X){if(X&&X.length){var U=gM(I,"color")||null!=H.color&&"none"!==H.color&&(gM(I,"colorAlpha")||gM(I,"colorSaturation"));if(U){var $=I.get("visualMin"),et=I.get("visualMax"),at=O.dataExtent.slice();null!=$&&$<at[0]&&(at[0]=$),null!=et&&et>at[1]&&(at[1]=et);var At=I.get("colorMappingBy"),Mt={type:U.name,dataExtent:at,visual:U.range};"color"!==Mt.type||"index"!==At&&"id"!==At?Mt.mappingMethod="linear":(Mt.mappingMethod="category",Mt.loop=!0);var Lt=new As(Mt);return H2(Lt).drColorMappingBy=At,Lt}}}(0,r,o,0,f,w);mt(w,function(M,I){if(M.depth>=t.length||M===t[M.depth]){var O=function(B,H,X,U,$,et){var at=Dt({},H);if($){var At=$.type,Mt="color"===At&&H2($).drColorMappingBy,Lt="index"===Mt?U:"id"===Mt?et.mapIdToIndex(X.getId()):X.getValue(B.get("visualDimension"));at[At]=$.mapValueToVisual(Lt)}return at}(r,f,M,I,k,i);W2(M,O,t,i)}})}else l=j2(f),p.fill=l}}function j2(n){var e=pM(n,"color");if(e){var t=pM(n,"colorAlpha"),i=pM(n,"colorSaturation");return i&&(e=Fl(e,null,null,i)),t&&(e=Us(e,t)),e}}function pM(n,e){var t=n[e];if(null!=t&&"none"!==t)return t}function gM(n,e){var t=n.get(e);return Jt(t)&&t.length?{name:e,range:t}:null}var fw=Math.max,bk=Math.min,Y2=On,mM=mt,X2=["itemStyle","borderWidth"],ZP=["itemStyle","gapWidth"],KP=["upperLabel","show"],QP=["upperLabel","height"],JP={seriesType:"treemap",reset:function(n,e,t,i){var r=t.getWidth(),o=t.getHeight(),s=n.option,l=Ca(n.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()}),u=s.size||[],f=In(Y2(l.width,u[0]),r),p=In(Y2(l.height,u[1]),o),m=i&&i.type,b=lw(i,["treemapZoomToNode","treemapRootToNode"],n),w="treemapRender"===m||"treemapMove"===m?i.rootRect:null,k=n.getViewRoot(),M=E2(k);if("treemapMove"!==m){var I="treemapZoomToNode"===m?function(U,$,et,at,At){var Mt,Lt=($||{}).node,Gt=[at,At];if(!Lt||Lt===et)return Gt;for(var ne=at*At,re=ne*U.option.zoomToNodeRatio;Mt=Lt.parentNode;){for(var fe=0,ye=Mt.children,Te=0,Ie=ye.length;Te<Ie;Te++)fe+=ye[Te].getValue();var Re=Lt.getValue();if(0===Re)return Gt;re*=fe/Re;var Xe=Mt.getModel(),cn=Xe.get(X2);(re+=4*cn*cn+(3*cn+Math.max(cn,$2(Xe)))*Math.pow(re,.5))>_r&&(re=_r),Lt=Mt}re<ne&&(re=ne);var _n=Math.pow(re/ne,.5);return[at*_n,At*_n]}(n,b,k,f,p):w?[w.width,w.height]:[f,p],O=s.sort;O&&"asc"!==O&&"desc"!==O&&(O="desc");var B={squareRatio:s.squareRatio,sort:O,leafDepth:s.leafDepth};k.hostTree.clearLayouts();var H={x:0,y:0,width:I[0],height:I[1],area:I[0]*I[1]};k.setLayout(H),G2(k,B,!1,0),H=k.getLayout(),mM(M,function(U,$){var et=(M[$+1]||k).getValue();U.setLayout(Dt({dataExtent:[et,et],borderWidth:0,upperHeight:0},H))})}var X=n.getData().tree.root;X.setLayout(function(U,$,et){if($)return{x:$.x,y:$.y};var at={x:0,y:0};if(!et)return at;var At=et.node,Mt=At.getLayout();if(!Mt)return at;for(var Lt=[Mt.width/2,Mt.height/2],Gt=At;Gt;){var ne=Gt.getLayout();Lt[0]+=ne.x,Lt[1]+=ne.y,Gt=Gt.parentNode}return{x:U.width/2-Lt[0],y:U.height/2-Lt[1]}}(l,w,b),!0),n.setLayoutInfo(l),U2(X,new Xi(-l.x,-l.y,r,o),M,k,0)}};function G2(n,e,t,i){var r,o;if(!n.isRemoved()){var s=n.getLayout();r=s.width,o=s.height;var l=n.getModel(),u=l.get(X2),f=l.get(ZP)/2,p=$2(l),m=Math.max(u,p),b=u-f,w=m-f;n.setLayout({borderWidth:u,upperHeight:m,upperLabelHeight:p},!0);var k=(r=fw(r-2*b,0))*(o=fw(o-b-w,0)),M=function(At,Mt,Lt,Gt,ne,re){var fe=At.children||[],ye=Gt.sort;"asc"!==ye&&"desc"!==ye&&(ye=null);var _n,Hn,Te=null!=Gt.leafDepth&&Gt.leafDepth<=re;if(ne&&!Te)return At.viewChildren=[];_n=fe=Ae(fe,function(_n){return!_n.isRemoved()}),(Hn=ye)&&_n.sort(function(gn,Dn){var Un="asc"===Hn?gn.getValue()-Dn.getValue():Dn.getValue()-gn.getValue();return 0===Un?"asc"===Hn?gn.dataIndex-Dn.dataIndex:Dn.dataIndex-gn.dataIndex:Un});var Ie=function(_n,Hn,gn){for(var Dn=0,Un=0,Yn=Hn.length;Un<Yn;Un++)Dn+=Hn[Un].getValue();var Xn,di=_n.get("visualDimension");return Hn&&Hn.length?"value"===di&&gn?(Xn=[Hn[Hn.length-1].getValue(),Hn[0].getValue()],"asc"===gn&&Xn.reverse()):(Xn=[1/0,-1/0],mM(Hn,function(fi){var Pi=fi.getValue(di);Pi<Xn[0]&&(Xn[0]=Pi),Pi>Xn[1]&&(Xn[1]=Pi)})):Xn=[NaN,NaN],{sum:Dn,dataExtent:Xn}}(Mt,fe,ye);if(0===Ie.sum)return At.viewChildren=[];if(Ie.sum=function(_n,Hn,gn,Dn,Un){if(!Dn)return gn;for(var Yn=_n.get("visibleMin"),Xn=Un.length,di=Xn,fi=Xn-1;fi>=0;fi--){var Pi=Un["asc"===Dn?Xn-fi-1:fi].getValue();Pi/gn*Hn<Yn&&(di=fi,gn-=Pi)}return Un.splice("asc"===Dn?0:di,Xn-di),gn}(Mt,Lt,Ie.sum,ye,fe),0===Ie.sum)return At.viewChildren=[];for(var Re=0,Xe=fe.length;Re<Xe;Re++){var cn=fe[Re].getValue()/Ie.sum*Lt;fe[Re].setLayout({area:cn})}return Te&&(fe.length&&At.setLayout({isLeafRoot:!0},!0),fe.length=0),At.viewChildren=fe,At.setLayout({dataExtent:Ie.dataExtent},!0),fe}(n,l,k,e,t,i);if(M.length){var I={x:b,y:w,width:r,height:o},O=bk(r,o),B=1/0,H=[];H.area=0;for(var X=0,U=M.length;X<U;){var $=M[X];H.push($),H.area+=$.getLayout().area;var et=tO(H,O,e.squareRatio);et<=B?(X++,B=et):(H.area-=H.pop().getLayout().area,q2(H,O,I,f,!1),O=bk(I.width,I.height),H.length=H.area=0,B=1/0)}if(H.length&&q2(H,O,I,f,!0),!t){var at=l.get("childrenVisibleMin");null!=at&&k<at&&(t=!0)}for(X=0,U=M.length;X<U;X++)G2(M[X],e,t,i+1)}}}function tO(n,e,t){for(var i=0,r=1/0,o=0,s=void 0,l=n.length;o<l;o++)(s=n[o].getLayout().area)&&(s<r&&(r=s),s>i&&(i=s));var u=n.area*n.area,f=e*e*t;return u?fw(f*i/u,u/(f*r)):1/0}function q2(n,e,t,i,r){var o=e===t.width?0:1,s=1-o,l=["x","y"],u=["width","height"],f=t[l[o]],p=e?n.area/e:0;(r||p>t[u[s]])&&(p=t[u[s]]);for(var m=0,b=n.length;m<b;m++){var w=n[m],k={},M=p?w.getLayout().area/p:0,I=k[u[s]]=fw(p-2*i,0),O=t[l[o]]+t[u[o]]-f,B=m===b-1||O<M?O:M,H=k[u[o]]=fw(B-2*i,0);k[l[s]]=t[l[s]]+bk(i,I/2),k[l[o]]=f+bk(i,H/2),f+=B,w.setLayout(k,!0)}t[l[s]]+=p,t[u[s]]-=p}function U2(n,e,t,i,r){var o=n.getLayout(),s=t[r],l=s&&s===n;if(!(s&&!l||r===t.length&&n!==i)){n.setLayout({isInView:!0,invisible:!l&&!e.intersect(o),isAboveViewRoot:l},!0);var u=new Xi(e.x-o.x,e.y-o.y,e.width,e.height);mM(n.viewChildren||[],function(f){U2(f,u,t,i,r+1)})}}function $2(n){return n.get(KP)?n.get(QP):0}function eO(n){var e=n.findComponents({mainType:"legend"});e&&e.length&&n.eachSeriesByType("graph",function(t){var i=t.getCategoriesData(),r=t.getGraph().data,o=i.mapArray(i.getName);r.filterSelf(function(s){var l=r.getItemModel(s).getShallow("category");if(null!=l){"number"==typeof l&&(l=o[l]);for(var u=0;u<e.length;u++)if(!e[u].isSelected(l))return!1}return!0})})}function nO(n){var e={};n.eachSeriesByType("graph",function(t){var i=t.getCategoriesData(),r=t.getData(),o={};i.each(function(s){var l=i.getName(s);o["ec-"+l]=s;var u=i.getItemModel(s),f=u.getModel("itemStyle").getItemStyle();f.fill||(f.fill=t.getColorFromPalette(l,e)),i.setItemVisual(s,"style",f);for(var p=["symbol","symbolSize","symbolKeepAspect"],m=0;m<p.length;m++){var b=u.getShallow(p[m],!0);null!=b&&i.setItemVisual(s,p[m],b)}}),i.count()&&r.each(function(s){var l=r.getItemModel(s).getShallow("category");if(null!=l){"string"==typeof l&&(l=o["ec-"+l]);var u=i.getItemVisual(l,"style");Dt(r.ensureUniqueItemVisual(s,"style"),u);for(var f=["symbol","symbolSize","symbolKeepAspect"],p=0;p<f.length;p++)r.setItemVisual(s,f[p],i.getItemVisual(l,f[p]))}})})}function _k(n){return n instanceof Array||(n=[n,n]),n}function iO(n){n.eachSeriesByType("graph",function(e){var t=e.getGraph(),i=e.getEdgeData(),r=_k(e.get("edgeSymbol")),o=_k(e.get("edgeSymbolSize"));i.setVisual("fromSymbol",r&&r[0]),i.setVisual("toSymbol",r&&r[1]),i.setVisual("fromSymbolSize",o&&o[0]),i.setVisual("toSymbolSize",o&&o[1]),i.setVisual("style",e.getModel("lineStyle").getLineStyle()),i.each(function(s){var l=i.getItemModel(s),u=t.getEdgeByIndex(s),f=_k(l.getShallow("symbol",!0)),p=_k(l.getShallow("symbolSize",!0)),m=l.getModel("lineStyle").getLineStyle(),b=i.ensureUniqueItemVisual(s,"style");switch(Dt(b,m),b.stroke){case"source":var w=u.node1.getVisual("style");b.stroke=w&&w.fill;break;case"target":w=u.node2.getVisual("style"),b.stroke=w&&w.fill}f[0]&&u.setVisual("fromSymbol",f[0]),f[1]&&u.setVisual("toSymbol",f[1]),p[0]&&u.setVisual("fromSymbolSize",p[0]),p[1]&&u.setVisual("toSymbolSize",p[1])})})}var wk=function(n){return n.get("autoCurveness")||null},Z2=function(n,e){var t=wk(n),i=20,r=[];if("number"==typeof t)i=t;else if(Jt(t))return void(n.__curvenessList=t);e>i&&(i=e);var o=i%2?i+2:i+3;r=[];for(var s=0;s<o;s++)r.push((s%2?s+1:s)/10*(s%2?-1:1));n.__curvenessList=r},pw=function(n,e,t){var i=[n.id,n.dataIndex].join("."),r=[e.id,e.dataIndex].join(".");return[t.uid,i,r].join("--\x3e")},K2=function(n){var e=n.split("--\x3e");return[e[0],e[2],e[1]].join("--\x3e")},yM=function(n,e){var t=e.__edgeMap;return t[n]?t[n].length:0};function xM(n,e,t,i){var r=wk(e),o=Jt(r);if(!r)return null;var I,O,B,s=(B=pw((I=n).node1,I.node2,O=e),O.__edgeMap[B]);if(!s)return null;for(var l=-1,u=0;u<s.length;u++)if(s[u]===t){l=u;break}var f=function(I,O){return yM(pw(I.node1,I.node2,O),O)+yM(pw(I.node2,I.node1,O),O)}(n,e);Z2(e,f),n.lineStyle=n.lineStyle||{};var p=pw(n.node1,n.node2,e),m=e.__curvenessList,b=o||f%2?0:1;if(s.isForward)return m[b+l];var w=K2(p),k=yM(w,e),M=m[l+k+b];return i?o?r&&0===r[0]?(k+b)%2?M:-M:((k%2?0:1)+b)%2?M:-M:(k+b)%2?M:-M:m[l+k+b]}function Q2(n){var e=n.coordinateSystem;if(!e||"view"===e.type){var t=n.getGraph();t.eachNode(function(i){var r=i.getModel();i.setLayout([+r.get("x"),+r.get("y")])}),J2(t,n)}}function J2(n,e){n.eachEdge(function(t,i){var r=En(t.getModel().get(["lineStyle","curveness"]),-xM(t,e,i,!0),0),o=ir(t.node1.getLayout()),s=ir(t.node2.getLayout()),l=[o,s];+r&&l.push([(o[0]+s[0])/2-(o[1]-s[1])*r,(o[1]+s[1])/2-(s[0]-o[0])*r]),t.setLayout(l)})}function rO(n,e){n.eachSeriesByType("graph",function(t){var i=t.get("layout"),r=t.coordinateSystem;if(r&&"view"!==r.type){var o=t.getData(),s=[];mt(r.dimensions,function(b){s=s.concat(o.mapDimensionsAll(b))});for(var l=0;l<o.count();l++){for(var u=[],f=!1,p=0;p<s.length;p++){var m=o.get(s[p],l);isNaN(m)||(f=!0),u.push(m)}o.setItemLayout(l,f?r.dataToPoint(u):[NaN,NaN])}J2(o.graph,t)}else i&&"none"!==i||Q2(t)})}function gw(n){var e=n.coordinateSystem;if("view"!==e.type)return 1;var t=n.option.nodeScaleRatio,i=e.scaleX;return((e.getZoom()-1)*t+1)/i}function mw(n){var e=n.getVisual("symbolSize");return e instanceof Array&&(e=(e[0]+e[1])/2),+e}var tI=Math.PI,bM=[];function eI(n,e){var t=n.coordinateSystem;if(!t||"view"===t.type){var i=t.getBoundingRect(),r=n.getData(),o=r.graph,s=i.width/2+i.x,l=i.height/2+i.y,u=Math.min(i.width,i.height)/2,f=r.count();r.setLayout({cx:s,cy:l}),f&&(oO[e](n,o,r,u,s,l,f),o.eachEdge(function(p,m){var b,w=En(p.getModel().get(["lineStyle","curveness"]),xM(p,n,m),0),k=ir(p.node1.getLayout()),M=ir(p.node2.getLayout());+w&&(b=[s*(w*=3)+(k[0]+M[0])/2*(1-w),l*w+(k[1]+M[1])/2*(1-w)]),p.setLayout([k,M,b])}))}}var oO={value:function(n,e,t,i,r,o,s){var l=0,u=t.getSum("value"),f=2*Math.PI/(u||s);e.eachNode(function(p){var m=p.getValue("value"),b=f*(u?m:1)/2;l+=b,p.setLayout([i*Math.cos(l)+r,i*Math.sin(l)+o]),l+=b})},symbolSize:function(n,e,t,i,r,o,s){var l=0;bM.length=s;var u=gw(n);e.eachNode(function(m){var b=mw(m);isNaN(b)&&(b=2),b<0&&(b=0),b*=u;var w=Math.asin(b/2/i);isNaN(w)&&(w=tI/2),bM[m.dataIndex]=w,l+=2*w});var f=(2*tI-l)/s/2,p=0;e.eachNode(function(m){var b=f+bM[m.dataIndex];p+=b,m.setLayout([i*Math.cos(p)+r,i*Math.sin(p)+o]),p+=b})}};function aO(n){n.eachSeriesByType("graph",function(e){"circular"===e.get("layout")&&eI(e,"symbolSize")})}var kx=ca;function sO(n){n.eachSeriesByType("graph",function(e){var t=e.coordinateSystem;if(!t||"view"===t.type)if("force"===e.get("layout")){var i=e.preservedPoints||{},r=e.getGraph(),o=r.data,s=r.edgeData,l=e.getModel("force"),u=l.get("initLayout");e.preservedPoints?o.each(function(H){var X=o.getId(H);o.setItemLayout(H,i[X]||[NaN,NaN])}):u&&"none"!==u?"circular"===u&&eI(e,"value"):Q2(e);var f=o.getDataExtent("value"),p=s.getDataExtent("value"),m=l.get("repulsion"),b=l.get("edgeLength"),w=Jt(m)?m:[m,m],k=Jt(b)?b:[b,b];k=[k[1],k[0]];var M=o.mapArray("value",function(H,X){var U=o.getItemLayout(X),$=Bn(H,f,w);return isNaN($)&&($=(w[0]+w[1])/2),{w:$,rep:$,fixed:o.getItemModel(X).get("fixed"),p:!U||isNaN(U[0])||isNaN(U[1])?null:U}}),I=s.mapArray("value",function(H,X){var U=r.getEdgeByIndex(X),$=Bn(H,p,k);isNaN($)&&($=(k[0]+k[1])/2);var et=U.getModel(),at=En(U.getModel().get(["lineStyle","curveness"]),-xM(U,e,X,!0),0);return{n1:M[U.node1.dataIndex],n2:M[U.node2.dataIndex],d:$,curveness:at,ignoreForceLayout:et.get("ignoreForceLayout")}}),O=t.getBoundingRect(),B=function(H,X,U){for(var $=H,et=X,at=U.rect,At=at.width,Mt=at.height,Lt=[at.x+At/2,at.y+Mt/2],Gt=null==U.gravity?.1:U.gravity,ne=0;ne<$.length;ne++){var re=$[ne];re.p||(re.p=ge(At*(Math.random()-.5)+Lt[0],Mt*(Math.random()-.5)+Lt[1])),re.pp=ir(re.p),re.edges=null}var fe,ye,Te=null==U.friction?.6:U.friction,Ie=Te;return{warmUp:function(){Ie=.8*Te},setFixed:function(Re){$[Re].fixed=!0},setUnfixed:function(Re){$[Re].fixed=!1},beforeStep:function(Re){fe=Re},afterStep:function(Re){ye=Re},step:function(Re){fe&&fe($,et);for(var Xe=[],cn=$.length,_n=0;_n<et.length;_n++){var Hn=et[_n];if(!Hn.ignoreForceLayout){var gn=Hn.n1;Lr(Xe,(Xn=Hn.n2).p,gn.p);var Dn=Ja(Xe)-Hn.d,Un=Xn.w/(gn.w+Xn.w);isNaN(Un)&&(Un=0),Oa(Xe,Xe),!gn.fixed&&kx(gn.p,gn.p,Xe,Un*Dn*Ie),!Xn.fixed&&kx(Xn.p,Xn.p,Xe,-(1-Un)*Dn*Ie)}}for(_n=0;_n<cn;_n++)(Pi=$[_n]).fixed||(Lr(Xe,Lt,Pi.p),kx(Pi.p,Pi.p,Xe,Gt*Ie));for(_n=0;_n<cn;_n++){gn=$[_n];for(var Yn=_n+1;Yn<cn;Yn++){var Xn;Lr(Xe,(Xn=$[Yn]).p,gn.p),0===(Dn=Ja(Xe))&&(Xs(Xe,Math.random()-.5,Math.random()-.5),Dn=1);var di=(gn.rep+Xn.rep)/Dn/Dn;!gn.fixed&&kx(gn.pp,gn.pp,Xe,di),!Xn.fixed&&kx(Xn.pp,Xn.pp,Xe,-di)}}var fi=[];for(_n=0;_n<cn;_n++){var Pi;(Pi=$[_n]).fixed||(Lr(fi,Pi.p,Pi.pp),kx(Pi.p,Pi.p,fi,Ie),Vi(Pi.pp,Pi.p))}var Wi=(Ie*=.992)<.01;ye&&ye($,et,Wi),Re&&Re(Wi)}}}(M,I,{rect:O,gravity:l.get("gravity"),friction:l.get("friction")});B.beforeStep(function(H,X){for(var U=0,$=H.length;U<$;U++)H[U].fixed&&Vi(H[U].p,r.getNodeByIndex(U).getLayout())}),B.afterStep(function(H,X,U){for(var $=0,et=H.length;$<et;$++)H[$].fixed||r.getNodeByIndex($).setLayout(H[$].p),i[o.getId($)]=H[$].p;for($=0,et=X.length;$<et;$++){var at=X[$],At=r.getEdgeByIndex($),Mt=at.n1.p,Lt=at.n2.p,Gt=At.getLayout();(Gt=Gt?Gt.slice():[])[0]=Gt[0]||[],Gt[1]=Gt[1]||[],Vi(Gt[0],Mt),Vi(Gt[1],Lt),+at.curveness&&(Gt[2]=[(Mt[0]+Lt[0])/2-(Mt[1]-Lt[1])*at.curveness,(Mt[1]+Lt[1])/2-(Lt[0]-Mt[0])*at.curveness]),At.setLayout(Gt)}}),e.forceLayout=B,e.preservedPoints=i,B.step()}else e.forceLayout=null})}function lO(n,e){var t=[];return n.eachSeriesByType("graph",function(i){var I,O,r=i.get("coordinateSystem");if(!r||"view"===r){var o=i.getData(),s=[],l=[];Oc(o.mapArray(function(M){var I=o.getItemModel(M);return[+I.get("x"),+I.get("y")]}),s,l),l[0]-s[0]==0&&(l[0]+=1,s[0]-=1),l[1]-s[1]==0&&(l[1]+=1,s[1]-=1);var u=(l[0]-s[0])/(l[1]-s[1]),f=(I=e,O=u,Ca(Dt(i.getBoxLayoutParams(),{aspect:O}),{width:I.getWidth(),height:I.getHeight()}));isNaN(u)&&(s=[f.x,f.y],l=[f.x+f.width,f.y+f.height]);var p=l[0]-s[0],m=l[1]-s[1],b=f.width,w=f.height,k=i.coordinateSystem=new Cx;k.zoomLimit=i.get("scaleLimit"),k.setBoundingRect(s[0],s[1],p,m),k.setViewRect(f.x,f.y,b,w),k.setCenter(i.get("center")),k.setZoom(i.get("zoom")),t.push(k)}}),t}var nI=wa.prototype,_M=Mp.prototype,iI=function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1};function wM(n){return isNaN(+n.cpx1)||isNaN(+n.cpy1)}!function(n){Tt(function(){return null!==n&&n.apply(this,arguments)||this},n)}(iI);var uO=function(n){function e(t){var i=n.call(this,t)||this;return i.type="ec-line",i}return Tt(e,n),e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new iI},e.prototype.buildPath=function(t,i){wM(i)?nI.buildPath.call(this,t,i):_M.buildPath.call(this,t,i)},e.prototype.pointAt=function(t){return wM(this.shape)?nI.pointAt.call(this,t):_M.pointAt.call(this,t)},e.prototype.tangentAt=function(t){var i=this.shape,r=wM(i)?[i.x2-i.x1,i.y2-i.y1]:_M.tangentAt.call(this,t);return Oa(r,r)},e}(zi),SM=["fromSymbol","toSymbol"];function rI(n){return"_"+n+"Type"}function oI(n,e,t){var i=e.getItemVisual(t,n);if(i&&"none"!==i){var r=e.getItemVisual(t,n+"Size"),o=e.getItemVisual(t,n+"Rotate"),s=e.getItemVisual(t,n+"Offset"),l=e.getItemVisual(t,n+"KeepAspect"),u=tg(r),f=eg(s||0,u),p=oa(i,-u[0]/2+f[0],-u[1]/2+f[1],u[0],u[1],null,l);return p.__specifiedRotation=null==o||isNaN(o)?void 0:+o*Math.PI/180||0,p.name=n,p}}function CM(n,e){n.x1=e[0][0],n.y1=e[0][1],n.x2=e[1][0],n.y2=e[1][1],n.percent=1;var t=e[2];t?(n.cpx1=t[0],n.cpy1=t[1]):(n.cpx1=NaN,n.cpy1=NaN)}var kM=function(n){function e(t,i,r){var o=n.call(this)||this;return o._createLine(t,i,r),o}return Tt(e,n),e.prototype._createLine=function(t,i,r){var l,u,o=t.hostModel,s=(l=t.getItemLayout(i),CM((u=new uO({name:"line",subPixelOptimize:!0})).shape,l),u);s.shape.percent=0,ro(s,{shape:{percent:1}},o,i),this.add(s),mt(SM,function(l){var u=oI(l,t,i);this.add(u),this[rI(l)]=t.getItemVisual(i,l)},this),this._updateCommonStl(t,i,r)},e.prototype.updateData=function(t,i,r){var o=t.hostModel,s=this.childOfName("line"),l=t.getItemLayout(i),u={shape:{}};CM(u.shape,l),xr(s,u,o,i),mt(SM,function(f){var p=t.getItemVisual(i,f),m=rI(f);if(this[m]!==p){this.remove(this.childOfName(f));var b=oI(f,t,i);this.add(b)}this[m]=p},this),this._updateCommonStl(t,i,r)},e.prototype.getLinePath=function(){return this.childAt(0)},e.prototype._updateCommonStl=function(t,i,r){var o=t.hostModel,s=this.childOfName("line"),l=r&&r.emphasisLineStyle,u=r&&r.blurLineStyle,f=r&&r.selectLineStyle,p=r&&r.labelStatesModels;if(!r||t.hasItemOption){var m=t.getItemModel(i);l=m.getModel(["emphasis","lineStyle"]).getLineStyle(),u=m.getModel(["blur","lineStyle"]).getLineStyle(),f=m.getModel(["select","lineStyle"]).getLineStyle(),p=Sa(m)}var b=t.getItemVisual(i,"style"),w=b.stroke;s.useStyle(b),s.style.fill=null,s.style.strokeNoScale=!0,s.ensureState("emphasis").style=l,s.ensureState("blur").style=u,s.ensureState("select").style=f,mt(SM,function(B){var H=this.childOfName(B);if(H){H.setColor(w),H.style.opacity=b.opacity;for(var X=0;X<Bs.length;X++){var U=Bs[X],$=s.getState(U);if($){var et=$.style||{},at=H.ensureState(U),At=at.style||(at.style={});null!=et.stroke&&(At[H.__isEmptyBrush?"stroke":"fill"]=et.stroke),null!=et.opacity&&(At.opacity=et.opacity)}}H.markRedraw()}},this);var k=o.getRawValue(i);xs(this,p,{labelDataIndex:i,labelFetcher:{getFormattedLabel:function(B,H){return o.getFormattedLabel(B,H,t.dataType)}},inheritColor:w||"#000",defaultOpacity:b.opacity,defaultText:(null==k?t.getName(i):isFinite(k)?xi(k):k)+""});var M=this.getTextContent();if(M){var I=p.normal;M.__align=M.style.align,M.__verticalAlign=M.style.verticalAlign,M.__position=I.get("position")||"middle";var O=I.get("distance");Jt(O)||(O=[O,O]),M.__labelDistance=O}this.setTextConfig({position:null,local:!0,inside:!1}),to(this)},e.prototype.highlight=function(){kl(this)},e.prototype.downplay=function(){Bc(this)},e.prototype.updateLayout=function(t,i){this.setLinePoints(t.getItemLayout(i))},e.prototype.setLinePoints=function(t){var i=this.childOfName("line");CM(i.shape,t),i.dirty()},e.prototype.beforeUpdate=function(){var t=this,i=t.childOfName("fromSymbol"),r=t.childOfName("toSymbol"),o=t.getTextContent();if(i||r||o&&!o.ignore){for(var s=1,l=this.parent;l;)l.scaleX&&(s/=l.scaleX),l=l.parent;var u=t.childOfName("line");if(this.__dirty||u.__dirty){var f=u.shape.percent,p=u.pointAt(0),m=u.pointAt(f),b=Lr([],m,p);if(Oa(b,b),i&&(i.setPosition(p),At(i,0),i.scaleX=i.scaleY=s*f,i.markRedraw()),r&&(r.setPosition(m),At(r,1),r.scaleX=r.scaleY=s*f,r.markRedraw()),o&&!o.ignore){o.x=o.y=0,o.originX=o.originY=0;var w=void 0,k=void 0,M=o.__labelDistance,I=M[0]*s,O=M[1]*s,B=f/2,H=u.tangentAt(B),X=[H[1],-H[0]],U=u.pointAt(B);X[1]>0&&(X[0]=-X[0],X[1]=-X[1]);var $=H[0]<0?-1:1;if("start"!==o.__position&&"end"!==o.__position){var et=-Math.atan2(H[1],H[0]);m[0]<p[0]&&(et=Math.PI+et),o.rotation=et}var at=void 0;switch(o.__position){case"insideStartTop":case"insideMiddleTop":case"insideEndTop":case"middle":at=-O,k="bottom";break;case"insideStartBottom":case"insideMiddleBottom":case"insideEndBottom":at=O,k="top";break;default:at=0,k="middle"}switch(o.__position){case"end":o.x=b[0]*I+m[0],o.y=b[1]*O+m[1],w=b[0]>.8?"left":b[0]<-.8?"right":"center",k=b[1]>.8?"top":b[1]<-.8?"bottom":"middle";break;case"start":o.x=-b[0]*I+p[0],o.y=-b[1]*O+p[1],w=b[0]>.8?"right":b[0]<-.8?"left":"center",k=b[1]>.8?"bottom":b[1]<-.8?"top":"middle";break;case"insideStartTop":case"insideStart":case"insideStartBottom":o.x=I*$+p[0],o.y=p[1]+at,w=H[0]<0?"right":"left",o.originX=-I*$,o.originY=-at;break;case"insideMiddleTop":case"insideMiddle":case"insideMiddleBottom":case"middle":o.x=U[0],o.y=U[1]+at,w="center",o.originY=-at;break;case"insideEndTop":case"insideEnd":case"insideEndBottom":o.x=-I*$+m[0],o.y=m[1]+at,w=H[0]>=0?"right":"left",o.originX=I*$,o.originY=-at}o.scaleX=o.scaleY=s,o.setStyle({verticalAlign:o.__verticalAlign||k,align:o.__align||w})}}}function At(Mt,Lt){var Gt=Mt.__specifiedRotation;if(null==Gt){var ne=u.tangentAt(Lt);Mt.attr("rotation",(1===Lt?-1:1)*Math.PI/2-Math.atan2(ne[1],ne[0]))}else Mt.attr("rotation",Gt)}},e}(bt),AM=function(){function n(e){this.group=new bt,this._LineCtor=e||kM}return n.prototype.isPersistent=function(){return!0},n.prototype.updateData=function(e){var t=this,i=this,r=i.group,o=i._lineData;i._lineData=e,o||r.removeAll();var s=aI(e);e.diff(o).add(function(l){t._doAdd(e,l,s)}).update(function(l,u){t._doUpdate(o,e,u,l,s)}).remove(function(l){r.remove(o.getItemGraphicEl(l))}).execute()},n.prototype.updateLayout=function(){var e=this._lineData;e&&e.eachItemGraphicEl(function(t,i){t.updateLayout(e,i)},this)},n.prototype.incrementalPrepareUpdate=function(e){this._seriesScope=aI(e),this._lineData=null,this.group.removeAll()},n.prototype.incrementalUpdate=function(e,t){function i(s){var l;s.isGroup||(l=s).animators&&l.animators.length>0||(s.incremental=!0,s.ensureState("emphasis").hoverLayer=!0)}for(var r=e.start;r<e.end;r++)if(MM(t.getItemLayout(r))){var o=new this._LineCtor(t,r,this._seriesScope);o.traverse(i),this.group.add(o),t.setItemGraphicEl(r,o)}},n.prototype.remove=function(){this.group.removeAll()},n.prototype._doAdd=function(e,t,i){if(MM(e.getItemLayout(t))){var r=new this._LineCtor(e,t,i);e.setItemGraphicEl(t,r),this.group.add(r)}},n.prototype._doUpdate=function(e,t,i,r,o){var s=e.getItemGraphicEl(i);MM(t.getItemLayout(r))?(s?s.updateData(t,r,o):s=new this._LineCtor(t,r,o),t.setItemGraphicEl(r,s),this.group.add(s)):this.group.remove(s)},n}();function aI(n){var e=n.hostModel;return{lineStyle:e.getModel("lineStyle").getLineStyle(),emphasisLineStyle:e.getModel(["emphasis","lineStyle"]).getLineStyle(),blurLineStyle:e.getModel(["blur","lineStyle"]).getLineStyle(),selectLineStyle:e.getModel(["select","lineStyle"]).getLineStyle(),labelStatesModels:Sa(e)}}function sI(n){return isNaN(n[0])||isNaN(n[1])}function MM(n){return!sI(n[0])&&!sI(n[1])}var TM=[],IM=[],DM=[],Ax=_a,EM=Aa,lI=Math.abs;function uI(n,e,t){for(var i,r=n[0],o=n[1],s=n[2],l=1/0,u=t*t,f=.1,p=.1;p<=.9;p+=.1)TM[0]=Ax(r[0],o[0],s[0],p),TM[1]=Ax(r[1],o[1],s[1],p),(w=lI(EM(TM,e)-u))<l&&(l=w,i=p);for(var m=0;m<32;m++){var b=i+f;IM[0]=Ax(r[0],o[0],s[0],i),IM[1]=Ax(r[1],o[1],s[1],i),DM[0]=Ax(r[0],o[0],s[0],b),DM[1]=Ax(r[1],o[1],s[1],b);var w=EM(IM,e)-u;if(lI(w)<.01)break;var k=EM(DM,e)-u;f/=2,w<0?k>=0?i+=f:i-=f:k>=0?i-=f:i+=f}return i}function LM(n,e){var t=[],i=cd,r=[[],[],[]],o=[[],[]],s=[];e/=2,n.eachEdge(function(l,u){var f=l.getLayout(),p=l.getVisual("fromSymbol"),m=l.getVisual("toSymbol");f.__original||(f.__original=[ir(f[0]),ir(f[1])],f[2]&&f.__original.push(ir(f[2])));var b=f.__original;if(null!=f[2]){if(Vi(r[0],b[0]),Vi(r[1],b[2]),Vi(r[2],b[1]),p&&"none"!==p){var w=mw(l.node1),k=uI(r,b[0],w*e);i(r[0][0],r[1][0],r[2][0],k,t),r[0][0]=t[3],r[1][0]=t[4],i(r[0][1],r[1][1],r[2][1],k,t),r[0][1]=t[3],r[1][1]=t[4]}m&&"none"!==m&&(w=mw(l.node2),k=uI(r,b[1],w*e),i(r[0][0],r[1][0],r[2][0],k,t),r[1][0]=t[1],r[2][0]=t[2],i(r[0][1],r[1][1],r[2][1],k,t),r[1][1]=t[1],r[2][1]=t[2]),Vi(f[0],r[0]),Vi(f[1],r[2]),Vi(f[2],r[1])}else Vi(o[0],b[0]),Vi(o[1],b[1]),Lr(s,o[1],o[0]),Oa(s,s),p&&"none"!==p&&(w=mw(l.node1),ca(o[0],o[0],s,w*e)),m&&"none"!==m&&(w=mw(l.node2),ca(o[1],o[1],s,-w*e)),Vi(f[0],o[0]),Vi(f[1],o[1])})}function cI(n){return"view"===n.type}var cO=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return Tt(e,n),e.prototype.init=function(t,i){var r=new ep,o=new AM,s=this.group;this._controller=new jn(i.getZr()),this._controllerHost={target:s},s.add(r.group),s.add(o.group),this._symbolDraw=r,this._lineDraw=o,this._firstRender=!0},e.prototype.render=function(t,i,r){var o=this,s=t.coordinateSystem;this._model=t;var l=this._symbolDraw,u=this._lineDraw,f=this.group;if(cI(s)){var p={x:s.x,y:s.y,scaleX:s.scaleX,scaleY:s.scaleY};this._firstRender?f.attr(p):xr(f,p,t)}LM(t.getGraph(),gw(t));var m=t.getData();l.updateData(m);var b=t.getEdgeData();u.updateData(b),this._updateNodeAndLinkScale(),this._updateController(t,i,r),clearTimeout(this._layoutTimeout);var w=t.forceLayout,k=t.get(["force","layoutAnimation"]);w&&this._startForceLayoutIteration(w,k),m.graph.eachNode(function(B){var H=B.dataIndex,X=B.getGraphicEl(),U=B.getModel();X.off("drag").off("dragend");var $=U.get("draggable");$&&X.on("drag",function(){w&&(w.warmUp(),!o._layouting&&o._startForceLayoutIteration(w,k),w.setFixed(H),m.setItemLayout(H,[X.x,X.y]))}).on("dragend",function(){w&&w.setUnfixed(H)}),X.setDraggable($&&!!w),"adjacency"===U.get(["emphasis","focus"])&&(Fi(X).focus=B.getAdjacentDataIndices())}),m.graph.eachEdge(function(B){var H=B.getGraphicEl();"adjacency"===B.getModel().get(["emphasis","focus"])&&(Fi(H).focus={edge:[B.dataIndex],node:[B.node1.dataIndex,B.node2.dataIndex]})});var M="circular"===t.get("layout")&&t.get(["circular","rotateLabel"]),I=m.getLayout("cx"),O=m.getLayout("cy");m.eachItemGraphicEl(function(B,H){var X=m.getItemModel(H).get(["label","rotate"])||0,U=B.getSymbolPath();if(M){var $=m.getItemLayout(H),et=Math.atan2($[1]-O,$[0]-I);et<0&&(et=2*Math.PI+et);var at=$[0]<I;at&&(et-=Math.PI);var At=at?"left":"right";U.setTextConfig({rotation:-et,position:At,origin:"center"});var Mt=U.ensureState("emphasis");Dt(Mt.textConfig||(Mt.textConfig={}),{position:At})}else U.setTextConfig({rotation:X*=Math.PI/180})}),this._firstRender=!1},e.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},e.prototype._startForceLayoutIteration=function(t,i){var r=this;!function o(){t.step(function(s){r.updateLayout(r._model),(r._layouting=!s)&&(i?r._layoutTimeout=setTimeout(o,16):o())})}()},e.prototype._updateController=function(t,i,r){var o=this,s=this._controller,l=this._controllerHost,u=this.group;s.setPointerChecker(function(f,p,m){var b=u.getBoundingRect();return b.applyTransform(u.transform),b.contain(p,m)&&!Or(f,r,t)}),cI(t.coordinateSystem)?(s.enable(t.get("roam")),l.zoomLimit=t.get("scaleLimit"),l.zoom=t.coordinateSystem.getZoom(),s.off("pan").off("zoom").on("pan",function(f){Sr(l,f.dx,f.dy),r.dispatchAction({seriesId:t.id,type:"graphRoam",dx:f.dx,dy:f.dy})}).on("zoom",function(f){vi(l,f.scale,f.originX,f.originY),r.dispatchAction({seriesId:t.id,type:"graphRoam",zoom:f.scale,originX:f.originX,originY:f.originY}),o._updateNodeAndLinkScale(),LM(t.getGraph(),gw(t)),o._lineDraw.updateLayout(),r.updateLabelLayout()})):s.disable()},e.prototype._updateNodeAndLinkScale=function(){var t=this._model,i=t.getData(),r=gw(t);i.eachItemGraphicEl(function(o,s){o.setSymbolScale(r)})},e.prototype.updateLayout=function(t){LM(t.getGraph(),gw(t)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},e.prototype.remove=function(t,i){this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()},e.type="graph",e}(Rr);function Mx(n){return"_EC_"+n}var hO=function(){function n(e){this.type="graph",this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this._directed=e||!1}return n.prototype.isDirected=function(){return this._directed},n.prototype.addNode=function(e,t){var i=this._nodesMap;if(!i[Mx(e=null==e?""+t:""+e)]){var r=new Ov(e,t);return r.hostGraph=this,this.nodes.push(r),i[Mx(e)]=r,r}},n.prototype.getNodeByIndex=function(e){var t=this.data.getRawIndex(e);return this.nodes[t]},n.prototype.getNodeById=function(e){return this._nodesMap[Mx(e)]},n.prototype.addEdge=function(e,t,i){var r=this._nodesMap,o=this._edgesMap;if("number"==typeof e&&(e=this.nodes[e]),"number"==typeof t&&(t=this.nodes[t]),e instanceof Ov||(e=r[Mx(e)]),t instanceof Ov||(t=r[Mx(t)]),e&&t){var s=e.id+"-"+t.id,l=new hI(e,t,i);return l.hostGraph=this,this._directed&&(e.outEdges.push(l),t.inEdges.push(l)),e.edges.push(l),e!==t&&t.edges.push(l),this.edges.push(l),o[s]=l,l}},n.prototype.getEdgeByIndex=function(e){var t=this.edgeData.getRawIndex(e);return this.edges[t]},n.prototype.getEdge=function(e,t){e instanceof Ov&&(e=e.id),t instanceof Ov&&(t=t.id);var i=this._edgesMap;return this._directed?i[e+"-"+t]:i[e+"-"+t]||i[t+"-"+e]},n.prototype.eachNode=function(e,t){for(var i=this.nodes,r=i.length,o=0;o<r;o++)i[o].dataIndex>=0&&e.call(t,i[o],o)},n.prototype.eachEdge=function(e,t){for(var i=this.edges,r=i.length,o=0;o<r;o++)i[o].dataIndex>=0&&i[o].node1.dataIndex>=0&&i[o].node2.dataIndex>=0&&e.call(t,i[o],o)},n.prototype.breadthFirstTraverse=function(e,t,i,r){if(t instanceof Ov||(t=this._nodesMap[Mx(t)]),t){for(var o="out"===i?"outEdges":"in"===i?"inEdges":"edges",s=0;s<this.nodes.length;s++)this.nodes[s].__visited=!1;if(!e.call(r,t,null))for(var l=[t];l.length;){var u=l.shift(),f=u[o];for(s=0;s<f.length;s++){var p=f[s],m=p.node1===u?p.node2:p.node1;if(!m.__visited){if(e.call(r,m,u))return;l.push(m),m.__visited=!0}}}}},n.prototype.update=function(){for(var e=this.data,t=this.edgeData,i=this.nodes,r=this.edges,o=0,s=i.length;o<s;o++)i[o].dataIndex=-1;for(o=0,s=e.count();o<s;o++)i[e.getRawIndex(o)].dataIndex=o;for(t.filterSelf(function(l){var u=r[t.getRawIndex(l)];return u.node1.dataIndex>=0&&u.node2.dataIndex>=0}),o=0,s=r.length;o<s;o++)r[o].dataIndex=-1;for(o=0,s=t.count();o<s;o++)r[t.getRawIndex(o)].dataIndex=o},n.prototype.clone=function(){for(var e=new n(this._directed),t=this.nodes,i=this.edges,r=0;r<t.length;r++)e.addNode(t[r].id,t[r].dataIndex);for(r=0;r<i.length;r++){var o=i[r];e.addEdge(o.node1.id,o.node2.id,o.dataIndex)}return e},n}(),Ov=function(){function n(e,t){this.inEdges=[],this.outEdges=[],this.edges=[],this.dataIndex=-1,this.id=null==e?"":e,this.dataIndex=null==t?-1:t}return n.prototype.degree=function(){return this.edges.length},n.prototype.inDegree=function(){return this.inEdges.length},n.prototype.outDegree=function(){return this.outEdges.length},n.prototype.getModel=function(e){if(!(this.dataIndex<0))return this.hostGraph.data.getItemModel(this.dataIndex).getModel(e)},n.prototype.getAdjacentDataIndices=function(){for(var e={edge:[],node:[]},t=0;t<this.edges.length;t++){var i=this.edges[t];i.dataIndex<0||(e.edge.push(i.dataIndex),e.node.push(i.node1.dataIndex,i.node2.dataIndex))}return e},n}(),hI=function(){function n(e,t,i){this.dataIndex=-1,this.node1=e,this.node2=t,this.dataIndex=null==i?-1:i}return n.prototype.getModel=function(e){if(!(this.dataIndex<0))return this.hostGraph.edgeData.getItemModel(this.dataIndex).getModel(e)},n.prototype.getAdjacentDataIndices=function(){return{edge:[this.dataIndex],node:[this.node1.dataIndex,this.node2.dataIndex]}},n}();function dI(n,e){return{getValue:function(t){var i=this[n][e];return i.getStore().get(i.getDimensionIndex(t||"value"),this.dataIndex)},setVisual:function(t,i){this.dataIndex>=0&&this[n][e].setItemVisual(this.dataIndex,t,i)},getVisual:function(t){return this[n][e].getItemVisual(this.dataIndex,t)},setLayout:function(t,i){this.dataIndex>=0&&this[n][e].setItemLayout(this.dataIndex,t,i)},getLayout:function(){return this[n][e].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[n][e].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[n][e].getRawIndex(this.dataIndex)}}}function fI(n,e,t,i,r){for(var o=new hO(i),s=0;s<n.length;s++)o.addNode(On(n[s].id,n[s].name,s),s);var l=[],u=[],f=0;for(s=0;s<e.length;s++){var p=e[s],m=p.source,b=p.target;o.addEdge(m,b,f)&&(u.push(p),l.push(On(No(p.id,null),m+" > "+b)),f++)}var w,k=t.get("coordinateSystem");if("cartesian2d"===k||"polar"===k)w=Jc(n,t);else{var M=Rd.get(k),I=M&&M.dimensions||[];Ne(I,"value")<0&&I.concat(["value"]);var O=dg(n,{coordDimensions:I,encodeDefine:t.getEncode()}).dimensions;(w=new _s(O,t)).initData(n)}var B=new _s(["value"],t);return B.initData(u,l),r&&r(w,B),I2({mainData:w,struct:o,structAttr:"graph",datas:{node:w,edge:B},datasAttr:{node:"data",edge:"edgeData"}}),o.update(),o}on(Ov,dI("hostGraph","data")),on(hI,dI("hostGraph","edgeData"));var dO=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t.hasSymbolVisual=!0,t}return Tt(e,n),e.prototype.init=function(t){n.prototype.init.apply(this,arguments);var i=this;function r(){return i._categoriesData}this.legendVisualProvider=new Iv(r,r),this.fillDataTextStyle(t.edges||t.links),this._updateCategoriesData()},e.prototype.mergeOption=function(t){n.prototype.mergeOption.apply(this,arguments),this.fillDataTextStyle(t.edges||t.links),this._updateCategoriesData()},e.prototype.mergeDefaultAndTheme=function(t){n.prototype.mergeDefaultAndTheme.apply(this,arguments),Xo(t,"edgeLabel",["show"])},e.prototype.getInitialData=function(t,i){var r,o=t.edges||t.links||[],s=t.data||t.nodes||[],l=this;if(s&&o){wk(r=this)&&(r.__curvenessList=[],r.__edgeMap={},Z2(r));var u=fI(s,o,this,!0,function(f,p){f.wrapMethod("getItemModel",function(k){var M=l._categoriesModels[k.getShallow("category")];return M&&(M.parentModel=k.parentModel,k.parentModel=M),k});var m=Er.prototype.getModel;function b(k,M){var I=m.call(this,k,M);return I.resolveParentPath=w,I}function w(k){if(k&&("label"===k[0]||"label"===k[1])){var M=k.slice();return"label"===k[0]?M[0]="edgeLabel":"label"===k[1]&&(M[1]="edgeLabel"),M}return k}p.wrapMethod("getItemModel",function(k){return k.resolveParentPath=w,k.getModel=b,k})});return mt(u.edges,function(f){!function(p,m,b,w){if(wk(b)){var k=pw(p,m,b),M=b.__edgeMap,I=M[K2(k)];M[k]&&!I?M[k].isForward=!0:I&&M[k]&&(I.isForward=!0,M[k].isForward=!1),M[k]=M[k]||[],M[k].push(w)}}(f.node1,f.node2,this,f.dataIndex)},this),u.data}},e.prototype.getGraph=function(){return this.getData().graph},e.prototype.getEdgeData=function(){return this.getGraph().edgeData},e.prototype.getCategoriesData=function(){return this._categoriesData},e.prototype.formatTooltip=function(t,i,r){if("edge"===r){var o=this.getData(),s=this.getDataParams(t,r),l=o.graph.getEdgeByIndex(t),u=o.getName(l.node1.dataIndex),f=o.getName(l.node2.dataIndex),p=[];return null!=u&&p.push(u),null!=f&&p.push(f),Za("nameValue",{name:p.join(" > "),value:s.value,noValue:null==s.value})}return u1({series:this,dataIndex:t,multipleSeries:i})},e.prototype._updateCategoriesData=function(){var t=zt(this.option.categories||[],function(r){return null!=r.value?r:Dt({value:0},r)}),i=new _s(["value"],this);i.initData(t),this._categoriesData=i,this._categoriesModels=i.mapArray(function(r){return i.getItemModel(r)})},e.prototype.setZoom=function(t){this.option.zoom=t},e.prototype.setCenter=function(t){this.option.center=t},e.prototype.isAnimationEnabled=function(){return n.prototype.isAnimationEnabled.call(this)&&!("force"===this.get("layout")&&this.get(["force","layoutAnimation"]))},e.type="series.graph",e.dependencies=["grid","polar","geo","singleAxis","calendar"],e.defaultOption={zlevel:0,z:2,coordinateSystem:"view",legendHoverLink:!0,layout:null,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,friction:.6,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle",distance:5},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:"#aaa",width:1,opacity:.5},emphasis:{scale:!0,label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},e}(Gr),fO={type:"graphRoam",event:"graphRoam",update:"none"},pO=function(){this.angle=0,this.width=10,this.r=10,this.x=0,this.y=0},gO=function(n){function e(t){var i=n.call(this,t)||this;return i.type="pointer",i}return Tt(e,n),e.prototype.getDefaultShape=function(){return new pO},e.prototype.buildPath=function(t,i){var r=Math.cos,o=Math.sin,s=i.r,l=i.width,u=i.angle,f=i.x-r(u)*l*(l>=s/3?1:2),p=i.y-o(u)*l*(l>=s/3?1:2);u=i.angle-Math.PI/2,t.moveTo(f,p),t.lineTo(i.x+r(u)*l,i.y+o(u)*l),t.lineTo(i.x+r(i.angle)*s,i.y+o(i.angle)*s),t.lineTo(i.x-r(u)*l,i.y-o(u)*l),t.lineTo(f,p)},e}(zi);function Sk(n,e){var t=null==n?"":n+"";return e&&("string"==typeof e?t=e.replace("{value}",t):"function"==typeof e&&(t=e(n))),t}var PM=2*Math.PI,mO=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return Tt(e,n),e.prototype.render=function(t,i,r){this.group.removeAll();var l,u,f,p,m,b,o=t.get(["axisLine","lineStyle","color"]),s=(u=r,f=(l=t).get("center"),p=u.getWidth(),m=u.getHeight(),b=Math.min(p,m),{cx:In(f[0],u.getWidth()),cy:In(f[1],u.getHeight()),r:In(l.get("radius"),b/2)});this._renderMain(t,i,r,o,s),this._data=t.getData()},e.prototype.dispose=function(){},e.prototype._renderMain=function(t,i,r,o,s){for(var l=this.group,u=t.get("clockwise"),f=-t.get("startAngle")/180*Math.PI,p=-t.get("endAngle")/180*Math.PI,m=t.getModel("axisLine"),b=m.get("roundCap")?mx:Fr,w=m.get("show"),k=m.getModel("lineStyle"),M=k.get("width"),I=(p-f)%PM||p===f?(p-f)%PM:PM,O=f,B=0;w&&B<o.length;B++){var H=new b({shape:{startAngle:O,endAngle:p=f+I*Math.min(Math.max(o[B][0],0),1),cx:s.cx,cy:s.cy,clockwise:u,r0:s.r-M,r:s.r},silent:!0});H.setStyle({fill:o[B][1]}),H.setStyle(k.getLineStyle(["color","width"])),l.add(H),O=p}var X=function($){if($<=0)return o[0][1];var et;for(et=0;et<o.length;et++)if(o[et][0]>=$&&(0===et?0:o[et-1][0])<$)return o[et][1];return o[et-1][1]};if(!u){var U=f;f=p,p=U}this._renderTicks(t,i,r,X,s,f,p,u,M),this._renderTitleAndDetail(t,i,r,X,s),this._renderAnchor(t,s),this._renderPointer(t,i,r,X,s,f,p,u,M)},e.prototype._renderTicks=function(t,i,r,o,s,l,u,f,p){for(var m,b,w=this.group,k=s.cx,M=s.cy,I=s.r,O=+t.get("min"),B=+t.get("max"),H=t.getModel("splitLine"),X=t.getModel("axisTick"),U=t.getModel("axisLabel"),$=t.get("splitNumber"),et=X.get("splitNumber"),at=In(H.get("length"),I),At=In(X.get("length"),I),Mt=l,Lt=(u-l)/$,Gt=Lt/et,ne=H.getModel("lineStyle").getLineStyle(),re=X.getModel("lineStyle").getLineStyle(),fe=H.get("distance"),ye=0;ye<=$;ye++){if(m=Math.cos(Mt),b=Math.sin(Mt),H.get("show")){var Te=new wa({shape:{x1:m*(I-(Ie=fe?fe+p:p))+k,y1:b*(I-Ie)+M,x2:m*(I-at-Ie)+k,y2:b*(I-at-Ie)+M},style:ne,silent:!0});"auto"===ne.stroke&&Te.setStyle({stroke:o(ye/$)}),w.add(Te)}if(U.get("show")){var Ie=U.get("distance")+fe,Re=Sk(xi(ye/$*(B-O)+O),U.get("formatter")),Xe=o(ye/$);w.add(new dr({style:Zo(U,{text:Re,x:m*(I-at-Ie)+k,y:b*(I-at-Ie)+M,verticalAlign:b<-.8?"top":b>.8?"bottom":"middle",align:m<-.4?"left":m>.4?"right":"center"},{inheritColor:Xe}),silent:!0}))}if(X.get("show")&&ye!==$){Ie=(Ie=X.get("distance"))?Ie+p:p;for(var cn=0;cn<=et;cn++){m=Math.cos(Mt),b=Math.sin(Mt);var _n=new wa({shape:{x1:m*(I-Ie)+k,y1:b*(I-Ie)+M,x2:m*(I-At-Ie)+k,y2:b*(I-At-Ie)+M},silent:!0,style:re});"auto"===re.stroke&&_n.setStyle({stroke:o((ye+cn/et)/$)}),w.add(_n),Mt+=Gt}Mt-=Gt}else Mt+=Lt}},e.prototype._renderPointer=function(t,i,r,o,s,l,u,f,p){var m=this.group,b=this._data,w=this._progressEls,k=[],M=t.get(["pointer","show"]),I=t.getModel("progress"),O=I.get("show"),B=t.getData(),H=B.mapDimension("value"),X=+t.get("min"),U=+t.get("max"),$=[X,U],et=[l,u];function at(Mt,Lt){var Gt,ne=B.getItemModel(Mt).getModel("pointer"),re=In(ne.get("width"),s.r),fe=In(ne.get("length"),s.r),ye=t.get(["pointer","icon"]),Te=ne.get("offsetCenter"),Ie=In(Te[0],s.r),Re=In(Te[1],s.r),Xe=ne.get("keepAspect");return(Gt=ye?oa(ye,Ie-re/2,Re-fe,re,fe,null,Xe):new gO({shape:{angle:-Math.PI/2,width:re,r:fe,x:Ie,y:Re}})).rotation=-(Lt+Math.PI/2),Gt.x=s.cx,Gt.y=s.cy,Gt}function At(Mt,Lt){var Gt=I.get("roundCap")?mx:Fr,ne=I.get("overlap"),re=ne?I.get("width"):p/B.count(),Te=new Gt({shape:{startAngle:l,endAngle:Lt,cx:s.cx,cy:s.cy,clockwise:f,r0:ne?s.r-re:s.r-(Mt+1)*re,r:ne?s.r:s.r-Mt*re}});return ne&&(Te.z2=U-B.get(H,Mt)%U),Te}(O||M)&&(B.diff(b).add(function(Mt){if(M){var Lt=at(Mt,l);ro(Lt,{rotation:-(Bn(B.get(H,Mt),$,et,!0)+Math.PI/2)},t),m.add(Lt),B.setItemGraphicEl(Mt,Lt)}if(O){var Gt=At(Mt,l),ne=I.get("clip");ro(Gt,{shape:{endAngle:Bn(B.get(H,Mt),$,et,ne)}},t),m.add(Gt),Uv(t.seriesIndex,B.dataType,Mt,Gt),k[Mt]=Gt}}).update(function(Mt,Lt){if(M){var Gt=b.getItemGraphicEl(Lt),ne=Gt?Gt.rotation:l,re=at(Mt,ne);re.rotation=ne,xr(re,{rotation:-(Bn(B.get(H,Mt),$,et,!0)+Math.PI/2)},t),m.add(re),B.setItemGraphicEl(Mt,re)}if(O){var fe=w[Lt],ye=At(Mt,fe?fe.shape.endAngle:l),Te=I.get("clip");xr(ye,{shape:{endAngle:Bn(B.get(H,Mt),$,et,Te)}},t),m.add(ye),Uv(t.seriesIndex,B.dataType,Mt,ye),k[Mt]=ye}}).execute(),B.each(function(Mt){var Lt=B.getItemModel(Mt),Gt=Lt.getModel("emphasis");if(M){var ne=B.getItemGraphicEl(Mt),re=B.getItemVisual(Mt,"style"),fe=re.fill;if(ne instanceof ga){var ye=ne.style;ne.useStyle(Dt({image:ye.image,x:ye.x,y:ye.y,width:ye.width,height:ye.height},re))}else ne.useStyle(re),"pointer"!==ne.type&&ne.setColor(fe);ne.setStyle(Lt.getModel(["pointer","itemStyle"]).getItemStyle()),"auto"===ne.style.fill&&ne.setStyle("fill",o(Bn(B.get(H,Mt),$,[0,1],!0))),ne.z2EmphasisLift=0,ls(ne,Lt),to(ne,Gt.get("focus"),Gt.get("blurScope"))}if(O){var Te=k[Mt];Te.useStyle(B.getItemVisual(Mt,"style")),Te.setStyle(Lt.getModel(["progress","itemStyle"]).getItemStyle()),Te.z2EmphasisLift=0,ls(Te,Lt),to(Te,Gt.get("focus"),Gt.get("blurScope"))}}),this._progressEls=k)},e.prototype._renderAnchor=function(t,i){var r=t.getModel("anchor");if(r.get("show")){var o=r.get("size"),s=r.get("icon"),l=r.get("offsetCenter"),u=r.get("keepAspect"),f=oa(s,i.cx-o/2+In(l[0],i.r),i.cy-o/2+In(l[1],i.r),o,o,null,u);f.z2=r.get("showAbove")?1:0,f.setStyle(r.getModel("itemStyle").getItemStyle()),this.group.add(f)}},e.prototype._renderTitleAndDetail=function(t,i,r,o,s){var l=this,u=t.getData(),f=u.mapDimension("value"),p=+t.get("min"),m=+t.get("max"),b=new bt,w=[],k=[],M=t.isAnimationEnabled(),I=t.get(["pointer","showAbove"]);u.diff(this._data).add(function(O){w[O]=new dr({silent:!0}),k[O]=new dr({silent:!0})}).update(function(O,B){w[O]=l._titleEls[B],k[O]=l._detailEls[B]}).execute(),u.each(function(O){var B=u.getItemModel(O),H=u.get(f,O),X=new bt,U=o(Bn(H,[p,m],[0,1],!0)),$=B.getModel("title");if($.get("show")){var et=$.get("offsetCenter"),at=s.cx+In(et[0],s.r),At=s.cy+In(et[1],s.r);(Te=w[O]).attr({z2:I?0:2,style:Zo($,{x:at,y:At,text:u.getName(O),align:"center",verticalAlign:"middle"},{inheritColor:U})}),X.add(Te)}var Mt=B.getModel("detail");if(Mt.get("show")){var Lt=Mt.get("offsetCenter"),Gt=s.cx+In(Lt[0],s.r),ne=s.cy+In(Lt[1],s.r),re=In(Mt.get("width"),s.r),fe=In(Mt.get("height"),s.r),ye=t.get(["progress","show"])?u.getItemVisual(O,"style").fill:U,Te=k[O],Ie=Mt.get("formatter");Te.attr({z2:I?0:2,style:Zo(Mt,{x:Gt,y:ne,text:Sk(H,Ie),width:isNaN(re)?null:re,height:isNaN(fe)?null:fe,align:"center",verticalAlign:"middle"},{inheritColor:ye})}),_y(Te,{normal:Mt},H,function(Re){return Sk(Re,Ie)}),M&&lm(Te,O,u,t,{getFormattedLabel:function(Re,Xe,cn,_n,Hn,gn){return Sk(gn?gn.interpolatedValue:H,Ie)}}),X.add(Te)}b.add(X)}),this.group.add(b),this._titleEls=w,this._detailEls=k},e.type="gauge",e}(Rr),vO=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t.visualStyleAccessPath="itemStyle",t}return Tt(e,n),e.prototype.getInitialData=function(t,i){return Mg(this,["value"])},e.type="series.gauge",e.defaultOption={zlevel:0,z:2,colorBy:"data",center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,roundCap:!1,lineStyle:{color:[[1,"#E6EBF8"]],width:10}},progress:{show:!1,overlap:!0,width:10,roundCap:!1,clip:!0},splitLine:{show:!0,length:10,distance:10,lineStyle:{color:"#63677A",width:3,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:6,distance:10,lineStyle:{color:"#63677A",width:1,type:"solid"}},axisLabel:{show:!0,distance:15,color:"#464646",fontSize:12},pointer:{icon:null,offsetCenter:[0,0],show:!0,showAbove:!0,length:"60%",width:6,keepAspect:!1},anchor:{show:!1,showAbove:!1,size:6,icon:"circle",offsetCenter:[0,0],keepAspect:!1,itemStyle:{color:"#fff",borderWidth:0,borderColor:"#5470c6"}},title:{show:!0,offsetCenter:[0,"20%"],color:"#464646",fontSize:16,valueAnimation:!1},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"#464646",fontSize:30,fontWeight:"bold",lineHeight:30,valueAnimation:!1}},e}(Gr),yO=["itemStyle","opacity"],xO=function(n){function e(t,i){var r=n.call(this)||this,o=r,s=new Fs,l=new dr;return o.setTextContent(l),r.setTextGuideLine(s),r.updateData(t,i,!0),r}return Tt(e,n),e.prototype.updateData=function(t,i,r){var o=this,s=t.hostModel,l=t.getItemModel(i),u=t.getItemLayout(i),f=l.getModel("emphasis"),p=l.get(yO);p=null==p?1:p,r||Du(o),o.useStyle(t.getItemVisual(i,"style")),o.style.lineJoin="round",r?(o.setShape({points:u.points}),o.style.opacity=0,ro(o,{style:{opacity:p}},s,i)):xr(o,{style:{opacity:p},shape:{points:u.points}},s,i),ls(o,l),this._updateLabel(t,i),to(this,f.get("focus"),f.get("blurScope"))},e.prototype._updateLabel=function(t,i){var r=this,o=this.getTextGuideLine(),s=r.getTextContent(),l=t.hostModel,u=t.getItemModel(i),f=t.getItemLayout(i).label,p=t.getItemVisual(i,"style"),m=p.fill;xs(s,Sa(u),{labelFetcher:t.hostModel,labelDataIndex:i,defaultOpacity:p.opacity,defaultText:t.getName(i)},{normal:{align:f.textAlign,verticalAlign:f.verticalAlign}}),r.setTextConfig({local:!0,inside:!!f.inside,insideStroke:m,outsideFill:m});var b=f.linePoints;o.setShape({points:b}),r.textGuideLineConfig={anchor:b?new Bi(b[0][0],b[0][1]):null},xr(s,{style:{x:f.x,y:f.y}},l,i),s.attr({rotation:f.rotation,originX:f.x,originY:f.y,z2:10}),tx(r,b_(u),{stroke:m})},e}(qa),bO=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t.ignoreLabelLineUpdate=!0,t}return Tt(e,n),e.prototype.render=function(t,i,r){var o=t.getData(),s=this._data,l=this.group;o.diff(s).add(function(u){var f=new xO(o,u);o.setItemGraphicEl(u,f),l.add(f)}).update(function(u,f){var p=s.getItemGraphicEl(f);p.updateData(o,u),l.add(p),o.setItemGraphicEl(u,p)}).remove(function(u){Dp(s.getItemGraphicEl(u),t,u)}).execute(),this._data=o},e.prototype.remove=function(){this.group.removeAll(),this._data=null},e.prototype.dispose=function(){},e.type="funnel",e}(Rr),_O=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return Tt(e,n),e.prototype.init=function(t){n.prototype.init.apply(this,arguments),this.legendVisualProvider=new Iv(_e(this.getData,this),_e(this.getRawData,this)),this._defaultLabelLine(t)},e.prototype.getInitialData=function(t,i){return Mg(this,{coordDimensions:["value"],encodeDefaulter:de(Ny,this)})},e.prototype._defaultLabelLine=function(t){Xo(t,"labelLine",["show"]);var i=t.labelLine,r=t.emphasis.labelLine;i.show=i.show&&t.label.show,r.show=r.show&&t.emphasis.label.show},e.prototype.getDataParams=function(t){var i=this.getData(),r=n.prototype.getDataParams.call(this,t),o=i.mapDimension("value"),s=i.getSum(o);return r.percent=s?+(i.get(o,t)/s*100).toFixed(2):0,r.$vars.push("percent"),r},e.type="series.funnel",e.defaultOption={zlevel:0,z:2,legendHoverLink:!0,colorBy:"data",left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",orient:"vertical",gap:0,funnelAlign:"center",label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1}},itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},e}(Gr);function wO(n,e){n.eachSeriesByType("funnel",function(t){var re,i=t.getData(),r=i.mapDimension("value"),o=t.get("sort"),s=(re=e,Ca(t.getBoxLayoutParams(),{width:re.getWidth(),height:re.getHeight()})),l=t.get("orient"),u=s.width,f=s.height,p=function(ne,re){for(var fe=ne.mapDimension("value"),ye=ne.mapArray(fe,function(cn){return cn}),Te=[],Ie="ascending"===re,Re=0,Xe=ne.count();Re<Xe;Re++)Te[Re]=Re;return"function"==typeof re?Te.sort(re):"none"!==re&&Te.sort(function(cn,_n){return Ie?ye[cn]-ye[_n]:ye[_n]-ye[cn]}),Te}(i,o),m=s.x,b=s.y,w="horizontal"===l?[In(t.get("minSize"),f),In(t.get("maxSize"),f)]:[In(t.get("minSize"),u),In(t.get("maxSize"),u)],k=i.getDataExtent(r),M=t.get("min"),I=t.get("max");null==M&&(M=Math.min(k[0],0)),null==I&&(I=k[1]);var O=t.get("funnelAlign"),B=t.get("gap"),H=(("horizontal"===l?u:f)-B*(i.count()-1))/i.count(),X=function(ne,re){if("horizontal"===l){var fe=Bn(i.get(r,ne)||0,[M,I],w,!0),ye=void 0;switch(O){case"top":ye=b;break;case"center":ye=b+(f-fe)/2;break;case"bottom":ye=b+(f-fe)}return[[re,ye],[re,ye+fe]]}var Te,Ie=Bn(i.get(r,ne)||0,[M,I],w,!0);switch(O){case"left":Te=m;break;case"center":Te=m+(u-Ie)/2;break;case"right":Te=m+u-Ie}return[[Te,re],[Te+Ie,re]]};"ascending"===o&&(H=-H,B=-B,"horizontal"===l?m+=u:b+=f,p=p.reverse());for(var U=0;U<p.length;U++){var $=p[U],et=p[U+1],at=i.getItemModel($);if("horizontal"===l){var At=at.get(["itemStyle","width"]);null==At?At=H:(At=In(At,u),"ascending"===o&&(At=-At));var Mt=X($,m),Lt=X(et,m+At);m+=At+B,i.setItemLayout($,{points:Mt.concat(Lt.slice().reverse())})}else{var Gt=at.get(["itemStyle","height"]);null==Gt?Gt=H:(Gt=In(Gt,f),"ascending"===o&&(Gt=-Gt)),Mt=X($,b),Lt=X(et,b+Gt),b+=Gt+B,i.setItemLayout($,{points:Mt.concat(Lt.slice().reverse())})}}!function(ne){var re=ne.hostModel.get("orient");ne.each(function(fe){var ye,Te,Ie,Re,Xe=ne.getItemModel(fe),cn=Xe.getModel("label").get("position"),_n=Xe.getModel("labelLine"),Hn=ne.getItemLayout(fe),gn=Hn.points,Dn="inner"===cn||"inside"===cn||"center"===cn||"insideLeft"===cn||"insideRight"===cn;if(Dn)"insideLeft"===cn?(Te=(gn[0][0]+gn[3][0])/2+5,Ie=(gn[0][1]+gn[3][1])/2,ye="left"):"insideRight"===cn?(Te=(gn[1][0]+gn[2][0])/2-5,Ie=(gn[1][1]+gn[2][1])/2,ye="right"):(Te=(gn[0][0]+gn[1][0]+gn[2][0]+gn[3][0])/4,Ie=(gn[0][1]+gn[1][1]+gn[2][1]+gn[3][1])/4,ye="center"),Re=[[Te,Ie],[Te,Ie]];else{var Un=void 0,Yn=void 0,Xn=void 0,di=void 0,fi=_n.get("length");"left"===cn?(Yn=(gn[3][1]+gn[0][1])/2,Te=(Xn=(Un=(gn[3][0]+gn[0][0])/2)-fi)-5,ye="right"):"right"===cn?(Yn=(gn[1][1]+gn[2][1])/2,Te=(Xn=(Un=(gn[1][0]+gn[2][0])/2)+fi)+5,ye="left"):"top"===cn?(Un=(gn[3][0]+gn[0][0])/2,Ie=(di=(Yn=(gn[3][1]+gn[0][1])/2)-fi)-5,ye="center"):"bottom"===cn?(Un=(gn[1][0]+gn[2][0])/2,Ie=(di=(Yn=(gn[1][1]+gn[2][1])/2)+fi)+5,ye="center"):"rightTop"===cn?(Un="horizontal"===re?gn[3][0]:gn[1][0],Yn="horizontal"===re?gn[3][1]:gn[1][1],"horizontal"===re?(Ie=(di=Yn-fi)-5,ye="center"):(Te=(Xn=Un+fi)+5,ye="top")):"rightBottom"===cn?(Un=gn[2][0],Yn=gn[2][1],"horizontal"===re?(Ie=(di=Yn+fi)+5,ye="center"):(Te=(Xn=Un+fi)+5,ye="bottom")):"leftTop"===cn?(Un=gn[0][0],Yn="horizontal"===re?gn[0][1]:gn[1][1],"horizontal"===re?(Ie=(di=Yn-fi)-5,ye="center"):(Te=(Xn=Un-fi)-5,ye="right")):"leftBottom"===cn?(Un="horizontal"===re?gn[1][0]:gn[3][0],Yn="horizontal"===re?gn[1][1]:gn[2][1],"horizontal"===re?(Ie=(di=Yn+fi)+5,ye="center"):(Te=(Xn=Un-fi)-5,ye="right")):(Un=(gn[1][0]+gn[2][0])/2,Yn=(gn[1][1]+gn[2][1])/2,"horizontal"===re?(Ie=(di=Yn+fi)+5,ye="center"):(Te=(Xn=Un+fi)+5,ye="left")),"horizontal"===re?Te=Xn=Un:Ie=di=Yn,Re=[[Un,Yn],[Xn,di]]}Hn.label={linePoints:Re,x:Te,y:Ie,verticalAlign:"middle",textAlign:ye,inside:Dn}})}(i)})}var SO=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t._dataGroup=new bt,t._initialized=!1,t}return Tt(e,n),e.prototype.init=function(){this.group.add(this._dataGroup)},e.prototype.render=function(t,i,r,o){var w,k,I,O,B,H,s=this._dataGroup,l=t.getData(),u=this._data,f=t.coordinateSystem,p=f.dimensions,m=mI(t);if(l.diff(u).add(function(w){OM(gI(l,s,w,p,f),l,w,m)}).update(function(w,k){var M=u.getItemGraphicEl(k),I=pI(l,w,p,f);l.setItemGraphicEl(w,M),xr(M,{shape:{points:I}},t,w),Du(M),OM(M,l,w,m)}).remove(function(w){var k=u.getItemGraphicEl(w);s.remove(k)}).execute(),!this._initialized){this._initialized=!0;var b=(k=t,I=(w=f).model,O=w.getRect(),B=new vr({shape:{x:O.x,y:O.y,width:O.width,height:O.height}}),H="horizontal"===I.get("layout")?"width":"height",B.setShape(H,0),ro(B,{shape:{width:O.width,height:O.height}},k,function(){setTimeout(function(){s.removeClipPath()})}),B);s.setClipPath(b)}this._data=l},e.prototype.incrementalPrepareRender=function(t,i,r){this._initialized=!0,this._data=null,this._dataGroup.removeAll()},e.prototype.incrementalRender=function(t,i,r){for(var o=i.getData(),s=i.coordinateSystem,l=s.dimensions,u=mI(i),f=t.start;f<t.end;f++){var p=gI(o,this._dataGroup,f,l,s);p.incremental=!0,OM(p,o,f,u)}},e.prototype.remove=function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null},e.type="parallel",e}(Rr);function pI(n,e,t,i){for(var r,o=[],s=0;s<t.length;s++){var l=t[s],u=n.get(n.mapDimension(l),e);r=u,("category"===i.getAxis(l).type?null==r:null==r||isNaN(r))||o.push(i.dataToPoint(u,l))}return o}function gI(n,e,t,i,r){var o=pI(n,t,i,r),s=new Fs({shape:{points:o},z2:10});return e.add(s),n.setItemGraphicEl(t,s),s}function mI(n){var e=n.get("smooth",!0);return!0===e&&(e=.3),fn(e=Po(e))&&(e=0),{smooth:e}}function OM(n,e,t,i){n.useStyle(e.getItemVisual(t,"style")),n.style.fill=null,n.setShape("smooth",i.smooth);var r=e.getItemModel(t),o=r.getModel("emphasis");ls(n,r,"lineStyle"),to(n,o.get("focus"),o.get("blurScope"))}var CO=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t.visualStyleAccessPath="lineStyle",t.visualDrawType="stroke",t}return Tt(e,n),e.prototype.getInitialData=function(t,i){return Jc(null,this,{useEncodeDefaulter:_e(kO,null,this)})},e.prototype.getRawIndicesByActiveState=function(t){var i=this.coordinateSystem,r=this.getData(),o=[];return i.eachActiveState(r,function(s,l){t===s&&o.push(r.getRawIndex(l))}),o},e.type="series.parallel",e.dependencies=["parallel"],e.defaultOption={zlevel:0,z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:!1},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:"solid"},emphasis:{label:{show:!1}},progressive:500,smooth:!1,animationEasing:"linear"},e}(Gr);function kO(n){var e=n.ecModel.getComponent("parallel",n.get("parallelIndex"));if(e){var t={};return mt(e.dimensions,function(i){var r=+i.replace("dim","");t[i]=r}),t}}var AO=["lineStyle","opacity"],MO={seriesType:"parallel",reset:function(n,e){var t=n.coordinateSystem,i={normal:n.get(["lineStyle","opacity"]),active:n.get("activeOpacity"),inactive:n.get("inactiveOpacity")};return{progress:function(r,o){t.eachActiveState(o,function(s,l){var u=i[s];if("normal"===s&&o.hasItemOption){var f=o.getItemModel(l).get(AO,!0);null!=f&&(u=f)}o.ensureUniqueItemVisual(l,"style").opacity=u},r.start,r.end)}}}};function TO(n){(function(e){if(!e.parallel){var t=!1;mt(e.series,function(i){i&&"parallel"===i.type&&(t=!0)}),t&&(e.parallel=[{}])}})(n),function(e){mt(mr(e.parallelAxis),function(t){if($e(t)){var i=t.parallelIndex||0,r=mr(e.parallel)[i];r&&r.parallelAxisDefault&&Xt(t,r.parallelAxisDefault,!1)}})}(n)}var IO=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return Tt(e,n),e.prototype.render=function(t,i,r){this._model=t,this._api=r,this._handlers||(this._handlers={},mt(DO,function(o,s){r.getZr().on(s,this._handlers[s]=_e(o,this))},this)),Up(this,"_throttledDispatchExpand",t.get("axisExpandRate"),"fixRate")},e.prototype.dispose=function(t,i){mt(this._handlers,function(r,o){i.getZr().off(o,r)}),this._handlers=null},e.prototype._throttledDispatchExpand=function(t){this._dispatchExpand(t)},e.prototype._dispatchExpand=function(t){t&&this._api.dispatchAction(Dt({type:"parallelAxisExpand"},t))},e.type="parallel",e}(co),DO={mousedown:function(n){NM(this,"click")&&(this._mouseDownPoint=[n.offsetX,n.offsetY])},mouseup:function(n){var e=this._mouseDownPoint;if(NM(this,"click")&&e){var t=[n.offsetX,n.offsetY];if(Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2)>5)return;var i=this._model.coordinateSystem.getSlidedAxisExpandWindow([n.offsetX,n.offsetY]);"none"!==i.behavior&&this._dispatchExpand({axisExpandWindow:i.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(n){if(!this._mouseDownPoint&&NM(this,"mousemove")){var e=this._model,t=e.coordinateSystem.getSlidedAxisExpandWindow([n.offsetX,n.offsetY]),i=t.behavior;"jump"===i&&this._throttledDispatchExpand.debounceNextCall(e.get("axisExpandDebounce")),this._throttledDispatchExpand("none"===i?null:{axisExpandWindow:t.axisExpandWindow,animation:"jump"===i?null:{duration:0}})}}};function NM(n,e){var t=n._model;return t.get("axisExpandable")&&t.get("axisExpandTriggerOn")===e}var EO=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return Tt(e,n),e.prototype.init=function(){n.prototype.init.apply(this,arguments),this.mergeOption({})},e.prototype.mergeOption=function(t){t&&Xt(this.option,t,!0),this._initDimensions()},e.prototype.contains=function(t,i){var r=t.get("parallelIndex");return null!=r&&i.getComponent("parallel",r)===this},e.prototype.setAxisExpand=function(t){mt(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],function(i){t.hasOwnProperty(i)&&(this.option[i]=t[i])},this)},e.prototype._initDimensions=function(){var t=this.dimensions=[],i=this.parallelAxisIndex=[];mt(Ae(this.ecModel.queryComponents({mainType:"parallelAxis"}),function(r){return(r.get("parallelIndex")||0)===this.componentIndex},this),function(r){t.push("dim"+r.get("dim")),i.push(r.componentIndex)})},e.type="parallel",e.dependencies=["parallelAxis"],e.layoutMode="box",e.defaultOption={zlevel:0,z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},e}(rr),LO=function(n){function e(t,i,r,o,s){var l=n.call(this,t,i,r)||this;return l.type=o||"value",l.axisIndex=s,l}return Tt(e,n),e.prototype.isHorizontal=function(){return"horizontal"!==this.coordinateSystem.getModel().get("layout")},e}(lu);function Nv(n,e,t,i,r,o){n=n||0;var s=t[1]-t[0];if(null!=r&&(r=Tx(r,[0,s])),null!=o&&(o=Math.max(o,null!=r?r:0)),"all"===i){var l=Math.abs(e[1]-e[0]);l=Tx(l,[0,s]),r=o=Tx(l,[r,o]),i=0}e[0]=Tx(e[0],t),e[1]=Tx(e[1],t);var u=RM(e,i);e[i]+=n;var f,p=r||0,m=t.slice();return u.sign<0?m[0]+=p:m[1]-=p,e[i]=Tx(e[i],m),f=RM(e,i),null!=r&&(f.sign!==u.sign||f.span<r)&&(e[1-i]=e[i]+u.sign*r),f=RM(e,i),null!=o&&f.span>o&&(e[1-i]=e[i]+f.sign*o),e}function RM(n,e){var t=n[e]-n[1-e];return{span:Math.abs(t),sign:t>0?-1:t<0?1:e?-1:1}}function Tx(n,e){return Math.min(null!=e[1]?e[1]:1/0,Math.max(null!=e[0]?e[0]:-1/0,n))}var BM=mt,vI=Math.min,yI=Math.max,xI=Math.floor,PO=Math.ceil,bI=xi,OO=Math.PI,NO=function(){function n(e,t,i){this.type="parallel",this._axesMap=ii(),this._axesLayout={},this.dimensions=e.dimensions,this._model=e,this._init(e,t,i)}return n.prototype._init=function(e,t,i){var o=e.parallelAxisIndex;BM(e.dimensions,function(s,l){var u=o[l],f=t.getComponent("parallelAxis",u),p=this._axesMap.set(s,new LO(s,vg(f),[0,0],f.get("type"),u));p.onBand="category"===p.type&&f.get("boundaryGap"),p.inverse=f.get("inverse"),f.axis=p,p.model=f,p.coordinateSystem=f.coordinateSystem=this},this)},n.prototype.update=function(e,t){this._updateAxesFromSeries(this._model,e)},n.prototype.containPoint=function(e){var t=this._makeLayoutInfo(),i=t.axisBase,r=t.layoutBase,o=t.pixelDimIndex,s=e[1-o],l=e[o];return s>=i&&s<=i+t.axisLength&&l>=r&&l<=r+t.layoutLength},n.prototype.getModel=function(){return this._model},n.prototype._updateAxesFromSeries=function(e,t){t.eachSeries(function(i){if(e.contains(i,t)){var r=i.getData();BM(this.dimensions,function(o){var s=this._axesMap.get(o);s.scale.unionExtentFromData(r,r.mapDimension(o)),eh(s.scale,s.model)},this)}},this)},n.prototype.resize=function(e,t){this._rect=Ca(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()}),this._layoutAxes()},n.prototype.getRect=function(){return this._rect},n.prototype._makeLayoutInfo=function(){var e,t=this._model,i=this._rect,r=["x","y"],o=["width","height"],s=t.get("layout"),l="horizontal"===s?0:1,u=i[o[l]],f=[0,u],p=this.dimensions.length,m=Ck(t.get("axisExpandWidth"),f),b=Ck(t.get("axisExpandCount")||0,[0,p]),w=t.get("axisExpandable")&&p>3&&p>b&&b>1&&m>0&&u>0,k=t.get("axisExpandWindow");k?(e=Ck(k[1]-k[0],f),k[1]=k[0]+e):(e=Ck(m*(b-1),f),(k=[m*(t.get("axisExpandCenter")||xI(p/2))-e/2])[1]=k[0]+e);var M=(u-e)/(p-b);M<3&&(M=0);var I=[xI(bI(k[0]/m,1))+1,PO(bI(k[1]/m,1))-1];return{layout:s,pixelDimIndex:l,layoutBase:i[r[l]],layoutLength:u,axisBase:i[r[1-l]],axisLength:i[o[1-l]],axisExpandable:w,axisExpandWidth:m,axisCollapseWidth:M,axisExpandWindow:k,axisCount:p,winInnerIndices:I,axisExpandWindow0Pos:M/m*k[0]}},n.prototype._layoutAxes=function(){var e=this._rect,t=this._axesMap,i=this.dimensions,r=this._makeLayoutInfo(),o=r.layout;t.each(function(s){var l=[0,r.axisLength],u=s.inverse?1:0;s.setExtent(l[u],l[1-u])}),BM(i,function(s,l){var u=(r.axisExpandable?BO:RO)(l,r),f={horizontal:{x:u.position,y:r.axisLength},vertical:{x:0,y:u.position}},m=[f[o].x+e.x,f[o].y+e.y],b={horizontal:OO/2,vertical:0}[o],w=[1,0,0,1,0,0];Vr(w,w,b),Eo(w,w,m),this._axesLayout[s]={position:m,rotation:b,transform:w,axisNameAvailableWidth:u.axisNameAvailableWidth,axisLabelShow:u.axisLabelShow,nameTruncateMaxWidth:u.nameTruncateMaxWidth,tickDirection:1,labelDirection:1}},this)},n.prototype.getAxis=function(e){return this._axesMap.get(e)},n.prototype.dataToPoint=function(e,t){return this.axisCoordToPoint(this._axesMap.get(t).dataToCoord(e),t)},n.prototype.eachActiveState=function(e,t,i,r){null==i&&(i=0),null==r&&(r=e.count());var o=this._axesMap,s=this.dimensions,l=[],u=[];mt(s,function(M){l.push(e.mapDimension(M)),u.push(o.get(M).model)});for(var f=this.hasAxisBrushed(),p=i;p<r;p++){var m=void 0;if(f){m="active";for(var b=e.getValues(l,p),w=0,k=s.length;w<k;w++)if("inactive"===u[w].getActiveState(b[w])){m="inactive";break}}else m="normal";t(m,p)}},n.prototype.hasAxisBrushed=function(){for(var e=this.dimensions,t=this._axesMap,i=!1,r=0,o=e.length;r<o;r++)"normal"!==t.get(e[r]).model.getActiveState()&&(i=!0);return i},n.prototype.axisCoordToPoint=function(e,t){return iu([e,0],this._axesLayout[t].transform)},n.prototype.getAxisLayout=function(e){return Pt(this._axesLayout[e])},n.prototype.getSlidedAxisExpandWindow=function(e){var t=this._makeLayoutInfo(),i=t.pixelDimIndex,r=t.axisExpandWindow.slice(),o=r[1]-r[0],s=[0,t.axisExpandWidth*(t.axisCount-1)];if(!this.containPoint(e))return{behavior:"none",axisExpandWindow:r};var l,u=e[i]-t.layoutBase-t.axisExpandWindow0Pos,f="slide",p=t.axisCollapseWidth,m=this._model.get("axisExpandSlideTriggerArea"),b=null!=m[0];if(p)b&&p&&u<o*m[0]?(f="jump",l=u-o*m[2]):b&&p&&u>o*(1-m[0])?(f="jump",l=u-o*(1-m[2])):(l=u-o*m[1])>=0&&(l=u-o*(1-m[1]))<=0&&(l=0),(l*=t.axisExpandWidth/p)?Nv(l,r,s,"all"):f="none";else{var w=r[1]-r[0];(r=[yI(0,s[1]*u/w-w/2)])[1]=vI(s[1],r[0]+w),r[0]=r[1]-w}return{axisExpandWindow:r,behavior:f}},n}();function Ck(n,e){return vI(yI(n,e[0]),e[1])}function RO(n,e){var t=e.layoutLength/(e.axisCount-1);return{position:t*n,axisNameAvailableWidth:t,axisLabelShow:!0}}function BO(n,e){var t,i,o=e.axisExpandWidth,l=e.axisCollapseWidth,u=e.winInnerIndices,f=l,p=!1;return n<u[0]?(t=n*l,i=l):n<=u[1]?(t=e.axisExpandWindow0Pos+n*o-e.axisExpandWindow[0],f=o,p=!0):(t=e.layoutLength-(e.axisCount-1-n)*l,i=l),{position:t,axisNameAvailableWidth:f,axisLabelShow:p,nameTruncateMaxWidth:i}}var zO={create:function(n,e){var t=[];return n.eachComponent("parallel",function(i,r){var o=new NO(i,n,e);o.name="parallel_"+r,o.resize(i,e),i.coordinateSystem=o,o.model=i,t.push(o)}),n.eachSeries(function(i){if("parallel"===i.get("coordinateSystem")){var r=i.getReferringComponents("parallel",Mo).models[0];i.coordinateSystem=r.coordinateSystem}}),t}},zM=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t.activeIntervals=[],t}return Tt(e,n),e.prototype.getAreaSelectStyle=function(){return Su([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},e.prototype.setActiveIntervals=function(t){var i=this.activeIntervals=Pt(t);if(i)for(var r=i.length-1;r>=0;r--)Li(i[r])},e.prototype.getActiveState=function(t){var i=this.activeIntervals;if(!i.length)return"normal";if(null==t||isNaN(+t))return"inactive";if(1===i.length){var r=i[0];if(r[0]<=t&&t<=r[1])return"active"}else for(var o=0,s=i.length;o<s;o++)if(i[o][0]<=t&&t<=i[o][1])return"active";return"inactive"},e}(rr);on(zM,Ud);var Rv=!0,vw=Math.min,Ix=Math.max,FO=Math.pow,VO={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},HO={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},wI={brushStyle:{lineWidth:2,stroke:"rgba(210,219,238,0.3)",fill:"#D2DBEE"},transformable:!0,brushMode:"single",removeOnClick:!1},WO=0,FM=function(n){function e(t){var i=n.call(this)||this;return i._track=[],i._covers=[],i._handlers={},i._zr=t,i.group=new bt,i._uid="brushController_"+WO++,mt(YO,function(r,o){this._handlers[o]=_e(r,this)},i),i}return Tt(e,n),e.prototype.enableBrush=function(t){return this._brushType&&this._doDisableBrush(),t.brushType&&this._doEnableBrush(t),this},e.prototype._doEnableBrush=function(t){var s,i=this._zr;this._enableGlobalPan||(s=this._uid,Mn(i).globalPan=s),mt(this._handlers,function(r,o){i.on(o,r)}),this._brushType=t.brushType,this._brushOption=Xt(Pt(wI),t,!0)},e.prototype._doDisableBrush=function(){var r,o,s,t=this._zr;r="globalPan",o=this._uid,(s=Mn(t))[r]===o&&(s[r]=null),mt(this._handlers,function(i,r){t.off(r,i)}),this._brushType=this._brushOption=null},e.prototype.setPanels=function(t){if(t&&t.length){var i=this._panels={};mt(t,function(r){i[r.panelId]=Pt(r)})}else this._panels=null;return this},e.prototype.mount=function(t){this._enableGlobalPan=(t=t||{}).enableGlobalPan;var i=this.group;return this._zr.add(i),i.attr({x:t.x||0,y:t.y||0,rotation:t.rotation||0,scaleX:t.scaleX||1,scaleY:t.scaleY||1}),this._transform=i.getLocalTransform(),this},e.prototype.updateCovers=function(t){t=zt(t,function(f){return Xt(Pt(wI),f,!0)});var i=this._covers,r=this._covers=[],o=this,s=this._creatingCover;return new Hu(i,t,function(f,p){return l(f.__brushOption,p)},l).add(u).update(u).remove(function(f){i[f]!==s&&o.group.remove(i[f])}).execute(),this;function l(f,p){return(null!=f.id?f.id:"\0-brush-index-"+p)+"-"+f.brushType}function u(f,p){var m=t[f];if(null!=p&&i[p]===s)r[f]=i[p];else{var b=r[f]=null!=p?(i[p].__brushOption=m,i[p]):CI(o,SI(o,m));VM(o,b)}}},e.prototype.unmount=function(){return this.enableBrush(!1),jM(this),this._zr.remove(this.group),this},e.prototype.dispose=function(){this.unmount(),this.off()},e}(v);function SI(n,e){var t=kk[e.brushType].createCover(n,e);return t.__brushOption=e,AI(t,e),n.group.add(t),t}function CI(n,e){var t=HM(e);return t.endCreating&&(t.endCreating(n,e),AI(e,e.__brushOption)),e}function kI(n,e){var t=e.__brushOption;HM(e).updateCoverShape(n,e,t.range,t)}function AI(n,e){var t=e.z;null==t&&(t=1e4),n.traverse(function(i){i.z=t,i.z2=t})}function VM(n,e){HM(e).updateCommon(n,e),kI(n,e)}function HM(n){return kk[n.__brushOption.brushType]}function WM(n,e,t){var i,r=n._panels;if(!r)return Rv;var o=n._transform;return mt(r,function(s){s.isTargetByCursor(e,t,o)&&(i=s)}),i}function MI(n,e){var t=n._panels;if(!t)return Rv;var i=e.__brushOption.panelId;return null!=i?t[i]:Rv}function jM(n){var e=n._covers,t=e.length;return mt(e,function(i){n.group.remove(i)},n),e.length=0,!!t}function Bv(n,e){var t=zt(n._covers,function(i){var r=i.__brushOption,o=Pt(r.range);return{brushType:r.brushType,panelId:r.panelId,range:o}});n.trigger("brush",{areas:t,isEnd:!!e.isEnd,removeOnClick:!!e.removeOnClick})}function TI(n){var e=n.length-1;return e<0&&(e=0),[n[0],n[e]]}function II(n,e,t,i){var r=new bt;return r.add(new vr({name:"main",style:XM(t),silent:!0,draggable:!0,cursor:"move",drift:de(LI,n,e,r,["n","s","w","e"]),ondragend:de(Bv,e,{isEnd:!0})})),mt(i,function(o){r.add(new vr({name:o.join(""),style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:de(LI,n,e,r,o),ondragend:de(Bv,e,{isEnd:!0})}))}),r}function DI(n,e,t,i){var r=i.brushStyle.lineWidth||0,o=Ix(r,6),s=t[0][0],l=t[1][0],u=s-r/2,f=l-r/2,p=t[0][1],m=t[1][1],b=p-o+r/2,w=m-o+r/2,k=p-s,M=m-l,I=k+r,O=M+r;op(n,e,"main",s,l,k,M),i.transformable&&(op(n,e,"w",u,f,o,O),op(n,e,"e",b,f,o,O),op(n,e,"n",u,f,I,o),op(n,e,"s",u,w,I,o),op(n,e,"nw",u,f,o,o),op(n,e,"ne",b,f,o,o),op(n,e,"sw",u,w,o,o),op(n,e,"se",b,w,o,o))}function YM(n,e){var t=e.__brushOption,i=t.transformable,r=e.childAt(0);r.useStyle(XM(t)),r.attr({silent:!i,cursor:i?"move":"default"}),mt([["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]],function(o){var u,f,p,s=e.childOfName(o.join("")),l=1===o.length?GM(n,o[0]):(("e"===(p=[GM(u=n,(f=o)[0]),GM(u,f[1])])[0]||"w"===p[0])&&p.reverse(),p.join(""));s&&s.attr({silent:!i,invisible:!i,cursor:i?HO[l]+"-resize":null})})}function op(n,e,t,i,r,o,s){var u,f,p,l=e.childOfName(t);l&&l.setShape((u=qM(n,e,[[i,r],[i+o,r+s]]),{x:f=vw(u[0][0],u[1][0]),y:p=vw(u[0][1],u[1][1]),width:Ix(u[0][0],u[1][0])-f,height:Ix(u[0][1],u[1][1])-p}))}function XM(n){return se({strokeNoScale:!0},n.brushStyle)}function EI(n,e,t,i){var r=[vw(n,t),vw(e,i)],o=[Ix(n,t),Ix(e,i)];return[[r[0],o[0]],[r[1],o[1]]]}function GM(n,e){return{left:"w",right:"e",top:"n",bottom:"s"}[xf({w:"left",e:"right",n:"top",s:"bottom"}[e],(t=n,Fc(t.group)))];var t}function LI(n,e,t,i,r,o){var s=t.__brushOption,l=n.toRectRange(s.range),u=PI(e,r,o);mt(i,function(f){var p=VO[f];l[p[0]][p[1]]+=u[p[0]]}),s.range=n.fromRectRange(EI(l[0][0],l[1][0],l[0][1],l[1][1])),VM(e,t),Bv(e,{isEnd:!1})}function jO(n,e,t,i){var r=e.__brushOption.range,o=PI(n,t,i);mt(r,function(s){s[0]+=o[0],s[1]+=o[1]}),VM(n,e),Bv(n,{isEnd:!1})}function PI(n,e,t){var i=n.group,r=i.transformCoordToLocal(e,t),o=i.transformCoordToLocal(0,0);return[r[0]-o[0],r[1]-o[1]]}function qM(n,e,t){var i=MI(n,e);return i&&i!==Rv?i.clipPath(t,n._transform):Pt(t)}function UM(n){var e=n.event;e.preventDefault&&e.preventDefault()}function $M(n,e,t){return n.childOfName("main").contain(e,t)}function OI(n,e,t,i){var r,o=n._creatingCover,s=n._creatingPanel,l=n._brushOption;if(n._track.push(t.slice()),function(p){var m=p._track;if(!m.length)return!1;var b=m[m.length-1],w=m[0],k=b[0]-w[0],M=b[1]-w[1];return FO(k*k+M*M,.5)>6}(n)||o){if(s&&!o){"single"===l.brushMode&&jM(n);var u=Pt(l);u.brushType=NI(u.brushType,s),u.panelId=s===Rv?null:s.panelId,o=n._creatingCover=SI(n,u),n._covers.push(o)}if(o){var f=kk[NI(n._brushType,s)];o.__brushOption.range=f.getCreatingRange(qM(n,o,n._track)),i&&(CI(n,o),f.updateCommon(n,o)),kI(n,o),r={isEnd:i}}}else i&&"single"===l.brushMode&&l.removeOnClick&&WM(n,e,t)&&jM(n)&&(r={isEnd:i,removeOnClick:!0});return r}function NI(n,e){return"auto"===n?e.defaultBrushType:n}var YO={mousedown:function(n){if(this._dragging)RI(this,n);else if(!n.target||!n.target.draggable){UM(n);var e=this.group.transformCoordToLocal(n.offsetX,n.offsetY);this._creatingCover=null,(this._creatingPanel=WM(this,n,e))&&(this._dragging=!0,this._track=[e.slice()])}},mousemove:function(n){var i=this.group.transformCoordToLocal(n.offsetX,n.offsetY);if(function(o,s,l){if(o._brushType&&(M=s.offsetY,I=o._zr,!((k=s.offsetX)<0||k>I.getWidth()||M<0||M>I.getHeight()))){var u=o._zr,f=o._covers,p=WM(o,s,l);if(!o._dragging)for(var m=0;m<f.length;m++){var b=f[m].__brushOption;if(p&&(p===Rv||b.panelId===p.panelId)&&kk[b.brushType].contain(f[m],l[0],l[1]))return}p&&u.setCursorStyle("crosshair")}var k,M,I}(this,n,i),this._dragging){UM(n);var r=OI(this,n,i,!1);r&&Bv(this,r)}},mouseup:function(n){RI(this,n)}};function RI(n,e){if(n._dragging){UM(e);var r=n.group.transformCoordToLocal(e.offsetX,e.offsetY),o=OI(n,e,r,!0);n._dragging=!1,n._track=[],n._creatingCover=null,o&&Bv(n,o)}}var kk={lineX:BI(0),lineY:BI(1),rect:{createCover:function(n,e){function t(i){return i}return II({toRectRange:t,fromRectRange:t},n,e,[["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]])},getCreatingRange:function(n){var e=TI(n);return EI(e[1][0],e[1][1],e[0][0],e[0][1])},updateCoverShape:function(n,e,t,i){DI(n,e,t,i)},updateCommon:YM,contain:$M},polygon:{createCover:function(n,e){var t=new bt;return t.add(new Fs({name:"main",style:XM(e),silent:!0})),t},getCreatingRange:function(n){return n},endCreating:function(n,e){e.remove(e.childAt(0)),e.add(new qa({name:"main",draggable:!0,drift:de(jO,n,e),ondragend:de(Bv,n,{isEnd:!0})}))},updateCoverShape:function(n,e,t,i){e.childAt(0).setShape({points:qM(n,e,t)})},updateCommon:YM,contain:$M}};function BI(n){return{createCover:function(e,t){return II({toRectRange:function(i){var r=[i,[0,100]];return n&&r.reverse(),r},fromRectRange:function(i){return i[n]}},e,t,[[["w"],["e"]],[["n"],["s"]]][n])},getCreatingRange:function(e){var t=TI(e);return[vw(t[0][n],t[1][n]),Ix(t[0][n],t[1][n])]},updateCoverShape:function(e,t,i,r){var o,s=MI(e,t);if(s!==Rv&&s.getLinearBrushOtherExtent)o=s.getLinearBrushOtherExtent(n);else{var l=e._zr;o=[0,[l.getWidth(),l.getHeight()][1-n]]}var u=[i,o];n&&u.reverse(),DI(e,t,u,r)},updateCommon:YM,contain:$M}}function zI(n){return n=ZM(n),function(e){return gb(e,n)}}function FI(n,e){return n=ZM(n),function(t){var i=null!=e?e:t,o=i?n.x:n.y;return[o,o+((i?n.width:n.height)||0)]}}function VI(n,e,t){var i=ZM(n);return function(r,o){return i.contain(o[0],o[1])&&!Or(r,e,t)}}function ZM(n){return Xi.create(n)}var XO=["axisLine","axisTickLabel","axisName"],GO=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return Tt(e,n),e.prototype.init=function(t,i){n.prototype.init.apply(this,arguments),(this._brushController=new FM(i.getZr())).on("brush",_e(this._onBrush,this))},e.prototype.render=function(t,i,r,o){if(k=t,!(I=o)||"axisAreaSelect"!==I.type||i.findComponents({mainType:"parallelAxis",query:I})[0]!==k){this.axisModel=t,this.api=r,this.group.removeAll();var s=this._axisGroup;if(this._axisGroup=new bt,this.group.add(this._axisGroup),t.get("show")){var l=function(k,M){return M.getComponent("parallel",k.get("parallelIndex"))}(t,i),u=l.coordinateSystem,f=t.getAreaSelectStyle(),p=f.width,b=Dt({strokeContainThreshold:p},u.getAxisLayout(t.axis.dim)),w=new Y(t,b);mt(XO,w.add,w),this._axisGroup.add(w.getGroup()),this._refreshBrushController(b,f,t,l,p,r),Md(s,this._axisGroup,t)}}var k,I},e.prototype._refreshBrushController=function(t,i,r,o,s,l){var b,w,u=r.axis.getExtent(),f=u[1]-u[0],p=Math.min(30,.1*Math.abs(f)),m=Xi.create({x:u[0],y:-s/2,width:f,height:s});m.x-=p,m.width+=2*p,this._brushController.mount({enableGlobalPan:!0,rotation:t.rotation,x:t.position[0],y:t.position[1]}).setPanels([{panelId:"pl",clipPath:zI(m),isTargetByCursor:VI(m,l,o),getLinearBrushOtherExtent:FI(m,0)}]).enableBrush({brushType:"lineX",brushStyle:i,removeOnClick:!0}).updateCovers((w=(b=r).axis,zt(b.activeIntervals,function(k){return{brushType:"lineX",panelId:"pl",range:[w.dataToCoord(k[0],!0),w.dataToCoord(k[1],!0)]}})))},e.prototype._onBrush=function(t){var r=this.axisModel,o=r.axis,s=zt(t.areas,function(l){return[o.coordToData(l.range[0],!0),o.coordToData(l.range[1],!0)]});(!r.option.realtime===t.isEnd||t.removeOnClick)&&this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:r.id,intervals:s})},e.prototype.dispose=function(){this._brushController.dispose()},e.type="parallelAxis",e}(co),qO={type:"axisAreaSelect",event:"axisAreaSelected"},UO={type:"value",areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:!0,z:10};function HI(n){n.registerComponentView(IO),n.registerComponentModel(EO),n.registerCoordinateSystem("parallel",zO),n.registerPreprocessor(TO),n.registerComponentModel(zM),n.registerComponentView(GO),$h(n,"parallel",zM,UO),function(e){e.registerAction(qO,function(t,i){i.eachComponent({mainType:"parallelAxis",query:t},function(r){r.axis.model.setActiveIntervals(t.intervals)})}),e.registerAction("parallelAxisExpand",function(t,i){i.eachComponent({mainType:"parallel",query:t},function(r){r.setAxisExpand(t)})})}(n)}var $O=function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.cpx2=0,this.cpy2=0,this.extent=0},ZO=function(n){function e(t){return n.call(this,t)||this}return Tt(e,n),e.prototype.getDefaultShape=function(){return new $O},e.prototype.buildPath=function(t,i){var r=i.extent;t.moveTo(i.x1,i.y1),t.bezierCurveTo(i.cpx1,i.cpy1,i.cpx2,i.cpy2,i.x2,i.y2),"vertical"===i.orient?(t.lineTo(i.x2+r,i.y2),t.bezierCurveTo(i.cpx2+r,i.cpy2,i.cpx1+r,i.cpy1,i.x1+r,i.y1)):(t.lineTo(i.x2,i.y2+r),t.bezierCurveTo(i.cpx2,i.cpy2+r,i.cpx1,i.cpy1+r,i.x1,i.y1+r)),t.closePath()},e.prototype.highlight=function(){kl(this)},e.prototype.downplay=function(){Bc(this)},e}(zi),KO=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t._focusAdjacencyDisabled=!1,t}return Tt(e,n),e.prototype.render=function(t,i,r){var k,M,O,o=this,s=t.getGraph(),l=this.group,u=t.layoutInfo,f=u.width,p=u.height,m=t.getData(),b=t.getData("edge"),w=t.get("orient");this._model=t,l.removeAll(),l.x=u.x,l.y=u.y,s.eachEdge(function(k){var M=new ZO,I=Fi(M);I.dataIndex=k.dataIndex,I.seriesIndex=t.seriesIndex,I.dataType="edge";var O,B,H,X,U,$,et,at,At=k.getModel(),Mt=At.getModel("lineStyle"),Lt=Mt.get("curveness"),Gt=k.node1.getLayout(),ne=k.node1.getModel(),re=ne.get("localX"),fe=ne.get("localY"),ye=k.node2.getLayout(),Te=k.node2.getModel(),Ie=Te.get("localX"),Re=Te.get("localY"),Xe=k.getLayout();switch(M.shape.extent=Math.max(1,Xe.dy),M.shape.orient=w,"vertical"===w?(U=O=(null!=re?re*f:Gt.x)+Xe.sy,$=(B=(null!=fe?fe*p:Gt.y)+Gt.dy)*(1-Lt)+(X=null!=Re?Re*p:ye.y)*Lt,et=H=(null!=Ie?Ie*f:ye.x)+Xe.ty,at=B*Lt+X*(1-Lt)):(U=(O=(null!=re?re*f:Gt.x)+Gt.dx)*(1-Lt)+(H=null!=Ie?Ie*f:ye.x)*Lt,$=B=(null!=fe?fe*p:Gt.y)+Xe.sy,et=O*Lt+H*(1-Lt),at=X=(null!=Re?Re*p:ye.y)+Xe.ty),M.setShape({x1:O,y1:B,x2:H,y2:X,cpx1:U,cpy1:$,cpx2:et,cpy2:at}),M.useStyle(Mt.getItemStyle()),M.style.fill){case"source":M.style.fill=k.node1.getVisual("color"),M.style.decal=k.node1.getVisual("style").decal;break;case"target":M.style.fill=k.node2.getVisual("color"),M.style.decal=k.node2.getVisual("style").decal;break;case"gradient":var cn=k.node1.getVisual("color"),_n=k.node2.getVisual("color");"string"==typeof cn&&"string"==typeof _n&&(M.style.fill=new Tp(0,0,+("horizontal"===w),+("vertical"===w),[{color:cn,offset:0},{color:_n,offset:1}]))}var Hn=At.getModel("emphasis");ls(M,At,"lineStyle",function(Dn){return Dn.getItemStyle()}),l.add(M),b.setItemGraphicEl(k.dataIndex,M);var gn=Hn.get("focus");to(M,"adjacency"===gn?k.getAdjacentDataIndices():gn,Hn.get("blurScope")),Fi(M).dataType="edge"}),s.eachNode(function(k){var M=k.getLayout(),I=k.getModel(),O=I.get("localX"),B=I.get("localY"),H=I.getModel("emphasis"),X=new vr({shape:{x:null!=O?O*f:M.x,y:null!=B?B*p:M.y,width:M.dx,height:M.dy},style:I.getModel("itemStyle").getItemStyle(),z2:10});xs(X,Sa(I),{labelFetcher:t,labelDataIndex:k.dataIndex,defaultText:k.id}),X.disableLabelAnimation=!0,X.setStyle("fill",k.getVisual("color")),X.setStyle("decal",k.getVisual("style").decal),ls(X,I),l.add(X),m.setItemGraphicEl(k.dataIndex,X),Fi(X).dataType="node";var U=H.get("focus");to(X,"adjacency"===U?k.getAdjacentDataIndices():U,H.get("blurScope"))}),m.eachItemGraphicEl(function(k,M){m.getItemModel(M).get("draggable")&&(k.drift=function(I,O){o._focusAdjacencyDisabled=!0,this.shape.x+=I,this.shape.y+=O,this.dirty(),r.dispatchAction({type:"dragNode",seriesId:t.id,dataIndex:m.getRawIndex(M),localX:this.shape.x/f,localY:this.shape.y/p})},k.ondragend=function(){o._focusAdjacencyDisabled=!1},k.draggable=!0,k.cursor="move")}),!this._data&&t.isAnimationEnabled()&&l.setClipPath((k=l.getBoundingRect(),M=t,ro(O=new vr({shape:{x:k.x-10,y:k.y-10,width:0,height:k.height+20}}),{shape:{width:k.width+20}},M,function(){l.removeClipPath()}),O)),this._data=t.getData()},e.prototype.dispose=function(){},e.type="sankey",e}(Rr),QO=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return Tt(e,n),e.prototype.getInitialData=function(t,i){var r=t.edges||t.links,o=t.data||t.nodes,s=t.levels;this.levelModels=[];for(var l=this.levelModels,u=0;u<s.length;u++)null!=s[u].depth&&s[u].depth>=0&&(l[s[u].depth]=new Er(s[u],this,i));if(o&&r)return fI(o,r,this,!0,function(f,p){f.wrapMethod("getItemModel",function(m,b){var w=m.parentModel,k=w.getData().getItemLayout(b);if(k){var I=w.levelModels[k.depth];I&&(m.parentModel=I)}return m}),p.wrapMethod("getItemModel",function(m,b){var w=m.parentModel,k=w.getGraph().getEdgeByIndex(b).node1.getLayout();if(k){var I=w.levelModels[k.depth];I&&(m.parentModel=I)}return m})}).data},e.prototype.setNodePosition=function(t,i){var r=(this.option.data||this.option.nodes)[t];r.localX=i[0],r.localY=i[1]},e.prototype.getGraph=function(){return this.getData().graph},e.prototype.getEdgeData=function(){return this.getGraph().edgeData},e.prototype.formatTooltip=function(t,i,r){function o(m){return isNaN(m)||null==m}if("edge"===r){var s=this.getDataParams(t,r),l=s.data,u=s.value;return Za("nameValue",{name:l.source+" -- "+l.target,value:u,noValue:o(u)})}var f=this.getGraph().getNodeByIndex(t).getLayout().value,p=this.getDataParams(t,r).data.name;return Za("nameValue",{name:null!=p?p+"":null,value:f,noValue:o(f)})},e.prototype.optionUpdated=function(){},e.prototype.getDataParams=function(t,i){var r=n.prototype.getDataParams.call(this,t,i);if(null==r.value&&"node"===i){var o=this.getGraph().getNodeByIndex(t).getLayout().value;r.value=o}return r},e.type="series.sankey",e.defaultOption={zlevel:0,z:2,coordinateSystem:"view",left:"5%",top:"5%",right:"20%",bottom:"5%",orient:"horizontal",nodeWidth:20,nodeGap:8,draggable:!0,layoutIterations:32,label:{show:!0,position:"right",fontSize:12},levels:[],nodeAlign:"justify",lineStyle:{color:"#314656",opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.5}},select:{itemStyle:{borderColor:"#212121"}},animationEasing:"linear",animationDuration:1e3},e}(Gr);function JO(n,e){n.eachSeriesByType("sankey",function(t){var b,i=t.get("nodeWidth"),r=t.get("nodeGap"),o=(b=e,Ca(t.getBoxLayoutParams(),{width:b.getWidth(),height:b.getHeight()}));t.layoutInfo=o;var s=o.width,l=o.height,u=t.getGraph(),f=u.nodes,p=u.edges;mt(f,function(b){var w=Eg(b.outEdges,Ak),k=Eg(b.inEdges,Ak),M=b.getValue()||0,I=Math.max(w,k,M);b.setLayout({value:I},!0)}),function(m,b,w,k,M,I,O,B,H){var X,$;(function(X,U,$,et,at,At,Mt){for(var Lt=[],Gt=[],ne=[],re=[],fe=0,ye=0;ye<U.length;ye++)Lt[ye]=1;for(ye=0;ye<X.length;ye++)Gt[ye]=X[ye].inEdges.length,0===Gt[ye]&&ne.push(X[ye]);for(var Te=-1;ne.length;){for(var Ie=0;Ie<ne.length;Ie++){var Re=ne[Ie],Xe=Re.hostGraph.data.getRawDataItem(Re.dataIndex),cn=null!=Xe.depth&&Xe.depth>=0;cn&&Xe.depth>Te&&(Te=Xe.depth),Re.setLayout({depth:cn?Xe.depth:fe},!0),Re.setLayout("vertical"===At?{dy:$}:{dx:$},!0);for(var _n=0;_n<Re.outEdges.length;_n++){var Hn=Re.outEdges[_n];Lt[U.indexOf(Hn)]=0;var gn=Hn.node2;0==--Gt[X.indexOf(gn)]&&re.indexOf(gn)<0&&re.push(gn)}}++fe,ne=re,re=[]}for(ye=0;ye<Lt.length;ye++)if(1===Lt[ye])throw new Error("Sankey is a DAG, the original data has cycle!");var Yn,Xn,Dn=Te>fe-1?Te:fe-1;Mt&&"left"!==Mt&&function(Un,Yn,Xn,di){if("right"===Yn){for(var fi=[],Pi=Un,Wi=0;Pi.length;){for(var Gi=0;Gi<Pi.length;Gi++){var Jo=Pi[Gi];Jo.setLayout({skNodeHeight:Wi},!0);for(var zo=0;zo<Jo.inEdges.length;zo++){var Ir=Jo.inEdges[zo];fi.indexOf(Ir.node1)<0&&fi.push(Ir.node1)}}Pi=fi,fi=[],++Wi}mt(Un,function(Ar){WI(Ar)||Ar.setLayout({depth:Math.max(0,di-Ar.getLayout().skNodeHeight)},!0)})}else"justify"===Yn&&(ua=di,mt(Un,function(xo){WI(xo)||xo.outEdges.length||xo.setLayout({depth:ua},!0)}));var ua}(X,Mt,0,Dn),Yn="vertical"===At?(at-$)/Dn:(et-$)/Dn,Xn=At,mt(X,function(di){var fi=di.getLayout().depth*Yn;di.setLayout("vertical"===Xn?{y:fi}:{x:fi},!0)})})(m,b,w,M,I,B,H),function(X,U,$,et,at,At,Mt){var fe,ye,Te,Lt=(fe=[],ye="vertical"===Mt?"y":"x",(Te=od(X,function(Ie){return Ie.getLayout()[ye]})).keys.sort(function(Ie,Re){return Ie-Re}),mt(Te.keys,function(Ie){fe.push(Te.buckets.get(Ie))}),fe);(function(ne,re,fe,ye,Te,Ie){var Re=1/0;mt(ne,function(Xe){var cn=Xe.length,_n=0;mt(Xe,function(gn){_n+=gn.getLayout().value});var Hn="vertical"===Ie?(ye-(cn-1)*Te)/_n:(fe-(cn-1)*Te)/_n;Hn<Re&&(Re=Hn)}),mt(ne,function(Xe){mt(Xe,function(cn,_n){var Hn=cn.getLayout().value*Re;"vertical"===Ie?(cn.setLayout({x:_n},!0),cn.setLayout({dx:Hn},!0)):(cn.setLayout({y:_n},!0),cn.setLayout({dy:Hn},!0))})}),mt(re,function(Xe){var cn=+Xe.getValue()*Re;Xe.setLayout({dy:cn},!0)})})(Lt,U,$,et,at,Mt),KM(Lt,at,$,et,Mt);for(var Gt=1;At>0;At--)tN(Lt,Gt*=.99,Mt),KM(Lt,at,$,et,Mt),oN(Lt,Gt,Mt),KM(Lt,at,$,et,Mt)}(m,b,I,M,k,O,B),$="vertical"===B?"x":"y",mt(X=m,function(et){et.outEdges.sort(function(at,At){return at.node2.getLayout()[$]-At.node2.getLayout()[$]}),et.inEdges.sort(function(at,At){return at.node1.getLayout()[$]-At.node1.getLayout()[$]})}),mt(X,function(et){var at=0,At=0;mt(et.outEdges,function(Mt){Mt.setLayout({sy:at},!0),at+=Mt.getLayout().dy}),mt(et.inEdges,function(Mt){Mt.setLayout({ty:At},!0),At+=Mt.getLayout().dy})})}(f,p,i,r,s,l,0!==Ae(f,function(m){return 0===m.getLayout().value}).length?0:t.get("layoutIterations"),t.get("orient"),t.get("nodeAlign"))})}function WI(n){var e=n.hostGraph.data.getRawDataItem(n.dataIndex);return null!=e.depth&&e.depth>=0}function KM(n,e,t,i,r){var o="vertical"===r?"x":"y";mt(n,function(s){var l,u,f;s.sort(function(k,M){return k.getLayout()[o]-M.getLayout()[o]});for(var p=0,m=s.length,b="vertical"===r?"dx":"dy",w=0;w<m;w++)(f=p-(u=s[w]).getLayout()[o])>0&&(l=u.getLayout()[o]+f,u.setLayout("vertical"===r?{x:l}:{y:l},!0)),p=u.getLayout()[o]+u.getLayout()[b]+e;if((f=p-e-("vertical"===r?i:t))>0)for(l=u.getLayout()[o]-f,u.setLayout("vertical"===r?{x:l}:{y:l},!0),p=l,w=m-2;w>=0;--w)(f=(u=s[w]).getLayout()[o]+u.getLayout()[b]+e-p)>0&&(l=u.getLayout()[o]-f,u.setLayout("vertical"===r?{x:l}:{y:l},!0)),p=u.getLayout()[o]})}function tN(n,e,t){mt(n.slice().reverse(),function(i){mt(i,function(r){if(r.outEdges.length){var o=Eg(r.outEdges,eN,t)/Eg(r.outEdges,Ak);if(isNaN(o)){var s=r.outEdges.length;o=s?Eg(r.outEdges,nN,t)/s:0}if("vertical"===t){var l=r.getLayout().x+(o-Dg(r,t))*e;r.setLayout({x:l},!0)}else{var u=r.getLayout().y+(o-Dg(r,t))*e;r.setLayout({y:u},!0)}}})})}function eN(n,e){return Dg(n.node2,e)*n.getValue()}function nN(n,e){return Dg(n.node2,e)}function iN(n,e){return Dg(n.node1,e)*n.getValue()}function rN(n,e){return Dg(n.node1,e)}function Dg(n,e){return"vertical"===e?n.getLayout().x+n.getLayout().dx/2:n.getLayout().y+n.getLayout().dy/2}function Ak(n){return n.getValue()}function Eg(n,e,t){for(var i=0,r=n.length,o=-1;++o<r;){var s=+e(n[o],t);isNaN(s)||(i+=s)}return i}function oN(n,e,t){mt(n,function(i){mt(i,function(r){if(r.inEdges.length){var o=Eg(r.inEdges,iN,t)/Eg(r.inEdges,Ak);if(isNaN(o)){var s=r.inEdges.length;o=s?Eg(r.inEdges,rN,t)/s:0}if("vertical"===t){var l=r.getLayout().x+(o-Dg(r,t))*e;r.setLayout({x:l},!0)}else{var u=r.getLayout().y+(o-Dg(r,t))*e;r.setLayout({y:u},!0)}}})})}function aN(n){n.eachSeriesByType("sankey",function(e){var t=e.getGraph().nodes;if(t.length){var i=1/0,r=-1/0;mt(t,function(o){var s=o.getLayout().value;s<i&&(i=s),s>r&&(r=s)}),mt(t,function(o){var s=new As({type:"color",mappingMethod:"linear",dataExtent:[i,r],visual:e.get("color")}).mapValueToVisual(o.getLayout().value),l=o.getModel().get(["itemStyle","color"]);null!=l?(o.setVisual("color",l),o.setVisual("style",{fill:l})):(o.setVisual("color",s),o.setVisual("style",{fill:s}))})}})}var jI=function(){function n(){}return n.prototype.getInitialData=function(e,t){var i,r,o=t.getComponent("xAxis",this.get("xAxisIndex")),s=t.getComponent("yAxis",this.get("yAxisIndex")),l=o.get("type"),u=s.get("type");"category"===l?(e.layout="horizontal",i=o.getOrdinalMeta(),r=!0):"category"===u?(e.layout="vertical",i=s.getOrdinalMeta(),r=!0):e.layout=e.layout||"horizontal";var f=["x","y"],p="horizontal"===e.layout?0:1,m=this._baseAxisDim=f[p],b=f[1-p],w=[o,s],k=w[p].get("type"),M=w[1-p].get("type"),I=e.data;if(I&&r){var O=[];mt(I,function(X,U){var $;Jt(X)?($=X.slice(),X.unshift(U)):Jt(X.value)?(($=Dt({},X)).value=$.value.slice(),X.value.unshift(U)):$=X,O.push($)}),e.data=O}var B=this.defaultValueDimensions,H=[{name:m,type:cg(k),ordinalMeta:i,otherDims:{tooltip:!1,itemName:0},dimsDef:["base"]},{name:b,type:cg(M),dimsDef:B.slice()}];return Mg(this,{coordDimensions:H,dimensionsCount:B.length+1,encodeDefaulter:de(Rb,H,this)})},n.prototype.getBaseAxis=function(){var e=this._baseAxisDim;return this.ecModel.getComponent(e+"Axis",this.get(e+"AxisIndex")).axis},n}(),YI=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t.defaultValueDimensions=[{name:"min",defaultTooltip:!0},{name:"Q1",defaultTooltip:!0},{name:"median",defaultTooltip:!0},{name:"Q3",defaultTooltip:!0},{name:"max",defaultTooltip:!0}],t.visualDrawType="stroke",t}return Tt(e,n),e.type="series.boxplot",e.dependencies=["xAxis","yAxis","grid"],e.defaultOption={zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,boxWidth:[7,50],itemStyle:{color:"#fff",borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}},animationDuration:800},e}(Gr);on(YI,jI,!0);var sN=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return Tt(e,n),e.prototype.render=function(t,i,r){var o=t.getData(),s=this.group,l=this._data;this._data||s.removeAll();var u="horizontal"===t.get("layout")?1:0;o.diff(l).add(function(f){if(o.hasValue(f)){var p=XI(o.getItemLayout(f),o,f,u,!0);o.setItemGraphicEl(f,p),s.add(p)}}).update(function(f,p){var m=l.getItemGraphicEl(p);if(o.hasValue(f)){var b=o.getItemLayout(f);m?(Du(m),GI(b,m,o,f)):m=XI(b,o,f,u),s.add(m),o.setItemGraphicEl(f,m)}else s.remove(m)}).remove(function(f){var p=l.getItemGraphicEl(f);p&&s.remove(p)}).execute(),this._data=o},e.prototype.remove=function(t){var i=this.group,r=this._data;this._data=null,r&&r.eachItemGraphicEl(function(o){o&&i.remove(o)})},e.type="boxplot",e}(Rr),lN=function(){},uN=function(n){function e(t){var i=n.call(this,t)||this;return i.type="boxplotBoxPath",i}return Tt(e,n),e.prototype.getDefaultShape=function(){return new lN},e.prototype.buildPath=function(t,i){var r=i.points,o=0;for(t.moveTo(r[o][0],r[o][1]),o++;o<4;o++)t.lineTo(r[o][0],r[o][1]);for(t.closePath();o<r.length;o++)t.moveTo(r[o][0],r[o][1]),o++,t.lineTo(r[o][0],r[o][1])},e}(zi);function XI(n,e,t,i,r){var o=n.ends,s=new uN({shape:{points:r?cN(o,i,n):o}});return GI(n,s,e,t,r),s}function GI(n,e,t,i,r){(0,sm[r?"initProps":"updateProps"])(e,{shape:{points:n.ends}},t.hostModel,i),e.useStyle(t.getItemVisual(i,"style")),e.style.strokeNoScale=!0,e.z2=100;var s=t.getItemModel(i);ls(e,s),to(e,s.get(["emphasis","focus"]),s.get(["emphasis","blurScope"]))}function cN(n,e,t){return zt(n,function(i){return(i=i.slice())[e]=t.initBaseline,i})}function hN(n,e){}var yw=mt;function dN(n){var i,r,e=(i=[],r=[],n.eachSeriesByType("boxplot",function(o){var s=o.getBaseAxis(),l=Ne(r,s);l<0&&(r[l=r.length]=s,i[l]={axis:s,seriesModels:[]}),i[l].seriesModels.push(o)}),i);yw(e,function(t){var i=t.seriesModels;i.length&&(function(r){var o,s,l=r.axis,u=r.seriesModels,f=u.length,p=r.boxWidthList=[],m=r.boxOffsetList=[],b=[];if("category"===l.type)s=l.getBandWidth();else{var w=0;yw(u,function(B){w=Math.max(w,B.getData().count())}),o=l.getExtent(),Math.abs(o[1]-o[0])}yw(u,function(B){var H=B.get("boxWidth");Jt(H)||(H=[H,H]),b.push([In(H[0],s)||0,In(H[1],s)||0])});var k=.8*s-2,M=k/f*.3,I=(k-M*(f-1))/f,O=I/2-k/2;yw(u,function(B,H){m.push(O),O+=M+I,p.push(Math.min(Math.max(I,b[H][0]),b[H][1]))})}(t),yw(i,function(r,o){!function(s,l,u){var f=s.coordinateSystem,p=s.getData(),m=u/2,b="horizontal"===s.get("layout")?0:1,w=1-b,k=["x","y"],M=p.mapDimension(k[b]),I=p.mapDimensionsAll(k[w]);if(!(null==M||I.length<5))for(var O=0;O<p.count();O++){var B=p.get(M,O),H=At(B,I[2],O),X=At(B,I[0],O),U=At(B,I[1],O),$=At(B,I[3],O),et=At(B,I[4],O),at=[];Mt(at,U,!1),Mt(at,$,!0),at.push(X,U,et,$),Lt(at,X),Lt(at,et),Lt(at,H),p.setItemLayout(O,{initBaseline:H[w],ends:at})}function At(Gt,ne,re){var fe,ye=p.get(ne,re),Te=[];return Te[b]=Gt,Te[w]=ye,isNaN(Gt)||isNaN(ye)?fe=[NaN,NaN]:(fe=f.dataToPoint(Te))[b]+=l,fe}function Mt(Gt,ne,re){var fe=ne.slice(),ye=ne.slice();fe[b]+=m,ye[b]-=m,re?Gt.push(fe,ye):Gt.push(ye,fe)}function Lt(Gt,ne){var re=ne.slice(),fe=ne.slice();re[b]-=m,fe[b]+=m,Gt.push(re,fe)}}(r,t.boxOffsetList[o],t.boxWidthList[o])}))})}var fN={type:"echarts:boxplot",transform:function(n){var e=n.upstream;e.sourceFormat!==Nu&&Ai("");var i=function(r,o){for(var s=[],l=[],u=(o=o||{}).boundIQR,f="none"===u||0===u,p=0;p<r.length;p++){var m=Li(r[p].slice()),b=ba(m,.25),w=ba(m,.5),k=ba(m,.75),M=m[0],I=m[m.length-1],O=(null==u?1.5:u)*(k-b),B=f?M:Math.max(M,b-O),H=f?I:Math.min(I,k+O),X=o.itemNameFormatter,U=Fe(X)?X({value:p}):Ke(X)?X.replace("{value}",p+""):p+"";s.push([U,B,b,w,k,H]);for(var $=0;$<m.length;$++){var et=m[$];(et<B||et>H)&&l.push([U,et])}}return{boxData:s,outliers:l}}(e.getRawData(),n.config);return[{dimensions:["ItemName","Low","Q1","Q2","Q3","High"],data:i.boxData},{data:i.outliers}]}},pN=["color","borderColor"],gN=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return Tt(e,n),e.prototype.render=function(t,i,r){this.group.removeClipPath(),this._updateDrawMode(t),this._isLargeDraw?this._renderLarge(t):this._renderNormal(t)},e.prototype.incrementalPrepareRender=function(t,i,r){this._clear(),this._updateDrawMode(t)},e.prototype.incrementalRender=function(t,i,r,o){this._isLargeDraw?this._incrementalRenderLarge(t,i):this._incrementalRenderNormal(t,i)},e.prototype._updateDrawMode=function(t){var i=t.pipelineContext.large;null!=this._isLargeDraw&&i===this._isLargeDraw||(this._isLargeDraw=i,this._clear())},e.prototype._renderNormal=function(t){var i=t.getData(),r=this._data,o=this.group,s=i.getLayout("isSimpleBox"),l=t.get("clip",!0),u=t.coordinateSystem,f=u.getArea&&u.getArea();this._data||o.removeAll(),i.diff(r).add(function(p){if(i.hasValue(p)){var m=i.getItemLayout(p);if(l&&qI(f,m))return;var b=QM(m,0,!0);ro(b,{shape:{points:m.ends}},t,p),JM(b,i,p,s),o.add(b),i.setItemGraphicEl(p,b)}}).update(function(p,m){var b=r.getItemGraphicEl(m);if(i.hasValue(p)){var w=i.getItemLayout(p);l&&qI(f,w)?o.remove(b):(b?(xr(b,{shape:{points:w.ends}},t,p),Du(b)):b=QM(w),JM(b,i,p,s),o.add(b),i.setItemGraphicEl(p,b))}else o.remove(b)}).remove(function(p){var m=r.getItemGraphicEl(p);m&&o.remove(m)}).execute(),this._data=i},e.prototype._renderLarge=function(t){this._clear(),$I(t,this.group);var i=t.get("clip",!0)?cx(t.coordinateSystem,!1,t):null;i?this.group.setClipPath(i):this.group.removeClipPath()},e.prototype._incrementalRenderNormal=function(t,i){for(var r,o=i.getData(),s=o.getLayout("isSimpleBox");null!=(r=t.next());){var l=QM(o.getItemLayout(r));JM(l,o,r,s),l.incremental=!0,this.group.add(l)}},e.prototype._incrementalRenderLarge=function(t,i){$I(i,this.group,!0)},e.prototype.remove=function(t){this._clear()},e.prototype._clear=function(){this.group.removeAll(),this._data=null},e.type="candlestick",e}(Rr),mN=function(){},vN=function(n){function e(t){var i=n.call(this,t)||this;return i.type="normalCandlestickBox",i}return Tt(e,n),e.prototype.getDefaultShape=function(){return new mN},e.prototype.buildPath=function(t,i){var r=i.points;this.__simpleBox?(t.moveTo(r[4][0],r[4][1]),t.lineTo(r[6][0],r[6][1])):(t.moveTo(r[0][0],r[0][1]),t.lineTo(r[1][0],r[1][1]),t.lineTo(r[2][0],r[2][1]),t.lineTo(r[3][0],r[3][1]),t.closePath(),t.moveTo(r[4][0],r[4][1]),t.lineTo(r[5][0],r[5][1]),t.moveTo(r[6][0],r[6][1]),t.lineTo(r[7][0],r[7][1]))},e}(zi);function QM(n,e,t){var i=n.ends;return new vN({shape:{points:t?yN(i,n):i},z2:100})}function qI(n,e){for(var t=!0,i=0;i<e.ends.length;i++)if(n.contain(e.ends[i][0],e.ends[i][1])){t=!1;break}return t}function JM(n,e,t,i){var r=e.getItemModel(t);n.useStyle(e.getItemVisual(t,"style")),n.style.strokeNoScale=!0,n.__simpleBox=i,ls(n,r)}function yN(n,e){return zt(n,function(t){return(t=t.slice())[1]=e.initBaseline,t})}var xN=function(){},UI=function(n){function e(t){var i=n.call(this,t)||this;return i.type="largeCandlestickBox",i}return Tt(e,n),e.prototype.getDefaultShape=function(){return new xN},e.prototype.buildPath=function(t,i){for(var r=i.points,o=0;o<r.length;)if(this.__sign===r[o++]){var s=r[o++];t.moveTo(s,r[o++]),t.lineTo(s,r[o++])}else o+=3},e}(zi);function $I(n,e,t){var i=n.getData().getLayout("largePoints"),r=new UI({shape:{points:i},__sign:1});e.add(r);var o=new UI({shape:{points:i},__sign:-1});e.add(o),ZI(1,r,n),ZI(-1,o,n),t&&(r.incremental=!0,o.incremental=!0)}function ZI(n,e,t,i){var r=t.get(["itemStyle",n>0?"borderColor":"borderColor0"])||t.get(["itemStyle",n>0?"color":"color0"]),o=t.getModel("itemStyle").getItemStyle(pN);e.useStyle(o),e.style.fill=null,e.style.stroke=r}var KI=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t.defaultValueDimensions=[{name:"open",defaultTooltip:!0},{name:"close",defaultTooltip:!0},{name:"lowest",defaultTooltip:!0},{name:"highest",defaultTooltip:!0}],t}return Tt(e,n),e.prototype.getShadowDim=function(){return"open"},e.prototype.brushSelector=function(t,i,r){var o=i.getItemLayout(t);return o&&r.rect(o.brushRect)},e.type="series.candlestick",e.dependencies=["xAxis","yAxis","grid"],e.defaultOption={zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,clip:!0,itemStyle:{color:"#eb5454",color0:"#47b262",borderColor:"#eb5454",borderColor0:"#47b262",borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:!0,largeThreshold:600,progressive:3e3,progressiveThreshold:1e4,progressiveChunkMode:"mod",animationEasing:"linear",animationDuration:300},e}(Gr);function bN(n){n&&Jt(n.series)&&mt(n.series,function(e){$e(e)&&"k"===e.type&&(e.type="candlestick")})}on(KI,jI,!0);var _N=["itemStyle","borderColor"],wN=["itemStyle","borderColor0"],SN=["itemStyle","color"],CN=["itemStyle","color0"],kN={seriesType:"candlestick",plan:Of(),performRawSeries:!0,reset:function(n,e){function t(r,o){return o.get(r>0?SN:CN)}function i(r,o){return o.get(r>0?_N:wN)}if(!e.isSeriesFiltered(n))return!n.pipelineContext.large&&{progress:function(r,o){for(var s;null!=(s=r.next());){var l=o.getItemModel(s),u=o.getItemLayout(s).sign,f=l.getItemStyle();f.fill=t(u,l),f.stroke=i(u,l)||f.fill,Dt(o.ensureUniqueItemVisual(s,"style"),f)}}}}},AN="undefined"!=typeof Float32Array?Float32Array:Array,MN={seriesType:"candlestick",plan:Of(),reset:function(n){var m,b,w,k,M,I,O,B,e=n.coordinateSystem,t=n.getData(),i=(b=t,M="category"===(k=(m=n).getBaseAxis()).type?k.getBandWidth():(w=k.getExtent(),Math.abs(w[1]-w[0])/b.count()),I=In(Tn(m.get("barMaxWidth"),M),M),O=In(Tn(m.get("barMinWidth"),1),M),null!=(B=m.get("barWidth"))?In(B,M):Math.max(Math.min(M/2,I),O)),r=["x","y"],o=t.getDimensionIndex(t.mapDimension(r[0])),s=zt(t.mapDimensionsAll(r[1]),t.getDimensionIndex,t),l=s[0],u=s[1],f=s[2],p=s[3];if(t.setLayout({candleWidth:i,isSimpleBox:i<=1.3}),!(o<0||s.length<4))return{progress:n.pipelineContext.large?function(m,b){for(var w,k,M=new AN(4*m.count),I=0,O=[],B=[],H=b.getStore();null!=(k=m.next());){var X=H.get(o,k),U=H.get(l,k),$=H.get(u,k),et=H.get(f,k),at=H.get(p,k);isNaN(X)||isNaN(et)||isNaN(at)?(M[I++]=NaN,I+=3):(M[I++]=QI(H,k,U,$,u),O[0]=X,O[1]=et,w=e.dataToPoint(O,null,B),M[I++]=w?w[0]:NaN,M[I++]=w?w[1]:NaN,O[1]=at,w=e.dataToPoint(O,null,B),M[I++]=w?w[1]:NaN)}b.setLayout("largePoints",M)}:function(m,b){for(var w,k=b.getStore();null!=(w=m.next());){var M=k.get(o,w),I=k.get(l,w),O=k.get(u,w),B=k.get(f,w),H=k.get(p,w),X=Math.min(I,O),U=Math.max(I,O),$=Lt(X,M),et=Lt(U,M),at=Lt(B,M),At=Lt(H,M),Mt=[];Gt(Mt,et,0),Gt(Mt,$,1),Mt.push(re(At),re(et),re(at),re($)),b.setItemLayout(w,{sign:QI(k,w,I,O,u),initBaseline:I>O?et[1]:$[1],ends:Mt,brushRect:(fe=B,ye=H,Te=M,Ie=void 0,Re=void 0,Ie=Lt(fe,Te),Re=Lt(ye,Te),Ie[0]-=i/2,Re[0]-=i/2,{x:Ie[0],y:Ie[1],width:i,height:Re[1]-Ie[1]})})}var fe,ye,Te,Ie,Re;function Lt(fe,ye){var Te=[];return Te[0]=ye,Te[1]=fe,isNaN(ye)||isNaN(fe)?[NaN,NaN]:e.dataToPoint(Te)}function Gt(fe,ye,Te){var Ie=ye.slice(),Re=ye.slice();Ie[0]=Eu(Ie[0]+i/2,1,!1),Re[0]=Eu(Re[0]-i/2,1,!0),Te?fe.push(Ie,Re):fe.push(Re,Ie)}function re(fe){return fe[0]=Eu(fe[0],1),fe}}}}};function QI(n,e,t,i,r){return t>i?-1:t<i?1:e>0?n.get(r,e-1)<=i?1:-1:1}function JI(n,e){var t=e.rippleEffectColor||e.color;n.eachChild(function(i){i.attr({z:e.z,zlevel:e.zlevel,style:{stroke:"stroke"===e.brushType?t:null,fill:"fill"===e.brushType?t:null}})})}var TN=function(n){function e(t,i){var r=n.call(this)||this,o=new Qd(t,i),s=new bt;return r.add(o),r.add(s),r.updateData(t,i),r}return Tt(e,n),e.prototype.stopEffectAnimation=function(){this.childAt(1).removeAll()},e.prototype.startEffectAnimation=function(t){for(var i=t.symbolType,r=t.color,o=t.rippleNumber,s=this.childAt(1),l=0;l<o;l++){var u=oa(i,-1,-1,2,2,r);u.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scaleX:.5,scaleY:.5});var f=-l/o*t.period+t.effectOffset;u.animate("",!0).when(t.period,{scaleX:t.rippleScale/2,scaleY:t.rippleScale/2}).delay(f).start(),u.animateStyle(!0).when(t.period,{opacity:0}).delay(f).start(),s.add(u)}JI(s,t)},e.prototype.updateEffectAnimation=function(t){for(var i=this._effectCfg,r=this.childAt(1),o=["symbolType","period","rippleScale","rippleNumber"],s=0;s<o.length;s++){var l=o[s];if(i[l]!==t[l])return this.stopEffectAnimation(),void this.startEffectAnimation(t)}JI(r,t)},e.prototype.highlight=function(){kl(this)},e.prototype.downplay=function(){Bc(this)},e.prototype.getSymbolType=function(){var t=this.childAt(0);return t&&t.getSymbolType()},e.prototype.updateData=function(t,i){var r=this,o=t.hostModel;this.childAt(0).updateData(t,i);var s=this.childAt(1),l=t.getItemModel(i),u=t.getItemVisual(i,"symbol"),f=tg(t.getItemVisual(i,"symbolSize")),p=t.getItemVisual(i,"style"),m=p&&p.fill;s.setScale(f),s.traverse(function(M){M.setStyle("fill",m)});var b=eg(t.getItemVisual(i,"symbolOffset"),f);b&&(s.x=b[0],s.y=b[1]);var w=t.getItemVisual(i,"symbolRotate");s.rotation=(w||0)*Math.PI/180||0;var k={};k.showEffectOn=o.get("showEffectOn"),k.rippleScale=l.get(["rippleEffect","scale"]),k.brushType=l.get(["rippleEffect","brushType"]),k.period=1e3*l.get(["rippleEffect","period"]),k.effectOffset=i/t.count(),k.z=o.getShallow("z")||0,k.zlevel=o.getShallow("zlevel")||0,k.symbolType=u,k.color=m,k.rippleEffectColor=l.get(["rippleEffect","color"]),k.rippleNumber=l.get(["rippleEffect","number"]),this.off("mouseover").off("mouseout").off("emphasis").off("normal"),"render"===k.showEffectOn?(this._effectCfg?this.updateEffectAnimation(k):this.startEffectAnimation(k),this._effectCfg=k):(this._effectCfg=null,this.stopEffectAnimation(),this.onHoverStateChange=function(M){"emphasis"===M?"render"!==k.showEffectOn&&r.startEffectAnimation(k):"normal"===M&&"render"!==k.showEffectOn&&r.stopEffectAnimation()}),this._effectCfg=k,to(this)},e.prototype.fadeOut=function(t){this.off("mouseover").off("mouseout"),t&&t()},e}(bt),IN=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return Tt(e,n),e.prototype.init=function(){this._symbolDraw=new ep(TN)},e.prototype.render=function(t,i,r){var o=t.getData(),s=this._symbolDraw;s.updateData(o,{clipShape:this._getClipShape(t)}),this.group.add(s.group)},e.prototype._getClipShape=function(t){var i=t.coordinateSystem,r=i&&i.getArea&&i.getArea();return t.get("clip",!0)?r:null},e.prototype.updateTransform=function(t,i,r){var o=t.getData();this.group.dirty();var s=vc("").reset(t,i,r);s.progress&&s.progress({start:0,end:o.count(),count:o.count()},o),this._symbolDraw.updateLayout()},e.prototype._updateGroupTransform=function(t){var i=t.coordinateSystem;i&&i.getRoamTransform&&(this.group.transform=Hr(i.getRoamTransform()),this.group.decomposeTransform())},e.prototype.remove=function(t,i){this._symbolDraw&&this._symbolDraw.remove(!0)},e.type="effectScatter",e}(Rr),DN=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t.hasSymbolVisual=!0,t}return Tt(e,n),e.prototype.getInitialData=function(t,i){return Jc(null,this,{useEncodeDefaulter:!0})},e.prototype.brushSelector=function(t,i,r){return r.point(i.getItemLayout(t))},e.type="series.effectScatter",e.dependencies=["grid","polar"],e.defaultOption={coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",clip:!0,rippleEffect:{period:4,scale:2.5,brushType:"fill",number:3},universalTransition:{divideShape:"clone"},symbolSize:10},e}(Gr),tD=function(n){function e(t,i,r){var o=n.call(this)||this;return o.add(o.createLine(t,i,r)),o._updateEffectSymbol(t,i),o}return Tt(e,n),e.prototype.createLine=function(t,i,r){return new kM(t,i,r)},e.prototype._updateEffectSymbol=function(t,i){var r=t.getItemModel(i).getModel("effect"),o=r.get("symbolSize"),s=r.get("symbol");Jt(o)||(o=[o,o]);var l=t.getItemVisual(i,"style"),u=r.get("color")||l&&l.stroke,f=this.childAt(1);this._symbolType!==s&&(this.remove(f),(f=oa(s,-.5,-.5,1,1,u)).z2=100,f.culling=!0,this.add(f)),f&&(f.setStyle("shadowColor",u),f.setStyle(r.getItemStyle(["color"])),f.scaleX=o[0],f.scaleY=o[1],f.setColor(u),this._symbolType=s,this._symbolScale=o,this._updateEffectAnimation(t,r,i))},e.prototype._updateEffectAnimation=function(t,i,r){var o=this.childAt(1);if(o){var s=this,l=t.getItemLayout(r),u=1e3*i.get("period"),f=i.get("loop"),p=i.get("constantSpeed"),m=On(i.get("delay"),function(k){return k/t.count()*u/3});if(o.ignore=!0,this._updateAnimationPoints(o,l),p>0&&(u=this._getLineLength(o)/p*1e3),(u!==this._period||f!==this._loop)&&(o.stopAnimation(),u>0)){var b=void 0;b="function"==typeof m?m(r):m,o.__t>0&&(b=-u*o.__t),o.__t=0;var w=o.animate("",f).when(u,{__t:1}).delay(b).during(function(){s._updateSymbolPosition(o)});f||w.done(function(){s.remove(o)}),w.start()}this._period=u,this._loop=f}},e.prototype._getLineLength=function(t){return Nr(t.__p1,t.__cp1)+Nr(t.__cp1,t.__p2)},e.prototype._updateAnimationPoints=function(t,i){t.__p1=i[0],t.__p2=i[1],t.__cp1=i[2]||[(i[0][0]+i[1][0])/2,(i[0][1]+i[1][1])/2]},e.prototype.updateData=function(t,i,r){this.childAt(0).updateData(t,i,r),this._updateEffectSymbol(t,i)},e.prototype._updateSymbolPosition=function(t){var i=t.__p1,r=t.__p2,o=t.__cp1,s=t.__t,l=[t.x,t.y],u=l.slice(),f=_a,p=hf;l[0]=f(i[0],o[0],r[0],s),l[1]=f(i[1],o[1],r[1],s);var m=p(i[0],o[0],r[0],s),b=p(i[1],o[1],r[1],s);t.rotation=-Math.atan2(b,m)-Math.PI/2,"line"!==this._symbolType&&"rect"!==this._symbolType&&"roundRect"!==this._symbolType||(void 0!==t.__lastT&&t.__lastT<t.__t?(t.scaleY=1.05*Nr(u,l),1===s&&(l[0]=u[0]+(l[0]-u[0])/2,l[1]=u[1]+(l[1]-u[1])/2)):t.scaleY=1===t.__lastT?2*Nr(i,l):this._symbolScale[1]),t.__lastT=t.__t,t.ignore=!1,t.x=l[0],t.y=l[1]},e.prototype.updateLayout=function(t,i){this.childAt(0).updateLayout(t,i);var r=t.getItemModel(i).getModel("effect");this._updateEffectAnimation(t,r,i)},e}(bt),eD=function(n){function e(t,i,r){var o=n.call(this)||this;return o._createPolyline(t,i,r),o}return Tt(e,n),e.prototype._createPolyline=function(t,i,r){var o=t.getItemLayout(i),s=new Fs({shape:{points:o}});this.add(s),this._updateCommonStl(t,i,r)},e.prototype.updateData=function(t,i,r){var o=t.hostModel;xr(this.childAt(0),{shape:{points:t.getItemLayout(i)}},o,i),this._updateCommonStl(t,i,r)},e.prototype._updateCommonStl=function(t,i,r){var o=this.childAt(0),s=t.getItemModel(i),l=r&&r.emphasisLineStyle;r&&!t.hasItemOption||(l=s.getModel(["emphasis","lineStyle"]).getLineStyle()),o.useStyle(t.getItemVisual(i,"style")),o.style.fill=null,o.style.strokeNoScale=!0,o.ensureState("emphasis").style=l,to(this)},e.prototype.updateLayout=function(t,i){this.childAt(0).setShape("points",t.getItemLayout(i))},e}(bt),EN=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t._lastFrame=0,t._lastFramePercent=0,t}return Tt(e,n),e.prototype.createLine=function(t,i,r){return new eD(t,i,r)},e.prototype._updateAnimationPoints=function(t,i){this._points=i;for(var r=[0],o=0,s=1;s<i.length;s++)o+=Nr(i[s-1],i[s]),r.push(o);if(0!==o){for(s=0;s<r.length;s++)r[s]/=o;this._offsets=r,this._length=o}else this._length=0},e.prototype._getLineLength=function(){return this._length},e.prototype._updateSymbolPosition=function(t){var i=t.__t,r=this._points,o=this._offsets,s=r.length;if(o){var l,u=this._lastFrame;if(i<this._lastFramePercent){for(l=Math.min(u+1,s-1);l>=0&&!(o[l]<=i);l--);l=Math.min(l,s-2)}else{for(l=u;l<s&&!(o[l]>i);l++);l=Math.min(l-1,s-2)}var f=(i-o[l])/(o[l+1]-o[l]),p=r[l],m=r[l+1];t.x=p[0]*(1-f)+f*m[0],t.y=p[1]*(1-f)+f*m[1],t.rotation=-Math.atan2(m[1]-p[1],m[0]-p[0])-Math.PI/2,this._lastFrame=l,this._lastFramePercent=i,t.ignore=!1}},e}(tD),LN=function(){this.polyline=!1,this.curveness=0,this.segs=[]},nD=function(n){function e(t){return n.call(this,t)||this}return Tt(e,n),e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new LN},e.prototype.buildPath=function(t,i){var r=i.segs,o=i.curveness;if(i.polyline)for(var s=0;s<r.length;){var l=r[s++];if(l>0){t.moveTo(r[s++],r[s++]);for(var u=1;u<l;u++)t.lineTo(r[s++],r[s++])}}else for(s=0;s<r.length;){var f=r[s++],p=r[s++],m=r[s++],b=r[s++];t.moveTo(f,p),o>0?t.quadraticCurveTo((f+m)/2-(p-b)*o,(p+b)/2-(m-f)*o,m,b):t.lineTo(m,b)}},e.prototype.findDataIndex=function(t,i){var r=this.shape,o=r.segs,s=r.curveness,l=this.style.lineWidth;if(r.polyline)for(var u=0,f=0;f<o.length;){var p=o[f++];if(p>0)for(var m=o[f++],b=o[f++],w=1;w<p;w++)if(un(m,b,k=o[f++],M=o[f++],l,t,i))return u;u++}else for(u=0,f=0;f<o.length;){m=o[f++],b=o[f++];var k=o[f++],M=o[f++];if(s>0){if(Fn(m,b,(m+k)/2-(b-M)*s,(b+M)/2-(k-m)*s,k,M,l,t,i))return u}else if(un(m,b,k,M,l,t,i))return u;u++}return-1},e}(zi),PN=function(){function n(){this.group=new bt}return n.prototype.isPersistent=function(){return!this._incremental},n.prototype.updateData=function(e){this.group.removeAll();var t=new nD({rectHover:!0,cursor:"default"});t.setShape({segs:e.getLayout("linesPoints")}),this._setCommon(t,e),this.group.add(t),this._incremental=null},n.prototype.incrementalPrepareUpdate=function(e){this.group.removeAll(),this._clearIncremental(),e.count()>5e5?(this._incremental||(this._incremental=new Ip({silent:!0})),this.group.add(this._incremental)):this._incremental=null},n.prototype.incrementalUpdate=function(e,t){var i=new nD;i.setShape({segs:t.getLayout("linesPoints")}),this._setCommon(i,t,!!this._incremental),this._incremental?this._incremental.addDisplayable(i,!0):(i.rectHover=!0,i.cursor="default",i.__startIndex=e.start,this.group.add(i))},n.prototype.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},n.prototype._setCommon=function(e,t,i){var r=t.hostModel;e.setShape({polyline:r.get("polyline"),curveness:r.get(["lineStyle","curveness"])}),e.useStyle(r.getModel("lineStyle").getLineStyle()),e.style.strokeNoScale=!0;var o=t.getVisual("style");if(o&&o.stroke&&e.setStyle("stroke",o.stroke),e.setStyle("fill",null),!i){var s=Fi(e);s.seriesIndex=r.seriesIndex,e.on("mousemove",function(l){s.dataIndex=null;var u=e.findDataIndex(l.offsetX,l.offsetY);u>0&&(s.dataIndex=u+e.__startIndex)})}},n.prototype._clearIncremental=function(){var e=this._incremental;e&&e.clearDisplaybles()},n}(),iD={seriesType:"lines",plan:Of(),reset:function(n){var e=n.coordinateSystem,t=n.get("polyline"),i=n.pipelineContext.large;return{progress:function(r,o){var s=[];if(i){var l=void 0,u=r.end-r.start;if(t){for(var f=0,p=r.start;p<r.end;p++)f+=n.getLineCoordsCount(p);l=new Float32Array(u+2*f)}else l=new Float32Array(4*u);var m=0,b=[];for(p=r.start;p<r.end;p++){var w=n.getLineCoords(p,s);t&&(l[m++]=w);for(var k=0;k<w;k++)b=e.dataToPoint(s[k],!1,b),l[m++]=b[0],l[m++]=b[1]}o.setLayout("linesPoints",l)}else for(p=r.start;p<r.end;p++){var M=o.getItemModel(p),I=(w=n.getLineCoords(p,s),[]);if(t)for(var O=0;O<w;O++)I.push(e.dataToPoint(s[O]));else{I[0]=e.dataToPoint(s[0]),I[1]=e.dataToPoint(s[1]);var B=M.get(["lineStyle","curveness"]);+B&&(I[2]=[(I[0][0]+I[1][0])/2-(I[0][1]-I[1][1])*B,(I[0][1]+I[1][1])/2-(I[1][0]-I[0][0])*B])}o.setItemLayout(p,I)}}}}},ON=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return Tt(e,n),e.prototype.render=function(t,i,r){var o=t.getData(),s=this._updateLineDraw(o,t),l=t.get("zlevel"),u=t.get(["effect","trailLength"]),f=r.getZr(),p="svg"===f.painter.getType();p||f.painter.getLayer(l).clear(!0),null==this._lastZlevel||p||f.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(t)&&u&&(p||f.configLayer(l,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(u/10+.9,1),0)})),s.updateData(o);var m=t.get("clip",!0)&&cx(t.coordinateSystem,!1,t);m?this.group.setClipPath(m):this.group.removeClipPath(),this._lastZlevel=l,this._finished=!0},e.prototype.incrementalPrepareRender=function(t,i,r){var o=t.getData();this._updateLineDraw(o,t).incrementalPrepareUpdate(o),this._clearLayer(r),this._finished=!1},e.prototype.incrementalRender=function(t,i,r){this._lineDraw.incrementalUpdate(t,i.getData()),this._finished=t.end===i.getData().count()},e.prototype.updateTransform=function(t,i,r){var o=t.getData(),s=t.pipelineContext;if(!this._finished||s.large||s.progressiveRender)return{update:!0};var l=iD.reset(t,i,r);l.progress&&l.progress({start:0,end:o.count(),count:o.count()},o),this._lineDraw.updateLayout(),this._clearLayer(r)},e.prototype._updateLineDraw=function(t,i){var r=this._lineDraw,o=this._showEffect(i),s=!!i.get("polyline"),l=i.pipelineContext.large;return r&&o===this._hasEffet&&s===this._isPolyline&&l===this._isLargeDraw||(r&&r.remove(),r=this._lineDraw=l?new PN:new AM(s?o?EN:eD:o?tD:kM),this._hasEffet=o,this._isPolyline=s,this._isLargeDraw=l),this.group.add(r.group),r},e.prototype._showEffect=function(t){return!!t.get(["effect","show"])},e.prototype._clearLayer=function(t){var i=t.getZr();"svg"===i.painter.getType()||null==this._lastZlevel||i.painter.getLayer(this._lastZlevel).clear(!0)},e.prototype.remove=function(t,i){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(i)},e.prototype.dispose=function(t,i){this.remove(t,i)},e.type="lines",e}(Rr),NN="undefined"==typeof Uint32Array?Array:Uint32Array,RN="undefined"==typeof Float64Array?Array:Float64Array;function rD(n){var e=n.data;e&&e[0]&&e[0][0]&&e[0][0].coord&&(n.data=zt(e,function(t){var i={coords:[t[0].coord,t[1].coord]};return t[0].name&&(i.fromName=t[0].name),t[1].name&&(i.toName=t[1].name),vt([i,t[0],t[1]])}))}var BN=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t.visualStyleAccessPath="lineStyle",t.visualDrawType="stroke",t}return Tt(e,n),e.prototype.init=function(t){t.data=t.data||[],rD(t);var i=this._processFlatCoordsArray(t.data);this._flatCoords=i.flatCoords,this._flatCoordsOffset=i.flatCoordsOffset,i.flatCoords&&(t.data=new Float32Array(i.count)),n.prototype.init.apply(this,arguments)},e.prototype.mergeOption=function(t){if(rD(t),t.data){var i=this._processFlatCoordsArray(t.data);this._flatCoords=i.flatCoords,this._flatCoordsOffset=i.flatCoordsOffset,i.flatCoords&&(t.data=new Float32Array(i.count))}n.prototype.mergeOption.apply(this,arguments)},e.prototype.appendData=function(t){var i=this._processFlatCoordsArray(t.data);i.flatCoords&&(this._flatCoords?(this._flatCoords=Bl(this._flatCoords,i.flatCoords),this._flatCoordsOffset=Bl(this._flatCoordsOffset,i.flatCoordsOffset)):(this._flatCoords=i.flatCoords,this._flatCoordsOffset=i.flatCoordsOffset),t.data=new Float32Array(i.count)),this.getRawData().appendData(t.data)},e.prototype._getCoordsFromItemModel=function(t){var i=this.getData().getItemModel(t);return i.option instanceof Array?i.option:i.getShallow("coords")},e.prototype.getLineCoordsCount=function(t){return this._flatCoordsOffset?this._flatCoordsOffset[2*t+1]:this._getCoordsFromItemModel(t).length},e.prototype.getLineCoords=function(t,i){if(this._flatCoordsOffset){for(var r=this._flatCoordsOffset[2*t],o=this._flatCoordsOffset[2*t+1],s=0;s<o;s++)i[s]=i[s]||[],i[s][0]=this._flatCoords[r+2*s],i[s][1]=this._flatCoords[r+2*s+1];return o}var l=this._getCoordsFromItemModel(t);for(s=0;s<l.length;s++)i[s]=i[s]||[],i[s][0]=l[s][0],i[s][1]=l[s][1];return l.length},e.prototype._processFlatCoordsArray=function(t){var i=0;if(this._flatCoords&&(i=this._flatCoords.length),"number"==typeof t[0]){for(var r=t.length,o=new NN(r),s=new RN(r),l=0,u=0,f=0,p=0;p<r;){f++;var m=t[p++];o[u++]=l+i,o[u++]=m;for(var b=0;b<m;b++){var w=t[p++],k=t[p++];s[l++]=w,s[l++]=k}}return{flatCoordsOffset:new Uint32Array(o.buffer,0,u),flatCoords:s,count:f}}return{flatCoordsOffset:null,flatCoords:null,count:t.length}},e.prototype.getInitialData=function(t,i){var r=new _s(["value"],this);return r.hasItemOption=!1,r.initData(t.data,[],function(o,s,l,u){if(o instanceof Array)return NaN;r.hasItemOption=!0;var f=o.value;return null!=f?f instanceof Array?f[u]:f:void 0}),r},e.prototype.formatTooltip=function(t,i,r){var o=this.getData().getItemModel(t),s=o.get("name");if(s)return s;var l=o.get("fromName"),u=o.get("toName"),f=[];return null!=l&&f.push(l),null!=u&&f.push(u),Za("nameValue",{name:f.join(" > ")})},e.prototype.preventIncremental=function(){return!!this.get(["effect","show"])},e.prototype.getProgressive=function(){var t=this.option.progressive;return null==t?this.option.large?1e4:this.get("progressive"):t},e.prototype.getProgressiveThreshold=function(){var t=this.option.progressiveThreshold;return null==t?this.option.large?2e4:this.get("progressiveThreshold"):t},e.type="series.lines",e.dependencies=["grid","polar","geo","calendar"],e.defaultOption={coordinateSystem:"geo",zlevel:0,z:2,legendHoverLink:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,clip:!0,label:{show:!1,position:"end"},lineStyle:{opacity:.5}},e}(Gr);function Mk(n){return n instanceof Array||(n=[n,n]),n}var zN={seriesType:"lines",reset:function(n){var e=Mk(n.get("symbol")),t=Mk(n.get("symbolSize")),i=n.getData();return i.setVisual("fromSymbol",e&&e[0]),i.setVisual("toSymbol",e&&e[1]),i.setVisual("fromSymbolSize",t&&t[0]),i.setVisual("toSymbolSize",t&&t[1]),{dataEach:i.hasItemOption?function(r,o){var s=r.getItemModel(o),l=Mk(s.getShallow("symbol",!0)),u=Mk(s.getShallow("symbolSize",!0));l[0]&&r.setItemVisual(o,"fromSymbol",l[0]),l[1]&&r.setItemVisual(o,"toSymbol",l[1]),u[0]&&r.setItemVisual(o,"fromSymbolSize",u[0]),u[1]&&r.setItemVisual(o,"toSymbolSize",u[1])}:null}}},FN=function(){function n(){this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={inRange:null,outOfRange:null};var e=Pe();this.canvas=e}return n.prototype.update=function(e,t,i,r,o,s){var l=this._getBrush(),u=this._getGradient(o,"inRange"),f=this._getGradient(o,"outOfRange"),p=this.pointSize+this.blurSize,m=this.canvas,b=m.getContext("2d"),w=e.length;m.width=t,m.height=i;for(var k=0;k<w;++k){var M=e[k],I=M[0],O=M[1],B=r(M[2]);b.globalAlpha=B,b.drawImage(l,I-p,O-p)}if(!m.width||!m.height)return m;for(var H=b.getImageData(0,0,m.width,m.height),X=H.data,U=0,$=X.length,et=this.minOpacity,at=this.maxOpacity-et;U<$;){B=X[U+3]/256;var At=4*Math.floor(255*B);if(B>0){var Mt=s(B)?u:f;B>0&&(B=B*at+et),X[U++]=Mt[At],X[U++]=Mt[At+1],X[U++]=Mt[At+2],X[U++]=Mt[At+3]*B*256}else U+=4}return b.putImageData(H,0,0),m},n.prototype._getBrush=function(){var e=this._brushCanvas||(this._brushCanvas=Pe()),t=this.pointSize+this.blurSize,i=2*t;e.width=i,e.height=i;var r=e.getContext("2d");return r.clearRect(0,0,i,i),r.shadowOffsetX=i,r.shadowBlur=this.blurSize,r.shadowColor="#000",r.beginPath(),r.arc(-t,t,this.pointSize,0,2*Math.PI,!0),r.closePath(),r.fill(),e},n.prototype._getGradient=function(e,t){for(var i=this._gradientPixels,r=i[t]||(i[t]=new Uint8ClampedArray(1024)),o=[0,0,0,0],s=0,l=0;l<256;l++)e[t](l/255,!0,o),r[s++]=o[0],r[s++]=o[1],r[s++]=o[2],r[s++]=o[3];return r},n}();function oD(n){var e=n.dimensions;return"lng"===e[0]&&"lat"===e[1]}var VN=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return Tt(e,n),e.prototype.render=function(t,i,r){var o;i.eachComponent("visualMap",function(l){l.eachTargetSeries(function(u){u===t&&(o=l)})}),this.group.removeAll(),this._incrementalDisplayable=null;var s=t.coordinateSystem;"cartesian2d"===s.type||"calendar"===s.type?this._renderOnCartesianAndCalendar(t,r,0,t.getData().count()):oD(s)&&this._renderOnGeo(s,t,o,r)},e.prototype.incrementalPrepareRender=function(t,i,r){this.group.removeAll()},e.prototype.incrementalRender=function(t,i,r,o){var s=i.coordinateSystem;s&&(oD(s)?this.render(i,r,o):this._renderOnCartesianAndCalendar(i,o,t.start,t.end,!0))},e.prototype._renderOnCartesianAndCalendar=function(t,i,r,o,s){var l,u,f,p,m=t.coordinateSystem;if(dl(m,"cartesian2d")){var b=m.getAxis("x"),w=m.getAxis("y");l=b.getBandWidth(),u=w.getBandWidth(),f=b.scale.getExtent(),p=w.scale.getExtent()}for(var k=this.group,M=t.getData(),I=t.getModel(["emphasis","itemStyle"]).getItemStyle(),O=t.getModel(["blur","itemStyle"]).getItemStyle(),B=t.getModel(["select","itemStyle"]).getItemStyle(),H=Sa(t),X=t.get(["emphasis","focus"]),U=t.get(["emphasis","blurScope"]),$=dl(m,"cartesian2d")?[M.mapDimension("x"),M.mapDimension("y"),M.mapDimension("value")]:[M.mapDimension("time"),M.mapDimension("value")],et=r;et<o;et++){var at=void 0,At=M.getItemVisual(et,"style");if(dl(m,"cartesian2d")){var Mt=M.get($[0],et),Lt=M.get($[1],et);if(isNaN(M.get($[2],et))||Mt<f[0]||Mt>f[1]||Lt<p[0]||Lt>p[1])continue;var Gt=m.dataToPoint([Mt,Lt]);at=new vr({shape:{x:Math.floor(Math.round(Gt[0])-l/2),y:Math.floor(Math.round(Gt[1])-u/2),width:Math.ceil(l),height:Math.ceil(u)},style:At})}else{if(isNaN(M.get($[1],et)))continue;at=new vr({z2:1,shape:m.dataToRect([M.get($[0],et)]).contentShape,style:At})}var ne=M.getItemModel(et);if(M.hasItemOption){var re=ne.getModel("emphasis");I=re.getModel("itemStyle").getItemStyle(),O=ne.getModel(["blur","itemStyle"]).getItemStyle(),B=ne.getModel(["select","itemStyle"]).getItemStyle(),X=re.get("focus"),U=re.get("blurScope"),H=Sa(ne)}var fe=t.getRawValue(et),ye="-";fe&&null!=fe[2]&&(ye=fe[2]+""),xs(at,H,{labelFetcher:t,labelDataIndex:et,defaultOpacity:At.opacity,defaultText:ye}),at.ensureState("emphasis").style=I,at.ensureState("blur").style=O,at.ensureState("select").style=B,to(at,X,U),at.incremental=s,s&&(at.states.emphasis.hoverLayer=!0),k.add(at),M.setItemGraphicEl(et,at)}},e.prototype._renderOnGeo=function(t,i,r,o){var s=r.targetVisuals.inRange,l=r.targetVisuals.outOfRange,u=i.getData(),f=this._hmLayer||this._hmLayer||new FN;f.blurSize=i.get("blurSize"),f.pointSize=i.get("pointSize"),f.minOpacity=i.get("minOpacity"),f.maxOpacity=i.get("maxOpacity");var p=t.getViewRect().clone(),m=t.getRoamTransform();p.applyTransform(m);var et,at,At,b=Math.max(p.x,0),w=Math.max(p.y,0),k=Math.min(p.width+p.x,o.getWidth()),M=Math.min(p.height+p.y,o.getHeight()),I=k-b,O=M-w,B=[u.mapDimension("lng"),u.mapDimension("lat"),u.mapDimension("value")],H=u.mapArray(B,function(et,at,At){var Mt=t.dataToPoint([et,at]);return Mt[0]-=b,Mt[1]-=w,Mt.push(At),Mt}),X=r.getExtent(),U="visualMap.continuous"===r.type?(at=[((at=r.option.range)[0]-(et=X)[0])/(At=et[1]-et[0]),(at[1]-et[0])/At],function(Mt){return Mt>=at[0]&&Mt<=at[1]}):function(et,at,At){var Mt=et[1]-et[0],Lt=(at=zt(at,function(ne){return{interval:[(ne.interval[0]-et[0])/Mt,(ne.interval[1]-et[0])/Mt]}})).length,Gt=0;return function(ne){var re;for(re=Gt;re<Lt;re++)if((fe=at[re].interval)[0]<=ne&&ne<=fe[1]){Gt=re;break}if(re===Lt)for(re=Gt-1;re>=0;re--){var fe;if((fe=at[re].interval)[0]<=ne&&ne<=fe[1]){Gt=re;break}}return re>=0&&re<Lt&&At[re]}}(X,r.getPieceList(),r.option.selected);f.update(H,I,O,s.color.getNormalizer(),{inRange:s.color.getColorMapper(),outOfRange:l.color.getColorMapper()},U);var $=new ga({style:{width:I,height:O,x:b,y:w,image:f.canvas},silent:!0});this.group.add($)},e.type="heatmap",e}(Rr),HN=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return Tt(e,n),e.prototype.getInitialData=function(t,i){return Jc(null,this,{generateCoord:"value"})},e.prototype.preventIncremental=function(){var t=Rd.get(this.get("coordinateSystem"));if(t&&t.dimensions)return"lng"===t.dimensions[0]&&"lat"===t.dimensions[1]},e.type="series.heatmap",e.dependencies=["grid","geo","calendar"],e.defaultOption={coordinateSystem:"cartesian2d",zlevel:0,z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0,select:{itemStyle:{borderColor:"#212121"}}},e}(Gr),WN=["itemStyle","borderWidth"],aD=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],tT=new eu,jN=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return Tt(e,n),e.prototype.render=function(t,i,r){var o=this.group,s=t.getData(),l=this._data,u=t.coordinateSystem,f=u.getBaseAxis().isHorizontal(),p=u.master.getRect(),m={ecSize:{width:r.getWidth(),height:r.getHeight()},seriesModel:t,coordSys:u,coordSysExtent:[[p.x,p.x+p.width],[p.y,p.y+p.height]],isHorizontal:f,valueDim:aD[+f],categoryDim:aD[1-+f]};return s.diff(l).add(function(b){if(s.hasValue(b)){var w=fD(s,b),k=sD(s,b,w,m),M=pD(s,m,k);s.setItemGraphicEl(b,M),o.add(M),vD(M,m,k)}}).update(function(b,w){var B,H,X,k=l.getItemGraphicEl(w);if(s.hasValue(b)){var M=fD(s,b),I=sD(s,b,M,m),O=mD(s,I);k&&O!==k.__pictorialShapeStr&&(o.remove(k),s.setItemGraphicEl(b,null),k=null),k?(H=m,xr((B=k).__pictorialBundle,{x:(X=I).bundlePosition[0],y:X.bundlePosition[1]},X.animationModel,X.dataIndex),X.symbolRepeat?uD(B,H,X,!0):cD(B,0,X,!0),hD(B,X,!0),dD(B,H,X,!0)):k=pD(s,m,I,!0),s.setItemGraphicEl(b,k),k.__pictorialSymbolMeta=I,o.add(k),vD(k,m,I)}else o.remove(k)}).remove(function(b){var w=l.getItemGraphicEl(b);w&&gD(l,b,w.__pictorialSymbolMeta.animationModel,w)}).execute(),this._data=s,this.group},e.prototype.remove=function(t,i){var r=this.group,o=this._data;t.get("animation")?o&&o.eachItemGraphicEl(function(s){gD(o,Fi(s).dataIndex,t,s)}):r.removeAll()},e.type="pictorialBar",e}(Rr);function sD(n,e,t,i){var k,M,O,H,X,U,$,et,at,At,Mt,Lt,Gt,r=n.getItemLayout(e),o=t.get("symbolRepeat"),s=t.get("symbolClip"),l=t.get("symbolPosition")||"start",u=(t.get("symbolRotate")||0)*Math.PI/180||0,f=t.get("symbolPatternSize")||2,p=t.isAnimationEnabled(),m={dataIndex:e,layout:r,itemModel:t,symbolType:n.getItemVisual(e,"symbol")||"circle",style:n.getItemVisual(e,"style"),symbolClip:s,symbolRepeat:o,symbolRepeatDirection:t.get("symbolRepeatDirection"),symbolPatternSize:f,rotation:u,animationModel:p?t:null,hoverScale:p&&t.get(["emphasis","scale"]),z2:t.getShallow("z",!0)||0};(function(k,M,I,O,B){var H,X=O.valueDim,U=k.get("symbolBoundingData"),$=O.coordSys.getOtherAxis(O.coordSys.getBaseAxis()),et=$.toGlobalCoord($.dataToCoord(0)),at=1-+(I[X.wh]<=0);if(Jt(U)){var At=[eT($,U[0])-et,eT($,U[1])-et];At[1]<At[0]&&At.reverse(),H=At[at]}else H=null!=U?eT($,U)-et:M?O.coordSysExtent[X.index][at]-et:I[X.wh];B.boundingLength=H,M&&(B.repeatCutLength=I[X.wh]),B.pxSign=H>0?1:H<0?-1:0})(t,o,r,i,m),k=n,M=e,O=o,H=m.boundingLength,X=m.pxSign,U=f,et=m,At=($=i).valueDim,Mt=$.categoryDim,Lt=Math.abs(r[Mt.wh]),(at=Jt(Gt=k.getItemVisual(M,"symbolSize"))?Gt.slice():null==Gt?["100%","100%"]:[Gt,Gt])[Mt.index]=In(at[Mt.index],Lt),at[At.index]=In(at[At.index],O?Lt:Math.abs(H)),et.symbolSize=at,(et.symbolScale=[at[0]/U,at[1]/U])[At.index]*=($.isHorizontal?-1:1)*X,function(k,M,I,O,B){var H=k.get(WN)||0;H&&(tT.attr({scaleX:M[0],scaleY:M[1],rotation:I}),tT.updateTransform(),H/=tT.getLineScale(),H*=M[O.valueDim.index]),B.valueLineWidth=H}(t,m.symbolScale,u,i,m);var b=m.symbolSize,w=eg(t.get("symbolOffset"),b);return function(k,M,I,O,B,H,X,U,$,et,at,At){var Mt=at.categoryDim,Lt=at.valueDim,Gt=At.pxSign,ne=Math.max(M[Lt.index]+U,0),re=ne;if(O){var fe=Math.abs($),ye=On(k.get("symbolMargin"),"15%")+"",Te=!1;ye.lastIndexOf("!")===ye.length-1&&(Te=!0,ye=ye.slice(0,ye.length-1));var Ie=In(ye,M[Lt.index]),Re=Math.max(ne+2*Ie,0),Xe=Te?0:2*Ie,cn=Ps(O),_n=cn?O:yD((fe+Xe)/Re);Re=ne+2*(Ie=(fe-_n*ne)/2/(Te?_n:Math.max(_n-1,1))),Xe=Te?0:2*Ie,cn||"fixed"===O||(_n=et?yD((Math.abs(et)+Xe)/Re):0),re=_n*Re-Xe,At.repeatTimes=_n,At.symbolMargin=Ie}var Hn=Gt*(re/2),gn=At.pathPosition=[];gn[Mt.index]=I[Mt.wh]/2,gn[Lt.index]="start"===X?Hn:"end"===X?$-Hn:$/2,H&&(gn[0]+=H[0],gn[1]+=H[1]);var Dn=At.bundlePosition=[];Dn[Mt.index]=I[Mt.xy],Dn[Lt.index]=I[Lt.xy];var Un=At.barRectShape=Dt({},I);Un[Lt.wh]=Gt*Math.max(Math.abs(I[Lt.wh]),Math.abs(gn[Lt.index]+Hn)),Un[Mt.wh]=I[Mt.wh];var Yn=At.clipShape={};Yn[Mt.xy]=-I[Mt.xy],Yn[Mt.wh]=at.ecSize[Mt.wh],Yn[Lt.xy]=0,Yn[Lt.wh]=I[Lt.wh]}(t,b,r,o,0,w,l,m.valueLineWidth,m.boundingLength,m.repeatCutLength,i,m),m}function eT(n,e){return n.toGlobalCoord(n.dataToCoord(n.scale.parse(e)))}function lD(n){var e=n.symbolPatternSize,t=oa(n.symbolType,-e/2,-e/2,e,e);return t.attr({culling:!0}),"image"!==t.type&&t.setStyle({strokeNoScale:!0}),t}function uD(n,e,t,i){var r=n.__pictorialBundle,l=t.pathPosition,u=e.valueDim,f=t.repeatTimes||0,p=0,m=t.symbolSize[e.valueDim.index]+t.valueLineWidth+2*t.symbolMargin;for(nT(n,function(M){M.__pictorialAnimationIndex=p,M.__pictorialRepeatTimes=f,p<f?Dx(M,null,k(p),t,i):Dx(M,null,{scaleX:0,scaleY:0},t,i,function(){r.remove(M)}),p++});p<f;p++){var b=lD(t);b.__pictorialAnimationIndex=p,b.__pictorialRepeatTimes=f,r.add(b);var w=k(p);Dx(b,{x:w.x,y:w.y,scaleX:0,scaleY:0},{scaleX:w.scaleX,scaleY:w.scaleY,rotation:w.rotation},t,i)}function k(M){var I=l.slice(),O=t.pxSign,B=M;return("start"===t.symbolRepeatDirection?O>0:O<0)&&(B=f-1-M),I[u.index]=m*(B-f/2+.5)+l[u.index],{x:I[0],y:I[1],scaleX:t.symbolScale[0],scaleY:t.symbolScale[1],rotation:t.rotation}}}function cD(n,e,t,i){var r=n.__pictorialBundle,o=n.__pictorialMainPath;o?Dx(o,null,{x:t.pathPosition[0],y:t.pathPosition[1],scaleX:t.symbolScale[0],scaleY:t.symbolScale[1],rotation:t.rotation},t,i):(o=n.__pictorialMainPath=lD(t),r.add(o),Dx(o,{x:t.pathPosition[0],y:t.pathPosition[1],scaleX:0,scaleY:0,rotation:t.rotation},{scaleX:t.symbolScale[0],scaleY:t.symbolScale[1]},t,i))}function hD(n,e,t){var i=Dt({},e.barRectShape),r=n.__pictorialBarRect;r?Dx(r,null,{shape:i},e,t):((r=n.__pictorialBarRect=new vr({z2:2,shape:i,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}})).disableMorphing=!0,n.add(r))}function dD(n,e,t,i){if(t.symbolClip){var r=n.__pictorialClipPath,o=Dt({},t.clipShape),s=e.valueDim,l=t.animationModel,u=t.dataIndex;if(r)xr(r,{shape:o},l,u);else{o[s.wh]=0,r=new vr({shape:o}),n.__pictorialBundle.setClipPath(r),n.__pictorialClipPath=r;var f={};f[s.wh]=t.clipShape[s.wh],sm[i?"updateProps":"initProps"](r,{shape:f},l,u)}}}function fD(n,e){var t=n.getItemModel(e);return t.getAnimationDelayParams=YN,t.isAnimationEnabled=XN,t}function YN(n){return{index:n.__pictorialAnimationIndex,count:n.__pictorialRepeatTimes}}function XN(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function pD(n,e,t,i){var r=new bt,o=new bt;return r.add(o),r.__pictorialBundle=o,o.x=t.bundlePosition[0],o.y=t.bundlePosition[1],t.symbolRepeat?uD(r,e,t):cD(r,0,t),hD(r,t,i),dD(r,e,t,i),r.__pictorialShapeStr=mD(n,t),r.__pictorialSymbolMeta=t,r}function gD(n,e,t,i){var r=i.__pictorialBarRect;r&&r.removeTextContent();var o=[];nT(i,function(s){o.push(s)}),i.__pictorialMainPath&&o.push(i.__pictorialMainPath),i.__pictorialClipPath&&(t=null),mt(o,function(s){vs(s,{scaleX:0,scaleY:0},t,e,function(){i.parent&&i.parent.remove(i)})}),n.setItemGraphicEl(e,null)}function mD(n,e){return[n.getItemVisual(e.dataIndex,"symbol")||"none",!!e.symbolRepeat,!!e.symbolClip].join(":")}function nT(n,e,t){mt(n.__pictorialBundle.children(),function(i){i!==n.__pictorialBarRect&&e.call(t,i)})}function Dx(n,e,t,i,r,o){e&&n.attr(e),i.symbolClip&&!r?t&&n.attr(t):t&&sm[r?"updateProps":"initProps"](n,t,i.animationModel,i.dataIndex,o)}function vD(n,e,t){var i=t.dataIndex,r=t.itemModel,o=r.getModel("emphasis"),s=o.getModel("itemStyle").getItemStyle(),l=r.getModel(["blur","itemStyle"]).getItemStyle(),u=r.getModel(["select","itemStyle"]).getItemStyle(),f=r.getShallow("cursor"),p=o.get("focus"),m=o.get("blurScope"),b=o.get("scale");nT(n,function(k){if(k instanceof ga){var M=k.style;k.useStyle(Dt({image:M.image,x:M.x,y:M.y,width:M.width,height:M.height},t.style))}else k.useStyle(t.style);var I=k.ensureState("emphasis");I.style=s,b&&(I.scaleX=1.1*k.scaleX,I.scaleY=1.1*k.scaleY),k.ensureState("blur").style=l,k.ensureState("select").style=u,f&&(k.cursor=f),k.z2=t.z2});var w=e.valueDim.posDesc[+(t.boundingLength>0)];xs(n.__pictorialBarRect,Sa(r),{labelFetcher:e.seriesModel,labelDataIndex:i,defaultText:Kd(e.seriesModel.getData(),i),inheritColor:t.style.fill,defaultOpacity:t.style.opacity,defaultOutsidePosition:w}),to(n,p,m)}function yD(n){var e=Math.round(n);return Math.abs(n-e)<1e-4?e:Math.ceil(n)}var GN=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t.hasSymbolVisual=!0,t.defaultSymbol="roundRect",t}return Tt(e,n),e.prototype.getInitialData=function(t){return t.stack=null,n.prototype.getInitialData.apply(this,arguments)},e.type="series.pictorialBar",e.dependencies=["grid"],e.defaultOption=Hc(Cv.defaultOption,{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",progressive:0,emphasis:{scale:!1},select:{itemStyle:{borderColor:"#212121"}}}),e}(Cv),qN=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t._layers=[],t}return Tt(e,n),e.prototype.render=function(t,i,r){var o=t.getData(),s=this,l=this.group,u=t.getLayerSeries(),f=o.getLayout("layoutInfo"),p=f.rect,m=f.boundaryGap;function b(I){return I.name}l.x=0,l.y=p.y+m[0];var w=new Hu(this._layersSeries||[],u,b,b),k=[];function M(I,O,B){var Re,Xe,_n,H=s._layers;if("remove"!==I){for(var X,U,$=[],et=[],at=u[O].indices,At=0;At<at.length;At++){var Mt=o.getItemLayout(at[At]),Lt=Mt.x,Gt=Mt.y0,ne=Mt.y;$.push(Lt,Gt),et.push(Lt,Gt+ne),X=o.getItemVisual(at[At],"style")}var re=o.getItemLayout(at[0]),fe=t.getModel("label").get("margin"),ye=t.getModel("emphasis");if("add"===I){var Te=k[O]=new bt;U=new ek({shape:{points:$,stackedOnPoints:et,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),Te.add(U),l.add(Te),t.isAnimationEnabled()&&U.setClipPath((Re=U.getBoundingRect(),Xe=t,ro(_n=new vr({shape:{x:Re.x-10,y:Re.y-10,width:0,height:Re.height+20}}),{shape:{x:Re.x-50,width:Re.width+100,height:Re.height+20}},Xe,function(){U.removeClipPath()}),_n))}else U=(Te=H[B]).childAt(0),l.add(Te),k[O]=Te,xr(U,{shape:{points:$,stackedOnPoints:et}},t),Du(U);xs(U,Sa(t),{labelDataIndex:at[At-1],defaultText:o.getName(at[At-1]),inheritColor:X.fill},{normal:{verticalAlign:"middle"}}),U.setTextConfig({position:null,local:!0});var Ie=U.getTextContent();Ie&&(Ie.x=re.x-fe,Ie.y=re.y0+re.y/2),U.useStyle(X),o.setItemGraphicEl(O,U),ls(U,t),to(U,ye.get("focus"),ye.get("blurScope"))}else l.remove(H[O])}w.add(_e(M,this,"add")).update(_e(M,this,"update")).remove(_e(M,this,"remove")).execute(),this._layersSeries=u,this._layers=k},e.type="themeRiver",e}(Rr),UN=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return Tt(e,n),e.prototype.init=function(t){n.prototype.init.apply(this,arguments),this.legendVisualProvider=new Iv(_e(this.getData,this),_e(this.getRawData,this))},e.prototype.fixData=function(t){var i=t.length,r={},o=od(t,function(b){return r.hasOwnProperty(b[0]+"")||(r[b[0]+""]=-1),b[2]}),s=[];o.buckets.each(function(b,w){s.push({name:w,dataList:b})});for(var l=s.length,u=0;u<l;++u){for(var f=s[u].name,p=0;p<s[u].dataList.length;++p)r[m=s[u].dataList[p][0]+""]=u;for(var m in r)r.hasOwnProperty(m)&&r[m]!==u&&(r[m]=u,t[i]=[m,0,f],i++)}return t},e.prototype.getInitialData=function(t,i){for(var r=this.getReferringComponents("singleAxis",Mo).models[0].get("type"),o=Ae(t.data,function(w){return void 0!==w[2]}),s=this.fixData(o||[]),l=[],u=this.nameMap=ii(),f=0,p=0;p<s.length;++p)l.push(s[p][2]),u.get(s[p][2])||(u.set(s[p][2],f),f++);var m=dg(s,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:cg(r)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}).dimensions,b=new _s(m,this);return b.initData(s),b},e.prototype.getLayerSeries=function(){for(var t=this.getData(),i=t.count(),r=[],o=0;o<i;++o)r[o]=o;var s=t.mapDimension("single"),l=od(r,function(f){return t.get("name",f)}),u=[];return l.buckets.each(function(f,p){f.sort(function(m,b){return t.get(s,m)-t.get(s,b)}),u.push({name:p,indices:f})}),u},e.prototype.getAxisTooltipData=function(t,i,r){Jt(t)||(t=t?[t]:[]);for(var o,s=this.getData(),l=this.getLayerSeries(),u=[],f=l.length,p=0;p<f;++p){for(var m=Number.MAX_VALUE,b=-1,w=l[p].indices.length,k=0;k<w;++k){var M=s.get(t[0],l[p].indices[k]),I=Math.abs(M-i);I<=m&&(o=M,m=I,b=l[p].indices[k])}u.push(b)}return{dataIndices:u,nestestValue:o}},e.prototype.formatTooltip=function(t,i,r){var o=this.getData();return Za("nameValue",{name:o.getName(t),value:o.get(o.mapDimension("value"),t)})},e.type="series.themeRiver",e.dependencies=["singleAxis"],e.defaultOption={zlevel:0,z:2,colorBy:"data",coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:!0,position:"left",fontSize:11},emphasis:{label:{show:!0}}},e}(Gr);function $N(n,e){n.eachSeriesByType("themeRiver",function(t){var i=t.getData(),r=t.coordinateSystem,o={},s=r.getRect();o.rect=s;var l=t.get("boundaryGap"),u=r.getAxis();o.boundaryGap=l,"horizontal"===u.orient?(l[0]=In(l[0],s.height),l[1]=In(l[1],s.height),xD(i,t,s.height-l[0]-l[1])):(l[0]=In(l[0],s.width),l[1]=In(l[1],s.width),xD(i,t,s.width-l[0]-l[1])),i.setLayout("layoutInfo",o)})}function xD(n,e,t){if(n.count())for(var i,r=e.coordinateSystem,o=e.getLayerSeries(),s=n.mapDimension("single"),l=n.mapDimension("value"),u=zt(o,function(I){return zt(I.indices,function(O){var B=r.dataToPoint(n.get(s,O));return B[1]=n.get(l,O),B})}),f=function(I){for(var O=I.length,B=I[0].length,H=[],X=[],U=0,$=0;$<B;++$){for(var et=0,at=0;at<O;++at)et+=I[at][$][1];et>U&&(U=et),H.push(et)}for(var At=0;At<B;++At)X[At]=(U-H[At])/2;U=0;for(var Mt=0;Mt<B;++Mt){var Lt=H[Mt]+X[Mt];Lt>U&&(U=Lt)}return{y0:X,max:U}}(u),p=f.y0,m=t/f.max,b=o.length,w=o[0].indices.length,k=0;k<w;++k){n.setItemLayout(o[0].indices[k],{layerIndex:0,x:u[0][k][0],y0:i=p[k]*m,y:u[0][k][1]*m});for(var M=1;M<b;++M)n.setItemLayout(o[M].indices[k],{layerIndex:M,x:u[M][k][0],y0:i+=u[M-1][k][1]*m,y:u[M][k][1]*m})}}var bD=function(n){function e(t,i,r,o){var s=n.call(this)||this;s.z2=2,s.textConfig={inside:!0},Fi(s).seriesIndex=i.seriesIndex;var l=new dr({z2:4,silent:t.getModel().get(["label","silent"])});return s.setTextContent(l),s.updateData(!0,t,i,r,o),s}return Tt(e,n),e.prototype.updateData=function(t,i,r,o,s){this.node=i,i.piece=this,r=r||this._seriesModel,o=o||this._ecModel;var l=this;Fi(l).dataIndex=i.dataIndex;var u=i.getModel(),f=u.getModel("emphasis"),p=i.getLayout(),m=Dt({},p);m.label=null;var b=i.getVisual("style");b.lineJoin="bevel";var w=i.getVisual("decal");w&&(b.decal=ig(w,s));var k=rp(u.getModel("itemStyle"),m,!0);Dt(m,k),mt(Bs,function(O){var B=l.ensureState(O),H=u.getModel([O,"itemStyle"]);B.style=H.getItemStyle();var X=rp(H,m);X&&(B.shape=X)}),t?(l.setShape(m),l.shape.r=p.r0,xr(l,{shape:{r:p.r}},r,i.dataIndex)):(xr(l,{shape:m},r),Du(l)),l.useStyle(b),this._updateLabel(r);var M=u.getShallow("cursor");M&&l.attr("cursor",M),this._seriesModel=r||this._seriesModel,this._ecModel=o||this._ecModel;var I=f.get("focus");to(this,"ancestor"===I?i.getAncestorsIndices():"descendant"===I?i.getDescendantIndices():I,f.get("blurScope"))},e.prototype._updateLabel=function(t){var i=this,r=this.node.getModel(),o=r.getModel("label"),s=this.node.getLayout(),l=s.endAngle-s.startAngle,u=(s.startAngle+s.endAngle)/2,f=Math.cos(u),p=Math.sin(u),m=this,b=m.getTextContent(),w=this.node.dataIndex,k=o.get("minAngle")/180*Math.PI,M=o.get("show")&&!(null!=k&&Math.abs(l)<k);function I(O,B){var H=O.get(B);return null==H?o.get(B):H}b.ignore=!M,mt(Rc,function(O){var B=r.getModel("normal"===O?"label":[O,"label"]),H="normal"===O,X=H?b:b.ensureState(O),U=t.getFormattedLabel(w,O);H&&(U=U||i.node.name),X.style=Zo(B,{},null,"normal"!==O,!0),U&&(X.style.text=U);var $=B.get("show");null==$||H||(X.ignore=!$);var et,at=I(B,"position"),At=H?m:m.states[O],Mt=At.style.fill;At.textConfig={outsideFill:"inherit"===B.get("color")?Mt:null,inside:"outside"!==at};var Lt=I(B,"distance")||0,Gt=I(B,"align");"outside"===at?(et=s.r+Lt,Gt=u>Math.PI/2?"right":"left"):Gt&&"center"!==Gt?"left"===Gt?(et=s.r0+Lt,u>Math.PI/2&&(Gt="right")):"right"===Gt&&(et=s.r-Lt,u>Math.PI/2&&(Gt="left")):(et=(s.r+s.r0)/2,Gt="center"),X.style.align=Gt,X.style.verticalAlign=I(B,"verticalAlign")||"middle",X.x=et*f+s.cx,X.y=et*p+s.cy;var ne=I(B,"rotate"),re=0;"radial"===ne?(re=-u)<-Math.PI/2&&(re+=Math.PI):"tangential"===ne?(re=Math.PI/2-u)>Math.PI/2?re-=Math.PI:re<-Math.PI/2&&(re+=Math.PI):"number"==typeof ne&&(re=ne*Math.PI/180),X.rotation=re}),b.dirtyStyle()},e}(Fr),iT="sunburstRootToNode",_D="sunburstHighlight",ZN=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return Tt(e,n),e.prototype.render=function(t,i,r,o){var s=this;this.seriesModel=t,this.api=r,this.ecModel=i;var k,M,l=t.getData(),u=l.tree.root,f=t.getViewRoot(),p=this.group,m=t.get("renderLabelForZeroData"),b=[];f.eachNode(function(k){b.push(k)}),function(k,M){function I(B){return B.getId()}function O(B,H){!function(X,U){if(m||!X||X.getValue()||(X=null),X!==u&&U!==u)if(U&&U.piece)X?(U.piece.updateData(!1,X,t,i,r),l.setItemGraphicEl(X.dataIndex,U.piece)):!(et=U)||et.piece&&(p.remove(et.piece),et.piece=null);else if(X){var $=new bD(X,t,i,r);p.add($),l.setItemGraphicEl(X.dataIndex,$)}var et}(null==B?null:k[B],null==H?null:M[H])}0===k.length&&0===M.length||new Hu(M,k,I,I).add(O).update(O).remove(de(O,null)).execute()}(b,this._oldChildren||[]),k=u,(M=f).depth>0?(s.virtualPiece?s.virtualPiece.updateData(!1,k,t,i,r):(s.virtualPiece=new bD(k,t,i,r),p.add(s.virtualPiece)),M.piece.off("click"),s.virtualPiece.on("click",function(I){s._rootToNode(M.parentNode)})):s.virtualPiece&&(p.remove(s.virtualPiece),s.virtualPiece=null),this._initEvents(),this._oldChildren=b},e.prototype._initEvents=function(){var t=this;this.group.off("click"),this.group.on("click",function(i){var r=!1;t.seriesModel.getViewRoot().eachNode(function(o){if(!r&&o.piece&&o.piece===i.target){var s=o.getModel().get("nodeClick");if("rootToNode"===s)t._rootToNode(o);else if("link"===s){var l=o.getModel(),u=l.get("link");u&&bm(u,l.get("target",!0)||"_blank")}r=!0}})})},e.prototype._rootToNode=function(t){t!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:iT,from:this.uid,seriesId:this.seriesModel.id,targetNode:t})},e.prototype.containPoint=function(t,i){var r=i.getData().getItemLayout(0);if(r){var o=t[0]-r.cx,s=t[1]-r.cy,l=Math.sqrt(o*o+s*s);return l<=r.r&&l>=r.r0}},e.type="sunburst",e}(Rr),KN=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t.ignoreStyleOnData=!0,t}return Tt(e,n),e.prototype.getInitialData=function(t,i){var r={name:t.name,children:t.data};wD(r);var o=this._levelModels=zt(t.levels||[],function(l){return new Er(l,this,i)},this),s=sM.createTree(r,this,function(l){l.wrapMethod("getItemModel",function(u,f){var p=s.getNodeByDataIndex(f),m=o[p.depth];return m&&(u.parentModel=m),u})});return s.data},e.prototype.optionUpdated=function(){this.resetViewRoot()},e.prototype.getDataParams=function(t){var i=n.prototype.getDataParams.apply(this,arguments),r=this.getData().tree.getNodeByDataIndex(t);return i.treePathInfo=mk(r,this),i},e.prototype.getLevelModel=function(t){return this._levelModels&&this._levelModels[t.depth]},e.prototype.getViewRoot=function(){return this._viewRoot},e.prototype.resetViewRoot=function(t){t?this._viewRoot=t:t=this._viewRoot;var i=this.getRawData().tree.root;t&&(t===i||i.contains(t))||(this._viewRoot=i)},e.prototype.enableAriaDecal=function(){P2(this)},e.type="series.sunburst",e.defaultOption={zlevel:0,z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,stillShowZeroSum:!0,nodeClick:"rootToNode",renderLabelForZeroData:!1,label:{rotate:"radial",show:!0,opacity:1,align:"center",position:"inside",distance:5,silent:!0},itemStyle:{borderWidth:1,borderColor:"white",borderType:"solid",shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffsetX:0,shadowOffsetY:0,opacity:1},emphasis:{focus:"descendant"},blur:{itemStyle:{opacity:.2},label:{opacity:.1}},animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,data:[],sort:"desc"},e}(Gr);function wD(n){var e=0;mt(n.children,function(i){wD(i);var r=i.value;Jt(r)&&(r=r[0]),e+=r});var t=n.value;Jt(t)&&(t=t[0]),(null==t||isNaN(t))&&(t=e),t<0&&(t=0),Jt(n.value)?n.value[0]=t:n.value=t}var SD=Math.PI/180;function QN(n,e,t){e.eachSeriesByType(n,function(i){var r=i.get("center"),o=i.get("radius");Jt(o)||(o=[0,o]),Jt(r)||(r=[r,r]);var s=t.getWidth(),l=t.getHeight(),u=Math.min(s,l),f=In(r[0],s),p=In(r[1],l),m=In(o[0],u/2),b=In(o[1],u/2),w=-i.get("startAngle")*SD,k=i.get("minAngle")*SD,M=i.getData().tree.root,I=i.getViewRoot(),O=I.depth,B=i.get("sort");null!=B&&CD(I,B);var H=0;mt(I.children,function(ye){!isNaN(ye.getValue())&&H++});var X=I.getValue(),U=Math.PI/(X||H)*2,$=I.depth>0,at=(b-m)/(I.height-($?-1:1)||1),At=i.get("clockwise"),Mt=i.get("stillShowZeroSum"),Lt=At?1:-1,Gt=function(ye,Te){if(ye){var Ie=Te;if(ye!==M){var Re=ye.getValue(),Xe=0===X&&Mt?U:Re*U;Xe<k&&(Xe=k),Ie=Te+Lt*Xe;var cn=ye.depth-O-($?-1:1),_n=m+at*cn,Hn=m+at*(cn+1),gn=i.getLevelModel(ye);if(gn){var Dn=gn.get("r0",!0),Un=gn.get("r",!0),Yn=gn.get("radius",!0);null!=Yn&&(Dn=Yn[0],Un=Yn[1]),null!=Dn&&(_n=In(Dn,u/2)),null!=Un&&(Hn=In(Un,u/2))}ye.setLayout({angle:Xe,startAngle:Te,endAngle:Ie,clockwise:At,cx:f,cy:p,r0:_n,r:Hn})}if(ye.children&&ye.children.length){var Xn=0;mt(ye.children,function(di){Xn+=Gt(di,Te+Xn)})}return Ie-Te}};if($){var fe=2*Math.PI;M.setLayout({angle:fe,startAngle:w,endAngle:w+fe,clockwise:At,cx:f,cy:p,r0:m,r:m+at})}Gt(I,w)})}function CD(n,e){var t=n.children||[];n.children=function(i,r){if("function"==typeof r){var o=zt(i,function(l,u){var f=l.getValue();return{params:{depth:l.depth,height:l.height,dataIndex:l.dataIndex,getValue:function(){return f}},index:u}});return o.sort(function(l,u){return r(l.params,u.params)}),zt(o,function(l){return i[l.index]})}var s="asc"===r;return i.sort(function(l,u){var f=(l.getValue()-u.getValue())*(s?1:-1);return 0===f?(l.dataIndex-u.dataIndex)*(s?-1:1):f})}(t,e),t.length&&mt(n.children,function(i){CD(i,e)})}function JN(n){var e={};n.eachSeriesByType("sunburst",function(t){var i=t.getData(),r=i.tree;r.eachNode(function(o){var s=o.getModel().getModel("itemStyle").getItemStyle();s.fill||(s.fill=function(l,u,f){for(var p=l;p&&p.depth>1;)p=p.parentNode;var m=u.getColorFromPalette(p.name||p.dataIndex+"",e);return l.depth>1&&"string"==typeof m&&(m=ml(m,(l.depth-1)/(f-1)*.5)),m}(o,t,r.root.height)),Dt(i.ensureUniqueItemVisual(o.dataIndex,"style"),s)})})}var kD={color:"fill",borderColor:"stroke"},eR={symbol:1,symbolSize:1,symbolKeepAspect:1,legendIcon:1,visualMeta:1,liftZ:1,decal:1},Kh=ar(),nR=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return Tt(e,n),e.prototype.optionUpdated=function(){this.currentZLevel=this.get("zlevel",!0),this.currentZ=this.get("z",!0)},e.prototype.getInitialData=function(t,i){return Jc(null,this)},e.prototype.getDataParams=function(t,i,r){var o=n.prototype.getDataParams.call(this,t,i);return r&&(o.info=Kh(r).info),o},e.type="series.custom",e.dependencies=["grid","polar","geo","singleAxis","calendar"],e.defaultOption={coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,clip:!1},e}(Gr);function iR(n,e){return e=e||[0,0],zt(["x","y"],function(t,i){var r=this.getAxis(t),o=e[i],s=n[i]/2;return"category"===r.type?r.getBandWidth():Math.abs(r.dataToCoord(o-s)-r.dataToCoord(o+s))},this)}function rR(n,e){return e=e||[0,0],zt([0,1],function(t){var i=e[t],r=n[t]/2,o=[],s=[];return o[t]=i-r,s[t]=i+r,o[1-t]=s[1-t]=e[1-t],Math.abs(this.dataToPoint(o)[t]-this.dataToPoint(s)[t])},this)}function oR(n,e){var t=this.getAxis(),i=e instanceof Array?e[0]:e,r=(n instanceof Array?n[0]:n)/2;return"category"===t.type?t.getBandWidth():Math.abs(t.dataToCoord(i-r)-t.dataToCoord(i+r))}function aR(n,e){return e=e||[0,0],zt(["Radius","Angle"],function(t,i){var r=this["get"+t+"Axis"](),o=e[i],s=n[i]/2,l="category"===r.type?r.getBandWidth():Math.abs(r.dataToCoord(o-s)-r.dataToCoord(o+s));return"Angle"===t&&(l=l*Math.PI/180),l},this)}function AD(n,e,t,i){return n&&(n.legacy||!1!==n.legacy&&!t&&!i&&"tspan"!==e&&("text"===e||ei(n,"text")))}function MD(n,e,t){var i,r,o,s=n;if("text"===e)o=s;else{o={},ei(s,"text")&&(o.text=s.text),ei(s,"rich")&&(o.rich=s.rich),ei(s,"textFill")&&(o.fill=s.textFill),ei(s,"textStroke")&&(o.stroke=s.textStroke),ei(s,"fontFamily")&&(o.fontFamily=s.fontFamily),ei(s,"fontSize")&&(o.fontSize=s.fontSize),ei(s,"fontStyle")&&(o.fontStyle=s.fontStyle),ei(s,"fontWeight")&&(o.fontWeight=s.fontWeight),r={type:"text",style:o,silent:!0},i={};var l=ei(s,"textPosition");t?i.position=l?s.textPosition:"inside":l&&(i.position=s.textPosition),ei(s,"textPosition")&&(i.position=s.textPosition),ei(s,"textOffset")&&(i.offset=s.textOffset),ei(s,"textRotation")&&(i.rotation=s.textRotation),ei(s,"textDistance")&&(i.distance=s.textDistance)}return TD(o,n),mt(o.rich,function(u){TD(u,u)}),{textConfig:i,textContent:r}}function TD(n,e){e&&(e.font=e.textFont||e.font,ei(e,"textStrokeWidth")&&(n.lineWidth=e.textStrokeWidth),ei(e,"textAlign")&&(n.align=e.textAlign),ei(e,"textVerticalAlign")&&(n.verticalAlign=e.textVerticalAlign),ei(e,"textLineHeight")&&(n.lineHeight=e.textLineHeight),ei(e,"textWidth")&&(n.width=e.textWidth),ei(e,"textHeight")&&(n.height=e.textHeight),ei(e,"textBackgroundColor")&&(n.backgroundColor=e.textBackgroundColor),ei(e,"textPadding")&&(n.padding=e.textPadding),ei(e,"textBorderColor")&&(n.borderColor=e.textBorderColor),ei(e,"textBorderWidth")&&(n.borderWidth=e.textBorderWidth),ei(e,"textBorderRadius")&&(n.borderRadius=e.textBorderRadius),ei(e,"textBoxShadowColor")&&(n.shadowColor=e.textBoxShadowColor),ei(e,"textBoxShadowBlur")&&(n.shadowBlur=e.textBoxShadowBlur),ei(e,"textBoxShadowOffsetX")&&(n.shadowOffsetX=e.textBoxShadowOffsetX),ei(e,"textBoxShadowOffsetY")&&(n.shadowOffsetY=e.textBoxShadowOffsetY))}function ID(n,e,t){var i=n;i.textPosition=i.textPosition||t.position||"inside",null!=t.offset&&(i.textOffset=t.offset),null!=t.rotation&&(i.textRotation=t.rotation),null!=t.distance&&(i.textDistance=t.distance);var r=i.textPosition.indexOf("inside")>=0,o=n.fill||"#000";DD(i,e);var s=null==i.textFill;return r?s&&(i.textFill=t.insideFill||"#fff",!i.textStroke&&t.insideStroke&&(i.textStroke=t.insideStroke),!i.textStroke&&(i.textStroke=o),null==i.textStrokeWidth&&(i.textStrokeWidth=2)):(s&&(i.textFill=n.fill||t.outsideFill||"#000"),!i.textStroke&&t.outsideStroke&&(i.textStroke=t.outsideStroke)),i.text=e.text,i.rich=e.rich,mt(e.rich,function(l){DD(l,l)}),i}function DD(n,e){e&&(ei(e,"fill")&&(n.textFill=e.fill),ei(e,"stroke")&&(n.textStroke=e.fill),ei(e,"lineWidth")&&(n.textStrokeWidth=e.lineWidth),ei(e,"font")&&(n.font=e.font),ei(e,"fontStyle")&&(n.fontStyle=e.fontStyle),ei(e,"fontWeight")&&(n.fontWeight=e.fontWeight),ei(e,"fontSize")&&(n.fontSize=e.fontSize),ei(e,"fontFamily")&&(n.fontFamily=e.fontFamily),ei(e,"align")&&(n.textAlign=e.align),ei(e,"verticalAlign")&&(n.textVerticalAlign=e.verticalAlign),ei(e,"lineHeight")&&(n.textLineHeight=e.lineHeight),ei(e,"width")&&(n.textWidth=e.width),ei(e,"height")&&(n.textHeight=e.height),ei(e,"backgroundColor")&&(n.textBackgroundColor=e.backgroundColor),ei(e,"padding")&&(n.textPadding=e.padding),ei(e,"borderColor")&&(n.textBorderColor=e.borderColor),ei(e,"borderWidth")&&(n.textBorderWidth=e.borderWidth),ei(e,"borderRadius")&&(n.textBorderRadius=e.borderRadius),ei(e,"shadowColor")&&(n.textBoxShadowColor=e.shadowColor),ei(e,"shadowBlur")&&(n.textBoxShadowBlur=e.shadowBlur),ei(e,"shadowOffsetX")&&(n.textBoxShadowOffsetX=e.shadowOffsetX),ei(e,"shadowOffsetY")&&(n.textBoxShadowOffsetY=e.shadowOffsetY),ei(e,"textShadowColor")&&(n.textShadowColor=e.textShadowColor),ei(e,"textShadowBlur")&&(n.textShadowBlur=e.textShadowBlur),ei(e,"textShadowOffsetX")&&(n.textShadowOffsetX=e.textShadowOffsetX),ei(e,"textShadowOffsetY")&&(n.textShadowOffsetY=e.textShadowOffsetY))}var sR={position:["x","y"],scale:["scaleX","scaleY"],origin:["originX","originY"]};function rT(n,e,t){var i=n[t],r=sR[t];i&&(e[r[0]]=i[0],e[r[1]]=i[1])}function zv(n,e,t){null!=n[t]&&(e[t]=n[t])}function ED(n,e,t){t&&(n[e]=t[e])}function LD(n,e,t,i,r){var o=t[n];if(o){var s,l=e[n],u=o.enterFrom;if(r&&u){!s&&(s=i[n]={});for(var f=be(u),p=0;p<f.length;p++)s[B=f[p]]=u[B]}if(!r&&l)if(o.transition){!s&&(s=i[n]={});var m=mr(o.transition);for(p=0;p<m.length;p++){var b=l[B=m[p]];s[B]=b}}else if(Ne(t.transition,n)>=0){!s&&(s=i[n]={});var w=be(l);for(p=0;p<w.length;p++)b=l[B=w[p]],lR(o[B],b)&&(s[B]=b)}var k=o.leaveTo;if(k){var M=oT(e),I=M[n]||(M[n]={}),O=be(k);for(p=0;p<O.length;p++){var B;I[B=O[p]]=k[B]}}}}function PD(n,e,t){var i=e[n];if(i)for(var r=t[n]={},o=be(i),s=0;s<o.length;s++){var l=o[s];r[l]=wo(i[l])}}function lR(n,e){return an(n)?n!==e:null!=n&&isFinite(n)}function oT(n){var e=Kh(n);return e.leaveToProps||(e.leaveToProps={})}be({x:1,y:1,scaleX:1,scaleY:1,originX:1,originY:1,rotation:1}).join(", ");var ap="emphasis",Lg="normal",aT="blur",sT="select",Pg=[Lg,ap,aT,sT],lT={normal:["itemStyle"],emphasis:[ap,"itemStyle"],blur:[aT,"itemStyle"],select:[sT,"itemStyle"]},uT={normal:["label"],emphasis:[ap,"label"],blur:[aT,"label"],select:[sT,"label"]},uh={normal:{},emphasis:{},blur:{},select:{}},uR={cartesian2d:function(n){var e=n.master.getRect();return{coordSys:{type:"cartesian2d",x:e.x,y:e.y,width:e.width,height:e.height},api:{coord:function(t){return n.dataToPoint(t)},size:_e(iR,n)}}},geo:function(n){var e=n.getBoundingRect();return{coordSys:{type:"geo",x:e.x,y:e.y,width:e.width,height:e.height,zoom:n.getZoom()},api:{coord:function(t){return n.dataToPoint(t)},size:_e(rR,n)}}},singleAxis:function(n){var e=n.getRect();return{coordSys:{type:"singleAxis",x:e.x,y:e.y,width:e.width,height:e.height},api:{coord:function(t){return n.dataToPoint(t)},size:_e(oR,n)}}},polar:function(n){var e=n.getRadiusAxis(),t=n.getAngleAxis(),i=e.getExtent();return i[0]>i[1]&&i.reverse(),{coordSys:{type:"polar",cx:n.cx,cy:n.cy,r:i[1],r0:i[0]},api:{coord:function(r){var o=e.dataToRadius(r[0]),s=t.dataToAngle(r[1]),l=n.coordToPoint([o,s]);return l.push(o,s*Math.PI/180),l},size:_e(aR,n)}}},calendar:function(n){var e=n.getRect(),t=n.getRangeInfo();return{coordSys:{type:"calendar",x:e.x,y:e.y,width:e.width,height:e.height,cellWidth:n.getCellWidth(),cellHeight:n.getCellHeight(),rangeInfo:{start:t.start,end:t.end,weeks:t.weeks,dayCount:t.allDay}},api:{coord:function(i,r){return n.dataToPoint(i,r)}}}}};function Tk(n){return n instanceof zi}function cT(n){return n instanceof Xr}var cR=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return Tt(e,n),e.prototype.render=function(t,i,r,o){var s=this._data,l=t.getData(),u=this.group,f=ND(t,l,i,r);s||u.removeAll(),l.diff(s).add(function(m){fT(r,null,m,f(m,o),t,u,l)}).remove(function(m){mT(s.getItemGraphicEl(m),t,u)}).update(function(m,b){var w=s.getItemGraphicEl(b);fT(r,w,m,f(m,o),t,u,l)}).execute();var p=t.get("clip",!0)?cx(t.coordinateSystem,!1,t):null;p?u.setClipPath(p):u.removeClipPath(),this._data=l},e.prototype.incrementalPrepareRender=function(t,i,r){this.group.removeAll(),this._data=null},e.prototype.incrementalRender=function(t,i,r,o,s){var l=i.getData(),u=ND(i,l,r,o);function f(b){b.isGroup||(b.incremental=!0,b.ensureState("emphasis").hoverLayer=!0)}for(var p=t.start;p<t.end;p++){var m=fT(null,null,p,u(p,s),i,this.group,l);m&&m.traverse(f)}},e.prototype.filterForExposedEvent=function(t,i,r,o){var s=i.element;if(null==s||r.name===s)return!0;for(;(r=r.__hostTarget||r.parent)&&r!==this.group;)if(r.name===s)return!0;return!1},e.type="custom",e}(Rr);function hT(n){var e,t=n.type;if("path"===t){var i=n.shape,r=null!=i.width&&null!=i.height?{x:i.x||0,y:i.y||0,width:i.width,height:i.height}:null,o=VD(i);e=kd(o,null,r,i.layout||"center"),Kh(e).customPathData=o}else if("image"===t)e=new ga({}),Kh(e).customImagePath=n.style.image;else if("text"===t)e=new dr({});else if("group"===t)e=new bt;else{if("compoundPath"===t)throw new Error('"compoundPath" is not supported yet.');var s=Ep(t);s||Ai(""),e=new s}return Kh(e).customGraphicType=t,e.name=n.name,e.z2EmphasisLift=1,e.z2SelectLift=1,e}function dT(n,e,t,i,r,o,s,l){var u=r&&r.normal.cfg;u&&e.setTextConfig(u);var f=i&&i.style;if(f){if("text"===e.type){var p=f;ei(p,"textFill")&&(p.fill=p.textFill),ei(p,"textStroke")&&(p.stroke=p.textStroke)}var m=void 0,b=Tk(e)?f.decal:null;n&&b&&(b.dirty=!0,m=ig(b,n)),f.__decalPattern=m}Kh(e).userDuring=i.during;var I,O,w={},k={};LD("shape",e,i,w,s),PD("shape",i,k),function(M,I,O,B){var H=I.enterFrom;if(B&&H)for(var X=be(H),U=0;U<X.length;U++)O[Lt=X[U]]=H[Lt];if(!B)if(I.transition){var $=mr(I.transition);for(U=0;U<$.length;U++)"style"!==(Lt=$[U])&&"shape"!==Lt&&"extra"!==Lt&&(O[Lt]=M[Lt])}else ED(O,"x",M),ED(O,"y",M);var at=I.leaveTo;if(at){var At=oT(M),Mt=be(at);for(U=0;U<Mt.length;U++){var Lt;At[Lt=Mt[U]]=at[Lt]}}}(e,i,w,s),rT(I=i,O=k,"position"),rT(I,O,"scale"),rT(I,O,"origin"),zv(I,O,"x"),zv(I,O,"y"),zv(I,O,"scaleX"),zv(I,O,"scaleY"),zv(I,O,"originX"),zv(I,O,"originY"),zv(I,O,"rotation"),LD("extra",e,i,w,s),PD("extra",i,k),function(M,I,O,B,H){if(O){var X,U=M.style,$=O.enterFrom;if(H&&$){var et=be($);!X&&(X=B.style={});for(var at=0;at<et.length;at++)X[Ie=et[at]]=$[Ie]}if(!H&&U)if(O.transition){var At=mr(O.transition);for(!X&&(X=B.style={}),at=0;at<At.length;at++){var Mt=U[Ie=At[at]];X[Ie]=Mt}}else if(M.getAnimationStyleProps&&Ne(I.transition,"style")>=0){var Lt=M.getAnimationStyleProps(),Gt=Lt?Lt.style:null;if(Gt){!X&&(X=B.style={});var ne=be(O);for(at=0;at<ne.length;at++)Gt[Ie=ne[at]]&&(X[Ie]=Mt=U[Ie])}}var re=O.leaveTo;if(re){var fe=be(re),ye=oT(M),Te=ye.style||(ye.style={});for(at=0;at<fe.length;at++){var Ie;Te[Ie=fe[at]]=re[Ie]}}}}(e,i,f,w,s),k.style=f,function(M,I){var O=M.isGroup?null:M,B=I.style;if(O&&B){O.useStyle(B);var H=B.__decalPattern;H&&(O.style.decal=H);for(var X=O.animators,U=0;U<X.length;U++){var $=X[U];"style"===$.targetName&&$.changeTarget(O.style)}}I&&(I.style=null,I&&M.attr(I),I.style=B)}(e,k),function(M,I,O,B,H){if(B){var X=Kh(M).userDuring,U={dataIndex:I,isFrom:!0,during:X?_e(dR,{el:M,userDuring:X}):null};H?ro(M,B,O,U):xr(M,B,O,U)}}(e,t,o,w,s),function(M,I,O){ei(I,"silent")&&(M.silent=I.silent),ei(I,"ignore")&&(M.ignore=I.ignore),cT(M)&&ei(I,"invisible")&&(M.invisible=I.invisible),Tk(M)&&ei(I,"autoBatch")&&(M.autoBatch=I.autoBatch),O||ei(I,"info")&&(Kh(M).info=I.info)}(e,i,l),f?e.dirty():e.markRedraw()}var fl={},hR={setTransform:function(n,e){return fl.el[n]=e,this},getTransform:function(n){return fl.el[n]},setShape:function(n,e){return(fl.el.shape||(fl.el.shape={}))[n]=e,fl.isShapeDirty=!0,this},getShape:function(n){var e=fl.el.shape;if(e)return e[n]},setStyle:function(n,e){var t=fl.el.style;return t&&(t[n]=e,fl.isStyleDirty=!0),this},getStyle:function(n){var e=fl.el.style;if(e)return e[n]},setExtra:function(n,e){return(fl.el.extra||(fl.el.extra={}))[n]=e,this},getExtra:function(n){var e=fl.el.extra;if(e)return e[n]}};function dR(){var n=this,e=n.el;if(e){var t=Kh(e).userDuring,i=n.userDuring;t===i?(fl.el=e,fl.isShapeDirty=!1,fl.isStyleDirty=!1,i(hR),fl.isShapeDirty&&e.dirtyShape&&e.dirtyShape(),fl.isStyleDirty&&e.dirtyStyle&&e.dirtyStyle()):n.el=n.userDuring=null}}function OD(n,e,t,i,r,o,s){var l=e.isGroup?null:e,u=r&&r[n].cfg;if(l){var f=l.ensureState(n);if(!1===i){var p=l.getState(n);p&&(p.style=null)}else f.style=i||null;u&&(f.textConfig=u),gf(l)}}function fR(n,e,t){var i=t===Lg,r=i?e:Ik(e,t),o=r?r.z2:null;null!=o&&((i?n:n.ensureState(t)).z2=o||0)}function ND(n,e,t,i){var r=n.get("renderItem"),o=n.coordinateSystem,s={};o&&(s=o.prepareCustoms?o.prepareCustoms(o):uR[o.type](o));for(var l,u,f=se({getWidth:i.getWidth,getHeight:i.getHeight,getZr:i.getZr,getDevicePixelRatio:i.getDevicePixelRatio,value:function($,et){return null==et&&(et=l),e.getStore().get(e.getDimensionIndex($||0),et)},style:function($,et){null==et&&(et=l);var at=e.getItemVisual(et,"style"),At=at&&at.fill,Mt=at&&at.opacity,Lt=B(et,Lg).getItemStyle();null!=At&&(Lt.fill=At),null!=Mt&&(Lt.opacity=Mt);var Gt={inheritColor:Ke(At)?At:"#000"},ne=H(et,Lg),re=Zo(ne,null,Gt,!1,!0);re.text=ne.getShallow("show")?Tn(n.getFormattedLabel(et,Lg),Kd(e,et)):null;var fe=Lh(ne,Gt,!1);return U($,Lt),Lt=ID(Lt,re,fe),$&&X(Lt,$),Lt.legacy=!0,Lt},ordinalRawValue:function($,et){null==et&&(et=l);var at=e.getDimensionInfo($=$||0);if(!at){var At=e.getDimensionIndex($);return At>=0?e.getStore().get(At,et):void 0}var Mt=e.get(at.name,et),Lt=at&&at.ordinalMeta;return Lt?Lt.categories[Mt]:Mt},styleEmphasis:function($,et){null==et&&(et=l);var at=B(et,ap).getItemStyle(),At=H(et,ap),Mt=Zo(At,null,null,!0,!0);Mt.text=At.getShallow("show")?En(n.getFormattedLabel(et,ap),n.getFormattedLabel(et,Lg),Kd(e,et)):null;var Lt=Lh(At,null,!0);return U($,at),at=ID(at,Mt,Lt),$&&X(at,$),at.legacy=!0,at},visual:function($,et){if(null==et&&(et=l),ei(kD,$)){var at=e.getItemVisual(et,"style");return at?at[kD[$]]:null}if(ei(eR,$))return e.getItemVisual(et,$)},barLayout:function($){if("cartesian2d"===o.type)return function(et){var at=[],At=et.axis;if("category"===At.type){for(var Lt=At.getBandWidth(),Gt=0;Gt<et.count;Gt++)at.push(se({bandWidth:Lt,axisKey:"axis0",stackId:av+Gt},et));var ne=pC(at),re=[];for(Gt=0;Gt<et.count;Gt++){var fe=ne.axis0[av+Gt];fe.offsetCenter=fe.offset+fe.width/2,re.push(fe)}return re}}(se({axis:o.getBaseAxis()},$))},currentSeriesIndices:function(){return t.getCurrentSeriesIndices()},font:function($){return Pp($,t)}},s.api||{}),p={context:{},seriesId:n.id,seriesName:n.name,seriesIndex:n.seriesIndex,coordSys:s.coordSys,dataInsideLength:e.count(),encode:pR(n.getData())},m={},b={},w={},k={},M=0;M<Pg.length;M++){var I=Pg[M];w[I]=n.getModel(lT[I]),k[I]=n.getModel(uT[I])}function O($){return $===l?u||(u=e.getItemModel($)):e.getItemModel($)}function B($,et){return e.hasItemOption?$===l?m[et]||(m[et]=O($).getModel(lT[et])):O($).getModel(lT[et]):w[et]}function H($,et){return e.hasItemOption?$===l?b[et]||(b[et]=O($).getModel(uT[et])):O($).getModel(uT[et]):k[et]}return function($,et){return l=$,u=null,m={},b={},r&&r(se({dataIndexInside:$,dataIndex:e.getRawIndex($),actionType:et?et.type:null},p),f)};function X($,et){for(var at in et)ei(et,at)&&($[at]=et[at])}function U($,et){$&&($.textFill&&(et.textFill=$.textFill),$.textPosition&&(et.textPosition=$.textPosition))}}function pR(n){var e={};return mt(n.dimensions,function(t){var i=n.getDimensionInfo(t);if(!i.isExtraCoord){var r=i.coordDim;(e[r]=e[r]||[])[i.coordDimIndex]=n.getDimensionIndex(t)}}),e}function fT(n,e,t,i,r,o,s){if(i){var l=pT(n,e,t,i,r,o);return l&&s.setItemGraphicEl(t,l),l&&to(l,i.focus,i.blurScope),l}o.remove(e)}function pT(n,e,t,i,r,o,s){var l=-1,u=e;e&&RD(e,i,r)&&(l=Ne(o.childrenRef(),e),e=null);var f,p,m=!e,b=e;b?b.clearStates():(b=hT(i),u&&((p=b).copyTransform(f=u),cT(p)&&cT(f)&&(p.setStyle(f.style),p.z=f.z,p.z2=f.z2,p.zlevel=f.zlevel,p.invisible=f.invisible,p.ignore=f.ignore,Tk(p)&&Tk(f)&&p.setShape(f.shape)))),!1===i.morph?b.disableMorphing=!0:b.disableMorphing&&(b.disableMorphing=!1),uh.normal.cfg=uh.normal.conOpt=uh.emphasis.cfg=uh.emphasis.conOpt=uh.blur.cfg=uh.blur.conOpt=uh.select.cfg=uh.select.conOpt=null,uh.isLegacy=!1,function(I,O,B,H,X,U){if(!I.isGroup){BD(B,null,U),BD(B,ap,U);var $=U.normal.conOpt;if(null!=$||null!=U.emphasis.conOpt||null!=U.select.conOpt||null!=U.blur.conOpt){var Mt=I.getTextContent();if(!1===$)Mt&&I.removeTextContent();else{$=U.normal.conOpt=$||{type:"text"},Mt?Mt.clearStates():(Mt=hT($),I.setTextContent(Mt)),dT(null,Mt,O,$,null,H,X,!0);for(var Lt=$&&$.style,Gt=0;Gt<Pg.length;Gt++){var ne=Pg[Gt];ne!==Lg&&OD(ne,Mt,0,gT($,U[ne].conOpt,ne),null)}Lt?Mt.dirty():Mt.markRedraw()}}}}(b,t,i,r,m,uh),function(I,O,B,H,X){var U=B.clipPath;if(!1===U)I&&I.getClipPath()&&I.removeClipPath();else if(U){var $=I.getClipPath();$&&RD($,U,H)&&($=null),$||($=hT(U),I.setClipPath($)),dT(null,$,O,U,null,H,X,!1)}}(b,t,i,r,m),dT(n,b,t,i,uh,r,m,!1);for(var w=0;w<Pg.length;w++){var k=Pg[w];k!==Lg&&OD(k,b,0,gT(i,Ik(i,k),k),uh)}return function(I,O,B){if(!I.isGroup){var H=I,U=B.currentZLevel;H.z=B.currentZ,H.zlevel=U;var $=O.z2;null!=$&&(H.z2=$||0);for(var et=0;et<Pg.length;et++)fR(H,O,Pg[et])}}(b,i,r),"group"===i.type&&function(I,O,B,H,X){var U=H.children,$=U?U.length:0,et=H.$mergeChildren,at="byName"===et||H.diffChildrenByName,At=!1===et;if($||at||At){if(at)return Mt={api:I,oldChildren:O.children()||[],newChildren:U||[],dataIndex:B,seriesModel:X,group:O},void new Hu(Mt.oldChildren,Mt.newChildren,zD,zD,Mt).add(FD).update(FD).remove(gR).execute();var Mt;At&&O.removeAll();for(var Lt=0;Lt<$;Lt++)U[Lt]&&pT(I,O.childAt(Lt),B,U[Lt],X,O);for(var Gt=O.childCount()-1;Gt>=Lt;Gt--)mT(O.childAt(Gt),X,O)}}(n,b,t,i,r),l>=0?o.replaceAt(b,l):o.add(b),b}function RD(n,e,t){var i,r=Kh(n),o=e.type,s=e.shape,l=e.style;return t.isUniversalTransitionEnabled()||null!=o&&o!==r.customGraphicType||"path"===o&&(i=s)&&(ei(i,"pathData")||ei(i,"d"))&&VD(s)!==r.customPathData||"image"===o&&ei(l,"image")&&l.image!==r.customImagePath}function BD(n,e,t){var i=e?Ik(n,e):n,r=e?gT(n,i,ap):n.style,o=n.type,s=i?i.textConfig:null,l=n.textContent,u=l?e?Ik(l,e):l:null;if(r&&(t.isLegacy||AD(r,o,!!s,!!u))){t.isLegacy=!0;var f=MD(r,o,!e);!s&&f.textConfig&&(s=f.textConfig),!u&&f.textContent&&(u=f.textContent)}!e&&u&&!u.type&&(u.type="text");var m=e?t[e]:t.normal;m.cfg=s,m.conOpt=u}function Ik(n,e){return e?n?n[e]:null:n}function gT(n,e,t){var i=e&&e.style;return null==i&&t===ap&&n&&(i=n.styleEmphasis),i}function zD(n,e){var t=n&&n.name;return null!=t?t:"e\0\0"+e}function FD(n,e){var t=this.context;pT(t.api,null!=e?t.oldChildren[e]:null,t.dataIndex,null!=n?t.newChildren[n]:null,t.seriesModel,t.group)}function gR(n){var e=this.context;mT(e.oldChildren[n],e.seriesModel,e.group)}function mT(n,e,t){if(n){var i=Kh(n).leaveToProps;i?xr(n,i,e,{cb:function(){t.remove(n)}}):t.remove(n)}}function VD(n){return n&&(n.pathData||n.d)}var Fv=ar(),HD=Pt,vT=_e,yT=function(){function n(){this._dragging=!1,this.animationThreshold=15}return n.prototype.render=function(e,t,i,r){var o=t.get("value"),s=t.get("status");if(this._axisModel=e,this._axisPointerModel=t,this._api=i,r||this._lastValue!==o||this._lastStatus!==s){this._lastValue=o,this._lastStatus=s;var l=this._group,u=this._handle;if(!s||"hide"===s)return l&&l.hide(),void(u&&u.hide());l&&l.show(),u&&u.show();var f={};this.makeElOption(f,o,e,t,i);var p=f.graphicKey;p!==this._lastGraphicKey&&this.clear(i),this._lastGraphicKey=p;var m=this._moveAnimation=this.determineAnimation(e,t);if(l){var b=de(WD,t,m);this.updatePointerEl(l,f,b),this.updateLabelEl(l,f,b,t)}else l=this._group=new bt,this.createPointerEl(l,f,e,t),this.createLabelEl(l,f,e,t),i.getZr().add(l);XD(l,t,!0),this._renderHandle(o)}},n.prototype.remove=function(e){this.clear(e)},n.prototype.dispose=function(e){this.clear(e)},n.prototype.determineAnimation=function(e,t){var i=t.get("animation"),r=e.axis,o="category"===r.type,s=t.get("snap");if(!s&&!o)return!1;if("auto"===i||null==i){var l=this.animationThreshold;if(o&&r.getBandWidth()>l)return!0;if(s){var u=jt(e).seriesDataCount,f=r.getExtent();return Math.abs(f[0]-f[1])/u>l}return!1}return!0===i},n.prototype.makeElOption=function(e,t,i,r,o){},n.prototype.createPointerEl=function(e,t,i,r){var o=t.pointer;if(o){var s=Fv(e).pointerEl=new sm[o.type](HD(t.pointer));e.add(s)}},n.prototype.createLabelEl=function(e,t,i,r){if(t.label){var o=Fv(e).labelEl=new dr(HD(t.label));e.add(o),YD(o,r)}},n.prototype.updatePointerEl=function(e,t,i){var r=Fv(e).pointerEl;r&&t.pointer&&(r.setStyle(t.pointer.style),i(r,{shape:t.pointer.shape}))},n.prototype.updateLabelEl=function(e,t,i,r){var o=Fv(e).labelEl;o&&(o.setStyle(t.label.style),i(o,{x:t.label.x,y:t.label.y}),YD(o,r))},n.prototype._renderHandle=function(e){if(!this._dragging&&this.updateHandleTransform){var t,i=this._axisPointerModel,r=this._api.getZr(),o=this._handle,s=i.getModel("handle"),l=i.get("status");if(!s.get("show")||!l||"hide"===l)return o&&r.remove(o),void(this._handle=null);this._handle||(t=!0,o=this._handle=Ua(s.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(f){me(f.event)},onmousedown:vT(this._onHandleDragMove,this,0,0),drift:vT(this._onHandleDragMove,this),ondragend:vT(this._onHandleDragEnd,this)}),r.add(o)),XD(o,i,!1),o.setStyle(s.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var u=s.get("size");Jt(u)||(u=[u,u]),o.scaleX=u[0]/2,o.scaleY=u[1]/2,Up(this,"_doDispatchAxisPointer",s.get("throttle")||0,"fixRate"),this._moveHandleToValue(e,t)}},n.prototype._moveHandleToValue=function(e,t){WD(this._axisPointerModel,!t&&this._moveAnimation,this._handle,xT(this.getHandleTransform(e,this._axisModel,this._axisPointerModel)))},n.prototype._onHandleDragMove=function(e,t){var i=this._handle;if(i){this._dragging=!0;var r=this.updateHandleTransform(xT(i),[e,t],this._axisModel,this._axisPointerModel);this._payloadInfo=r,i.stopAnimation(),i.attr(xT(r)),Fv(i).lastProp=null,this._doDispatchAxisPointer()}},n.prototype._doDispatchAxisPointer=function(){if(this._handle){var e=this._payloadInfo,t=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:e.cursorPoint[0],y:e.cursorPoint[1],tooltipOption:e.tooltipOption,axesInfo:[{axisDim:t.axis.dim,axisIndex:t.componentIndex}]})}},n.prototype._onHandleDragEnd=function(){if(this._dragging=!1,this._handle){var e=this._axisPointerModel.get("value");this._moveHandleToValue(e),this._api.dispatchAction({type:"hideTip"})}},n.prototype.clear=function(e){this._lastValue=null,this._lastStatus=null;var t=e.getZr(),i=this._group,r=this._handle;t&&i&&(this._lastGraphicKey=null,i&&t.remove(i),r&&t.remove(r),this._group=null,this._handle=null,this._payloadInfo=null)},n.prototype.doClear=function(){},n.prototype.buildLabel=function(e,t,i){return{x:e[i=i||0],y:e[1-i],width:t[i],height:t[1-i]}},n}();function WD(n,e,t,i){jD(Fv(t).lastProp,i)||(Fv(t).lastProp=i,e?xr(t,i,n):(t.stopAnimation(),t.attr(i)))}function jD(n,e){if($e(n)&&$e(e)){var t=!0;return mt(e,function(i,r){t=t&&jD(n[r],i)}),!!t}return n===e}function YD(n,e){n[e.get(["label","show"])?"show":"hide"]()}function xT(n){return{x:n.x||0,y:n.y||0,rotation:n.rotation||0}}function XD(n,e,t){var i=e.get("z"),r=e.get("zlevel");n&&n.traverse(function(o){"group"!==o.type&&(null!=i&&(o.z=i),null!=r&&(o.zlevel=r),o.silent=t)})}function bT(n){var e,t=n.get("type"),i=n.getModel(t+"Style");return"line"===t?(e=i.getLineStyle()).fill=null:"shadow"===t&&((e=i.getAreaStyle()).stroke=null),e}function GD(n,e,t,i,r){var o=qD(t.get("value"),e.axis,e.ecModel,t.get("seriesDataIndices"),{precision:t.get(["label","precision"]),formatter:t.get(["label","formatter"])}),s=t.getModel("label"),l=Cf(s.get("padding")||0),u=s.getFont(),f=Lo(o,u),p=r.position,m=f.width+l[1]+l[3],b=f.height+l[0]+l[2],w=r.align;"right"===w&&(p[0]-=m),"center"===w&&(p[0]-=m/2);var I,O,B,H,X,U,k=r.verticalAlign;"bottom"===k&&(p[1]-=b),"middle"===k&&(p[1]-=b/2),I=p,O=m,B=b,X=(H=i).getWidth(),U=H.getHeight(),I[0]=Math.min(I[0]+O,X)-O,I[1]=Math.min(I[1]+B,U)-B,I[0]=Math.max(I[0],0),I[1]=Math.max(I[1],0);var M=s.get("backgroundColor");M&&"auto"!==M||(M=e.get(["axisLine","lineStyle","color"])),n.label={x:p[0],y:p[1],style:Zo(s,{text:o,font:u,fill:s.getTextColor(),padding:l,backgroundColor:M}),z2:10}}function qD(n,e,t,i,r){n=e.scale.parse(n);var o=e.scale.getLabel({value:n},{precision:r.precision}),s=r.formatter;if(s){var l={value:K0(e,{value:n}),axisDimension:e.dim,axisIndex:e.index,seriesData:[]};mt(i,function(u){var f=t.getSeriesByIndex(u.seriesIndex),m=f&&f.getDataParams(u.dataIndexInside);m&&l.seriesData.push(m)}),Ke(s)?o=s.replace("{value}",o):Fe(s)&&(o=s(l))}return o}function _T(n,e,t){var i=[1,0,0,1,0,0];return Vr(i,i,t.rotation),Eo(i,i,t.position),iu([n.dataToCoord(e),(t.labelOffset||0)+(t.labelDirection||1)*(t.labelMargin||0)],i)}function UD(n,e,t,i,r,o){var s=Y.innerTextLayout(t.rotation,0,t.labelDirection);t.labelMargin=r.get(["label","margin"]),GD(e,i,r,o,{position:_T(i.axis,n,t),align:s.textAlign,verticalAlign:s.textVerticalAlign})}function wT(n,e,t){return{x1:n[t=t||0],y1:n[1-t],x2:e[t],y2:e[1-t]}}function $D(n,e,t){return{x:n[t=t||0],y:n[1-t],width:e[t],height:e[1-t]}}function ZD(n,e,t,i,r,o){return{cx:n,cy:e,r0:t,r:i,startAngle:r,endAngle:o,clockwise:!0}}var mR=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return Tt(e,n),e.prototype.makeElOption=function(t,i,r,o,s){var l=r.axis,u=l.grid,f=o.get("type"),p=KD(u,l).getOtherAxis(l).getGlobalExtent(),m=l.toGlobalCoord(l.dataToCoord(i,!0));if(f&&"none"!==f){var b=bT(o),w=vR[f](l,m,p);w.style=b,t.graphicKey=w.type,t.pointer=w}UD(i,t,d(u.model,r),r,o,s)},e.prototype.getHandleTransform=function(t,i,r){var o=d(i.axis.grid.model,i,{labelInside:!1});o.labelMargin=r.get(["handle","margin"]);var s=_T(i.axis,t,o);return{x:s[0],y:s[1],rotation:o.rotation+(o.labelDirection<0?Math.PI:0)}},e.prototype.updateHandleTransform=function(t,i,r,o){var s=r.axis,l=s.grid,u=s.getGlobalExtent(!0),f=KD(l,s).getOtherAxis(s).getGlobalExtent(),p="x"===s.dim?0:1,m=[t.x,t.y];m[p]+=i[p],m[p]=Math.min(u[1],m[p]),m[p]=Math.max(u[0],m[p]);var b=(f[1]+f[0])/2,w=[b,b];return w[p]=m[p],{x:m[0],y:m[1],rotation:t.rotation,cursorPoint:w,tooltipOption:[{verticalAlign:"middle"},{align:"center"}][p]}},e}(yT);function KD(n,e){var t={};return t[e.dim+"AxisIndex"]=e.index,n.getCartesian(t)}var vR={line:function(n,e,t){return{type:"Line",subPixelOptimize:!0,shape:wT([e,t[0]],[e,t[1]],QD(n))}},shadow:function(n,e,t){var i=Math.max(1,n.getBandWidth());return{type:"Rect",shape:$D([e-i/2,t[0]],[i,t[1]-t[0]],QD(n))}}};function QD(n){return"x"===n.dim?0:1}var yR=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return Tt(e,n),e.type="axisPointer",e.defaultOption={show:"auto",zlevel:0,z:50,type:"line",snap:!1,triggerTooltip:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#B9BEC9",width:1,type:"dashed"},shadowStyle:{color:"rgba(210,219,238,0.2)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}},e}(rr),sp=ar(),xR=mt;function JD(n,e,t){if(!Wt.node){var i=e.getZr();sp(i).records||(sp(i).records={}),function(r,o){function s(l,u){r.on(l,function(f){var m,b,w,p=(m=o,{dispatchAction:w=function(k){var M=b[k.type];M?M.push(k):(k.dispatchAction=w,m.dispatchAction(k))},pendings:b={showTip:[],hideTip:[]}});xR(sp(r).records,function(m){m&&u(m,f,p.dispatchAction)}),function(m,b){var w,k=m.showTip.length,M=m.hideTip.length;k?w=m.showTip[k-1]:M&&(w=m.hideTip[M-1]),w&&(w.dispatchAction=null,b.dispatchAction(w))}(p.pendings,o)})}sp(r).initialized||(sp(r).initialized=!0,s("click",de(tE,"click")),s("mousemove",de(tE,"mousemove")),s("globalout",bR))}(i,e),(sp(i).records[n]||(sp(i).records[n]={})).handler=t}}function bR(n,e,t){n.handler("leave",null,t)}function tE(n,e,t,i){e.handler(n,t,i)}function ST(n,e){if(!Wt.node){var t=e.getZr();(sp(t).records||{})[n]&&(sp(t).records[n]=null)}}var _R=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return Tt(e,n),e.prototype.render=function(t,i,r){var o=i.getComponent("tooltip"),s=t.get("triggerOn")||o&&o.get("triggerOn")||"mousemove|click";JD("axisPointer",r,function(l,u,f){"none"!==s&&("leave"===l||s.indexOf(l)>=0)&&f({type:"updateAxisPointer",currTrigger:l,x:u&&u.offsetX,y:u&&u.offsetY})})},e.prototype.remove=function(t,i){ST("axisPointer",i)},e.prototype.dispose=function(t,i){ST("axisPointer",i)},e.type="axisPointer",e}(co);function eE(n,e){var t,i=[],r=n.seriesIndex;if(null==r||!(t=e.getSeriesByIndex(r)))return{point:[]};var o=t.getData(),s=Ju(o,n);if(null==s||s<0||Jt(s))return{point:[]};var l=o.getItemGraphicEl(s),u=t.coordinateSystem;if(t.getTooltipPosition)i=t.getTooltipPosition(s)||[];else if(u&&u.dataToPoint)if(n.isStacked){var f=u.getBaseAxis(),p=u.getOtherAxis(f).dim,b="x"===p||"radius"===p?1:0,w=o.mapDimension(f.dim),k=[];k[b]=o.get(w,s),k[1-b]=o.get(o.getCalculationInfo("stackResultDimension"),s),i=u.dataToPoint(k)||[]}else i=u.dataToPoint(o.getValues(zt(u.dimensions,function(I){return o.mapDimension(I)}),s))||[];else if(l){var M=l.getBoundingRect().clone();M.applyTransform(l.transform),i=[M.x+M.width/2,M.y+M.height/2]}return{point:i,el:l}}var nE=ar();function wR(n,e,t){var O,B,X,i=n.currTrigger,r=[n.x,n.y],o=n,s=n.dispatchAction||_e(t.dispatchAction,t),l=e.getComponent("axisPointer").coordSysAxesInfo;if(l){Dk(r)&&(r=eE({seriesIndex:o.seriesIndex,dataIndex:o.dataIndex},e).point);var u=Dk(r),f=o.axesInfo,p=l.axesInfo,m="leave"===i||Dk(r),b={},w={},k={list:[],map:{}},M={showPointer:de(SR,w),showTooltip:de(CR,k)};mt(l.coordSysMap,function(O,B){var H=u||O.containPoint(r);mt(l.coordSysAxesInfo[B],function(X,U){var $=X.axis,et=function(At,Mt){for(var Lt=0;Lt<(At||[]).length;Lt++){var Gt=At[Lt];if(Mt.axis.dim===Gt.axisDim&&Mt.axis.model.componentIndex===Gt.axisIndex)return Gt}}(f,X);if(!m&&H&&(!f||et)){var at=et&&et.value;null!=at||u||(at=$.pointToData(r)),null!=at&&iE(X,at,M,!1,b)}})});var I={};return mt(p,function(O,B){var H=O.linkGroup;H&&!w[B]&&mt(H.axesInfo,function(X,U){var $=w[U];if(X!==O&&$){var et=$.value;H.mapper&&(et=O.axis.scale.parse(H.mapper(et,rE(X),rE(O)))),I[O.key]=et}})}),mt(I,function(O,B){iE(p[B],O,M,!0,b)}),O=w,B=p,X=b.axesInfo=[],mt(B,function(U,$){var et=U.axisPointerModel.option,at=O[$];at?(!U.useHandle&&(et.status="show"),et.value=at.value,et.seriesDataIndices=(at.payloadBatch||[]).slice()):!U.useHandle&&(et.status="hide"),"show"===et.status&&X.push({axisDim:U.axis.dim,axisIndex:U.axis.model.componentIndex,value:et.value})}),function(O,B,H,X){if(!Dk(B)&&O.list.length){var U=((O.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};X({type:"showTip",escapeConnect:!0,x:B[0],y:B[1],tooltipOption:H.tooltipOption,position:H.position,dataIndexInside:U.dataIndexInside,dataIndex:U.dataIndex,seriesIndex:U.seriesIndex,dataByCoordSys:O.list})}else X({type:"hideTip"})}(k,r,n,s),function(O,B,H){var X=H.getZr(),U="axisPointerLastHighlights",$=nE(X)[U]||{},et=nE(X)[U]={};mt(O,function(Mt,Lt){var Gt=Mt.axisPointerModel.option;"show"===Gt.status&&mt(Gt.seriesDataIndices,function(ne){et[ne.seriesIndex+" | "+ne.dataIndex]=ne})});var at=[],At=[];mt($,function(Mt,Lt){!et[Lt]&&At.push(Mt)}),mt(et,function(Mt,Lt){!$[Lt]&&at.push(Mt)}),At.length&&H.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:At}),at.length&&H.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:at})}(p,0,t),b}}function iE(n,e,t,i,r){var f,p,m,b,w,k,M,I,o=n.axis;if(!o.scale.isBlank()&&o.containData(e))if(n.involveSeries){var s=(b=(m=(p=n).axis).dim,w=f=e,k=[],M=Number.MAX_VALUE,I=-1,mt(p.seriesModels,function(O,B){var H,X,U=O.getData().mapDimensionsAll(b);if(O.getAxisTooltipData){var $=O.getAxisTooltipData(U,f,m);X=$.dataIndices,H=$.nestestValue}else{if(!(X=O.getData().indicesOfNearest(U[0],f,"category"===m.type?.5:null)).length)return;H=O.getData().get(U[0],X[0])}if(null!=H&&isFinite(H)){var et=f-H,at=Math.abs(et);at<=M&&((at<M||et>=0&&I<0)&&(M=at,I=et,w=H,k.length=0),mt(X,function(At){k.push({seriesIndex:O.seriesIndex,dataIndexInside:At,dataIndex:O.getData().getRawIndex(At)})}))}}),{payloadBatch:k,snapToValue:w}),l=s.payloadBatch,u=s.snapToValue;l[0]&&null==r.seriesIndex&&Dt(r,l[0]),!i&&n.snap&&o.containData(u)&&null!=u&&(e=u),t.showPointer(n,e,l),t.showTooltip(n,s,u)}else t.showPointer(n,e)}function SR(n,e,t,i){n[e.key]={value:t,payloadBatch:i}}function CR(n,e,t,i){var r=t.payloadBatch,o=e.axis,s=o.model,l=e.axisPointerModel;if(e.triggerTooltip&&r.length){var u=e.coordSys.model,f=Se(u),p=n.map[f];p||(p=n.map[f]={coordSysId:u.id,coordSysIndex:u.componentIndex,coordSysType:u.type,coordSysMainType:u.mainType,dataByAxis:[]},n.list.push(p)),p.dataByAxis.push({axisDim:o.dim,axisIndex:s.componentIndex,axisType:s.type,axisId:s.id,value:i,valueLabelOpt:{precision:l.get(["label","precision"]),formatter:l.get(["label","formatter"])},seriesDataIndices:r.slice()})}}function rE(n){var e=n.axis.model,t={},i=t.axisDim=n.axis.dim;return t.axisIndex=t[i+"AxisIndex"]=e.componentIndex,t.axisName=t[i+"AxisName"]=e.name,t.axisId=t[i+"AxisId"]=e.id,t}function Dk(n){return!n||null==n[0]||isNaN(n[0])||null==n[1]||isNaN(n[1])}function xw(n){te.registerAxisPointerClass("CartesianAxisPointer",mR),n.registerComponentModel(yR),n.registerComponentView(_R),n.registerPreprocessor(function(e){if(e){(!e.axisPointer||0===e.axisPointer.length)&&(e.axisPointer={});var t=e.axisPointer.link;t&&!Jt(t)&&(e.axisPointer.link=[t])}}),n.registerProcessor(n.PRIORITY.PROCESSOR.STATISTIC,function(e,t){e.getComponent("axisPointer").coordSysAxesInfo=function(n,e){var i,r,o,s,l,u,f,t={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return i=t,o=e,s=(r=n).getComponent("tooltip"),l=r.getComponent("axisPointer"),u=l.get("link",!0)||[],f=[],mt(o.getCoordinateSystems(),function(p){if(p.axisPointerEnabled){var m=Se(p.model),b=i.coordSysAxesInfo[m]={};i.coordSysMap[m]=p;var w=p.model.getModel("tooltip",s);if(mt(p.getAxes(),de(O,!1,null)),p.getTooltipAxes&&s&&w.get("show")){var k="axis"===w.get("trigger"),M="cross"===w.get(["axisPointer","type"]),I=p.getTooltipAxes(w.get(["axisPointer","axis"]));(k||M)&&mt(I.baseAxes,de(O,!M||"cross",k)),M&&mt(I.otherAxes,de(O,"cross",!1))}}function O(B,H,X){var U=X.model.getModel("axisPointer",l),$=U.get("show");if($&&("auto"!==$||B||Qt(U))){null==H&&(H=U.get("triggerTooltip"));var et=(U=B?function(ne,re,fe,ye,Te,Ie){var Re=re.getModel("axisPointer"),Xe={};mt(["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],function(gn){Xe[gn]=Pt(Re.get(gn))}),Xe.snap="category"!==ne.type&&!!Ie,"cross"===Re.get("type")&&(Xe.type="line");var cn=Xe.label||(Xe.label={});if(null==cn.show&&(cn.show=!1),"cross"===Te){var _n=Re.get(["label","show"]);if(cn.show=null==_n||_n,!Ie){var Hn=Xe.lineStyle=Re.get("crossStyle");Hn&&se(cn,Hn.textStyle)}}return ne.model.getModel("axisPointer",new Er(Xe,fe,ye))}(X,w,l,r,B,H):U).get("snap"),at=Se(X.model),At=H||et||"category"===X.type,Mt=i.axesInfo[at]={key:at,axis:X,coordSys:p,axisPointerModel:U,triggerTooltip:H,involveSeries:At,snap:et,useHandle:Qt(U),seriesModels:[],linkGroup:null};b[at]=Mt,i.seriesInvolved=i.seriesInvolved||At;var Lt=function(ne,re){for(var fe=re.model,ye=re.dim,Te=0;Te<ne.length;Te++){var Ie=ne[Te]||{};if(kt(Ie[ye+"AxisId"],fe.id)||kt(Ie[ye+"AxisIndex"],fe.componentIndex)||kt(Ie[ye+"AxisName"],fe.name))return Te}}(u,X);if(null!=Lt){var Gt=f[Lt]||(f[Lt]={axesInfo:{}});Gt.axesInfo[at]=Mt,Gt.mapper=u[Lt].mapper,Mt.linkGroup=Gt}}}}),t.seriesInvolved&&function(i,r){r.eachSeries(function(o){var s=o.coordinateSystem,l=o.get(["tooltip","trigger"],!0),u=o.get(["tooltip","show"],!0);s&&"none"!==l&&!1!==l&&"item"!==l&&!1!==u&&!1!==o.get(["axisPointer","show"],!0)&&mt(i.coordSysAxesInfo[Se(s.model)],function(f){var p=f.axis;s.getAxis(p.dim)===p&&(f.seriesModels.push(o),null==f.seriesDataCount&&(f.seriesDataCount=0),f.seriesDataCount+=o.getData().count())})})}(t,n),t}(e,t)}),n.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},wR)}var kR=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return Tt(e,n),e.prototype.makeElOption=function(t,i,r,o,s){var l=r.axis;"angle"===l.dim&&(this.animationThreshold=Math.PI/18);var u=l.polar,f=u.getOtherAxis(l).getExtent(),p=l.dataToCoord(i),m=o.get("type");if(m&&"none"!==m){var b=bT(o),w=AR[m](l,u,p,f);w.style=b,t.graphicKey=w.type,t.pointer=w}var k=function(M,I,O,B,H){var X=I.axis,U=X.dataToCoord(M),$=B.getAngleAxis().getExtent()[0];$=$/180*Math.PI;var et,at,At,Mt=B.getRadiusAxis().getExtent();if("radius"===X.dim){var Lt=[1,0,0,1,0,0];Vr(Lt,Lt,$),Eo(Lt,Lt,[B.cx,B.cy]),et=iu([U,-H],Lt);var Gt=I.getModel("axisLabel").get("rotate")||0,ne=Y.innerTextLayout($,Gt*Math.PI/180,-1);at=ne.textAlign,At=ne.textVerticalAlign}else{var re=Mt[1];et=B.coordToPoint([re+H,U]);var fe=B.cx,ye=B.cy;at=Math.abs(et[0]-fe)/re<.3?"center":et[0]>fe?"left":"right",At=Math.abs(et[1]-ye)/re<.3?"middle":et[1]>ye?"top":"bottom"}return{position:et,align:at,verticalAlign:At}}(i,r,0,u,o.get(["label","margin"]));GD(t,r,o,s,k)},e}(yT),AR={line:function(n,e,t,i){return"angle"===n.dim?{type:"Line",shape:wT(e.coordToPoint([i[0],t]),e.coordToPoint([i[1],t]))}:{type:"Circle",shape:{cx:e.cx,cy:e.cy,r:t}}},shadow:function(n,e,t,i){var r=Math.max(1,n.getBandWidth()),o=Math.PI/180;return"angle"===n.dim?{type:"Sector",shape:ZD(e.cx,e.cy,i[0],i[1],(-t-r/2)*o,(r/2-t)*o)}:{type:"Sector",shape:ZD(e.cx,e.cy,t-r/2,t+r/2,0,2*Math.PI)}}},MR=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return Tt(e,n),e.prototype.findAxisModel=function(t){var i;return this.ecModel.eachComponent(t,function(r){r.getCoordSysModel()===this&&(i=r)},this),i},e.type="polar",e.dependencies=["radiusAxis","angleAxis"],e.defaultOption={zlevel:0,z:0,center:["50%","50%"],radius:"80%"},e}(rr),CT=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return Tt(e,n),e.prototype.getCoordSysModel=function(){return this.getReferringComponents("polar",Mo).models[0]},e.type="polarAxis",e}(rr);on(CT,Ud);var TR=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return Tt(e,n),e.type="angleAxis",e}(CT),IR=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return Tt(e,n),e.type="radiusAxis",e}(CT),kT=function(n){function e(t,i){return n.call(this,"radius",t,i)||this}return Tt(e,n),e.prototype.pointToData=function(t,i){return this.polar.pointToData(t,i)["radius"===this.dim?0:1]},e}(lu);kT.prototype.dataToRadius=lu.prototype.dataToCoord,kT.prototype.radiusToData=lu.prototype.coordToData;var DR=ar(),AT=function(n){function e(t,i){return n.call(this,"angle",t,i||[0,360])||this}return Tt(e,n),e.prototype.pointToData=function(t,i){return this.polar.pointToData(t,i)["radius"===this.dim?0:1]},e.prototype.calculateCategoryInterval=function(){var t=this,i=t.getLabelModel(),r=t.scale,o=r.getExtent(),s=r.count();if(o[1]-o[0]<1)return 0;var l=o[0],u=t.dataToCoord(l+1)-t.dataToCoord(l),f=Math.abs(u),p=Lo(null==l?"":l+"",i.getFont(),"center","top"),m=Math.max(p.height,7)/f;isNaN(m)&&(m=1/0);var b=Math.max(0,Math.floor(m)),w=DR(t.model),k=w.lastAutoInterval,M=w.lastTickCount;return null!=k&&null!=M&&Math.abs(k-b)<=1&&Math.abs(M-s)<=1&&k>b?b=k:(w.lastTickCount=s,w.lastAutoInterval=b),b},e}(lu);AT.prototype.dataToAngle=lu.prototype.dataToCoord,AT.prototype.angleToData=lu.prototype.coordToData;var oE=["radius","angle"],ER=function(){function n(e){this.dimensions=oE,this.type="polar",this.cx=0,this.cy=0,this._radiusAxis=new kT,this._angleAxis=new AT,this.axisPointerEnabled=!0,this.name=e||"",this._radiusAxis.polar=this._angleAxis.polar=this}return n.prototype.containPoint=function(e){var t=this.pointToCoord(e);return this._radiusAxis.contain(t[0])&&this._angleAxis.contain(t[1])},n.prototype.containData=function(e){return this._radiusAxis.containData(e[0])&&this._angleAxis.containData(e[1])},n.prototype.getAxis=function(e){return this["_"+e+"Axis"]},n.prototype.getAxes=function(){return[this._radiusAxis,this._angleAxis]},n.prototype.getAxesByScale=function(e){var t=[],i=this._angleAxis,r=this._radiusAxis;return i.scale.type===e&&t.push(i),r.scale.type===e&&t.push(r),t},n.prototype.getAngleAxis=function(){return this._angleAxis},n.prototype.getRadiusAxis=function(){return this._radiusAxis},n.prototype.getOtherAxis=function(e){var t=this._angleAxis;return e===t?this._radiusAxis:t},n.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},n.prototype.getTooltipAxes=function(e){var t=null!=e&&"auto"!==e?this.getAxis(e):this.getBaseAxis();return{baseAxes:[t],otherAxes:[this.getOtherAxis(t)]}},n.prototype.dataToPoint=function(e,t){return this.coordToPoint([this._radiusAxis.dataToRadius(e[0],t),this._angleAxis.dataToAngle(e[1],t)])},n.prototype.pointToData=function(e,t){var i=this.pointToCoord(e);return[this._radiusAxis.radiusToData(i[0],t),this._angleAxis.angleToData(i[1],t)]},n.prototype.pointToCoord=function(e){var t=e[0]-this.cx,i=e[1]-this.cy,r=this.getAngleAxis(),o=r.getExtent(),s=Math.min(o[0],o[1]),l=Math.max(o[0],o[1]);r.inverse?s=l-360:l=s+360;var u=Math.sqrt(t*t+i*i);t/=u,i/=u;for(var f=Math.atan2(-i,t)/Math.PI*180,p=f<s?1:-1;f<s||f>l;)f+=360*p;return[u,f]},n.prototype.coordToPoint=function(e){var t=e[0],i=e[1]/180*Math.PI;return[Math.cos(i)*t+this.cx,-Math.sin(i)*t+this.cy]},n.prototype.getArea=function(){var e=this.getAngleAxis(),t=this.getRadiusAxis().getExtent().slice();t[0]>t[1]&&t.reverse();var i=e.getExtent(),r=Math.PI/180;return{cx:this.cx,cy:this.cy,r0:t[0],r:t[1],startAngle:-i[0]*r,endAngle:-i[1]*r,clockwise:e.inverse,contain:function(o,s){var l=o-this.cx,u=s-this.cy,f=l*l+u*u,p=this.r,m=this.r0;return f<=p*p&&f>=m*m}}},n.prototype.convertToPixel=function(e,t,i){return aE(t)===this?this.dataToPoint(i):null},n.prototype.convertFromPixel=function(e,t,i){return aE(t)===this?this.pointToData(i):null},n}();function aE(n){var e=n.seriesModel,t=n.polarModel;return t&&t.coordinateSystem||e&&e.coordinateSystem}function LR(n,e){var t=this,i=t.getAngleAxis(),r=t.getRadiusAxis();if(i.scale.setExtent(1/0,-1/0),r.scale.setExtent(1/0,-1/0),n.eachSeries(function(l){if(l.coordinateSystem===t){var u=l.getData();mt(hv(u,"radius"),function(f){r.scale.unionExtentFromData(u,f)}),mt(hv(u,"angle"),function(f){i.scale.unionExtentFromData(u,f)})}}),eh(i.scale,i.model),eh(r.scale,r.model),"category"===i.type&&!i.onBand){var o=i.getExtent(),s=360/i.scale.count();i.inverse?o[1]+=s:o[1]-=s,i.setExtent(o[0],o[1])}}function sE(n,e){if(n.type=e.get("type"),n.scale=vg(e),n.onBand=e.get("boundaryGap")&&"category"===n.type,n.inverse=e.get("inverse"),"angleAxis"===e.mainType){n.inverse=n.inverse!==e.get("clockwise");var t=e.get("startAngle");n.setExtent(t,t+(n.inverse?-360:360))}e.axis=n,n.model=e}var PR={dimensions:oE,create:function(n,e){var t=[];return n.eachComponent("polar",function(i,r){var o=new ER(r+"");o.update=LR;var s=o.getRadiusAxis(),l=o.getAngleAxis(),u=i.findAxisModel("radiusAxis"),f=i.findAxisModel("angleAxis");sE(s,u),sE(l,f),function(p,m,b){var w=m.get("center"),k=b.getWidth(),M=b.getHeight();p.cx=In(w[0],k),p.cy=In(w[1],M);var I=p.getRadiusAxis(),O=Math.min(k,M)/2,B=m.get("radius");null==B?B=[0,"100%"]:Jt(B)||(B=[0,B]);var H=[In(B[0],O),In(B[1],O)];I.inverse?I.setExtent(H[1],H[0]):I.setExtent(H[0],H[1])}(o,i,e),t.push(o),i.coordinateSystem=o,o.model=i}),n.eachSeries(function(i){if("polar"===i.get("coordinateSystem")){var r=i.getReferringComponents("polar",Mo).models[0];i.coordinateSystem=r.coordinateSystem}}),t}},OR=["axisLine","axisLabel","axisTick","minorTick","splitLine","minorSplitLine","splitArea"];function Ek(n,e,t){e[1]>e[0]&&(e=e.slice().reverse());var i=n.coordToPoint([e[0],t]),r=n.coordToPoint([e[1],t]);return{x1:i[0],y1:i[1],x2:r[0],y2:r[1]}}function Lk(n){return n.getRadiusAxis().inverse?0:1}function lE(n){var e=n[0],t=n[n.length-1];e&&t&&Math.abs(Math.abs(e.coord-t.coord)-360)<1e-4&&n.pop()}var NR=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t.axisPointerClass="PolarAxisPointer",t}return Tt(e,n),e.prototype.render=function(t,i){if(this.group.removeAll(),t.get("show")){var r=t.axis,o=r.polar,s=o.getRadiusAxis().getExtent(),l=r.getTicksCoords(),u=r.getMinorTicksCoords(),f=zt(r.getViewLabels(),function(p){p=Pt(p);var m=r.scale,b="ordinal"===m.type?m.getRawOrdinalNumber(p.tickValue):p.tickValue;return p.coord=r.dataToCoord(b),p});lE(f),lE(l),mt(OR,function(p){!t.get([p,"show"])||r.scale.isBlank()&&"axisLine"!==p||RR[p](this.group,t,o,l,u,s,f)},this)}},e.type="angleAxis",e}(te),RR={axisLine:function(n,e,t,i,r,o){var s,l=e.getModel(["axisLine","lineStyle"]),u=Lk(t),f=u?0:1;(s=0===o[f]?new eu({shape:{cx:t.cx,cy:t.cy,r:o[u]},style:l.getLineStyle(),z2:1,silent:!0}):new zs({shape:{cx:t.cx,cy:t.cy,r:o[u],r0:o[f]},style:l.getLineStyle(),z2:1,silent:!0})).style.fill=null,n.add(s)},axisTick:function(n,e,t,i,r,o){var s=e.getModel("axisTick"),l=(s.get("inside")?-1:1)*s.get("length"),u=o[Lk(t)],f=zt(i,function(p){return new wa({shape:Ek(t,[u,u+l],p.coord)})});n.add(hl(f,{style:se(s.getModel("lineStyle").getLineStyle(),{stroke:e.get(["axisLine","lineStyle","color"])})}))},minorTick:function(n,e,t,i,r,o){if(r.length){for(var s=e.getModel("axisTick"),l=e.getModel("minorTick"),u=(s.get("inside")?-1:1)*l.get("length"),f=o[Lk(t)],p=[],m=0;m<r.length;m++)for(var b=0;b<r[m].length;b++)p.push(new wa({shape:Ek(t,[f,f+u],r[m][b].coord)}));n.add(hl(p,{style:se(l.getModel("lineStyle").getLineStyle(),se(s.getLineStyle(),{stroke:e.get(["axisLine","lineStyle","color"])}))}))}},axisLabel:function(n,e,t,i,r,o,s){var l=e.getCategories(!0),u=e.getModel("axisLabel"),f=u.get("margin"),p=e.get("triggerEvent");mt(s,function(m,b){var w=u,k=m.tickValue,M=o[Lk(t)],I=t.coordToPoint([M+f,m.coord]),O=t.cx,B=t.cy,H=Math.abs(I[0]-O)/M<.3?"center":I[0]>O?"left":"right",X=Math.abs(I[1]-B)/M<.3?"middle":I[1]>B?"top":"bottom";if(l&&l[k]){var U=l[k];$e(U)&&U.textStyle&&(w=new Er(U.textStyle,u,u.ecModel))}var $=new dr({silent:Y.isLabelSilent(e),style:Zo(w,{x:I[0],y:I[1],fill:w.getTextColor()||e.get(["axisLine","lineStyle","color"]),text:m.formattedLabel,align:H,verticalAlign:X})});if(n.add($),p){var et=Y.makeAxisEventDataBase(e);et.targetType="axisLabel",et.value=m.rawLabel,Fi($).eventData=et}},this)},splitLine:function(n,e,t,i,r,o){var s=e.getModel("splitLine").getModel("lineStyle"),l=s.get("color"),u=0;l=l instanceof Array?l:[l];for(var f=[],p=0;p<i.length;p++){var m=u++%l.length;f[m]=f[m]||[],f[m].push(new wa({shape:Ek(t,o,i[p].coord)}))}for(p=0;p<f.length;p++)n.add(hl(f[p],{style:se({stroke:l[p%l.length]},s.getLineStyle()),silent:!0,z:e.get("z")}))},minorSplitLine:function(n,e,t,i,r,o){if(r.length){for(var s=e.getModel("minorSplitLine").getModel("lineStyle"),l=[],u=0;u<r.length;u++)for(var f=0;f<r[u].length;f++)l.push(new wa({shape:Ek(t,o,r[u][f].coord)}));n.add(hl(l,{style:s.getLineStyle(),silent:!0,z:e.get("z")}))}},splitArea:function(n,e,t,i,r,o){if(i.length){var s=e.getModel("splitArea").getModel("areaStyle"),l=s.get("color"),u=0;l=l instanceof Array?l:[l];for(var f=[],p=Math.PI/180,m=-i[0].coord*p,b=Math.min(o[0],o[1]),w=Math.max(o[0],o[1]),k=e.get("clockwise"),M=1,I=i.length;M<=I;M++){var O=M===I?i[0].coord:i[M].coord,B=u++%l.length;f[B]=f[B]||[],f[B].push(new Fr({shape:{cx:t.cx,cy:t.cy,r0:b,r:w,startAngle:m,endAngle:-O*p,clockwise:k},silent:!0})),m=-O*p}for(M=0;M<f.length;M++)n.add(hl(f[M],{style:se({fill:l[M%l.length]},s.getAreaStyle()),silent:!0}))}}},BR=["axisLine","axisTickLabel","axisName"],zR=["splitLine","splitArea","minorSplitLine"],FR=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t.axisPointerClass="PolarAxisPointer",t}return Tt(e,n),e.prototype.render=function(t,i){if(this.group.removeAll(),t.get("show")){var r=this._axisGroup,o=this._axisGroup=new bt;this.group.add(o);var s=t.axis,l=s.polar,u=l.getAngleAxis(),f=s.getTicksCoords(),p=s.getMinorTicksCoords(),m=u.getExtent()[0],b=s.getExtent(),w={position:[(M=l).cx,M.cy],rotation:m/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:t.getModel("axisLabel").get("rotate"),z2:1},k=new Y(t,w);mt(BR,k.add,k),o.add(k.getGroup()),Md(r,o,t),mt(zR,function(M){t.get([M,"show"])&&!s.scale.isBlank()&&VR[M](this.group,t,l,m,b,f,p)},this)}var M},e.type="radiusAxis",e}(te),VR={splitLine:function(n,e,t,i,r,o){var s=e.getModel("splitLine").getModel("lineStyle"),l=s.get("color"),u=0;l=l instanceof Array?l:[l];for(var f=[],p=0;p<o.length;p++){var m=u++%l.length;f[m]=f[m]||[],f[m].push(new eu({shape:{cx:t.cx,cy:t.cy,r:o[p].coord}}))}for(p=0;p<f.length;p++)n.add(hl(f[p],{style:se({stroke:l[p%l.length],fill:null},s.getLineStyle()),silent:!0}))},minorSplitLine:function(n,e,t,i,r,o,s){if(s.length){for(var l=e.getModel("minorSplitLine").getModel("lineStyle"),u=[],f=0;f<s.length;f++)for(var p=0;p<s[f].length;p++)u.push(new eu({shape:{cx:t.cx,cy:t.cy,r:s[f][p].coord}}));n.add(hl(u,{style:se({fill:null},l.getLineStyle()),silent:!0}))}},splitArea:function(n,e,t,i,r,o){if(o.length){var s=e.getModel("splitArea").getModel("areaStyle"),l=s.get("color"),u=0;l=l instanceof Array?l:[l];for(var f=[],p=o[0].coord,m=1;m<o.length;m++){var b=u++%l.length;f[b]=f[b]||[],f[b].push(new Fr({shape:{cx:t.cx,cy:t.cy,r0:p,r:o[m].coord,startAngle:0,endAngle:2*Math.PI},silent:!0})),p=o[m].coord}for(m=0;m<f.length;m++)n.add(hl(f[m],{style:se({fill:l[m%l.length]},s.getAreaStyle()),silent:!0}))}}};function uE(n){return n.get("stack")||"__ec_stack_"+n.seriesIndex}function cE(n,e){return e.dim+n.model.componentIndex}function HR(n,e,t){var i={},r=function(o){var s={};mt(o,function(u,f){var p=u.getData(),m=u.coordinateSystem,b=m.getBaseAxis(),w=cE(m,b),k=b.getExtent(),M="category"===b.type?b.getBandWidth():Math.abs(k[1]-k[0])/p.count(),I=s[w]||{bandWidth:M,remainedWidth:M,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},O=I.stacks;s[w]=I;var B=uE(u);O[B]||I.autoWidthCount++,O[B]=O[B]||{width:0,maxWidth:0};var H=In(u.get("barWidth"),M),X=In(u.get("barMaxWidth"),M),U=u.get("barGap"),$=u.get("barCategoryGap");H&&!O[B].width&&(H=Math.min(I.remainedWidth,H),O[B].width=H,I.remainedWidth-=H),X&&(O[B].maxWidth=X),null!=U&&(I.gap=U),null!=$&&(I.categoryGap=$)});var l={};return mt(s,function(u,f){l[f]={};var p=u.stacks,b=In(u.categoryGap,u.bandWidth),w=In(u.gap,1),k=u.remainedWidth,M=u.autoWidthCount,I=(k-b)/(M+(M-1)*w);I=Math.max(I,0),mt(p,function(X,U){var $=X.maxWidth;$&&$<I&&($=Math.min($,k),X.width&&($=Math.min($,X.width)),k-=$,X.width=$,M--)}),I=(k-b)/(M+(M-1)*w),I=Math.max(I,0);var O,B=0;mt(p,function(X,U){X.width||(X.width=I),O=X,B+=X.width*(1+w)}),O&&(B-=O.width*w);var H=-B/2;mt(p,function(X,U){l[f][U]=l[f][U]||{offset:H,width:X.width},H+=X.width*(1+w)})}),l}(Ae(e.getSeriesByType(n),function(o){return!e.isSeriesFiltered(o)&&o.coordinateSystem&&"polar"===o.coordinateSystem.type}));e.eachSeriesByType(n,function(o){if("polar"===o.coordinateSystem.type){var s=o.getData(),l=o.coordinateSystem,u=l.getBaseAxis(),f=cE(l,u),p=uE(o),m=r[f][p],b=m.offset,w=m.width,k=l.getOtherAxis(u),M=o.coordinateSystem.cx,I=o.coordinateSystem.cy,O=o.get("barMinHeight")||0,B=o.get("barMinAngle")||0;i[p]=i[p]||[];for(var H=s.mapDimension(k.dim),X=s.mapDimension(u.dim),U=Qc(s,H),$="radius"!==u.dim||!o.get("roundCap",!0),et=k.dataToCoord(0),at=0,At=s.count();at<At;at++){var Mt=s.get(H,at),Lt=s.get(X,at),Gt=Mt>=0?"p":"n",ne=et;U&&(i[p][Lt]||(i[p][Lt]={p:et,n:et}),ne=i[p][Lt][Gt]);var re=void 0,fe=void 0,ye=void 0,Te=void 0;if("radius"===k.dim){var Ie=k.dataToCoord(Mt)-et,Re=u.dataToCoord(Lt);Math.abs(Ie)<O&&(Ie=(Ie<0?-1:1)*O),re=ne,fe=ne+Ie,Te=(ye=Re-b)-w,U&&(i[p][Lt][Gt]=fe)}else{var Xe=k.dataToCoord(Mt,$)-et,cn=u.dataToCoord(Lt);Math.abs(Xe)<B&&(Xe=(Xe<0?-1:1)*B),fe=(re=cn+b)+w,ye=ne,Te=ne+Xe,U&&(i[p][Lt][Gt]=Te)}s.setItemLayout(at,{cx:M,cy:I,r0:re,r:fe,startAngle:-ye*Math.PI/180,endAngle:-Te*Math.PI/180,clockwise:ye>=Te})}}})}var WR={startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:0}},jR={splitNumber:5},YR=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return Tt(e,n),e.type="polar",e}(co);function MT(n,e){e=e||{};var i=n.axis,r={},o=i.position,s=i.orient,l=n.coordinateSystem.getRect(),u=[l.x,l.x+l.width,l.y,l.y+l.height],f={horizontal:{top:u[2],bottom:u[3]},vertical:{left:u[0],right:u[1]}};r.position=["vertical"===s?f.vertical[o]:u[0],"horizontal"===s?f.horizontal[o]:u[3]],r.rotation=Math.PI/2*{horizontal:0,vertical:1}[s],r.labelDirection=r.tickDirection=r.nameDirection={top:-1,bottom:1,right:1,left:-1}[o],n.get(["axisTick","inside"])&&(r.tickDirection=-r.tickDirection),On(e.labelInside,n.get(["axisLabel","inside"]))&&(r.labelDirection=-r.labelDirection);var p=e.rotate;return null==p&&(p=n.get(["axisLabel","rotate"])),r.labelRotation="top"===o?-p:p,r.z2=1,r}var XR=["axisLine","axisTickLabel","axisName"],GR=["splitArea","splitLine"],qR=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t.axisPointerClass="SingleAxisPointer",t}return Tt(e,n),e.prototype.render=function(t,i,r,o){var s=this.group;s.removeAll();var l=this._axisGroup;this._axisGroup=new bt;var u=MT(t),f=new Y(t,u);mt(XR,f.add,f),s.add(this._axisGroup),s.add(f.getGroup()),mt(GR,function(p){t.get([p,"show"])&&UR[p](this,this.group,this._axisGroup,t)},this),Md(l,this._axisGroup,t),n.prototype.render.call(this,t,i,r,o)},e.prototype.remove=function(){Ge(this)},e.type="singleAxis",e}(te),UR={splitLine:function(n,e,t,i){var r=i.axis;if(!r.scale.isBlank()){var o=i.getModel("splitLine"),s=o.getModel("lineStyle"),l=s.get("color");l=l instanceof Array?l:[l];for(var u=i.coordinateSystem.getRect(),f=r.isHorizontal(),p=[],m=0,b=r.getTicksCoords({tickModel:o}),w=[],k=[],M=0;M<b.length;++M){var I=r.toGlobalCoord(b[M].coord);f?(w[0]=I,w[1]=u.y,k[0]=I,k[1]=u.y+u.height):(w[0]=u.x,w[1]=I,k[0]=u.x+u.width,k[1]=I);var O=m++%l.length;p[O]=p[O]||[],p[O].push(new wa({subPixelOptimize:!0,shape:{x1:w[0],y1:w[1],x2:k[0],y2:k[1]},silent:!0}))}var B=s.getLineStyle(["color"]);for(M=0;M<p.length;++M)e.add(hl(p[M],{style:se({stroke:l[M%l.length]},B),silent:!0}))}},splitArea:function(n,e,t,i){ke(n,t,i,i)}},Pk=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return Tt(e,n),e.prototype.getCoordSysModel=function(){return this},e.type="singleAxis",e.layoutMode="box",e.defaultOption={left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:1,type:"solid"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:1}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}}},e}(rr);on(Pk,Ud.prototype);var $R=function(n){function e(t,i,r,o,s){var l=n.call(this,t,i,r)||this;return l.type=o||"value",l.position=s||"bottom",l}return Tt(e,n),e.prototype.isHorizontal=function(){var t=this.position;return"top"===t||"bottom"===t},e.prototype.pointToData=function(t,i){return this.coordinateSystem.pointToData(t)[0]},e}(lu),hE=["single"],ZR=function(){function n(e,t,i){this.type="single",this.dimension="single",this.dimensions=hE,this.axisPointerEnabled=!0,this.model=e,this._init(e,t,i)}return n.prototype._init=function(e,t,i){var o=new $R(this.dimension,vg(e),[0,0],e.get("type"),e.get("position"));o.onBand="category"===o.type&&e.get("boundaryGap"),o.inverse=e.get("inverse"),o.orient=e.get("orient"),e.axis=o,o.model=e,o.coordinateSystem=this,this._axis=o},n.prototype.update=function(e,t){e.eachSeries(function(i){if(i.coordinateSystem===this){var r=i.getData();mt(r.mapDimensionsAll(this.dimension),function(o){this._axis.scale.unionExtentFromData(r,o)},this),eh(this._axis.scale,this._axis.model)}},this)},n.prototype.resize=function(e,t){this._rect=Ca({left:e.get("left"),top:e.get("top"),right:e.get("right"),bottom:e.get("bottom"),width:e.get("width"),height:e.get("height")},{width:t.getWidth(),height:t.getHeight()}),this._adjustAxis()},n.prototype.getRect=function(){return this._rect},n.prototype._adjustAxis=function(){var e=this._rect,t=this._axis,i=t.isHorizontal(),r=i?[0,e.width]:[0,e.height],o=t.reverse?1:0;t.setExtent(r[o],r[1-o]),this._updateAxisTransform(t,i?e.x:e.y)},n.prototype._updateAxisTransform=function(e,t){var i=e.getExtent(),r=i[0]+i[1],o=e.isHorizontal();e.toGlobalCoord=o?function(s){return s+t}:function(s){return r-s+t},e.toLocalCoord=o?function(s){return s-t}:function(s){return r-s+t}},n.prototype.getAxis=function(){return this._axis},n.prototype.getBaseAxis=function(){return this._axis},n.prototype.getAxes=function(){return[this._axis]},n.prototype.getTooltipAxes=function(){return{baseAxes:[this.getAxis()],otherAxes:[]}},n.prototype.containPoint=function(e){var t=this.getRect(),i=this.getAxis();return"horizontal"===i.orient?i.contain(i.toLocalCoord(e[0]))&&e[1]>=t.y&&e[1]<=t.y+t.height:i.contain(i.toLocalCoord(e[1]))&&e[0]>=t.y&&e[0]<=t.y+t.height},n.prototype.pointToData=function(e){var t=this.getAxis();return[t.coordToData(t.toLocalCoord(e["horizontal"===t.orient?0:1]))]},n.prototype.dataToPoint=function(e){var t=this.getAxis(),i=this.getRect(),r=[],o="horizontal"===t.orient?0:1;return e instanceof Array&&(e=e[0]),r[o]=t.toGlobalCoord(t.dataToCoord(+e)),r[1-o]=0===o?i.y+i.height/2:i.x+i.width/2,r},n.prototype.convertToPixel=function(e,t,i){return dE(t)===this?this.dataToPoint(i):null},n.prototype.convertFromPixel=function(e,t,i){return dE(t)===this?this.pointToData(i):null},n}();function dE(n){var e=n.seriesModel,t=n.singleAxisModel;return t&&t.coordinateSystem||e&&e.coordinateSystem}var KR={create:function(n,e){var t=[];return n.eachComponent("singleAxis",function(i,r){var o=new ZR(i,n,e);o.name="single_"+r,o.resize(i,e),i.coordinateSystem=o,t.push(o)}),n.eachSeries(function(i){if("singleAxis"===i.get("coordinateSystem")){var r=i.getReferringComponents("singleAxis",Mo).models[0];i.coordinateSystem=r&&r.coordinateSystem}}),t},dimensions:hE},fE=["x","y"],QR=["width","height"],JR=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return Tt(e,n),e.prototype.makeElOption=function(t,i,r,o,s){var l=r.axis,u=l.coordinateSystem,f=TT(u,1-Ok(l)),p=u.dataToPoint(i)[0],m=o.get("type");if(m&&"none"!==m){var b=bT(o),w=tB[m](l,p,f);w.style=b,t.graphicKey=w.type,t.pointer=w}UD(i,t,MT(r),r,o,s)},e.prototype.getHandleTransform=function(t,i,r){var o=MT(i,{labelInside:!1});o.labelMargin=r.get(["handle","margin"]);var s=_T(i.axis,t,o);return{x:s[0],y:s[1],rotation:o.rotation+(o.labelDirection<0?Math.PI:0)}},e.prototype.updateHandleTransform=function(t,i,r,o){var s=r.axis,l=s.coordinateSystem,u=Ok(s),f=TT(l,u),p=[t.x,t.y];p[u]+=i[u],p[u]=Math.min(f[1],p[u]),p[u]=Math.max(f[0],p[u]);var m=TT(l,1-u),b=(m[1]+m[0])/2,w=[b,b];return w[u]=p[u],{x:p[0],y:p[1],rotation:t.rotation,cursorPoint:w,tooltipOption:{verticalAlign:"middle"}}},e}(yT),tB={line:function(n,e,t){return{type:"Line",subPixelOptimize:!0,shape:wT([e,t[0]],[e,t[1]],Ok(n))}},shadow:function(n,e,t){var i=n.getBandWidth();return{type:"Rect",shape:$D([e-i/2,t[0]],[i,t[1]-t[0]],Ok(n))}}};function Ok(n){return n.isHorizontal()?0:1}function TT(n,e){var t=n.getRect();return[t[fE[e]],t[fE[e]]+t[QR[e]]]}var eB=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return Tt(e,n),e.type="single",e}(co),nB=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return Tt(e,n),e.prototype.init=function(t,i,r){var o=Af(t);n.prototype.init.apply(this,arguments),pE(t,o)},e.prototype.mergeOption=function(t){n.prototype.mergeOption.apply(this,arguments),pE(this.option,t)},e.prototype.getCellSize=function(){return this.option.cellSize},e.type="calendar",e.defaultOption={zlevel:0,z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:"#000",width:1,type:"solid"}},itemStyle:{color:"#fff",borderWidth:1,borderColor:"#ccc"},dayLabel:{show:!0,firstDay:0,position:"start",margin:"50%",color:"#000"},monthLabel:{show:!0,position:"start",margin:5,align:"center",formatter:null,color:"#000"},yearLabel:{show:!0,position:null,margin:30,formatter:null,color:"#ccc",fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},e}(rr);function pE(n,e){var t,i=n.cellSize;1===(t=Jt(i)?i:n.cellSize=[i,i]).length&&(t[1]=t[0]);var r=zt([0,1],function(o){return(null!=(s=e)[Ld[l=o][0]]||null!=s[Ld[l][1]]&&null!=s[Ld[l][2]])&&(t[o]="auto"),null!=t[o]&&"auto"!==t[o];var s,l});Ou(n,e,{type:"box",ignoreSize:r})}var iB=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return Tt(e,n),e.prototype.render=function(t,i,r){var o=this.group;o.removeAll();var s=t.coordinateSystem,l=s.getRangeInfo(),u=s.getOrient(),f=i.getLocaleModel();this._renderDayRect(t,l,o),this._renderLines(t,l,u,o),this._renderYearText(t,l,u,o),this._renderMonthText(t,f,u,o),this._renderWeekText(t,f,l,u,o)},e.prototype._renderDayRect=function(t,i,r){for(var o=t.coordinateSystem,s=t.getModel("itemStyle").getItemStyle(),l=o.getCellWidth(),u=o.getCellHeight(),f=i.start.time;f<=i.end.time;f=o.getNextNDay(f,1).time){var p=o.dataToRect([f],!1).tl,m=new vr({shape:{x:p[0],y:p[1],width:l,height:u},cursor:"default",style:s});r.add(m)}},e.prototype._renderLines=function(t,i,r,o){var s=this,l=t.coordinateSystem,u=t.getModel(["splitLine","lineStyle"]).getLineStyle(),f=t.get(["splitLine","show"]),p=u.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var m=i.start,b=0;m.time<=i.end.time;b++){k(m.formatedDate),0===b&&(m=l.getDateInfo(i.start.y+"-"+i.start.m));var w=m.date;w.setMonth(w.getMonth()+1),m=l.getDateInfo(w)}function k(M){s._firstDayOfMonth.push(l.getDateInfo(M)),s._firstDayPoints.push(l.dataToRect([M],!1).tl);var I=s._getLinePointsOfOneWeek(t,M,r);s._tlpoints.push(I[0]),s._blpoints.push(I[I.length-1]),f&&s._drawSplitline(I,u,o)}k(l.getNextNDay(i.end.time,1).formatedDate),f&&this._drawSplitline(s._getEdgesPoints(s._tlpoints,p,r),u,o),f&&this._drawSplitline(s._getEdgesPoints(s._blpoints,p,r),u,o)},e.prototype._getEdgesPoints=function(t,i,r){var o=[t[0].slice(),t[t.length-1].slice()],s="horizontal"===r?0:1;return o[0][s]=o[0][s]-i/2,o[1][s]=o[1][s]+i/2,o},e.prototype._drawSplitline=function(t,i,r){var o=new Fs({z2:20,shape:{points:t},style:i});r.add(o)},e.prototype._getLinePointsOfOneWeek=function(t,i,r){for(var o=t.coordinateSystem,s=o.getDateInfo(i),l=[],u=0;u<7;u++){var f=o.getNextNDay(s.time,u),p=o.dataToRect([f.time],!1);l[2*f.day]=p.tl,l[2*f.day+1]=p["horizontal"===r?"bl":"tr"]}return l},e.prototype._formatterLabel=function(t,i){return"string"==typeof t&&t?(r=t,mt(i,function(s,l){r=r.replace("{"+l+"}",s)}),r):"function"==typeof t?t(i):i.nameMap;var r},e.prototype._yearTextPositionControl=function(t,i,r,o,s){var l=i[0],u=i[1],f=["center","bottom"];"bottom"===o?(u+=s,f=["center","top"]):"left"===o?l-=s:"right"===o?(l+=s,f=["center","top"]):u-=s;var p=0;return"left"!==o&&"right"!==o||(p=Math.PI/2),{rotation:p,x:l,y:u,style:{align:f[0],verticalAlign:f[1]}}},e.prototype._renderYearText=function(t,i,r,o){var s=t.getModel("yearLabel");if(s.get("show")){var l=s.get("margin"),u=s.get("position");u||(u="horizontal"!==r?"top":"left");var f=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],p=(f[0][0]+f[1][0])/2,m=(f[0][1]+f[1][1])/2,b="horizontal"===r?0:1,w={top:[p,f[b][1]],bottom:[p,f[1-b][1]],left:[f[1-b][0],m],right:[f[b][0],m]},k=i.start.y;+i.end.y>+i.start.y&&(k=k+"-"+i.end.y);var M=s.get("formatter"),O=this._formatterLabel(M,{start:i.start.y,end:i.end.y,nameMap:k}),B=new dr({z2:30,style:Zo(s,{text:O})});B.attr(this._yearTextPositionControl(B,w[u],r,u,l)),o.add(B)}},e.prototype._monthTextPositionControl=function(t,i,r,o,s){var l="left",u="top",f=t[0],p=t[1];return"horizontal"===r?(p+=s,i&&(l="center"),"start"===o&&(u="bottom")):(f+=s,i&&(u="middle"),"start"===o&&(l="right")),{x:f,y:p,align:l,verticalAlign:u}},e.prototype._renderMonthText=function(t,i,r,o){var s=t.getModel("monthLabel");if(s.get("show")){var l=s.get("nameMap"),u=s.get("margin"),f=s.get("position"),p=s.get("align"),m=[this._tlpoints,this._blpoints];l&&!Ke(l)||(l&&(i=cs(l)||i),l=i.get(["time","monthAbbr"])||[]);var b="start"===f?0:1,w="horizontal"===r?0:1;u="start"===f?-u:u;for(var k="center"===p,M=0;M<m[b].length-1;M++){var I=m[b][M].slice(),O=this._firstDayOfMonth[M];k&&(I[w]=(this._firstDayPoints[M][w]+m[0][M+1][w])/2);var H=s.get("formatter"),X=l[+O.m-1],U={yyyy:O.y,yy:(O.y+"").slice(2),MM:O.m,M:+O.m,nameMap:X},$=this._formatterLabel(H,U),et=new dr({z2:30,style:Dt(Zo(s,{text:$}),this._monthTextPositionControl(I,k,r,f,u))});o.add(et)}}},e.prototype._weekTextPositionControl=function(t,i,r,o,s){var l="center",u="middle",f=t[0],p=t[1],m="start"===r;return"horizontal"===i?(f=f+o+(m?1:-1)*s[0]/2,l=m?"right":"left"):(p=p+o+(m?1:-1)*s[1]/2,u=m?"bottom":"top"),{x:f,y:p,align:l,verticalAlign:u}},e.prototype._renderWeekText=function(t,i,r,o,s){var l=t.getModel("dayLabel");if(l.get("show")){var u=t.coordinateSystem,f=l.get("position"),p=l.get("nameMap"),m=l.get("margin"),b=u.getFirstDayOfWeek();(!p||Ke(p))&&(p&&(i=cs(p)||i),p=i.get(["time","dayOfWeekShort"])||zt(i.get(["time","dayOfWeekAbbr"]),function(X){return X[0]}));var w=u.getNextNDay(r.end.time,7-r.lweek).time,k=[u.getCellWidth(),u.getCellHeight()];m=In(m,Math.min(k[1],k[0])),"start"===f&&(w=u.getNextNDay(r.start.time,-(7+r.fweek)).time,m=-m);for(var M=0;M<7;M++){var I,O=u.getNextNDay(w,M),B=u.dataToRect([O.time],!1).center;I=Math.abs((M+b)%7);var H=new dr({z2:30,style:Dt(Zo(l,{text:p[I]}),this._weekTextPositionControl(B,o,f,m,k))});s.add(H)}}},e.type="calendar",e}(co),IT=864e5,rB=function(){function n(e,t,i){this.type="calendar",this.dimensions=n.dimensions,this.getDimensionsInfo=n.getDimensionsInfo,this._model=e}return n.getDimensionsInfo=function(){return[{name:"time",type:"time"},"value"]},n.prototype.getRangeInfo=function(){return this._rangeInfo},n.prototype.getModel=function(){return this._model},n.prototype.getRect=function(){return this._rect},n.prototype.getCellWidth=function(){return this._sw},n.prototype.getCellHeight=function(){return this._sh},n.prototype.getOrient=function(){return this._orient},n.prototype.getFirstDayOfWeek=function(){return this._firstDayOfWeek},n.prototype.getDateInfo=function(e){var t=(e=Ji(e)).getFullYear(),i=e.getMonth()+1,r=i<10?"0"+i:""+i,o=e.getDate(),s=o<10?"0"+o:""+o,l=e.getDay();return{y:t+"",m:r,d:s,day:l=Math.abs((l+7-this.getFirstDayOfWeek())%7),time:e.getTime(),formatedDate:t+"-"+r+"-"+s,date:e}},n.prototype.getNextNDay=function(e,t){return 0===(t=t||0)||(e=new Date(this.getDateInfo(e).time)).setDate(e.getDate()+t),this.getDateInfo(e)},n.prototype.update=function(e,t){this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var i=this._rangeInfo.weeks||1,r=["width","height"],o=this._model.getCellSize().slice(),s=this._model.getBoxLayoutParams(),l="horizontal"===this._orient?[i,7]:[7,i];mt([0,1],function(m){p(o,m)&&(s[r[m]]=o[m]*l[m])});var u={width:t.getWidth(),height:t.getHeight()},f=this._rect=Ca(s,u);function p(m,b){return null!=m[b]&&"auto"!==m[b]}mt([0,1],function(m){p(o,m)||(o[m]=f[r[m]]/l[m])}),this._sw=o[0],this._sh=o[1]},n.prototype.dataToPoint=function(e,t){Jt(e)&&(e=e[0]),null==t&&(t=!0);var i=this.getDateInfo(e),r=this._rangeInfo;if(t&&!(i.time>=r.start.time&&i.time<r.end.time+IT))return[NaN,NaN];var s=i.day,l=this._getRangeInfo([r.start.time,i.formatedDate]).nthWeek;return"vertical"===this._orient?[this._rect.x+s*this._sw+this._sw/2,this._rect.y+l*this._sh+this._sh/2]:[this._rect.x+l*this._sw+this._sw/2,this._rect.y+s*this._sh+this._sh/2]},n.prototype.pointToData=function(e){var t=this.pointToDate(e);return t&&t.time},n.prototype.dataToRect=function(e,t){var i=this.dataToPoint(e,t);return{contentShape:{x:i[0]-(this._sw-this._lineWidth)/2,y:i[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:i,tl:[i[0]-this._sw/2,i[1]-this._sh/2],tr:[i[0]+this._sw/2,i[1]-this._sh/2],br:[i[0]+this._sw/2,i[1]+this._sh/2],bl:[i[0]-this._sw/2,i[1]+this._sh/2]}},n.prototype.pointToDate=function(e){var t=Math.floor((e[0]-this._rect.x)/this._sw)+1,i=Math.floor((e[1]-this._rect.y)/this._sh)+1,r=this._rangeInfo.range;return"vertical"===this._orient?this._getDateByWeeksAndDay(i,t-1,r):this._getDateByWeeksAndDay(t,i-1,r)},n.prototype.convertToPixel=function(e,t,i){var r=gE(t);return r===this?r.dataToPoint(i):null},n.prototype.convertFromPixel=function(e,t,i){var r=gE(t);return r===this?r.pointToData(i):null},n.prototype.containPoint=function(e){return console.warn("Not implemented."),!1},n.prototype._initRangeOption=function(){var e,t=this._model.get("range");if(Jt(t)&&1===t.length&&(t=t[0]),Jt(t))e=t;else{var i=t.toString();if(/^\d{4}$/.test(i)&&(e=[i+"-01-01",i+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test(i)){var r=this.getDateInfo(i),o=r.date;o.setMonth(o.getMonth()+1);var s=this.getNextNDay(o,-1);e=[r.formatedDate,s.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(i)&&(e=[i,i])}if(!e)return t;var l=this._getRangeInfo(e);return l.start.time>l.end.time&&e.reverse(),e},n.prototype._getRangeInfo=function(e){var t,i=[this.getDateInfo(e[0]),this.getDateInfo(e[1])];i[0].time>i[1].time&&(t=!0,i.reverse());var r=Math.floor(i[1].time/IT)-Math.floor(i[0].time/IT)+1,o=new Date(i[0].time),s=o.getDate(),l=i[1].date.getDate();o.setDate(s+r-1);var u=o.getDate();if(u!==l)for(var f=o.getTime()-i[1].time>0?1:-1;(u=o.getDate())!==l&&(o.getTime()-i[1].time)*f>0;)r-=f,o.setDate(u-f);var p=Math.floor((r+i[0].day+6)/7),m=t?1-p:p-1;return t&&i.reverse(),{range:[i[0].formatedDate,i[1].formatedDate],start:i[0],end:i[1],allDay:r,weeks:p,nthWeek:m,fweek:i[0].day,lweek:i[1].day}},n.prototype._getDateByWeeksAndDay=function(e,t,i){var r=this._getRangeInfo(i);if(e>r.weeks||0===e&&t<r.fweek||e===r.weeks&&t>r.lweek)return null;var o=7*(e-1)-r.fweek+t,s=new Date(r.start.time);return s.setDate(+r.start.d+o),this.getDateInfo(s)},n.create=function(e,t){var i=[];return e.eachComponent("calendar",function(r){var o=new n(r,e,t);i.push(o),r.coordinateSystem=o}),e.eachSeries(function(r){"calendar"===r.get("coordinateSystem")&&(r.coordinateSystem=i[r.get("calendarIndex")||0])}),i},n.dimensions=["time","value"],n}();function gE(n){var e=n.calendarModel,t=n.seriesModel;return e?e.coordinateSystem:t?t.coordinateSystem:null}var Ex=ar(),mE={path:null,compoundPath:null,group:bt,image:ga,text:dr},oB=function(n){var e=n.graphic;Jt(e)?n.graphic=e[0]&&e[0].elements?[n.graphic[0]]:[{elements:e}]:e&&!e.elements&&(n.graphic=[{elements:[e]}])},aB=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t.preventAutoZ=!0,t}return Tt(e,n),e.prototype.mergeOption=function(t,i){var r=this.option.elements;this.option.elements=null,n.prototype.mergeOption.call(this,t,i),this.option.elements=r},e.prototype.optionUpdated=function(t,i){var r=this.option,o=(i?r:t).elements,s=r.elements=i?[]:r.elements,l=[];this._flatten(o,l,null);var u=Ku(s,l,"normalMerge"),f=this._elOptionsToUpdate=[];mt(u,function(m,b){var k,M,I,O,B,H,w=m.newOption;w&&(f.push(w),function(k,M){var I=k.existing;if(M.id=k.keyInfo.id,!M.type&&I&&(M.type=I.type),null==M.parentId){var O=M.parentOption;O?M.parentId=O.id:I&&(M.parentId=I.parentId)}M.parentOption=null}(m,w),k=s,M=b,O=Dt({},I=w),B=k[M],"merge"===(H=I.$action||"merge")?B?(Xt(B,O,!0),Ou(B,O,{ignoreSize:!0}),Py(I,B)):k[M]=O:"replace"===H?k[M]=O:"remove"===H&&B&&(k[M]=null),function(k,M){if(k&&(k.hv=M.hv=[yE(M,["left","right"]),yE(M,["top","bottom"])],"group"===k.type)){var I=k,O=M;null==I.width&&(I.width=O.width=0),null==I.height&&(I.height=O.height=0)}}(s[b],w))},this);for(var p=s.length-1;p>=0;p--)null==s[p]?s.splice(p,1):delete s[p].$action},e.prototype._flatten=function(t,i,r){mt(t,function(o){if(o){r&&(o.parentOption=r),i.push(o);var s=o.children;"group"===o.type&&s&&this._flatten(s,i,o),delete o.children}},this)},e.prototype.useElOptionsToUpdate=function(){var t=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,t},e.type="graphic",e.defaultOption={elements:[]},e}(rr),sB=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return Tt(e,n),e.prototype.init=function(){this._elMap=ii()},e.prototype.render=function(t,i,r){t!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=t,this._updateElements(t),this._relocate(t,r)},e.prototype._updateElements=function(t){var i=t.useElOptionsToUpdate();if(i){var r=this._elMap,o=this.group;mt(i,function(s){var l=No(s.id,null),u=null!=l?r.get(l):null,f=No(s.parentId,null),p=null!=f?r.get(f):o,m=s.type,b=s.style;"text"===m&&b&&s.hv&&s.hv[1]&&(b.textVerticalAlign=b.textBaseline=b.verticalAlign=b.align=null);var w=s.textContent,k=s.textConfig;if(b&&AD(b,m,!!k,!!w)){var M=MD(b,m,!0);!k&&M.textConfig&&(k=s.textConfig=M.textConfig),!w&&M.textContent&&(w=M.textContent)}var U,I=(U=Dt({},U=s),mt(["id","parentId","$action","hv","bounding","textContent"].concat(Lb),function($){delete U[$]}),U),O=s.$action||"merge";"merge"===O?u?u.attr(I):vE(l,p,I,r):"replace"===O?(Nk(u,r),vE(l,p,I,r)):"remove"===O&&Nk(u,r);var B=r.get(l);if(B&&w)if("merge"===O){var H=B.getTextContent();H?H.attr(w):B.setTextContent(new dr(w))}else"replace"===O&&B.setTextContent(new dr(w));if(B){var X=Ex(B);X.__ecGraphicWidthOption=s.width,X.__ecGraphicHeightOption=s.height,function(U,$,et){var at=Fi(U).eventData;U.silent||U.ignore||at||(at=Fi(U).eventData={componentType:"graphic",componentIndex:$.componentIndex,name:U.name}),at&&(at.info=et.info)}(B,t,s),bf({el:B,componentModel:t,itemName:B.name,itemTooltipOption:s.tooltip})}})}},e.prototype._relocate=function(t,i){for(var r=t.option.elements,o=this.group,s=this._elMap,l=i.getWidth(),u=i.getHeight(),f=0;f<r.length;f++)if((M=null!=(k=No((w=r[f]).id,null))?s.get(k):null)&&M.isGroup){var p=(I=M.parent)===o,m=Ex(M),b=Ex(I);m.__ecGraphicWidth=In(m.__ecGraphicWidthOption,p?l:b.__ecGraphicWidth)||0,m.__ecGraphicHeight=In(m.__ecGraphicHeightOption,p?u:b.__ecGraphicHeight)||0}for(f=r.length-1;f>=0;f--){var w,k,M;if(M=null!=(k=No((w=r[f]).id,null))?s.get(k):null){var I=M.parent;b=Ex(I),Ly(M,w,I===o?{width:l,height:u}:{width:b.__ecGraphicWidth,height:b.__ecGraphicHeight},null,{hv:w.hv,boundingMode:w.bounding})}}},e.prototype._clear=function(){var t=this._elMap;t.each(function(i){Nk(i,t)}),this._elMap=ii()},e.prototype.dispose=function(){this._clear()},e.type="graphic",e}(co);function vE(n,e,t,i){var r=t.type,s=new(ei(mE,r)?mE[r]:Ep(r))(t);e.add(s),i.set(n,s),Ex(s).__ecGraphicId=n}function Nk(n,e){var t=n&&n.parent;t&&("group"===n.type&&n.traverse(function(i){Nk(i,e)}),e.removeKey(Ex(n).__ecGraphicId),t.remove(n))}function yE(n,e){var t;return mt(e,function(i){null!=n[i]&&"auto"!==n[i]&&(t=!0)}),t}var xE=["x","y","radius","angle","single"],lB=["cartesian2d","polar","singleAxis"];function Og(n){return n+"Axis"}function bE(n){var e=n.ecModel,t={infoList:[],infoMap:ii()};return n.eachTargetAxis(function(i,r){var o=e.getComponent(Og(i),r);if(o){var s=o.getCoordSysModel();if(s){var l=s.uid,u=t.infoMap.get(l);u||(t.infoList.push(u={model:s,axisModels:[]}),t.infoMap.set(l,u)),u.axisModels.push(o)}}}),t}var DT=function(){function n(){this.indexList=[],this.indexMap=[]}return n.prototype.add=function(e){this.indexMap[e]||(this.indexList.push(e),this.indexMap[e]=!0)},n}(),bw=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t._autoThrottle=!0,t._noTarget=!0,t._rangePropMode=["percent","percent"],t}return Tt(e,n),e.prototype.init=function(t,i,r){var o=_E(t);this.settledOption=o,this.mergeDefaultAndTheme(t,r),this._doInit(o)},e.prototype.mergeOption=function(t){var i=_E(t);Xt(this.option,t,!0),Xt(this.settledOption,i,!0),this._doInit(i)},e.prototype._doInit=function(t){var i=this.option;this._setDefaultThrottle(t),this._updateRangeUse(t);var r=this.settledOption;mt([["start","startValue"],["end","endValue"]],function(o,s){"value"===this._rangePropMode[s]&&(i[o[0]]=r[o[0]]=null)},this),this._resetTarget()},e.prototype._resetTarget=function(){var t=this.get("orient",!0),i=this._targetAxisInfoMap=ii();this._fillSpecifiedTargetAxis(i)?this._orient=t||this._makeAutoOrientByTargetAxis():(this._orient=t||"horizontal",this._fillAutoTargetAxisByOrient(i,this._orient)),this._noTarget=!0,i.each(function(r){r.indexList.length&&(this._noTarget=!1)},this)},e.prototype._fillSpecifiedTargetAxis=function(t){var i=!1;return mt(xE,function(r){var o=this.getReferringComponents(Og(r),Bg);if(o.specified){i=!0;var s=new DT;mt(o.models,function(l){s.add(l.componentIndex)}),t.set(r,s)}},this),i},e.prototype._fillAutoTargetAxisByOrient=function(t,i){var r=this.ecModel,o=!0;if(o){var s="vertical"===i?"y":"x";l(r.findComponents({mainType:s+"Axis"}),s)}function l(u,f){var p=u[0];if(p){var m=new DT;if(m.add(p.componentIndex),t.set(f,m),o=!1,"x"===f||"y"===f){var b=p.getReferringComponents("grid",Mo).models[0];b&&mt(u,function(w){p.componentIndex!==w.componentIndex&&b===w.getReferringComponents("grid",Mo).models[0]&&m.add(w.componentIndex)})}}}o&&l(r.findComponents({mainType:"singleAxis",filter:function(u){return u.get("orient",!0)===i}}),"single"),o&&mt(xE,function(u){if(o){var f=r.findComponents({mainType:Og(u),filter:function(m){return"category"===m.get("type",!0)}});if(f[0]){var p=new DT;p.add(f[0].componentIndex),t.set(u,p),o=!1}}},this)},e.prototype._makeAutoOrientByTargetAxis=function(){var t;return this.eachTargetAxis(function(i){!t&&(t=i)},this),"y"===t?"vertical":"horizontal"},e.prototype._setDefaultThrottle=function(t){if(t.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var i=this.ecModel.option;this.option.throttle=i.animation&&i.animationDurationUpdate>0?100:20}},e.prototype._updateRangeUse=function(t){var i=this._rangePropMode,r=this.get("rangeMode");mt([["start","startValue"],["end","endValue"]],function(o,s){var l=null!=t[o[0]],u=null!=t[o[1]];l&&!u?i[s]="percent":!l&&u?i[s]="value":r?i[s]=r[s]:l&&(i[s]="percent")})},e.prototype.noTarget=function(){return this._noTarget},e.prototype.getFirstTargetAxisModel=function(){var t;return this.eachTargetAxis(function(i,r){null==t&&(t=this.ecModel.getComponent(Og(i),r))},this),t},e.prototype.eachTargetAxis=function(t,i){this._targetAxisInfoMap.each(function(r,o){mt(r.indexList,function(s){t.call(i,o,s)})})},e.prototype.getAxisProxy=function(t,i){var r=this.getAxisModel(t,i);if(r)return r.__dzAxisProxy},e.prototype.getAxisModel=function(t,i){var r=this._targetAxisInfoMap.get(t);if(r&&r.indexMap[i])return this.ecModel.getComponent(Og(t),i)},e.prototype.setRawRange=function(t){var i=this.option,r=this.settledOption;mt([["start","startValue"],["end","endValue"]],function(o){null==t[o[0]]&&null==t[o[1]]||(i[o[0]]=r[o[0]]=t[o[0]],i[o[1]]=r[o[1]]=t[o[1]])},this),this._updateRangeUse(t)},e.prototype.setCalculatedRange=function(t){var i=this.option;mt(["start","startValue","end","endValue"],function(r){i[r]=t[r]})},e.prototype.getPercentRange=function(){var t=this.findRepresentativeAxisProxy();if(t)return t.getDataPercentWindow()},e.prototype.getValueRange=function(t,i){if(null!=t||null!=i)return this.getAxisProxy(t,i).getDataValueWindow();var r=this.findRepresentativeAxisProxy();return r?r.getDataValueWindow():void 0},e.prototype.findRepresentativeAxisProxy=function(t){if(t)return t.__dzAxisProxy;for(var i,r=this._targetAxisInfoMap.keys(),o=0;o<r.length;o++)for(var s=r[o],l=this._targetAxisInfoMap.get(s),u=0;u<l.indexList.length;u++){var f=this.getAxisProxy(s,l.indexList[u]);if(f.hostedBy(this))return f;i||(i=f)}return i},e.prototype.getRangePropMode=function(){return this._rangePropMode.slice()},e.prototype.getOrient=function(){return this._orient},e.type="dataZoom",e.dependencies=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","series","toolbox"],e.defaultOption={zlevel:0,z:4,filterMode:"filter",start:0,end:100},e}(rr);function _E(n){var e={};return mt(["start","end","startValue","endValue","throttle"],function(t){n.hasOwnProperty(t)&&(e[t]=n[t])}),e}var cB=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return Tt(e,n),e.type="dataZoom.select",e}(bw),ET=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return Tt(e,n),e.prototype.render=function(t,i,r,o){this.dataZoomModel=t,this.ecModel=i,this.api=r},e.type="dataZoom",e}(co),hB=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return Tt(e,n),e.type="dataZoom.select",e}(ET),Lx=mt,wE=Li,dB=function(){function n(e,t,i,r){this._dimName=e,this._axisIndex=t,this.ecModel=r,this._dataZoomModel=i}return n.prototype.hostedBy=function(e){return this._dataZoomModel===e},n.prototype.getDataValueWindow=function(){return this._valueWindow.slice()},n.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()},n.prototype.getTargetSeriesModels=function(){var e=[];return this.ecModel.eachSeries(function(t){if(s=t.get("coordinateSystem"),Ne(lB,s)>=0){var i=Og(this._dimName),r=t.getReferringComponents(i,Mo).models[0];r&&this._axisIndex===r.componentIndex&&e.push(t)}var s},this),e},n.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},n.prototype.getMinMaxSpan=function(){return Pt(this._minMaxSpan)},n.prototype.calculateDataWindow=function(e){var t,i=this._dataExtent,r=this.getAxisModel().axis.scale,o=this._dataZoomModel.getRangePropMode(),s=[0,100],l=[],u=[];Lx(["start","end"],function(m,b){var w=e[m],k=e[m+"Value"];"percent"===o[b]?(null==w&&(w=s[b]),k=r.parse(Bn(w,s,i))):(t=!0,w=Bn(k=null==k?i[b]:r.parse(k),i,s)),u[b]=k,l[b]=w}),wE(u),wE(l);var f=this._minMaxSpan;function p(m,b,w,k,M){var I=M?"Span":"ValueSpan";Nv(0,m,w,"all",f["min"+I],f["max"+I]);for(var O=0;O<2;O++)b[O]=Bn(m[O],w,k,!0),M&&(b[O]=r.parse(b[O]))}return t?p(u,l,i,s,!1):p(l,u,s,i,!0),{valueWindow:u,percentWindow:l}},n.prototype.reset=function(e){if(e===this._dataZoomModel){var t=this.getTargetSeriesModels();this._dataExtent=function(r,o,s){var l=[1/0,-1/0];Lx(s,function(p){var m,b;m=l,(b=p.getData())&&mt(hv(b,o),function(k){var M=b.getApproximateExtent(k);M[0]<m[0]&&(m[0]=M[0]),M[1]>m[1]&&(m[1]=M[1])})});var u=r.getAxisModel(),f=uv(u.axis.scale,u,l).calculate();return[f.min,f.max]}(this,this._dimName,t),this._updateMinMaxSpan();var i=this.calculateDataWindow(e.settledOption);this._valueWindow=i.valueWindow,this._percentWindow=i.percentWindow,this._setAxisModel()}},n.prototype.filterData=function(e,t){if(e===this._dataZoomModel){var i=this._dimName,r=this.getTargetSeriesModels(),o=e.get("filterMode"),s=this._valueWindow;"none"!==o&&Lx(r,function(l){var u=l.getData(),f=u.mapDimensionsAll(i);if(f.length){if("weakFilter"===o){var p=u.getStore(),m=zt(f,function(b){return u.getDimensionIndex(b)},u);u.filterSelf(function(b){for(var w,k,M,I=0;I<f.length;I++){var O=p.get(m[I],b),B=!isNaN(O),H=O<s[0],X=O>s[1];if(B&&!H&&!X)return!0;B&&(M=!0),H&&(w=!0),X&&(k=!0)}return M&&w&&k})}else Lx(f,function(b){if("empty"===o)l.setData(u=u.map(b,function(k){return(M=k)>=s[0]&&M<=s[1]?k:NaN;var M}));else{var w={};w[b]=s,u.selectRange(w)}});Lx(f,function(b){u.setApproximateExtent(s,b)})}})}},n.prototype._updateMinMaxSpan=function(){var e=this._minMaxSpan={},t=this._dataZoomModel,i=this._dataExtent;Lx(["min","max"],function(r){var o=t.get(r+"Span"),s=t.get(r+"ValueSpan");null!=s&&(s=this.getAxisModel().axis.scale.parse(s)),null!=s?o=Bn(i[0]+s,i,[0,100],!0):null!=o&&(s=Bn(o,[0,100],i,!0)-i[0]),e[r+"Span"]=o,e[r+"ValueSpan"]=s},this)},n.prototype._setAxisModel=function(){var e=this.getAxisModel(),t=this._percentWindow,i=this._valueWindow;if(t){var r=Pr(i,[0,500]);r=Math.min(r,20);var o=e.axis.scale.rawExtentInfo;0!==t[0]&&o.setDeterminedMinMax("min",+i[0].toFixed(r)),100!==t[1]&&o.setDeterminedMinMax("max",+i[1].toFixed(r)),o.freeze()}},n}(),fB={getTargetSeries:function(n){function e(r){n.eachComponent("dataZoom",function(o){o.eachTargetAxis(function(s,l){var u=n.getComponent(Og(s),l);r(s,l,u,o)})})}e(function(r,o,s,l){s.__dzAxisProxy=null});var t=[];e(function(r,o,s,l){s.__dzAxisProxy||(s.__dzAxisProxy=new dB(r,o,l,n),t.push(s.__dzAxisProxy))});var i=ii();return mt(t,function(r){mt(r.getTargetSeriesModels(),function(o){i.set(o.uid,o)})}),i},overallReset:function(n,e){n.eachComponent("dataZoom",function(t){t.eachTargetAxis(function(i,r){t.getAxisProxy(i,r).reset(t)}),t.eachTargetAxis(function(i,r){t.getAxisProxy(i,r).filterData(t,e)})}),n.eachComponent("dataZoom",function(t){var i=t.findRepresentativeAxisProxy();if(i){var r=i.getDataPercentWindow(),o=i.getDataValueWindow();t.setCalculatedRange({start:r[0],end:r[1],startValue:o[0],endValue:o[1]})}})}},SE=!1;function LT(n){SE||(SE=!0,n.registerProcessor(n.PRIORITY.PROCESSOR.FILTER,fB),function(e){e.registerAction("dataZoom",function(t,i){mt(function(n,e){var t,i=ii(),r=[],o=ii();n.eachComponent({mainType:"dataZoom",query:e},function(u){o.get(u.uid)||l(u)});do{t=!1,n.eachComponent("dataZoom",s)}while(t);function s(u){var p;!o.get(u.uid)&&(p=!1,u.eachTargetAxis(function(m,b){var w=i.get(m);w&&w[b]&&(p=!0)}),p)&&(l(u),t=!0)}function l(u){o.set(u.uid,!0),r.push(u),u.eachTargetAxis(function(f,p){(i.get(f)||i.set(f,[]))[p]=!0})}return r}(i,t),function(r){r.setRawRange({start:t.start,end:t.end,startValue:t.startValue,endValue:t.endValue})})})}(n),n.registerSubTypeDefaulter("dataZoom",function(){return"slider"}))}function pB(n){n.registerComponentModel(cB),n.registerComponentView(hB),LT(n)}var ch=function(){},CE={};function Px(n,e){CE[n]=e}function kE(n){return CE[n]}var gB=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return Tt(e,n),e.prototype.optionUpdated=function(){n.prototype.optionUpdated.apply(this,arguments);var t=this.ecModel;mt(this.option.feature,function(i,r){var o=kE(r);o&&(o.getDefaultOption&&(o.defaultOption=o.getDefaultOption(t)),Xt(i,o.defaultOption))})},e.type="toolbox",e.layoutMode={type:"box",ignoreSize:!0},e.defaultOption={show:!0,z:6,zlevel:0,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}},tooltip:{show:!1,position:"bottom"}},e}(rr);function AE(n,e){var t=Cf(e.get("padding")),i=e.getItemStyle(["color","opacity"]);return i.fill=e.get("backgroundColor"),new vr({shape:{x:n.x-t[3],y:n.y-t[0],width:n.width+t[1]+t[3],height:n.height+t[0]+t[2],r:e.get("borderRadius")},style:i,silent:!0,z2:-1})}var mB=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return Tt(e,n),e.prototype.render=function(t,i,r,o){var b,w,k,M,I,O,B,s=this.group;if(s.removeAll(),t.get("show")){var l=+t.get("itemSize"),u=t.get("feature")||{},f=this._features||(this._features={}),p=[];mt(u,function(b,w){p.push(w)}),new Hu(this._featureNames||[],p).add(m).update(m).remove(de(m,null)).execute(),this._featureNames=p,b=s,k=r,M=(w=t).getBoxLayoutParams(),I=w.get("padding"),B=Ca(M,O={width:k.getWidth(),height:k.getHeight()},I),kf(w.get("orient"),b,w.get("itemGap"),B.width,B.height),Ly(b,M,O,I),s.add(AE(s.getBoundingRect(),t)),s.eachChild(function(b){var w=b.__title,k=b.ensureState("emphasis"),M=k.textConfig||(k.textConfig={}),I=b.getTextContent(),O=I&&I.states.emphasis;if(O&&!Fe(O)&&w){var B=O.style||(O.style={}),H=Lo(w,dr.makeFont(B)),X=b.x+s.x,U=!1;b.y+s.y+l+H.height>r.getHeight()&&(M.position="top",U=!0);var $=U?-5-H.height:l+8;X+H.width/2>r.getWidth()?(M.position=["100%",$],B.align="right"):X-H.width/2<0&&(M.position=[0,$],B.align="left")}})}function m(b,w){var k,M=p[b],I=p[w],O=u[M],B=new Er(O,t,t.ecModel);if(o&&null!=o.newTitle&&o.featureName===M&&(O.title=o.newTitle),M&&!I){if(0===M.indexOf("my"))k={onclick:B.option.onclick,featureName:M};else{var H=kE(M);if(!H)return;k=new H}f[M]=k}else if(!(k=f[I]))return;k.uid=wf("toolbox-feature"),k.model=B,k.ecModel=i,k.api=r;var X=k instanceof ch;M||!I?!B.get("show")||X&&k.unusable?X&&k.remove&&k.remove(i,r):(function(U,$,et){var at,At,Mt=U.getModel("iconStyle"),Lt=U.getModel(["emphasis","iconStyle"]),Gt=$ instanceof ch&&$.getIcons?$.getIcons():U.get("icon"),ne=U.get("title")||{};"string"==typeof Gt?(at={})[et]=Gt:at=Gt,"string"==typeof ne?(At={})[et]=ne:At=ne;var re=U.iconPaths={};mt(at,function(fe,ye){var Te=Ua(fe,{},{x:-l/2,y:-l/2,width:l,height:l});Te.setStyle(Mt.getItemStyle()),Te.ensureState("emphasis").style=Lt.getItemStyle();var Ie=new dr({style:{text:At[ye],align:Lt.get("textAlign"),borderRadius:Lt.get("textBorderRadius"),padding:Lt.get("textPadding"),fill:null},ignore:!0});Te.setTextContent(Ie),bf({el:Te,componentModel:t,itemName:ye,formatterParamsExtra:{title:At[ye]}}),Te.__title=At[ye],Te.on("mouseover",function(){var Re=Lt.getItemStyle(),Xe="vertical"===t.get("orient")?null==t.get("right")?"right":"left":null==t.get("bottom")?"bottom":"top";Ie.setStyle({fill:Lt.get("textFill")||Re.fill||Re.stroke||"#000",backgroundColor:Lt.get("textBackgroundColor")}),Te.setTextConfig({position:Lt.get("textPosition")||Xe}),Ie.ignore=!t.get("showTitle"),kl(this)}).on("mouseout",function(){"emphasis"!==U.get(["iconStatus",ye])&&Bc(this),Ie.hide()}),("emphasis"===U.get(["iconStatus",ye])?kl:Bc)(Te),s.add(Te),Te.on("click",_e($.onclick,$,i,r,ye)),re[ye]=Te})}(B,k,M),B.setIconStatus=function(U,$){var et=this.option,at=this.iconPaths;et.iconStatus=et.iconStatus||{},et.iconStatus[U]=$,at[U]&&("emphasis"===$?kl:Bc)(at[U])},k instanceof ch&&k.render&&k.render(B,i,r,o)):X&&k.dispose&&k.dispose(i,r)}},e.prototype.updateView=function(t,i,r,o){mt(this._features,function(s){s instanceof ch&&s.updateView&&s.updateView(s.model,i,r,o)})},e.prototype.remove=function(t,i){mt(this._features,function(r){r instanceof ch&&r.remove&&r.remove(t,i)}),this.group.removeAll()},e.prototype.dispose=function(t,i){mt(this._features,function(r){r instanceof ch&&r.dispose&&r.dispose(t,i)})},e.type="toolbox",e}(co),ME=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return Tt(e,n),e.prototype.onclick=function(t,i){var r=this.model,o=r.get("name")||t.get("title.0.text")||"echarts",s="svg"===i.getZr().painter.getType(),l=s?"svg":r.get("type",!0)||"png",u=i.getConnectedDataURL({type:l,backgroundColor:r.get("backgroundColor",!0)||t.get("backgroundColor")||"#fff",connectedBackgroundColor:r.get("connectedBackgroundColor"),excludeComponents:r.get("excludeComponents"),pixelRatio:r.get("pixelRatio")});if("function"!=typeof MouseEvent||!Wt.browser.newEdge&&(Wt.browser.ie||Wt.browser.edge))if(window.navigator.msSaveOrOpenBlob||s){var f=u.split(","),p=f[0].indexOf("base64")>-1,m=s?decodeURIComponent(f[1]):f[1];p&&(m=window.atob(m));var b=o+"."+l;if(window.navigator.msSaveOrOpenBlob){for(var w=m.length,k=new Uint8Array(w);w--;)k[w]=m.charCodeAt(w);var M=new Blob([k]);window.navigator.msSaveOrOpenBlob(M,b)}else{var I=document.createElement("iframe");document.body.appendChild(I);var O=I.contentWindow,B=O.document;B.open("image/svg+xml","replace"),B.write(m),B.close(),O.focus(),B.execCommand("SaveAs",!0,b),document.body.removeChild(I)}}else{var H=r.get("lang"),X='<body style="margin:0;"><img src="'+u+'" style="max-width:100%;" title="'+(H&&H[0]||"")+'" /></body>',U=window.open();U.document.write(X),U.document.title=o}else{var $=document.createElement("a");$.download=o+"."+l,$.target="_blank",$.href=u;var et=new MouseEvent("click",{view:document.defaultView,bubbles:!0,cancelable:!1});$.dispatchEvent(et)}},e.getDefaultOption=function(t){return{show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:t.getLocaleModel().get(["toolbox","saveAsImage","title"]),type:"png",connectedBackgroundColor:"#fff",name:"",excludeComponents:["toolbox"],lang:t.getLocaleModel().get(["toolbox","saveAsImage","lang"])}},e}(ch);ME.prototype.unusable=!Wt.canvasSupported;var TE="__ec_magicType_stack__",vB=[["line","bar"],["stack"]],yB=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return Tt(e,n),e.prototype.getIcons=function(){var t=this.model,i=t.get("icon"),r={};return mt(t.get("type"),function(o){i[o]&&(r[o]=i[o])}),r},e.getDefaultOption=function(t){return{show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:t.getLocaleModel().get(["toolbox","magicType","title"]),option:{},seriesIndex:{}}},e.prototype.onclick=function(t,i,r){var o=this.model,s=o.get(["seriesIndex",r]);if(IE[r]){var l,u={series:[]};mt(vB,function(p){Ne(p,r)>=0&&mt(p,function(m){o.setIconStatus(m,"normal")})}),o.setIconStatus(r,"emphasis"),t.eachComponent({mainType:"series",query:null==s?null:{seriesIndex:s}},function(p){var w=IE[r](p.subType,p.id,p,o);w&&(se(w,p.option),u.series.push(w));var k=p.coordinateSystem;if(k&&"cartesian2d"===k.type&&("line"===r||"bar"===r)){var M=k.getAxesByScale("ordinal")[0];if(M){var I=M.dim+"Axis",O=p.getReferringComponents(I,Mo).models[0].componentIndex;u[I]=u[I]||[];for(var B=0;B<=O;B++)u[I][O]=u[I][O]||{};u[I][O].boundaryGap="bar"===r}}});var f=r;"stack"===r&&(l=Xt({stack:o.option.title.tiled,tiled:o.option.title.stack},o.option.title),"emphasis"!==o.get(["iconStatus",r])&&(f="tiled")),i.dispatchAction({type:"changeMagicType",currentType:f,newOption:u,newTitle:l,featureName:"magicType"})}},e}(ch),IE={line:function(n,e,t,i){if("bar"===n)return Xt({id:e,type:"line",data:t.get("data"),stack:t.get("stack"),markPoint:t.get("markPoint"),markLine:t.get("markLine")},i.get(["option","line"])||{},!0)},bar:function(n,e,t,i){if("line"===n)return Xt({id:e,type:"bar",data:t.get("data"),stack:t.get("stack"),markPoint:t.get("markPoint"),markLine:t.get("markLine")},i.get(["option","bar"])||{},!0)},stack:function(n,e,t,i){var r=t.get("stack")===TE;if("line"===n||"bar"===n)return i.setIconStatus("stack",r?"normal":"emphasis"),Xt({id:e,stack:r?"":TE},i.get(["option","stack"])||{},!0)}};pc({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(n,e){e.mergeOption(n.newOption)});var Rk=new Array(60).join("-");function Bk(n){return n.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}var PT=new RegExp("[\t]+","g"),bB=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return Tt(e,n),e.prototype.onclick=function(t,i){var r=i.getDom(),o=this.model;this._dom&&r.removeChild(this._dom);var s=document.createElement("div");s.style.cssText="position:absolute;left:5px;top:5px;bottom:5px;right:5px;",s.style.backgroundColor=o.get("backgroundColor")||"#fff";var l=document.createElement("h4"),u=o.get("lang")||[];l.innerHTML=u[0]||o.get("title"),l.style.cssText="margin: 10px 20px;",l.style.color=o.get("textColor");var f=document.createElement("div"),p=document.createElement("textarea");f.style.cssText="display:block;width:100%;overflow:auto;";var et,at,At,Gt,ne,re,Mt,m=o.get("optionToContent"),b=o.get("contentToOption"),w=(Gt={},ne=[],re=[],t.eachRawSeries(function(fe){var ye=fe.coordinateSystem;if(!ye||"cartesian2d"!==ye.type&&"polar"!==ye.type)ne.push(fe);else{var Te=ye.getBaseAxis();if("category"===Te.type){var Ie=Te.dim+"_"+Te.index;Gt[Ie]||(Gt[Ie]={categoryAxis:Te,valueAxis:ye.getOtherAxis(Te),series:[]},re.push({axisDim:Te.dim,axisIndex:Te.index})),Gt[Ie].series.push(fe)}else ne.push(fe)}}),{value:Ae([(at=(Mt={seriesGroupByCategoryAxis:Gt,other:ne,meta:re}).seriesGroupByCategoryAxis,At=[],mt(at,function(Lt,Gt){var ne=Lt.categoryAxis,re=Lt.valueAxis.dim,fe=[" "].concat(zt(Lt.series,function(cn){return cn.name})),ye=[ne.model.getCategories()];mt(Lt.series,function(cn){var _n=cn.getRawData();ye.push(cn.getRawData().mapArray(_n.mapDimension(re),function(Hn){return Hn}))});for(var Te=[fe.join("\t")],Ie=0;Ie<ye[0].length;Ie++){for(var Re=[],Xe=0;Xe<ye.length;Xe++)Re.push(ye[Xe][Ie]);Te.push(Re.join("\t"))}At.push(Te.join("\n"))}),At.join("\n\n"+Rk+"\n\n")),(et=Mt.other,zt(et,function(Lt){var Gt=Lt.getRawData(),ne=[Lt.name],re=[];return Gt.each(Gt.dimensions,function(){for(var fe=arguments.length,ye=arguments[fe-1],Te=Gt.getName(ye),Ie=0;Ie<fe-1;Ie++)re[Ie]=arguments[Ie];ne.push((Te?Te+"\t":"")+re.join("\t"))}),ne.join("\n")}).join("\n\n"+Rk+"\n\n"))],function(Lt){return!!Lt.replace(/[\n\t\s]/g,"")}).join("\n\n"+Rk+"\n\n"),meta:Mt.meta});if("function"==typeof m){var k=m(i.getOption());"string"==typeof k?f.innerHTML=k:hi(k)&&f.appendChild(k)}else f.appendChild(p),p.readOnly=o.get("readOnly"),p.style.cssText="width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;",p.style.color=o.get("textColor"),p.style.borderColor=o.get("textareaBorderColor"),p.style.backgroundColor=o.get("textareaColor"),p.value=w.value;var M=w.meta,I=document.createElement("div");I.style.cssText="position:absolute;bottom:0;left:0;right:0;";var O="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",B=document.createElement("div"),H=document.createElement("div");O+=";background-color:"+o.get("buttonColor"),O+=";color:"+o.get("buttonTextColor");var X=this;function U(){r.removeChild(s),X._dom=null}le(B,"click",U),le(H,"click",function(){if(null==b&&null!=m||null!=b&&null==m)U();else{var $;try{$="function"==typeof b?b(f,i.getOption()):function(n,e){var t=n.split(new RegExp("\n*"+Rk+"\n*","g")),i={series:[]};return mt(t,function(r,o){if(function(f){if(f.slice(0,f.indexOf("\n")).indexOf("\t")>=0)return!0}(r)){var s=function(f){for(var p=f.split(/\n+/g),m=[],b=zt(Bk(p.shift()).split(PT),function(I){return{name:I,data:[]}}),w=0;w<p.length;w++){var k=Bk(p[w]).split(PT);m.push(k.shift());for(var M=0;M<k.length;M++)b[M]&&(b[M].data[w]=k[M])}return{series:b,categories:m}}(r),l=e[o],u=l.axisDim+"Axis";l&&(i[u]=i[u]||[],i[u][l.axisIndex]={data:s.categories},i.series=i.series.concat(s.series))}else s=function(f){for(var p=f.split(/\n+/g),m=Bk(p.shift()),b=[],w=0;w<p.length;w++){var k=Bk(p[w]);if(k){var M=k.split(PT),I="",O=void 0,B=!1;isNaN(M[0])?(B=!0,I=M[0],M=M.slice(1),b[w]={name:I,value:[]},O=b[w].value):O=b[w]=[];for(var H=0;H<M.length;H++)O.push(+M[H]);1===O.length&&(B?b[w].value=O[0]:b[w]=O[0])}}return{name:m,data:b}}(r),i.series.push(s)}),i}(p.value,M)}catch(et){throw U(),new Error("Data view format error "+et)}$&&i.dispatchAction({type:"changeDataView",newOption:$}),U()}}),B.innerHTML=u[1],H.innerHTML=u[2],H.style.cssText=O,B.style.cssText=O,!o.get("readOnly")&&I.appendChild(H),I.appendChild(B),s.appendChild(l),s.appendChild(f),s.appendChild(I),f.style.height=r.clientHeight-80+"px",r.appendChild(s),this._dom=s},e.prototype.remove=function(t,i){this._dom&&i.getDom().removeChild(this._dom)},e.prototype.dispose=function(t,i){this.remove(t,i)},e.getDefaultOption=function(t){return{show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:t.getLocaleModel().get(["toolbox","dataView","title"]),lang:t.getLocaleModel().get(["toolbox","dataView","lang"]),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"}},e}(ch);function _B(n,e){return zt(n,function(t,i){var r=e&&e[i];if($e(r)&&!Jt(r)){$e(t)&&!Jt(t)||(t={value:t});var o=null!=r.name&&null==t.name;return t=se(t,r),o&&delete t.name,t}return t})}pc({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(n,e){var t=[];mt(n.newOption.series,function(i){var r=e.getSeriesByName(i.name)[0];if(r){var o=r.get("data");t.push({name:i.name,data:_B(i.data,o)})}else t.push(Dt({type:"scatter"},i))}),e.mergeOption(se({series:t},n.newOption))});var DE=mt,EE=ar();function OT(n){var e=EE(n);return e.snapshots||(e.snapshots=[{}]),e.snapshots}var wB=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return Tt(e,n),e.prototype.onclick=function(t,i){EE(t).snapshots=null,i.dispatchAction({type:"restore",from:this.uid})},e.getDefaultOption=function(t){return{show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:t.getLocaleModel().get(["toolbox","restore","title"])}},e}(ch);pc({type:"restore",event:"restore",update:"prepareAndUpdate"},function(n,e){e.resetOption("recreate")});var SB=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],NT=function(){function n(e,t,i){var r=this;this._targetInfoList=[];var o=LE(t,e);mt(CB,function(s,l){(!i||!i.include||Ne(i.include,l)>=0)&&s(o,r._targetInfoList)})}return n.prototype.setOutputRanges=function(e,t){return this.matchOutputRanges(e,t,function(i,r,o){if((i.coordRanges||(i.coordRanges=[])).push(r),!i.coordRange){i.coordRange=r;var s=BT[i.brushType](0,o,r);i.__rangeOffset={offset:RE[i.brushType](s.values,i.range,[1,1]),xyMinMax:s.xyMinMax}}}),e},n.prototype.matchOutputRanges=function(e,t,i){mt(e,function(r){var o=this.findTargetInfo(r,t);o&&!0!==o&&mt(o.coordSyses,function(s){var l=BT[r.brushType](1,s,r.range,!0);i(r,l.values,s,t)})},this)},n.prototype.setInputRanges=function(e,t){mt(e,function(i){var o,s,l,u,f=this.findTargetInfo(i,t);if(i.range=i.range||[],f&&!0!==f){i.panelId=f.panelId;var p=BT[i.brushType](0,f.coordSys,i.coordRange),m=i.__rangeOffset;i.range=m?RE[i.brushType](p.values,m.offset,(o=m.xyMinMax,s=zE(p.xyMinMax),l=zE(o),u=[s[0]/l[0],s[1]/l[1]],isNaN(u[0])&&(u[0]=1),isNaN(u[1])&&(u[1]=1),u)):p.values}},this)},n.prototype.makePanelOpts=function(e,t){return zt(this._targetInfoList,function(i){var r=i.getPanelRect();return{panelId:i.panelId,defaultBrushType:t?t(i):null,clipPath:zI(r),isTargetByCursor:VI(r,e,i.coordSysModel),getLinearBrushOtherExtent:FI(r)}})},n.prototype.controlSeries=function(e,t,i){var r=this.findTargetInfo(e,i);return!0===r||r&&Ne(r.coordSyses,t.coordinateSystem)>=0},n.prototype.findTargetInfo=function(e,t){for(var i=this._targetInfoList,r=LE(t,e),o=0;o<i.length;o++){var s=i[o],l=e.panelId;if(l){if(s.panelId===l)return s}else for(var u=0;u<PE.length;u++)if(PE[u](r,s))return s}return!0},n}();function RT(n){return n[0]>n[1]&&n.reverse(),n}function LE(n,e){return Dc(n,e,{includeMainTypes:SB})}var CB={grid:function(n,e){var t=n.xAxisModels,i=n.yAxisModels,r=n.gridModels,o=ii(),s={},l={};(t||i||r)&&(mt(t,function(u){var f=u.axis.grid.model;o.set(f.id,f),s[f.id]=!0}),mt(i,function(u){var f=u.axis.grid.model;o.set(f.id,f),l[f.id]=!0}),mt(r,function(u){o.set(u.id,u),s[u.id]=!0,l[u.id]=!0}),o.each(function(u){var p=[];mt(u.coordinateSystem.getCartesians(),function(m,b){(Ne(t,m.getAxis("x").model)>=0||Ne(i,m.getAxis("y").model)>=0)&&p.push(m)}),e.push({panelId:"grid--"+u.id,gridModel:u,coordSysModel:u,coordSys:p[0],coordSyses:p,getPanelRect:OE.grid,xAxisDeclared:s[u.id],yAxisDeclared:l[u.id]})}))},geo:function(n,e){mt(n.geoModels,function(t){var i=t.coordinateSystem;e.push({panelId:"geo--"+t.id,geoModel:t,coordSysModel:t,coordSys:i,coordSyses:[i],getPanelRect:OE.geo})})}},PE=[function(n,e){var t=n.xAxisModel,i=n.yAxisModel,r=n.gridModel;return!r&&t&&(r=t.axis.grid.model),!r&&i&&(r=i.axis.grid.model),r&&r===e.gridModel},function(n,e){var t=n.geoModel;return t&&t===e.geoModel}],OE={grid:function(){return this.coordSys.master.getRect().clone()},geo:function(){var n=this.coordSys,e=n.getBoundingRect().clone();return e.applyTransform(Fc(n)),e}},BT={lineX:de(NE,0),lineY:de(NE,1),rect:function(n,e,t,i){var r=n?e.pointToData([t[0][0],t[1][0]],i):e.dataToPoint([t[0][0],t[1][0]],i),o=n?e.pointToData([t[0][1],t[1][1]],i):e.dataToPoint([t[0][1],t[1][1]],i),s=[RT([r[0],o[0]]),RT([r[1],o[1]])];return{values:s,xyMinMax:s}},polygon:function(n,e,t,i){var r=[[1/0,-1/0],[1/0,-1/0]];return{values:zt(t,function(o){var s=n?e.pointToData(o,i):e.dataToPoint(o,i);return r[0][0]=Math.min(r[0][0],s[0]),r[1][0]=Math.min(r[1][0],s[1]),r[0][1]=Math.max(r[0][1],s[0]),r[1][1]=Math.max(r[1][1],s[1]),s}),xyMinMax:r}}};function NE(n,e,t,i){var r=t.getAxis(["x","y"][n]),o=RT(zt([0,1],function(l){return e?r.coordToData(r.toLocalCoord(i[l]),!0):r.toGlobalCoord(r.dataToCoord(i[l]))})),s=[];return s[n]=o,s[1-n]=[NaN,NaN],{values:o,xyMinMax:s}}var RE={lineX:de(BE,0),lineY:de(BE,1),rect:function(n,e,t){return[[n[0][0]-t[0]*e[0][0],n[0][1]-t[0]*e[0][1]],[n[1][0]-t[1]*e[1][0],n[1][1]-t[1]*e[1][1]]]},polygon:function(n,e,t){return zt(n,function(i,r){return[i[0]-t[0]*e[r][0],i[1]-t[1]*e[r][1]]})}};function BE(n,e,t,i){return[e[0]-i[n]*t[0],e[1]-i[n]*t[1]]}function zE(n){return n?[n[0][1]-n[0][0],n[1][1]-n[1][0]]:[NaN,NaN]}var FT,VT=mt,AB=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return Tt(e,n),e.prototype.render=function(t,i,r,o){this._brushController||(this._brushController=new FM(r.getZr()),this._brushController.on("brush",_e(this._onBrush,this)).mount()),function(s,l,u,f,p){var m=u._isZoomActive;f&&"takeGlobalCursor"===f.type&&(m="dataZoomSelect"===f.key&&f.dataZoomSelectActive),u._isZoomActive=m,s.setIconStatus("zoom",m?"emphasis":"normal");var b=new NT(HT(s),l,{include:["grid"]}).makePanelOpts(p,function(w){return w.xAxisDeclared&&!w.yAxisDeclared?"lineX":!w.xAxisDeclared&&w.yAxisDeclared?"lineY":"rect"});u._brushController.setPanels(b).enableBrush(!(!m||!b.length)&&{brushType:"auto",brushStyle:s.getModel("brushStyle").getItemStyle()})}(t,i,this,o,r),t.setIconStatus("back",OT(i).length>1?"emphasis":"normal")},e.prototype.onclick=function(t,i,r){MB[r].call(this)},e.prototype.remove=function(t,i){this._brushController&&this._brushController.unmount()},e.prototype.dispose=function(t,i){this._brushController&&this._brushController.dispose()},e.prototype._onBrush=function(t){var l,u,f,i=t.areas;if(t.isEnd&&i.length){var r={},o=this.ecModel;this._brushController.updateCovers([]),new NT(HT(this.model),o,{include:["grid"]}).matchOutputRanges(i,o,function(l,u,f){if("cartesian2d"===f.type){var p=l.brushType;"rect"===p?(s("x",f,u[0]),s("y",f,u[1])):s({lineX:"x",lineY:"y"}[p],f,u)}}),u=r,f=OT(l=o),DE(u,function(p,m){for(var b=f.length-1;b>=0&&!f[b][m];b--);if(b<0){var w=l.queryComponents({mainType:"dataZoom",subType:"select",id:m})[0];if(w){var k=w.getPercentRange();f[0][m]={dataZoomId:m,start:k[0],end:k[1]}}}}),f.push(u),this._dispatchZoomAction(r)}function s(l,u,f){var k,M,O,p=u.getAxis(l),m=p.model,b=(k=l,M=m,o.eachComponent({mainType:"dataZoom",subType:"select"},function(B){B.getAxisModel(k,M.componentIndex)&&(O=B)}),O),w=b.findRepresentativeAxisProxy(m).getMinMaxSpan();null==w.minValueSpan&&null==w.maxValueSpan||(f=Nv(0,f.slice(),p.scale.getExtent(),0,w.minValueSpan,w.maxValueSpan)),b&&(r[b.id]={dataZoomId:b.id,startValue:f[0],endValue:f[1]})}},e.prototype._dispatchZoomAction=function(t){var i=[];VT(t,function(r,o){i.push(Pt(r))}),i.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:i})},e.getDefaultOption=function(t){return{show:!0,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:t.getLocaleModel().get(["toolbox","dataZoom","title"]),brushStyle:{borderWidth:0,color:"rgba(210,219,238,0.2)"}}},e}(ch),MB={zoom:function(){this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:!this._isZoomActive})},back:function(){this._dispatchZoomAction(function(n){var e=OT(n),t=e[e.length-1];e.length>1&&e.pop();var i={};return DE(t,function(r,o){for(var s=e.length-1;s>=0;s--)if(r=e[s][o]){i[o]=r;break}}),i}(this.ecModel))}};function HT(n){var e={xAxisIndex:n.get("xAxisIndex",!0),yAxisIndex:n.get("yAxisIndex",!0),xAxisId:n.get("xAxisId",!0),yAxisId:n.get("yAxisId",!0)};return null==e.xAxisIndex&&null==e.xAxisId&&(e.xAxisIndex="all"),null==e.yAxisIndex&&null==e.yAxisId&&(e.yAxisIndex="all"),e}FT=function(n){var e=n.getComponent("toolbox",0),t=["feature","dataZoom"];if(e&&null!=e.get(t)){var i=e.getModel(t),r=[],o=Dc(n,HT(i));return VT(o.xAxisModels,function(l){return s(l,"xAxis","xAxisIndex")}),VT(o.yAxisModels,function(l){return s(l,"yAxis","yAxisIndex")}),r}function s(l,u,f){var p=l.componentIndex,m={type:"select",$fromToolbox:!0,filterMode:i.get("filterMode",!0)||"filter",id:"\0_ec_\0toolbox-dataZoom_"+u+p};m[f]=p,r.push(m)}},Ni(null==Tf.get("dataZoom")&&FT),Tf.set("dataZoom",FT);var TB=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return Tt(e,n),e.type="tooltip",e.dependencies=["axisPointer"],e.defaultOption={zlevel:0,z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"#fff",shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#666",fontSize:14}},e}(rr);function FE(n){var e=n.get("confine");return null!=e?!!e:"richText"===n.get("renderMode")}function VE(n){if(Wt.domSupported)for(var e=document.documentElement.style,t=0,i=n.length;t<i;t++)if(n[t]in e)return n[t]}var HE=VE(["transform","webkitTransform","OTransform","MozTransform","msTransform"]);function WE(n,e){if(!n)return e;e=_i(e,!0);var t=n.indexOf(e);return(n=-1===t?e:"-"+n.slice(0,t)+"-"+e).toLowerCase()}var IB=WE(VE(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),"transition"),WT=WE(HE,"transform"),DB="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(Wt.transform3dSupported?"will-change:transform;":"");function jE(n,e,t){var i=n.toFixed(0)+"px",r=e.toFixed(0)+"px";if(!Wt.transformSupported)return t?"top:"+r+";left:"+i+";":[["top",r],["left",i]];var o=Wt.transform3dSupported,s="translate"+(o?"3d":"")+"("+i+","+r+(o?",0":"")+")";return t?"top:0;left:0;"+WT+":"+s+";":[["top",0],["left",0],[HE,s]]}function YE(n,e,t,i,r){var u,p,o=e&&e.painter;if(t){var s=o&&o.getViewportRoot();s&&(u=n,p=document.body,F(E,s,i,r,!0)&&F(u,p,E[0],E[1]))}else{n[0]=i,n[1]=r;var l=o&&o.getViewportRootOffset();l&&(n[0]+=l.offsetLeft,n[1]+=l.offsetTop)}n[2]=n[0]/e.getWidth(),n[3]=n[1]/e.getHeight()}var LB=function(){function n(e,t,i){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._firstShow=!0,this._longHide=!0,Wt.wxa)return null;var r=document.createElement("div");r.domBelongToZr=!0,this.el=r;var o=this._zr=t.getZr(),s=this._appendToBody=i&&i.appendToBody;YE(this._styleCoord,o,s,t.getWidth()/2,t.getHeight()/2),s?document.body.appendChild(r):e.appendChild(r),this._container=e;var l=this;r.onmouseenter=function(){l._enterable&&(clearTimeout(l._hideTimeout),l._show=!0),l._inContent=!0},r.onmousemove=function(u){if(u=u||window.event,!l._enterable){var f=o.handler;qt(o.painter.getViewportRoot(),u,!0),f.dispatch("mousemove",u)}},r.onmouseleave=function(){l._inContent=!1,l._enterable&&l._show&&l.hideLater(l._hideDelay)}}return n.prototype.update=function(e){var t,r,o=this._container,s=("position",(r=(t=o).currentStyle||document.defaultView&&document.defaultView.getComputedStyle(t))?r.position:null),l=o.style;"absolute"!==l.position&&"absolute"!==s&&(l.position="relative"),e.get("alwaysShowContent")&&this._moveIfResized(),this.el.className=e.get("className")||""},n.prototype.show=function(e,t){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var i=this.el,r=i.style,o=this._styleCoord;i.innerHTML?r.cssText=DB+function(n,e,t){var w,I,O,i=[],r=n.get("transitionDuration"),o=n.get("backgroundColor"),s=n.get("shadowBlur"),l=n.get("shadowColor"),u=n.get("shadowOffsetX"),f=n.get("shadowOffsetY"),p=n.getModel("textStyle"),m=i0(n,"html");return i.push("box-shadow:"+u+"px "+f+"px "+s+"px "+l),e&&r&&i.push((O="opacity"+(I=" "+(w=r)/2+"s "+"cubic-bezier(0.23,1,0.32,1)")+",visibility"+I,t||(I=" "+w+"s cubic-bezier(0.23,1,0.32,1)",O+=Wt.transformSupported?","+WT+I:",left"+I+",top"+I),IB+":"+O)),o&&(Wt.canvasSupported?i.push("background-color:"+o):(i.push("background-color:#"+vl(o)),i.push("filter:alpha(opacity=70)"))),mt(["width","color","radius"],function(w){var k="border-"+w,M=_i(k),I=n.get(M);null!=I&&i.push(k+":"+I+("color"===w?"":"px"))}),i.push(function(w){var k=[],M=w.get("fontSize"),I=w.getTextColor();I&&k.push("color:"+I),k.push("font:"+w.getFont()),M&&k.push("line-height:"+Math.round(3*M/2)+"px");var O=w.get("textShadowColor"),B=w.get("textShadowBlur")||0,H=w.get("textShadowOffsetX")||0,X=w.get("textShadowOffsetY")||0;return O&&B&&k.push("text-shadow:"+H+"px "+X+"px "+B+"px "+O),mt(["decoration","align"],function(U){var $=w.get(U);$&&k.push("text-"+U+":"+$)}),k.join(";")}(p)),null!=m&&i.push("padding:"+Cf(m).join("px ")+"px"),i.join(";")+";"}(e,!this._firstShow,this._longHide)+jE(o[0],o[1],!0)+"border-color:"+Ed(t)+";"+(e.get("extraCssText")||"")+";pointer-events:"+(this._enterable?"auto":"none"):r.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},n.prototype.setContent=function(e,t,i,r,o){var s=this.el;if(null!=e){var l="";if(Ke(o)&&"item"===i.get("trigger")&&!FE(i)&&(l=function(p,m,b){if(!Ke(b)||"inside"===b)return"";var w=p.get("backgroundColor"),k=p.get("borderWidth");m=Ed(m);var M,I,O="left"===(M=b)?"right":"right"===M?"left":"top"===M?"bottom":"top",B=Math.max(1.5*Math.round(k),6),H="",X=WT+":";Ne(["left","right"],O)>-1?(H+="top:50%",X+="translateY(-50%) rotate("+(I="left"===O?-225:-45)+"deg)"):(H+="left:50%",X+="translateX(-50%) rotate("+(I="top"===O?225:45)+"deg)");var U=I*Math.PI/180,$=B+k,et=$*Math.abs(Math.cos(U))+$*Math.abs(Math.sin(U)),at=m+" solid "+k+"px;";return'<div style="'+["position:absolute;width:"+B+"px;height:"+B+"px;",(H+=";"+O+":-"+Math.round(100*((et-Math.SQRT2*k)/2+Math.SQRT2*k-(et-$)/2))/100+"px")+";"+X+";","border-bottom:"+at,"border-right:"+at,"background-color:"+w+";"].join("")+'"></div>'}(i,r,o)),Ke(e))s.innerHTML=e+l;else if(e){s.innerHTML="",Jt(e)||(e=[e]);for(var u=0;u<e.length;u++)hi(e[u])&&e[u].parentNode!==s&&s.appendChild(e[u]);if(l&&s.childNodes.length){var f=document.createElement("div");f.innerHTML=l,s.appendChild(f)}}}else s.innerHTML=""},n.prototype.setEnterable=function(e){this._enterable=e},n.prototype.getSize=function(){var e=this.el;return[e.offsetWidth,e.offsetHeight]},n.prototype.moveTo=function(e,t){var i=this._styleCoord;if(YE(i,this._zr,this._appendToBody,e,t),null!=i[0]&&null!=i[1]){var r=this.el.style;mt(jE(i[0],i[1]),function(o){r[o[0]]=o[1]})}},n.prototype._moveIfResized=function(){var t=this._styleCoord[3];this.moveTo(this._styleCoord[2]*this._zr.getWidth(),t*this._zr.getHeight())},n.prototype.hide=function(){var e=this,t=this.el.style;t.visibility="hidden",t.opacity="0",Wt.transform3dSupported&&(t.willChange=""),this._show=!1,this._longHideTimeout=setTimeout(function(){return e._longHide=!0},500)},n.prototype.hideLater=function(e){!this._show||this._inContent&&this._enterable||(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(_e(this.hide,this),e)):this.hide())},n.prototype.isShow=function(){return this._show},n.prototype.dispose=function(){this.el.parentNode.removeChild(this.el)},n}(),PB=function(){function n(e){this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._zr=e.getZr(),GE(this._styleCoord,this._zr,e.getWidth()/2,e.getHeight()/2)}return n.prototype.update=function(e){e.get("alwaysShowContent")&&this._moveIfResized()},n.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},n.prototype.setContent=function(e,t,i,r,o){$e(e)&&Ai(""),this.el&&this._zr.remove(this.el);var s=i.getModel("textStyle");this.el=new dr({style:{rich:t.richTextStyles,text:e,lineHeight:22,backgroundColor:i.get("backgroundColor"),borderRadius:i.get("borderRadius"),borderWidth:1,borderColor:r,shadowColor:i.get("shadowColor"),shadowBlur:i.get("shadowBlur"),shadowOffsetX:i.get("shadowOffsetX"),shadowOffsetY:i.get("shadowOffsetY"),textShadowColor:s.get("textShadowColor"),textShadowBlur:s.get("textShadowBlur")||0,textShadowOffsetX:s.get("textShadowOffsetX")||0,textShadowOffsetY:s.get("textShadowOffsetY")||0,fill:i.get(["textStyle","color"]),padding:i0(i,"richText"),verticalAlign:"top",align:"left"},z:i.get("z")}),this._zr.add(this.el);var l=this;this.el.on("mouseover",function(){l._enterable&&(clearTimeout(l._hideTimeout),l._show=!0),l._inContent=!0}),this.el.on("mouseout",function(){l._enterable&&l._show&&l.hideLater(l._hideDelay),l._inContent=!1})},n.prototype.setEnterable=function(e){this._enterable=e},n.prototype.getSize=function(){var e=this.el,t=this.el.getBoundingRect(),i=XE(e.style);return[t.width+i.left+i.right,t.height+i.top+i.bottom]},n.prototype.moveTo=function(e,t){var i=this.el;if(i){var r=this._styleCoord;GE(r,this._zr,e,t),e=r[0],t=r[1];var o=i.style,s=Ng(o.borderWidth||0),l=XE(o);i.x=e+s+l.left,i.y=t+s+l.top,i.markRedraw()}},n.prototype._moveIfResized=function(){var t=this._styleCoord[3];this.moveTo(this._styleCoord[2]*this._zr.getWidth(),t*this._zr.getHeight())},n.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},n.prototype.hideLater=function(e){!this._show||this._inContent&&this._enterable||(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(_e(this.hide,this),e)):this.hide())},n.prototype.isShow=function(){return this._show},n.prototype.dispose=function(){this._zr.remove(this.el)},n}();function Ng(n){return Math.max(0,n)}function XE(n){var e=Ng(n.shadowBlur||0),t=Ng(n.shadowOffsetX||0),i=Ng(n.shadowOffsetY||0);return{left:Ng(e-t),right:Ng(e+t),top:Ng(e-i),bottom:Ng(e+i)}}function GE(n,e,t,i){n[0]=t,n[1]=i,n[2]=n[0]/e.getWidth(),n[3]=n[1]/e.getHeight()}var jT=_e,ww=mt,qE=In,OB=new vr({shape:{x:-1,y:-1,width:2,height:2}}),NB=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return Tt(e,n),e.prototype.init=function(t,i){if(!Wt.node){var r,o=t.getComponent("tooltip"),s=o.get("renderMode");this._renderMode="auto"===(r=s)?Wt.domSupported?"html":"richText":r||"html",this._tooltipContent="richText"===this._renderMode?new PB(i):new LB(i.getDom(),i,{appendToBody:o.get("appendToBody",!0)})}},e.prototype.render=function(t,i,r){if(!Wt.node){this.group.removeAll(),this._tooltipModel=t,this._ecModel=i,this._api=r,this._alwaysShowContent=t.get("alwaysShowContent");var o=this._tooltipContent;o.update(t),o.setEnterable(t.get("enterable")),this._initGlobalListener(),this._keepShow(),this._updatePosition="html"===this._renderMode?Nf(jT(this._doUpdatePosition,this),50):this._doUpdatePosition}},e.prototype._initGlobalListener=function(){var t=this._tooltipModel.get("triggerOn");JD("itemTooltip",this._api,jT(function(i,r,o){"none"!==t&&(t.indexOf(i)>=0?this._tryShow(r,o):"leave"===i&&this._hide(o))},this))},e.prototype._keepShow=function(){var t=this._tooltipModel,i=this._ecModel,r=this._api;if(null!=this._lastX&&null!=this._lastY&&"none"!==t.get("triggerOn")){var o=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){!r.isDisposed()&&o.manuallyShowTip(t,i,r,{x:o._lastX,y:o._lastY,dataByCoordSys:o._lastDataByCoordSys})})}},e.prototype.manuallyShowTip=function(t,i,r,o){if(o.from!==this.uid&&!Wt.node){var s=UE(o,r);this._ticket="";var l=o.dataByCoordSys,u=function(k,M,I){var O=wh(k).queryOptionMap,B=O.keys()[0];if(B&&"series"!==B){var H,X=Sh(M,B,O.get(B),{useDefault:!1,enableAll:!1,enableNone:!1}).models[0];if(X&&(I.getViewOfComponentModel(X).group.traverse(function(U){var $=Fi(U).tooltipConfig;if($&&$.name===k.name)return H=U,!0}),H))return{componentMainType:B,componentIndex:X.componentIndex,el:H}}}(o,i,r);if(u){var f=u.el.getBoundingRect().clone();f.applyTransform(u.el.transform),this._tryShow({offsetX:f.x+f.width/2,offsetY:f.y+f.height/2,target:u.el,position:o.position,positionDefault:"bottom"},s)}else if(o.tooltip&&null!=o.x&&null!=o.y){var p=OB;p.x=o.x,p.y=o.y,p.update(),Fi(p).tooltipConfig={name:null,option:o.tooltip},this._tryShow({offsetX:o.x,offsetY:o.y,target:p},s)}else if(l)this._tryShow({offsetX:o.x,offsetY:o.y,position:o.position,dataByCoordSys:l,tooltipOption:o.tooltipOption},s);else if(null!=o.seriesIndex){if(this._manuallyAxisShowTip(t,i,r,o))return;var m=eE(o,i),b=m.point[0],w=m.point[1];null!=b&&null!=w&&this._tryShow({offsetX:b,offsetY:w,target:m.el,position:o.position,positionDefault:"bottom"},s)}else null!=o.x&&null!=o.y&&(r.dispatchAction({type:"updateAxisPointer",x:o.x,y:o.y}),this._tryShow({offsetX:o.x,offsetY:o.y,position:o.position,target:r.getZr().findHover(o.x,o.y).target},s))}},e.prototype.manuallyHideTip=function(t,i,r,o){!this._alwaysShowContent&&this._tooltipModel&&this._tooltipContent.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,o.from!==this.uid&&this._hide(UE(o,r))},e.prototype._manuallyAxisShowTip=function(t,i,r,o){var s=o.seriesIndex,l=o.dataIndex,u=i.getComponent("axisPointer").coordSysAxesInfo;if(null!=s&&null!=l&&null!=u){var f=i.getSeriesByIndex(s);if(f&&"axis"===zk([f.getData().getItemModel(l),f,(f.coordinateSystem||{}).model],this._tooltipModel).get("trigger"))return r.dispatchAction({type:"updateAxisPointer",seriesIndex:s,dataIndex:l,position:o.position}),!0}},e.prototype._tryShow=function(t,i){var r=t.target;if(this._tooltipModel){this._lastX=t.offsetX,this._lastY=t.offsetY;var o=t.dataByCoordSys;if(o&&o.length)this._showAxisTooltip(o,t);else if(r){var s,l;this._lastDataByCoordSys=null,Fd(r,function(u){return null!=Fi(u).dataIndex?(s=u,!0):null!=Fi(u).tooltipConfig?(l=u,!0):void 0},!0),s?this._showSeriesItemTooltip(t,s,i):l?this._showComponentItemTooltip(t,l,i):this._hide(i)}else this._lastDataByCoordSys=null,this._hide(i)}},e.prototype._showOrMove=function(t,i){var r=t.get("showDelay");i=_e(i,this),clearTimeout(this._showTimout),r>0?this._showTimout=setTimeout(i,r):i()},e.prototype._showAxisTooltip=function(t,i){var r=this._ecModel,s=[i.offsetX,i.offsetY],l=zk([i.tooltipOption],this._tooltipModel),u=this._renderMode,f=[],p=Za("section",{blocks:[],noHeader:!0}),m=[],b=new r0;ww(t,function(B){ww(B.dataByAxis,function(H){var X=r.getComponent(H.axisDim+"Axis",H.axisIndex),U=H.value;if(X&&null!=U){var $=qD(U,X.axis,r,H.seriesDataIndices,H.valueLabelOpt),et=Za("section",{header:$,noHeader:!br($),sortBlocks:!0,blocks:[]});p.blocks.push(et),mt(H.seriesDataIndices,function(at){var At=r.getSeriesByIndex(at.seriesIndex),Mt=at.dataIndexInside,Lt=At.getDataParams(Mt);if(!(Lt.dataIndex<0)){Lt.axisDim=H.axisDim,Lt.axisIndex=H.axisIndex,Lt.axisType=H.axisType,Lt.axisId=H.axisId,Lt.axisValue=K0(X.axis,{value:U}),Lt.axisValueLabel=$,Lt.marker=b.makeTooltipMarker("item",Ed(Lt.color),u);var Gt=Uy(At.formatTooltip(Mt,!0,null));Gt.markupFragment&&et.blocks.push(Gt.markupFragment),Gt.markupText&&m.push(Gt.markupText),f.push(Lt)}})}})}),p.blocks.reverse(),m.reverse();var w=i.position,k=l.get("order"),M=t0(p,b,u,k,r.get("useUTC"),l.get("textStyle"));M&&m.unshift(M);var O=m.join("richText"===u?"\n\n":"<br/>");this._showOrMove(l,function(){this._updateContentNotChangedOnAxis(t,f)?this._updatePosition(l,w,s[0],s[1],this._tooltipContent,f):this._showTooltipContent(l,O,f,Math.random()+"",s[0],s[1],w,null,b)})},e.prototype._showSeriesItemTooltip=function(t,i,r){var o=this._ecModel,s=Fi(i),l=s.seriesIndex,u=o.getSeriesByIndex(l),f=s.dataModel||u,p=s.dataIndex,m=s.dataType,b=f.getData(m),w=this._renderMode,k=t.positionDefault,M=zk([b.getItemModel(p),f,u&&(u.coordinateSystem||{}).model],this._tooltipModel,k?{position:k}:null),I=M.get("trigger");if(null==I||"item"===I){var O=f.getDataParams(p,m),B=new r0;O.marker=B.makeTooltipMarker("item",Ed(O.color),w);var H=Uy(f.formatTooltip(p,!1,m)),X=M.get("order"),U=H.markupFragment?t0(H.markupFragment,B,w,X,o.get("useUTC"),M.get("textStyle")):H.markupText,$="item_"+f.name+"_"+p;this._showOrMove(M,function(){this._showTooltipContent(M,U,O,$,t.offsetX,t.offsetY,t.position,t.target,B)}),r({type:"showTip",dataIndexInside:p,dataIndex:b.getRawIndex(p),seriesIndex:l,from:this.uid})}},e.prototype._showComponentItemTooltip=function(t,i,r){var o=Fi(i),s=o.tooltipConfig.option||{};Ke(s)&&(s={content:s,formatter:s});var l=[s],u=this._ecModel.getComponent(o.componentMainType,o.componentIndex);u&&l.push(u),l.push({formatter:s.content});var f=t.positionDefault,p=zk(l,this._tooltipModel,f?{position:f}:null),m=p.get("content"),b=Math.random()+"",w=new r0;this._showOrMove(p,function(){var k=Pt(p.get("formatterParams")||{});this._showTooltipContent(p,m,k,b,t.offsetX,t.offsetY,t.position,i,w)}),r({type:"showTip",from:this.uid})},e.prototype._showTooltipContent=function(t,i,r,o,s,l,u,f,p){if(this._ticket="",t.get("showContent")&&t.get("show")){var m=this._tooltipContent,b=t.get("formatter");u=u||t.get("position");var w=i,k=this._getNearestPoint([s,l],r,t.get("trigger"),t.get("borderColor")).color;if(b)if(Ke(b)){var M=t.ecModel.get("useUTC"),I=Jt(r)?r[0]:r;w=b,I&&I.axisType&&I.axisType.indexOf("time")>=0&&(w=jc(I.axisValue,w,M)),w=Dy(w,r,!0)}else if(Fe(b)){var O=jT(function(B,H){B===this._ticket&&(m.setContent(H,p,t,k,u),this._updatePosition(t,u,s,l,m,r,f))},this);this._ticket=o,w=b(r,o,O)}else w=b;m.setContent(w,p,t,k,u),m.show(t,k),this._updatePosition(t,u,s,l,m,r,f)}},e.prototype._getNearestPoint=function(t,i,r,o){return"axis"===r||Jt(i)?{color:o||("html"===this._renderMode?"#fff":"none")}:Jt(i)?void 0:{color:o||i.color||i.borderColor}},e.prototype._doUpdatePosition=function(t,i,r,o,s,l,u){var f=this._api.getWidth(),p=this._api.getHeight();i=i||t.get("position");var B,H,U,$,et,at,At,Mt,Lt,m=s.getSize(),b=t.get("align"),w=t.get("verticalAlign"),k=u&&u.getBoundingRect().clone();if(u&&k.applyTransform(u.transform),Fe(i)&&(i=i([r,o],l,s.el,k,{viewSize:[f,p],contentSize:m.slice()})),Jt(i))r=qE(i[0],f),o=qE(i[1],p);else if($e(i)){var M=i;M.width=m[0],M.height=m[1];var I=Ca(M,{width:f,height:p});r=I.x,o=I.y,b=null,w=null}else if(Ke(i)&&u){var O=function(B,H,X,U){var $=X[0],et=X[1],at=Math.ceil(Math.SQRT2*U)+8,At=0,Mt=0,Lt=H.width,Gt=H.height;switch(B){case"inside":At=H.x+Lt/2-$/2,Mt=H.y+Gt/2-et/2;break;case"top":At=H.x+Lt/2-$/2,Mt=H.y-et-at;break;case"bottom":At=H.x+Lt/2-$/2,Mt=H.y+Gt+at;break;case"left":At=H.x-$-at,Mt=H.y+Gt/2-et/2;break;case"right":At=H.x+Lt+at,Mt=H.y+Gt/2-et/2}return[At,Mt]}(i,k,m,t.get("borderWidth"));r=O[0],o=O[1]}else B=r,H=o,U=f,$=p,et=b?null:20,at=w?null:20,Mt=(At=s.getSize())[0],Lt=At[1],null!=et&&(B+Mt+et+2>U?B-=Mt+et:B+=et),null!=at&&(H+Lt+at>$?H-=Lt+at:H+=at),r=(O=[B,H])[0],o=O[1];b&&(r-=$E(b)?m[0]/2:"right"===b?m[0]:0),w&&(o-=$E(w)?m[1]/2:"bottom"===w?m[1]:0),FE(t)&&(O=function(B,H,X,U,$){var et=X.getSize(),at=et[0],At=et[1];return B=Math.min(B+at,U)-at,H=Math.min(H+At,$)-At,[B=Math.max(B,0),H=Math.max(H,0)]}(r,o,s,f,p),r=O[0],o=O[1]),s.moveTo(r,o)},e.prototype._updateContentNotChangedOnAxis=function(t,i){var r=this._lastDataByCoordSys,o=this._cbParamsList,s=!!r&&r.length===t.length;return s&&ww(r,function(l,u){var f=l.dataByAxis||[],p=(t[u]||{}).dataByAxis||[];(s=s&&f.length===p.length)&&ww(f,function(m,b){var w=p[b]||{},k=m.seriesDataIndices||[],M=w.seriesDataIndices||[];(s=s&&m.value===w.value&&m.axisType===w.axisType&&m.axisId===w.axisId&&k.length===M.length)&&ww(k,function(I,O){var B=M[O];s=s&&I.seriesIndex===B.seriesIndex&&I.dataIndex===B.dataIndex}),o&&mt(m.seriesDataIndices,function(I){var O=I.seriesIndex,B=i[O],H=o[O];B&&H&&H.data!==B.data&&(s=!1)})})}),this._lastDataByCoordSys=t,this._cbParamsList=i,!!s},e.prototype._hide=function(t){this._lastDataByCoordSys=null,t({type:"hideTip",from:this.uid})},e.prototype.dispose=function(t,i){Wt.node||(this._tooltipContent.dispose(),ST("itemTooltip",i))},e.type="tooltip",e}(co);function zk(n,e,t){var i,r=e.ecModel;t?(i=new Er(t,r,r),i=new Er(e.option,i,r)):i=e;for(var o=n.length-1;o>=0;o--){var s=n[o];s&&(s instanceof Er&&(s=s.get("tooltip",!0)),Ke(s)&&(s={formatter:s}),s&&(i=new Er(s,i,r)))}return i}function UE(n,e){return n.dispatchAction||_e(e.dispatchAction,e)}function $E(n){return"center"===n||"middle"===n}var RB=["rect","polygon","keep","clear"];function BB(n,e){var u,f,t=mr(n?n.brush:[]);if(t.length){var i=[];mt(t,function(u){var f=u.hasOwnProperty("toolbox")?u.toolbox:[];f instanceof Array&&(i=i.concat(f))});var r=n&&n.toolbox;Jt(r)&&(r=r[0]),r||(n.toolbox=[r={feature:{}}]);var o=r.feature||(r.feature={}),s=o.brush||(o.brush={}),l=s.type||(s.type=[]);l.push.apply(l,i),f={},mt(u=l,function(p){f[p]=1}),u.length=0,mt(f,function(p,m){u.push(m)}),e&&!l.length&&l.push.apply(l,RB)}}var ZE=mt;function KE(n){if(n)for(var e in n)if(n.hasOwnProperty(e))return!0}function YT(n,e,t){var i={};return ZE(e,function(r){var o,s=i[r]=((o=function(){}).prototype.__hidden=o.prototype,new o);ZE(n[r],function(l,u){if(As.isValidType(u)){var f={type:u,visual:l};t&&t(f,r),s[u]=new As(f),"opacity"===u&&((f=Pt(f)).type="colorAlpha",s.__hidden.__alphaForOpacity=new As(f))}})}),i}function QE(n,e,t){var i;mt(t,function(r){e.hasOwnProperty(r)&&KE(e[r])&&(i=!0)}),i&&mt(t,function(r){e.hasOwnProperty(r)&&KE(e[r])?n[r]=Pt(e[r]):delete n[r]})}var JE={lineX:tL(0),lineY:tL(1),rect:{point:function(n,e,t){return n&&t.boundingRect.contain(n[0],n[1])},rect:function(n,e,t){return n&&t.boundingRect.intersect(n)}},polygon:{point:function(n,e,t){return n&&t.boundingRect.contain(n[0],n[1])&&Zc(t.range,n[0],n[1])},rect:function(n,e,t){var i=t.range;if(!n||i.length<=1)return!1;var r=n.x,o=n.y,s=n.width,l=n.height,u=i[0];return!!(Zc(i,r,o)||Zc(i,r+s,o)||Zc(i,r,o+l)||Zc(i,r+s,o+l)||Xi.create(n).contain(u[0],u[1])||$o(r,o,r+s,o,i)||$o(r,o,r,o+l,i)||$o(r+s,o,r+s,o+l,i)||$o(r,o+l,r+s,o+l,i))||void 0}}};function tL(n){var e=["x","y"],t=["width","height"];return{point:function(i,r,o){if(i)return Sw(i[n],o.range)},rect:function(i,r,o){if(i){var s=o.range,l=[i[e[n]],i[e[n]]+i[t[n]]];return l[1]<l[0]&&l.reverse(),Sw(l[0],s)||Sw(l[1],s)||Sw(s[0],l)||Sw(s[1],l)}}}}function Sw(n,e){return e[0]<=n&&n<=e[1]}var eL=["inBrush","outOfBrush"],XT="__ecInBrushSelectEvent";function nL(n){n.eachComponent({mainType:"brush"},function(e){(e.brushTargetManager=new NT(e.option,n)).setInputRanges(e.areas,n)})}function FB(n,e,t){var i,r,o=[];n.eachComponent({mainType:"brush"},function(s){t&&"takeGlobalCursor"===t.type&&s.setBrushOption("brush"===t.key?t.brushOption:{brushType:!1})}),nL(n),n.eachComponent({mainType:"brush"},function(s,l){var u={brushId:s.id,brushIndex:l,brushName:s.name,areas:Pt(s.areas),selected:[]};o.push(u);var f=s.option,p=f.brushLink,m=[],b=[],w=[],k=!1;l||(i=f.throttleType,r=f.throttleDelay);var M=zt(s.areas,function(H){var $,et,at,X=HB[H.brushType],U=se({boundingRect:X?X(H):void 0},H);return U.selectors=(et=($=U).brushType,at={point:function(At){return JE[et].point(At,at,$)},rect:function(At){return JE[et].rect(At,at,$)}}),U}),I=YT(s.option,eL,function(H){H.mappingMethod="fixed"});function O(H){return"all"===p||!!m[H]}function B(H){return!!H.length}Jt(p)&&mt(p,function(H){m[H]=1}),n.eachSeries(function(H,X){var $,et,at,U=w[X]=[];"parallel"===H.subType?(et=X,at=($=H).coordinateSystem,k=k||at.hasAxisBrushed(),O(et)&&at.eachActiveState($.getData(),function(At,Mt){"active"===At&&(b[Mt]=1)})):function($,et,at){if($.brushSelector&&(Lt=et,null==(Gt=s.option.seriesIndex)||"all"===Gt||!(Jt(Gt)?Ne(Gt,Lt)<0:Lt!==Gt))&&(mt(M,function(Mt){s.brushTargetManager.controlSeries(Mt,$,n)&&at.push(Mt),k=k||B(at)}),O(et)&&B(at))){var At=$.getData();At.each(function(Mt){iL($,at,At,Mt)&&(b[Mt]=1)})}var Lt,Gt}(H,X,U)}),n.eachSeries(function(H,X){var U={seriesId:H.id,seriesIndex:X,seriesName:H.name,dataIndex:[]};u.selected.push(U);var $=w[X],et=H.getData(),at=O(X)?function(At){return b[At]?(U.dataIndex.push(et.getRawIndex(At)),"inBrush"):"outOfBrush"}:function(At){return iL(H,$,et,At)?(U.dataIndex.push(et.getRawIndex(At)),"inBrush"):"outOfBrush"};(O(X)?k:B($))&&function(At,Mt,Lt,Gt,ne,re){var fe,ye={};function Te(Xe){return c0(Lt,fe,Xe)}function Ie(Xe,cn){S1(Lt,fe,Xe,cn)}mt(At,function(Xe){var cn=As.prepareVisualTypes(Mt[Xe]);ye[Xe]=cn}),Lt.each(function(Xe,cn){var _n=Lt.getRawDataItem(fe=Xe);if(!_n||!1!==_n.visualMap)for(var Hn=Gt.call(void 0,Xe),gn=Mt[Hn],Dn=ye[Hn],Un=0,Yn=Dn.length;Un<Yn;Un++){var Xn=Dn[Un];gn[Xn]&&gn[Xn].applyVisual(Xe,Te,Ie)}})}(eL,I,et,at)})}),function(s,l,u,f,p){if(p){var m=s.getZr();m[XT]||(m.__ecBrushSelect||(m.__ecBrushSelect=VB),Up(m,"__ecBrushSelect",u,l)(s,f))}}(e,i,r,o,t)}function VB(n,e){if(!n.isDisposed()){var t=n.getZr();t[XT]=!0,n.dispatchAction({type:"brushSelect",batch:e}),t[XT]=!1}}function iL(n,e,t,i){for(var r=0,o=e.length;r<o;r++){var s=e[r];if(n.brushSelector(i,t,s.selectors,s))return!0}}var HB={rect:function(n){return rL(n.range)},polygon:function(n){for(var e,t=n.range,i=0,r=t.length;i<r;i++){var o=t[i];o[0]<(e=e||[[1/0,-1/0],[1/0,-1/0]])[0][0]&&(e[0][0]=o[0]),o[0]>e[0][1]&&(e[0][1]=o[0]),o[1]<e[1][0]&&(e[1][0]=o[1]),o[1]>e[1][1]&&(e[1][1]=o[1])}return e&&rL(e)}};function rL(n){return new Xi(n[0][0],n[1][0],n[0][1]-n[0][0],n[1][1]-n[1][0])}var WB=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return Tt(e,n),e.prototype.init=function(t,i){this.ecModel=t,this.api=i,(this._brushController=new FM(i.getZr())).on("brush",_e(this._onBrush,this)).mount()},e.prototype.render=function(t,i,r,o){this.model=t,this._updateController(t,i,r,o)},e.prototype.updateTransform=function(t,i,r,o){nL(i),this._updateController(t,i,r,o)},e.prototype.updateVisual=function(t,i,r,o){this.updateTransform(t,i,r,o)},e.prototype.updateView=function(t,i,r,o){this._updateController(t,i,r,o)},e.prototype._updateController=function(t,i,r,o){(!o||o.$from!==t.id)&&this._brushController.setPanels(t.brushTargetManager.makePanelOpts(r)).enableBrush(t.brushOption).updateCovers(t.areas.slice())},e.prototype.dispose=function(){this._brushController.dispose()},e.prototype._onBrush=function(t){var i=this.model.id,r=this.model.brushTargetManager.setOutputRanges(t.areas,this.ecModel);(!t.isEnd||t.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:i,areas:Pt(r),$from:i}),t.isEnd&&this.api.dispatchAction({type:"brushEnd",brushId:i,areas:Pt(r),$from:i})},e.type="brush",e}(co),jB=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t.areas=[],t.brushOption={},t}return Tt(e,n),e.prototype.optionUpdated=function(t,i){var r=this.option;!i&&QE(r,t,["inBrush","outOfBrush"]);var o=r.inBrush=r.inBrush||{};r.outOfBrush=r.outOfBrush||{color:"#ddd"},o.hasOwnProperty("liftZ")||(o.liftZ=5)},e.prototype.setAreas=function(t){t&&(this.areas=zt(t,function(i){return oL(this.option,i)},this))},e.prototype.setBrushOption=function(t){this.brushOption=oL(this.option,t),this.brushType=this.brushOption.brushType},e.type="brush",e.dependencies=["geo","grid","xAxis","yAxis","parallel","series"],e.defaultOption={seriesIndex:"all",brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:"rgba(210,219,238,0.3)",borderColor:"#D2DBEE"},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:1e4},e}(rr);function oL(n,e){return Xt({brushType:n.brushType,brushMode:n.brushMode,transformable:n.transformable,brushStyle:new Er(n.brushStyle).getItemStyle(),removeOnClick:n.removeOnClick,z:n.z},e,!0)}var YB=["rect","polygon","lineX","lineY","keep","clear"],XB=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return Tt(e,n),e.prototype.render=function(t,i,r){var o,s,l;i.eachComponent({mainType:"brush"},function(u){o=u.brushType,s=u.brushOption.brushMode||"single",l=l||!!u.areas.length}),this._brushType=o,this._brushMode=s,mt(t.get("type",!0),function(u){t.setIconStatus(u,("keep"===u?"multiple"===s:"clear"===u?l:u===o)?"emphasis":"normal")})},e.prototype.updateView=function(t,i,r){this.render(t,i,r)},e.prototype.getIcons=function(){var t=this.model,i=t.get("icon",!0),r={};return mt(t.get("type",!0),function(o){i[o]&&(r[o]=i[o])}),r},e.prototype.onclick=function(t,i,r){var o=this._brushType,s=this._brushMode;"clear"===r?(i.dispatchAction({type:"axisAreaSelect",intervals:[]}),i.dispatchAction({type:"brush",command:"clear",areas:[]})):i.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:"keep"===r?o:o!==r&&r,brushMode:"keep"===r?"multiple"===s?"single":"multiple":s}})},e.getDefaultOption=function(t){return{show:!0,type:YB.slice(),icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:t.getLocaleModel().get(["toolbox","brush","title"])}},e}(ch),GB=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t.layoutMode={type:"box",ignoreSize:!0},t}return Tt(e,n),e.type="title",e.defaultOption={zlevel:0,z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:"#464646"},subtextStyle:{fontSize:12,color:"#6E7079"}},e}(rr),qB=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return Tt(e,n),e.prototype.render=function(t,i,r){if(this.group.removeAll(),t.get("show")){var o=this.group,s=t.getModel("textStyle"),l=t.getModel("subtextStyle"),u=t.get("textAlign"),f=Tn(t.get("textBaseline"),t.get("textVerticalAlign")),p=new dr({style:Zo(s,{text:t.get("text"),fill:s.getTextColor()},{disableBox:!0}),z2:10}),m=p.getBoundingRect(),b=t.get("subtext"),w=new dr({style:Zo(l,{text:b,fill:l.getTextColor(),y:m.height+t.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),k=t.get("link"),M=t.get("sublink"),I=t.get("triggerEvent",!0);p.silent=!k&&!I,w.silent=!M&&!I,k&&p.on("click",function(){bm(k,"_"+t.get("target"))}),M&&w.on("click",function(){bm(M,"_"+t.get("subtarget"))}),Fi(p).eventData=Fi(w).eventData=I?{componentType:"title",componentIndex:t.componentIndex}:null,o.add(p),b&&o.add(w);var O=o.getBoundingRect(),B=t.getBoxLayoutParams();B.width=O.width,B.height=O.height;var H=Ca(B,{width:r.getWidth(),height:r.getHeight()},t.get("padding"));u||("middle"===(u=t.get("left")||t.get("right"))&&(u="center"),"right"===u?H.x+=H.width:"center"===u&&(H.x+=H.width/2)),f||("center"===(f=t.get("top")||t.get("bottom"))&&(f="middle"),"bottom"===f?H.y+=H.height:"middle"===f&&(H.y+=H.height/2),f=f||"top"),o.x=H.x,o.y=H.y,o.markRedraw();var X={align:u,verticalAlign:f};p.setStyle(X),w.setStyle(X),O=o.getBoundingRect();var U=H.margin,$=t.getItemStyle(["color","opacity"]);$.fill=t.get("backgroundColor");var et=new vr({shape:{x:O.x-U[3],y:O.y-U[0],width:O.width+U[1]+U[3],height:O.height+U[0]+U[2],r:t.get("borderRadius")},style:$,subPixelOptimize:!0,silent:!0});o.add(et)}},e.type="title",e}(co),aL=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t.layoutMode="box",t}return Tt(e,n),e.prototype.init=function(t,i,r){this.mergeDefaultAndTheme(t,r),this._initData()},e.prototype.mergeOption=function(t){n.prototype.mergeOption.apply(this,arguments),this._initData()},e.prototype.setCurrentIndex=function(t){null==t&&(t=this.option.currentIndex);var i=this._data.count();this.option.loop?t=(t%i+i)%i:(t>=i&&(t=i-1),t<0&&(t=0)),this.option.currentIndex=t},e.prototype.getCurrentIndex=function(){return this.option.currentIndex},e.prototype.isIndexMax=function(){return this.getCurrentIndex()>=this._data.count()-1},e.prototype.setPlayState=function(t){this.option.autoPlay=!!t},e.prototype.getPlayState=function(){return!!this.option.autoPlay},e.prototype._initData=function(){var t,i=this.option,r=i.data||[],o=i.axisType,s=this._names=[];"category"===o?(t=[],mt(r,function(u,f){var p,m=No(rl(u),"");$e(u)?(p=Pt(u)).value=f:p=f,t.push(p),s.push(m)})):t=r,(this._data=new _s([{name:"value",type:{category:"ordinal",time:"time",value:"number"}[o]||"number"}],this)).initData(t,s)},e.prototype.getData=function(){return this._data},e.prototype.getCategories=function(){if("category"===this.get("axisType"))return this._names.slice()},e.type="timeline",e.defaultOption={zlevel:0,z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:"#000"},data:[]},e}(rr),sL=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return Tt(e,n),e.type="timeline.slider",e.defaultOption=Hc(aL.defaultOption,{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"circle",symbolSize:12,lineStyle:{show:!0,width:2,color:"#DAE1F5"},label:{position:"auto",show:!0,interval:"auto",rotate:0,color:"#A4B1D7"},itemStyle:{color:"#A4B1D7",borderWidth:1},checkpointStyle:{symbol:"circle",symbolSize:15,color:"#316bf3",borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0, 0, 0, 0.3)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:24,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"M2,18.5A1.52,1.52,0,0,1,.92,18a1.49,1.49,0,0,1,0-2.12L7.81,9.36,1,3.11A1.5,1.5,0,1,1,3,.89l8,7.34a1.48,1.48,0,0,1,.49,1.09,1.51,1.51,0,0,1-.46,1.1L3,18.08A1.5,1.5,0,0,1,2,18.5Z",prevIcon:"M10,.5A1.52,1.52,0,0,1,11.08,1a1.49,1.49,0,0,1,0,2.12L4.19,9.64,11,15.89a1.5,1.5,0,1,1-2,2.22L1,10.77A1.48,1.48,0,0,1,.5,9.68,1.51,1.51,0,0,1,1,8.58L9,.92A1.5,1.5,0,0,1,10,.5Z",prevBtnSize:18,nextBtnSize:18,color:"#A4B1D7",borderColor:"#A4B1D7",borderWidth:1},emphasis:{label:{show:!0,color:"#6f778d"},itemStyle:{color:"#316BF3"},controlStyle:{color:"#316BF3",borderColor:"#316BF3",borderWidth:2}},progress:{lineStyle:{color:"#316BF3"},itemStyle:{color:"#316BF3"},label:{color:"#6f778d"}},data:[]}),e}(aL);on(sL,Yp.prototype);var UB=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return Tt(e,n),e.type="timeline",e}(co),$B=function(n){function e(t,i,r,o){var s=n.call(this,t,i,r)||this;return s.type=o||"value",s}return Tt(e,n),e.prototype.getLabelModel=function(){return this.model.getModel("label")},e.prototype.isHorizontal=function(){return"horizontal"===this.model.get("orient")},e}(lu),GT=Math.PI,lL=ar(),ZB=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return Tt(e,n),e.prototype.init=function(t,i){this.api=i},e.prototype.render=function(t,i,r){if(this.model=t,this.api=r,this.ecModel=i,this.group.removeAll(),t.get("show",!0)){var o=this._layout(t,r),s=this._createGroup("_mainGroup"),l=this._createGroup("_labelGroup"),u=this._axis=this._createAxis(o,t);t.formatTooltip=function(f){return Za("nameValue",{noName:!0,value:u.scale.getLabel({value:f})})},mt(["AxisLine","AxisTick","Control","CurrentPointer"],function(f){this["_render"+f](o,s,u,t)},this),this._renderAxisLabel(o,l,u,t),this._position(o,t)}this._doPlayStop(),this._updateTicksStatus()},e.prototype.remove=function(){this._clearTimer(),this.group.removeAll()},e.prototype.dispose=function(){this._clearTimer()},e.prototype._layout=function(t,i){var r,o,s,l,Gt,ne,u=t.get(["label","position"]),f=t.get("orient"),p=(ne=i,Ca((Gt=t).getBoxLayoutParams(),{width:ne.getWidth(),height:ne.getHeight()},Gt.get("padding"))),m={horizontal:"center",vertical:(r=null==u||"auto"===u?"horizontal"===f?p.y+p.height/2<i.getHeight()/2?"-":"+":p.x+p.width/2<i.getWidth()/2?"+":"-":Ke(u)?{horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[f][u]:u)>=0||"+"===r?"left":"right"},b={horizontal:r>=0||"+"===r?"top":"bottom",vertical:"middle"},w={horizontal:0,vertical:GT/2},k="vertical"===f?p.height:p.width,M=t.getModel("controlStyle"),I=M.get("show",!0),O=I?M.get("itemSize"):0,B=I?M.get("itemGap"):0,H=O+B,X=t.get(["label","rotate"])||0;X=X*GT/180;var U=M.get("position",!0),$=I&&M.get("showPlayBtn",!0),et=I&&M.get("showPrevBtn",!0),at=I&&M.get("showNextBtn",!0),At=0,Mt=k;"left"===U||"bottom"===U?($&&(o=[0,0],At+=H),et&&(s=[At,0],At+=H),at&&(l=[Mt-O,0],Mt-=H)):($&&(o=[Mt-O,0],Mt-=H),et&&(s=[0,0],At+=H),at&&(l=[Mt-O,0],Mt-=H));var Lt=[At,Mt];return t.get("inverse")&&Lt.reverse(),{viewRect:p,mainLength:k,orient:f,rotation:w[f],labelRotation:X,labelPosOpt:r,labelAlign:t.get(["label","align"])||m[f],labelBaseline:t.get(["label","verticalAlign"])||t.get(["label","baseline"])||b[f],playPosition:o,prevBtnPosition:s,nextBtnPosition:l,axisExtent:Lt,controlSize:O,controlGap:B}},e.prototype._position=function(t,i){var r=this._mainGroup,o=this._labelGroup,s=t.viewRect;if("vertical"===t.orient){var l=[1,0,0,1,0,0],u=s.x,f=s.y+s.height;Eo(l,l,[-u,-f]),Vr(l,l,-GT/2),Eo(l,l,[u,f]),(s=s.clone()).applyTransform(l)}var p=B(s),m=B(r.getBoundingRect()),b=B(o.getBoundingRect()),w=[r.x,r.y],k=[o.x,o.y];k[0]=w[0]=p[0][0];var M,I=t.labelPosOpt;function O(X){X.originX=p[0][0]-X.x,X.originY=p[1][0]-X.y}function B(X){return[[X.x,X.x+X.width],[X.y,X.y+X.height]]}function H(X,U,$,et,at){X[et]+=$[et][at]-U[et][at]}null==I||Ke(I)?(H(w,m,p,1,M="+"===I?0:1),H(k,b,p,1,1-M)):(H(w,m,p,1,M=I>=0?0:1),k[1]=w[1]+I),r.setPosition(w),o.setPosition(k),r.rotation=o.rotation=t.rotation,O(r),O(o)},e.prototype._createAxis=function(t,i){var r=i.getData(),o=i.get("axisType"),s=function(f,p){if(p=p||f.get("type"))switch(p){case"category":return new fg({ordinalMeta:f.getCategories(),extent:[1/0,-1/0]});case"time":return new h_({locale:f.ecModel.getLocaleModel(),useUTC:f.ecModel.get("useUTC")});default:return new Zf}}(i,o);s.getTicks=function(){return r.mapArray(["value"],function(f){return{value:f}})};var l=r.getDataExtent("value");s.setExtent(l[0],l[1]),s.niceTicks();var u=new $B("value",s,t.axisExtent,o);return u.model=i,u},e.prototype._createGroup=function(t){var i=this[t]=new bt;return this.group.add(i),i},e.prototype._renderAxisLine=function(t,i,r,o){var s=r.getExtent();if(o.get(["lineStyle","show"])){var l=new wa({shape:{x1:s[0],y1:0,x2:s[1],y2:0},style:Dt({lineCap:"round"},o.getModel("lineStyle").getLineStyle()),silent:!0,z2:1});i.add(l);var u=this._progressLine=new wa({shape:{x1:s[0],x2:this._currentPointer?this._currentPointer.x:s[0],y1:0,y2:0},style:se({lineCap:"round",lineWidth:l.style.lineWidth},o.getModel(["progress","lineStyle"]).getLineStyle()),silent:!0,z2:1});i.add(u)}},e.prototype._renderAxisTick=function(t,i,r,o){var s=this,l=o.getData(),u=r.scale.getTicks();this._tickSymbols=[],mt(u,function(f){var p=r.dataToCoord(f.value),m=l.getItemModel(f.value),b=m.getModel("itemStyle"),w=m.getModel(["emphasis","itemStyle"]),k=m.getModel(["progress","itemStyle"]),M={x:p,y:0,onclick:_e(s._changeTimeline,s,f.value)},I=uL(m,b,i,M);I.ensureState("emphasis").style=w.getItemStyle(),I.ensureState("progress").style=k.getItemStyle(),to(I);var O=Fi(I);m.get("tooltip")?(O.dataIndex=f.value,O.dataModel=o):O.dataIndex=O.dataModel=null,s._tickSymbols.push(I)})},e.prototype._renderAxisLabel=function(t,i,r,o){var s=this;if(r.getLabelModel().get("show")){var l=o.getData(),u=r.getViewLabels();this._tickLabels=[],mt(u,function(f){var p=f.tickValue,m=l.getItemModel(p),b=m.getModel("label"),w=m.getModel(["emphasis","label"]),k=m.getModel(["progress","label"]),M=r.dataToCoord(f.tickValue),I=new dr({x:M,y:0,rotation:t.labelRotation-t.rotation,onclick:_e(s._changeTimeline,s,p),silent:!1,style:Zo(b,{text:f.formattedLabel,align:t.labelAlign,verticalAlign:t.labelBaseline})});I.ensureState("emphasis").style=Zo(w),I.ensureState("progress").style=Zo(k),i.add(I),to(I),lL(I).dataIndex=p,s._tickLabels.push(I)})}},e.prototype._renderControl=function(t,i,r,o){var s=t.controlSize,l=t.rotation,u=o.getModel("controlStyle").getItemStyle(),f=o.getModel(["emphasis","controlStyle"]).getItemStyle(),p=o.getPlayState(),m=o.get("inverse",!0);function b(w,k,M,I){if(w){var O=Wr(Tn(o.get(["controlStyle",k+"BtnSize"]),s),s),B=(U=[0,-O/2,O,O],et=($={x:w[0],y:w[1],originX:s/2,originY:0,rotation:I?-l:0,rectHover:!0,style:u,onclick:M}).style,at=Ua(o.get(["controlStyle",k+"Icon"]),$||{},new Xi(U[0],U[1],U[2],U[3])),et&&at.setStyle(et),at);B.ensureState("emphasis").style=f,i.add(B),to(B)}var U,$,et,at}b(t.nextBtnPosition,"next",_e(this._changeTimeline,this,m?"-":"+")),b(t.prevBtnPosition,"prev",_e(this._changeTimeline,this,m?"+":"-")),b(t.playPosition,p?"stop":"play",_e(this._handlePlayClick,this,!p),!0)},e.prototype._renderCurrentPointer=function(t,i,r,o){var s=o.getData(),l=o.getCurrentIndex(),u=s.getItemModel(l).getModel("checkpointStyle"),f=this;this._currentPointer=uL(u,u,this._mainGroup,{},this._currentPointer,{onCreate:function(m){m.draggable=!0,m.drift=_e(f._handlePointerDrag,f),m.ondragend=_e(f._handlePointerDragend,f),cL(m,f._progressLine,l,r,o,!0)},onUpdate:function(m){cL(m,f._progressLine,l,r,o)}})},e.prototype._handlePlayClick=function(t){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:t,from:this.uid})},e.prototype._handlePointerDrag=function(t,i,r){this._clearTimer(),this._pointerChangeTimeline([r.offsetX,r.offsetY])},e.prototype._handlePointerDragend=function(t){this._pointerChangeTimeline([t.offsetX,t.offsetY],!0)},e.prototype._pointerChangeTimeline=function(t,i){var r=this._toAxisCoord(t)[0],o=Li(this._axis.getExtent().slice());r>o[1]&&(r=o[1]),r<o[0]&&(r=o[0]),this._currentPointer.x=r,this._currentPointer.markRedraw(),this._progressLine.shape.x2=r,this._progressLine.dirty();var s=this._findNearestTick(r),l=this.model;(i||s!==l.getCurrentIndex()&&l.get("realtime"))&&this._changeTimeline(s)},e.prototype._doPlayStop=function(){var t=this;this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout(function(){var i=t.model;t._changeTimeline(i.getCurrentIndex()+(i.get("rewind",!0)?-1:1))},this.model.get("playInterval")))},e.prototype._toAxisCoord=function(t){return iu(t,this._mainGroup.getLocalTransform(),!0)},e.prototype._findNearestTick=function(t){var i,r=this.model.getData(),o=1/0,s=this._axis;return r.each(["value"],function(l,u){var f=s.dataToCoord(l),p=Math.abs(f-t);p<o&&(o=p,i=u)}),i},e.prototype._clearTimer=function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},e.prototype._changeTimeline=function(t){var i=this.model.getCurrentIndex();"+"===t?t=i+1:"-"===t&&(t=i-1),this.api.dispatchAction({type:"timelineChange",currentIndex:t,from:this.uid})},e.prototype._updateTicksStatus=function(){var t=this.model.getCurrentIndex(),i=this._tickSymbols,r=this._tickLabels;if(i)for(var o=0;o<i.length;o++)i&&i[o]&&i[o].toggleState("progress",o<t);if(r)for(o=0;o<r.length;o++)r&&r[o]&&r[o].toggleState("progress",lL(r[o]).dataIndex<=t)},e.type="timeline.slider",e}(UB);function uL(n,e,t,i,r,o){var s=e.get("color");r?(r.setColor(s),t.add(r),o&&o.onUpdate(r)):((r=oa(n.get("symbol"),-1,-1,2,2,s)).setStyle("strokeNoScale",!0),t.add(r),o&&o.onCreate(r));var l=e.getItemStyle(["color"]);r.setStyle(l),i=Xt({rectHover:!0,z2:100},i,!0);var u=tg(n.get("symbolSize"));i.scaleX=u[0]/2,i.scaleY=u[1]/2;var f=eg(n.get("symbolOffset"),u);f&&(i.x=(i.x||0)+f[0],i.y=(i.y||0)+f[1]);var p=n.get("symbolRotate");return i.rotation=(p||0)*Math.PI/180||0,r.attr(i),r.updateTransform(),r}function cL(n,e,t,i,r,o){if(!n.dragging){var s=r.getModel("checkpointStyle"),l=i.dataToCoord(r.getData().get("value",t));if(o||!s.get("animation",!0))n.attr({x:l,y:0}),e&&e.attr({shape:{x2:l}});else{var u={duration:s.get("animationDuration",!0),easing:s.get("animationEasing",!0)};n.stopAnimation(null,!0),n.animateTo({x:l,y:0},u),e&&e.animateTo({shape:{x2:l}},u)}}}function KB(n){var e=n&&n.timeline;Jt(e)||(e=e?[e]:[]),mt(e,function(t){t&&function(i){var r=i.type,o={number:"value",time:"time"};if(o[r]&&(i.axisType=o[r],delete i.type),hL(i),Vv(i,"controlPosition")){var s=i.controlStyle||(i.controlStyle={});Vv(s,"position")||(s.position=i.controlPosition),"none"!==s.position||Vv(s,"show")||(s.show=!1,delete s.position),delete i.controlPosition}mt(i.data||[],function(l){$e(l)&&!Jt(l)&&(!Vv(l,"value")&&Vv(l,"name")&&(l.value=l.name),hL(l))})}(t)})}function hL(n){var e=n.itemStyle||(n.itemStyle={}),t=e.emphasis||(e.emphasis={}),i=n.label||n.label||{},r=i.normal||(i.normal={}),o={normal:1,emphasis:1};mt(i,function(s,l){o[l]||Vv(r,l)||(r[l]=s)}),t.label&&!Vv(i,"emphasis")&&(i.emphasis=t.label,delete t.label)}function Vv(n,e){return n.hasOwnProperty(e)}function qT(n,e){if(!n)return!1;for(var t=Jt(n)?n:[n],i=0;i<t.length;i++)if(t[i]&&t[i][e])return!0;return!1}function Fk(n){Xo(n,"label",["show"])}var Vk=ar(),lp=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t.createdBySelf=!1,t}return Tt(e,n),e.prototype.init=function(t,i,r){this.mergeDefaultAndTheme(t,r),this._mergeOption(t,r,!1,!0)},e.prototype.isAnimationEnabled=function(){if(Wt.node)return!1;var t=this.__hostSeries;return this.getShallow("animation")&&t&&t.isAnimationEnabled()},e.prototype.mergeOption=function(t,i){this._mergeOption(t,i,!1,!1)},e.prototype._mergeOption=function(t,i,r,o){var s=this.mainType;r||i.eachSeries(function(l){var u=l.get(this.mainType,!0),f=Vk(l)[s];u&&u.data?(f?f._mergeOption(u,i,!0):(o&&Fk(u),mt(u.data,function(p){p instanceof Array?(Fk(p[0]),Fk(p[1])):Fk(p)}),Dt(f=this.createMarkerModelFromSeries(u,this,i),{mainType:this.mainType,seriesIndex:l.seriesIndex,name:l.name,createdBySelf:!0}),f.__hostSeries=l),Vk(l)[s]=f):Vk(l)[s]=null},this)},e.prototype.formatTooltip=function(t,i,r){var o=this.getData(),s=this.getRawValue(t),l=o.getName(t);return Za("section",{header:this.name,blocks:[Za("nameValue",{name:l,value:s,noName:!l,noValue:null==s})]})},e.prototype.getData=function(){return this._data},e.prototype.setData=function(t){this._data=t},e.getMarkerModelFromSeries=function(t,i){return Vk(t)[i]},e.type="marker",e.dependencies=["series","grid","polar","geo"],e}(rr);on(lp,Yp.prototype);var QB=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return Tt(e,n),e.prototype.createMarkerModelFromSeries=function(t,i,r){return new e(t,i,r)},e.type="markPoint",e.defaultOption={zlevel:0,z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}},e}(lp);function Hk(n,e,t,i,r,o){var s=[],l=Qc(e,i)?e.getCalculationInfo("stackResultDimension"):i,u=$T(e,l,n),f=e.indicesOfNearest(l,u)[0];s[r]=e.get(t,f),s[o]=e.get(l,f);var p=e.get(i,f),m=Hi(e.get(i,f));return(m=Math.min(m,20))>=0&&(s[o]=+s[o].toFixed(m)),[s,p]}var UT={min:de(Hk,"min"),max:de(Hk,"max"),average:de(Hk,"average"),median:de(Hk,"median")};function Cw(n,e){var m,t=n.getData(),i=n.coordinateSystem;if(e&&(m=e,isNaN(parseFloat(m.x))||isNaN(parseFloat(m.y)))&&!Jt(e.coord)&&i){var r=i.dimensions,o=dL(e,t,i,n);if((e=Pt(e)).type&&UT[e.type]&&o.baseAxis&&o.valueAxis){var s=Ne(r,o.baseAxis.dim),l=Ne(r,o.valueAxis.dim),u=UT[e.type](t,o.baseDataDim,o.valueDataDim,s,l);e.coord=u[0],e.value=u[1]}else{for(var f=[null!=e.xAxis?e.xAxis:e.radiusAxis,null!=e.yAxis?e.yAxis:e.angleAxis],p=0;p<2;p++)UT[f[p]]&&(f[p]=$T(t,t.mapDimension(r[p]),f[p]));e.coord=f}}return e}function dL(n,e,t,i){var s,l,r={};return null!=n.valueIndex||null!=n.valueDim?(r.valueDataDim=null!=n.valueIndex?e.getDimension(n.valueIndex):n.valueDim,r.valueAxis=t.getAxis((s=r.valueDataDim,(l=i.getData().getDimensionInfo(s))&&l.coordDim)),r.baseAxis=t.getOtherAxis(r.valueAxis),r.baseDataDim=e.mapDimension(r.baseAxis.dim)):(r.baseAxis=i.getBaseAxis(),r.valueAxis=t.getOtherAxis(r.baseAxis),r.baseDataDim=e.mapDimension(r.baseAxis.dim),r.valueDataDim=e.mapDimension(r.valueAxis.dim)),r}function kw(n,e){return!(n&&n.containData&&e.coord&&(t=e,isNaN(parseFloat(t.x))&&isNaN(parseFloat(t.y))))||n.containData(e.coord);var t}function fL(n,e){return n?function(t,i,r,o){return zh(o<2?t.coord&&t.coord[o]:t.value,e[o])}:function(t,i,r,o){return zh(t.value,e[o])}}function $T(n,e,t){if("average"===t){var i=0,r=0;return n.each(e,function(o,s){isNaN(o)||(i+=o,r++)}),i/r}return"median"===t?n.getMedian(e):n.getDataExtent(e)["max"===t?1:0]}var ZT=ar(),KT=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return Tt(e,n),e.prototype.init=function(){this.markerGroupMap=ii()},e.prototype.render=function(t,i,r){var o=this,s=this.markerGroupMap;s.each(function(l){ZT(l).keep=!1}),i.eachSeries(function(l){var u=lp.getMarkerModelFromSeries(l,o.type);u&&o.renderSeries(l,u,i,r)}),s.each(function(l){!ZT(l).keep&&o.group.remove(l.group)})},e.prototype.markKeep=function(t){ZT(t).keep=!0},e.prototype.blurSeries=function(t){var i=this;mt(t,function(r){var o=lp.getMarkerModelFromSeries(r,i.type);o&&o.getData().eachItemGraphicEl(function(s){s&&_p(s)})})},e.type="marker",e}(co);function pL(n,e,t){var i=e.coordinateSystem;n.each(function(r){var o,s=n.getItemModel(r),l=In(s.get("x"),t.getWidth()),u=In(s.get("y"),t.getHeight());if(isNaN(l)||isNaN(u)){if(e.getMarkerPosition)o=e.getMarkerPosition(n.getValues(n.dimensions,r));else if(i){var f=n.get(i.dimensions[0],r),p=n.get(i.dimensions[1],r);o=i.dataToPoint([f,p])}}else o=[l,u];isNaN(l)||(o[0]=l),isNaN(u)||(o[1]=u),n.setItemLayout(r,o)})}var JB=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return Tt(e,n),e.prototype.updateTransform=function(t,i,r){i.eachSeries(function(o){var s=lp.getMarkerModelFromSeries(o,"markPoint");s&&(pL(s.getData(),o,r),this.markerGroupMap.get(o.id).updateLayout())},this)},e.prototype.renderSeries=function(t,i,r,o){var s=t.coordinateSystem,l=t.id,u=t.getData(),f=this.markerGroupMap,p=f.get(l)||f.set(l,new ep),m=function(b,w,k){var M;M=b?zt(b&&b.dimensions,function(H){return Dt(Dt({},w.getData().getDimensionInfo(w.getData().mapDimension(H))||{}),{name:H,ordinalMeta:null})}):[{name:"value",type:"float"}];var I=new _s(M,k),O=zt(k.get("data"),de(Cw,w));b&&(O=Ae(O,de(kw,b)));var B=fL(!!b,M);return I.initData(O,null,B),I}(s,t,i);i.setData(m),pL(i.getData(),t,o),m.each(function(b){var w=m.getItemModel(b),k=w.getShallow("symbol"),M=w.getShallow("symbolSize"),I=w.getShallow("symbolRotate"),O=w.getShallow("symbolOffset"),B=w.getShallow("symbolKeepAspect");if(Fe(k)||Fe(M)||Fe(I)||Fe(O)){var H=i.getRawValue(b),X=i.getDataParams(b);Fe(k)&&(k=k(H,X)),Fe(M)&&(M=M(H,X)),Fe(I)&&(I=I(H,X)),Fe(O)&&(O=O(H,X))}var U=w.getModel("itemStyle").getItemStyle(),$=Jp(u,"color");U.fill||(U.fill=$),m.setItemVisual(b,{symbol:k,symbolSize:M,symbolRotate:I,symbolOffset:O,symbolKeepAspect:B,style:U})}),p.updateData(m),this.group.add(p.group),m.eachItemGraphicEl(function(b){b.traverse(function(w){Fi(w).dataModel=i})}),this.markKeep(p),p.group.silent=i.get("silent")||t.get("silent")},e.type="markPoint",e}(KT),tz=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return Tt(e,n),e.prototype.createMarkerModelFromSeries=function(t,i,r){return new e(t,i,r)},e.type="markLine",e.defaultOption={zlevel:0,z:5,symbol:["circle","arrow"],symbolSize:[8,16],symbolOffset:0,precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end",distance:5},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"},e}(lp),Wk=ar(),ez=function(n,e,t,i){var r,o=n.getData();if(Jt(i))r=i;else{var s=i.type;if("min"===s||"max"===s||"average"===s||"median"===s||null!=i.xAxis||null!=i.yAxis){var l=void 0,u=void 0;if(null!=i.yAxis||null!=i.xAxis)l=e.getAxis(null!=i.yAxis?"y":"x"),u=On(i.yAxis,i.xAxis);else{var f=dL(i,o,e,n);l=f.valueAxis,u=$T(o,X0(o,f.valueDataDim),s)}var p="x"===l.dim?0:1,m=1-p,b=Pt(i),w={coord:[]};b.type=null,b.coord=[],b.coord[m]=-1/0,w.coord[m]=1/0;var k=t.get("precision");k>=0&&"number"==typeof u&&(u=+u.toFixed(Math.min(k,20))),b.coord[p]=w.coord[p]=u,r=[b,w,{type:s,valueIndex:i.valueIndex,value:u}]}else r=[]}var M=[Cw(n,r[0]),Cw(n,r[1]),Dt({},r[2])];return M[2].type=M[2].type||null,Xt(M[2],M[0]),Xt(M[2],M[1]),M};function jk(n){return!isNaN(n)&&!isFinite(n)}function gL(n,e,t,i){var r=1-n,o=i.dimensions[n];return jk(e[r])&&jk(t[r])&&e[n]===t[n]&&i.getAxis(o).containData(e[n])}function nz(n,e){if("cartesian2d"===n.type){var t=e[0].coord,i=e[1].coord;if(t&&i&&(gL(1,t,i,n)||gL(0,t,i,n)))return!0}return kw(n,e[0])&&kw(n,e[1])}function QT(n,e,t,i,r){var o,s=i.coordinateSystem,l=n.getItemModel(e),u=In(l.get("x"),r.getWidth()),f=In(l.get("y"),r.getHeight());if(isNaN(u)||isNaN(f)){if(i.getMarkerPosition)o=i.getMarkerPosition(n.getValues(n.dimensions,e));else{var p=s.dimensions,m=n.get(p[0],e),b=n.get(p[1],e);o=s.dataToPoint([m,b])}if(dl(s,"cartesian2d")){var w=s.getAxis("x"),k=s.getAxis("y");jk(n.get((p=s.dimensions)[0],e))?o[0]=w.toGlobalCoord(w.getExtent()[t?0:1]):jk(n.get(p[1],e))&&(o[1]=k.toGlobalCoord(k.getExtent()[t?0:1]))}isNaN(u)||(o[0]=u),isNaN(f)||(o[1]=f)}else o=[u,f];n.setItemLayout(e,o)}var iz=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return Tt(e,n),e.prototype.updateTransform=function(t,i,r){i.eachSeries(function(o){var s=lp.getMarkerModelFromSeries(o,"markLine");if(s){var l=s.getData(),u=Wk(s).from,f=Wk(s).to;u.each(function(p){QT(u,p,!0,o,r),QT(f,p,!1,o,r)}),l.each(function(p){l.setItemLayout(p,[u.getItemLayout(p),f.getItemLayout(p)])}),this.markerGroupMap.get(o.id).updateLayout()}},this)},e.prototype.renderSeries=function(t,i,r,o){var s=t.coordinateSystem,l=t.id,u=t.getData(),f=this.markerGroupMap,p=f.get(l)||f.set(l,new AM);this.group.add(p.group);var m=function(X,U,$){var et;et=X?zt(X&&X.dimensions,function(ne){return Dt(Dt({},U.getData().getDimensionInfo(U.getData().mapDimension(ne))||{}),{name:ne,ordinalMeta:null})}):[{name:"value",type:"float"}];var at=new _s(et,$),At=new _s(et,$),Mt=new _s([],$),Lt=zt($.get("data"),de(ez,U,X,$));X&&(Lt=Ae(Lt,de(nz,X)));var Gt=fL(!!X,et);return at.initData(zt(Lt,function(ne){return ne[0]}),null,Gt),At.initData(zt(Lt,function(ne){return ne[1]}),null,Gt),Mt.initData(zt(Lt,function(ne){return ne[2]})),Mt.hasItemOption=!0,{from:at,to:At,line:Mt}}(s,t,i),b=m.from,w=m.to,k=m.line;Wk(i).from=b,Wk(i).to=w,i.setData(k);var M=i.get("symbol"),I=i.get("symbolSize"),O=i.get("symbolRotate"),B=i.get("symbolOffset");function H(X,U,$){var et=X.getItemModel(U);QT(X,U,$,t,o);var at=et.getModel("itemStyle").getItemStyle();null==at.fill&&(at.fill=Jp(u,"color")),X.setItemVisual(U,{symbolKeepAspect:et.get("symbolKeepAspect"),symbolOffset:Tn(et.get("symbolOffset",!0),B[$?0:1]),symbolRotate:Tn(et.get("symbolRotate",!0),O[$?0:1]),symbolSize:Tn(et.get("symbolSize"),I[$?0:1]),symbol:Tn(et.get("symbol",!0),M[$?0:1]),style:at})}Jt(M)||(M=[M,M]),Jt(I)||(I=[I,I]),Jt(O)||(O=[O,O]),Jt(B)||(B=[B,B]),m.from.each(function(X){H(b,X,!0),H(w,X,!1)}),k.each(function(X){var U=k.getItemModel(X).getModel("lineStyle").getLineStyle();k.setItemLayout(X,[b.getItemLayout(X),w.getItemLayout(X)]),null==U.stroke&&(U.stroke=b.getItemVisual(X,"style").fill),k.setItemVisual(X,{fromSymbolKeepAspect:b.getItemVisual(X,"symbolKeepAspect"),fromSymbolOffset:b.getItemVisual(X,"symbolOffset"),fromSymbolRotate:b.getItemVisual(X,"symbolRotate"),fromSymbolSize:b.getItemVisual(X,"symbolSize"),fromSymbol:b.getItemVisual(X,"symbol"),toSymbolKeepAspect:w.getItemVisual(X,"symbolKeepAspect"),toSymbolOffset:w.getItemVisual(X,"symbolOffset"),toSymbolRotate:w.getItemVisual(X,"symbolRotate"),toSymbolSize:w.getItemVisual(X,"symbolSize"),toSymbol:w.getItemVisual(X,"symbol"),style:U})}),p.updateData(k),m.line.eachItemGraphicEl(function(X,U){X.traverse(function($){Fi($).dataModel=i})}),this.markKeep(p),p.group.silent=i.get("silent")||t.get("silent")},e.type="markLine",e}(KT),rz=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return Tt(e,n),e.prototype.createMarkerModelFromSeries=function(t,i,r){return new e(t,i,r)},e.type="markArea",e.defaultOption={zlevel:0,z:1,tooltip:{trigger:"item"},animation:!1,label:{show:!0,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:"top"}}},e}(lp),Yk=ar(),oz=function(n,e,t,i){var r=Cw(n,i[0]),o=Cw(n,i[1]),s=r.coord,l=o.coord;s[0]=On(s[0],-1/0),s[1]=On(s[1],-1/0),l[0]=On(l[0],1/0),l[1]=On(l[1],1/0);var u=vt([{},r,o]);return u.coord=[r.coord,o.coord],u.x0=r.x,u.y0=r.y,u.x1=o.x,u.y1=o.y,u};function Xk(n){return!isNaN(n)&&!isFinite(n)}function mL(n,e,t,i){var r=1-n;return Xk(e[r])&&Xk(t[r])}function az(n,e){var t=e.coord[0],i=e.coord[1];return!!(dl(n,"cartesian2d")&&t&&i&&(mL(1,t,i)||mL(0,t,i)))||kw(n,{coord:t,x:e.x0,y:e.y0})||kw(n,{coord:i,x:e.x1,y:e.y1})}function vL(n,e,t,i,r){var o,s=i.coordinateSystem,l=n.getItemModel(e),u=In(l.get(t[0]),r.getWidth()),f=In(l.get(t[1]),r.getHeight());if(isNaN(u)||isNaN(f)){if(i.getMarkerPosition)o=i.getMarkerPosition(n.getValues(t,e));else{var p=[w=n.get(t[0],e),k=n.get(t[1],e)];s.clampData&&s.clampData(p,p),o=s.dataToPoint(p,!0)}if(dl(s,"cartesian2d")){var m=s.getAxis("x"),b=s.getAxis("y"),w=n.get(t[0],e),k=n.get(t[1],e);Xk(w)?o[0]=m.toGlobalCoord(m.getExtent()["x0"===t[0]?0:1]):Xk(k)&&(o[1]=b.toGlobalCoord(b.getExtent()["y0"===t[1]?0:1]))}isNaN(u)||(o[0]=u),isNaN(f)||(o[1]=f)}else o=[u,f];return o}var yL=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]],sz=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return Tt(e,n),e.prototype.updateTransform=function(t,i,r){i.eachSeries(function(o){var s=lp.getMarkerModelFromSeries(o,"markArea");if(s){var l=s.getData();l.each(function(u){var f=zt(yL,function(p){return vL(l,u,p,o,r)});l.setItemLayout(u,f),l.getItemGraphicEl(u).setShape("points",f)})}},this)},e.prototype.renderSeries=function(t,i,r,o){var s=t.coordinateSystem,l=t.id,u=t.getData(),f=this.markerGroupMap,p=f.get(l)||f.set(l,{group:new bt});this.group.add(p.group),this.markKeep(p);var m=function(b,w,k){var M,I;if(b){var B=zt(b&&b.dimensions,function(U){var $=w.getData();return Dt(Dt({},$.getDimensionInfo($.mapDimension(U))||{}),{name:U,ordinalMeta:null})});I=zt(["x0","y0","x1","y1"],function(U,$){return{name:U,type:B[$%2].type}}),M=new _s(I,k)}else M=new _s(I=[{name:"value",type:"float"}],k);var H=zt(k.get("data"),de(oz,w,b,k));return b&&(H=Ae(H,de(az,b))),M.initData(H,null,b?function(U,$,et,at){return zh(U.coord[Math.floor(at/2)][at%2],I[at])}:function(U,$,et,at){return zh(U.value,I[at])}),M.hasItemOption=!0,M}(s,t,i);i.setData(m),m.each(function(b){var w=zt(yL,function(et){return vL(m,b,et,t,o)}),k=s.getAxis("x").scale,M=s.getAxis("y").scale,I=k.getExtent(),O=M.getExtent(),B=[k.parse(m.get("x0",b)),k.parse(m.get("x1",b))],H=[M.parse(m.get("y0",b)),M.parse(m.get("y1",b))];Li(B),Li(H),m.setItemLayout(b,{points:w,allClipped:I[0]>B[1]||I[1]<B[0]||O[0]>H[1]||O[1]<H[0]});var U=m.getItemModel(b).getModel("itemStyle").getItemStyle(),$=Jp(u,"color");U.fill||(U.fill=$,"string"==typeof U.fill&&(U.fill=Us(U.fill,.4))),U.stroke||(U.stroke=$),m.setItemVisual(b,"style",U)}),m.diff(Yk(p).data).add(function(b){var w=m.getItemLayout(b);if(!w.allClipped){var k=new qa({shape:{points:w.points}});m.setItemGraphicEl(b,k),p.group.add(k)}}).update(function(b,w){var k=Yk(p).data.getItemGraphicEl(w),M=m.getItemLayout(b);M.allClipped?k&&p.group.remove(k):(k?xr(k,{shape:{points:M.points}},i,b):k=new qa({shape:{points:M.points}}),m.setItemGraphicEl(b,k),p.group.add(k))}).remove(function(b){var w=Yk(p).data.getItemGraphicEl(b);p.group.remove(w)}).execute(),m.eachItemGraphicEl(function(b,w){var k=m.getItemModel(w),M=m.getItemVisual(w,"style");b.useStyle(m.getItemVisual(w,"style")),xs(b,Sa(k),{labelFetcher:i,labelDataIndex:w,defaultText:m.getName(w)||"",inheritColor:"string"==typeof M.fill?Us(M.fill,1):"#000"}),ls(b,k),to(b),Fi(b).dataModel=i}),Yk(p).data=m,p.group.silent=i.get("silent")||t.get("silent")},e.type="markArea",e}(KT),JT=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t.layoutMode={type:"box",ignoreSize:!0},t}return Tt(e,n),e.prototype.init=function(t,i,r){this.mergeDefaultAndTheme(t,r),t.selected=t.selected||{},this._updateSelector(t)},e.prototype.mergeOption=function(t,i){n.prototype.mergeOption.call(this,t,i),this._updateSelector(t)},e.prototype._updateSelector=function(t){var i=t.selector,r=this.ecModel;!0===i&&(i=t.selector=["all","inverse"]),Jt(i)&&mt(i,function(o,s){var l,u;Ke(o)&&(o={type:o}),i[s]=Xt(o,(l=r,"all"===(u=o.type)?{type:"all",title:l.getLocaleModel().get(["legend","selector","all"])}:"inverse"===u?{type:"inverse",title:l.getLocaleModel().get(["legend","selector","inverse"])}:void 0))})},e.prototype.optionUpdated=function(){this._updateData(this.ecModel);var t=this._data;if(t[0]&&"single"===this.get("selectedMode")){for(var i=!1,r=0;r<t.length;r++){var o=t[r].get("name");if(this.isSelected(o)){this.select(o),i=!0;break}}!i&&this.select(t[0].get("name"))}},e.prototype._updateData=function(t){var i=[],r=[];t.eachRawSeries(function(s){var l;if(r.push(s.name),s.legendVisualProvider){var f=s.legendVisualProvider.getAllNames();t.isSeriesFiltered(s)||(r=r.concat(f)),f.length?i=i.concat(f):l=!0}else l=!0;l&&Sl(s)&&i.push(s.name)}),this._availableNames=r;var o=zt(this.get("data")||i,function(s){return"string"!=typeof s&&"number"!=typeof s||(s={name:s}),new Er(s,this,this.ecModel)},this);this._data=o},e.prototype.getData=function(){return this._data},e.prototype.select=function(t){var i=this.option.selected;"single"===this.get("selectedMode")&&mt(this._data,function(r){i[r.get("name")]=!1}),i[t]=!0},e.prototype.unSelect=function(t){"single"!==this.get("selectedMode")&&(this.option.selected[t]=!1)},e.prototype.toggleSelected=function(t){var i=this.option.selected;i.hasOwnProperty(t)||(i[t]=!0),this[i[t]?"unSelect":"select"](t)},e.prototype.allSelect=function(){var i=this.option.selected;mt(this._data,function(r){i[r.get("name",!0)]=!0})},e.prototype.inverseSelect=function(){var i=this.option.selected;mt(this._data,function(r){var o=r.get("name",!0);i.hasOwnProperty(o)||(i[o]=!0),i[o]=!i[o]})},e.prototype.isSelected=function(t){var i=this.option.selected;return!(i.hasOwnProperty(t)&&!i[t])&&Ne(this._availableNames,t)>=0},e.prototype.getOrient=function(){return"vertical"===this.get("orient")?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},e.type="legend.plain",e.dependencies=["series"],e.defaultOption={zlevel:0,z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:"#ccc",inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}},e}(rr),Ox=de,t2=mt,Gk=bt,xL=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t.newlineDisabled=!1,t}return Tt(e,n),e.prototype.init=function(){this.group.add(this._contentGroup=new Gk),this.group.add(this._selectorGroup=new Gk),this._isFirstRender=!0},e.prototype.getContentGroup=function(){return this._contentGroup},e.prototype.getSelectorGroup=function(){return this._selectorGroup},e.prototype.render=function(t,i,r){var o=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),t.get("show",!0)){var s=t.get("align"),l=t.get("orient");s&&"auto"!==s||(s="right"===t.get("left")&&"vertical"===l?"right":"left");var u=t.get("selector",!0),f=t.get("selectorPosition",!0);!u||f&&"auto"!==f||(f="horizontal"===l?"end":"start"),this.renderInner(s,t,i,r,u,l,f);var p=t.getBoxLayoutParams(),m={width:r.getWidth(),height:r.getHeight()},b=t.get("padding"),w=Ca(p,m,b),k=this.layoutInner(t,s,w,o,u,f),M=Ca(se({width:k.width,height:k.height},p),m,b);this.group.x=M.x-k.x,this.group.y=M.y-k.y,this.group.markRedraw(),this.group.add(this._backgroundEl=AE(k,t))}},e.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},e.prototype.renderInner=function(t,i,r,o,s,l,u){var f=this.getContentGroup(),p=ii(),m=i.get("selectedMode"),b=[];r.eachRawSeries(function(w){!w.get("legendHoverLink")&&b.push(w.id)}),t2(i.getData(),function(w,k){var M=w.get("name");if(!this.newlineDisabled&&(""===M||"\n"===M)){var I=new Gk;return I.newline=!0,void f.add(I)}var O=r.getSeriesByName(M)[0];if(!p.get(M))if(O){var B=O.getData(),H=B.getVisual("legendLineStyle")||{},X=B.getVisual("legendIcon"),U=B.getVisual("style");this._createItem(O,M,k,w,i,t,H,U,X,m).on("click",Ox(bL,M,null,o,b)).on("mouseover",Ox(e2,O.name,null,o,b)).on("mouseout",Ox(n2,O.name,null,o,b)),p.set(M,!0)}else r.eachRawSeries(function($){if(!p.get(M)&&$.legendVisualProvider){var et=$.legendVisualProvider;if(!et.containName(M))return;var at=et.indexOfName(M),At=et.getItemVisual(at,"style"),Mt=et.getItemVisual(at,"legendIcon"),Lt=ea(At.fill);Lt&&0===Lt[3]&&(Lt[3]=.2,At.fill=Wo(Lt,"rgba")),this._createItem($,M,k,w,i,t,{},At,Mt,m).on("click",Ox(bL,null,M,o,b)).on("mouseover",Ox(e2,null,M,o,b)).on("mouseout",Ox(n2,null,M,o,b)),p.set(M,!0)}},this)},this),s&&this._createSelector(s,i,o,l,u)},e.prototype._createSelector=function(t,i,r,o,s){var l=this.getSelectorGroup();t2(t,function(u){var f=u.type,p=new dr({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){r.dispatchAction({type:"all"===f?"legendAllSelect":"legendInverseSelect"})}});l.add(p),xs(p,{normal:i.getModel("selectorLabel"),emphasis:i.getModel(["emphasis","selectorLabel"])},{defaultText:u.title}),to(p)})},e.prototype._createItem=function(t,i,r,o,s,l,u,f,p,m){var re,fe,ye,b=t.visualDrawType,w=s.get("itemWidth"),k=s.get("itemHeight"),M=s.isSelected(i),I=o.get("symbolRotate"),O=o.get("symbolKeepAspect"),B=o.get("icon"),H=function(re,fe,ye,Te,Ie,Re){function Xe(Yn,Xn){"auto"===Yn.lineWidth&&(Yn.lineWidth=Xn.lineWidth>0?2:0),t2(Yn,function(di,fi){"inherit"===Yn[fi]&&(Yn[fi]=Xn[fi])})}var cn=fe.getModel("itemStyle").getItemStyle(),_n=0===re.lastIndexOf("empty",0)?"fill":"stroke";cn.decal=Te.decal,"inherit"===cn.fill&&(cn.fill=Te[Ie]),"inherit"===cn.stroke&&(cn.stroke=Te[_n]),"inherit"===cn.opacity&&(cn.opacity=("fill"===Ie?Te:ye).opacity),Xe(cn,Te);var Hn=fe.getModel("lineStyle"),gn=Hn.getLineStyle();if(Xe(gn,ye),"auto"===cn.fill&&(cn.fill=Te.fill),"auto"===cn.stroke&&(cn.stroke=Te.fill),"auto"===gn.stroke&&(gn.stroke=Te.fill),!Re){var Dn=fe.get("inactiveBorderWidth");cn.lineWidth="auto"===Dn?Te.lineWidth>0&&cn[_n]?2:0:cn.lineWidth,cn.fill=fe.get("inactiveColor"),cn.stroke=fe.get("inactiveBorderColor"),gn.stroke=Hn.get("inactiveColor"),gn.lineWidth=Hn.get("inactiveWidth")}return{itemStyle:cn,lineStyle:gn}}(p=B||p||"roundRect",o,u,f,b,M),X=new Gk,U=o.getModel("textStyle");if("function"!=typeof t.getLegendIcon||B&&"inherit"!==B){var $="inherit"===B&&t.getData().getVisual("symbol")?"inherit"===I?t.getData().getVisual("symbolRotate"):I:0;X.add(((ye=oa(fe=(re={itemWidth:w,itemHeight:k,icon:p,iconRotate:$,itemStyle:H.itemStyle,lineStyle:H.lineStyle,symbolKeepAspect:O}).icon||"roundRect",0,0,re.itemWidth,re.itemHeight,re.itemStyle.fill,re.symbolKeepAspect)).setStyle(re.itemStyle),ye.rotation=(re.iconRotate||0)*Math.PI/180,ye.setOrigin([re.itemWidth/2,re.itemHeight/2]),fe.indexOf("empty")>-1&&(ye.style.stroke=ye.style.fill,ye.style.fill="#fff",ye.style.lineWidth=2),ye))}else X.add(t.getLegendIcon({itemWidth:w,itemHeight:k,icon:p,iconRotate:I,itemStyle:H.itemStyle,lineStyle:H.lineStyle,symbolKeepAspect:O}));var et="left"===l?w+5:-5,at=l,At=s.get("formatter"),Mt=i;"string"==typeof At&&At?Mt=At.replace("{name}",null!=i?i:""):"function"==typeof At&&(Mt=At(i));var Lt=o.get("inactiveColor");X.add(new dr({style:Zo(U,{text:Mt,x:et,y:k/2,fill:M?U.getTextColor():Lt,align:at,verticalAlign:"middle"})}));var Gt=new vr({shape:X.getBoundingRect(),invisible:!0}),ne=o.getModel("tooltip");return ne.get("show")&&bf({el:Gt,componentModel:s,itemName:i,itemTooltipOption:ne.option}),X.add(Gt),X.eachChild(function(re){re.silent=!0}),Gt.silent=!m,this.getContentGroup().add(X),to(X),X.__legendDataIndex=r,X},e.prototype.layoutInner=function(t,i,r,o,s,l){var u=this.getContentGroup(),f=this.getSelectorGroup();kf(t.get("orient"),u,t.get("itemGap"),r.width,r.height);var p=u.getBoundingRect(),m=[-p.x,-p.y];if(f.markRedraw(),u.markRedraw(),s){kf("horizontal",f,t.get("selectorItemGap",!0));var b=f.getBoundingRect(),w=[-b.x,-b.y],k=t.get("selectorButtonGap",!0),M=t.getOrient().index,I=0===M?"width":"height",O=0===M?"height":"width",B=0===M?"y":"x";"end"===l?w[M]+=p[I]+k:m[M]+=b[I]+k,w[1-M]+=p[O]/2-b[O]/2,f.x=w[0],f.y=w[1],u.x=m[0],u.y=m[1];var H={x:0,y:0};return H[I]=p[I]+k+b[I],H[O]=Math.max(p[O],b[O]),H[B]=Math.min(0,b[B]+w[1-M]),H}return u.x=m[0],u.y=m[1],this.group.getBoundingRect()},e.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},e.type="legend.plain",e}(co);function bL(n,e,t,i){n2(n,e,t,i),t.dispatchAction({type:"legendToggleSelect",name:null!=n?n:e}),e2(n,e,t,i)}function _L(n){for(var e,t=n.getZr().storage.getDisplayList(),i=0,r=t.length;i<r&&!(e=t[i].states.emphasis);)i++;return e&&e.hoverLayer}function e2(n,e,t,i){_L(t)||t.dispatchAction({type:"highlight",seriesName:n,name:e,excludeSeriesId:i})}function n2(n,e,t,i){_L(t)||t.dispatchAction({type:"downplay",seriesName:n,name:e,excludeSeriesId:i})}function lz(n){var e=n.findComponents({mainType:"legend"});e&&e.length&&n.filterSeries(function(t){for(var i=0;i<e.length;i++)if(!e[i].isSelected(t.name))return!1;return!0})}function Aw(n,e,t){var i,r={},o="toggleSelected"===n;return t.eachComponent("legend",function(s){o&&null!=i?s[i?"select":"unSelect"](e.name):"allSelect"===n||"inverseSelect"===n?s[n]():(s[n](e.name),i=s.isSelected(e.name)),mt(s.getData(),function(l){var u=l.get("name");if("\n"!==u&&""!==u){var f=s.isSelected(u);r[u]=r.hasOwnProperty(u)?r[u]&&f:f}})}),"allSelect"===n||"inverseSelect"===n?{selected:r}:{name:e.name,selected:r}}function wL(n){n.registerComponentModel(JT),n.registerComponentView(xL),n.registerProcessor(n.PRIORITY.PROCESSOR.SERIES_FILTER,lz),n.registerSubTypeDefaulter("legend",function(){return"plain"}),function(e){e.registerAction("legendToggleSelect","legendselectchanged",de(Aw,"toggleSelected")),e.registerAction("legendAllSelect","legendselectall",de(Aw,"allSelect")),e.registerAction("legendInverseSelect","legendinverseselect",de(Aw,"inverseSelect")),e.registerAction("legendSelect","legendselected",de(Aw,"select")),e.registerAction("legendUnSelect","legendunselected",de(Aw,"unSelect"))}(n)}var uz=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return Tt(e,n),e.prototype.setScrollDataIndex=function(t){this.option.scrollDataIndex=t},e.prototype.init=function(t,i,r){var o=Af(t);n.prototype.init.call(this,t,i,r),SL(this,t,o)},e.prototype.mergeOption=function(t,i){n.prototype.mergeOption.call(this,t,i),SL(this,this.option,t)},e.type="legend.scroll",e.defaultOption=Hc(JT.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800}),e}(JT);function SL(n,e,t){var i=[1,1];i[n.getOrient().index]=0,Ou(e,t,{type:"box",ignoreSize:!!i})}var CL=bt,i2=["width","height"],r2=["x","y"],cz=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t.newlineDisabled=!0,t._currentIndex=0,t}return Tt(e,n),e.prototype.init=function(){n.prototype.init.call(this),this.group.add(this._containerGroup=new CL),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new CL)},e.prototype.resetInner=function(){n.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},e.prototype.renderInner=function(t,i,r,o,s,l,u){var f=this;n.prototype.renderInner.call(this,t,i,r,o,s,l,u);var p=this._controllerGroup,m=i.get("pageIconSize",!0),b=Jt(m)?m:[m,m];k("pagePrev",0);var w=i.getModel("pageTextStyle");function k(M,I){var O=M+"DataIndex",B=Ua(i.get("pageIcons",!0)[i.getOrient().name][I],{onclick:_e(f._pageGo,f,O,i,o)},{x:-b[0]/2,y:-b[1]/2,width:b[0],height:b[1]});B.name=M,p.add(B)}p.add(new dr({name:"pageText",style:{text:"xx/xx",fill:w.getTextColor(),font:w.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),k("pageNext",1)},e.prototype.layoutInner=function(t,i,r,o,s,l){var u=this.getSelectorGroup(),f=t.getOrient().index,p=i2[f],m=r2[f],b=i2[1-f],w=r2[1-f];s&&kf("horizontal",u,t.get("selectorItemGap",!0));var k=t.get("selectorButtonGap",!0),M=u.getBoundingRect(),I=[-M.x,-M.y],O=Pt(r);s&&(O[p]=r[p]-M[p]-k);var B=this._layoutContentAndController(t,o,O,f,p,b,w,m);if(s){if("end"===l)I[f]+=B[p]+k;else{var H=M[p]+k;I[f]-=H,B[m]-=H}B[p]+=M[p]+k,I[1-f]+=B[w]+B[b]/2-M[b]/2,B[b]=Math.max(B[b],M[b]),B[w]=Math.min(B[w],M[w]+I[1-f]),u.x=I[0],u.y=I[1],u.markRedraw()}return B},e.prototype._layoutContentAndController=function(t,i,r,o,s,l,u,f){var p=this.getContentGroup(),m=this._containerGroup,b=this._controllerGroup;kf(t.get("orient"),p,t.get("itemGap"),o?r.width:null,o?null:r.height),kf("horizontal",b,t.get("pageButtonItemGap",!0));var w=p.getBoundingRect(),k=b.getBoundingRect(),M=this._showController=w[s]>r[s],I=[-w.x,-w.y];i||(I[o]=p[f]);var O=[0,0],B=[-k.x,-k.y],H=Tn(t.get("pageButtonGap",!0),t.get("itemGap",!0));M&&("end"===t.get("pageButtonPosition",!0)?B[o]+=r[s]-k[s]:O[o]+=k[s]+H),B[1-o]+=w[l]/2-k[l]/2,p.setPosition(I),m.setPosition(O),b.setPosition(B);var X={x:0,y:0};if(X[s]=M?r[s]:w[s],X[l]=Math.max(w[l],k[l]),X[u]=Math.min(0,k[u]+B[1-o]),m.__rectSize=r[s],M){var U={x:0,y:0};U[s]=Math.max(r[s]-k[s]-H,0),U[l]=X[l],m.setClipPath(new vr({shape:U})),m.__rectSize=U[s]}else b.eachChild(function(et){et.attr({invisible:!0,silent:!0})});var $=this._getPageInfo(t);return null!=$.pageIndex&&xr(p,{x:$.contentPosition[0],y:$.contentPosition[1]},M?t:null),this._updatePageInfoView(t,$),X},e.prototype._pageGo=function(t,i,r){var o=this._getPageInfo(i)[t];null!=o&&r.dispatchAction({type:"legendScroll",scrollDataIndex:o,legendId:i.id})},e.prototype._updatePageInfoView=function(t,i){var r=this._controllerGroup;mt(["pagePrev","pageNext"],function(p){var m=null!=i[p+"DataIndex"],b=r.childOfName(p);b&&(b.setStyle("fill",t.get(m?"pageIconColor":"pageIconInactiveColor",!0)),b.cursor=m?"pointer":"default")});var o=r.childOfName("pageText"),s=t.get("pageFormatter"),l=i.pageIndex,u=null!=l?l+1:0,f=i.pageCount;o&&s&&o.setStyle("text",Ke(s)?s.replace("{current}",null==u?"":u+"").replace("{total}",null==f?"":f+""):s({current:u,total:f}))},e.prototype._getPageInfo=function(t){var i=t.get("scrollDataIndex",!0),r=this.getContentGroup(),o=this._containerGroup.__rectSize,s=t.getOrient().index,l=i2[s],u=r2[s],f=this._findTargetItemIndex(i),p=r.children(),m=p[f],b=p.length,w=b?1:0,k={contentPosition:[r.x,r.y],pageCount:w,pageIndex:w-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!m)return k;var M=X(m);k.contentPosition[s]=-M.s;for(var I=f+1,O=M,B=M,H=null;I<=b;++I)(!(H=X(p[I]))&&B.e>O.s+o||H&&!U(H,O.s))&&(O=B.i>O.i?B:H)&&(null==k.pageNextDataIndex&&(k.pageNextDataIndex=O.i),++k.pageCount),B=H;for(I=f-1,O=M,B=M,H=null;I>=-1;--I)(H=X(p[I]))&&U(B,H.s)||!(O.i<B.i)||(B=O,null==k.pagePrevDataIndex&&(k.pagePrevDataIndex=O.i),++k.pageCount,++k.pageIndex),O=H;return k;function X($){if($){var et=$.getBoundingRect(),at=et[u]+$[u];return{s:at,e:at+et[l],i:$.__legendDataIndex}}}function U($,et){return $.e>=et&&$.s<=et+o}},e.prototype._findTargetItemIndex=function(t){return this._showController?(this.getContentGroup().eachChild(function(o,s){var l=o.__legendDataIndex;null==r&&null!=l&&(r=s),l===t&&(i=s)}),null!=i?i:r):0;var i,r},e.type="legend.scroll",e}(xL);function hz(n){$i(wL),n.registerComponentModel(uz),n.registerComponentView(cz),function(e){e.registerAction("legendScroll","legendscroll",function(t,i){var r=t.scrollDataIndex;null!=r&&i.eachComponent({mainType:"legend",subType:"scroll",query:t},function(o){o.setScrollDataIndex(r)})})}(n)}var dz=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return Tt(e,n),e.type="dataZoom.inside",e.defaultOption=Hc(bw.defaultOption,{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),e}(bw),o2=ar();function fz(n,e,t){o2(n).coordSysRecordMap.each(function(i){var r=i.dataZoomInfoMap.get(e.uid);r&&(r.getRange=t)})}function kL(n,e){if(e){n.removeKey(e.model.uid);var t=e.controller;t&&t.dispose()}}function pz(n,e){n.dispatchAction({type:"dataZoom",animation:{easing:"cubicOut",duration:100},batch:e})}function gz(n,e,t,i){return n.coordinateSystem.containPoint([t,i])}var vz=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="dataZoom.inside",t}return Tt(e,n),e.prototype.render=function(t,i,r){n.prototype.render.apply(this,arguments),t.noTarget()?this._clear():(this.range=t.getPercentRange(),fz(r,t,{pan:_e(a2.pan,this),zoom:_e(a2.zoom,this),scrollMove:_e(a2.scrollMove,this)}))},e.prototype.dispose=function(){this._clear(),n.prototype.dispose.apply(this,arguments)},e.prototype._clear=function(){(function(t,i){for(var r=o2(t).coordSysRecordMap,o=r.keys(),s=0;s<o.length;s++){var u=r.get(o[s]),f=u.dataZoomInfoMap;if(f){var p=i.uid;f.get(p)&&(f.removeKey(p),f.keys().length||kL(r,u))}}})(this.api,this.dataZoomModel),this.range=null},e.type="dataZoom.inside",e}(ET),a2={zoom:function(n,e,t,i){var r=this.range,o=r.slice(),s=n.axisModels[0];if(s){var l=s2[e](null,[i.originX,i.originY],s,t,n),u=(l.signal>0?l.pixelStart+l.pixelLength-l.pixel:l.pixel-l.pixelStart)/l.pixelLength*(o[1]-o[0])+o[0],f=Math.max(1/i.scale,0);o[0]=(o[0]-u)*f+u,o[1]=(o[1]-u)*f+u;var p=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();return Nv(0,o,[0,100],0,p.minSpan,p.maxSpan),this.range=o,r[0]!==o[0]||r[1]!==o[1]?o:void 0}},pan:AL(function(n,e,t,i,r,o){var s=s2[i]([o.oldX,o.oldY],[o.newX,o.newY],e,r,t);return s.signal*(n[1]-n[0])*s.pixel/s.pixelLength}),scrollMove:AL(function(n,e,t,i,r,o){return s2[i]([0,0],[o.scrollDelta,o.scrollDelta],e,r,t).signal*(n[1]-n[0])*o.scrollDelta})};function AL(n){return function(e,t,i,r){var o=this.range,s=o.slice(),l=e.axisModels[0];if(l)return Nv(n(s,l,e,t,i,r),s,[0,100],"all"),this.range=s,o[0]!==s[0]||o[1]!==s[1]?s:void 0}}var s2={grid:function(n,e,t,i,r){var o=t.axis,s={},l=r.model.coordinateSystem.getRect();return n=n||[0,0],"x"===o.dim?(s.pixel=e[0]-n[0],s.pixelLength=l.width,s.pixelStart=l.x,s.signal=o.inverse?1:-1):(s.pixel=e[1]-n[1],s.pixelLength=l.height,s.pixelStart=l.y,s.signal=o.inverse?-1:1),s},polar:function(n,e,t,i,r){var o=t.axis,s={},l=r.model.coordinateSystem,u=l.getRadiusAxis().getExtent(),f=l.getAngleAxis().getExtent();return n=n?l.pointToCoord(n):[0,0],e=l.pointToCoord(e),"radiusAxis"===t.mainType?(s.pixel=e[0]-n[0],s.pixelLength=u[1]-u[0],s.pixelStart=u[0],s.signal=o.inverse?1:-1):(s.pixel=e[1]-n[1],s.pixelLength=f[1]-f[0],s.pixelStart=f[0],s.signal=o.inverse?-1:1),s},singleAxis:function(n,e,t,i,r){var o=t.axis,s=r.model.coordinateSystem.getRect(),l={};return n=n||[0,0],"horizontal"===o.orient?(l.pixel=e[0]-n[0],l.pixelLength=s.width,l.pixelStart=s.x,l.signal=o.inverse?1:-1):(l.pixel=e[1]-n[1],l.pixelLength=s.height,l.pixelStart=s.y,l.signal=o.inverse?-1:1),l}};function ML(n){LT(n),n.registerComponentModel(dz),n.registerComponentView(vz),function(n){n.registerProcessor(n.PRIORITY.PROCESSOR.FILTER,function(e,t){var i=o2(t),r=i.coordSysRecordMap||(i.coordSysRecordMap=ii());r.each(function(o){o.dataZoomInfoMap=null}),e.eachComponent({mainType:"dataZoom",subType:"inside"},function(o){mt(bE(o).infoList,function(s){var f,p,m,b,l=s.model.uid,u=r.get(l)||r.set(l,(f=t,m={model:p=s.model,containsPoint:de(gz,p),dispatchAction:de(pz,f),dataZoomInfoMap:null,controller:null},b=m.controller=new jn(f.getZr()),mt(["pan","zoom","scrollMove"],function(w){b.on(w,function(k){var M=[];m.dataZoomInfoMap.each(function(I){if(k.isAvailableBehavior(I.model.option)){var O=(I.getRange||{})[w],B=O&&O(I.dzReferCoordSysInfo,m.model.mainType,m.controller,k);!I.model.get("disabled",!0)&&B&&M.push({dataZoomId:I.model.id,start:B[0],end:B[1]})}}),M.length&&m.dispatchAction(M)})}),m));(u.dataZoomInfoMap||(u.dataZoomInfoMap=ii())).set(o.uid,{dzReferCoordSysInfo:s,model:o,getRange:null})})}),r.each(function(o){var s,b,w,k,M,l=o.controller,u=o.dataZoomInfoMap;if(u){var f=u.keys()[0];null!=f&&(s=u.get(f))}if(s){var p=(w="type_",k={type_true:2,type_move:1,type_false:0,type_undefined:-1},M=!0,u.each(function(I){var O=I.model,B=!O.get("disabled",!0)&&(!O.get("zoomLock",!0)||"move");k[w+B]>k[w+b]&&(b=B),M=M&&O.get("preventDefaultMouseMove",!0)}),{controlType:b,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!M}});l.enable(p.controlType,p.opt),l.setPointerChecker(o.containsPoint),Up(o,"dispatchAction",s.model.get("throttle",!0),"fixRate")}else kL(r,o)})})}(n)}var yz=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return Tt(e,n),e.type="dataZoom.slider",e.layoutMode="box",e.defaultOption=Hc(bw.defaultOption,{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,borderColor:"#d2dbee",borderRadius:3,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#d2dbee",width:.5},areaStyle:{color:"#d2dbee",opacity:.2}},selectedDataBackground:{lineStyle:{color:"#8fb0f7",width:.5},areaStyle:{color:"#8fb0f7",opacity:.2}},fillerColor:"rgba(135,175,274,0.2)",handleIcon:"path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z",handleSize:"100%",handleStyle:{color:"#fff",borderColor:"#ACB8D1"},moveHandleSize:7,moveHandleIcon:"path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z",moveHandleStyle:{color:"#D2DBEE",opacity:.7},showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#6E7079"},brushSelect:!0,brushStyle:{color:"rgba(135,175,274,0.15)"},emphasis:{handleStyle:{borderColor:"#8FB0F7"},moveHandleStyle:{color:"#8FB0F7"}}}),e}(bw),Mw=vr,Tw="horizontal",TL="vertical",xz=["line","bar","candlestick","scatter"],bz={easing:"cubicOut",duration:100,delay:0},_z=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t._displayables={},t}return Tt(e,n),e.prototype.init=function(t,i){this.api=i,this._onBrush=_e(this._onBrush,this),this._onBrushEnd=_e(this._onBrushEnd,this)},e.prototype.render=function(t,i,r,o){if(n.prototype.render.apply(this,arguments),Up(this,"_dispatchZoomAction",t.get("throttle"),"fixRate"),this._orient=t.getOrient(),!1!==t.get("show")){if(t.noTarget())return this._clear(),void this.group.removeAll();o&&"dataZoom"===o.type&&o.from===this.uid||this._buildView(),this._updateView()}else this.group.removeAll()},e.prototype.dispose=function(){this._clear(),n.prototype.dispose.apply(this,arguments)},e.prototype._clear=function(){var r;(r=this._dispatchZoomAction)&&r[Pm]&&(this._dispatchZoomAction=r[Pm]);var o=this.api.getZr();o.off("mousemove",this._onBrush),o.off("mouseup",this._onBrushEnd)},e.prototype._buildView=function(){var t=this.group;t.removeAll(),this._brushing=!1,this._displayables.brushRect=null,this._resetLocation(),this._resetInterval();var i=this._displayables.sliderGroup=new bt;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),t.add(i),this._positionGroup()},e.prototype._resetLocation=function(){var t=this.dataZoomModel,i=this.api,r=t.get("brushSelect")?7:0,o=this._findCoordRect(),s={width:i.getWidth(),height:i.getHeight()},l=this._orient===Tw?{right:s.width-o.x-o.width,top:s.height-30-7-r,width:o.width,height:30}:{right:7,top:o.y,width:30,height:o.height},u=Af(t.option);mt(["right","top","width","height"],function(p){"ph"===u[p]&&(u[p]=l[p])});var f=Ca(u,s);this._location={x:f.x,y:f.y},this._size=[f.width,f.height],this._orient===TL&&this._size.reverse()},e.prototype._positionGroup=function(){var t=this.group,i=this._location,r=this._orient,o=this.dataZoomModel.getFirstTargetAxisModel(),s=o&&o.get("inverse"),l=this._displayables.sliderGroup,u=(this._dataShadowInfo||{}).otherAxisInverse;l.attr(r!==Tw||s?r===Tw&&s?{scaleY:u?1:-1,scaleX:-1}:r!==TL||s?{scaleY:u?-1:1,scaleX:-1,rotation:Math.PI/2}:{scaleY:u?-1:1,scaleX:1,rotation:Math.PI/2}:{scaleY:u?1:-1,scaleX:1});var f=t.getBoundingRect([l]);t.x=i.x-f.x,t.y=i.y-f.y,t.markRedraw()},e.prototype._getViewExtent=function(){return[0,this._size[0]]},e.prototype._renderBackground=function(){var t=this.dataZoomModel,i=this._size,r=this._displayables.sliderGroup,o=t.get("brushSelect");r.add(new Mw({silent:!0,shape:{x:0,y:0,width:i[0],height:i[1]},style:{fill:t.get("backgroundColor")},z2:-40}));var s=new Mw({shape:{x:0,y:0,width:i[0],height:i[1]},style:{fill:"transparent"},z2:0,onclick:_e(this._onClickPanel,this)}),l=this.api.getZr();o?(s.on("mousedown",this._onBrushStart,this),s.cursor="crosshair",l.on("mousemove",this._onBrush),l.on("mouseup",this._onBrushEnd)):(l.off("mousemove",this._onBrush),l.off("mouseup",this._onBrushEnd)),r.add(s)},e.prototype._renderDataShadow=function(){var $,et,at,At,t=this._dataShadowInfo=this._prepareDataShadowInfo();if(this._displayables.dataShadowSegs=[],t){var i=this._size,r=t.series,o=r.getRawData(),s=r.getShadowDim?r.getShadowDim():t.otherDim;if(null!=s){var l=o.getDataExtent(s),u=.3*(l[1]-l[0]);l=[l[0]-u,l[1]+u];var f,p=[0,i[1]],b=[[i[0],0],[0,0]],w=[],k=i[0]/(o.count()-1),M=0,I=Math.round(o.count()/i[0]);o.each([s],function(U,$){if(I>0&&$%I)M+=k;else{var et=null==U||isNaN(U)||""===U,at=et?0:Bn(U,l,p,!0);et&&!f&&$?(b.push([b[b.length-1][0],0]),w.push([w[w.length-1][0],0])):!et&&f&&(b.push([M,0]),w.push([M,0])),b.push([M,at]),w.push([M,at]),M+=k,f=et}});for(var O=this.dataZoomModel,B=0;B<3;B++){var H=($=void 0,et=void 0,void 0,void 0,$=O.getModel(1===B?"selectedDataBackground":"dataBackground"),et=new bt,at=new qa({shape:{points:b},segmentIgnoreThreshold:1,style:$.getModel("areaStyle").getAreaStyle(),silent:!0,z2:-20}),At=new Fs({shape:{points:w},segmentIgnoreThreshold:1,style:$.getModel("lineStyle").getLineStyle(),silent:!0,z2:-19}),et.add(at),et.add(At),et);this._displayables.sliderGroup.add(H),this._displayables.dataShadowSegs.push(H)}}}},e.prototype._prepareDataShadowInfo=function(){var t=this.dataZoomModel,i=t.get("showDataShadow");if(!1!==i){var r,o=this.ecModel;return t.eachTargetAxis(function(s,l){mt(t.getAxisProxy(s,l).getTargetSeriesModels(),function(u){if(!(r||!0!==i&&Ne(xz,u.get("type"))<0)){var f,p=o.getComponent(Og(s),l).axis,m={x:"y",y:"x",radius:"angle",angle:"radius"}[s],b=u.coordinateSystem;null!=m&&b.getOtherAxis&&(f=b.getOtherAxis(p).inverse),m=u.getData().mapDimension(m),r={thisAxis:p,series:u,thisDim:s,otherDim:m,otherAxisInverse:f}}},this)},this),r}},e.prototype._renderHandle=function(){var t=this.group,i=this._displayables,r=i.handles=[null,null],o=i.handleLabels=[null,null],s=this._displayables.sliderGroup,l=this._size,u=this.dataZoomModel,f=this.api,p=u.get("borderRadius")||0,m=u.get("brushSelect"),b=i.filler=new Mw({silent:m,style:{fill:u.get("fillerColor")},textConfig:{position:"inside"}});s.add(b),s.add(new Mw({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:l[0],height:l[1],r:p},style:{stroke:u.get("dataBackgroundColor")||u.get("borderColor"),lineWidth:1,fill:"rgba(0,0,0,0)"}})),mt([0,1],function(H){var X=u.get("handleIcon");!h0[X]&&X.indexOf("path://")<0&&X.indexOf("image://")<0&&(X="path://"+X);var U=oa(X,-1,0,2,2,null,!0);U.attr({cursor:IL(this._orient),draggable:!0,drift:_e(this._onDragMove,this,H),ondragend:_e(this._onDragEnd,this),onmouseover:_e(this._showDataInfo,this,!0),onmouseout:_e(this._showDataInfo,this,!1),z2:5});var $=U.getBoundingRect(),et=u.get("handleSize");this._handleHeight=In(et,this._size[1]),this._handleWidth=$.width/$.height*this._handleHeight,U.setStyle(u.getModel("handleStyle").getItemStyle()),U.style.strokeNoScale=!0,U.rectHover=!0,U.ensureState("emphasis").style=u.getModel(["emphasis","handleStyle"]).getItemStyle(),to(U);var at=u.get("handleColor");null!=at&&(U.style.fill=at),s.add(r[H]=U);var At=u.getModel("textStyle");t.add(o[H]=new dr({silent:!0,invisible:!0,style:Zo(At,{x:0,y:0,text:"",verticalAlign:"middle",align:"center",fill:At.getTextColor(),font:At.getFont()}),z2:10}))},this);var w=b;if(m){var k=In(u.get("moveHandleSize"),l[1]),M=i.moveHandle=new vr({style:u.getModel("moveHandleStyle").getItemStyle(),silent:!0,shape:{r:[0,0,2,2],y:l[1]-.5,height:k}}),I=.8*k,O=i.moveHandleIcon=oa(u.get("moveHandleIcon"),-I/2,-I/2,I,I,"#fff",!0);O.silent=!0,O.y=l[1]+k/2-.5,M.ensureState("emphasis").style=u.getModel(["emphasis","moveHandleStyle"]).getItemStyle();var B=Math.min(l[1]/2,Math.max(k,10));(w=i.moveZone=new vr({invisible:!0,shape:{y:l[1]-B,height:k+B}})).on("mouseover",function(){f.enterEmphasis(M)}).on("mouseout",function(){f.leaveEmphasis(M)}),s.add(M),s.add(O),s.add(w)}w.attr({draggable:!0,cursor:IL(this._orient),drift:_e(this._onDragMove,this,"all"),ondragstart:_e(this._showDataInfo,this,!0),ondragend:_e(this._onDragEnd,this),onmouseover:_e(this._showDataInfo,this,!0),onmouseout:_e(this._showDataInfo,this,!1)})},e.prototype._resetInterval=function(){var t=this._range=this.dataZoomModel.getPercentRange(),i=this._getViewExtent();this._handleEnds=[Bn(t[0],[0,100],i,!0),Bn(t[1],[0,100],i,!0)]},e.prototype._updateInterval=function(t,i){var r=this.dataZoomModel,o=this._handleEnds,s=this._getViewExtent(),l=r.findRepresentativeAxisProxy().getMinMaxSpan(),u=[0,100];Nv(i,o,s,r.get("zoomLock")?"all":t,null!=l.minSpan?Bn(l.minSpan,u,s,!0):null,null!=l.maxSpan?Bn(l.maxSpan,u,s,!0):null);var f=this._range,p=this._range=Li([Bn(o[0],s,u,!0),Bn(o[1],s,u,!0)]);return!f||f[0]!==p[0]||f[1]!==p[1]},e.prototype._updateView=function(t){var i=this._displayables,r=this._handleEnds,o=Li(r.slice()),s=this._size;mt([0,1],function(w){var M=this._handleHeight;i.handles[w].attr({scaleX:M/2,scaleY:M/2,x:r[w]+(w?-1:1),y:s[1]/2-M/2})},this),i.filler.setShape({x:o[0],y:0,width:o[1]-o[0],height:s[1]});var l={x:o[0],width:o[1]-o[0]};i.moveHandle&&(i.moveHandle.setShape(l),i.moveZone.setShape(l),i.moveZone.getBoundingRect(),i.moveHandleIcon&&i.moveHandleIcon.attr("x",l.x+l.width/2));for(var u=i.dataShadowSegs,f=[0,o[0],o[1],s[0]],p=0;p<u.length;p++){var m=u[p],b=m.getClipPath();b||(b=new vr,m.setClipPath(b)),b.setShape({x:f[p],y:0,width:f[p+1]-f[p],height:s[1]})}this._updateDataInfo(t)},e.prototype._updateDataInfo=function(t){var i=this.dataZoomModel,r=this._displayables,o=r.handleLabels,s=this._orient,l=["",""];if(i.get("showDetail")){var u=i.findRepresentativeAxisProxy();if(u){var f=u.getAxisModel().axis,p=this._range,m=t?u.calculateDataWindow({start:p[0],end:p[1]}).valueWindow:u.getDataValueWindow();l=[this._formatLabel(m[0],f),this._formatLabel(m[1],f)]}}var b=Li(this._handleEnds.slice());function w(k){var M=Fc(r.handles[k].parent,this.group),I=xf(0===k?"right":"left",M),O=this._handleWidth/2+5,B=iu([b[k]+(0===k?-O:O),this._size[1]/2],M);o[k].setStyle({x:B[0],y:B[1],verticalAlign:s===Tw?"middle":I,align:s===Tw?I:"center",text:l[k]})}w.call(this,0),w.call(this,1)},e.prototype._formatLabel=function(t,i){var r=this.dataZoomModel,o=r.get("labelFormatter"),s=r.get("labelPrecision");null!=s&&"auto"!==s||(s=i.getPixelPrecision());var l=null==t||isNaN(t)?"":"category"===i.type||"time"===i.type?i.scale.getLabel({value:Math.round(t)}):t.toFixed(Math.min(s,20));return Fe(o)?o(t,l):Ke(o)?o.replace("{value}",l):l},e.prototype._showDataInfo=function(t){var i=this._displayables,r=i.handleLabels;r[0].attr("invisible",!(t=this._dragging||t)),r[1].attr("invisible",!t),i.moveHandle&&this.api[t?"enterEmphasis":"leaveEmphasis"](i.moveHandle,1)},e.prototype._onDragMove=function(t,i,r,o){this._dragging=!0,me(o.event);var s=iu([i,r],this._displayables.sliderGroup.getLocalTransform(),!0),l=this._updateInterval(t,s[0]),u=this.dataZoomModel.get("realtime");this._updateView(!u),l&&u&&this._dispatchZoomAction(!0)},e.prototype._onDragEnd=function(){this._dragging=!1,this._showDataInfo(!1),!this.dataZoomModel.get("realtime")&&this._dispatchZoomAction(!1)},e.prototype._onClickPanel=function(t){var i=this._size,r=this._displayables.sliderGroup.transformCoordToLocal(t.offsetX,t.offsetY);if(!(r[0]<0||r[0]>i[0]||r[1]<0||r[1]>i[1])){var o=this._handleEnds,l=this._updateInterval("all",r[0]-(o[0]+o[1])/2);this._updateView(),l&&this._dispatchZoomAction(!1)}},e.prototype._onBrushStart=function(t){this._brushStart=new Bi(t.offsetX,t.offsetY),this._brushing=!0,this._brushStartTime=+new Date},e.prototype._onBrushEnd=function(t){if(this._brushing){var i=this._displayables.brushRect;if(this._brushing=!1,i){i.attr("ignore",!0);var r=i.shape;if(!(+new Date-this._brushStartTime<200&&Math.abs(r.width)<5)){var o=this._getViewExtent(),s=[0,100];this._range=Li([Bn(r.x,o,s,!0),Bn(r.x+r.width,o,s,!0)]),this._handleEnds=[r.x,r.x+r.width],this._updateView(),this._dispatchZoomAction(!1)}}}},e.prototype._onBrush=function(t){this._brushing&&(me(t.event),this._updateBrushRect(t.offsetX,t.offsetY))},e.prototype._updateBrushRect=function(t,i){var r=this._displayables,s=r.brushRect;s||(s=r.brushRect=new Mw({silent:!0,style:this.dataZoomModel.getModel("brushStyle").getItemStyle()}),r.sliderGroup.add(s)),s.attr("ignore",!1);var l=this._brushStart,u=this._displayables.sliderGroup,f=u.transformCoordToLocal(t,i),p=u.transformCoordToLocal(l.x,l.y),m=this._size;f[0]=Math.max(Math.min(m[0],f[0]),0),s.setShape({x:p[0],y:0,width:f[0]-p[0],height:m[1]})},e.prototype._dispatchZoomAction=function(t){var i=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,animation:t?bz:null,start:i[0],end:i[1]})},e.prototype._findCoordRect=function(){var t,i=bE(this.dataZoomModel).infoList;if(!t&&i.length){var r=i[0].model.coordinateSystem;t=r.getRect&&r.getRect()}if(!t){var o=this.api.getWidth(),s=this.api.getHeight();t={x:.2*o,y:.2*s,width:.6*o,height:.6*s}}return t},e.type="dataZoom.slider",e}(ET);function IL(n){return"vertical"===n?"ns-resize":"ew-resize"}function DL(n){n.registerComponentModel(yz),n.registerComponentView(_z),LT(n)}var EL=function(n,e,t){var i=Pt((wz[n]||{})[e]);return t&&Jt(i)?i[i.length-1]:i},wz={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}},LL=As.mapVisual,Sz=As.eachVisual,Cz=Jt,PL=mt,kz=Li,Az=Bn,qk=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t.stateList=["inRange","outOfRange"],t.replacableOptionKeys=["inRange","outOfRange","target","controller","color"],t.layoutMode={type:"box",ignoreSize:!0},t.dataBound=[-1/0,1/0],t.targetVisuals={},t.controllerVisuals={},t}return Tt(e,n),e.prototype.init=function(t,i,r){this.mergeDefaultAndTheme(t,r)},e.prototype.optionUpdated=function(t,i){var r=this.option;Wt.canvasSupported||(r.realtime=!1),!i&&QE(r,t,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},e.prototype.resetVisual=function(t){var i=this.stateList;t=_e(t,this),this.controllerVisuals=YT(this.option.controller,i,t),this.targetVisuals=YT(this.option.target,i,t)},e.prototype.getItemSymbol=function(){return null},e.prototype.getTargetSeriesIndices=function(){var t=this.option.seriesIndex,i=[];return null==t||"all"===t?this.ecModel.eachSeries(function(r,o){i.push(o)}):i=mr(t),i},e.prototype.eachTargetSeries=function(t,i){mt(this.getTargetSeriesIndices(),function(r){var o=this.ecModel.getSeriesByIndex(r);o&&t.call(i,o)},this)},e.prototype.isTargetSeries=function(t){var i=!1;return this.eachTargetSeries(function(r){r===t&&(i=!0)}),i},e.prototype.formatValueText=function(t,i,r){var o,s=this.option,l=s.precision,u=this.dataBound,f=s.formatter;r=r||["<",">"],Jt(t)&&(t=t.slice(),o=!0);var p=i?t:o?[m(t[0]),m(t[1])]:m(t);return Ke(f)?f.replace("{value}",o?p[0]:p).replace("{value2}",o?p[1]:p):Fe(f)?o?f(t[0],t[1]):f(t):o?t[0]===u[0]?r[0]+" "+p[1]:t[1]===u[1]?r[1]+" "+p[0]:p[0]+" - "+p[1]:p;function m(b){return b===u[0]?"min":b===u[1]?"max":(+b).toFixed(Math.min(l,20))}},e.prototype.resetExtent=function(){var t=this.option,i=kz([t.min,t.max]);this._dataExtent=i},e.prototype.getDataDimensionIndex=function(t){var i=this.option.dimension;if(null!=i)return t.getDimensionIndex(i);for(var r=t.dimensions,o=r.length-1;o>=0;o--){var l=t.getDimensionInfo(r[o]);if(!l.isCalculationCoord)return l.storeDimIndex}},e.prototype.getExtent=function(){return this._dataExtent.slice()},e.prototype.completeVisualOption=function(){var t=this.ecModel,i=this.option,r={inRange:i.inRange,outOfRange:i.outOfRange},o=i.target||(i.target={}),s=i.controller||(i.controller={});Xt(o,r),Xt(s,r);var l=this.isCategory();function u(f){Cz(i.color)&&!f.inRange&&(f.inRange={color:i.color.slice().reverse()}),f.inRange=f.inRange||{color:t.get("gradientColor")}}u.call(this,o),u.call(this,s),function(f,p,m){var b=f[p],w=f[m];b&&!w&&(w=f[m]={},PL(b,function(k,M){if(As.isValidType(M)){var I=EL(M,"inactive",l);null!=I&&(w[M]=I,"color"!==M||w.hasOwnProperty("opacity")||w.hasOwnProperty("colorAlpha")||(w.opacity=[0,0]))}}))}.call(this,o,"inRange","outOfRange"),function(f){var p=(f.inRange||{}).symbol||(f.outOfRange||{}).symbol,m=(f.inRange||{}).symbolSize||(f.outOfRange||{}).symbolSize,b=this.get("inactiveColor"),w=this.getItemSymbol()||"roundRect";PL(this.stateList,function(k){var M=this.itemSize,I=f[k];I||(I=f[k]={color:l?b:[b]}),null==I.symbol&&(I.symbol=p&&Pt(p)||(l?w:[w])),null==I.symbolSize&&(I.symbolSize=m&&Pt(m)||(l?M[0]:[M[0],M[0]])),I.symbol=LL(I.symbol,function(H){return"none"===H?w:H});var O=I.symbolSize;if(null!=O){var B=-1/0;Sz(O,function(H){H>B&&(B=H)}),I.symbolSize=LL(O,function(H){return Az(H,[0,B],[0,M[0]],!0)})}},this)}.call(this,s)},e.prototype.resetItemSize=function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},e.prototype.isCategory=function(){return!!this.option.categories},e.prototype.setSelected=function(t){},e.prototype.getSelected=function(){return null},e.prototype.getValueState=function(t){return null},e.prototype.getVisualMeta=function(t){return null},e.type="visualMap",e.dependencies=["series"],e.defaultOption={show:!0,zlevel:0,z:4,seriesIndex:"all",min:0,max:200,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,textStyle:{color:"#333"}},e}(rr),OL=[20,140],Mz=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return Tt(e,n),e.prototype.optionUpdated=function(t,i){n.prototype.optionUpdated.apply(this,arguments),this.resetExtent(),this.resetVisual(function(r){r.mappingMethod="linear",r.dataExtent=this.getExtent()}),this._resetRange()},e.prototype.resetItemSize=function(){n.prototype.resetItemSize.apply(this,arguments);var t=this.itemSize;(null==t[0]||isNaN(t[0]))&&(t[0]=OL[0]),(null==t[1]||isNaN(t[1]))&&(t[1]=OL[1])},e.prototype._resetRange=function(){var t=this.getExtent(),i=this.option.range;!i||i.auto?(t.auto=1,this.option.range=t):Jt(i)&&(i[0]>i[1]&&i.reverse(),i[0]=Math.max(i[0],t[0]),i[1]=Math.min(i[1],t[1]))},e.prototype.completeVisualOption=function(){n.prototype.completeVisualOption.apply(this,arguments),mt(this.stateList,function(t){var i=this.option.controller[t].symbolSize;i&&i[0]!==i[1]&&(i[0]=i[1]/3)},this)},e.prototype.setSelected=function(t){this.option.range=t.slice(),this._resetRange()},e.prototype.getSelected=function(){var t=this.getExtent(),i=Li((this.get("range")||[]).slice());return i[0]>t[1]&&(i[0]=t[1]),i[1]>t[1]&&(i[1]=t[1]),i[0]<t[0]&&(i[0]=t[0]),i[1]<t[0]&&(i[1]=t[0]),i},e.prototype.getValueState=function(t){var i=this.option.range,r=this.getExtent();return(i[0]<=r[0]||i[0]<=t)&&(i[1]>=r[1]||t<=i[1])?"inRange":"outOfRange"},e.prototype.findTargetDataIndices=function(t){var i=[];return this.eachTargetSeries(function(r){var o=[],s=r.getData();s.each(this.getDataDimensionIndex(s),function(l,u){t[0]<=l&&l<=t[1]&&o.push(u)},this),i.push({seriesId:r.id,dataIndex:o})},this),i},e.prototype.getVisualMeta=function(t){var i=NL(0,0,this.getExtent()),r=NL(0,0,this.option.range.slice()),o=[];function s(w,k){o.push({value:w,color:t(w,k)})}for(var l=0,u=0,f=r.length,p=i.length;u<p&&(!r.length||i[u]<=r[0]);u++)i[u]<r[l]&&s(i[u],"outOfRange");for(var m=1;l<f;l++,m=0)m&&o.length&&s(r[l],"outOfRange"),s(r[l],"inRange");for(m=1;u<p;u++)(!r.length||r[r.length-1]<i[u])&&(m&&(o.length&&s(o[o.length-1].value,"outOfRange"),m=0),s(i[u],"outOfRange"));var b=o.length;return{stops:o,outerColors:[b?o[0].color:"transparent",b?o[b-1].color:"transparent"]}},e.type="visualMap.continuous",e.defaultOption=Hc(qk.defaultOption,{align:"auto",calculable:!1,hoverLink:!0,realtime:!0,handleIcon:"path://M-11.39,9.77h0a3.5,3.5,0,0,1-3.5,3.5h-22a3.5,3.5,0,0,1-3.5-3.5h0a3.5,3.5,0,0,1,3.5-3.5h22A3.5,3.5,0,0,1-11.39,9.77Z",handleSize:"120%",handleStyle:{borderColor:"#fff",borderWidth:1},indicatorIcon:"circle",indicatorSize:"50%",indicatorStyle:{borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}}),e}(qk);function NL(n,e,t){if(t[0]===t[1])return t.slice();for(var i=(t[1]-t[0])/200,r=t[0],o=[],s=0;s<=200&&r<t[1];s++)o.push(r),r+=i;return o.push(t[1]),o}var RL=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t.autoPositionValues={left:1,right:1,top:1,bottom:1},t}return Tt(e,n),e.prototype.init=function(t,i){this.ecModel=t,this.api=i},e.prototype.render=function(t,i,r,o){this.visualMapModel=t,!1!==t.get("show")?this.doRender(t,i,r,o):this.group.removeAll()},e.prototype.renderBackground=function(t){var i=this.visualMapModel,r=Cf(i.get("padding")||0),o=t.getBoundingRect();t.add(new vr({z2:-1,silent:!0,shape:{x:o.x-r[3],y:o.y-r[0],width:o.width+r[3]+r[1],height:o.height+r[0]+r[2]},style:{fill:i.get("backgroundColor"),stroke:i.get("borderColor"),lineWidth:i.get("borderWidth")}}))},e.prototype.getControllerVisual=function(t,i,r){var o=(r=r||{}).forceState,s=this.visualMapModel,l={};if("color"===i){var u=s.get("contentColor");l.color=u}function f(b){return l[b]}function p(b,w){l[b]=w}var m=s.controllerVisuals[o||s.getValueState(t)];return mt(As.prepareVisualTypes(m),function(b){var w=m[b];r.convertOpacityToAlpha&&"opacity"===b&&(b="colorAlpha",w=m.__alphaForOpacity),As.dependsOn(b,i)&&w&&w.applyVisual(t,f,p)}),l[i]},e.prototype.positionGroup=function(t){var r=this.api;Ly(t,this.visualMapModel.getBoxLayoutParams(),{width:r.getWidth(),height:r.getHeight()})},e.prototype.doRender=function(t,i,r,o){},e.type="visualMap",e}(co),BL=[["left","right","width"],["top","bottom","height"]];function zL(n,e,t){var i=n.option,r=i.align;if(null!=r&&"auto"!==r)return r;for(var o={width:e.getWidth(),height:e.getHeight()},s="horizontal"===i.orient?1:0,l=BL[s],u=[0,null,10],f={},p=0;p<3;p++)f[BL[1-s][p]]=u[p],f[l[p]]=2===p?t[0]:i[l[p]];var m=[["x","width",3],["y","height",0]][s],b=Ca(f,o,i.padding);return l[(b.margin[m[2]]||0)+b[m[0]]+.5*b[m[1]]<.5*o[m[1]]?0:1]}function Uk(n,e){return mt(n||[],function(t){null!=t.dataIndex&&(t.dataIndexInside=t.dataIndex,t.dataIndex=null),t.highlightKey="visualMap"+(e?e.componentIndex:"")}),n}var rf=Bn,Tz=mt,FL=Math.min,l2=Math.max,Iz=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t._shapes={},t._dataInterval=[],t._handleEnds=[],t._hoverLinkDataIndices=[],t}return Tt(e,n),e.prototype.doRender=function(t,i,r,o){this._api=r,o&&"selectDataRange"===o.type&&o.from===this.uid||this._buildView()},e.prototype._buildView=function(){this.group.removeAll();var t=this.visualMapModel,i=this.group;this._orient=t.get("orient"),this._useHandle=t.get("calculable"),this._resetInterval(),this._renderBar(i);var r=t.get("text");this._renderEndsText(i,r,0),this._renderEndsText(i,r,1),this._updateView(!0),this.renderBackground(i),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(i)},e.prototype._renderEndsText=function(t,i,r){if(i){var o=i[1-r];o=null!=o?o+"":"";var s=this.visualMapModel,l=s.get("textGap"),u=s.itemSize,f=this._shapes.mainGroup,p=this._applyTransform([u[0]/2,0===r?-l:u[1]+l],f),m=this._applyTransform(0===r?"bottom":"top",f),b=this._orient,w=this.visualMapModel.textStyleModel;this.group.add(new dr({style:{x:p[0],y:p[1],verticalAlign:"horizontal"===b?"middle":m,align:"horizontal"===b?m:"center",text:o,font:w.getFont(),fill:w.getTextColor()}}))}},e.prototype._renderBar=function(t){var i=this.visualMapModel,r=this._shapes,o=i.itemSize,s=this._orient,l=this._useHandle,u=zL(i,this.api,o),f=r.mainGroup=this._createBarGroup(u),p=new bt;f.add(p),p.add(r.outOfRange=VL()),p.add(r.inRange=VL(null,l?WL(this._orient):null,_e(this._dragHandle,this,"all",!1),_e(this._dragHandle,this,"all",!0))),p.setClipPath(new vr({shape:{x:0,y:0,width:o[0],height:o[1],r:3}}));var m=i.textStyleModel.getTextRect("\u56fd"),b=l2(m.width,m.height);l&&(r.handleThumbs=[],r.handleLabels=[],r.handleLabelPoints=[],this._createHandle(i,f,0,o,b,s),this._createHandle(i,f,1,o,b,s)),this._createIndicator(i,f,o,b,s),t.add(f)},e.prototype._createHandle=function(t,i,r,o,s,l){var u=_e(this._dragHandle,this,r,!1),f=_e(this._dragHandle,this,r,!0),p=Wr(t.get("handleSize"),o[0]),m=oa(t.get("handleIcon"),-p/2,-p/2,p,p,null,!0),b=WL(this._orient);m.attr({cursor:b,draggable:!0,drift:u,ondragend:f,onmousemove:function(O){me(O.event)}}),m.x=o[0]/2,m.useStyle(t.getModel("handleStyle").getItemStyle()),m.setStyle({strokeNoScale:!0,strokeFirst:!0}),m.style.lineWidth*=2,m.ensureState("emphasis").style=t.getModel(["emphasis","handleStyle"]).getItemStyle(),mf(m,!0),i.add(m);var w=this.visualMapModel.textStyleModel,k=new dr({cursor:b,draggable:!0,drift:u,onmousemove:function(O){me(O.event)},ondragend:f,style:{x:0,y:0,text:"",font:w.getFont(),fill:w.getTextColor()}});k.ensureState("blur").style={opacity:.1},k.stateTransition={duration:200},this.group.add(k);var M=[p,0],I=this._shapes;I.handleThumbs[r]=m,I.handleLabelPoints[r]=M,I.handleLabels[r]=k},e.prototype._createIndicator=function(t,i,r,o,s){var l=Wr(t.get("indicatorSize"),r[0]),u=oa(t.get("indicatorIcon"),-l/2,-l/2,l,l,null,!0);u.attr({cursor:"move",invisible:!0,silent:!0,x:r[0]/2});var f=t.getModel("indicatorStyle").getItemStyle();if(u instanceof ga){var p=u.style;u.useStyle(Dt({image:p.image,x:p.x,y:p.y,width:p.width,height:p.height},f))}else u.useStyle(f);i.add(u);var m=this.visualMapModel.textStyleModel,b=new dr({silent:!0,invisible:!0,style:{x:0,y:0,text:"",font:m.getFont(),fill:m.getTextColor()}});this.group.add(b);var w=[("horizontal"===s?o/2:6)+r[0]/2,0],k=this._shapes;k.indicator=u,k.indicatorLabel=b,k.indicatorLabelPoint=w,this._firstShowIndicator=!0},e.prototype._dragHandle=function(t,i,r,o){if(this._useHandle){if(this._dragging=!i,!i){var s=this._applyTransform([r,o],this._shapes.mainGroup,!0);this._updateInterval(t,s[1]),this._hideIndicator(),this._updateView()}i===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),i?!this._hovering&&this._clearHoverLinkToSeries():HL(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[t],!1)}},e.prototype._resetInterval=function(){var t=this.visualMapModel,i=this._dataInterval=t.getSelected(),r=t.getExtent(),o=[0,t.itemSize[1]];this._handleEnds=[rf(i[0],r,o,!0),rf(i[1],r,o,!0)]},e.prototype._updateInterval=function(t,i){var r=this.visualMapModel,o=this._handleEnds,s=[0,r.itemSize[1]];Nv(i=i||0,o,s,t,0);var l=r.getExtent();this._dataInterval=[rf(o[0],s,l,!0),rf(o[1],s,l,!0)]},e.prototype._updateView=function(t){var i=this.visualMapModel,r=i.getExtent(),o=this._shapes,s=[0,i.itemSize[1]],l=t?s:this._handleEnds,u=this._createBarVisual(this._dataInterval,r,l,"inRange"),f=this._createBarVisual(r,r,s,"outOfRange");o.inRange.setStyle({fill:u.barColor}).setShape("points",u.barPoints),o.outOfRange.setStyle({fill:f.barColor}).setShape("points",f.barPoints),this._updateHandle(l,u)},e.prototype._createBarVisual=function(t,i,r,o){var s={forceState:o,convertOpacityToAlpha:!0},l=this._makeColorGradient(t,s),u=[this.getControllerVisual(t[0],"symbolSize",s),this.getControllerVisual(t[1],"symbolSize",s)],f=this._createBarPoints(r,u);return{barColor:new Tp(0,0,0,1,l),barPoints:f,handlesColor:[l[0].color,l[l.length-1].color]}},e.prototype._makeColorGradient=function(t,i){var r=[],o=(t[1]-t[0])/100;r.push({color:this.getControllerVisual(t[0],"color",i),offset:0});for(var s=1;s<100;s++){var l=t[0]+o*s;if(l>t[1])break;r.push({color:this.getControllerVisual(l,"color",i),offset:s/100})}return r.push({color:this.getControllerVisual(t[1],"color",i),offset:1}),r},e.prototype._createBarPoints=function(t,i){var r=this.visualMapModel.itemSize;return[[r[0]-i[0],t[0]],[r[0],t[0]],[r[0],t[1]],[r[0]-i[1],t[1]]]},e.prototype._createBarGroup=function(t){var i=this._orient,r=this.visualMapModel.get("inverse");return new bt("horizontal"!==i||r?"horizontal"===i&&r?{scaleX:"bottom"===t?-1:1,rotation:-Math.PI/2}:"vertical"!==i||r?{scaleX:"left"===t?1:-1}:{scaleX:"left"===t?1:-1,scaleY:-1}:{scaleX:"bottom"===t?1:-1,rotation:Math.PI/2})},e.prototype._updateHandle=function(t,i){if(this._useHandle){var r=this._shapes,o=this.visualMapModel,s=r.handleThumbs,l=r.handleLabels,u=o.itemSize,f=o.getExtent();Tz([0,1],function(p){var m=s[p];m.setStyle("fill",i.handlesColor[p]),m.y=t[p];var b=rf(t[p],[0,u[1]],f,!0),w=this.getControllerVisual(b,"symbolSize");m.scaleX=m.scaleY=w/u[0],m.x=u[0]-w/2;var k=iu(r.handleLabelPoints[p],Fc(m,this.group));l[p].setStyle({x:k[0],y:k[1],text:o.formatValueText(this._dataInterval[p]),verticalAlign:"middle",align:"vertical"===this._orient?this._applyTransform("left",r.mainGroup):"center"})},this)}},e.prototype._showIndicator=function(t,i,r,o){var s=this.visualMapModel,l=s.getExtent(),u=s.itemSize,f=[0,u[1]],p=this._shapes,m=p.indicator;if(m){m.attr("invisible",!1);var b=this.getControllerVisual(t,"color",{convertOpacityToAlpha:!0}),w=this.getControllerVisual(t,"symbolSize"),k=rf(t,l,f,!0),M=u[0]-w/2,I={x:m.x,y:m.y};m.y=k,m.x=M;var O=iu(p.indicatorLabelPoint,Fc(m,this.group)),B=p.indicatorLabel;B.attr("invisible",!1);var H=this._applyTransform("left",p.mainGroup),X="horizontal"===this._orient;B.setStyle({text:(r||"")+s.formatValueText(i),verticalAlign:X?H:"middle",align:X?"center":H});var U={x:M,y:k,style:{fill:b}},$={style:{x:O[0],y:O[1]}};if(s.ecModel.isAnimationEnabled()&&!this._firstShowIndicator){var et={duration:100,easing:"cubicInOut",additive:!0};m.x=I.x,m.y=I.y,m.animateTo(U,et),B.animateTo($,et)}else m.attr(U),B.attr($);this._firstShowIndicator=!1;var at=this._shapes.handleLabels;if(at)for(var At=0;At<at.length;At++)this._api.enterBlur(at[At])}},e.prototype._enableHoverLinkToSeries=function(){var t=this;this._shapes.mainGroup.on("mousemove",function(i){if(t._hovering=!0,!t._dragging){var r=t.visualMapModel.itemSize,o=t._applyTransform([i.offsetX,i.offsetY],t._shapes.mainGroup,!0,!0);o[1]=FL(l2(0,o[1]),r[1]),t._doHoverLinkToSeries(o[1],0<=o[0]&&o[0]<=r[0])}}).on("mouseout",function(){t._hovering=!1,!t._dragging&&t._clearHoverLinkToSeries()})},e.prototype._enableHoverLinkFromSeries=function(){var t=this.api.getZr();this.visualMapModel.option.hoverLink?(t.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),t.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},e.prototype._doHoverLinkToSeries=function(t,i){var I,O,B,H,r=this.visualMapModel;if(r.option.hoverLink){var s=[0,r.itemSize[1]],l=r.getExtent();t=FL(l2(s[0],t),s[1]);var u=(I=l,O=s,B=6,(H=r.get("hoverLinkDataSize"))&&(B=rf(H,I,O,!0)/2),B),f=[t-u,t+u],p=rf(t,s,l,!0),m=[rf(f[0],s,l,!0),rf(f[1],s,l,!0)];f[0]<s[0]&&(m[0]=-1/0),f[1]>s[1]&&(m[1]=1/0),i&&(m[0]===-1/0?this._showIndicator(p,m[1],"< ",u):m[1]===1/0?this._showIndicator(p,m[0],"> ",u):this._showIndicator(p,p,"\u2248 ",u));var b=this._hoverLinkDataIndices,w=[];(i||HL(r))&&(w=this._hoverLinkDataIndices=r.findTargetDataIndices(m));var k=function(M,I){var O={},B={};return H(M||[],O),H(I||[],B,O),[X(O),X(B)];function H(U,$,et){for(var at=0,At=U.length;at<At;at++){var Mt=No(U[at].seriesId,null);if(null==Mt)return;for(var Lt=mr(U[at].dataIndex),Gt=et&&et[Mt],ne=0,re=Lt.length;ne<re;ne++){var fe=Lt[ne];Gt&&Gt[fe]?Gt[fe]=null:($[Mt]||($[Mt]={}))[fe]=1}}}function X(U,$){var et=[];for(var at in U)if(U.hasOwnProperty(at)&&null!=U[at])if($)et.push(+at);else{var At=X(U[at],!0);At.length&&et.push({seriesId:at,dataIndex:At})}return et}}(b,w);this._dispatchHighDown("downplay",Uk(k[0],r)),this._dispatchHighDown("highlight",Uk(k[1],r))}},e.prototype._hoverLinkFromSeriesMouseOver=function(t){var i=t.target,r=this.visualMapModel;if(i&&null!=Fi(i).dataIndex){var o=Fi(i),s=this.ecModel.getSeriesByIndex(o.seriesIndex);if(r.isTargetSeries(s)){var l=s.getData(o.dataType),u=l.getStore().get(r.getDataDimensionIndex(l),o.dataIndex);isNaN(u)||this._showIndicator(u,u)}}},e.prototype._hideIndicator=function(){var t=this._shapes;t.indicator&&t.indicator.attr("invisible",!0),t.indicatorLabel&&t.indicatorLabel.attr("invisible",!0);var i=this._shapes.handleLabels;if(i)for(var r=0;r<i.length;r++)this._api.leaveBlur(i[r])},e.prototype._clearHoverLinkToSeries=function(){this._hideIndicator();var t=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",Uk(t,this.visualMapModel)),t.length=0},e.prototype._clearHoverLinkFromSeries=function(){this._hideIndicator();var t=this.api.getZr();t.off("mouseover",this._hoverLinkFromSeriesMouseOver),t.off("mouseout",this._hideIndicator)},e.prototype._applyTransform=function(t,i,r,o){var s=Fc(i,o?null:this.group);return Jt(t)?iu(t,s,r):xf(t,s,r)},e.prototype._dispatchHighDown=function(t,i){i&&i.length&&this.api.dispatchAction({type:t,batch:i})},e.prototype.dispose=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},e.prototype.remove=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},e.type="visualMap.continuous",e}(RL);function VL(n,e,t,i){return new qa({shape:{points:n},draggable:!!t,cursor:e,drift:t,onmousemove:function(r){me(r.event)},ondragend:i})}function HL(n){var e=n.get("hoverLinkOnHandle");return!!(null==e?n.get("realtime"):e)}function WL(n){return"vertical"===n?"ns-resize":"ew-resize"}var Dz={type:"selectDataRange",event:"dataRangeSelected",update:"update"},Ez=function(n,e){e.eachComponent({mainType:"visualMap",query:n},function(t){t.setSelected(n.selected)})},Lz=[{createOnAllSeries:!0,reset:function(n,e){var t=[];return e.eachComponent("visualMap",function(i){var r,o,s,l,u,f=n.pipelineContext;!i.isTargetSeries(n)||f&&f.large||t.push((r=i.stateList,o=i.targetVisuals,s=_e(i.getValueState,i),l=i.getDataDimensionIndex(n.getData()),u={},mt(r,function(p){var m=As.prepareVisualTypes(o[p]);u[p]=m}),{progress:function(p,m){var b,w;function k(At){return c0(m,w,At)}function M(At,Mt){S1(m,w,At,Mt)}null!=l&&(b=m.getDimensionIndex(l));for(var I=m.getStore();null!=(w=p.next());){var O=m.getRawDataItem(w);if(!O||!1!==O.visualMap)for(var B=null!=l?I.get(b,w):w,H=s(B),X=o[H],U=u[H],$=0,et=U.length;$<et;$++){var at=U[$];X[at]&&X[at].applyVisual(B,k,M)}}}}))}),t}},{createOnAllSeries:!0,reset:function(n,e){var t=n.getData(),i=[];e.eachComponent("visualMap",function(r){if(r.isTargetSeries(n)){var o=r.getVisualMeta(_e(Pz,null,n,r))||{stops:[],outerColors:[]},s=r.getDataDimensionIndex(t);s>=0&&(o.dimension=s,i.push(o))}}),n.getData().setVisual("visualMeta",i)}}];function Pz(n,e,t,i){for(var r=e.targetVisuals[i],o=As.prepareVisualTypes(r),s={color:Jp(n.getData(),"color")},l=0,u=o.length;l<u;l++){var f=o[l],p=r["opacity"===f?"__alphaForOpacity":f];p&&p.applyVisual(t,m,b)}return s.color;function m(w){return s[w]}function b(w,k){s[w]=k}}var jL=mt;function Oz(n){var e=n&&n.visualMap;Jt(e)||(e=e?[e]:[]),jL(e,function(t){if(t){Nx(t,"splitList")&&!Nx(t,"pieces")&&(t.pieces=t.splitList,delete t.splitList);var i=t.pieces;i&&Jt(i)&&jL(i,function(r){$e(r)&&(Nx(r,"start")&&!Nx(r,"min")&&(r.min=r.start),Nx(r,"end")&&!Nx(r,"max")&&(r.max=r.end))})}})}function Nx(n,e){return n&&n.hasOwnProperty&&n.hasOwnProperty(e)}var YL=!1;function XL(n){YL||(YL=!0,n.registerSubTypeDefaulter("visualMap",function(e){return e.categories||(e.pieces?e.pieces.length>0:e.splitNumber>0)&&!e.calculable?"piecewise":"continuous"}),n.registerAction(Dz,Ez),mt(Lz,function(e){n.registerVisual(n.PRIORITY.VISUAL.COMPONENT,e)}),n.registerPreprocessor(Oz))}function GL(n){n.registerComponentModel(Mz),n.registerComponentView(Iz),XL(n)}var Nz=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t._pieceList=[],t}return Tt(e,n),e.prototype.optionUpdated=function(t,i){n.prototype.optionUpdated.apply(this,arguments),this.resetExtent();var r=this._mode=this._determineMode();this._pieceList=[],Rz[this._mode].call(this,this._pieceList),this._resetSelected(t,i);var o=this.option.categories;this.resetVisual(function(s,l){"categories"===r?(s.mappingMethod="category",s.categories=Pt(o)):(s.dataExtent=this.getExtent(),s.mappingMethod="piecewise",s.pieceList=zt(this._pieceList,function(u){return u=Pt(u),"inRange"!==l&&(u.visual=null),u}))})},e.prototype.completeVisualOption=function(){var t=this.option,i={},r=As.listVisualTypes(),o=this.isCategory();function s(l,u,f){return l&&l[u]&&l[u].hasOwnProperty(f)}mt(t.pieces,function(l){mt(r,function(u){l.hasOwnProperty(u)&&(i[u]=1)})}),mt(i,function(l,u){var f=!1;mt(this.stateList,function(p){f=f||s(t,p,u)||s(t.target,p,u)},this),!f&&mt(this.stateList,function(p){(t[p]||(t[p]={}))[u]=EL(u,"inRange"===p?"active":"inactive",o)})},this),n.prototype.completeVisualOption.apply(this,arguments)},e.prototype._resetSelected=function(t,i){var r=this.option,o=this._pieceList,s=(i?r:t).selected||{};if(r.selected=s,mt(o,function(u,f){var p=this.getSelectedMapKey(u);s.hasOwnProperty(p)||(s[p]=!0)},this),"single"===r.selectedMode){var l=!1;mt(o,function(u,f){var p=this.getSelectedMapKey(u);s[p]&&(l?s[p]=!1:l=!0)},this)}},e.prototype.getItemSymbol=function(){return this.get("itemSymbol")},e.prototype.getSelectedMapKey=function(t){return"categories"===this._mode?t.value+"":t.index+""},e.prototype.getPieceList=function(){return this._pieceList},e.prototype._determineMode=function(){var t=this.option;return t.pieces&&t.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},e.prototype.setSelected=function(t){this.option.selected=Pt(t)},e.prototype.getValueState=function(t){var i=As.findPieceIndex(t,this._pieceList);return null!=i&&this.option.selected[this.getSelectedMapKey(this._pieceList[i])]?"inRange":"outOfRange"},e.prototype.findTargetDataIndices=function(t){var i=[],r=this._pieceList;return this.eachTargetSeries(function(o){var s=[],l=o.getData();l.each(this.getDataDimensionIndex(l),function(u,f){As.findPieceIndex(u,r)===t&&s.push(f)},this),i.push({seriesId:o.id,dataIndex:s})},this),i},e.prototype.getRepresentValue=function(t){var i;if(this.isCategory())i=t.value;else if(null!=t.value)i=t.value;else{var r=t.interval||[];i=r[0]===-1/0&&r[1]===1/0?0:(r[0]+r[1])/2}return i},e.prototype.getVisualMeta=function(t){if(!this.isCategory()){var i=[],r=["",""],o=this,s=this._pieceList.slice();if(s.length){var l=s[0].interval[0];l!==-1/0&&s.unshift({interval:[-1/0,l]}),(l=s[s.length-1].interval[1])!==1/0&&s.push({interval:[l,1/0]})}else s.push({interval:[-1/0,1/0]});var u=-1/0;return mt(s,function(p){var m=p.interval;m&&(m[0]>u&&f([u,m[0]],"outOfRange"),f(m.slice()),u=m[1])},this),{stops:i,outerColors:r}}function f(p,m){var b=o.getRepresentValue({interval:p});m||(m=o.getValueState(b));var w=t(b,m);p[0]===-1/0?r[0]=w:p[1]===1/0?r[1]=w:i.push({value:p[0],color:w},{value:p[1],color:w})}},e.type="visualMap.piecewise",e.defaultOption=Hc(qk.defaultOption,{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieces:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0}),e}(qk),Rz={splitNumber:function(n){var e=this.option,t=Math.min(e.precision,20),i=this.getExtent(),r=e.splitNumber;r=Math.max(parseInt(r,10),1),e.splitNumber=r;for(var o=(i[1]-i[0])/r;+o.toFixed(t)!==o&&t<5;)t++;e.precision=t,o=+o.toFixed(t),e.minOpen&&n.push({interval:[-1/0,i[0]],close:[0,0]});for(var s=0,l=i[0];s<r;l+=o,s++)n.push({interval:[l,s===r-1?i[1]:l+o],close:[1,1]});e.maxOpen&&n.push({interval:[i[1],1/0],close:[0,0]}),uo(n),mt(n,function(f,p){f.index=p,f.text=this.formatValueText(f.interval)},this)},categories:function(n){var e=this.option;mt(e.categories,function(t){n.push({text:this.formatValueText(t,!0),value:t})},this),qL(e,n)},pieces:function(n){var e=this.option;mt(e.pieces,function(t,i){$e(t)||(t={value:t});var r={text:"",index:i};if(null!=t.label&&(r.text=t.label),t.hasOwnProperty("value")){var o=r.value=t.value;r.interval=[o,o],r.close=[1,1]}else{for(var s=r.interval=[],l=r.close=[0,0],u=[1,0,1],f=[-1/0,1/0],p=[],m=0;m<2;m++){for(var b=[["gte","gt","min"],["lte","lt","max"]][m],w=0;w<3&&null==s[m];w++)s[m]=t[b[w]],l[m]=u[w],p[m]=2===w;null==s[m]&&(s[m]=f[m])}p[0]&&s[1]===1/0&&(l[0]=0),p[1]&&s[0]===-1/0&&(l[1]=0),s[0]===s[1]&&l[0]&&l[1]&&(r.value=s[0])}r.visual=As.retrieveVisuals(t),n.push(r)},this),qL(e,n),uo(n),mt(n,function(t){var i=t.close;t.text=t.text||this.formatValueText(null!=t.value?t.value:t.interval,!1,[["<","\u2264"][i[1]],[">","\u2265"][i[0]]])},this)}};function qL(n,e){var t=n.inverse;("vertical"===n.orient?!t:t)&&e.reverse()}var Bz=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return Tt(e,n),e.prototype.doRender=function(){var t=this.group;t.removeAll();var i=this.visualMapModel,r=i.get("textGap"),o=i.textStyleModel,s=o.getFont(),l=o.getTextColor(),u=this._getItemAlign(),f=i.itemSize,p=this._getViewData(),m=p.endsText,b=On(i.get("showLabel",!0),!m);m&&this._renderEndsText(t,m[0],f,b,u),mt(p.viewPieceList,function(w){var k=w.piece,M=new bt;M.onclick=_e(this._onItemClick,this,k),this._enableHoverLink(M,w.indexInModelPieceList);var I=i.getRepresentValue(k);if(this._createItemSymbol(M,I,[0,0,f[0],f[1]]),b){var O=this.visualMapModel.getValueState(I);M.add(new dr({style:{x:"right"===u?-r:f[0]+r,y:f[1]/2,text:k.text,verticalAlign:"middle",align:u,font:s,fill:l,opacity:"outOfRange"===O?.5:1}}))}t.add(M)},this),m&&this._renderEndsText(t,m[1],f,b,u),kf(i.get("orient"),t,i.get("itemGap")),this.renderBackground(t),this.positionGroup(t)},e.prototype._enableHoverLink=function(t,i){var r=this;t.on("mouseover",function(){return o("highlight")}).on("mouseout",function(){return o("downplay")});var o=function(s){var l=r.visualMapModel;l.option.hoverLink&&r.api.dispatchAction({type:s,batch:Uk(l.findTargetDataIndices(i),l)})}},e.prototype._getItemAlign=function(){var t=this.visualMapModel,i=t.option;if("vertical"===i.orient)return zL(t,this.api,t.itemSize);var r=i.align;return r&&"auto"!==r||(r="left"),r},e.prototype._renderEndsText=function(t,i,r,o,s){if(i){var l=new bt,u=this.visualMapModel.textStyleModel;l.add(new dr({style:{x:o?"right"===s?r[0]:0:r[0]/2,y:r[1]/2,verticalAlign:"middle",align:o?s:"center",text:i,font:u.getFont(),fill:u.getTextColor()}})),t.add(l)}},e.prototype._getViewData=function(){var t=this.visualMapModel,i=zt(t.getPieceList(),function(l,u){return{piece:l,indexInModelPieceList:u}}),r=t.get("text"),o=t.get("orient"),s=t.get("inverse");return("horizontal"===o?s:!s)?i.reverse():r&&(r=r.slice().reverse()),{viewPieceList:i,endsText:r}},e.prototype._createItemSymbol=function(t,i,r){t.add(oa(this.getControllerVisual(i,"symbol"),r[0],r[1],r[2],r[3],this.getControllerVisual(i,"color")))},e.prototype._onItemClick=function(t){var i=this.visualMapModel,r=i.option,o=Pt(r.selected),s=i.getSelectedMapKey(t);"single"===r.selectedMode?(o[s]=!0,mt(o,function(l,u){o[u]=u===s})):o[s]=!o[s],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:o})},e.type="visualMap.piecewise",e}(RL);function UL(n){n.registerComponentModel(Nz),n.registerComponentView(Bz),XL(n)}var zz={label:{enabled:!0},decal:{show:!1}},$L=ar(),Fz={};function Vz(n,e){var t=n.getModel("aria");if(t.get("enabled")){var i=Pt(zz);Xt(i.label,n.getLocaleModel().get("aria"),!1),Xt(t.option,i,!1),function(){if(t.getModel("decal").get("show")){var o=ii();n.eachSeries(function(s){if(!s.isColorBySeries()){var l=o.get(s.type);l||o.set(s.type,l={}),$L(s).scope=l}}),n.eachRawSeries(function(s){if(!n.isSeriesFiltered(s))if("function"!=typeof s.enableAriaDecal){var l=s.getData();if(s.isColorBySeries()){var u=Vp(s.ecModel,s.name,Fz,n.getSeriesCount()),f=l.getVisual("decal");l.setVisual("decal",k(f,u))}else{var p=s.getRawData(),m={},b=$L(s).scope;l.each(function(M){var I=l.getRawIndex(M);m[I]=M});var w=p.count();p.each(function(M){var I=m[M],O=p.getName(M)||M+"",B=Vp(s.ecModel,O,b,w),H=l.getItemVisual(I,"decal");l.setItemVisual(I,"decal",k(H,B))})}}else s.enableAriaDecal();function k(M,I){var O=M?Dt(Dt({},I),M):I;return O.dirty=!0,O}})}}(),function(){var X,o=n.getLocaleModel().get("aria"),s=t.getModel("label");if(s.option=se(s.option,o),s.get("enabled")){var l=e.getZr().dom;if(s.get("description"))return void l.setAttribute("aria-label",s.get("description"));var u,f=n.getSeriesCount(),p=s.get(["data","maxCount"])||10,m=s.get(["series","maxCount"])||10,b=Math.min(f,m);if(!(f<1)){var w=((X=n.get("title"))&&X.length&&(X=X[0]),X&&X.text);u=w?r(s.get(["general","withTitle"]),{title:w}):s.get(["general","withoutTitle"]);var M=[];u+=r(s.get(f>1?["series","multiple","prefix"]:["series","single","prefix"]),{seriesCount:f}),n.eachSeries(function(X,U){if(U<b){var $=void 0,et=X.get("name")?"withName":"withoutName";$=r($=s.get(f>1?["series","multiple",et]:["series","single",et]),{seriesId:X.seriesIndex,seriesName:X.get("name"),seriesType:(ye=X.subType,n.getLocaleModel().get(["series","typeNames"])[ye]||"\u81ea\u5b9a\u4e49\u56fe")});var at=X.getData();at.count()>p?$+=r(s.get(["data","partialData"]),{displayCnt:p}):$+=s.get(["data","allData"]);for(var At=s.get(["data","separator","middle"]),Mt=s.get(["data","separator","end"]),Lt=[],Gt=0;Gt<at.count();Gt++)if(Gt<p){var ne=at.getName(Gt),re=at.getValues(Gt),fe=s.get(["data",ne?"withName":"withoutName"]);Lt.push(r(fe,{name:ne,value:re.join(At)}))}$+=Lt.join(At)+Mt,M.push($)}var ye});var O=s.getModel(["series","multiple","separator"]),B=O.get("middle"),H=O.get("end");u+=M.join(B)+H,l.setAttribute("aria-label",u)}}}()}function r(o,s){if("string"!=typeof o)return o;var l=o;return mt(s,function(u,f){l=l.replace(new RegExp("\\{\\s*"+f+"\\s*\\}","g"),u)}),l}}function Hz(n){if(n&&n.aria){var e=n.aria;null!=e.show&&(e.enabled=e.show),e.label=e.label||{},mt(["description","general","series","data"],function(t){null!=e[t]&&(e.label[t]=e[t])})}}var ZL={value:"eq","<":"lt","<=":"lte",">":"gt",">=":"gte","=":"eq","!=":"ne","<>":"ne"},Wz=function(){function n(e){null==(this._condVal=Ke(e)?new RegExp(e):dn(e)?e:null)&&Ai("")}return n.prototype.evaluate=function(e){var t=typeof e;return"string"===t?this._condVal.test(e):"number"===t&&this._condVal.test(e+"")},n}(),jz=function(){function n(){}return n.prototype.evaluate=function(){return this.value},n}(),Yz=function(){function n(){}return n.prototype.evaluate=function(){for(var e=this.children,t=0;t<e.length;t++)if(!e[t].evaluate())return!1;return!0},n}(),Xz=function(){function n(){}return n.prototype.evaluate=function(){for(var e=this.children,t=0;t<e.length;t++)if(e[t].evaluate())return!0;return!1},n}(),Gz=function(){function n(){}return n.prototype.evaluate=function(){return!this.child.evaluate()},n}(),qz=function(){function n(){}return n.prototype.evaluate=function(){for(var e=!!this.valueParser,t=(0,this.getValue)(this.valueGetterParam),i=e?this.valueParser(t):null,r=0;r<this.subCondList.length;r++)if(!this.subCondList[r].evaluate(e?i:t))return!1;return!0},n}();function u2(n,e){if(!0===n||!1===n){var t=new jz;return t.value=n,t}return QL(n)||Ai(""),n.and?KL("and",n,e):n.or?KL("or",n,e):n.not?function(r,o){var s=r.not;QL(s)||Ai("");var u=new Gz;return u.child=u2(s,o),u.child||Ai(""),u}(n,e):function(r,o){for(var l=o.prepareGetValue(r),u=[],f=be(r),p=r.parser,m=p?aS(p):null,b=0;b<f.length;b++){var w=f[b];if("parser"!==w&&!o.valueGetterAttrMap.get(w)){var k=ei(ZL,w)?ZL[w]:w,M=r[w],I=m?m(M):M,O=Qb(k,I)||"reg"===k&&new Wz(I);O||Ai(""),u.push(O)}}u.length||Ai("");var B=new qz;return B.valueGetterParam=l,B.valueParser=m,B.getValue=o.getValue,B.subCondList=u,B}(n,e)}function KL(n,e,t){var i=e[n];Jt(i)||Ai(""),i.length||Ai("");var o="and"===n?new Yz:new Xz;return o.children=zt(i,function(s){return u2(s,t)}),o.children.length||Ai(""),o}function QL(n){return $e(n)&&!an(n)}var Uz=function(){function n(e,t){this._cond=u2(e,t)}return n.prototype.evaluate=function(){return this._cond.evaluate()},n}(),$z={type:"echarts:filter",transform:function(n){for(var e,t,i,r=n.upstream,o=(t=n.config,i={valueGetterAttrMap:ii({dimension:!0}),prepareGetValue:function(f){var m=f.dimension;ei(f,"dimension")||Ai("");var b=r.getDimensionInfo(m);return b||Ai(""),{dimIdx:b.index}},getValue:function(f){return r.retrieveValueFromItem(e,f.dimIdx)}},new Uz(t,i)),s=[],l=0,u=r.count();l<u;l++)e=r.getRawDataItem(l),o.evaluate()&&s.push(e);return{data:s}}},Zz={type:"echarts:sort",transform:function(n){var e=n.upstream,i="",r=mr(n.config);r.length||Ai(i);var o=[];mt(r,function(p){var m=p.dimension,b=p.order,w=p.parser,k=p.incomparable;null==m&&Ai(i),"asc"!==b&&"desc"!==b&&Ai(i),k&&"min"!==k&&"max"!==k&&Ai(""),"asc"!==b&&"desc"!==b&&Ai("");var O=e.getDimensionInfo(m);O||Ai(i);var B=w?aS(w):null;w&&!B&&Ai(i),o.push({dimIdx:O.index,parser:B,comparator:new sS(b,k)})});var s=e.sourceFormat;s!==Nu&&s!==Yc&&Ai(i);for(var l=[],u=0,f=e.count();u<f;u++)l.push(e.getRawDataItem(u));return l.sort(function(p,m){for(var b=0;b<o.length;b++){var w=o[b],k=e.retrieveValueFromItem(p,w.dimIdx),M=e.retrieveValueFromItem(m,w.dimIdx);w.parser&&(k=w.parser(k),M=w.parser(M));var I=w.comparator.evaluate(k,M);if(0!==I)return I}return 0}),{data:l}}},Kz=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="dataset",t}return Tt(e,n),e.prototype.init=function(t,i,r){n.prototype.init.call(this,t,i,r),this._sourceManager=new fS(this),Em(this)},e.prototype.mergeOption=function(t,i){n.prototype.mergeOption.call(this,t,i),Em(this)},e.prototype.optionUpdated=function(){this._sourceManager.dirty()},e.prototype.getSourceManager=function(){return this._sourceManager},e.type="dataset",e.defaultOption={seriesLayoutBy:Mf},e}(rr),Qz=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="dataset",t}return Tt(e,n),e.type="dataset",e}(co),of=en.CMD;function Rx(n,e){return Math.abs(n-e)<1e-5}function c2(n){var e,t,i,r,o,Gt,ne,re,fe,ye,Te,Ie,Re,Xe,cn,_n,Hn,gn,Yn,Xn,di,fi,s=n.data,l=n.len(),u=[],f=0,p=0,m=0,b=0;function w(Gt,ne){e&&e.length>2&&u.push(e),e=[Gt,ne]}function k(Gt,ne,re,fe){Rx(Gt,re)&&Rx(ne,fe)||e.push(Gt,ne,re,fe,re,fe)}for(var I=0;I<l;){var O=s[I++],B=1===I;switch(B&&(m=f=s[I],b=p=s[I+1],O!==of.L&&O!==of.C&&O!==of.Q||(e=[m,b])),O){case of.M:f=m=s[I++],p=b=s[I++],w(m,b);break;case of.L:k(f,p,t=s[I++],i=s[I++]),f=t,p=i;break;case of.C:e.push(s[I++],s[I++],s[I++],s[I++],f=s[I++],p=s[I++]);break;case of.Q:t=s[I++],i=s[I++],r=s[I++],o=s[I++],e.push(f+2/3*(t-f),p+2/3*(i-p),r+2/3*(t-r),o+2/3*(i-o),r,o),f=r,p=o;break;case of.A:var H=s[I++],X=s[I++],U=s[I++],$=s[I++],et=s[I++],at=s[I++]+et;I+=1;var At=!s[I++];t=Math.cos(et)*U+H,i=Math.sin(et)*$+X,B?w(m=t,b=i):k(f,p,t,i),f=Math.cos(at)*U+H,p=Math.sin(at)*$+X;for(var Mt=(At?-1:1)*Math.PI/2,Lt=et;At?Lt>at:Lt<at;Lt+=Mt)Gt=Lt,ne=At?Math.max(Lt+Mt,at):Math.min(Lt+Mt,at),re=H,fe=X,ye=U,Te=$,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,Ie=Math.abs(ne-Gt),Re=4*Math.tan(Ie/4)/3,Xe=ne<Gt?-1:1,cn=Math.cos(Gt),_n=Math.sin(Gt),Hn=Math.cos(ne),gn=Math.sin(ne),e.push(cn*ye+re-(di=ye*Re*Xe)*_n,_n*Te+fe+(fi=Te*Re*Xe)*cn,(Yn=Hn*ye+re)+di*gn,(Xn=gn*Te+fe)-fi*Hn,Yn,Xn);break;case of.R:m=f=s[I++],b=p=s[I++],t=m+s[I++],i=b+s[I++],w(t,b),k(t,b,t,i),k(t,i,m,i),k(m,i,m,b),k(m,b,t,b);break;case of.Z:e&&k(f,p,m,b),f=m,p=b}}return e&&e.length>2&&u.push(e),u}function h2(n,e,t,i,r,o,s,l,u,f){if(Rx(n,t)&&Rx(e,i)&&Rx(r,s)&&Rx(o,l))u.push(s,l);else{var p=2/f,m=p*p,b=s-n,w=l-e,k=Math.sqrt(b*b+w*w);b/=k,w/=k;var M=t-n,I=i-e,O=r-s,B=o-l,H=M*M+I*I,X=O*O+B*B;if(H<m&&X<m)u.push(s,l);else{var U=b*M+w*I,$=-b*O-w*B;if(H-U*U<m&&U>=0&&X-$*$<m&&$>=0)u.push(s,l);else{var et=[],at=[];ku(n,t,r,s,.5,et),ku(e,i,o,l,.5,at),h2(et[0],at[0],et[1],at[1],et[2],at[2],et[3],at[3],u,f),h2(et[4],at[4],et[5],at[5],et[6],at[6],et[7],at[7],u,f)}}}}function JL(n,e,t){var o=Math.abs(n[e]/n[1-e]),s=Math.ceil(Math.sqrt(o*t)),l=Math.floor(t/s);0===l&&(l=1,s=t);for(var u=[],f=0;f<s;f++)u.push(l);var p=t-s*l;if(p>0)for(f=0;f<p;f++)u[f%s]+=1;return u}function tP(n,e,t){for(var i=n.r0,r=n.r,o=n.startAngle,l=Math.abs(n.endAngle-o),u=l*r,f=r-i,p=u>Math.abs(f),m=JL([u,f],p?0:1,e),b=(p?l:f)/m.length,w=0;w<m.length;w++)for(var k=(p?f:l)/m[w],M=0;M<m[w];M++){var I={};p?(I.startAngle=o+b*w,I.endAngle=o+b*(w+1),I.r0=i+k*M,I.r=i+k*(M+1)):(I.startAngle=o+k*M,I.endAngle=o+k*(M+1),I.r0=i+b*w,I.r=i+b*(w+1)),I.clockwise=n.clockwise,I.cx=n.cx,I.cy=n.cy,t.push(I)}}function eP(n,e,t,i){return n*i-t*e}function Jz(n,e,t,i,r,o,s,l){var u=t-n,f=i-e,p=s-r,m=l-o,b=eP(p,m,u,f);if(Math.abs(b)<1e-6)return null;var w=eP(n-r,e-o,p,m)/b;return w<0||w>1?null:new Bi(w*u+n,w*f+e)}function t5(n,e,t){var i=new Bi;Bi.sub(i,t,e),i.normalize();var r=new Bi;return Bi.sub(r,n,e),r.dot(i)}function Bx(n,e){var t=n[n.length-1];t&&t[0]===e[0]&&t[1]===e[1]||n.push(e)}function nP(n){var e=n.points,t=[],i=[];Oc(e,t,i);var r=new Xi(t[0],t[1],i[0]-t[0],i[1]-t[1]),o=r.width,s=r.height,l=r.x,u=r.y,f=new Bi,p=new Bi;return o>s?(f.x=p.x=l+o/2,f.y=u,p.y=u+s):(f.y=p.y=u+s/2,f.x=l,p.x=l+o),function(m,b,w){for(var k=m.length,M=[],I=0;I<k;I++){var O=m[I],B=m[(I+1)%k],H=Jz(O[0],O[1],B[0],B[1],b.x,b.y,w.x,w.y);H&&M.push({projPt:t5(H,b,w),pt:H,idx:I})}if(M.length<2)return[{points:m},{points:m}];M.sort(function(Lt,Gt){return Lt.projPt-Gt.projPt});var X=M[0],U=M[M.length-1];if(U.idx<X.idx){var $=X;X=U,U=$}var et=[X.pt.x,X.pt.y],at=[U.pt.x,U.pt.y],At=[et],Mt=[at];for(I=X.idx+1;I<=U.idx;I++)Bx(At,m[I].slice());for(Bx(At,at),Bx(At,et),I=U.idx+1;I<=X.idx+k;I++)Bx(Mt,m[I%k].slice());return Bx(Mt,et),Bx(Mt,at),[{points:At},{points:Mt}]}(e,f,p)}function $k(n,e,t,i){if(1===t)i.push(e);else{var r=Math.floor(t/2),o=n(e);$k(n,o[0],r,i),$k(n,o[1],t-r,i)}return i}function e5(n,e){e.setStyle(n.style),e.z=n.z,e.z2=n.z2,e.zlevel=n.zlevel}function i5(n,e){var t=n.length,i=e.length;if(t===i)return[n,e];for(var r=[],o=[],s=t<i?n:e,l=Math.min(t,i),u=Math.abs(i-t)/6,p=Math.ceil(u/((l-2)/6))+1,m=[s[0],s[1]],b=u,w=2;w<l;){var k=s[w-2],M=s[w-1],I=s[w++],O=s[w++],B=s[w++],H=s[w++],X=s[w++],U=s[w++];if(b<=0)m.push(I,O,B,H,X,U);else{for(var $=Math.min(b,p-1)+1,et=1;et<=$;et++){var at=et/$;ku(k,I,B,X,at,r),ku(M,O,H,U,at,o),m.push(r[1],o[1],r[2],o[2],k=r[3],M=o[3]),I=r[5],O=o[5],B=r[6],H=o[6]}b-=$-1}}return s===n?[m,e]:[n,m]}function iP(n,e){for(var t=n.length,i=n[t-2],r=n[t-1],o=[],s=0;s<e.length;)o[s++]=i,o[s++]=r;return o}function rP(n){for(var e=0,t=0,i=0,r=n.length,o=0,s=r-2;o<r;s=o,o+=2){var l=n[s],u=n[s+1],f=n[o],p=n[o+1],m=l*p-f*u;e+=m,t+=(l+f)*m,i+=(u+p)*m}return 0===e?[n[0]||0,n[1]||0]:[t/e/3,i/e/3,e]}function r5(n,e,t,i){for(var r=(n.length-2)/6,o=1/0,s=0,l=n.length,u=l-2,f=0;f<r;f++){for(var p=6*f,m=0,b=0;b<l;b+=2){var w=0===b?p:(p+b-2)%u+2,I=e[b]-i[0]-(n[w]-t[0]),O=e[b+1]-i[1]-(n[w+1]-t[1]);m+=I*I+O*O}m<o&&(o=m,s=f)}return s}function o5(n){for(var e=[],t=n.length,i=0;i<t;i+=2)e[i]=n[t-i-2],e[i+1]=n[t-i-1];return e}function Zk(n){return n.__isCombineMorphing}var oP="__mOriginal_";function Kk(n,e,t){var i=oP+e,r=n[i]||n[e];n[i]||(n[i]=n[e]);var o=t.replace,s=t.after,l=t.before;n[e]=function(){var u,f=arguments;return l&&l.apply(this,f),u=o?o.apply(this,f):r.apply(this,f),s&&s.apply(this,f),u}}function Iw(n,e){var t=oP+e;n[t]&&(n[e]=n[t],n[t]=null)}function aP(n,e){for(var t=0;t<n.length;t++)for(var i=n[t],r=0;r<i.length;){var o=i[r],s=i[r+1];i[r++]=e[0]*o+e[2]*s+e[4],i[r++]=e[1]*o+e[3]*s+e[5]}}function sP(n,e){var t=n.getUpdatedPathProxy(),i=e.getUpdatedPathProxy(),r=function(m,b){for(var w,k,M,I=[],O=[],B=0;B<Math.max(m.length,b.length);B++){var H=m[B],X=b[B],U=void 0,$=void 0;H?X?(k=U=(w=i5(H,X))[0],M=$=w[1]):($=iP(M||H,H),U=H):(U=iP(k||X,X),$=X),I.push(U),O.push($)}return[I,O]}(c2(t),c2(i)),o=r[0],s=r[1],l=n.getComputedTransform(),u=e.getComputedTransform();l&&aP(o,l),u&&aP(s,u),Kk(e,"updateTransform",{replace:function(){this.transform=null}}),e.transform=null;var f=function(m,b,w,k){for(var M,I=[],O=0;O<m.length;O++){var B=m[O],H=b[O],X=rP(B),U=rP(H);null==M&&(M=X[2]<0!=U[2]<0);var $=[],et=[],at=0,At=1/0,Mt=[],Lt=B.length;M&&(B=o5(B));for(var Gt=6*r5(B,H,X,U),ne=Lt-2,re=0;re<ne;re+=2){var fe=(Gt+re)%ne+2;$[re+2]=B[fe]-X[0],$[re+3]=B[fe+1]-X[1]}$[0]=B[Gt]-X[0],$[1]=B[Gt+1]-X[1];for(var ye=k/10,Te=-k/2;Te<=k/2;Te+=ye){var Ie=Math.sin(Te),Re=Math.cos(Te),Xe=0;for(re=0;re<B.length;re+=2){var cn=$[re],_n=$[re+1],Hn=H[re]-U[0],gn=H[re+1]-U[1],Dn=Hn*Re-gn*Ie,Un=Hn*Ie+gn*Re;Mt[re]=Dn,Mt[re+1]=Un;var Yn=Dn-cn,Xn=Un-_n;Xe+=Yn*Yn+Xn*Xn}if(Xe<At){At=Xe,at=Te;for(var di=0;di<Mt.length;di++)et[di]=Mt[di]}}I.push({from:$,to:et,fromCp:X,toCp:U,rotation:-at})}return I}(o,s,0,Math.PI),p=[];Kk(e,"buildPath",{replace:function(m){for(var b=e.__morphT,w=1-b,k=[],M=0;M<f.length;M++){var I=f[M],O=I.from,B=I.to,H=I.rotation*b,X=I.fromCp,U=I.toCp,$=Math.sin(H),et=Math.cos(H);Ho(k,X,U,b);for(var at=0;at<O.length;at+=2){var Lt=O[at]*w+(fe=B[at])*b,Gt=O[at+1]*w+(ye=B[at+1])*b;p[at]=Lt*et-Gt*$+k[0],p[at+1]=Lt*$+Gt*et+k[1]}var ne=p[0],re=p[1];for(m.moveTo(ne,re),at=2;at<O.length;){var fe=p[at++],ye=p[at++],Te=p[at++],Ie=p[at++],Re=p[at++],Xe=p[at++];ne===fe&&re===ye&&Te===Re&&Ie===Xe?m.lineTo(Re,Xe):m.bezierCurveTo(fe,ye,Te,Ie,Re,Xe),ne=Re,re=Xe}}}})}function d2(n,e,t){if(!n||!e)return e;var i=t.done,r=t.during;return sP(n,e),e.__morphT=0,e.animateTo({__morphT:1},se({during:function(o){e.dirtyShape(),r&&r(o)},done:function(){Iw(e,"buildPath"),Iw(e,"updateTransform"),e.__morphT=-1,e.createPathProxy(),e.dirtyShape(),i&&i()}},t)),e}function a5(n,e,t,i,r,o){n=r===t?0:Math.round(32767*(n-t)/(r-t)),e=o===i?0:Math.round(32767*(e-i)/(o-i));for(var s,l=0,u=32768;u>0;u/=2){var f=0,p=0;(n&u)>0&&(f=1),(e&u)>0&&(p=1),l+=u*u*(3*f^p),0===p&&(1===f&&(n=u-1-n,e=u-1-e),s=n,n=e,e=s)}return l}function Qk(n){var e=1/0,t=1/0,i=-1/0,r=-1/0,o=zt(n,function(s){var l=s.getBoundingRect(),u=s.getComputedTransform(),f=l.x+l.width/2+(u?u[4]:0),p=l.y+l.height/2+(u?u[5]:0);return e=Math.min(f,e),t=Math.min(p,t),i=Math.max(f,i),r=Math.max(p,r),[f,p]});return zt(o,function(s,l){return{cp:s,z:a5(s[0],s[1],e,t,i,r),path:n[l]}}).sort(function(s,l){return s.z-l.z}).map(function(s){return s.path})}function lP(n){return function(n,e){var t,i=[],r=n.shape;switch(n.type){case"rect":(function(O,B,H){for(var X=O.width,U=O.height,$=X>U,et=JL([X,U],$?0:1,B),at=$?"width":"height",At=$?"height":"width",Mt=$?"x":"y",Lt=$?"y":"x",Gt=O[at]/et.length,ne=0;ne<et.length;ne++)for(var re=O[At]/et[ne],fe=0;fe<et[ne];fe++){var ye={};ye[Mt]=ne*Gt,ye[Lt]=fe*re,ye[at]=Gt,ye[At]=re,ye.x+=O.x,ye.y+=O.y,H.push(ye)}})(r,e,i),t=vr;break;case"sector":tP(r,e,i),t=Fr;break;case"circle":tP({r0:0,r:r.r,startAngle:0,endAngle:2*Math.PI,cx:r.cx,cy:r.cy},e,i),t=Fr;break;default:var o=n.getComputedTransform(),s=o?Math.sqrt(Math.max(o[0]*o[0]+o[1]*o[1],o[2]*o[2]+o[3]*o[3])):1,l=zt(function(O,B){var H=c2(O),X=[];B=B||1;for(var U=0;U<H.length;U++){var $=H[U],et=[],at=$[0],At=$[1];et.push(at,At);for(var Mt=2;Mt<$.length;){var Lt=$[Mt++],Gt=$[Mt++],ne=$[Mt++],re=$[Mt++],fe=$[Mt++],ye=$[Mt++];h2(at,At,Lt,Gt,ne,re,fe,ye,et,B),at=fe,At=ye}X.push(et)}return X}(n.getUpdatedPathProxy(),s),function(O){return function(B){for(var H=[],X=0;X<B.length;)H.push([B[X++],B[X++]]);return H}(O)}),u=l.length;if(0===u)$k(nP,{points:l[0]},e,i);else if(u===e)for(var f=0;f<u;f++)i.push({points:l[f]});else{var p=0,m=zt(l,function(O){var B=[],H=[];Oc(O,B,H);var X=(H[1]-B[1])*(H[0]-B[0]);return p+=X,{poly:O,area:X}});m.sort(function(O,B){return B.area-O.area});var b=e;for(f=0;f<u;f++){var w=m[f];if(b<=0)break;var k=f===u-1?b:Math.ceil(w.area/p*e);k<0||($k(nP,{points:w.poly},k,i),b-=k)}}t=qa}if(!t)return function(O,B){for(var H=[],X=0;X<B;X++)H.push(sb(O));return H}(n,e);var M=[];for(f=0;f<i.length;f++){var I=new t;I.setShape(i[f]),e5(n,I),M.push(I)}return M}(n.path,n.count)}function uP(n){return Jt(n[0])}function cP(n,e){for(var t=[],i=n.length,r=0;r<i;r++)t.push({one:n[r],many:[]});for(r=0;r<e.length;r++){var o=e[r].length,s=void 0;for(s=0;s<o;s++)t[s%i].many.push(e[r][s])}var l=0;for(r=i-1;r>=0;r--)if(!t[r].many.length){var u=t[l].many;if(u.length<=1){if(!l)return t;l=0}o=u.length;var f=Math.ceil(o/2);t[r].many=u.slice(f,o),t[l].many=u.slice(0,f),l++}return t}var s5={clone:function(n){for(var e=[],t=1-Math.pow(1-n.path.style.opacity,1/n.count),i=0;i<n.count;i++){var r=sb(n.path);r.setStyle("opacity",t),e.push(r)}return e},split:null};function f2(n,e,t,i,r,o){if(n.length&&e.length){var s=im("update",i,r);if(s&&s.duration>0){var l,u,f=i.getModel("universalTransition").get("delay"),p=Object.assign({setToFinal:!0},s);uP(n)&&(l=n,u=e),uP(e)&&(l=e,u=n);for(var m=l?l===n:n.length>e.length,b=l?cP(u,l):cP(m?e:n,[m?n:e]),w=0,k=0;k<b.length;k++)w+=b[k].many.length;var M=0;for(k=0;k<b.length;k++)I(b[k],m,M,w),M+=b[k].many.length}}function I(O,B,H,X,U){var $=O.many,et=O.one;if(1!==$.length||U)for(var at=se({dividePath:s5[t],individualDelay:f&&function(Te,Ie,Re,Xe){return f(Te+H,X)}},p),At=B?function(Te,Ie,Re){var Xe=[];!function Ir(Ar){for(var ua=0;ua<Ar.length;ua++){var xo=Ar[ua];Zk(xo)?Ir(xo.childrenRef()):xo instanceof zi&&Xe.push(xo)}}(Te);var cn=Xe.length;if(!cn)return{fromIndividuals:[],toIndividuals:[],count:0};var _n=(Re.dividePath||lP)({path:Ie,count:cn});if(_n.length!==cn)return console.error("Invalid morphing: unmatched splitted path"),{fromIndividuals:[],toIndividuals:[],count:0};Xe=Qk(Xe),_n=Qk(_n);for(var Hn=Re.done,gn=Re.during,Dn=Re.individualDelay,Un=new as,Yn=0;Yn<cn;Yn++){var Xn=Xe[Yn],di=_n[Yn];di.parent=Ie,di.copyTransform(Un),Dn||sP(Xn,di)}function fi(Ir){for(var Ar=0;Ar<_n.length;Ar++)_n[Ar].addSelfToZr(Ir)}function Pi(){Ie.__isCombineMorphing=!1,Ie.__morphT=-1,Ie.childrenRef=null,Iw(Ie,"addSelfToZr"),Iw(Ie,"removeSelfFromZr")}Ie.__isCombineMorphing=!0,Ie.childrenRef=function(){return _n},Kk(Ie,"addSelfToZr",{after:function(Ir){fi(Ir)}}),Kk(Ie,"removeSelfFromZr",{after:function(Ir){for(var Ar=0;Ar<_n.length;Ar++)_n[Ar].removeSelfFromZr(Ir)}});var Wi=_n.length;if(Dn){var Gi=Wi,Jo=function(){0==--Gi&&(Pi(),Hn&&Hn())};for(Yn=0;Yn<Wi;Yn++){var zo=Dn?se({delay:(Re.delay||0)+Dn(Yn,Wi,Xe[Yn],_n[Yn]),done:Jo},Re):Re;d2(Xe[Yn],_n[Yn],zo)}}else Ie.__morphT=0,Ie.animateTo({__morphT:1},se({during:function(Ir){for(var Ar=0;Ar<Wi;Ar++){var ua=_n[Ar];ua.__morphT=Ie.__morphT,ua.dirtyShape()}gn&&gn(Ir)},done:function(){Pi();for(var Ir=0;Ir<Te.length;Ir++)Iw(Te[Ir],"updateTransform");Hn&&Hn()}},Re));return Ie.__zr&&fi(Ie.__zr),{fromIndividuals:Xe,toIndividuals:_n,count:Wi}}($,et,at):function(Te,Ie,Re){var Xe=Ie.length,cn=[],_n=Re.dividePath||lP;if(Zk(Te)){!function di(fi){for(var Pi=0;Pi<fi.length;Pi++){var Wi=fi[Pi];Zk(Wi)?di(Wi.childrenRef()):Wi instanceof zi&&cn.push(Wi)}}(Te.childrenRef());var Hn=cn.length;if(Hn<Xe)for(var gn=0,Dn=Hn;Dn<Xe;Dn++)cn.push(sb(cn[gn++%Hn]));cn.length=Xe}else{cn=_n({path:Te,count:Xe});var Un=Te.getComputedTransform();for(Dn=0;Dn<cn.length;Dn++)cn[Dn].setLocalTransform(Un);if(cn.length!==Xe)return console.error("Invalid morphing: unmatched splitted path"),{fromIndividuals:[],toIndividuals:[],count:0}}cn=Qk(cn),Ie=Qk(Ie);var Yn=Re.individualDelay;for(Dn=0;Dn<Xe;Dn++){var Xn=Yn?se({delay:(Re.delay||0)+Yn(Dn,Xe,cn[Dn],Ie[Dn])},Re):Re;d2(cn[Dn],Ie[Dn],Xn)}return{fromIndividuals:cn,toIndividuals:Ie,count:Ie.length}}(et,$,at),Mt=At.fromIndividuals,Lt=At.toIndividuals,Gt=Mt.length,ne=0;ne<Gt;ne++)re=f?se({delay:f(ne,Gt)},p):p,o(Mt[ne],Lt[ne],B?$[ne]:O.one,B?O.one:$[ne],re);else{var re,fe=B?$[0]:et,ye=B?et:$[0];Zk(fe)?I({many:[fe],one:ye},!0,H,X,!0):(d2(fe,ye,re=f?se({delay:f(H,X)},p):p),o(fe,ye,fe,ye,re))}}}function Hv(n){if(!n)return[];if(Jt(n)){for(var e=[],t=0;t<n.length;t++)e.push(Hv(n[t]));return e}var i=[];return n.traverse(function(r){r instanceof zi&&!r.disableMorphing&&!r.invisible&&!r.ignore&&i.push(r)}),i}var l5=ar();function hP(n){var e=[];return mt(n,function(t){var i=t.data;if(!(i.count()>1e4))for(var r=i.getIndices(),o=function(l){for(var u=l.dimensions,f=0;f<u.length;f++){var p=l.getDimensionInfo(u[f]);if(p&&0===p.otherDims.itemGroupId)return u[f]}}(i),s=0;s<r.length;s++)e.push({data:i,dim:t.dim||o,divide:t.divide,dataIndex:s})}),e}function p2(n,e,t){n.traverse(function(i){i instanceof zi&&ro(i,{style:{opacity:0}},e,{dataIndex:t,isFrom:!0})})}function g2(n){if(n.parent){var e=n.getComputedTransform();n.setLocalTransform(e),n.parent.remove(n)}}function zx(n){n.stopAnimation(),n.isGroup&&n.traverse(function(e){e.stopAnimation()})}function dP(n,e,t){var i=hP(n),r=hP(e);function o(O,B,H,X,U){(H||O)&&B.animateFrom({style:(H||O).style},U)}function s(O){for(var B=0;B<O.length;B++)if(O[B].dim)return O[B].dim}var l=s(i),u=s(r),f=!1;function p(O,B){return function(H){var X=H.data,U=H.dataIndex;if(B)return X.getId(U);var $=X.hostModel&&X.hostModel.get("dataGroupId"),et=O?l||u:u||l,at=et&&X.getDimensionInfo(et),At=at&&at.ordinalMeta;if(at){var Mt=X.get(at.name,U);return At&&At.categories[Mt]||Mt+""}var Lt=X.getRawDataItem(U);return Lt&&Lt.groupId?Lt.groupId+"":$||X.getId(U)}}var m=function(O,B){var H=O.length;if(H!==B.length)return!1;for(var X=0;X<H;X++){var U=O[X],$=B[X];if(U.data.getId(U.dataIndex)!==$.data.getId($.dataIndex))return!1}return!0}(i,r),b={};if(!m)for(var w=0;w<r.length;w++){var k=r[w],M=k.data.getItemGraphicEl(k.dataIndex);M&&(b[M.id]=!0)}function I(O,B){var H=i[B],X=r[O],U=X.data.hostModel,$=H.data.getItemGraphicEl(H.dataIndex),et=X.data.getItemGraphicEl(X.dataIndex);$!==et?$&&b[$.id]||et&&(zx(et),$?(zx($),g2($),f=!0,f2(Hv($),Hv(et),X.divide,U,O,o)):p2(et,U,O)):et&&function(n,e,t){var i=im("update",t,e);i&&n.traverse(function(r){if(r instanceof Xr){var o=Iu(r).oldStyle;o&&r.animateFrom({style:o},i)}})}(et,X.dataIndex,U)}new Hu(i,r,p(!0,m),p(!1,m),null,"multiple").update(I).updateManyToOne(function(O,B){var H=r[O],X=H.data,U=X.hostModel,$=X.getItemGraphicEl(H.dataIndex),et=Ae(zt(B,function(at){return i[at].data.getItemGraphicEl(i[at].dataIndex)}),function(at){return at&&at!==$&&!b[at.id]});$&&(zx($),et.length?(mt(et,function(at){zx(at),g2(at)}),f=!0,f2(Hv(et),Hv($),H.divide,U,O,o)):p2($,U,H.dataIndex))}).updateOneToMany(function(O,B){var H=i[B],X=H.data.getItemGraphicEl(H.dataIndex);if(!X||!b[X.id]){var U=Ae(zt(O,function(et){return r[et].data.getItemGraphicEl(r[et].dataIndex)}),function(et){return et&&et!==X}),$=r[O[0]].data.hostModel;U.length&&(mt(U,function(et){return zx(et)}),X?(zx(X),g2(X),f=!0,f2(Hv(X),Hv(U),H.divide,$,O[0],o)):mt(U,function(et){return p2(et,$,O[0])}))}}).updateManyToMany(function(O,B){new Hu(B,O,function(H){return i[H].data.getId(i[H].dataIndex)},function(H){return r[H].data.getId(r[H].dataIndex)}).update(function(H,X){I(O[H],B[X])}).execute()}).execute(),f&&mt(e,function(O){var B=O.data.hostModel,H=B&&t.getViewOfSeriesModel(B),X=im("update",B,0);H&&B.isAnimationEnabled()&&X&&X.duration>0&&H.group.traverse(function(U){U instanceof zi&&!U.animators.length&&U.animateFrom({style:{opacity:0}},X)})})}function fP(n){return n.getModel("universalTransition").get("seriesKey")||n.id}function pP(n){return Jt(n)?n.sort().join(","):n}function Rg(n){if(n.hostModel)return n.hostModel.getModel("universalTransition").get("divideShape")}function gP(n,e){for(var t=0;t<n.length;t++)if(null!=e.seriesIndex&&e.seriesIndex===n[t].seriesIndex||null!=e.seriesId&&e.seriesId===n[t].id)return t}$i([function(n){n.registerPainter("canvas",QC)}]),$i([function(n){n.registerPainter("svg",O_)}]),$i([function(n){n.registerChartView(UA),n.registerSeriesModel(GA),n.registerLayout(vc("line",!0)),n.registerVisual({seriesType:"line",reset:function(e){var t=e.getData(),i=e.getModel("lineStyle").getLineStyle();i&&!i.stroke&&(i.stroke=t.getVisual("style").fill),t.setVisual("legendLineStyle",i)}}),n.registerProcessor(n.PRIORITY.PROCESSOR.STATISTIC,q_("line"))},function(n){n.registerChartView($A),n.registerSeriesModel(U_),n.registerLayout(n.PRIORITY.VISUAL.LAYOUT,de(l_,"bar")),n.registerLayout(n.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,u_),n.registerProcessor(n.PRIORITY.PROCESSOR.STATISTIC,q_("bar")),n.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},function(e,t){t.eachComponent({mainType:e.componentType||"series",query:e},function(r){e.sortInfo&&r.axis.setCategorySortInfo(e.sortInfo)})})},function(n){n.registerChartView(yx),n.registerSeriesModel(xx),PS("pie",n.registerAction),n.registerLayout(de(ck,"pie")),n.registerProcessor(sh("pie")),n.registerProcessor({seriesType:"pie",reset:function(t,i){var r=t.getData();r.filterSelf(function(o){var s=r.mapDimension("value"),l=r.get(s,o);return!("number"==typeof l&&!isNaN(l)&&l<0)})}})},function(n){$i(Vn),n.registerSeriesModel(ZA),n.registerChartView(bx),n.registerLayout(vc("scatter"))},function(n){$i(Ye),n.registerChartView(Nn),n.registerSeriesModel(pi),n.registerLayout(xn),n.registerProcessor(sh("radar")),n.registerPreprocessor($n)},function(n){$i(w2),n.registerChartView(pk),n.registerSeriesModel(gk),n.registerLayout(tM),n.registerProcessor(n.PRIORITY.PROCESSOR.STATISTIC,JA),PS("map",n.registerAction)},function(n){n.registerChartView(DP),n.registerSeriesModel(BP),n.registerLayout(zP),n.registerVisual(FP),function(e){e.registerAction({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},function(t,i){i.eachComponent({mainType:"series",subType:"tree",query:t},function(r){var o=t.dataIndex,s=r.getData().tree.getNodeByDataIndex(o);s.isExpand=!s.isExpand})}),e.registerAction({type:"treeRoam",event:"treeRoam",update:"none"},function(t,i){i.eachComponent({mainType:"series",subType:"tree",query:t},function(r){var o=nM(r.coordinateSystem,t);r.setCenter&&r.setCenter(o.center),r.setZoom&&r.setZoom(o.zoom)})})}(n)},function(n){n.registerSeriesModel(HP),n.registerChartView(GP),n.registerVisual($P),n.registerLayout(JP),function(e){for(var t=0;t<L2.length;t++)e.registerAction({type:L2[t],update:"updateView"},VP);e.registerAction({type:"treemapRootToNode",update:"updateView"},function(i,r){r.eachComponent({mainType:"series",subType:"treemap",query:i},function(o,s){var l=lw(i,["treemapZoomToNode","treemapRootToNode"],o);if(l){var u=o.getViewRoot();u&&(i.direction=lM(u,l.node)?"rollUp":"drillDown"),o.resetViewRoot(l.node)}})})}(n)},function(n){n.registerChartView(cO),n.registerSeriesModel(dO),n.registerProcessor(eO),n.registerVisual(nO),n.registerVisual(iO),n.registerLayout(rO),n.registerLayout(n.PRIORITY.VISUAL.POST_CHART_LAYOUT,aO),n.registerLayout(sO),n.registerCoordinateSystem("graphView",{dimensions:Cx.dimensions,create:lO}),n.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},function(){}),n.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},function(){}),n.registerAction(fO,function(e,t){t.eachComponent({mainType:"series",query:e},function(i){var r=nM(i.coordinateSystem,e);i.setCenter&&i.setCenter(r.center),i.setZoom&&i.setZoom(r.zoom)})})},function(n){n.registerChartView(mO),n.registerSeriesModel(vO)},function(n){n.registerChartView(bO),n.registerSeriesModel(_O),n.registerLayout(wO),n.registerProcessor(sh("funnel"))},function(n){$i(HI),n.registerChartView(SO),n.registerSeriesModel(CO),n.registerVisual(n.PRIORITY.VISUAL.BRUSH,MO)},function(n){n.registerChartView(KO),n.registerSeriesModel(QO),n.registerLayout(JO),n.registerVisual(aN),n.registerAction({type:"dragNode",event:"dragnode",update:"update"},function(e,t){t.eachComponent({mainType:"series",subType:"sankey",query:e},function(i){i.setNodePosition(e.dataIndex,[e.localX,e.localY])})})},function(n){n.registerSeriesModel(YI),n.registerChartView(sN),n.registerVisual(hN),n.registerLayout(dN),n.registerTransform(fN)},function(n){n.registerChartView(gN),n.registerSeriesModel(KI),n.registerPreprocessor(bN),n.registerVisual(kN),n.registerLayout(MN)},function(n){n.registerChartView(IN),n.registerSeriesModel(DN),n.registerLayout(vc("effectScatter"))},function(n){n.registerChartView(ON),n.registerSeriesModel(BN),n.registerLayout(iD),n.registerVisual(zN)},function(n){n.registerChartView(VN),n.registerSeriesModel(HN)},function(n){n.registerChartView(jN),n.registerSeriesModel(GN),n.registerLayout(de(l_,"pictorialBar"))},function(n){n.registerChartView(qN),n.registerSeriesModel(UN),n.registerLayout($N),n.registerProcessor(sh("themeRiver"))},function(n){n.registerChartView(ZN),n.registerSeriesModel(KN),n.registerLayout(de(QN,"sunburst")),n.registerProcessor(de(sh,"sunburst")),n.registerVisual(JN),function(e){e.registerAction({type:iT,update:"updateView"},function(t,i){i.eachComponent({mainType:"series",subType:"sunburst",query:t},function(r,o){var s=lw(t,[iT],r);if(s){var l=r.getViewRoot();l&&(t.direction=lM(l,s.node)?"rollUp":"drillDown"),r.resetViewRoot(s.node)}})}),e.registerAction({type:_D,update:"none"},function(t,i,r){t=Dt({},t),i.eachComponent({mainType:"series",subType:"sunburst",query:t},function(o){var s=lw(t,[_D],o);s&&(t.dataIndex=s.node.dataIndex)}),r.dispatchAction(Dt(t,{type:"highlight"}))}),e.registerAction({type:"sunburstUnhighlight",update:"updateView"},function(t,i,r){t=Dt({},t),r.dispatchAction(Dt(t,{type:"downplay"}))})}(n)},function(n){n.registerChartView(cR),n.registerSeriesModel(nR)}]),$i(function(n){$i(Vn),$i(xw)}),$i(function(n){$i(xw),te.registerAxisPointerClass("PolarAxisPointer",kR),n.registerCoordinateSystem("polar",PR),n.registerComponentModel(MR),n.registerComponentView(YR),$h(n,"angle",TR,WR),$h(n,"radius",IR,jR),n.registerComponentView(NR),n.registerComponentView(FR),n.registerLayout(de(HR,"bar"))}),$i(w2),$i(function(n){$i(xw),te.registerAxisPointerClass("SingleAxisPointer",JR),n.registerComponentView(eB),n.registerComponentView(qR),n.registerComponentModel(Pk),$h(n,"single",Pk,Pk.defaultOption),n.registerCoordinateSystem("single",KR)}),$i(HI),$i(function(n){n.registerComponentModel(nB),n.registerComponentView(iB),n.registerCoordinateSystem("calendar",rB)}),$i(function(n){n.registerComponentModel(aB),n.registerComponentView(sB),n.registerPreprocessor(oB)}),$i(function(n){n.registerComponentModel(gB),n.registerComponentView(mB),Px("saveAsImage",ME),Px("magicType",yB),Px("dataView",bB),Px("dataZoom",AB),Px("restore",wB),$i(pB)}),$i(function(n){$i(xw),n.registerComponentModel(TB),n.registerComponentView(NB),n.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},function(){}),n.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},function(){})}),$i(xw),$i(function(n){n.registerComponentView(WB),n.registerComponentModel(jB),n.registerPreprocessor(BB),n.registerVisual(n.PRIORITY.VISUAL.BRUSH,FB),n.registerAction({type:"brush",event:"brush",update:"updateVisual"},function(e,t){t.eachComponent({mainType:"brush",query:e},function(i){i.setAreas(e.areas)})}),n.registerAction({type:"brushSelect",event:"brushSelected",update:"none"},function(){}),n.registerAction({type:"brushEnd",event:"brushEnd",update:"none"},function(){}),Px("brush",XB)}),$i(function(n){n.registerComponentModel(GB),n.registerComponentView(qB)}),$i(function(n){n.registerComponentModel(sL),n.registerComponentView(ZB),n.registerSubTypeDefaulter("timeline",function(){return"slider"}),function(e){e.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(t,i,r){var o=i.getComponent("timeline");return o&&null!=t.currentIndex&&(o.setCurrentIndex(t.currentIndex),!o.get("loop",!0)&&o.isIndexMax()&&o.getPlayState()&&(o.setPlayState(!1),r.dispatchAction({type:"timelinePlayChange",playState:!1,from:t.from}))),i.resetOption("timeline",{replaceMerge:o.get("replaceMerge",!0)}),se({currentIndex:o.option.currentIndex},t)}),e.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(t,i){var r=i.getComponent("timeline");r&&null!=t.playState&&r.setPlayState(t.playState)})}(n),n.registerPreprocessor(KB)}),$i(function(n){n.registerComponentModel(QB),n.registerComponentView(JB),n.registerPreprocessor(function(e){qT(e.series,"markPoint")&&(e.markPoint=e.markPoint||{})})}),$i(function(n){n.registerComponentModel(tz),n.registerComponentView(iz),n.registerPreprocessor(function(e){qT(e.series,"markLine")&&(e.markLine=e.markLine||{})})}),$i(function(n){n.registerComponentModel(rz),n.registerComponentView(sz),n.registerPreprocessor(function(e){qT(e.series,"markArea")&&(e.markArea=e.markArea||{})})}),$i(function(n){$i(wL),$i(hz)}),$i(function(n){$i(ML),$i(DL)}),$i(ML),$i(DL),$i(function(n){$i(GL),$i(UL)}),$i(GL),$i(UL),$i(function(n){n.registerPreprocessor(Hz),n.registerVisual(n.PRIORITY.VISUAL.ARIA,Vz)}),$i(function(n){n.registerTransform($z),n.registerTransform(Zz)}),$i(function(n){n.registerComponentModel(Kz),n.registerComponentView(Qz)}),$i(function(n){n.registerUpdateLifecycle("series:beforeupdate",function(e,t,i){mt(mr(i.seriesTransition),function(r){mt(mr(r.to),function(o){for(var s=i.updatedSeries,l=0;l<s.length;l++)(null!=o.seriesIndex&&o.seriesIndex===s[l].seriesIndex||null!=o.seriesId&&o.seriesId===s[l].id)&&(s[l].__universalTransitionEnabled=!0)})})}),n.registerUpdateLifecycle("series:transition",function(e,t,i){var b,w,k,M,I,r=l5(t);if(r.oldSeries&&i.updatedSeries&&i.optionChanged){var o=i.seriesTransition;if(o)mt(mr(o),function(b){var w,k,M,I,O,B;k=r,M=i,I=t,O=[],B=[],mt(mr((w=b).from),function(H){var X=gP(k.oldSeries,H);X>=0&&O.push({data:k.oldData[X],divide:Rg(k.oldData[X]),dim:H.dimension})}),mt(mr(w.to),function(H){var X=gP(M.updatedSeries,H);if(X>=0){var U=M.updatedSeries[X].getData();B.push({data:U,divide:Rg(U),dim:H.dimension})}}),O.length>0&&B.length>0&&dP(O,B,I)});else{var s=(b=r,w=i,k=ii(),M=ii(),I=ii(),mt(b.oldSeries,function(O,B){var H=b.oldData[B],X=fP(O),U=pP(X);M.set(U,H),Jt(X)&&mt(X,function($){I.set($,{data:H,key:U})})}),mt(w.updatedSeries,function(O){if(O.isUniversalTransitionEnabled()&&O.isAnimationEnabled()){var B=O.getData(),H=fP(O),X=pP(H),U=M.get(X);if(U)k.set(X,{oldSeries:[{divide:Rg(U),data:U}],newSeries:[{divide:Rg(B),data:B}]});else if(Jt(H)){var $=[];mt(H,function(At){var Mt=M.get(At);Mt&&$.push({divide:Rg(Mt),data:Mt})}),$.length&&k.set(X,{oldSeries:$,newSeries:[{data:B,divide:Rg(B)}]})}else{var et=I.get(H);if(et){var at=k.get(et.key);at||(at={oldSeries:[{data:et.data,divide:Rg(et.data)}],newSeries:[]},k.set(et.key,at)),at.newSeries.push({data:B,divide:Rg(B)})}}}}),k);mt(s.keys(),function(b){var w=s.get(b);dP(w.oldSeries,w.newSeries,t)})}mt(i.updatedSeries,function(b){b.__universalTransitionEnabled&&(b.__universalTransitionEnabled=!1)})}for(var l=e.getSeries(),u=r.oldSeries=[],f=r.oldData=[],p=0;p<l.length;p++){var m=l[p].getData();m.count()<1e4&&(u.push(l[p]),f.push(m))}})}),$i(function(n){n.registerUpdateLifecycle("series:beforeupdate",function(e,t,i){var r=ex(t).labelManager;r||(r=ex(t).labelManager=new cu),r.clearLabels()}),n.registerUpdateLifecycle("series:layoutlabels",function(e,t,i){var r=ex(t).labelManager;i.updatedSeries.forEach(function(o){r.addLabelsOfSeries(t.getViewOfSeriesModel(o))}),r.updateLayoutConfig(t),r.layout(t),r.processLabelsOverall()})}),Le.Axis=lu,Le.ChartView=Rr,Le.ComponentModel=rr,Le.ComponentView=co,Le.List=_s,Le.Model=Er,Le.PRIORITY=Xm,Le.SeriesModel=Gr,Le.color=jo,Le.connect=function(n){if(Jt(n)){var e=n;n=null,mt(e,function(t){null!=t.group&&(n=t.group)}),n=n||"g_"+iC++,mt(e,function(t){t.group=n})}return N0[n]=!0,n},Le.dataTool={},Le.dependencies={zrender:"5.2.1"},Le.disConnect=U1,Le.disconnect=B0,Le.dispose=function(n){"string"==typeof n?n=Hd[n]:n instanceof Qm||(n=z0(n)),n instanceof Qm&&!n.isDisposed()&&n.dispose()},Le.env=Wt,Le.extendChartView=function(n){var e=Rr.extend(n);return Rr.registerClass(e),e},Le.extendComponentModel=function(n){var e=rr.extend(n);return rr.registerClass(e),e},Le.extendComponentView=function(n){var e=co.extend(n);return co.registerClass(e),e},Le.extendSeriesModel=function(n){var e=Gr.extend(n);return Gr.registerClass(e),e},Le.format=kC,Le.getCoordinateSystemDimensions=function(n){var e=Rd.get(n);if(e)return e.getDimensionsInfo?e.getDimensionsInfo():e.dimensions.slice()},Le.getInstanceByDom=z0,Le.getInstanceById=function(n){return Hd[n]},Le.getMap=function(n){return function(n){var e=jm.get(n);return e&&"geoJSON"===e.type&&e.getMapForUser()}(n)},Le.graphic=CC,Le.helper=wC,Le.init=function(n,e,t){var i=z0(n);if(i)return i;var r=new Qm(n,e,t);return r.id="ec_"+MA++,Hd[r.id]=r,sf(n,R0,r.id),nC(r),zu.trigger("afterinit",r),r},Le.innerDrawElementOnCanvas=Bm,Le.matrix=yh,Le.number=NA,Le.parseGeoJSON=S0,Le.parseGeoJson=S0,Le.registerAction=pc,Le.registerCoordinateSystem=rC,Le.registerLayout=K1,Le.registerLoading=J1,Le.registerLocale=Pu,Le.registerMap=oC,Le.registerPostInit=qf,Le.registerPostUpdate=Z1,Le.registerPreprocessor=sg,Le.registerProcessor=fc,Le.registerTheme=$1,Le.registerTransform=t_,Le.registerUpdateLifecycle=lg,Le.registerVisual=gc,Le.setCanvasCreator=function(n){It("createCanvas",n)},Le.throttle=Nf,Le.time=SC,Le.use=$i,Le.util=AC,Le.vector=ae,Le.version="5.2.2",Le.zrUtil=ta,Le.zrender=li,Object.defineProperty(Le,"__esModule",{value:!0})}),function(Le,$t){"object"==typeof exports&&"object"==typeof module?module.exports=$t():"function"==typeof define&&define.amd?define([],$t):"object"==typeof exports?exports.Quill=$t():Le.Quill=$t()}("undefined"!=typeof self?self:this,function(){return function(Le){function $t(ee){if(Tt[ee])return Tt[ee].exports;var Oe=Tt[ee]={i:ee,l:!1,exports:{}};return Le[ee].call(Oe.exports,Oe,Oe.exports,$t),Oe.l=!0,Oe.exports}var Tt={};return $t.m=Le,$t.c=Tt,$t.d=function(ee,Oe,ve){$t.o(ee,Oe)||Object.defineProperty(ee,Oe,{configurable:!1,enumerable:!0,get:ve})},$t.n=function(ee){var Oe=ee&&ee.__esModule?function(){return ee.default}:function(){return ee};return $t.d(Oe,"a",Oe),Oe},$t.o=function(ee,Oe){return Object.prototype.hasOwnProperty.call(ee,Oe)},$t.p="",$t($t.s=45)}([function(Le,$t,Tt){"use strict";Object.defineProperty($t,"__esModule",{value:!0});var ee=Tt(17),Oe=Tt(18),ve=Tt(19),Wt=Tt(48),Ft=Tt(49),Nt=Tt(50),gt=Tt(51),dt=Tt(52),ft=Tt(11),St=Tt(29),Et=Tt(30),lt=Tt(28),_t=Tt(1);$t.default={Scope:_t.Scope,create:_t.create,find:_t.find,query:_t.query,register:_t.register,Container:ee.default,Format:Oe.default,Leaf:ve.default,Embed:gt.default,Scroll:Wt.default,Block:Nt.default,Inline:Ft.default,Text:dt.default,Attributor:{Attribute:ft.default,Class:St.default,Style:Et.default,Store:lt.default}}},function(Le,$t,Tt){"use strict";function ve(lt,_t){var xt;if(void 0===_t&&(_t=Et.ANY),"string"==typeof lt)xt=St[lt]||gt[lt];else if(lt instanceof Text||lt.nodeType===Node.TEXT_NODE)xt=St.text;else if("number"==typeof lt)lt&Et.LEVEL&Et.BLOCK?xt=St.block:lt&Et.LEVEL&Et.INLINE&&(xt=St.inline);else if(lt instanceof HTMLElement){var ot=(lt.getAttribute("class")||"").split(/\s+/);for(var it in ot)if(xt=dt[ot[it]])break;xt=xt||ft[lt.tagName]}return null==xt?null:_t&Et.LEVEL&xt.scope&&_t&Et.TYPE&xt.scope?xt:null}var lt,Ft=this&&this.__extends||(lt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_t,xt){_t.__proto__=xt}||function(_t,xt){for(var ot in xt)xt.hasOwnProperty(ot)&&(_t[ot]=xt[ot])},function(_t,xt){function ot(){this.constructor=_t}lt(_t,xt),_t.prototype=null===xt?Object.create(xt):(ot.prototype=xt.prototype,new ot)});Object.defineProperty($t,"__esModule",{value:!0});var Nt=function(lt){function _t(xt){var ot=this;return(ot=lt.call(this,xt="[Parchment] "+xt)||this).message=xt,ot.name=ot.constructor.name,ot}return Ft(_t,lt),_t}(Error);$t.ParchmentError=Nt;var Et,gt={},dt={},ft={},St={};$t.DATA_KEY="__blot",function(lt){lt[lt.TYPE=3]="TYPE",lt[lt.LEVEL=12]="LEVEL",lt[lt.ATTRIBUTE=13]="ATTRIBUTE",lt[lt.BLOT=14]="BLOT",lt[lt.INLINE=7]="INLINE",lt[lt.BLOCK=11]="BLOCK",lt[lt.BLOCK_BLOT=10]="BLOCK_BLOT",lt[lt.INLINE_BLOT=6]="INLINE_BLOT",lt[lt.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",lt[lt.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",lt[lt.ANY=15]="ANY"}(Et=$t.Scope||($t.Scope={})),$t.create=function(lt,_t){var xt=ve(lt);if(null==xt)throw new Nt("Unable to create "+lt+" blot");return new xt(lt instanceof Node||lt.nodeType===Node.TEXT_NODE?lt:xt.create(_t),_t)},$t.find=function Oe(lt,_t){return void 0===_t&&(_t=!1),null==lt?null:null!=lt[$t.DATA_KEY]?lt[$t.DATA_KEY].blot:_t?Oe(lt.parentNode,_t):null},$t.query=ve,$t.register=function Wt(){for(var lt=[],_t=0;_t<arguments.length;_t++)lt[_t]=arguments[_t];if(lt.length>1)return lt.map(function(it){return Wt(it)});var xt=lt[0];if("string"!=typeof xt.blotName&&"string"!=typeof xt.attrName)throw new Nt("Invalid definition");if("abstract"===xt.blotName)throw new Nt("Cannot register abstract class");if(St[xt.blotName||xt.attrName]=xt,"string"==typeof xt.keyName)gt[xt.keyName]=xt;else if(null!=xt.className&&(dt[xt.className]=xt),null!=xt.tagName){xt.tagName=Array.isArray(xt.tagName)?xt.tagName.map(function(it){return it.toUpperCase()}):xt.tagName.toUpperCase();var ot=Array.isArray(xt.tagName)?xt.tagName:[xt.tagName];ot.forEach(function(it){null!=ft[it]&&null!=xt.className||(ft[it]=xt)})}return xt}},function(Le,$t){"use strict";var Tt=Object.prototype.hasOwnProperty,ee=Object.prototype.toString,Oe=Object.defineProperty,ve=Object.getOwnPropertyDescriptor,Wt=function(dt){return"function"==typeof Array.isArray?Array.isArray(dt):"[object Array]"===ee.call(dt)},Ft=function(dt){if(!dt||"[object Object]"!==ee.call(dt))return!1;var Et,ft=Tt.call(dt,"constructor"),St=dt.constructor&&dt.constructor.prototype&&Tt.call(dt.constructor.prototype,"isPrototypeOf");if(dt.constructor&&!ft&&!St)return!1;for(Et in dt);return void 0===Et||Tt.call(dt,Et)},Nt=function(dt,ft){Oe&&"__proto__"===ft.name?Oe(dt,ft.name,{enumerable:!0,configurable:!0,value:ft.newValue,writable:!0}):dt[ft.name]=ft.newValue},gt=function(dt,ft){if("__proto__"===ft){if(!Tt.call(dt,ft))return;if(ve)return ve(dt,ft).value}return dt[ft]};Le.exports=function dt(){var ft,St,Et,lt,_t,xt,ot=arguments[0],it=1,It=arguments.length,Ut=!1;for("boolean"==typeof ot&&(Ut=ot,ot=arguments[1]||{},it=2),(null==ot||"object"!=typeof ot&&"function"!=typeof ot)&&(ot={});it<It;++it)if(null!=(ft=arguments[it]))for(St in ft)Et=gt(ot,St),ot!==(lt=gt(ft,St))&&(Ut&&lt&&(Ft(lt)||(_t=Wt(lt)))?(_t?(_t=!1,xt=Et&&Wt(Et)?Et:[]):xt=Et&&Ft(Et)?Et:{},Nt(ot,{name:St,newValue:dt(Ut,xt,lt)})):void 0!==lt&&Nt(ot,{name:St,newValue:lt}));return ot}},function(Le,$t,Tt){"use strict";function ee(Xt){return Xt&&Xt.__esModule?Xt:{default:Xt}}function Oe(Xt,vt){if(!(Xt instanceof vt))throw new TypeError("Cannot call a class as a function")}function ve(Xt,vt){if(!Xt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!vt||"object"!=typeof vt&&"function"!=typeof vt?Xt:vt}function Wt(Xt,vt){if("function"!=typeof vt&&null!==vt)throw new TypeError("Super expression must either be null or a function, not "+typeof vt);Xt.prototype=Object.create(vt&&vt.prototype,{constructor:{value:Xt,enumerable:!1,writable:!0,configurable:!0}}),vt&&(Object.setPrototypeOf?Object.setPrototypeOf(Xt,vt):Xt.__proto__=vt)}function Ft(Xt){var vt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return null==Xt?vt:("function"==typeof Xt.formats&&(vt=(0,ft.default)(vt,Xt.formats())),null==Xt.parent||"scroll"==Xt.parent.blotName||Xt.parent.statics.scope!==Xt.statics.scope?vt:Ft(Xt.parent,vt))}Object.defineProperty($t,"__esModule",{value:!0}),$t.default=$t.BlockEmbed=$t.bubbleFormats=void 0;var Nt=function(){function Xt(vt,Dt){for(var se=0;se<Dt.length;se++){var Pe=Dt[se];Pe.enumerable=Pe.enumerable||!1,Pe.configurable=!0,"value"in Pe&&(Pe.writable=!0),Object.defineProperty(vt,Pe.key,Pe)}}return function(vt,Dt,se){return Dt&&Xt(vt.prototype,Dt),se&&Xt(vt,se),vt}}(),gt=function Xt(vt,Dt,se){null===vt&&(vt=Function.prototype);var Pe=Object.getOwnPropertyDescriptor(vt,Dt);if(void 0===Pe){var Ne=Object.getPrototypeOf(vt);return null===Ne?void 0:Xt(Ne,Dt,se)}if("value"in Pe)return Pe.value;var tn=Pe.get;return void 0!==tn?tn.call(se):void 0},ft=ee(Tt(2)),Et=ee(Tt(4)),_t=ee(Tt(0)),ot=ee(Tt(14)),It=ee(Tt(5)),Yt=ee(Tt(8)),ie=function(Xt){function vt(){return Oe(this,vt),ve(this,(vt.__proto__||Object.getPrototypeOf(vt)).apply(this,arguments))}return Wt(vt,Xt),Nt(vt,[{key:"attach",value:function(){gt(vt.prototype.__proto__||Object.getPrototypeOf(vt.prototype),"attach",this).call(this),this.attributes=new _t.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return(new Et.default).insert(this.value(),(0,ft.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(Dt,se){var Pe=_t.default.query(Dt,_t.default.Scope.BLOCK_ATTRIBUTE);null!=Pe&&this.attributes.attribute(Pe,se)}},{key:"formatAt",value:function(Dt,se,Pe,Ne){this.format(Pe,Ne)}},{key:"insertAt",value:function(Dt,se,Pe){if("string"==typeof se&&se.endsWith("\n")){var Ne=_t.default.create(Pt.blotName);this.parent.insertBefore(Ne,0===Dt?this:this.next),Ne.insertAt(0,se.slice(0,-1))}else gt(vt.prototype.__proto__||Object.getPrototypeOf(vt.prototype),"insertAt",this).call(this,Dt,se,Pe)}}]),vt}(_t.default.Embed);ie.scope=_t.default.Scope.BLOCK_BLOT;var Pt=function(Xt){function vt(Dt){Oe(this,vt);var se=ve(this,(vt.__proto__||Object.getPrototypeOf(vt)).call(this,Dt));return se.cache={},se}return Wt(vt,Xt),Nt(vt,[{key:"delta",value:function(){return null==this.cache.delta&&(this.cache.delta=this.descendants(_t.default.Leaf).reduce(function(Dt,se){return 0===se.length()?Dt:Dt.insert(se.value(),Ft(se))},new Et.default).insert("\n",Ft(this))),this.cache.delta}},{key:"deleteAt",value:function(Dt,se){gt(vt.prototype.__proto__||Object.getPrototypeOf(vt.prototype),"deleteAt",this).call(this,Dt,se),this.cache={}}},{key:"formatAt",value:function(Dt,se,Pe,Ne){se<=0||(_t.default.query(Pe,_t.default.Scope.BLOCK)?Dt+se===this.length()&&this.format(Pe,Ne):gt(vt.prototype.__proto__||Object.getPrototypeOf(vt.prototype),"formatAt",this).call(this,Dt,Math.min(se,this.length()-Dt-1),Pe,Ne),this.cache={})}},{key:"insertAt",value:function(Dt,se,Pe){if(null!=Pe)return gt(vt.prototype.__proto__||Object.getPrototypeOf(vt.prototype),"insertAt",this).call(this,Dt,se,Pe);if(0!==se.length){var Ne=se.split("\n"),tn=Ne.shift();tn.length>0&&(Dt<this.length()-1||null==this.children.tail?gt(vt.prototype.__proto__||Object.getPrototypeOf(vt.prototype),"insertAt",this).call(this,Math.min(Dt,this.length()-1),tn):this.children.tail.insertAt(this.children.tail.length(),tn),this.cache={});var on=this;Ne.reduce(function(an,mt){return(on=on.split(an,!0)).insertAt(0,mt),mt.length},Dt+tn.length)}}},{key:"insertBefore",value:function(Dt,se){var Pe=this.children.head;gt(vt.prototype.__proto__||Object.getPrototypeOf(vt.prototype),"insertBefore",this).call(this,Dt,se),Pe instanceof ot.default&&Pe.remove(),this.cache={}}},{key:"length",value:function(){return null==this.cache.length&&(this.cache.length=gt(vt.prototype.__proto__||Object.getPrototypeOf(vt.prototype),"length",this).call(this)+1),this.cache.length}},{key:"moveChildren",value:function(Dt,se){gt(vt.prototype.__proto__||Object.getPrototypeOf(vt.prototype),"moveChildren",this).call(this,Dt,se),this.cache={}}},{key:"optimize",value:function(Dt){gt(vt.prototype.__proto__||Object.getPrototypeOf(vt.prototype),"optimize",this).call(this,Dt),this.cache={}}},{key:"path",value:function(Dt){return gt(vt.prototype.__proto__||Object.getPrototypeOf(vt.prototype),"path",this).call(this,Dt,!0)}},{key:"removeChild",value:function(Dt){gt(vt.prototype.__proto__||Object.getPrototypeOf(vt.prototype),"removeChild",this).call(this,Dt),this.cache={}}},{key:"split",value:function(Dt){var se=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(se&&(0===Dt||Dt>=this.length()-1)){var Pe=this.clone();return 0===Dt?(this.parent.insertBefore(Pe,this),this):(this.parent.insertBefore(Pe,this.next),Pe)}var Ne=gt(vt.prototype.__proto__||Object.getPrototypeOf(vt.prototype),"split",this).call(this,Dt,se);return this.cache={},Ne}}]),vt}(_t.default.Block);Pt.blotName="block",Pt.tagName="P",Pt.defaultChild="break",Pt.allowedChildren=[It.default,_t.default.Embed,Yt.default],$t.bubbleFormats=Ft,$t.BlockEmbed=ie,$t.default=Pt},function(Le,$t,Tt){var ee=Tt(54),Oe=Tt(12),ve=Tt(2),Wt=Tt(20),Ft=String.fromCharCode(0),Nt=function(gt){this.ops=Array.isArray(gt)?gt:null!=gt&&Array.isArray(gt.ops)?gt.ops:[]};Nt.prototype.insert=function(gt,dt){var ft={};return 0===gt.length?this:(ft.insert=gt,null!=dt&&"object"==typeof dt&&Object.keys(dt).length>0&&(ft.attributes=dt),this.push(ft))},Nt.prototype.delete=function(gt){return gt<=0?this:this.push({delete:gt})},Nt.prototype.retain=function(gt,dt){if(gt<=0)return this;var ft={retain:gt};return null!=dt&&"object"==typeof dt&&Object.keys(dt).length>0&&(ft.attributes=dt),this.push(ft)},Nt.prototype.push=function(gt){var dt=this.ops.length,ft=this.ops[dt-1];if(gt=ve(!0,{},gt),"object"==typeof ft){if("number"==typeof gt.delete&&"number"==typeof ft.delete)return this.ops[dt-1]={delete:ft.delete+gt.delete},this;if("number"==typeof ft.delete&&null!=gt.insert&&"object"!=typeof(ft=this.ops[(dt-=1)-1]))return this.ops.unshift(gt),this;if(Oe(gt.attributes,ft.attributes)){if("string"==typeof gt.insert&&"string"==typeof ft.insert)return this.ops[dt-1]={insert:ft.insert+gt.insert},"object"==typeof gt.attributes&&(this.ops[dt-1].attributes=gt.attributes),this;if("number"==typeof gt.retain&&"number"==typeof ft.retain)return this.ops[dt-1]={retain:ft.retain+gt.retain},"object"==typeof gt.attributes&&(this.ops[dt-1].attributes=gt.attributes),this}}return dt===this.ops.length?this.ops.push(gt):this.ops.splice(dt,0,gt),this},Nt.prototype.chop=function(){var gt=this.ops[this.ops.length-1];return gt&&gt.retain&&!gt.attributes&&this.ops.pop(),this},Nt.prototype.filter=function(gt){return this.ops.filter(gt)},Nt.prototype.forEach=function(gt){this.ops.forEach(gt)},Nt.prototype.map=function(gt){return this.ops.map(gt)},Nt.prototype.partition=function(gt){var dt=[],ft=[];return this.forEach(function(St){(gt(St)?dt:ft).push(St)}),[dt,ft]},Nt.prototype.reduce=function(gt,dt){return this.ops.reduce(gt,dt)},Nt.prototype.changeLength=function(){return this.reduce(function(gt,dt){return dt.insert?gt+Wt.length(dt):dt.delete?gt-dt.delete:gt},0)},Nt.prototype.length=function(){return this.reduce(function(gt,dt){return gt+Wt.length(dt)},0)},Nt.prototype.slice=function(gt,dt){gt=gt||0,"number"!=typeof dt&&(dt=1/0);for(var ft=[],St=Wt.iterator(this.ops),Et=0;Et<dt&&St.hasNext();){var lt;Et<gt?lt=St.next(gt-Et):(lt=St.next(dt-Et),ft.push(lt)),Et+=Wt.length(lt)}return new Nt(ft)},Nt.prototype.compose=function(gt){var dt=Wt.iterator(this.ops),ft=Wt.iterator(gt.ops),St=[],Et=ft.peek();if(null!=Et&&"number"==typeof Et.retain&&null==Et.attributes){for(var lt=Et.retain;"insert"===dt.peekType()&&dt.peekLength()<=lt;)lt-=dt.peekLength(),St.push(dt.next());Et.retain-lt>0&&ft.next(Et.retain-lt)}for(var _t=new Nt(St);dt.hasNext()||ft.hasNext();)if("insert"===ft.peekType())_t.push(ft.next());else if("delete"===dt.peekType())_t.push(dt.next());else{var xt=Math.min(dt.peekLength(),ft.peekLength()),ot=dt.next(xt),it=ft.next(xt);if("number"==typeof it.retain){var It={};"number"==typeof ot.retain?It.retain=xt:It.insert=ot.insert;var Ut=Wt.attributes.compose(ot.attributes,it.attributes,"number"==typeof ot.retain);if(Ut&&(It.attributes=Ut),_t.push(It),!ft.hasNext()&&Oe(_t.ops[_t.ops.length-1],It)){var Yt=new Nt(dt.rest());return _t.concat(Yt).chop()}}else"number"==typeof it.delete&&"number"==typeof ot.retain&&_t.push(it)}return _t.chop()},Nt.prototype.concat=function(gt){var dt=new Nt(this.ops.slice());return gt.ops.length>0&&(dt.push(gt.ops[0]),dt.ops=dt.ops.concat(gt.ops.slice(1))),dt},Nt.prototype.diff=function(gt,dt){if(this.ops===gt.ops)return new Nt;var ft=[this,gt].map(function(xt){return xt.map(function(ot){if(null!=ot.insert)return"string"==typeof ot.insert?ot.insert:Ft;throw new Error("diff() called "+(xt===gt?"on":"with")+" non-document")}).join("")}),St=new Nt,Et=ee(ft[0],ft[1],dt),lt=Wt.iterator(this.ops),_t=Wt.iterator(gt.ops);return Et.forEach(function(xt){for(var ot=xt[1].length;ot>0;){var it=0;switch(xt[0]){case ee.INSERT:it=Math.min(_t.peekLength(),ot),St.push(_t.next(it));break;case ee.DELETE:it=Math.min(ot,lt.peekLength()),lt.next(it),St.delete(it);break;case ee.EQUAL:it=Math.min(lt.peekLength(),_t.peekLength(),ot);var It=lt.next(it),Ut=_t.next(it);Oe(It.insert,Ut.insert)?St.retain(it,Wt.attributes.diff(It.attributes,Ut.attributes)):St.push(Ut).delete(it)}ot-=it}}),St.chop()},Nt.prototype.eachLine=function(gt,dt){dt=dt||"\n";for(var ft=Wt.iterator(this.ops),St=new Nt,Et=0;ft.hasNext();){if("insert"!==ft.peekType())return;var lt=ft.peek(),_t=Wt.length(lt)-ft.peekLength(),xt="string"==typeof lt.insert?lt.insert.indexOf(dt,_t)-_t:-1;if(xt<0)St.push(ft.next());else if(xt>0)St.push(ft.next(xt));else{if(!1===gt(St,ft.next(1).attributes||{},Et))return;Et+=1,St=new Nt}}St.length()>0&&gt(St,{},Et)},Nt.prototype.transform=function(gt,dt){if(dt=!!dt,"number"==typeof gt)return this.transformPosition(gt,dt);for(var ft=Wt.iterator(this.ops),St=Wt.iterator(gt.ops),Et=new Nt;ft.hasNext()||St.hasNext();)if("insert"!==ft.peekType()||!dt&&"insert"===St.peekType())if("insert"===St.peekType())Et.push(St.next());else{var lt=Math.min(ft.peekLength(),St.peekLength()),_t=ft.next(lt),xt=St.next(lt);if(_t.delete)continue;xt.delete?Et.push(xt):Et.retain(lt,Wt.attributes.transform(_t.attributes,xt.attributes,dt))}else Et.retain(Wt.length(ft.next()));return Et.chop()},Nt.prototype.transformPosition=function(gt,dt){dt=!!dt;for(var ft=Wt.iterator(this.ops),St=0;ft.hasNext()&&St<=gt;){var Et=ft.peekLength(),lt=ft.peekType();ft.next(),"delete"!==lt?("insert"===lt&&(St<gt||!dt)&&(gt+=Et),St+=Et):gt-=Math.min(Et,gt-St)}return gt},Le.exports=Nt},function(Le,$t,Tt){"use strict";function ee(lt){return lt&&lt.__esModule?lt:{default:lt}}function Oe(lt,_t){if(!(lt instanceof _t))throw new TypeError("Cannot call a class as a function")}function ve(lt,_t){if(!lt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!_t||"object"!=typeof _t&&"function"!=typeof _t?lt:_t}Object.defineProperty($t,"__esModule",{value:!0});var Ft=function(){function lt(_t,xt){for(var ot=0;ot<xt.length;ot++){var it=xt[ot];it.enumerable=it.enumerable||!1,it.configurable=!0,"value"in it&&(it.writable=!0),Object.defineProperty(_t,it.key,it)}}return function(_t,xt,ot){return xt&&lt(_t.prototype,xt),ot&&lt(_t,ot),_t}}(),Nt=function lt(_t,xt,ot){null===_t&&(_t=Function.prototype);var it=Object.getOwnPropertyDescriptor(_t,xt);if(void 0===it){var It=Object.getPrototypeOf(_t);return null===It?void 0:lt(It,xt,ot)}if("value"in it)return it.value;var Ut=it.get;return void 0!==Ut?Ut.call(ot):void 0},dt=ee(Tt(8)),St=ee(Tt(0)),Et=function(lt){function _t(){return Oe(this,_t),ve(this,(_t.__proto__||Object.getPrototypeOf(_t)).apply(this,arguments))}return function(lt,_t){if("function"!=typeof _t&&null!==_t)throw new TypeError("Super expression must either be null or a function, not "+typeof _t);lt.prototype=Object.create(_t&&_t.prototype,{constructor:{value:lt,enumerable:!1,writable:!0,configurable:!0}}),_t&&(Object.setPrototypeOf?Object.setPrototypeOf(lt,_t):lt.__proto__=_t)}(_t,lt),Ft(_t,[{key:"formatAt",value:function(xt,ot,it,It){if(_t.compare(this.statics.blotName,it)<0&&St.default.query(it,St.default.Scope.BLOT)){var Ut=this.isolate(xt,ot);It&&Ut.wrap(it,It)}else Nt(_t.prototype.__proto__||Object.getPrototypeOf(_t.prototype),"formatAt",this).call(this,xt,ot,it,It)}},{key:"optimize",value:function(xt){if(Nt(_t.prototype.__proto__||Object.getPrototypeOf(_t.prototype),"optimize",this).call(this,xt),this.parent instanceof _t&&_t.compare(this.statics.blotName,this.parent.statics.blotName)>0){var ot=this.parent.isolate(this.offset(),this.length());this.moveChildren(ot),ot.wrap(this)}}}],[{key:"compare",value:function(xt,ot){var it=_t.order.indexOf(xt),It=_t.order.indexOf(ot);return it>=0||It>=0?it-It:xt===ot?0:xt<ot?-1:1}}]),_t}(St.default.Inline);Et.allowedChildren=[Et,St.default.Embed,dt.default],Et.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],$t.default=Et},function(Le,$t,Tt){"use strict";function ee(mt){return mt&&mt.__esModule?mt:{default:mt}}function Oe(mt,zt,oe){return zt in mt?Object.defineProperty(mt,zt,{value:oe,enumerable:!0,configurable:!0,writable:!0}):mt[zt]=oe,mt}function ve(mt,zt){if(!(mt instanceof zt))throw new TypeError("Cannot call a class as a function")}function Wt(mt,zt){if((zt=(0,Dt.default)(!0,{container:mt,modules:{clipboard:!0,keyboard:!0,history:!0}},zt)).theme&&zt.theme!==an.DEFAULTS.theme){if(zt.theme=an.import("themes/"+zt.theme),null==zt.theme)throw new Error("Invalid theme "+zt.theme+". Did you register it?")}else zt.theme=tn.default;var oe=(0,Dt.default)(!0,{},zt.theme.DEFAULTS);[oe,zt].forEach(function(be){be.modules=be.modules||{},Object.keys(be.modules).forEach(function(_e){!0===be.modules[_e]&&(be.modules[_e]={})})});var ze=Object.keys(oe.modules).concat(Object.keys(zt.modules)).reduce(function(be,_e){var de=an.import("modules/"+_e);return null==de?on.error("Cannot load "+_e+" module. Are you sure you registered it?"):be[_e]=de.DEFAULTS||{},be},{});return null!=zt.modules&&zt.modules.toolbar&&zt.modules.toolbar.constructor!==Object&&(zt.modules.toolbar={container:zt.modules.toolbar}),zt=(0,Dt.default)(!0,{},an.DEFAULTS,{modules:ze},oe,zt),["bounds","container","scrollingContainer"].forEach(function(be){"string"==typeof zt[be]&&(zt[be]=document.querySelector(zt[be]))}),zt.modules=Object.keys(zt.modules).reduce(function(be,_e){return zt.modules[_e]&&(be[_e]=zt.modules[_e]),be},{}),zt}function Ft(mt,zt,oe,Ae){if(this.options.strict&&!this.isEnabled()&&zt===it.default.sources.USER)return new lt.default;var ze=null==oe?null:this.getSelection(),be=this.editor.delta,_e=mt();if(null!=ze&&(!0===oe&&(oe=ze.index),null==Ae?ze=gt(ze,_e,zt):0!==Ae&&(ze=gt(ze,oe,Ae,zt)),this.setSelection(ze,it.default.sources.SILENT)),_e.length()>0){var de,Fe,Jt=[it.default.events.TEXT_CHANGE,_e,be,zt];(de=this.emitter).emit.apply(de,[it.default.events.EDITOR_CHANGE].concat(Jt)),zt!==it.default.sources.SILENT&&(Fe=this.emitter).emit.apply(Fe,Jt)}return _e}function Nt(mt,zt,oe,Ae,ze){var be={};return"number"==typeof mt.index&&"number"==typeof mt.length?"number"!=typeof zt?(ze=Ae,Ae=oe,oe=zt,zt=mt.length,mt=mt.index):(zt=mt.length,mt=mt.index):"number"!=typeof zt&&(ze=Ae,Ae=oe,oe=zt,zt=0),"object"===(void 0===oe?"undefined":dt(oe))?(be=oe,ze=Ae):"string"==typeof oe&&(null!=Ae?be[oe]=Ae:ze=oe),[mt,zt,be,ze=ze||it.default.sources.API]}function gt(mt,zt,oe,Ae){if(null==mt)return null;var ze=void 0,be=void 0;if(zt instanceof lt.default){var _e=[mt.index,mt.index+mt.length].map(function(Ke){return zt.transformPosition(Ke,Ae!==it.default.sources.USER)}),de=ft(_e,2);ze=de[0],be=de[1]}else{var Jt=[mt.index,mt.index+mt.length].map(function(Ke){return Ke<zt||Ke===zt&&Ae===it.default.sources.USER?Ke:oe>=0?Ke+oe:Math.max(zt,Ke+oe)}),Fe=ft(Jt,2);ze=Fe[0],be=Fe[1]}return new Pt.Range(ze,be-ze)}Object.defineProperty($t,"__esModule",{value:!0}),$t.default=$t.overload=$t.expandConfig=void 0;var dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(mt){return typeof mt}:function(mt){return mt&&"function"==typeof Symbol&&mt.constructor===Symbol&&mt!==Symbol.prototype?"symbol":typeof mt},ft=function(zt,oe){if(Array.isArray(zt))return zt;if(Symbol.iterator in Object(zt))return function(zt,oe){var Ae=[],ze=!0,be=!1,_e=void 0;try{for(var de,Jt=zt[Symbol.iterator]();!(ze=(de=Jt.next()).done)&&(Ae.push(de.value),!oe||Ae.length!==oe);ze=!0);}catch(Fe){be=!0,_e=Fe}finally{try{!ze&&Jt.return&&Jt.return()}finally{if(be)throw _e}}return Ae}(zt,oe);throw new TypeError("Invalid attempt to destructure non-iterable instance")},St=function(){function mt(zt,oe){for(var Ae=0;Ae<oe.length;Ae++){var ze=oe[Ae];ze.enumerable=ze.enumerable||!1,ze.configurable=!0,"value"in ze&&(ze.writable=!0),Object.defineProperty(zt,ze.key,ze)}}return function(zt,oe,Ae){return oe&&mt(zt.prototype,oe),Ae&&mt(zt,Ae),zt}}();Tt(53);var lt=ee(Tt(4)),xt=ee(Tt(57)),it=ee(Tt(9)),Ut=ee(Tt(7)),ie=ee(Tt(0)),Pt=Tt(22),Xt=ee(Pt),Dt=ee(Tt(2)),Pe=ee(Tt(10)),tn=ee(Tt(32)),on=(0,Pe.default)("quill"),an=function(){function mt(zt){var oe=this,Ae=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(ve(this,mt),this.options=Wt(zt,Ae),this.container=this.options.container,null==this.container)return on.error("Invalid Quill container",zt);this.options.debug&&mt.debug(this.options.debug);var ze=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new it.default,this.scroll=ie.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new xt.default(this.scroll),this.selection=new Xt.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(it.default.events.EDITOR_CHANGE,function(_e){_e===it.default.events.TEXT_CHANGE&&oe.root.classList.toggle("ql-blank",oe.editor.isBlank())}),this.emitter.on(it.default.events.SCROLL_UPDATE,function(_e,de){var Jt=oe.selection.lastRange,Fe=Jt&&0===Jt.length?Jt.index:void 0;Ft.call(oe,function(){return oe.editor.update(null,de,Fe)},_e)});var be=this.clipboard.convert("<div class='ql-editor' style=\"white-space: normal;\">"+ze+"<p><br></p></div>");this.setContents(be),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return St(mt,null,[{key:"debug",value:function(zt){!0===zt&&(zt="log"),Pe.default.level(zt)}},{key:"find",value:function(zt){return zt.__quill||ie.default.find(zt)}},{key:"import",value:function(zt){return null==this.imports[zt]&&on.error("Cannot import "+zt+". Are you sure it was registered?"),this.imports[zt]}},{key:"register",value:function(zt,oe){var Ae=this,ze=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("string"!=typeof zt){var be=zt.attrName||zt.blotName;"string"==typeof be?this.register("formats/"+be,zt,oe):Object.keys(zt).forEach(function(_e){Ae.register(_e,zt[_e],oe)})}else null==this.imports[zt]||ze||on.warn("Overwriting "+zt+" with",oe),this.imports[zt]=oe,(zt.startsWith("blots/")||zt.startsWith("formats/"))&&"abstract"!==oe.blotName?ie.default.register(oe):zt.startsWith("modules")&&"function"==typeof oe.register&&oe.register()}}]),St(mt,[{key:"addContainer",value:function(zt){var oe=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("string"==typeof zt){var Ae=zt;(zt=document.createElement("div")).classList.add(Ae)}return this.container.insertBefore(zt,oe),zt}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(zt,oe,Ae){var ze=this,be=Nt(zt,oe,Ae),_e=ft(be,4);return Ft.call(this,function(){return ze.editor.deleteText(zt,oe)},Ae=_e[3],zt=_e[0],-1*(oe=_e[1]))}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var zt=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.scroll.enable(zt),this.container.classList.toggle("ql-disabled",!zt)}},{key:"focus",value:function(){var zt=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=zt,this.scrollIntoView()}},{key:"format",value:function(zt,oe){var Ae=this,ze=arguments.length>2&&void 0!==arguments[2]?arguments[2]:it.default.sources.API;return Ft.call(this,function(){var be=Ae.getSelection(!0),_e=new lt.default;if(null==be)return _e;if(ie.default.query(zt,ie.default.Scope.BLOCK))_e=Ae.editor.formatLine(be.index,be.length,Oe({},zt,oe));else{if(0===be.length)return Ae.selection.format(zt,oe),_e;_e=Ae.editor.formatText(be.index,be.length,Oe({},zt,oe))}return Ae.setSelection(be,it.default.sources.SILENT),_e},ze)}},{key:"formatLine",value:function(zt,oe,Ae,ze,be){var de,_e=this,Jt=Nt(zt,oe,Ae,ze,be),Fe=ft(Jt,4);return oe=Fe[1],de=Fe[2],Ft.call(this,function(){return _e.editor.formatLine(zt,oe,de)},be=Fe[3],zt=Fe[0],0)}},{key:"formatText",value:function(zt,oe,Ae,ze,be){var de,_e=this,Jt=Nt(zt,oe,Ae,ze,be),Fe=ft(Jt,4);return oe=Fe[1],de=Fe[2],Ft.call(this,function(){return _e.editor.formatText(zt,oe,de)},be=Fe[3],zt=Fe[0],0)}},{key:"getBounds",value:function(zt){var oe=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,Ae=void 0;Ae="number"==typeof zt?this.selection.getBounds(zt,oe):this.selection.getBounds(zt.index,zt.length);var ze=this.container.getBoundingClientRect();return{bottom:Ae.bottom-ze.top,height:Ae.height,left:Ae.left-ze.left,right:Ae.right-ze.left,top:Ae.top-ze.top,width:Ae.width}}},{key:"getContents",value:function(){var zt=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,oe=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-zt,Ae=Nt(zt,oe),ze=ft(Ae,2);return this.editor.getContents(zt=ze[0],oe=ze[1])}},{key:"getFormat",value:function(){var zt=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getSelection(!0),oe=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return"number"==typeof zt?this.editor.getFormat(zt,oe):this.editor.getFormat(zt.index,zt.length)}},{key:"getIndex",value:function(zt){return zt.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(zt){return this.scroll.leaf(zt)}},{key:"getLine",value:function(zt){return this.scroll.line(zt)}},{key:"getLines",value:function(){var zt=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,oe=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE;return"number"!=typeof zt?this.scroll.lines(zt.index,zt.length):this.scroll.lines(zt,oe)}},{key:"getModule",value:function(zt){return this.theme.modules[zt]}},{key:"getSelection",value:function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var zt=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,oe=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-zt,Ae=Nt(zt,oe),ze=ft(Ae,2);return this.editor.getText(zt=ze[0],oe=ze[1])}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(zt,oe,Ae){var ze=this,be=arguments.length>3&&void 0!==arguments[3]?arguments[3]:mt.sources.API;return Ft.call(this,function(){return ze.editor.insertEmbed(zt,oe,Ae)},be,zt)}},{key:"insertText",value:function(zt,oe,Ae,ze,be){var de,_e=this,Jt=Nt(zt,0,Ae,ze,be),Fe=ft(Jt,4);return de=Fe[2],Ft.call(this,function(){return _e.editor.insertText(zt,oe,de)},be=Fe[3],zt=Fe[0],oe.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(zt,oe,Ae){this.clipboard.dangerouslyPasteHTML(zt,oe,Ae)}},{key:"removeFormat",value:function(zt,oe,Ae){var ze=this,be=Nt(zt,oe,Ae),_e=ft(be,4);return oe=_e[1],Ft.call(this,function(){return ze.editor.removeFormat(zt,oe)},Ae=_e[3],zt=_e[0])}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(zt){var oe=this,Ae=arguments.length>1&&void 0!==arguments[1]?arguments[1]:it.default.sources.API;return Ft.call(this,function(){zt=new lt.default(zt);var ze=oe.getLength(),be=oe.editor.deleteText(0,ze),_e=oe.editor.applyDelta(zt),de=_e.ops[_e.ops.length-1];return null!=de&&"string"==typeof de.insert&&"\n"===de.insert[de.insert.length-1]&&(oe.editor.deleteText(oe.getLength()-1,1),_e.delete(1)),be.compose(_e)},Ae)}},{key:"setSelection",value:function(zt,oe,Ae){if(null==zt)this.selection.setRange(null,oe||mt.sources.API);else{var ze=Nt(zt,oe,Ae),be=ft(ze,4);Ae=be[3],this.selection.setRange(new Pt.Range(zt=be[0],oe=be[1]),Ae),Ae!==it.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(zt){var oe=arguments.length>1&&void 0!==arguments[1]?arguments[1]:it.default.sources.API,Ae=(new lt.default).insert(zt);return this.setContents(Ae,oe)}},{key:"update",value:function(){var zt=arguments.length>0&&void 0!==arguments[0]?arguments[0]:it.default.sources.USER,oe=this.scroll.update(zt);return this.selection.update(zt),oe}},{key:"updateContents",value:function(zt){var oe=this,Ae=arguments.length>1&&void 0!==arguments[1]?arguments[1]:it.default.sources.API;return Ft.call(this,function(){return zt=new lt.default(zt),oe.editor.applyDelta(zt,Ae)},Ae,!0)}}]),mt}();an.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},an.events=it.default.events,an.sources=it.default.sources,an.version="1.3.7",an.imports={delta:lt.default,parchment:ie.default,"core/module":Ut.default,"core/theme":tn.default},$t.expandConfig=Wt,$t.overload=Nt,$t.default=an},function(Le,$t,Tt){"use strict";function ee(ve,Wt){if(!(ve instanceof Wt))throw new TypeError("Cannot call a class as a function")}Object.defineProperty($t,"__esModule",{value:!0});var Oe=function ve(Wt){var Ft=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};ee(this,ve),this.quill=Wt,this.options=Ft};Oe.DEFAULTS={},$t.default=Oe},function(Le,$t,Tt){"use strict";function ee(gt,dt){if(!(gt instanceof dt))throw new TypeError("Cannot call a class as a function")}function Oe(gt,dt){if(!gt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!dt||"object"!=typeof dt&&"function"!=typeof dt?gt:dt}Object.defineProperty($t,"__esModule",{value:!0});var gt,Nt=function(gt){function dt(){return ee(this,dt),Oe(this,(dt.__proto__||Object.getPrototypeOf(dt)).apply(this,arguments))}return function(gt,dt){if("function"!=typeof dt&&null!==dt)throw new TypeError("Super expression must either be null or a function, not "+typeof dt);gt.prototype=Object.create(dt&&dt.prototype,{constructor:{value:gt,enumerable:!1,writable:!0,configurable:!0}}),dt&&(Object.setPrototypeOf?Object.setPrototypeOf(gt,dt):gt.__proto__=dt)}(dt,gt),dt}(((gt=Tt(0))&&gt.__esModule?gt:{default:gt}).default.Text);$t.default=Nt},function(Le,$t,Tt){"use strict";function ee(_t){return _t&&_t.__esModule?_t:{default:_t}}Object.defineProperty($t,"__esModule",{value:!0});var Ft=function(){function _t(xt,ot){for(var it=0;it<ot.length;it++){var It=ot[it];It.enumerable=It.enumerable||!1,It.configurable=!0,"value"in It&&(It.writable=!0),Object.defineProperty(xt,It.key,It)}}return function(xt,ot,it){return ot&&_t(xt.prototype,ot),it&&_t(xt,it),xt}}(),Nt=function _t(xt,ot,it){null===xt&&(xt=Function.prototype);var It=Object.getOwnPropertyDescriptor(xt,ot);if(void 0===It){var Ut=Object.getPrototypeOf(xt);return null===Ut?void 0:_t(Ut,ot,it)}if("value"in It)return It.value;var Yt=It.get;return void 0!==Yt?Yt.call(it):void 0},dt=ee(Tt(58)),Et=(0,ee(Tt(10)).default)("quill:events");["selectionchange","mousedown","mouseup","click"].forEach(function(_t){document.addEventListener(_t,function(){for(var xt=arguments.length,ot=Array(xt),it=0;it<xt;it++)ot[it]=arguments[it];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(It){var Ut;It.__quill&&It.__quill.emitter&&(Ut=It.__quill.emitter).handleDOM.apply(Ut,ot)})})});var lt=function(_t){function xt(){!function(_t,xt){if(!(_t instanceof xt))throw new TypeError("Cannot call a class as a function")}(this,xt);var ot=function(_t,xt){if(!_t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!xt||"object"!=typeof xt&&"function"!=typeof xt?_t:xt}(this,(xt.__proto__||Object.getPrototypeOf(xt)).call(this));return ot.listeners={},ot.on("error",Et.error),ot}return function(_t,xt){if("function"!=typeof xt&&null!==xt)throw new TypeError("Super expression must either be null or a function, not "+typeof xt);_t.prototype=Object.create(xt&&xt.prototype,{constructor:{value:_t,enumerable:!1,writable:!0,configurable:!0}}),xt&&(Object.setPrototypeOf?Object.setPrototypeOf(_t,xt):_t.__proto__=xt)}(xt,_t),Ft(xt,[{key:"emit",value:function(){Et.log.apply(Et,arguments),Nt(xt.prototype.__proto__||Object.getPrototypeOf(xt.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(ot){for(var it=arguments.length,It=Array(it>1?it-1:0),Ut=1;Ut<it;Ut++)It[Ut-1]=arguments[Ut];(this.listeners[ot.type]||[]).forEach(function(Yt){var ie=Yt.node,Pt=Yt.handler;(ot.target===ie||ie.contains(ot.target))&&Pt.apply(void 0,[ot].concat(It))})}},{key:"listenDOM",value:function(ot,it,It){this.listeners[ot]||(this.listeners[ot]=[]),this.listeners[ot].push({node:it,handler:It})}}]),xt}(dt.default);lt.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},lt.sources={API:"api",SILENT:"silent",USER:"user"},$t.default=lt},function(Le,$t,Tt){"use strict";function ee(Ft){if(ve.indexOf(Ft)<=ve.indexOf(Wt)){for(var Nt,gt=arguments.length,dt=Array(gt>1?gt-1:0),ft=1;ft<gt;ft++)dt[ft-1]=arguments[ft];(Nt=console)[Ft].apply(Nt,dt)}}function Oe(Ft){return ve.reduce(function(Nt,gt){return Nt[gt]=ee.bind(console,gt,Ft),Nt},{})}Object.defineProperty($t,"__esModule",{value:!0});var ve=["error","warn","log","info"],Wt="warn";ee.level=Oe.level=function(Ft){Wt=Ft},$t.default=Oe},function(Le,$t,Tt){"use strict";Object.defineProperty($t,"__esModule",{value:!0});var ee=Tt(1),Oe=function(){function ve(Wt,Ft,Nt){void 0===Nt&&(Nt={}),this.attrName=Wt,this.keyName=Ft,this.scope=null!=Nt.scope?Nt.scope&ee.Scope.LEVEL|ee.Scope.TYPE&ee.Scope.ATTRIBUTE:ee.Scope.ATTRIBUTE,null!=Nt.whitelist&&(this.whitelist=Nt.whitelist)}return ve.keys=function(Wt){return[].map.call(Wt.attributes,function(Ft){return Ft.name})},ve.prototype.add=function(Wt,Ft){return!!this.canAdd(Wt,Ft)&&(Wt.setAttribute(this.keyName,Ft),!0)},ve.prototype.canAdd=function(Wt,Ft){return null!=ee.query(Wt,ee.Scope.BLOT&(this.scope|ee.Scope.TYPE))&&(null==this.whitelist||("string"==typeof Ft?this.whitelist.indexOf(Ft.replace(/["']/g,""))>-1:this.whitelist.indexOf(Ft)>-1))},ve.prototype.remove=function(Wt){Wt.removeAttribute(this.keyName)},ve.prototype.value=function(Wt){var Ft=Wt.getAttribute(this.keyName);return this.canAdd(Wt,Ft)&&Ft?Ft:""},ve}();$t.default=Oe},function(Le,$t,Tt){function ee(dt){return null==dt}function Oe(dt){return!(!dt||"object"!=typeof dt||"number"!=typeof dt.length||"function"!=typeof dt.copy||"function"!=typeof dt.slice||dt.length>0&&"number"!=typeof dt[0])}var Wt=Array.prototype.slice,Ft=Tt(55),Nt=Tt(56),gt=Le.exports=function(dt,ft,St){return St||(St={}),dt===ft||(dt instanceof Date&&ft instanceof Date?dt.getTime()===ft.getTime():!dt||!ft||"object"!=typeof dt&&"object"!=typeof ft?St.strict?dt===ft:dt==ft:function(dt,ft,St){var Et,lt;if(ee(dt)||ee(ft)||dt.prototype!==ft.prototype)return!1;if(Nt(dt))return!!Nt(ft)&&(dt=Wt.call(dt),ft=Wt.call(ft),gt(dt,ft,St));if(Oe(dt)){if(!Oe(ft)||dt.length!==ft.length)return!1;for(Et=0;Et<dt.length;Et++)if(dt[Et]!==ft[Et])return!1;return!0}try{var _t=Ft(dt),xt=Ft(ft)}catch(ot){return!1}if(_t.length!=xt.length)return!1;for(_t.sort(),xt.sort(),Et=_t.length-1;Et>=0;Et--)if(_t[Et]!=xt[Et])return!1;for(Et=_t.length-1;Et>=0;Et--)if(!gt(dt[lt=_t[Et]],ft[lt],St))return!1;return typeof dt==typeof ft}(dt,ft,St))}},function(Le,$t,Tt){"use strict";function ee(ie){return ie&&ie.__esModule?ie:{default:ie}}function Oe(ie,Pt){if(!(ie instanceof Pt))throw new TypeError("Cannot call a class as a function")}function ve(ie,Pt){if(!ie)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!Pt||"object"!=typeof Pt&&"function"!=typeof Pt?ie:Pt}function Wt(ie,Pt){if("function"!=typeof Pt&&null!==Pt)throw new TypeError("Super expression must either be null or a function, not "+typeof Pt);ie.prototype=Object.create(Pt&&Pt.prototype,{constructor:{value:ie,enumerable:!1,writable:!0,configurable:!0}}),Pt&&(Object.setPrototypeOf?Object.setPrototypeOf(ie,Pt):ie.__proto__=Pt)}Object.defineProperty($t,"__esModule",{value:!0}),$t.default=$t.Code=void 0;var Ft=function(Pt,Xt){if(Array.isArray(Pt))return Pt;if(Symbol.iterator in Object(Pt))return function(Pt,Xt){var vt=[],Dt=!0,se=!1,Pe=void 0;try{for(var Ne,tn=Pt[Symbol.iterator]();!(Dt=(Ne=tn.next()).done)&&(vt.push(Ne.value),!Xt||vt.length!==Xt);Dt=!0);}catch(on){se=!0,Pe=on}finally{try{!Dt&&tn.return&&tn.return()}finally{if(se)throw Pe}}return vt}(Pt,Xt);throw new TypeError("Invalid attempt to destructure non-iterable instance")},Nt=function(){function ie(Pt,Xt){for(var vt=0;vt<Xt.length;vt++){var Dt=Xt[vt];Dt.enumerable=Dt.enumerable||!1,Dt.configurable=!0,"value"in Dt&&(Dt.writable=!0),Object.defineProperty(Pt,Dt.key,Dt)}}return function(Pt,Xt,vt){return Xt&&ie(Pt.prototype,Xt),vt&&ie(Pt,vt),Pt}}(),gt=function ie(Pt,Xt,vt){null===Pt&&(Pt=Function.prototype);var Dt=Object.getOwnPropertyDescriptor(Pt,Xt);if(void 0===Dt){var se=Object.getPrototypeOf(Pt);return null===se?void 0:ie(se,Xt,vt)}if("value"in Dt)return Dt.value;var Pe=Dt.get;return void 0!==Pe?Pe.call(vt):void 0},ft=ee(Tt(4)),Et=ee(Tt(0)),_t=ee(Tt(3)),ot=ee(Tt(5)),It=ee(Tt(8)),Ut=function(ie){function Pt(){return Oe(this,Pt),ve(this,(Pt.__proto__||Object.getPrototypeOf(Pt)).apply(this,arguments))}return Wt(Pt,ie),Pt}(ot.default);Ut.blotName="code",Ut.tagName="CODE";var Yt=function(ie){function Pt(){return Oe(this,Pt),ve(this,(Pt.__proto__||Object.getPrototypeOf(Pt)).apply(this,arguments))}return Wt(Pt,ie),Nt(Pt,[{key:"delta",value:function(){var Xt=this,vt=this.domNode.textContent;return vt.endsWith("\n")&&(vt=vt.slice(0,-1)),vt.split("\n").reduce(function(Dt,se){return Dt.insert(se).insert("\n",Xt.formats())},new ft.default)}},{key:"format",value:function(Xt,vt){if(Xt!==this.statics.blotName||!vt){var Dt=this.descendant(It.default,this.length()-1),Pe=Ft(Dt,1)[0];null!=Pe&&Pe.deleteAt(Pe.length()-1,1),gt(Pt.prototype.__proto__||Object.getPrototypeOf(Pt.prototype),"format",this).call(this,Xt,vt)}}},{key:"formatAt",value:function(Xt,vt,Dt,se){if(0!==vt&&null!=Et.default.query(Dt,Et.default.Scope.BLOCK)&&(Dt!==this.statics.blotName||se!==this.statics.formats(this.domNode))){var Pe=this.newlineIndex(Xt);if(!(Pe<0||Pe>=Xt+vt)){var Ne=this.newlineIndex(Xt,!0)+1,tn=Pe-Ne+1,on=this.isolate(Ne,tn),an=on.next;on.format(Dt,se),an instanceof Pt&&an.formatAt(0,Xt-Ne+vt-tn,Dt,se)}}}},{key:"insertAt",value:function(Xt,vt,Dt){if(null==Dt){var se=this.descendant(It.default,Xt),Pe=Ft(se,2);Pe[0].insertAt(Pe[1],vt)}}},{key:"length",value:function(){var Xt=this.domNode.textContent.length;return this.domNode.textContent.endsWith("\n")?Xt:Xt+1}},{key:"newlineIndex",value:function(Xt){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1])return this.domNode.textContent.slice(0,Xt).lastIndexOf("\n");var vt=this.domNode.textContent.slice(Xt).indexOf("\n");return vt>-1?Xt+vt:-1}},{key:"optimize",value:function(Xt){this.domNode.textContent.endsWith("\n")||this.appendChild(Et.default.create("text","\n")),gt(Pt.prototype.__proto__||Object.getPrototypeOf(Pt.prototype),"optimize",this).call(this,Xt);var vt=this.next;null!=vt&&vt.prev===this&&vt.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===vt.statics.formats(vt.domNode)&&(vt.optimize(Xt),vt.moveChildren(this),vt.remove())}},{key:"replace",value:function(Xt){gt(Pt.prototype.__proto__||Object.getPrototypeOf(Pt.prototype),"replace",this).call(this,Xt),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(vt){var Dt=Et.default.find(vt);null==Dt?vt.parentNode.removeChild(vt):Dt instanceof Et.default.Embed?Dt.remove():Dt.unwrap()})}}],[{key:"create",value:function(Xt){var vt=gt(Pt.__proto__||Object.getPrototypeOf(Pt),"create",this).call(this,Xt);return vt.setAttribute("spellcheck",!1),vt}},{key:"formats",value:function(){return!0}}]),Pt}(_t.default);Yt.blotName="code-block",Yt.tagName="PRE",Yt.TAB="  ",$t.Code=Ut,$t.default=Yt},function(Le,$t,Tt){"use strict";function ee(ft,St){if(!(ft instanceof St))throw new TypeError("Cannot call a class as a function")}function Oe(ft,St){if(!ft)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!St||"object"!=typeof St&&"function"!=typeof St?ft:St}Object.defineProperty($t,"__esModule",{value:!0});var ft,Wt=function(){function ft(St,Et){for(var lt=0;lt<Et.length;lt++){var _t=Et[lt];_t.enumerable=_t.enumerable||!1,_t.configurable=!0,"value"in _t&&(_t.writable=!0),Object.defineProperty(St,_t.key,_t)}}return function(St,Et,lt){return Et&&ft(St.prototype,Et),lt&&ft(St,lt),St}}(),Ft=function ft(St,Et,lt){null===St&&(St=Function.prototype);var _t=Object.getOwnPropertyDescriptor(St,Et);if(void 0===_t){var xt=Object.getPrototypeOf(St);return null===xt?void 0:ft(xt,Et,lt)}if("value"in _t)return _t.value;var ot=_t.get;return void 0!==ot?ot.call(lt):void 0},dt=function(ft){function St(){return ee(this,St),Oe(this,(St.__proto__||Object.getPrototypeOf(St)).apply(this,arguments))}return function(ft,St){if("function"!=typeof St&&null!==St)throw new TypeError("Super expression must either be null or a function, not "+typeof St);ft.prototype=Object.create(St&&St.prototype,{constructor:{value:ft,enumerable:!1,writable:!0,configurable:!0}}),St&&(Object.setPrototypeOf?Object.setPrototypeOf(ft,St):ft.__proto__=St)}(St,ft),Wt(St,[{key:"insertInto",value:function(Et,lt){0===Et.children.length?Ft(St.prototype.__proto__||Object.getPrototypeOf(St.prototype),"insertInto",this).call(this,Et,lt):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),St}(((ft=Tt(0))&&ft.__esModule?ft:{default:ft}).default.Embed);dt.blotName="break",dt.tagName="BR",$t.default=dt},function(Le,$t,Tt){"use strict";function ee(St,Et){if(!(St instanceof Et))throw new TypeError("Cannot call a class as a function")}function Oe(St,Et){if(!St)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!Et||"object"!=typeof Et&&"function"!=typeof Et?St:Et}function Wt(St,Et){var lt=document.createElement("a");lt.href=St;var _t=lt.href.slice(0,lt.href.indexOf(":"));return Et.indexOf(_t)>-1}Object.defineProperty($t,"__esModule",{value:!0}),$t.sanitize=$t.default=void 0;var St,Ft=function(){function St(Et,lt){for(var _t=0;_t<lt.length;_t++){var xt=lt[_t];xt.enumerable=xt.enumerable||!1,xt.configurable=!0,"value"in xt&&(xt.writable=!0),Object.defineProperty(Et,xt.key,xt)}}return function(Et,lt,_t){return lt&&St(Et.prototype,lt),_t&&St(Et,_t),Et}}(),Nt=function St(Et,lt,_t){null===Et&&(Et=Function.prototype);var xt=Object.getOwnPropertyDescriptor(Et,lt);if(void 0===xt){var ot=Object.getPrototypeOf(Et);return null===ot?void 0:St(ot,lt,_t)}if("value"in xt)return xt.value;var it=xt.get;return void 0!==it?it.call(_t):void 0},ft=function(St){function Et(){return ee(this,Et),Oe(this,(Et.__proto__||Object.getPrototypeOf(Et)).apply(this,arguments))}return function(St,Et){if("function"!=typeof Et&&null!==Et)throw new TypeError("Super expression must either be null or a function, not "+typeof Et);St.prototype=Object.create(Et&&Et.prototype,{constructor:{value:St,enumerable:!1,writable:!0,configurable:!0}}),Et&&(Object.setPrototypeOf?Object.setPrototypeOf(St,Et):St.__proto__=Et)}(Et,St),Ft(Et,[{key:"format",value:function(lt,_t){if(lt!==this.statics.blotName||!_t)return Nt(Et.prototype.__proto__||Object.getPrototypeOf(Et.prototype),"format",this).call(this,lt,_t);_t=this.constructor.sanitize(_t),this.domNode.setAttribute("href",_t)}}],[{key:"create",value:function(lt){var _t=Nt(Et.__proto__||Object.getPrototypeOf(Et),"create",this).call(this,lt);return lt=this.sanitize(lt),_t.setAttribute("href",lt),_t.setAttribute("rel","noopener noreferrer"),_t.setAttribute("target","_blank"),_t}},{key:"formats",value:function(lt){return lt.getAttribute("href")}},{key:"sanitize",value:function(lt){return Wt(lt,this.PROTOCOL_WHITELIST)?lt:this.SANITIZED_URL}}]),Et}(((St=Tt(5))&&St.__esModule?St:{default:St}).default);ft.blotName="link",ft.tagName="A",ft.SANITIZED_URL="about:blank",ft.PROTOCOL_WHITELIST=["http","https","mailto","tel"],$t.default=ft,$t.sanitize=Wt},function(Le,$t,Tt){"use strict";function ee(lt){return lt&&lt.__esModule?lt:{default:lt}}function ve(lt,_t){lt.setAttribute(_t,"true"!==lt.getAttribute(_t))}Object.defineProperty($t,"__esModule",{value:!0});var Wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(lt){return typeof lt}:function(lt){return lt&&"function"==typeof Symbol&&lt.constructor===Symbol&&lt!==Symbol.prototype?"symbol":typeof lt},Ft=function(){function lt(_t,xt){for(var ot=0;ot<xt.length;ot++){var it=xt[ot];it.enumerable=it.enumerable||!1,it.configurable=!0,"value"in it&&(it.writable=!0),Object.defineProperty(_t,it.key,it)}}return function(_t,xt,ot){return xt&&lt(_t.prototype,xt),ot&&lt(_t,ot),_t}}(),gt=ee(Tt(25)),ft=ee(Tt(106)),St=0,Et=function(){function lt(_t){var xt=this;(function(lt,_t){if(!(lt instanceof _t))throw new TypeError("Cannot call a class as a function")})(this,lt),this.select=_t,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){xt.togglePicker()}),this.label.addEventListener("keydown",function(ot){switch(ot.keyCode){case gt.default.keys.ENTER:xt.togglePicker();break;case gt.default.keys.ESCAPE:xt.escape(),ot.preventDefault()}}),this.select.addEventListener("change",this.update.bind(this))}return Ft(lt,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),ve(this.label,"aria-expanded"),ve(this.options,"aria-hidden")}},{key:"buildItem",value:function(_t){var xt=this,ot=document.createElement("span");return ot.tabIndex="0",ot.setAttribute("role","button"),ot.classList.add("ql-picker-item"),_t.hasAttribute("value")&&ot.setAttribute("data-value",_t.getAttribute("value")),_t.textContent&&ot.setAttribute("data-label",_t.textContent),ot.addEventListener("click",function(){xt.selectItem(ot,!0)}),ot.addEventListener("keydown",function(it){switch(it.keyCode){case gt.default.keys.ENTER:xt.selectItem(ot,!0),it.preventDefault();break;case gt.default.keys.ESCAPE:xt.escape(),it.preventDefault()}}),ot}},{key:"buildLabel",value:function(){var _t=document.createElement("span");return _t.classList.add("ql-picker-label"),_t.innerHTML=ft.default,_t.tabIndex="0",_t.setAttribute("role","button"),_t.setAttribute("aria-expanded","false"),this.container.appendChild(_t),_t}},{key:"buildOptions",value:function(){var _t=this,xt=document.createElement("span");xt.classList.add("ql-picker-options"),xt.setAttribute("aria-hidden","true"),xt.tabIndex="-1",xt.id="ql-picker-options-"+St,St+=1,this.label.setAttribute("aria-controls",xt.id),this.options=xt,[].slice.call(this.select.options).forEach(function(ot){var it=_t.buildItem(ot);xt.appendChild(it),!0===ot.selected&&_t.selectItem(it)}),this.container.appendChild(xt)}},{key:"buildPicker",value:function(){var _t=this;[].slice.call(this.select.attributes).forEach(function(xt){_t.container.setAttribute(xt.name,xt.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var _t=this;this.close(),setTimeout(function(){return _t.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(_t){var xt=arguments.length>1&&void 0!==arguments[1]&&arguments[1],ot=this.container.querySelector(".ql-selected");if(_t!==ot&&(null!=ot&&ot.classList.remove("ql-selected"),null!=_t&&(_t.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(_t.parentNode.children,_t),_t.hasAttribute("data-value")?this.label.setAttribute("data-value",_t.getAttribute("data-value")):this.label.removeAttribute("data-value"),_t.hasAttribute("data-label")?this.label.setAttribute("data-label",_t.getAttribute("data-label")):this.label.removeAttribute("data-label"),xt))){if("function"==typeof Event)this.select.dispatchEvent(new Event("change"));else if("object"===("undefined"==typeof Event?"undefined":Wt(Event))){var it=document.createEvent("Event");it.initEvent("change",!0,!0),this.select.dispatchEvent(it)}this.close()}}},{key:"update",value:function(){var _t=void 0;if(this.select.selectedIndex>-1){var xt=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];_t=this.select.options[this.select.selectedIndex],this.selectItem(xt)}else this.selectItem(null);var ot=null!=_t&&_t!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",ot)}}]),lt}();$t.default=Et},function(Le,$t,Tt){"use strict";function ee(gt){var dt=Ft.find(gt);if(null==dt)try{dt=Ft.create(gt)}catch(ft){dt=Ft.create(Ft.Scope.INLINE),[].slice.call(gt.childNodes).forEach(function(St){dt.domNode.appendChild(St)}),gt.parentNode&&gt.parentNode.replaceChild(dt.domNode,gt),dt.attach()}return dt}var gt,Oe=this&&this.__extends||(gt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(dt,ft){dt.__proto__=ft}||function(dt,ft){for(var St in ft)ft.hasOwnProperty(St)&&(dt[St]=ft[St])},function(dt,ft){function St(){this.constructor=dt}gt(dt,ft),dt.prototype=null===ft?Object.create(ft):(St.prototype=ft.prototype,new St)});Object.defineProperty($t,"__esModule",{value:!0});var ve=Tt(47),Wt=Tt(27),Ft=Tt(1),Nt=function(gt){function dt(ft){var St=gt.call(this,ft)||this;return St.build(),St}return Oe(dt,gt),dt.prototype.appendChild=function(ft){this.insertBefore(ft)},dt.prototype.attach=function(){gt.prototype.attach.call(this),this.children.forEach(function(ft){ft.attach()})},dt.prototype.build=function(){var ft=this;this.children=new ve.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(St){try{var Et=ee(St);ft.insertBefore(Et,ft.children.head||void 0)}catch(lt){if(lt instanceof Ft.ParchmentError)return;throw lt}})},dt.prototype.deleteAt=function(ft,St){if(0===ft&&St===this.length())return this.remove();this.children.forEachAt(ft,St,function(Et,lt,_t){Et.deleteAt(lt,_t)})},dt.prototype.descendant=function(ft,St){var Et=this.children.find(St),lt=Et[0],_t=Et[1];return null==ft.blotName&&ft(lt)||null!=ft.blotName&&lt instanceof ft?[lt,_t]:lt instanceof dt?lt.descendant(ft,_t):[null,-1]},dt.prototype.descendants=function(ft,St,Et){void 0===St&&(St=0),void 0===Et&&(Et=Number.MAX_VALUE);var lt=[],_t=Et;return this.children.forEachAt(St,Et,function(xt,ot,it){(null==ft.blotName&&ft(xt)||null!=ft.blotName&&xt instanceof ft)&&lt.push(xt),xt instanceof dt&&(lt=lt.concat(xt.descendants(ft,ot,_t))),_t-=it}),lt},dt.prototype.detach=function(){this.children.forEach(function(ft){ft.detach()}),gt.prototype.detach.call(this)},dt.prototype.formatAt=function(ft,St,Et,lt){this.children.forEachAt(ft,St,function(_t,xt,ot){_t.formatAt(xt,ot,Et,lt)})},dt.prototype.insertAt=function(ft,St,Et){var lt=this.children.find(ft),_t=lt[0];if(_t)_t.insertAt(lt[1],St,Et);else{var ot=null==Et?Ft.create("text",St):Ft.create(St,Et);this.appendChild(ot)}},dt.prototype.insertBefore=function(ft,St){if(null!=this.statics.allowedChildren&&!this.statics.allowedChildren.some(function(Et){return ft instanceof Et}))throw new Ft.ParchmentError("Cannot insert "+ft.statics.blotName+" into "+this.statics.blotName);ft.insertInto(this,St)},dt.prototype.length=function(){return this.children.reduce(function(ft,St){return ft+St.length()},0)},dt.prototype.moveChildren=function(ft,St){this.children.forEach(function(Et){ft.insertBefore(Et,St)})},dt.prototype.optimize=function(ft){if(gt.prototype.optimize.call(this,ft),0===this.children.length)if(null!=this.statics.defaultChild){var St=Ft.create(this.statics.defaultChild);this.appendChild(St),St.optimize(ft)}else this.remove()},dt.prototype.path=function(ft,St){void 0===St&&(St=!1);var Et=this.children.find(ft,St),lt=Et[0],_t=Et[1],xt=[[this,ft]];return lt instanceof dt?xt.concat(lt.path(_t,St)):(null!=lt&&xt.push([lt,_t]),xt)},dt.prototype.removeChild=function(ft){this.children.remove(ft)},dt.prototype.replace=function(ft){ft instanceof dt&&ft.moveChildren(this),gt.prototype.replace.call(this,ft)},dt.prototype.split=function(ft,St){if(void 0===St&&(St=!1),!St){if(0===ft)return this;if(ft===this.length())return this.next}var Et=this.clone();return this.parent.insertBefore(Et,this.next),this.children.forEachAt(ft,this.length(),function(lt,_t,xt){lt=lt.split(_t,St),Et.appendChild(lt)}),Et},dt.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},dt.prototype.update=function(ft,St){var Et=this,lt=[],_t=[];ft.forEach(function(xt){xt.target===Et.domNode&&"childList"===xt.type&&(lt.push.apply(lt,xt.addedNodes),_t.push.apply(_t,xt.removedNodes))}),_t.forEach(function(xt){if(!(null!=xt.parentNode&&"IFRAME"!==xt.tagName&&document.body.compareDocumentPosition(xt)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var ot=Ft.find(xt);null!=ot&&(null!=ot.domNode.parentNode&&ot.domNode.parentNode!==Et.domNode||ot.detach())}}),lt.filter(function(xt){return xt.parentNode==Et.domNode}).sort(function(xt,ot){return xt===ot?0:xt.compareDocumentPosition(ot)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(xt){var ot=null;null!=xt.nextSibling&&(ot=Ft.find(xt.nextSibling));var it=ee(xt);it.next==ot&&null!=it.next||(null!=it.parent&&it.parent.removeChild(Et),Et.insertBefore(it,ot||void 0))})},dt}(Wt.default);$t.default=Nt},function(Le,$t,Tt){"use strict";var gt,ee=this&&this.__extends||(gt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(dt,ft){dt.__proto__=ft}||function(dt,ft){for(var St in ft)ft.hasOwnProperty(St)&&(dt[St]=ft[St])},function(dt,ft){function St(){this.constructor=dt}gt(dt,ft),dt.prototype=null===ft?Object.create(ft):(St.prototype=ft.prototype,new St)});Object.defineProperty($t,"__esModule",{value:!0});var Oe=Tt(11),ve=Tt(28),Wt=Tt(17),Ft=Tt(1),Nt=function(gt){function dt(ft){var St=gt.call(this,ft)||this;return St.attributes=new ve.default(St.domNode),St}return ee(dt,gt),dt.formats=function(ft){return"string"==typeof this.tagName||(Array.isArray(this.tagName)?ft.tagName.toLowerCase():void 0)},dt.prototype.format=function(ft,St){var Et=Ft.query(ft);Et instanceof Oe.default?this.attributes.attribute(Et,St):St&&(null==Et||ft===this.statics.blotName&&this.formats()[ft]===St||this.replaceWith(ft,St))},dt.prototype.formats=function(){var ft=this.attributes.values(),St=this.statics.formats(this.domNode);return null!=St&&(ft[this.statics.blotName]=St),ft},dt.prototype.replaceWith=function(ft,St){var Et=gt.prototype.replaceWith.call(this,ft,St);return this.attributes.copy(Et),Et},dt.prototype.update=function(ft,St){var Et=this;gt.prototype.update.call(this,ft,St),ft.some(function(lt){return lt.target===Et.domNode&&"attributes"===lt.type})&&this.attributes.build()},dt.prototype.wrap=function(ft,St){var Et=gt.prototype.wrap.call(this,ft,St);return Et instanceof dt&&Et.statics.scope===this.statics.scope&&this.attributes.move(Et),Et},dt}(Wt.default);$t.default=Nt},function(Le,$t,Tt){"use strict";var Ft,ee=this&&this.__extends||(Ft=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Nt,gt){Nt.__proto__=gt}||function(Nt,gt){for(var dt in gt)gt.hasOwnProperty(dt)&&(Nt[dt]=gt[dt])},function(Nt,gt){function dt(){this.constructor=Nt}Ft(Nt,gt),Nt.prototype=null===gt?Object.create(gt):(dt.prototype=gt.prototype,new dt)});Object.defineProperty($t,"__esModule",{value:!0});var Oe=Tt(27),ve=Tt(1),Wt=function(Ft){function Nt(){return null!==Ft&&Ft.apply(this,arguments)||this}return ee(Nt,Ft),Nt.value=function(gt){return!0},Nt.prototype.index=function(gt,dt){return this.domNode===gt||this.domNode.compareDocumentPosition(gt)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(dt,1):-1},Nt.prototype.position=function(gt,dt){var ft=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return gt>0&&(ft+=1),[this.parent.domNode,ft]},Nt.prototype.value=function(){var gt;return(gt={})[this.statics.blotName]=this.statics.value(this.domNode)||!0,gt},Nt.scope=ve.Scope.INLINE_BLOT,Nt}(Oe.default);$t.default=Wt},function(Le,$t,Tt){function ee(Ft){this.ops=Ft,this.index=0,this.offset=0}var Oe=Tt(12),ve=Tt(2),Wt={attributes:{compose:function(Ft,Nt,gt){"object"!=typeof Ft&&(Ft={}),"object"!=typeof Nt&&(Nt={});var dt=ve(!0,{},Nt);for(var ft in gt||(dt=Object.keys(dt).reduce(function(St,Et){return null!=dt[Et]&&(St[Et]=dt[Et]),St},{})),Ft)void 0!==Ft[ft]&&void 0===Nt[ft]&&(dt[ft]=Ft[ft]);return Object.keys(dt).length>0?dt:void 0},diff:function(Ft,Nt){"object"!=typeof Ft&&(Ft={}),"object"!=typeof Nt&&(Nt={});var gt=Object.keys(Ft).concat(Object.keys(Nt)).reduce(function(dt,ft){return Oe(Ft[ft],Nt[ft])||(dt[ft]=void 0===Nt[ft]?null:Nt[ft]),dt},{});return Object.keys(gt).length>0?gt:void 0},transform:function(Ft,Nt,gt){if("object"!=typeof Ft)return Nt;if("object"==typeof Nt){if(!gt)return Nt;var dt=Object.keys(Nt).reduce(function(ft,St){return void 0===Ft[St]&&(ft[St]=Nt[St]),ft},{});return Object.keys(dt).length>0?dt:void 0}}},iterator:function(Ft){return new ee(Ft)},length:function(Ft){return"number"==typeof Ft.delete?Ft.delete:"number"==typeof Ft.retain?Ft.retain:"string"==typeof Ft.insert?Ft.insert.length:1}};ee.prototype.hasNext=function(){return this.peekLength()<1/0},ee.prototype.next=function(Ft){Ft||(Ft=1/0);var Nt=this.ops[this.index];if(Nt){var gt=this.offset,dt=Wt.length(Nt);if(Ft>=dt-gt?(Ft=dt-gt,this.index+=1,this.offset=0):this.offset+=Ft,"number"==typeof Nt.delete)return{delete:Ft};var ft={};return Nt.attributes&&(ft.attributes=Nt.attributes),"number"==typeof Nt.retain?ft.retain=Ft:ft.insert="string"==typeof Nt.insert?Nt.insert.substr(gt,Ft):Nt.insert,ft}return{retain:1/0}},ee.prototype.peek=function(){return this.ops[this.index]},ee.prototype.peekLength=function(){return this.ops[this.index]?Wt.length(this.ops[this.index])-this.offset:1/0},ee.prototype.peekType=function(){return this.ops[this.index]?"number"==typeof this.ops[this.index].delete?"delete":"number"==typeof this.ops[this.index].retain?"retain":"insert":"retain"},ee.prototype.rest=function(){if(this.hasNext()){if(0===this.offset)return this.ops.slice(this.index);var Ft=this.offset,Nt=this.index,gt=this.next(),dt=this.ops.slice(this.index);return this.offset=Ft,this.index=Nt,[gt].concat(dt)}return[]},Le.exports=Wt},function(Le,$t){var Tt=function(){"use strict";function ee(Et,lt){return null!=lt&&Et instanceof lt}function Oe(Et,lt,_t,xt,ot){"object"==typeof lt&&(_t=lt.depth,xt=lt.prototype,ot=lt.includeNonEnumerable,lt=lt.circular);var It=[],Ut=[],Yt="undefined"!=typeof Buffer;return void 0===lt&&(lt=!0),void 0===_t&&(_t=1/0),function it(ie,Pt){if(null===ie)return null;if(0===Pt)return ie;var Xt,vt;if("object"!=typeof ie)return ie;if(ee(ie,dt))Xt=new dt;else if(ee(ie,ft))Xt=new ft;else if(ee(ie,St))Xt=new St(function(zt,oe){ie.then(function(Ae){zt(it(Ae,Pt-1))},function(Ae){oe(it(Ae,Pt-1))})});else if(Oe.__isArray(ie))Xt=[];else if(Oe.__isRegExp(ie))Xt=new RegExp(ie.source,gt(ie)),ie.lastIndex&&(Xt.lastIndex=ie.lastIndex);else if(Oe.__isDate(ie))Xt=new Date(ie.getTime());else{if(Yt&&Buffer.isBuffer(ie))return Xt=Buffer.allocUnsafe?Buffer.allocUnsafe(ie.length):new Buffer(ie.length),ie.copy(Xt),Xt;ee(ie,Error)?Xt=Object.create(ie):void 0===xt?(vt=Object.getPrototypeOf(ie),Xt=Object.create(vt)):(Xt=Object.create(xt),vt=xt)}if(lt){var Dt=It.indexOf(ie);if(-1!=Dt)return Ut[Dt];It.push(ie),Ut.push(Xt)}for(var se in ee(ie,dt)&&ie.forEach(function(zt,oe){var Ae=it(oe,Pt-1),ze=it(zt,Pt-1);Xt.set(Ae,ze)}),ee(ie,ft)&&ie.forEach(function(zt){var oe=it(zt,Pt-1);Xt.add(oe)}),ie){var Pe;vt&&(Pe=Object.getOwnPropertyDescriptor(vt,se)),Pe&&null==Pe.set||(Xt[se]=it(ie[se],Pt-1))}if(Object.getOwnPropertySymbols){var Ne=Object.getOwnPropertySymbols(ie);for(se=0;se<Ne.length;se++){var tn=Ne[se];(!(on=Object.getOwnPropertyDescriptor(ie,tn))||on.enumerable||ot)&&(Xt[tn]=it(ie[tn],Pt-1),on.enumerable||Object.defineProperty(Xt,tn,{enumerable:!1}))}}if(ot){var an=Object.getOwnPropertyNames(ie);for(se=0;se<an.length;se++){var on,mt=an[se];(on=Object.getOwnPropertyDescriptor(ie,mt))&&on.enumerable||(Xt[mt]=it(ie[mt],Pt-1),Object.defineProperty(Xt,mt,{enumerable:!1}))}}return Xt}(Et,_t)}function ve(Et){return Object.prototype.toString.call(Et)}function gt(Et){var lt="";return Et.global&&(lt+="g"),Et.ignoreCase&&(lt+="i"),Et.multiline&&(lt+="m"),lt}var dt,ft,St;try{dt=Map}catch(Et){dt=function(){}}try{ft=Set}catch(Et){ft=function(){}}try{St=Promise}catch(Et){St=function(){}}return Oe.clonePrototype=function(Et){if(null===Et)return null;var lt=function(){};return lt.prototype=Et,new lt},Oe.__objToStr=ve,Oe.__isDate=function(Et){return"object"==typeof Et&&"[object Date]"===ve(Et)},Oe.__isArray=function(Et){return"object"==typeof Et&&"[object Array]"===ve(Et)},Oe.__isRegExp=function(Et){return"object"==typeof Et&&"[object RegExp]"===ve(Et)},Oe.__getRegExpFlags=gt,Oe}();"object"==typeof Le&&Le.exports&&(Le.exports=Tt)},function(Le,$t,Tt){"use strict";function ee(ie){return ie&&ie.__esModule?ie:{default:ie}}function Oe(ie){if(Array.isArray(ie)){for(var Pt=0,Xt=Array(ie.length);Pt<ie.length;Pt++)Xt[Pt]=ie[Pt];return Xt}return Array.from(ie)}function ve(ie,Pt){if(!(ie instanceof Pt))throw new TypeError("Cannot call a class as a function")}function Wt(ie,Pt){return Pt instanceof Text&&(Pt=Pt.parentNode),ie.contains(Pt)}Object.defineProperty($t,"__esModule",{value:!0}),$t.default=$t.Range=void 0;var Ft=function(Pt,Xt){if(Array.isArray(Pt))return Pt;if(Symbol.iterator in Object(Pt))return function(Pt,Xt){var vt=[],Dt=!0,se=!1,Pe=void 0;try{for(var Ne,tn=Pt[Symbol.iterator]();!(Dt=(Ne=tn.next()).done)&&(vt.push(Ne.value),!Xt||vt.length!==Xt);Dt=!0);}catch(on){se=!0,Pe=on}finally{try{!Dt&&tn.return&&tn.return()}finally{if(se)throw Pe}}return vt}(Pt,Xt);throw new TypeError("Invalid attempt to destructure non-iterable instance")},Nt=function(){function ie(Pt,Xt){for(var vt=0;vt<Xt.length;vt++){var Dt=Xt[vt];Dt.enumerable=Dt.enumerable||!1,Dt.configurable=!0,"value"in Dt&&(Dt.writable=!0),Object.defineProperty(Pt,Dt.key,Dt)}}return function(Pt,Xt,vt){return Xt&&ie(Pt.prototype,Xt),vt&&ie(Pt,vt),Pt}}(),dt=ee(Tt(0)),St=ee(Tt(21)),lt=ee(Tt(12)),xt=ee(Tt(9)),It=(0,ee(Tt(10)).default)("quill:selection"),Ut=function ie(Pt){var Xt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;ve(this,ie),this.index=Pt,this.length=Xt},Yt=function(){function ie(Pt,Xt){var vt=this;ve(this,ie),this.emitter=Xt,this.scroll=Pt,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=dt.default.create("cursor",this),this.lastRange=this.savedRange=new Ut(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){vt.mouseDown||setTimeout(vt.update.bind(vt,xt.default.sources.USER),1)}),this.emitter.on(xt.default.events.EDITOR_CHANGE,function(Dt,se){Dt===xt.default.events.TEXT_CHANGE&&se.length()>0&&vt.update(xt.default.sources.SILENT)}),this.emitter.on(xt.default.events.SCROLL_BEFORE_UPDATE,function(){if(vt.hasFocus()){var Dt=vt.getNativeRange();null!=Dt&&Dt.start.node!==vt.cursor.textNode&&vt.emitter.once(xt.default.events.SCROLL_UPDATE,function(){try{vt.setNativeRange(Dt.start.node,Dt.start.offset,Dt.end.node,Dt.end.offset)}catch(se){}})}}),this.emitter.on(xt.default.events.SCROLL_OPTIMIZE,function(Dt,se){if(se.range){var Pe=se.range;vt.setNativeRange(Pe.startNode,Pe.startOffset,Pe.endNode,Pe.endOffset)}}),this.update(xt.default.sources.SILENT)}return Nt(ie,[{key:"handleComposition",value:function(){var Pt=this;this.root.addEventListener("compositionstart",function(){Pt.composing=!0}),this.root.addEventListener("compositionend",function(){if(Pt.composing=!1,Pt.cursor.parent){var Xt=Pt.cursor.restore();if(!Xt)return;setTimeout(function(){Pt.setNativeRange(Xt.startNode,Xt.startOffset,Xt.endNode,Xt.endOffset)},1)}})}},{key:"handleDragging",value:function(){var Pt=this;this.emitter.listenDOM("mousedown",document.body,function(){Pt.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){Pt.mouseDown=!1,Pt.update(xt.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(Pt,Xt){if(null==this.scroll.whitelist||this.scroll.whitelist[Pt]){this.scroll.update();var vt=this.getNativeRange();if(null!=vt&&vt.native.collapsed&&!dt.default.query(Pt,dt.default.Scope.BLOCK)){if(vt.start.node!==this.cursor.textNode){var Dt=dt.default.find(vt.start.node,!1);if(null==Dt)return;if(Dt instanceof dt.default.Leaf){var se=Dt.split(vt.start.offset);Dt.parent.insertBefore(this.cursor,se)}else Dt.insertBefore(this.cursor,vt.start.node);this.cursor.attach()}this.cursor.format(Pt,Xt),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(Pt){var Xt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,vt=this.scroll.length();Pt=Math.min(Pt,vt-1),Xt=Math.min(Pt+Xt,vt-1)-Pt;var Dt=void 0,se=this.scroll.leaf(Pt),Pe=Ft(se,2),Ne=Pe[0],tn=Pe[1];if(null==Ne)return null;var on=Ne.position(tn,!0),an=Ft(on,2);Dt=an[0],tn=an[1];var mt=document.createRange();if(Xt>0){mt.setStart(Dt,tn);var zt=this.scroll.leaf(Pt+Xt),oe=Ft(zt,2);if(null==(Ne=oe[0]))return null;var Ae=Ne.position(tn=oe[1],!0),ze=Ft(Ae,2);return mt.setEnd(Dt=ze[0],tn=ze[1]),mt.getBoundingClientRect()}var be="left",_e=void 0;return Dt instanceof Text?(tn<Dt.data.length?(mt.setStart(Dt,tn),mt.setEnd(Dt,tn+1)):(mt.setStart(Dt,tn-1),mt.setEnd(Dt,tn),be="right"),_e=mt.getBoundingClientRect()):(_e=Ne.domNode.getBoundingClientRect(),tn>0&&(be="right")),{bottom:_e.top+_e.height,height:_e.height,left:_e[be],right:_e[be],top:_e.top,width:0}}},{key:"getNativeRange",value:function(){var Pt=document.getSelection();if(null==Pt||Pt.rangeCount<=0)return null;var Xt=Pt.getRangeAt(0);if(null==Xt)return null;var vt=this.normalizeNative(Xt);return It.info("getNativeRange",vt),vt}},{key:"getRange",value:function(){var Pt=this.getNativeRange();return null==Pt?[null,null]:[this.normalizedToRange(Pt),Pt]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(Pt){var Xt=this,vt=[[Pt.start.node,Pt.start.offset]];Pt.native.collapsed||vt.push([Pt.end.node,Pt.end.offset]);var Dt=vt.map(function(Ne){var tn=Ft(Ne,2),on=tn[0],an=tn[1],mt=dt.default.find(on,!0),zt=mt.offset(Xt.scroll);return 0===an?zt:mt instanceof dt.default.Container?zt+mt.length():zt+mt.index(on,an)}),se=Math.min(Math.max.apply(Math,Oe(Dt)),this.scroll.length()-1),Pe=Math.min.apply(Math,[se].concat(Oe(Dt)));return new Ut(Pe,se-Pe)}},{key:"normalizeNative",value:function(Pt){if(!Wt(this.root,Pt.startContainer)||!Pt.collapsed&&!Wt(this.root,Pt.endContainer))return null;var Xt={start:{node:Pt.startContainer,offset:Pt.startOffset},end:{node:Pt.endContainer,offset:Pt.endOffset},native:Pt};return[Xt.start,Xt.end].forEach(function(vt){for(var Dt=vt.node,se=vt.offset;!(Dt instanceof Text)&&Dt.childNodes.length>0;)if(Dt.childNodes.length>se)Dt=Dt.childNodes[se],se=0;else{if(Dt.childNodes.length!==se)break;se=(Dt=Dt.lastChild)instanceof Text?Dt.data.length:Dt.childNodes.length+1}vt.node=Dt,vt.offset=se}),Xt}},{key:"rangeToNative",value:function(Pt){var Xt=this,vt=Pt.collapsed?[Pt.index]:[Pt.index,Pt.index+Pt.length],Dt=[],se=this.scroll.length();return vt.forEach(function(Pe,Ne){Pe=Math.min(se-1,Pe);var on=Xt.scroll.leaf(Pe),an=Ft(on,2),zt=an[1],oe=an[0].position(zt,0!==Ne),Ae=Ft(oe,2);Dt.push(Ae[0],zt=Ae[1])}),Dt.length<2&&(Dt=Dt.concat(Dt)),Dt}},{key:"scrollIntoView",value:function(Pt){var Xt=this.lastRange;if(null!=Xt){var vt=this.getBounds(Xt.index,Xt.length);if(null!=vt){var Dt=this.scroll.length()-1,se=this.scroll.line(Math.min(Xt.index,Dt)),Ne=Ft(se,1)[0],tn=Ne;if(Xt.length>0){var on=this.scroll.line(Math.min(Xt.index+Xt.length,Dt));tn=Ft(on,1)[0]}if(null!=Ne&&null!=tn){var an=Pt.getBoundingClientRect();vt.top<an.top?Pt.scrollTop-=an.top-vt.top:vt.bottom>an.bottom&&(Pt.scrollTop+=vt.bottom-an.bottom)}}}}},{key:"setNativeRange",value:function(Pt,Xt){var vt=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Pt,Dt=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Xt,se=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(It.info("setNativeRange",Pt,Xt,vt,Dt),null==Pt||null!=this.root.parentNode&&null!=Pt.parentNode&&null!=vt.parentNode){var Pe=document.getSelection();if(null!=Pe)if(null!=Pt){this.hasFocus()||this.root.focus();var Ne=(this.getNativeRange()||{}).native;if(null==Ne||se||Pt!==Ne.startContainer||Xt!==Ne.startOffset||vt!==Ne.endContainer||Dt!==Ne.endOffset){"BR"==Pt.tagName&&(Xt=[].indexOf.call(Pt.parentNode.childNodes,Pt),Pt=Pt.parentNode),"BR"==vt.tagName&&(Dt=[].indexOf.call(vt.parentNode.childNodes,vt),vt=vt.parentNode);var tn=document.createRange();tn.setStart(Pt,Xt),tn.setEnd(vt,Dt),Pe.removeAllRanges(),Pe.addRange(tn)}}else Pe.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(Pt){var Xt=arguments.length>1&&void 0!==arguments[1]&&arguments[1],vt=arguments.length>2&&void 0!==arguments[2]?arguments[2]:xt.default.sources.API;if("string"==typeof Xt&&(vt=Xt,Xt=!1),It.info("setRange",Pt),null!=Pt){var Dt=this.rangeToNative(Pt);this.setNativeRange.apply(this,Oe(Dt).concat([Xt]))}else this.setNativeRange(null);this.update(vt)}},{key:"update",value:function(){var Pt=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xt.default.sources.USER,Xt=this.lastRange,vt=this.getRange(),Dt=Ft(vt,2),se=Dt[0],Pe=Dt[1];if(this.lastRange=se,null!=this.lastRange&&(this.savedRange=this.lastRange),!(0,lt.default)(Xt,this.lastRange)){var Ne;!this.composing&&null!=Pe&&Pe.native.collapsed&&Pe.start.node!==this.cursor.textNode&&this.cursor.restore();var on,tn=[xt.default.events.SELECTION_CHANGE,(0,St.default)(this.lastRange),(0,St.default)(Xt),Pt];(Ne=this.emitter).emit.apply(Ne,[xt.default.events.EDITOR_CHANGE].concat(tn)),Pt!==xt.default.sources.SILENT&&(on=this.emitter).emit.apply(on,tn)}}}]),ie}();$t.Range=Ut,$t.default=Yt},function(Le,$t,Tt){"use strict";function ee(St){return St&&St.__esModule?St:{default:St}}function Oe(St,Et){if(!(St instanceof Et))throw new TypeError("Cannot call a class as a function")}function ve(St,Et){if(!St)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!Et||"object"!=typeof Et&&"function"!=typeof Et?St:Et}Object.defineProperty($t,"__esModule",{value:!0});var Nt=ee(Tt(0)),gt=Tt(3),dt=ee(gt),ft=function(St){function Et(){return Oe(this,Et),ve(this,(Et.__proto__||Object.getPrototypeOf(Et)).apply(this,arguments))}return function(St,Et){if("function"!=typeof Et&&null!==Et)throw new TypeError("Super expression must either be null or a function, not "+typeof Et);St.prototype=Object.create(Et&&Et.prototype,{constructor:{value:St,enumerable:!1,writable:!0,configurable:!0}}),Et&&(Object.setPrototypeOf?Object.setPrototypeOf(St,Et):St.__proto__=Et)}(Et,St),Et}(Nt.default.Container);ft.allowedChildren=[dt.default,gt.BlockEmbed,ft],$t.default=ft},function(Le,$t,Tt){"use strict";function ee(Et,lt){if(!(Et instanceof lt))throw new TypeError("Cannot call a class as a function")}function Oe(Et,lt){if(!Et)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!lt||"object"!=typeof lt&&"function"!=typeof lt?Et:lt}Object.defineProperty($t,"__esModule",{value:!0}),$t.ColorStyle=$t.ColorClass=$t.ColorAttributor=void 0;var Et,Wt=function(){function Et(lt,_t){for(var xt=0;xt<_t.length;xt++){var ot=_t[xt];ot.enumerable=ot.enumerable||!1,ot.configurable=!0,"value"in ot&&(ot.writable=!0),Object.defineProperty(lt,ot.key,ot)}}return function(lt,_t,xt){return _t&&Et(lt.prototype,_t),xt&&Et(lt,xt),lt}}(),Ft=function Et(lt,_t,xt){null===lt&&(lt=Function.prototype);var ot=Object.getOwnPropertyDescriptor(lt,_t);if(void 0===ot){var it=Object.getPrototypeOf(lt);return null===it?void 0:Et(it,_t,xt)}if("value"in ot)return ot.value;var It=ot.get;return void 0!==It?It.call(xt):void 0},gt=(Et=Tt(0))&&Et.__esModule?Et:{default:Et},dt=function(Et){function lt(){return ee(this,lt),Oe(this,(lt.__proto__||Object.getPrototypeOf(lt)).apply(this,arguments))}return function(Et,lt){if("function"!=typeof lt&&null!==lt)throw new TypeError("Super expression must either be null or a function, not "+typeof lt);Et.prototype=Object.create(lt&&lt.prototype,{constructor:{value:Et,enumerable:!1,writable:!0,configurable:!0}}),lt&&(Object.setPrototypeOf?Object.setPrototypeOf(Et,lt):Et.__proto__=lt)}(lt,Et),Wt(lt,[{key:"value",value:function(_t){var xt=Ft(lt.prototype.__proto__||Object.getPrototypeOf(lt.prototype),"value",this).call(this,_t);return xt.startsWith("rgb(")?"#"+(xt=xt.replace(/^[^\d]+/,"").replace(/[^\d]+$/,"")).split(",").map(function(ot){return("00"+parseInt(ot).toString(16)).slice(-2)}).join(""):xt}}]),lt}(gt.default.Attributor.Style),ft=new gt.default.Attributor.Class("color","ql-color",{scope:gt.default.Scope.INLINE}),St=new dt("color","color",{scope:gt.default.Scope.INLINE});$t.ColorAttributor=dt,$t.ColorClass=ft,$t.ColorStyle=St},function(Le,$t,Tt){"use strict";function ee(de){return de&&de.__esModule?de:{default:de}}function Oe(de,Jt,Fe){return Jt in de?Object.defineProperty(de,Jt,{value:Fe,enumerable:!0,configurable:!0,writable:!0}):de[Jt]=Fe,de}function Nt(de,Jt){var Fe;return Oe(Fe={key:de,shiftKey:Jt,altKey:null},de===_e.keys.LEFT?"prefix":"suffix",/^$/),Oe(Fe,"handler",function(sn){var hn=sn.index;de===_e.keys.RIGHT&&(hn+=sn.length+1);var $e=this.quill.getLeaf(hn);return!(ot($e,1)[0]instanceof tn.default.Embed&&(de===_e.keys.LEFT?Jt?this.quill.setSelection(sn.index-1,sn.length+1,an.default.sources.USER):this.quill.setSelection(sn.index-1,an.default.sources.USER):Jt?this.quill.setSelection(sn.index,sn.length+1,an.default.sources.USER):this.quill.setSelection(sn.index+sn.length+1,an.default.sources.USER),1))}),Fe}function gt(de,Jt){if(!(0===de.index||this.quill.getLength()<=1)){var Fe=this.quill.getLine(de.index),sn=ot(Fe,1)[0],hn={};if(0===Jt.offset){var $e=this.quill.getLine(de.index-1),ui=ot($e,1)[0];if(null!=ui&&ui.length()>1){var hi=sn.formats(),ur=this.quill.getFormat(de.index-1,1);hn=Pe.default.attributes.diff(hi,ur)||{}}}var Zi=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(Jt.prefix)?2:1;this.quill.deleteText(de.index-Zi,Zi,an.default.sources.USER),Object.keys(hn).length>0&&this.quill.formatLine(de.index-Zi,Zi,hn,an.default.sources.USER),this.quill.focus()}}function dt(de,Jt){var Fe=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(Jt.suffix)?2:1;if(!(de.index>=this.quill.getLength()-Fe)){var Ke={},sn=0,hn=this.quill.getLine(de.index),ti=ot(hn,1)[0];if(Jt.offset>=ti.length()-1){var ui=this.quill.getLine(de.index+1),ur=ot(ui,1)[0];if(ur){var Zi=ti.formats(),dn=this.quill.getFormat(de.index,1);Ke=Pe.default.attributes.diff(Zi,dn)||{},sn=ur.length()}}this.quill.deleteText(de.index,Fe,an.default.sources.USER),Object.keys(Ke).length>0&&this.quill.formatLine(de.index+sn-1,Fe,Ke,an.default.sources.USER)}}function ft(de){var Jt=this.quill.getLines(de),Fe={};if(Jt.length>1){var Ke=Jt[0].formats(),sn=Jt[Jt.length-1].formats();Fe=Pe.default.attributes.diff(sn,Ke)||{}}this.quill.deleteText(de,an.default.sources.USER),Object.keys(Fe).length>0&&this.quill.formatLine(de.index,1,Fe,an.default.sources.USER),this.quill.setSelection(de.index,an.default.sources.SILENT),this.quill.focus()}function St(de,Jt){var Fe=this;de.length>0&&this.quill.scroll.deleteAt(de.index,de.length);var Ke=Object.keys(Jt.format).reduce(function(sn,hn){return tn.default.query(hn,tn.default.Scope.BLOCK)&&!Array.isArray(Jt.format[hn])&&(sn[hn]=Jt.format[hn]),sn},{});this.quill.insertText(de.index,"\n",Ke,an.default.sources.USER),this.quill.setSelection(de.index+1,an.default.sources.SILENT),this.quill.focus(),Object.keys(Jt.format).forEach(function(sn){null==Ke[sn]&&(Array.isArray(Jt.format[sn])||"link"!==sn&&Fe.quill.format(sn,Jt.format[sn],an.default.sources.USER))})}function Et(de){return{key:_e.keys.TAB,shiftKey:!de,format:{"code-block":!0},handler:function(Jt){var Fe=tn.default.query("code-block"),Ke=Jt.index,sn=Jt.length,hn=this.quill.scroll.descendant(Fe,Ke),$e=ot(hn,2),ti=$e[0],ui=$e[1];if(null!=ti){var hi=this.quill.getIndex(ti),ur=ti.newlineIndex(ui,!0)+1,Zi=ti.newlineIndex(hi+ui+sn),dn=ti.domNode.textContent.slice(ur,Zi).split("\n");ui=0,dn.forEach(function(fn,On){de?(ti.insertAt(ur+ui,Fe.TAB),ui+=Fe.TAB.length,0===On?Ke+=Fe.TAB.length:sn+=Fe.TAB.length):fn.startsWith(Fe.TAB)&&(ti.deleteAt(ur+ui,Fe.TAB.length),ui-=Fe.TAB.length,0===On?Ke-=Fe.TAB.length:sn-=Fe.TAB.length),ui+=fn.length+1}),this.quill.update(an.default.sources.USER),this.quill.setSelection(Ke,sn,an.default.sources.SILENT)}}}}function lt(de){return{key:de[0].toUpperCase(),shortKey:!0,handler:function(Jt,Fe){this.quill.format(de,!Fe.format[de],an.default.sources.USER)}}}function _t(de){if("string"==typeof de||"number"==typeof de)return _t({key:de});if("object"===(void 0===de?"undefined":xt(de))&&(de=(0,Ut.default)(de,!1)),"string"==typeof de.key)if(null!=_e.keys[de.key.toUpperCase()])de.key=_e.keys[de.key.toUpperCase()];else{if(1!==de.key.length)return null;de.key=de.key.toUpperCase().charCodeAt(0)}return de.shortKey&&(de[be]=de.shortKey,delete de.shortKey),de}Object.defineProperty($t,"__esModule",{value:!0}),$t.SHORTKEY=$t.default=void 0;var xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(de){return typeof de}:function(de){return de&&"function"==typeof Symbol&&de.constructor===Symbol&&de!==Symbol.prototype?"symbol":typeof de},ot=function(Jt,Fe){if(Array.isArray(Jt))return Jt;if(Symbol.iterator in Object(Jt))return function(Jt,Fe){var Ke=[],sn=!0,hn=!1,$e=void 0;try{for(var ti,ui=Jt[Symbol.iterator]();!(sn=(ti=ui.next()).done)&&(Ke.push(ti.value),!Fe||Ke.length!==Fe);sn=!0);}catch(hi){hn=!0,$e=hi}finally{try{!sn&&ui.return&&ui.return()}finally{if(hn)throw $e}}return Ke}(Jt,Fe);throw new TypeError("Invalid attempt to destructure non-iterable instance")},it=function(){function de(Jt,Fe){for(var Ke=0;Ke<Fe.length;Ke++){var sn=Fe[Ke];sn.enumerable=sn.enumerable||!1,sn.configurable=!0,"value"in sn&&(sn.writable=!0),Object.defineProperty(Jt,sn.key,sn)}}return function(Jt,Fe,Ke){return Fe&&de(Jt.prototype,Fe),Ke&&de(Jt,Ke),Jt}}(),Ut=ee(Tt(21)),ie=ee(Tt(12)),Xt=ee(Tt(2)),Dt=ee(Tt(4)),Pe=ee(Tt(20)),tn=ee(Tt(0)),an=ee(Tt(6)),zt=ee(Tt(10)),Ae=ee(Tt(7)),ze=(0,zt.default)("quill:keyboard"),be=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",_e=function(de){function Jt(Fe,Ke){!function(de,Jt){if(!(de instanceof Jt))throw new TypeError("Cannot call a class as a function")}(this,Jt);var sn=function(de,Jt){if(!de)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!Jt||"object"!=typeof Jt&&"function"!=typeof Jt?de:Jt}(this,(Jt.__proto__||Object.getPrototypeOf(Jt)).call(this,Fe,Ke));return sn.bindings={},Object.keys(sn.options.bindings).forEach(function(hn){("list autofill"!==hn||null==Fe.scroll.whitelist||Fe.scroll.whitelist.list)&&sn.options.bindings[hn]&&sn.addBinding(sn.options.bindings[hn])}),sn.addBinding({key:Jt.keys.ENTER,shiftKey:null},St),sn.addBinding({key:Jt.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(sn.addBinding({key:Jt.keys.BACKSPACE},{collapsed:!0},gt),sn.addBinding({key:Jt.keys.DELETE},{collapsed:!0},dt)):(sn.addBinding({key:Jt.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},gt),sn.addBinding({key:Jt.keys.DELETE},{collapsed:!0,suffix:/^.?$/},dt)),sn.addBinding({key:Jt.keys.BACKSPACE},{collapsed:!1},ft),sn.addBinding({key:Jt.keys.DELETE},{collapsed:!1},ft),sn.addBinding({key:Jt.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},gt),sn.listen(),sn}return function(de,Jt){if("function"!=typeof Jt&&null!==Jt)throw new TypeError("Super expression must either be null or a function, not "+typeof Jt);de.prototype=Object.create(Jt&&Jt.prototype,{constructor:{value:de,enumerable:!1,writable:!0,configurable:!0}}),Jt&&(Object.setPrototypeOf?Object.setPrototypeOf(de,Jt):de.__proto__=Jt)}(Jt,de),it(Jt,null,[{key:"match",value:function(Fe,Ke){return Ke=_t(Ke),!["altKey","ctrlKey","metaKey","shiftKey"].some(function(sn){return!!Ke[sn]!==Fe[sn]&&null!==Ke[sn]})&&Ke.key===(Fe.which||Fe.keyCode)}}]),it(Jt,[{key:"addBinding",value:function(Fe){var Ke=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},sn=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},hn=_t(Fe);if(null==hn||null==hn.key)return ze.warn("Attempted to add invalid keyboard binding",hn);"function"==typeof Ke&&(Ke={handler:Ke}),"function"==typeof sn&&(sn={handler:sn}),hn=(0,Xt.default)(hn,Ke,sn),this.bindings[hn.key]=this.bindings[hn.key]||[],this.bindings[hn.key].push(hn)}},{key:"listen",value:function(){var Fe=this;this.quill.root.addEventListener("keydown",function(Ke){if(!Ke.defaultPrevented){var hn=(Fe.bindings[Ke.which||Ke.keyCode]||[]).filter(function(nr){return Jt.match(Ke,nr)});if(0!==hn.length){var $e=Fe.quill.getSelection();if(null!=$e&&Fe.quill.hasFocus()){var ti=Fe.quill.getLine($e.index),ui=ot(ti,2),hi=ui[0],ur=ui[1],Zi=Fe.quill.getLeaf($e.index),dn=ot(Zi,2),fn=dn[0],On=dn[1],Tn=0===$e.length?[fn,On]:Fe.quill.getLeaf($e.index+$e.length),En=ot(Tn,2),Di=En[0],Oi=En[1],Ni=fn instanceof tn.default.Text?fn.value().slice(0,On):"",br=Di instanceof tn.default.Text?Di.value().slice(Oi):"",ji={collapsed:0===$e.length,empty:0===$e.length&&hi.length()<=1,format:Fe.quill.getFormat($e),offset:ur,prefix:Ni,suffix:br};hn.some(function(nr){if(null!=nr.collapsed&&nr.collapsed!==ji.collapsed||null!=nr.empty&&nr.empty!==ji.empty||null!=nr.offset&&nr.offset!==ji.offset)return!1;if(Array.isArray(nr.format)){if(nr.format.every(function(qr){return null==ji.format[qr]}))return!1}else if("object"===xt(nr.format)&&!Object.keys(nr.format).every(function(qr){return!0===nr.format[qr]?null!=ji.format[qr]:!1===nr.format[qr]?null==ji.format[qr]:(0,ie.default)(nr.format[qr],ji.format[qr])}))return!1;return!(null!=nr.prefix&&!nr.prefix.test(ji.prefix)||null!=nr.suffix&&!nr.suffix.test(ji.suffix)||!0===nr.handler.call(Fe,$e,ji))})&&Ke.preventDefault()}}}})}}]),Jt}(Ae.default);_e.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},_e.DEFAULTS={bindings:{bold:lt("bold"),italic:lt("italic"),underline:lt("underline"),indent:{key:_e.keys.TAB,format:["blockquote","indent","list"],handler:function(de,Jt){if(Jt.collapsed&&0!==Jt.offset)return!0;this.quill.format("indent","+1",an.default.sources.USER)}},outdent:{key:_e.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(de,Jt){if(Jt.collapsed&&0!==Jt.offset)return!0;this.quill.format("indent","-1",an.default.sources.USER)}},"outdent backspace":{key:_e.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(de,Jt){null!=Jt.format.indent?this.quill.format("indent","-1",an.default.sources.USER):null!=Jt.format.list&&this.quill.format("list",!1,an.default.sources.USER)}},"indent code-block":Et(!0),"outdent code-block":Et(!1),"remove tab":{key:_e.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(de){this.quill.deleteText(de.index-1,1,an.default.sources.USER)}},tab:{key:_e.keys.TAB,handler:function(de){this.quill.history.cutoff();var Jt=(new Dt.default).retain(de.index).delete(de.length).insert("\t");this.quill.updateContents(Jt,an.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(de.index+1,an.default.sources.SILENT)}},"list empty enter":{key:_e.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(de,Jt){this.quill.format("list",!1,an.default.sources.USER),Jt.format.indent&&this.quill.format("indent",!1,an.default.sources.USER)}},"checklist enter":{key:_e.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(de){var Jt=this.quill.getLine(de.index),Fe=ot(Jt,2),Ke=Fe[0],sn=Fe[1],hn=(0,Xt.default)({},Ke.formats(),{list:"checked"}),$e=(new Dt.default).retain(de.index).insert("\n",hn).retain(Ke.length()-sn-1).retain(1,{list:"unchecked"});this.quill.updateContents($e,an.default.sources.USER),this.quill.setSelection(de.index+1,an.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:_e.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(de,Jt){var Fe=this.quill.getLine(de.index),Ke=ot(Fe,2),sn=Ke[0],hn=Ke[1],$e=(new Dt.default).retain(de.index).insert("\n",Jt.format).retain(sn.length()-hn-1).retain(1,{header:null});this.quill.updateContents($e,an.default.sources.USER),this.quill.setSelection(de.index+1,an.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(de,Jt){var Fe=Jt.prefix.length,Ke=this.quill.getLine(de.index),sn=ot(Ke,2),hn=sn[0],$e=sn[1];if($e>Fe)return!0;var ti=void 0;switch(Jt.prefix.trim()){case"[]":case"[ ]":ti="unchecked";break;case"[x]":ti="checked";break;case"-":case"*":ti="bullet";break;default:ti="ordered"}this.quill.insertText(de.index," ",an.default.sources.USER),this.quill.history.cutoff();var ui=(new Dt.default).retain(de.index-$e).delete(Fe+1).retain(hn.length()-2-$e).retain(1,{list:ti});this.quill.updateContents(ui,an.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(de.index-Fe,an.default.sources.SILENT)}},"code exit":{key:_e.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(de){var Jt=this.quill.getLine(de.index),Fe=ot(Jt,2),Ke=Fe[0],sn=Fe[1],hn=(new Dt.default).retain(de.index+Ke.length()-sn-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(hn,an.default.sources.USER)}},"embed left":Nt(_e.keys.LEFT,!1),"embed left shift":Nt(_e.keys.LEFT,!0),"embed right":Nt(_e.keys.RIGHT,!1),"embed right shift":Nt(_e.keys.RIGHT,!0)}},$t.default=_e,$t.SHORTKEY=be},function(Le,$t,Tt){"use strict";Le.exports={align:{"":Tt(75),center:Tt(76),right:Tt(77),justify:Tt(78)},background:Tt(79),blockquote:Tt(80),bold:Tt(81),clean:Tt(82),code:Tt(40),"code-block":Tt(40),color:Tt(83),direction:{"":Tt(84),rtl:Tt(85)},float:{center:Tt(86),full:Tt(87),left:Tt(88),right:Tt(89)},formula:Tt(90),header:{1:Tt(91),2:Tt(92)},italic:Tt(93),image:Tt(94),indent:{"+1":Tt(95),"-1":Tt(96)},link:Tt(97),list:{ordered:Tt(98),bullet:Tt(99),check:Tt(100)},script:{sub:Tt(101),super:Tt(102)},strike:Tt(103),underline:Tt(104),video:Tt(105)}},function(Le,$t,Tt){"use strict";Object.defineProperty($t,"__esModule",{value:!0});var ee=Tt(1),Oe=function(){function ve(Wt){this.domNode=Wt,this.domNode[ee.DATA_KEY]={blot:this}}return Object.defineProperty(ve.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),ve.create=function(Wt){if(null==this.tagName)throw new ee.ParchmentError("Blot definition missing tagName");var Ft;return Array.isArray(this.tagName)?("string"==typeof Wt&&(Wt=Wt.toUpperCase(),parseInt(Wt).toString()===Wt&&(Wt=parseInt(Wt))),Ft="number"==typeof Wt?document.createElement(this.tagName[Wt-1]):this.tagName.indexOf(Wt)>-1?document.createElement(Wt):document.createElement(this.tagName[0])):Ft=document.createElement(this.tagName),this.className&&Ft.classList.add(this.className),Ft},ve.prototype.attach=function(){null!=this.parent&&(this.scroll=this.parent.scroll)},ve.prototype.clone=function(){var Wt=this.domNode.cloneNode(!1);return ee.create(Wt)},ve.prototype.detach=function(){null!=this.parent&&this.parent.removeChild(this),delete this.domNode[ee.DATA_KEY]},ve.prototype.deleteAt=function(Wt,Ft){this.isolate(Wt,Ft).remove()},ve.prototype.formatAt=function(Wt,Ft,Nt,gt){var dt=this.isolate(Wt,Ft);if(null!=ee.query(Nt,ee.Scope.BLOT)&&gt)dt.wrap(Nt,gt);else if(null!=ee.query(Nt,ee.Scope.ATTRIBUTE)){var ft=ee.create(this.statics.scope);dt.wrap(ft),ft.format(Nt,gt)}},ve.prototype.insertAt=function(Wt,Ft,Nt){var gt=null==Nt?ee.create("text",Ft):ee.create(Ft,Nt),dt=this.split(Wt);this.parent.insertBefore(gt,dt)},ve.prototype.insertInto=function(Wt,Ft){void 0===Ft&&(Ft=null),null!=this.parent&&this.parent.children.remove(this);var Nt=null;Wt.children.insertBefore(this,Ft),null!=Ft&&(Nt=Ft.domNode),this.domNode.parentNode==Wt.domNode&&this.domNode.nextSibling==Nt||Wt.domNode.insertBefore(this.domNode,Nt),this.parent=Wt,this.attach()},ve.prototype.isolate=function(Wt,Ft){var Nt=this.split(Wt);return Nt.split(Ft),Nt},ve.prototype.length=function(){return 1},ve.prototype.offset=function(Wt){return void 0===Wt&&(Wt=this.parent),null==this.parent||this==Wt?0:this.parent.children.offset(this)+this.parent.offset(Wt)},ve.prototype.optimize=function(Wt){null!=this.domNode[ee.DATA_KEY]&&delete this.domNode[ee.DATA_KEY].mutations},ve.prototype.remove=function(){null!=this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},ve.prototype.replace=function(Wt){null!=Wt.parent&&(Wt.parent.insertBefore(this,Wt.next),Wt.remove())},ve.prototype.replaceWith=function(Wt,Ft){var Nt="string"==typeof Wt?ee.create(Wt,Ft):Wt;return Nt.replace(this),Nt},ve.prototype.split=function(Wt,Ft){return 0===Wt?this:this.next},ve.prototype.update=function(Wt,Ft){},ve.prototype.wrap=function(Wt,Ft){var Nt="string"==typeof Wt?ee.create(Wt,Ft):Wt;return null!=this.parent&&this.parent.insertBefore(Nt,this.next),Nt.appendChild(this),Nt},ve.blotName="abstract",ve}();$t.default=Oe},function(Le,$t,Tt){"use strict";Object.defineProperty($t,"__esModule",{value:!0});var ee=Tt(11),Oe=Tt(29),ve=Tt(30),Wt=Tt(1),Ft=function(){function Nt(gt){this.attributes={},this.domNode=gt,this.build()}return Nt.prototype.attribute=function(gt,dt){dt?gt.add(this.domNode,dt)&&(null!=gt.value(this.domNode)?this.attributes[gt.attrName]=gt:delete this.attributes[gt.attrName]):(gt.remove(this.domNode),delete this.attributes[gt.attrName])},Nt.prototype.build=function(){var gt=this;this.attributes={};var dt=ee.default.keys(this.domNode),ft=Oe.default.keys(this.domNode),St=ve.default.keys(this.domNode);dt.concat(ft).concat(St).forEach(function(Et){var lt=Wt.query(Et,Wt.Scope.ATTRIBUTE);lt instanceof ee.default&&(gt.attributes[lt.attrName]=lt)})},Nt.prototype.copy=function(gt){var dt=this;Object.keys(this.attributes).forEach(function(ft){var St=dt.attributes[ft].value(dt.domNode);gt.format(ft,St)})},Nt.prototype.move=function(gt){var dt=this;this.copy(gt),Object.keys(this.attributes).forEach(function(ft){dt.attributes[ft].remove(dt.domNode)}),this.attributes={}},Nt.prototype.values=function(){var gt=this;return Object.keys(this.attributes).reduce(function(dt,ft){return dt[ft]=gt.attributes[ft].value(gt.domNode),dt},{})},Nt}();$t.default=Ft},function(Le,$t,Tt){"use strict";function ee(Ft,Nt){return(Ft.getAttribute("class")||"").split(/\s+/).filter(function(gt){return 0===gt.indexOf(Nt+"-")})}var Ft,Oe=this&&this.__extends||(Ft=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Nt,gt){Nt.__proto__=gt}||function(Nt,gt){for(var dt in gt)gt.hasOwnProperty(dt)&&(Nt[dt]=gt[dt])},function(Nt,gt){function dt(){this.constructor=Nt}Ft(Nt,gt),Nt.prototype=null===gt?Object.create(gt):(dt.prototype=gt.prototype,new dt)});Object.defineProperty($t,"__esModule",{value:!0});var Wt=function(Ft){function Nt(){return null!==Ft&&Ft.apply(this,arguments)||this}return Oe(Nt,Ft),Nt.keys=function(gt){return(gt.getAttribute("class")||"").split(/\s+/).map(function(dt){return dt.split("-").slice(0,-1).join("-")})},Nt.prototype.add=function(gt,dt){return!!this.canAdd(gt,dt)&&(this.remove(gt),gt.classList.add(this.keyName+"-"+dt),!0)},Nt.prototype.remove=function(gt){ee(gt,this.keyName).forEach(function(dt){gt.classList.remove(dt)}),0===gt.classList.length&&gt.removeAttribute("class")},Nt.prototype.value=function(gt){var ft=(ee(gt,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(gt,ft)?ft:""},Nt}(Tt(11).default);$t.default=Wt},function(Le,$t,Tt){"use strict";function ee(Ft){var Nt=Ft.split("-"),gt=Nt.slice(1).map(function(dt){return dt[0].toUpperCase()+dt.slice(1)}).join("");return Nt[0]+gt}var Ft,Oe=this&&this.__extends||(Ft=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Nt,gt){Nt.__proto__=gt}||function(Nt,gt){for(var dt in gt)gt.hasOwnProperty(dt)&&(Nt[dt]=gt[dt])},function(Nt,gt){function dt(){this.constructor=Nt}Ft(Nt,gt),Nt.prototype=null===gt?Object.create(gt):(dt.prototype=gt.prototype,new dt)});Object.defineProperty($t,"__esModule",{value:!0});var Wt=function(Ft){function Nt(){return null!==Ft&&Ft.apply(this,arguments)||this}return Oe(Nt,Ft),Nt.keys=function(gt){return(gt.getAttribute("style")||"").split(";").map(function(dt){return dt.split(":")[0].trim()})},Nt.prototype.add=function(gt,dt){return!!this.canAdd(gt,dt)&&(gt.style[ee(this.keyName)]=dt,!0)},Nt.prototype.remove=function(gt){gt.style[ee(this.keyName)]="",gt.getAttribute("style")||gt.removeAttribute("style")},Nt.prototype.value=function(gt){var dt=gt.style[ee(this.keyName)];return this.canAdd(gt,dt)?dt:""},Nt}(Tt(11).default);$t.default=Wt},function(Le,$t,Tt){"use strict";function ee(_t){return _t&&_t.__esModule?_t:{default:_t}}Object.defineProperty($t,"__esModule",{value:!0});var Nt=function _t(xt,ot,it){null===xt&&(xt=Function.prototype);var It=Object.getOwnPropertyDescriptor(xt,ot);if(void 0===It){var Ut=Object.getPrototypeOf(xt);return null===Ut?void 0:_t(Ut,ot,it)}if("value"in It)return It.value;var Yt=It.get;return void 0!==Yt?Yt.call(it):void 0},gt=function(){function _t(xt,ot){for(var it=0;it<ot.length;it++){var It=ot[it];It.enumerable=It.enumerable||!1,It.configurable=!0,"value"in It&&(It.writable=!0),Object.defineProperty(xt,It.key,It)}}return function(xt,ot,it){return ot&&_t(xt.prototype,ot),it&&_t(xt,it),xt}}(),ft=ee(Tt(0)),Et=ee(Tt(8)),lt=function(_t){function xt(ot,it){!function(_t,xt){if(!(_t instanceof xt))throw new TypeError("Cannot call a class as a function")}(this,xt);var It=function(_t,xt){if(!_t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!xt||"object"!=typeof xt&&"function"!=typeof xt?_t:xt}(this,(xt.__proto__||Object.getPrototypeOf(xt)).call(this,ot));return It.selection=it,It.textNode=document.createTextNode(xt.CONTENTS),It.domNode.appendChild(It.textNode),It._length=0,It}return function(_t,xt){if("function"!=typeof xt&&null!==xt)throw new TypeError("Super expression must either be null or a function, not "+typeof xt);_t.prototype=Object.create(xt&&xt.prototype,{constructor:{value:_t,enumerable:!1,writable:!0,configurable:!0}}),xt&&(Object.setPrototypeOf?Object.setPrototypeOf(_t,xt):_t.__proto__=xt)}(xt,_t),gt(xt,null,[{key:"value",value:function(){}}]),gt(xt,[{key:"detach",value:function(){null!=this.parent&&this.parent.removeChild(this)}},{key:"format",value:function(ot,it){if(0!==this._length)return Nt(xt.prototype.__proto__||Object.getPrototypeOf(xt.prototype),"format",this).call(this,ot,it);for(var It=this,Ut=0;null!=It&&It.statics.scope!==ft.default.Scope.BLOCK_BLOT;)Ut+=It.offset(It.parent),It=It.parent;null!=It&&(this._length=xt.CONTENTS.length,It.optimize(),It.formatAt(Ut,xt.CONTENTS.length,ot,it),this._length=0)}},{key:"index",value:function(ot,it){return ot===this.textNode?0:Nt(xt.prototype.__proto__||Object.getPrototypeOf(xt.prototype),"index",this).call(this,ot,it)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){Nt(xt.prototype.__proto__||Object.getPrototypeOf(xt.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!this.selection.composing&&null!=this.parent){var ot=this.textNode,it=this.selection.getNativeRange(),It=void 0,Ut=void 0,Yt=void 0;if(null!=it&&it.start.node===ot&&it.end.node===ot){var ie=[ot,it.start.offset,it.end.offset];It=ie[0],Ut=ie[1],Yt=ie[2]}for(;null!=this.domNode.lastChild&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==xt.CONTENTS){var Pt=this.textNode.data.split(xt.CONTENTS).join("");this.next instanceof Et.default?(It=this.next.domNode,this.next.insertAt(0,Pt),this.textNode.data=xt.CONTENTS):(this.textNode.data=Pt,this.parent.insertBefore(ft.default.create(this.textNode),this),this.textNode=document.createTextNode(xt.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),null!=Ut){var vt=function(xt,ot){if(Array.isArray(xt))return xt;if(Symbol.iterator in Object(xt))return function(xt,ot){var it=[],It=!0,Ut=!1,Yt=void 0;try{for(var ie,Pt=xt[Symbol.iterator]();!(It=(ie=Pt.next()).done)&&(it.push(ie.value),!ot||it.length!==ot);It=!0);}catch(Xt){Ut=!0,Yt=Xt}finally{try{!It&&Pt.return&&Pt.return()}finally{if(Ut)throw Yt}}return it}(xt,ot);throw new TypeError("Invalid attempt to destructure non-iterable instance")}([Ut,Yt].map(function(Dt){return Math.max(0,Math.min(It.data.length,Dt-1))}),2);return{startNode:It,startOffset:Ut=vt[0],endNode:It,endOffset:Yt=vt[1]}}}}},{key:"update",value:function(ot,it){var It=this;if(ot.some(function(Yt){return"characterData"===Yt.type&&Yt.target===It.textNode})){var Ut=this.restore();Ut&&(it.range=Ut)}}},{key:"value",value:function(){return""}}]),xt}(ft.default.Embed);lt.blotName="cursor",lt.className="ql-cursor",lt.tagName="span",lt.CONTENTS="\ufeff",$t.default=lt},function(Le,$t,Tt){"use strict";Object.defineProperty($t,"__esModule",{value:!0});var Oe=function(){function Wt(Ft,Nt){for(var gt=0;gt<Nt.length;gt++){var dt=Nt[gt];dt.enumerable=dt.enumerable||!1,dt.configurable=!0,"value"in dt&&(dt.writable=!0),Object.defineProperty(Ft,dt.key,dt)}}return function(Ft,Nt,gt){return Nt&&Wt(Ft.prototype,Nt),gt&&Wt(Ft,gt),Ft}}(),ve=function(){function Wt(Ft,Nt){(function(Wt,Ft){if(!(Wt instanceof Ft))throw new TypeError("Cannot call a class as a function")})(this,Wt),this.quill=Ft,this.options=Nt,this.modules={}}return Oe(Wt,[{key:"init",value:function(){var Ft=this;Object.keys(this.options.modules).forEach(function(Nt){null==Ft.modules[Nt]&&Ft.addModule(Nt)})}},{key:"addModule",value:function(Ft){var Nt=this.quill.constructor.import("modules/"+Ft);return this.modules[Ft]=new Nt(this.quill,this.options.modules[Ft]||{}),this.modules[Ft]}}]),Wt}();ve.DEFAULTS={modules:{}},ve.themes={default:ve},$t.default=ve},function(Le,$t,Tt){"use strict";function ee(_t){return _t&&_t.__esModule?_t:{default:_t}}Object.defineProperty($t,"__esModule",{value:!0});var Ft=function(){function _t(xt,ot){for(var it=0;it<ot.length;it++){var It=ot[it];It.enumerable=It.enumerable||!1,It.configurable=!0,"value"in It&&(It.writable=!0),Object.defineProperty(xt,It.key,It)}}return function(xt,ot,it){return ot&&_t(xt.prototype,ot),it&&_t(xt,it),xt}}(),Nt=function _t(xt,ot,it){null===xt&&(xt=Function.prototype);var It=Object.getOwnPropertyDescriptor(xt,ot);if(void 0===It){var Ut=Object.getPrototypeOf(xt);return null===Ut?void 0:_t(Ut,ot,it)}if("value"in It)return It.value;var Yt=It.get;return void 0!==Yt?Yt.call(it):void 0},dt=ee(Tt(0)),St=ee(Tt(8)),lt=function(_t){function xt(ot){!function(_t,xt){if(!(_t instanceof xt))throw new TypeError("Cannot call a class as a function")}(this,xt);var it=function(_t,xt){if(!_t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!xt||"object"!=typeof xt&&"function"!=typeof xt?_t:xt}(this,(xt.__proto__||Object.getPrototypeOf(xt)).call(this,ot));return it.contentNode=document.createElement("span"),it.contentNode.setAttribute("contenteditable",!1),[].slice.call(it.domNode.childNodes).forEach(function(It){it.contentNode.appendChild(It)}),it.leftGuard=document.createTextNode("\ufeff"),it.rightGuard=document.createTextNode("\ufeff"),it.domNode.appendChild(it.leftGuard),it.domNode.appendChild(it.contentNode),it.domNode.appendChild(it.rightGuard),it}return function(_t,xt){if("function"!=typeof xt&&null!==xt)throw new TypeError("Super expression must either be null or a function, not "+typeof xt);_t.prototype=Object.create(xt&&xt.prototype,{constructor:{value:_t,enumerable:!1,writable:!0,configurable:!0}}),xt&&(Object.setPrototypeOf?Object.setPrototypeOf(_t,xt):_t.__proto__=xt)}(xt,_t),Ft(xt,[{key:"index",value:function(ot,it){return ot===this.leftGuard?0:ot===this.rightGuard?1:Nt(xt.prototype.__proto__||Object.getPrototypeOf(xt.prototype),"index",this).call(this,ot,it)}},{key:"restore",value:function(ot){var it=void 0,It=void 0,Ut=ot.data.split("\ufeff").join("");if(ot===this.leftGuard)if(this.prev instanceof St.default){var Yt=this.prev.length();this.prev.insertAt(Yt,Ut),it={startNode:this.prev.domNode,startOffset:Yt+Ut.length}}else It=document.createTextNode(Ut),this.parent.insertBefore(dt.default.create(It),this),it={startNode:It,startOffset:Ut.length};else ot===this.rightGuard&&(this.next instanceof St.default?(this.next.insertAt(0,Ut),it={startNode:this.next.domNode,startOffset:Ut.length}):(It=document.createTextNode(Ut),this.parent.insertBefore(dt.default.create(It),this.next),it={startNode:It,startOffset:Ut.length}));return ot.data="\ufeff",it}},{key:"update",value:function(ot,it){var It=this;ot.forEach(function(Ut){if("characterData"===Ut.type&&(Ut.target===It.leftGuard||Ut.target===It.rightGuard)){var Yt=It.restore(Ut.target);Yt&&(it.range=Yt)}})}}]),xt}(dt.default.Embed);$t.default=lt},function(Le,$t,Tt){"use strict";Object.defineProperty($t,"__esModule",{value:!0}),$t.AlignStyle=$t.AlignClass=$t.AlignAttribute=void 0;var gt,Oe=(gt=Tt(0))&&gt.__esModule?gt:{default:gt},ve={scope:Oe.default.Scope.BLOCK,whitelist:["right","center","justify"]},Wt=new Oe.default.Attributor.Attribute("align","align",ve),Ft=new Oe.default.Attributor.Class("align","ql-align",ve),Nt=new Oe.default.Attributor.Style("align","text-align",ve);$t.AlignAttribute=Wt,$t.AlignClass=Ft,$t.AlignStyle=Nt},function(Le,$t,Tt){"use strict";Object.defineProperty($t,"__esModule",{value:!0}),$t.BackgroundStyle=$t.BackgroundClass=void 0;var Nt,Oe=(Nt=Tt(0))&&Nt.__esModule?Nt:{default:Nt},ve=Tt(24),Wt=new Oe.default.Attributor.Class("background","ql-bg",{scope:Oe.default.Scope.INLINE}),Ft=new ve.ColorAttributor("background","background-color",{scope:Oe.default.Scope.INLINE});$t.BackgroundClass=Wt,$t.BackgroundStyle=Ft},function(Le,$t,Tt){"use strict";Object.defineProperty($t,"__esModule",{value:!0}),$t.DirectionStyle=$t.DirectionClass=$t.DirectionAttribute=void 0;var gt,Oe=(gt=Tt(0))&&gt.__esModule?gt:{default:gt},ve={scope:Oe.default.Scope.BLOCK,whitelist:["rtl"]},Wt=new Oe.default.Attributor.Attribute("direction","dir",ve),Ft=new Oe.default.Attributor.Class("direction","ql-direction",ve),Nt=new Oe.default.Attributor.Style("direction","direction",ve);$t.DirectionAttribute=Wt,$t.DirectionClass=Ft,$t.DirectionStyle=Nt},function(Le,$t,Tt){"use strict";function ee(lt,_t){if(!(lt instanceof _t))throw new TypeError("Cannot call a class as a function")}function Oe(lt,_t){if(!lt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!_t||"object"!=typeof _t&&"function"!=typeof _t?lt:_t}Object.defineProperty($t,"__esModule",{value:!0}),$t.FontClass=$t.FontStyle=void 0;var lt,Wt=function(){function lt(_t,xt){for(var ot=0;ot<xt.length;ot++){var it=xt[ot];it.enumerable=it.enumerable||!1,it.configurable=!0,"value"in it&&(it.writable=!0),Object.defineProperty(_t,it.key,it)}}return function(_t,xt,ot){return xt&&lt(_t.prototype,xt),ot&&lt(_t,ot),_t}}(),Ft=function lt(_t,xt,ot){null===_t&&(_t=Function.prototype);var it=Object.getOwnPropertyDescriptor(_t,xt);if(void 0===it){var It=Object.getPrototypeOf(_t);return null===It?void 0:lt(It,xt,ot)}if("value"in it)return it.value;var Ut=it.get;return void 0!==Ut?Ut.call(ot):void 0},gt=(lt=Tt(0))&&lt.__esModule?lt:{default:lt},dt={scope:gt.default.Scope.INLINE,whitelist:["serif","monospace"]},ft=new gt.default.Attributor.Class("font","ql-font",dt),St=function(lt){function _t(){return ee(this,_t),Oe(this,(_t.__proto__||Object.getPrototypeOf(_t)).apply(this,arguments))}return function(lt,_t){if("function"!=typeof _t&&null!==_t)throw new TypeError("Super expression must either be null or a function, not "+typeof _t);lt.prototype=Object.create(_t&&_t.prototype,{constructor:{value:lt,enumerable:!1,writable:!0,configurable:!0}}),_t&&(Object.setPrototypeOf?Object.setPrototypeOf(lt,_t):lt.__proto__=_t)}(_t,lt),Wt(_t,[{key:"value",value:function(xt){return Ft(_t.prototype.__proto__||Object.getPrototypeOf(_t.prototype),"value",this).call(this,xt).replace(/["']/g,"")}}]),_t}(gt.default.Attributor.Style),Et=new St("font","font-family",dt);$t.FontStyle=Et,$t.FontClass=ft},function(Le,$t,Tt){"use strict";Object.defineProperty($t,"__esModule",{value:!0}),$t.SizeStyle=$t.SizeClass=void 0;var Ft,Oe=(Ft=Tt(0))&&Ft.__esModule?Ft:{default:Ft},ve=new Oe.default.Attributor.Class("size","ql-size",{scope:Oe.default.Scope.INLINE,whitelist:["small","large","huge"]}),Wt=new Oe.default.Attributor.Style("size","font-size",{scope:Oe.default.Scope.INLINE,whitelist:["10px","18px","32px"]});$t.SizeClass=ve,$t.SizeStyle=Wt},function(Le,$t,Tt){"use strict";function ee(ft,St){if(!(ft instanceof St))throw new TypeError("Cannot call a class as a function")}function Oe(ft,St){if(!ft)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!St||"object"!=typeof St&&"function"!=typeof St?ft:St}Object.defineProperty($t,"__esModule",{value:!0});var ft,Wt=function(){function ft(St,Et){for(var lt=0;lt<Et.length;lt++){var _t=Et[lt];_t.enumerable=_t.enumerable||!1,_t.configurable=!0,"value"in _t&&(_t.writable=!0),Object.defineProperty(St,_t.key,_t)}}return function(St,Et,lt){return Et&&ft(St.prototype,Et),lt&&ft(St,lt),St}}(),Ft=function ft(St,Et,lt){null===St&&(St=Function.prototype);var _t=Object.getOwnPropertyDescriptor(St,Et);if(void 0===_t){var xt=Object.getPrototypeOf(St);return null===xt?void 0:ft(xt,Et,lt)}if("value"in _t)return _t.value;var ot=_t.get;return void 0!==ot?ot.call(lt):void 0},dt=function(ft){function St(){return ee(this,St),Oe(this,(St.__proto__||Object.getPrototypeOf(St)).apply(this,arguments))}return function(ft,St){if("function"!=typeof St&&null!==St)throw new TypeError("Super expression must either be null or a function, not "+typeof St);ft.prototype=Object.create(St&&St.prototype,{constructor:{value:ft,enumerable:!1,writable:!0,configurable:!0}}),St&&(Object.setPrototypeOf?Object.setPrototypeOf(ft,St):ft.__proto__=St)}(St,ft),Wt(St,[{key:"optimize",value:function(Et){Ft(St.prototype.__proto__||Object.getPrototypeOf(St.prototype),"optimize",this).call(this,Et),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return Ft(St.__proto__||Object.getPrototypeOf(St),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),St}(((ft=Tt(5))&&ft.__esModule?ft:{default:ft}).default);dt.blotName="bold",dt.tagName=["STRONG","B"],$t.default=dt},function(Le,$t){Le.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(Le,$t,Tt){"use strict";Object.defineProperty($t,"__esModule",{value:!0});var ft,Wt=function(){function ft(St,Et){for(var lt=0;lt<Et.length;lt++){var _t=Et[lt];_t.enumerable=_t.enumerable||!1,_t.configurable=!0,"value"in _t&&(_t.writable=!0),Object.defineProperty(St,_t.key,_t)}}return function(St,Et,lt){return Et&&ft(St.prototype,Et),lt&&ft(St,lt),St}}(),Ft=function ft(St,Et,lt){null===St&&(St=Function.prototype);var _t=Object.getOwnPropertyDescriptor(St,Et);if(void 0===_t){var xt=Object.getPrototypeOf(St);return null===xt?void 0:ft(xt,Et,lt)}if("value"in _t)return _t.value;var ot=_t.get;return void 0!==ot?ot.call(lt):void 0},dt=function(ft){function St(Et,lt){!function(ft,St){if(!(ft instanceof St))throw new TypeError("Cannot call a class as a function")}(this,St);var _t=function(ft,St){if(!ft)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!St||"object"!=typeof St&&"function"!=typeof St?ft:St}(this,(St.__proto__||Object.getPrototypeOf(St)).call(this,Et));return _t.label.innerHTML=lt,_t.container.classList.add("ql-color-picker"),[].slice.call(_t.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(xt){xt.classList.add("ql-primary")}),_t}return function(ft,St){if("function"!=typeof St&&null!==St)throw new TypeError("Super expression must either be null or a function, not "+typeof St);ft.prototype=Object.create(St&&St.prototype,{constructor:{value:ft,enumerable:!1,writable:!0,configurable:!0}}),St&&(Object.setPrototypeOf?Object.setPrototypeOf(ft,St):ft.__proto__=St)}(St,ft),Wt(St,[{key:"buildItem",value:function(Et){var lt=Ft(St.prototype.__proto__||Object.getPrototypeOf(St.prototype),"buildItem",this).call(this,Et);return lt.style.backgroundColor=Et.getAttribute("value")||"",lt}},{key:"selectItem",value:function(Et,lt){Ft(St.prototype.__proto__||Object.getPrototypeOf(St.prototype),"selectItem",this).call(this,Et,lt);var _t=this.label.querySelector(".ql-color-label"),xt=Et&&Et.getAttribute("data-value")||"";_t&&("line"===_t.tagName?_t.style.stroke=xt:_t.style.fill=xt)}}]),St}(((ft=Tt(16))&&ft.__esModule?ft:{default:ft}).default);$t.default=dt},function(Le,$t,Tt){"use strict";Object.defineProperty($t,"__esModule",{value:!0});var ft,Wt=function(){function ft(St,Et){for(var lt=0;lt<Et.length;lt++){var _t=Et[lt];_t.enumerable=_t.enumerable||!1,_t.configurable=!0,"value"in _t&&(_t.writable=!0),Object.defineProperty(St,_t.key,_t)}}return function(St,Et,lt){return Et&&ft(St.prototype,Et),lt&&ft(St,lt),St}}(),Ft=function ft(St,Et,lt){null===St&&(St=Function.prototype);var _t=Object.getOwnPropertyDescriptor(St,Et);if(void 0===_t){var xt=Object.getPrototypeOf(St);return null===xt?void 0:ft(xt,Et,lt)}if("value"in _t)return _t.value;var ot=_t.get;return void 0!==ot?ot.call(lt):void 0},dt=function(ft){function St(Et,lt){!function(ft,St){if(!(ft instanceof St))throw new TypeError("Cannot call a class as a function")}(this,St);var _t=function(ft,St){if(!ft)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!St||"object"!=typeof St&&"function"!=typeof St?ft:St}(this,(St.__proto__||Object.getPrototypeOf(St)).call(this,Et));return _t.container.classList.add("ql-icon-picker"),[].forEach.call(_t.container.querySelectorAll(".ql-picker-item"),function(xt){xt.innerHTML=lt[xt.getAttribute("data-value")||""]}),_t.defaultItem=_t.container.querySelector(".ql-selected"),_t.selectItem(_t.defaultItem),_t}return function(ft,St){if("function"!=typeof St&&null!==St)throw new TypeError("Super expression must either be null or a function, not "+typeof St);ft.prototype=Object.create(St&&St.prototype,{constructor:{value:ft,enumerable:!1,writable:!0,configurable:!0}}),St&&(Object.setPrototypeOf?Object.setPrototypeOf(ft,St):ft.__proto__=St)}(St,ft),Wt(St,[{key:"selectItem",value:function(Et,lt){Ft(St.prototype.__proto__||Object.getPrototypeOf(St.prototype),"selectItem",this).call(this,Et,lt),this.label.innerHTML=(Et=Et||this.defaultItem).innerHTML}}]),St}(((ft=Tt(16))&&ft.__esModule?ft:{default:ft}).default);$t.default=dt},function(Le,$t,Tt){"use strict";Object.defineProperty($t,"__esModule",{value:!0});var Oe=function(){function Wt(Ft,Nt){for(var gt=0;gt<Nt.length;gt++){var dt=Nt[gt];dt.enumerable=dt.enumerable||!1,dt.configurable=!0,"value"in dt&&(dt.writable=!0),Object.defineProperty(Ft,dt.key,dt)}}return function(Ft,Nt,gt){return Nt&&Wt(Ft.prototype,Nt),gt&&Wt(Ft,gt),Ft}}(),ve=function(){function Wt(Ft,Nt){var gt=this;(function(Wt,Ft){if(!(Wt instanceof Ft))throw new TypeError("Cannot call a class as a function")})(this,Wt),this.quill=Ft,this.boundsContainer=Nt||document.body,this.root=Ft.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){gt.root.style.marginTop=-1*gt.quill.root.scrollTop+"px"}),this.hide()}return Oe(Wt,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(Ft){var Nt=Ft.left+Ft.width/2-this.root.offsetWidth/2,gt=Ft.bottom+this.quill.root.scrollTop;this.root.style.left=Nt+"px",this.root.style.top=gt+"px",this.root.classList.remove("ql-flip");var dt=this.boundsContainer.getBoundingClientRect(),ft=this.root.getBoundingClientRect(),St=0;return ft.right>dt.right&&(this.root.style.left=Nt+(St=dt.right-ft.right)+"px"),ft.left<dt.left&&(this.root.style.left=Nt+(St=dt.left-ft.left)+"px"),ft.bottom>dt.bottom&&(this.root.style.top=gt-(Ft.bottom-Ft.top+(ft.bottom-ft.top))+"px",this.root.classList.add("ql-flip")),St}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),Wt}();$t.default=ve},function(Le,$t,Tt){"use strict";function ee(Ae){return Ae&&Ae.__esModule?Ae:{default:Ae}}function Oe(Ae,ze){if(!(Ae instanceof ze))throw new TypeError("Cannot call a class as a function")}function ve(Ae,ze){if(!Ae)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!ze||"object"!=typeof ze&&"function"!=typeof ze?Ae:ze}function Wt(Ae,ze){if("function"!=typeof ze&&null!==ze)throw new TypeError("Super expression must either be null or a function, not "+typeof ze);Ae.prototype=Object.create(ze&&ze.prototype,{constructor:{value:Ae,enumerable:!1,writable:!0,configurable:!0}}),ze&&(Object.setPrototypeOf?Object.setPrototypeOf(Ae,ze):Ae.__proto__=ze)}function Nt(Ae,ze){var be=arguments.length>2&&void 0!==arguments[2]&&arguments[2];ze.forEach(function(_e){var de=document.createElement("option");_e===be?de.setAttribute("selected","selected"):de.setAttribute("value",_e),Ae.appendChild(de)})}Object.defineProperty($t,"__esModule",{value:!0}),$t.default=$t.BaseTooltip=void 0;var gt=function(){function Ae(ze,be){for(var _e=0;_e<be.length;_e++){var de=be[_e];de.enumerable=de.enumerable||!1,de.configurable=!0,"value"in de&&(de.writable=!0),Object.defineProperty(ze,de.key,de)}}return function(ze,be,_e){return be&&Ae(ze.prototype,be),_e&&Ae(ze,_e),ze}}(),dt=function Ae(ze,be,_e){null===ze&&(ze=Function.prototype);var de=Object.getOwnPropertyDescriptor(ze,be);if(void 0===de){var Jt=Object.getPrototypeOf(ze);return null===Jt?void 0:Ae(Jt,be,_e)}if("value"in de)return de.value;var Fe=de.get;return void 0!==Fe?Fe.call(_e):void 0},St=ee(Tt(2)),lt=ee(Tt(4)),xt=ee(Tt(9)),it=ee(Tt(25)),Ut=ee(Tt(32)),ie=ee(Tt(41)),Xt=ee(Tt(42)),Dt=ee(Tt(16)),Pe=ee(Tt(43)),Ne=[!1,"center","right","justify"],tn=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],on=[!1,"serif","monospace"],an=["1","2","3",!1],mt=["small",!1,"large","huge"],zt=function(Ae){function ze(be,_e){Oe(this,ze);var de=ve(this,(ze.__proto__||Object.getPrototypeOf(ze)).call(this,be,_e));return be.emitter.listenDOM("click",document.body,function Fe(Ke){if(!document.body.contains(be.root))return document.body.removeEventListener("click",Fe);null==de.tooltip||de.tooltip.root.contains(Ke.target)||document.activeElement===de.tooltip.textbox||de.quill.hasFocus()||de.tooltip.hide(),null!=de.pickers&&de.pickers.forEach(function(sn){sn.container.contains(Ke.target)||sn.close()})}),de}return Wt(ze,Ae),gt(ze,[{key:"addModule",value:function(be){var _e=dt(ze.prototype.__proto__||Object.getPrototypeOf(ze.prototype),"addModule",this).call(this,be);return"toolbar"===be&&this.extendToolbar(_e),_e}},{key:"buildButtons",value:function(be,_e){be.forEach(function(de){(de.getAttribute("class")||"").split(/\s+/).forEach(function(Jt){if(Jt.startsWith("ql-")&&(Jt=Jt.slice("ql-".length),null!=_e[Jt]))if("direction"===Jt)de.innerHTML=_e[Jt][""]+_e[Jt].rtl;else if("string"==typeof _e[Jt])de.innerHTML=_e[Jt];else{var Fe=de.value||"";null!=Fe&&_e[Jt][Fe]&&(de.innerHTML=_e[Jt][Fe])}})})}},{key:"buildPickers",value:function(be,_e){var de=this;this.pickers=be.map(function(Fe){if(Fe.classList.contains("ql-align"))return null==Fe.querySelector("option")&&Nt(Fe,Ne),new Xt.default(Fe,_e.align);if(Fe.classList.contains("ql-background")||Fe.classList.contains("ql-color")){var Ke=Fe.classList.contains("ql-background")?"background":"color";return null==Fe.querySelector("option")&&Nt(Fe,tn,"background"===Ke?"#ffffff":"#000000"),new ie.default(Fe,_e[Ke])}return null==Fe.querySelector("option")&&(Fe.classList.contains("ql-font")?Nt(Fe,on):Fe.classList.contains("ql-header")?Nt(Fe,an):Fe.classList.contains("ql-size")&&Nt(Fe,mt)),new Dt.default(Fe)}),this.quill.on(xt.default.events.EDITOR_CHANGE,function(){de.pickers.forEach(function(Fe){Fe.update()})})}}]),ze}(Ut.default);zt.DEFAULTS=(0,St.default)(!0,{},Ut.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var Ae=this,ze=this.container.querySelector("input.ql-image[type=file]");null==ze&&((ze=document.createElement("input")).setAttribute("type","file"),ze.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),ze.classList.add("ql-image"),ze.addEventListener("change",function(){if(null!=ze.files&&null!=ze.files[0]){var be=new FileReader;be.onload=function(_e){var de=Ae.quill.getSelection(!0);Ae.quill.updateContents((new lt.default).retain(de.index).delete(de.length).insert({image:_e.target.result}),xt.default.sources.USER),Ae.quill.setSelection(de.index+1,xt.default.sources.SILENT),ze.value=""},be.readAsDataURL(ze.files[0])}}),this.container.appendChild(ze)),ze.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var oe=function(Ae){function ze(be,_e){Oe(this,ze);var de=ve(this,(ze.__proto__||Object.getPrototypeOf(ze)).call(this,be,_e));return de.textbox=de.root.querySelector('input[type="text"]'),de.listen(),de}return Wt(ze,Ae),gt(ze,[{key:"listen",value:function(){var be=this;this.textbox.addEventListener("keydown",function(_e){it.default.match(_e,"enter")?(be.save(),_e.preventDefault()):it.default.match(_e,"escape")&&(be.cancel(),_e.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var be=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"link",_e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),null!=_e?this.textbox.value=_e:be!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+be)||""),this.root.setAttribute("data-mode",be)}},{key:"restoreFocus",value:function(){var be=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=be}},{key:"save",value:function(){var be=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":var _e=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",be,xt.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",be,xt.default.sources.USER)),this.quill.root.scrollTop=_e;break;case"video":be=function(Ae){var ze=Ae.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||Ae.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return ze?(ze[1]||"https")+"://www.youtube.com/embed/"+ze[2]+"?showinfo=0":(ze=Ae.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(ze[1]||"https")+"://player.vimeo.com/video/"+ze[2]+"/":Ae}(be);case"formula":if(!be)break;var de=this.quill.getSelection(!0);if(null!=de){var Jt=de.index+de.length;this.quill.insertEmbed(Jt,this.root.getAttribute("data-mode"),be,xt.default.sources.USER),"formula"===this.root.getAttribute("data-mode")&&this.quill.insertText(Jt+1," ",xt.default.sources.USER),this.quill.setSelection(Jt+2,xt.default.sources.USER)}}this.textbox.value="",this.hide()}}]),ze}(Pe.default);$t.BaseTooltip=oe,$t.default=zt},function(Le,$t,Tt){"use strict";function ee(Di){return Di&&Di.__esModule?Di:{default:Di}}Object.defineProperty($t,"__esModule",{value:!0});var ve=ee(Tt(46)),Wt=Tt(34),Ft=Tt(36),Nt=Tt(62),dt=ee(Tt(63)),St=ee(Tt(64)),Et=Tt(65),lt=ee(Et),_t=Tt(35),xt=Tt(24),ot=Tt(37),it=Tt(38),Ut=ee(Tt(39)),ie=ee(Tt(66)),Xt=ee(Tt(15)),Dt=ee(Tt(67)),Pe=ee(Tt(68)),tn=ee(Tt(69)),an=ee(Tt(70)),zt=ee(Tt(71)),oe=Tt(13),Ae=ee(oe),be=ee(Tt(72)),de=ee(Tt(73)),Fe=ee(Tt(74)),sn=ee(Tt(26)),$e=ee(Tt(16)),ui=ee(Tt(41)),ur=ee(Tt(42)),dn=ee(Tt(43)),On=ee(Tt(107)),En=ee(Tt(108));ve.default.register({"attributors/attribute/direction":Ft.DirectionAttribute,"attributors/class/align":Wt.AlignClass,"attributors/class/background":_t.BackgroundClass,"attributors/class/color":xt.ColorClass,"attributors/class/direction":Ft.DirectionClass,"attributors/class/font":ot.FontClass,"attributors/class/size":it.SizeClass,"attributors/style/align":Wt.AlignStyle,"attributors/style/background":_t.BackgroundStyle,"attributors/style/color":xt.ColorStyle,"attributors/style/direction":Ft.DirectionStyle,"attributors/style/font":ot.FontStyle,"attributors/style/size":it.SizeStyle},!0),ve.default.register({"formats/align":Wt.AlignClass,"formats/direction":Ft.DirectionClass,"formats/indent":Nt.IndentClass,"formats/background":_t.BackgroundStyle,"formats/color":xt.ColorStyle,"formats/font":ot.FontClass,"formats/size":it.SizeClass,"formats/blockquote":dt.default,"formats/code-block":Ae.default,"formats/header":St.default,"formats/list":lt.default,"formats/bold":Ut.default,"formats/code":oe.Code,"formats/italic":ie.default,"formats/link":Xt.default,"formats/script":Dt.default,"formats/strike":Pe.default,"formats/underline":tn.default,"formats/image":an.default,"formats/video":zt.default,"formats/list/item":Et.ListItem,"modules/formula":be.default,"modules/syntax":de.default,"modules/toolbar":Fe.default,"themes/bubble":On.default,"themes/snow":En.default,"ui/icons":sn.default,"ui/picker":$e.default,"ui/icon-picker":ur.default,"ui/color-picker":ui.default,"ui/tooltip":dn.default},!0),$t.default=ve.default},function(Le,$t,Tt){"use strict";function ee(tn){return tn&&tn.__esModule?tn:{default:tn}}Object.defineProperty($t,"__esModule",{value:!0});var ve=ee(Tt(0)),Ft=ee(Tt(6)),Nt=Tt(3),gt=ee(Nt),ft=ee(Tt(14)),Et=ee(Tt(23)),_t=ee(Tt(31)),ot=ee(Tt(33)),It=ee(Tt(5)),Yt=ee(Tt(59)),Pt=ee(Tt(8)),vt=ee(Tt(60)),se=ee(Tt(61)),Ne=ee(Tt(25));Ft.default.register({"blots/block":gt.default,"blots/block/embed":Nt.BlockEmbed,"blots/break":ft.default,"blots/container":Et.default,"blots/cursor":_t.default,"blots/embed":ot.default,"blots/inline":It.default,"blots/scroll":Yt.default,"blots/text":Pt.default,"modules/clipboard":vt.default,"modules/history":se.default,"modules/keyboard":Ne.default}),ve.default.register(gt.default,ft.default,_t.default,It.default,Yt.default,Pt.default),$t.default=Ft.default},function(Le,$t,Tt){"use strict";Object.defineProperty($t,"__esModule",{value:!0});var ee=function(){function Oe(){this.head=this.tail=null,this.length=0}return Oe.prototype.append=function(){for(var ve=[],Wt=0;Wt<arguments.length;Wt++)ve[Wt]=arguments[Wt];this.insertBefore(ve[0],null),ve.length>1&&this.append.apply(this,ve.slice(1))},Oe.prototype.contains=function(ve){for(var Wt,Ft=this.iterator();Wt=Ft();)if(Wt===ve)return!0;return!1},Oe.prototype.insertBefore=function(ve,Wt){ve&&(ve.next=Wt,null!=Wt?(ve.prev=Wt.prev,null!=Wt.prev&&(Wt.prev.next=ve),Wt.prev=ve,Wt===this.head&&(this.head=ve)):null!=this.tail?(this.tail.next=ve,ve.prev=this.tail,this.tail=ve):(ve.prev=null,this.head=this.tail=ve),this.length+=1)},Oe.prototype.offset=function(ve){for(var Wt=0,Ft=this.head;null!=Ft;){if(Ft===ve)return Wt;Wt+=Ft.length(),Ft=Ft.next}return-1},Oe.prototype.remove=function(ve){this.contains(ve)&&(null!=ve.prev&&(ve.prev.next=ve.next),null!=ve.next&&(ve.next.prev=ve.prev),ve===this.head&&(this.head=ve.next),ve===this.tail&&(this.tail=ve.prev),this.length-=1)},Oe.prototype.iterator=function(ve){return void 0===ve&&(ve=this.head),function(){var Wt=ve;return null!=ve&&(ve=ve.next),Wt}},Oe.prototype.find=function(ve,Wt){void 0===Wt&&(Wt=!1);for(var Ft,Nt=this.iterator();Ft=Nt();){var gt=Ft.length();if(ve<gt||Wt&&ve===gt&&(null==Ft.next||0!==Ft.next.length()))return[Ft,ve];ve-=gt}return[null,0]},Oe.prototype.forEach=function(ve){for(var Wt,Ft=this.iterator();Wt=Ft();)ve(Wt)},Oe.prototype.forEachAt=function(ve,Wt,Ft){if(!(Wt<=0))for(var Nt,gt=this.find(ve),St=ve-gt[1],Et=this.iterator(gt[0]);(Nt=Et())&&St<ve+Wt;){var lt=Nt.length();ve>St?Ft(Nt,ve-St,Math.min(Wt,St+lt-ve)):Ft(Nt,0,Math.min(lt,ve+Wt-St)),St+=lt}},Oe.prototype.map=function(ve){return this.reduce(function(Wt,Ft){return Wt.push(ve(Ft)),Wt},[])},Oe.prototype.reduce=function(ve,Wt){for(var Ft,Nt=this.iterator();Ft=Nt();)Wt=ve(Wt,Ft);return Wt},Oe}();$t.default=ee},function(Le,$t,Tt){"use strict";var Nt,ee=this&&this.__extends||(Nt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(gt,dt){gt.__proto__=dt}||function(gt,dt){for(var ft in dt)dt.hasOwnProperty(ft)&&(gt[ft]=dt[ft])},function(gt,dt){function ft(){this.constructor=gt}Nt(gt,dt),gt.prototype=null===dt?Object.create(dt):(ft.prototype=dt.prototype,new ft)});Object.defineProperty($t,"__esModule",{value:!0});var Oe=Tt(17),ve=Tt(1),Wt={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},Ft=function(Nt){function gt(dt){var ft=Nt.call(this,dt)||this;return ft.scroll=ft,ft.observer=new MutationObserver(function(St){ft.update(St)}),ft.observer.observe(ft.domNode,Wt),ft.attach(),ft}return ee(gt,Nt),gt.prototype.detach=function(){Nt.prototype.detach.call(this),this.observer.disconnect()},gt.prototype.deleteAt=function(dt,ft){this.update(),0===dt&&ft===this.length()?this.children.forEach(function(St){St.remove()}):Nt.prototype.deleteAt.call(this,dt,ft)},gt.prototype.formatAt=function(dt,ft,St,Et){this.update(),Nt.prototype.formatAt.call(this,dt,ft,St,Et)},gt.prototype.insertAt=function(dt,ft,St){this.update(),Nt.prototype.insertAt.call(this,dt,ft,St)},gt.prototype.optimize=function(dt,ft){var St=this;void 0===dt&&(dt=[]),void 0===ft&&(ft={}),Nt.prototype.optimize.call(this,ft);for(var Et=[].slice.call(this.observer.takeRecords());Et.length>0;)dt.push(Et.pop());for(var lt=function(it,It){void 0===It&&(It=!0),null!=it&&it!==St&&null!=it.domNode.parentNode&&(null==it.domNode[ve.DATA_KEY].mutations&&(it.domNode[ve.DATA_KEY].mutations=[]),It&&lt(it.parent))},_t=function(it){null!=it.domNode[ve.DATA_KEY]&&null!=it.domNode[ve.DATA_KEY].mutations&&(it instanceof Oe.default&&it.children.forEach(_t),it.optimize(ft))},xt=dt,ot=0;xt.length>0;ot+=1){if(ot>=100)throw new Error("[Parchment] Maximum optimize iterations reached");for(xt.forEach(function(it){var It=ve.find(it.target,!0);null!=It&&(It.domNode===it.target&&("childList"===it.type?(lt(ve.find(it.previousSibling,!1)),[].forEach.call(it.addedNodes,function(Ut){var Yt=ve.find(Ut,!1);lt(Yt,!1),Yt instanceof Oe.default&&Yt.children.forEach(function(ie){lt(ie,!1)})})):"attributes"===it.type&&lt(It.prev)),lt(It))}),this.children.forEach(_t),Et=(xt=[].slice.call(this.observer.takeRecords())).slice();Et.length>0;)dt.push(Et.pop())}},gt.prototype.update=function(dt,ft){var St=this;void 0===ft&&(ft={}),(dt=dt||this.observer.takeRecords()).map(function(Et){var lt=ve.find(Et.target,!0);return null==lt?null:null==lt.domNode[ve.DATA_KEY].mutations?(lt.domNode[ve.DATA_KEY].mutations=[Et],lt):(lt.domNode[ve.DATA_KEY].mutations.push(Et),null)}).forEach(function(Et){null!=Et&&Et!==St&&null!=Et.domNode[ve.DATA_KEY]&&Et.update(Et.domNode[ve.DATA_KEY].mutations||[],ft)}),null!=this.domNode[ve.DATA_KEY].mutations&&Nt.prototype.update.call(this,this.domNode[ve.DATA_KEY].mutations,ft),this.optimize(dt,ft)},gt.blotName="scroll",gt.defaultChild="block",gt.scope=ve.Scope.BLOCK_BLOT,gt.tagName="DIV",gt}(Oe.default);$t.default=Ft},function(Le,$t,Tt){"use strict";var Nt,Oe=this&&this.__extends||(Nt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(gt,dt){gt.__proto__=dt}||function(gt,dt){for(var ft in dt)dt.hasOwnProperty(ft)&&(gt[ft]=dt[ft])},function(gt,dt){function ft(){this.constructor=gt}Nt(gt,dt),gt.prototype=null===dt?Object.create(dt):(ft.prototype=dt.prototype,new ft)});Object.defineProperty($t,"__esModule",{value:!0});var ve=Tt(18),Wt=Tt(1),Ft=function(Nt){function gt(){return null!==Nt&&Nt.apply(this,arguments)||this}return Oe(gt,Nt),gt.formats=function(dt){if(dt.tagName!==gt.tagName)return Nt.formats.call(this,dt)},gt.prototype.format=function(dt,ft){var St=this;dt!==this.statics.blotName||ft?Nt.prototype.format.call(this,dt,ft):(this.children.forEach(function(Et){Et instanceof ve.default||(Et=Et.wrap(gt.blotName,!0)),St.attributes.copy(Et)}),this.unwrap())},gt.prototype.formatAt=function(dt,ft,St,Et){null!=this.formats()[St]||Wt.query(St,Wt.Scope.ATTRIBUTE)?this.isolate(dt,ft).format(St,Et):Nt.prototype.formatAt.call(this,dt,ft,St,Et)},gt.prototype.optimize=function(dt){Nt.prototype.optimize.call(this,dt);var ft=this.formats();if(0===Object.keys(ft).length)return this.unwrap();var St=this.next;St instanceof gt&&St.prev===this&&function(Nt,gt){if(Object.keys(Nt).length!==Object.keys(gt).length)return!1;for(var dt in Nt)if(Nt[dt]!==gt[dt])return!1;return!0}(ft,St.formats())&&(St.moveChildren(this),St.remove())},gt.blotName="inline",gt.scope=Wt.Scope.INLINE_BLOT,gt.tagName="SPAN",gt}(ve.default);$t.default=Ft},function(Le,$t,Tt){"use strict";var Ft,ee=this&&this.__extends||(Ft=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Nt,gt){Nt.__proto__=gt}||function(Nt,gt){for(var dt in gt)gt.hasOwnProperty(dt)&&(Nt[dt]=gt[dt])},function(Nt,gt){function dt(){this.constructor=Nt}Ft(Nt,gt),Nt.prototype=null===gt?Object.create(gt):(dt.prototype=gt.prototype,new dt)});Object.defineProperty($t,"__esModule",{value:!0});var Oe=Tt(18),ve=Tt(1),Wt=function(Ft){function Nt(){return null!==Ft&&Ft.apply(this,arguments)||this}return ee(Nt,Ft),Nt.formats=function(gt){var dt=ve.query(Nt.blotName).tagName;if(gt.tagName!==dt)return Ft.formats.call(this,gt)},Nt.prototype.format=function(gt,dt){null!=ve.query(gt,ve.Scope.BLOCK)&&(gt!==this.statics.blotName||dt?Ft.prototype.format.call(this,gt,dt):this.replaceWith(Nt.blotName))},Nt.prototype.formatAt=function(gt,dt,ft,St){null!=ve.query(ft,ve.Scope.BLOCK)?this.format(ft,St):Ft.prototype.formatAt.call(this,gt,dt,ft,St)},Nt.prototype.insertAt=function(gt,dt,ft){if(null==ft||null!=ve.query(dt,ve.Scope.INLINE))Ft.prototype.insertAt.call(this,gt,dt,ft);else{var St=this.split(gt),Et=ve.create(dt,ft);St.parent.insertBefore(Et,St)}},Nt.prototype.update=function(gt,dt){navigator.userAgent.match(/Trident/)?this.build():Ft.prototype.update.call(this,gt,dt)},Nt.blotName="block",Nt.scope=ve.Scope.BLOCK_BLOT,Nt.tagName="P",Nt}(Oe.default);$t.default=Wt},function(Le,$t,Tt){"use strict";var Wt,ee=this&&this.__extends||(Wt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Ft,Nt){Ft.__proto__=Nt}||function(Ft,Nt){for(var gt in Nt)Nt.hasOwnProperty(gt)&&(Ft[gt]=Nt[gt])},function(Ft,Nt){function gt(){this.constructor=Ft}Wt(Ft,Nt),Ft.prototype=null===Nt?Object.create(Nt):(gt.prototype=Nt.prototype,new gt)});Object.defineProperty($t,"__esModule",{value:!0});var ve=function(Wt){function Ft(){return null!==Wt&&Wt.apply(this,arguments)||this}return ee(Ft,Wt),Ft.formats=function(Nt){},Ft.prototype.format=function(Nt,gt){Wt.prototype.formatAt.call(this,0,this.length(),Nt,gt)},Ft.prototype.formatAt=function(Nt,gt,dt,ft){0===Nt&&gt===this.length()?this.format(dt,ft):Wt.prototype.formatAt.call(this,Nt,gt,dt,ft)},Ft.prototype.formats=function(){return this.statics.formats(this.domNode)},Ft}(Tt(19).default);$t.default=ve},function(Le,$t,Tt){"use strict";var Ft,ee=this&&this.__extends||(Ft=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Nt,gt){Nt.__proto__=gt}||function(Nt,gt){for(var dt in gt)gt.hasOwnProperty(dt)&&(Nt[dt]=gt[dt])},function(Nt,gt){function dt(){this.constructor=Nt}Ft(Nt,gt),Nt.prototype=null===gt?Object.create(gt):(dt.prototype=gt.prototype,new dt)});Object.defineProperty($t,"__esModule",{value:!0});var Oe=Tt(19),ve=Tt(1),Wt=function(Ft){function Nt(gt){var dt=Ft.call(this,gt)||this;return dt.text=dt.statics.value(dt.domNode),dt}return ee(Nt,Ft),Nt.create=function(gt){return document.createTextNode(gt)},Nt.value=function(gt){var dt=gt.data;return dt.normalize&&(dt=dt.normalize()),dt},Nt.prototype.deleteAt=function(gt,dt){this.domNode.data=this.text=this.text.slice(0,gt)+this.text.slice(gt+dt)},Nt.prototype.index=function(gt,dt){return this.domNode===gt?dt:-1},Nt.prototype.insertAt=function(gt,dt,ft){null==ft?(this.text=this.text.slice(0,gt)+dt+this.text.slice(gt),this.domNode.data=this.text):Ft.prototype.insertAt.call(this,gt,dt,ft)},Nt.prototype.length=function(){return this.text.length},Nt.prototype.optimize=function(gt){Ft.prototype.optimize.call(this,gt),this.text=this.statics.value(this.domNode),0===this.text.length?this.remove():this.next instanceof Nt&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},Nt.prototype.position=function(gt,dt){return void 0===dt&&(dt=!1),[this.domNode,gt]},Nt.prototype.split=function(gt,dt){if(void 0===dt&&(dt=!1),!dt){if(0===gt)return this;if(gt===this.length())return this.next}var ft=ve.create(this.domNode.splitText(gt));return this.parent.insertBefore(ft,this.next),this.text=this.statics.value(this.domNode),ft},Nt.prototype.update=function(gt,dt){var ft=this;gt.some(function(St){return"characterData"===St.type&&St.target===ft.domNode})&&(this.text=this.statics.value(this.domNode))},Nt.prototype.value=function(){return this.text},Nt.blotName="text",Nt.scope=ve.Scope.INLINE_BLOT,Nt}(Oe.default);$t.default=Wt},function(Le,$t,Tt){"use strict";var ee=document.createElement("div");if(ee.classList.toggle("test-class",!1),ee.classList.contains("test-class")){var Oe=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(ve,Wt){return arguments.length>1&&!this.contains(ve)==!Wt?Wt:Oe.call(this,ve)}}String.prototype.startsWith||(String.prototype.startsWith=function(ve,Wt){return this.substr(Wt=Wt||0,ve.length)===ve}),String.prototype.endsWith||(String.prototype.endsWith=function(ve,Wt){var Ft=this.toString();("number"!=typeof Wt||!isFinite(Wt)||Math.floor(Wt)!==Wt||Wt>Ft.length)&&(Wt=Ft.length);var Nt=Ft.indexOf(ve,Wt-=ve.length);return-1!==Nt&&Nt===Wt}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(ve){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof ve)throw new TypeError("predicate must be a function");for(var Wt,Ft=Object(this),Nt=Ft.length>>>0,gt=arguments[1],dt=0;dt<Nt;dt++)if(ve.call(gt,Wt=Ft[dt],dt,Ft))return Wt}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(Le,$t){function Tt(it,It,Ut){if(it==It)return it?[[xt,it]]:[];(Ut<0||it.length<Ut)&&(Ut=null);var Yt=Wt(it,It),ie=it.substring(0,Yt);Yt=Ft(it=it.substring(Yt),It=It.substring(Yt));var Pt=it.substring(it.length-Yt),Xt=function(it,It){var Ut;if(!it)return[[_t,It]];if(!It)return[[lt,it]];var Yt=it.length>It.length?it:It,ie=it.length>It.length?It:it,Pt=Yt.indexOf(ie);if(-1!=Pt)return Ut=[[_t,Yt.substring(0,Pt)],[xt,ie],[_t,Yt.substring(Pt+ie.length)]],it.length>It.length&&(Ut[0][0]=Ut[2][0]=lt),Ut;if(1==ie.length)return[[lt,it],[_t,It]];var Xt=function(it,It){function Ut(tn,on,an){for(var mt,zt,oe,Ae,ze=tn.substring(an,an+Math.floor(tn.length/4)),be=-1,_e="";-1!=(be=on.indexOf(ze,be+1));){var de=Wt(tn.substring(an),on.substring(be)),Jt=Ft(tn.substring(0,an),on.substring(0,be));_e.length<Jt+de&&(_e=on.substring(be-Jt,be)+on.substring(be,be+de),mt=tn.substring(0,an-Jt),zt=tn.substring(an+de),oe=on.substring(0,be-Jt),Ae=on.substring(be+de))}return 2*_e.length>=tn.length?[mt,zt,oe,Ae,_e]:null}var Yt=it.length>It.length?it:It,ie=it.length>It.length?It:it;if(Yt.length<4||2*ie.length<Yt.length)return null;var Pt,Dt,se,Pe,Ne,Xt=Ut(Yt,ie,Math.ceil(Yt.length/4)),vt=Ut(Yt,ie,Math.ceil(Yt.length/2));return Xt||vt?(Pt=vt?Xt&&Xt[4].length>vt[4].length?Xt:vt:Xt,it.length>It.length?(Dt=Pt[0],se=Pt[1],Pe=Pt[2],Ne=Pt[3]):(Pe=Pt[0],Ne=Pt[1],Dt=Pt[2],se=Pt[3]),[Dt,se,Pe,Ne,Pt[4]]):null}(it,It);if(Xt){var Dt=Xt[1],Pe=Xt[3],Ne=Xt[4],tn=Tt(Xt[0],Xt[2]),on=Tt(Dt,Pe);return tn.concat([[xt,Ne]],on)}return function(it,It){for(var Ut=it.length,Yt=It.length,ie=Math.ceil((Ut+Yt)/2),Pt=ie,Xt=2*ie,vt=new Array(Xt),Dt=new Array(Xt),se=0;se<Xt;se++)vt[se]=-1,Dt[se]=-1;vt[Pt+1]=0,Dt[Pt+1]=0;for(var Pe=Ut-Yt,Ne=Pe%2!=0,tn=0,on=0,an=0,mt=0,zt=0;zt<ie;zt++){for(var oe=-zt+tn;oe<=zt-on;oe+=2){for(var ze=Pt+oe,be=(Ae=oe==-zt||oe!=zt&&vt[ze-1]<vt[ze+1]?vt[ze+1]:vt[ze-1]+1)-oe;Ae<Ut&&be<Yt&&it.charAt(Ae)==It.charAt(be);)Ae++,be++;if(vt[ze]=Ae,Ae>Ut)on+=2;else if(be>Yt)tn+=2;else if(Ne&&(_e=Pt+Pe-oe)>=0&&_e<Xt&&-1!=Dt[_e]&&Ae>=(de=Ut-Dt[_e]))return ve(it,It,Ae,be)}for(var Jt=-zt+an;Jt<=zt-mt;Jt+=2){for(var de,_e=Pt+Jt,Fe=(de=Jt==-zt||Jt!=zt&&Dt[_e-1]<Dt[_e+1]?Dt[_e+1]:Dt[_e-1]+1)-Jt;de<Ut&&Fe<Yt&&it.charAt(Ut-de-1)==It.charAt(Yt-Fe-1);)de++,Fe++;if(Dt[_e]=de,de>Ut)mt+=2;else if(Fe>Yt)an+=2;else if(!Ne){var Ae;if((ze=Pt+Pe-Jt)>=0&&ze<Xt&&-1!=vt[ze])if(be=Pt+(Ae=vt[ze])-ze,Ae>=(de=Ut-de))return ve(it,It,Ae,be)}}}return[[lt,it],[_t,It]]}(it,It)}(it=it.substring(0,it.length-Yt),It=It.substring(0,It.length-Yt));return ie&&Xt.unshift([xt,ie]),Pt&&Xt.push([xt,Pt]),gt(Xt),null!=Ut&&(Xt=function(it,It){var Ut=function(it,It){if(0===It)return[xt,it];for(var Ut=0,Yt=0;Yt<it.length;Yt++){var ie=it[Yt];if(ie[0]===lt||ie[0]===xt){var Pt=Ut+ie[1].length;if(It===Pt)return[Yt+1,it];if(It<Pt){it=it.slice();var Xt=It-Ut,vt=[ie[0],ie[1].slice(0,Xt)],Dt=[ie[0],ie[1].slice(Xt)];return it.splice(Yt,1,vt,Dt),[Yt+1,it]}Ut=Pt}}throw new Error("cursor_pos is out of bounds!")}(it,It),Yt=Ut[1],ie=Ut[0],Pt=Yt[ie],Xt=Yt[ie+1];if(null==Pt||Pt[0]!==xt)return it;if(null!=Xt&&Pt[1]+Xt[1]===Xt[1]+Pt[1])return Yt.splice(ie,2,Xt,Pt),Et(Yt,ie,2);if(null!=Xt&&0===Xt[1].indexOf(Pt[1])){Yt.splice(ie,2,[Xt[0],Pt[1]],[0,Pt[1]]);var vt=Xt[1].slice(Pt[1].length);return vt.length>0&&Yt.splice(ie+2,0,[Xt[0],vt]),Et(Yt,ie,3)}return it}(Xt,Ut)),function(it){for(var It=!1,Ut=function(Pt){return Pt.charCodeAt(0)>=56320&&Pt.charCodeAt(0)<=57343},Yt=2;Yt<it.length;Yt+=1)it[Yt-2][0]===xt&&function(Pt){return Pt.charCodeAt(Pt.length-1)>=55296&&Pt.charCodeAt(Pt.length-1)<=56319}(it[Yt-2][1])&&it[Yt-1][0]===lt&&Ut(it[Yt-1][1])&&it[Yt][0]===_t&&Ut(it[Yt][1])&&(It=!0,it[Yt-1][1]=it[Yt-2][1].slice(-1)+it[Yt-1][1],it[Yt][1]=it[Yt-2][1].slice(-1)+it[Yt][1],it[Yt-2][1]=it[Yt-2][1].slice(0,-1));if(!It)return it;var ie=[];for(Yt=0;Yt<it.length;Yt+=1)it[Yt][1].length>0&&ie.push(it[Yt]);return ie}(Xt)}function ve(it,It,Ut,Yt){var ie=it.substring(0,Ut),Pt=It.substring(0,Yt),Xt=it.substring(Ut),vt=It.substring(Yt),Dt=Tt(ie,Pt),se=Tt(Xt,vt);return Dt.concat(se)}function Wt(it,It){if(!it||!It||it.charAt(0)!=It.charAt(0))return 0;for(var Ut=0,Yt=Math.min(it.length,It.length),ie=Yt,Pt=0;Ut<ie;)it.substring(Pt,ie)==It.substring(Pt,ie)?Pt=Ut=ie:Yt=ie,ie=Math.floor((Yt-Ut)/2+Ut);return ie}function Ft(it,It){if(!it||!It||it.charAt(it.length-1)!=It.charAt(It.length-1))return 0;for(var Ut=0,Yt=Math.min(it.length,It.length),ie=Yt,Pt=0;Ut<ie;)it.substring(it.length-ie,it.length-Pt)==It.substring(It.length-ie,It.length-Pt)?Pt=Ut=ie:Yt=ie,ie=Math.floor((Yt-Ut)/2+Ut);return ie}function gt(it){it.push([xt,""]);for(var It,Ut=0,Yt=0,ie=0,Pt="",Xt="";Ut<it.length;)switch(it[Ut][0]){case _t:ie++,Xt+=it[Ut][1],Ut++;break;case lt:Yt++,Pt+=it[Ut][1],Ut++;break;case xt:Yt+ie>1?(0!==Yt&&0!==ie&&(0!==(It=Wt(Xt,Pt))&&(Ut-Yt-ie>0&&it[Ut-Yt-ie-1][0]==xt?it[Ut-Yt-ie-1][1]+=Xt.substring(0,It):(it.splice(0,0,[xt,Xt.substring(0,It)]),Ut++),Xt=Xt.substring(It),Pt=Pt.substring(It)),0!==(It=Ft(Xt,Pt))&&(it[Ut][1]=Xt.substring(Xt.length-It)+it[Ut][1],Xt=Xt.substring(0,Xt.length-It),Pt=Pt.substring(0,Pt.length-It))),0===Yt?it.splice(Ut-ie,Yt+ie,[_t,Xt]):0===ie?it.splice(Ut-Yt,Yt+ie,[lt,Pt]):it.splice(Ut-Yt-ie,Yt+ie,[lt,Pt],[_t,Xt]),Ut=Ut-Yt-ie+(Yt?1:0)+(ie?1:0)+1):0!==Ut&&it[Ut-1][0]==xt?(it[Ut-1][1]+=it[Ut][1],it.splice(Ut,1)):Ut++,ie=0,Yt=0,Pt="",Xt=""}""===it[it.length-1][1]&&it.pop();var vt=!1;for(Ut=1;Ut<it.length-1;)it[Ut-1][0]==xt&&it[Ut+1][0]==xt&&(it[Ut][1].substring(it[Ut][1].length-it[Ut-1][1].length)==it[Ut-1][1]?(it[Ut][1]=it[Ut-1][1]+it[Ut][1].substring(0,it[Ut][1].length-it[Ut-1][1].length),it[Ut+1][1]=it[Ut-1][1]+it[Ut+1][1],it.splice(Ut-1,1),vt=!0):it[Ut][1].substring(0,it[Ut+1][1].length)==it[Ut+1][1]&&(it[Ut-1][1]+=it[Ut+1][1],it[Ut][1]=it[Ut][1].substring(it[Ut+1][1].length)+it[Ut+1][1],it.splice(Ut+1,1),vt=!0)),Ut++;vt&&gt(it)}function Et(it,It,Ut){for(var Yt=It+Ut-1;Yt>=0&&Yt>=It-1;Yt--)if(Yt+1<it.length){var ie=it[Yt],Pt=it[Yt+1];ie[0]===Pt[1]&&it.splice(Yt,2,[ie[0],ie[1]+Pt[1]])}return it}var lt=-1,_t=1,xt=0,ot=Tt;ot.INSERT=_t,ot.DELETE=lt,ot.EQUAL=xt,Le.exports=ot},function(Le,$t){function Tt(ee){var Oe=[];for(var ve in ee)Oe.push(ve);return Oe}(Le.exports="function"==typeof Object.keys?Object.keys:Tt).shim=Tt},function(Le,$t){function Tt(ve){return"[object Arguments]"==Object.prototype.toString.call(ve)}function ee(ve){return ve&&"object"==typeof ve&&"number"==typeof ve.length&&Object.prototype.hasOwnProperty.call(ve,"callee")&&!Object.prototype.propertyIsEnumerable.call(ve,"callee")||!1}var Oe="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();($t=Le.exports=Oe?Tt:ee).supported=Tt,$t.unsupported=ee},function(Le,$t,Tt){"use strict";function ee(mt){return mt&&mt.__esModule?mt:{default:mt}}function Wt(mt,zt){return Object.keys(zt).reduce(function(oe,Ae){return null==mt[Ae]||(zt[Ae]===mt[Ae]?oe[Ae]=zt[Ae]:Array.isArray(zt[Ae])?zt[Ae].indexOf(mt[Ae])<0&&(oe[Ae]=zt[Ae].concat([mt[Ae]])):oe[Ae]=[zt[Ae],mt[Ae]]),oe},{})}Object.defineProperty($t,"__esModule",{value:!0});var Nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(mt){return typeof mt}:function(mt){return mt&&"function"==typeof Symbol&&mt.constructor===Symbol&&mt!==Symbol.prototype?"symbol":typeof mt},gt=function(zt,oe){if(Array.isArray(zt))return zt;if(Symbol.iterator in Object(zt))return function(zt,oe){var Ae=[],ze=!0,be=!1,_e=void 0;try{for(var de,Jt=zt[Symbol.iterator]();!(ze=(de=Jt.next()).done)&&(Ae.push(de.value),!oe||Ae.length!==oe);ze=!0);}catch(Fe){be=!0,_e=Fe}finally{try{!ze&&Jt.return&&Jt.return()}finally{if(be)throw _e}}return Ae}(zt,oe);throw new TypeError("Invalid attempt to destructure non-iterable instance")},dt=function(){function mt(zt,oe){for(var Ae=0;Ae<oe.length;Ae++){var ze=oe[Ae];ze.enumerable=ze.enumerable||!1,ze.configurable=!0,"value"in ze&&(ze.writable=!0),Object.defineProperty(zt,ze.key,ze)}}return function(zt,oe,Ae){return oe&&mt(zt.prototype,oe),Ae&&mt(zt,Ae),zt}}(),St=ee(Tt(4)),lt=ee(Tt(20)),xt=ee(Tt(0)),it=ee(Tt(13)),Ut=ee(Tt(31)),Yt=Tt(3),ie=ee(Yt),Xt=ee(Tt(14)),Dt=ee(Tt(21)),Pe=ee(Tt(12)),tn=ee(Tt(2)),on=/^[ -~]*$/,an=function(){function mt(zt){(function(mt,zt){if(!(mt instanceof zt))throw new TypeError("Cannot call a class as a function")})(this,mt),this.scroll=zt,this.delta=this.getDelta()}return dt(mt,[{key:"applyDelta",value:function(zt){var oe=this,Ae=!1;this.scroll.update();var ze=this.scroll.length();return this.scroll.batchStart(),zt=function(mt){return mt.reduce(function(zt,oe){if(1===oe.insert){var Ae=(0,Dt.default)(oe.attributes);return delete Ae.image,zt.insert({image:oe.attributes.image},Ae)}if(null==oe.attributes||!0!==oe.attributes.list&&!0!==oe.attributes.bullet||((oe=(0,Dt.default)(oe)).attributes.list?oe.attributes.list="ordered":(oe.attributes.list="bullet",delete oe.attributes.bullet)),"string"==typeof oe.insert){var ze=oe.insert.replace(/\r\n/g,"\n").replace(/\r/g,"\n");return zt.insert(ze,oe.attributes)}return zt.push(oe)},new St.default)}(zt),zt.reduce(function(be,_e){var de=_e.retain||_e.delete||_e.insert.length||1,Jt=_e.attributes||{};if(null!=_e.insert){if("string"==typeof _e.insert){var Fe=_e.insert;Fe.endsWith("\n")&&Ae&&(Ae=!1,Fe=Fe.slice(0,-1)),be>=ze&&!Fe.endsWith("\n")&&(Ae=!0),oe.scroll.insertAt(be,Fe);var Ke=oe.scroll.line(be),sn=gt(Ke,2),hn=sn[0],$e=sn[1],ti=(0,tn.default)({},(0,Yt.bubbleFormats)(hn));if(hn instanceof ie.default){var ui=hn.descendant(xt.default.Leaf,$e),hi=gt(ui,1);ti=(0,tn.default)(ti,(0,Yt.bubbleFormats)(hi[0]))}Jt=lt.default.attributes.diff(ti,Jt)||{}}else if("object"===Nt(_e.insert)){var Zi=Object.keys(_e.insert)[0];if(null==Zi)return be;oe.scroll.insertAt(be,Zi,_e.insert[Zi])}ze+=de}return Object.keys(Jt).forEach(function(dn){oe.scroll.formatAt(be,de,dn,Jt[dn])}),be+de},0),zt.reduce(function(be,_e){return"number"==typeof _e.delete?(oe.scroll.deleteAt(be,_e.delete),be):be+(_e.retain||_e.insert.length||1)},0),this.scroll.batchEnd(),this.update(zt)}},{key:"deleteText",value:function(zt,oe){return this.scroll.deleteAt(zt,oe),this.update((new St.default).retain(zt).delete(oe))}},{key:"formatLine",value:function(zt,oe){var Ae=this,ze=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.scroll.update(),Object.keys(ze).forEach(function(be){if(null==Ae.scroll.whitelist||Ae.scroll.whitelist[be]){var _e=Ae.scroll.lines(zt,Math.max(oe,1)),de=oe;_e.forEach(function(Jt){var Fe=Jt.length();if(Jt instanceof it.default){var Ke=zt-Jt.offset(Ae.scroll),sn=Jt.newlineIndex(Ke+de)-Ke+1;Jt.formatAt(Ke,sn,be,ze[be])}else Jt.format(be,ze[be]);de-=Fe})}}),this.scroll.optimize(),this.update((new St.default).retain(zt).retain(oe,(0,Dt.default)(ze)))}},{key:"formatText",value:function(zt,oe){var Ae=this,ze=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object.keys(ze).forEach(function(be){Ae.scroll.formatAt(zt,oe,be,ze[be])}),this.update((new St.default).retain(zt).retain(oe,(0,Dt.default)(ze)))}},{key:"getContents",value:function(zt,oe){return this.delta.slice(zt,zt+oe)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(zt,oe){return zt.concat(oe.delta())},new St.default)}},{key:"getFormat",value:function(zt){var oe=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,Ae=[],ze=[];0===oe?this.scroll.path(zt).forEach(function(_e){var Jt=gt(_e,1)[0];Jt instanceof ie.default?Ae.push(Jt):Jt instanceof xt.default.Leaf&&ze.push(Jt)}):(Ae=this.scroll.lines(zt,oe),ze=this.scroll.descendants(xt.default.Leaf,zt,oe));var be=[Ae,ze].map(function(_e){if(0===_e.length)return{};for(var de=(0,Yt.bubbleFormats)(_e.shift());Object.keys(de).length>0;){var Jt=_e.shift();if(null==Jt)return de;de=Wt((0,Yt.bubbleFormats)(Jt),de)}return de});return tn.default.apply(tn.default,be)}},{key:"getText",value:function(zt,oe){return this.getContents(zt,oe).filter(function(Ae){return"string"==typeof Ae.insert}).map(function(Ae){return Ae.insert}).join("")}},{key:"insertEmbed",value:function(zt,oe,Ae){return this.scroll.insertAt(zt,oe,Ae),this.update((new St.default).retain(zt).insert(function(mt,zt,oe){return zt in mt?Object.defineProperty(mt,zt,{value:oe,enumerable:!0,configurable:!0,writable:!0}):mt[zt]=oe,mt}({},oe,Ae)))}},{key:"insertText",value:function(zt,oe){var Ae=this,ze=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return oe=oe.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),this.scroll.insertAt(zt,oe),Object.keys(ze).forEach(function(be){Ae.scroll.formatAt(zt,oe.length,be,ze[be])}),this.update((new St.default).retain(zt).insert(oe,(0,Dt.default)(ze)))}},{key:"isBlank",value:function(){if(0==this.scroll.children.length)return!0;if(this.scroll.children.length>1)return!1;var zt=this.scroll.children.head;return zt.statics.blotName===ie.default.blotName&&!(zt.children.length>1)&&zt.children.head instanceof Xt.default}},{key:"removeFormat",value:function(zt,oe){var Ae=this.getText(zt,oe),ze=this.scroll.line(zt+oe),be=gt(ze,2),_e=be[0],de=be[1],Jt=0,Fe=new St.default;null!=_e&&(Jt=_e instanceof it.default?_e.newlineIndex(de)-de+1:_e.length()-de,Fe=_e.delta().slice(de,de+Jt-1).insert("\n"));var sn=this.getContents(zt,oe+Jt).diff((new St.default).insert(Ae).concat(Fe)),hn=(new St.default).retain(zt).concat(sn);return this.applyDelta(hn)}},{key:"update",value:function(zt){var oe=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],Ae=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,ze=this.delta;if(1===oe.length&&"characterData"===oe[0].type&&oe[0].target.data.match(on)&&xt.default.find(oe[0].target)){var be=xt.default.find(oe[0].target),_e=(0,Yt.bubbleFormats)(be),de=be.offset(this.scroll),Jt=oe[0].oldValue.replace(Ut.default.CONTENTS,""),Fe=(new St.default).insert(Jt),Ke=(new St.default).insert(be.value());zt=(new St.default).retain(de).concat(Fe.diff(Ke,Ae)).reduce(function(sn,hn){return hn.insert?sn.insert(hn.insert,_e):sn.push(hn)},new St.default),this.delta=ze.compose(zt)}else this.delta=this.getDelta(),zt&&(0,Pe.default)(ze.compose(zt),this.delta)||(zt=ze.diff(this.delta,Ae));return zt}}]),mt}();$t.default=an},function(Le,$t){"use strict";function Tt(){}function ee(Ft,Nt,gt){this.fn=Ft,this.context=Nt,this.once=gt||!1}function Oe(){this._events=new Tt,this._eventsCount=0}var ve=Object.prototype.hasOwnProperty,Wt="~";Object.create&&(Tt.prototype=Object.create(null),(new Tt).__proto__||(Wt=!1)),Oe.prototype.eventNames=function(){var Ft,Nt,gt=[];if(0===this._eventsCount)return gt;for(Nt in Ft=this._events)ve.call(Ft,Nt)&&gt.push(Wt?Nt.slice(1):Nt);return Object.getOwnPropertySymbols?gt.concat(Object.getOwnPropertySymbols(Ft)):gt},Oe.prototype.listeners=function(Ft,Nt){var dt=this._events[Wt?Wt+Ft:Ft];if(Nt)return!!dt;if(!dt)return[];if(dt.fn)return[dt.fn];for(var ft=0,St=dt.length,Et=new Array(St);ft<St;ft++)Et[ft]=dt[ft].fn;return Et},Oe.prototype.emit=function(Ft,Nt,gt,dt,ft,St){var Et=Wt?Wt+Ft:Ft;if(!this._events[Et])return!1;var lt,_t,xt=this._events[Et],ot=arguments.length;if(xt.fn){switch(xt.once&&this.removeListener(Ft,xt.fn,void 0,!0),ot){case 1:return xt.fn.call(xt.context),!0;case 2:return xt.fn.call(xt.context,Nt),!0;case 3:return xt.fn.call(xt.context,Nt,gt),!0;case 4:return xt.fn.call(xt.context,Nt,gt,dt),!0;case 5:return xt.fn.call(xt.context,Nt,gt,dt,ft),!0;case 6:return xt.fn.call(xt.context,Nt,gt,dt,ft,St),!0}for(_t=1,lt=new Array(ot-1);_t<ot;_t++)lt[_t-1]=arguments[_t];xt.fn.apply(xt.context,lt)}else{var it,It=xt.length;for(_t=0;_t<It;_t++)switch(xt[_t].once&&this.removeListener(Ft,xt[_t].fn,void 0,!0),ot){case 1:xt[_t].fn.call(xt[_t].context);break;case 2:xt[_t].fn.call(xt[_t].context,Nt);break;case 3:xt[_t].fn.call(xt[_t].context,Nt,gt);break;case 4:xt[_t].fn.call(xt[_t].context,Nt,gt,dt);break;default:if(!lt)for(it=1,lt=new Array(ot-1);it<ot;it++)lt[it-1]=arguments[it];xt[_t].fn.apply(xt[_t].context,lt)}}return!0},Oe.prototype.on=function(Ft,Nt,gt){var dt=new ee(Nt,gt||this),ft=Wt?Wt+Ft:Ft;return this._events[ft]?this._events[ft].fn?this._events[ft]=[this._events[ft],dt]:this._events[ft].push(dt):(this._events[ft]=dt,this._eventsCount++),this},Oe.prototype.once=function(Ft,Nt,gt){var dt=new ee(Nt,gt||this,!0),ft=Wt?Wt+Ft:Ft;return this._events[ft]?this._events[ft].fn?this._events[ft]=[this._events[ft],dt]:this._events[ft].push(dt):(this._events[ft]=dt,this._eventsCount++),this},Oe.prototype.removeListener=function(Ft,Nt,gt,dt){var ft=Wt?Wt+Ft:Ft;if(!this._events[ft])return this;if(!Nt)return 0==--this._eventsCount?this._events=new Tt:delete this._events[ft],this;var St=this._events[ft];if(St.fn)St.fn!==Nt||dt&&!St.once||gt&&St.context!==gt||(0==--this._eventsCount?this._events=new Tt:delete this._events[ft]);else{for(var Et=0,lt=[],_t=St.length;Et<_t;Et++)(St[Et].fn!==Nt||dt&&!St[Et].once||gt&&St[Et].context!==gt)&&lt.push(St[Et]);lt.length?this._events[ft]=1===lt.length?lt[0]:lt:0==--this._eventsCount?this._events=new Tt:delete this._events[ft]}return this},Oe.prototype.removeAllListeners=function(Ft){var Nt;return Ft?this._events[Nt=Wt?Wt+Ft:Ft]&&(0==--this._eventsCount?this._events=new Tt:delete this._events[Nt]):(this._events=new Tt,this._eventsCount=0),this},Oe.prototype.off=Oe.prototype.removeListener,Oe.prototype.addListener=Oe.prototype.on,Oe.prototype.setMaxListeners=function(){return this},Oe.prefixed=Wt,Oe.EventEmitter=Oe,void 0!==Le&&(Le.exports=Oe)},function(Le,$t,Tt){"use strict";function ee(Xt){return Xt&&Xt.__esModule?Xt:{default:Xt}}function Ft(Xt){return Xt instanceof xt.default||Xt instanceof _t.BlockEmbed}Object.defineProperty($t,"__esModule",{value:!0});var Nt=function(vt,Dt){if(Array.isArray(vt))return vt;if(Symbol.iterator in Object(vt))return function(vt,Dt){var se=[],Pe=!0,Ne=!1,tn=void 0;try{for(var on,an=vt[Symbol.iterator]();!(Pe=(on=an.next()).done)&&(se.push(on.value),!Dt||se.length!==Dt);Pe=!0);}catch(mt){Ne=!0,tn=mt}finally{try{!Pe&&an.return&&an.return()}finally{if(Ne)throw tn}}return se}(vt,Dt);throw new TypeError("Invalid attempt to destructure non-iterable instance")},gt=function(){function Xt(vt,Dt){for(var se=0;se<Dt.length;se++){var Pe=Dt[se];Pe.enumerable=Pe.enumerable||!1,Pe.configurable=!0,"value"in Pe&&(Pe.writable=!0),Object.defineProperty(vt,Pe.key,Pe)}}return function(vt,Dt,se){return Dt&&Xt(vt.prototype,Dt),se&&Xt(vt,se),vt}}(),dt=function Xt(vt,Dt,se){null===vt&&(vt=Function.prototype);var Pe=Object.getOwnPropertyDescriptor(vt,Dt);if(void 0===Pe){var Ne=Object.getPrototypeOf(vt);return null===Ne?void 0:Xt(Ne,Dt,se)}if("value"in Pe)return Pe.value;var tn=Pe.get;return void 0!==tn?tn.call(se):void 0},St=ee(Tt(0)),lt=ee(Tt(9)),_t=Tt(3),xt=ee(_t),it=ee(Tt(14)),Ut=ee(Tt(13)),ie=ee(Tt(23)),Pt=function(Xt){function vt(Dt,se){!function(Xt,vt){if(!(Xt instanceof vt))throw new TypeError("Cannot call a class as a function")}(this,vt);var Pe=function(Xt,vt){if(!Xt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!vt||"object"!=typeof vt&&"function"!=typeof vt?Xt:vt}(this,(vt.__proto__||Object.getPrototypeOf(vt)).call(this,Dt));return Pe.emitter=se.emitter,Array.isArray(se.whitelist)&&(Pe.whitelist=se.whitelist.reduce(function(Ne,tn){return Ne[tn]=!0,Ne},{})),Pe.domNode.addEventListener("DOMNodeInserted",function(){}),Pe.optimize(),Pe.enable(),Pe}return function(Xt,vt){if("function"!=typeof vt&&null!==vt)throw new TypeError("Super expression must either be null or a function, not "+typeof vt);Xt.prototype=Object.create(vt&&vt.prototype,{constructor:{value:Xt,enumerable:!1,writable:!0,configurable:!0}}),vt&&(Object.setPrototypeOf?Object.setPrototypeOf(Xt,vt):Xt.__proto__=vt)}(vt,Xt),gt(vt,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(Dt,se){var Pe=this.line(Dt),Ne=Nt(Pe,2),tn=Ne[0],on=Ne[1],an=this.line(Dt+se),zt=Nt(an,1)[0];if(dt(vt.prototype.__proto__||Object.getPrototypeOf(vt.prototype),"deleteAt",this).call(this,Dt,se),null!=zt&&tn!==zt&&on>0){if(tn instanceof _t.BlockEmbed||zt instanceof _t.BlockEmbed)return void this.optimize();if(tn instanceof Ut.default){var oe=tn.newlineIndex(tn.length(),!0);if(oe>-1&&(tn=tn.split(oe+1))===zt)return void this.optimize()}else if(zt instanceof Ut.default){var Ae=zt.newlineIndex(0);Ae>-1&&zt.split(Ae+1)}tn.moveChildren(zt,zt.children.head instanceof it.default?null:zt.children.head),tn.remove()}this.optimize()}},{key:"enable",value:function(){var Dt=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.domNode.setAttribute("contenteditable",Dt)}},{key:"formatAt",value:function(Dt,se,Pe,Ne){(null==this.whitelist||this.whitelist[Pe])&&(dt(vt.prototype.__proto__||Object.getPrototypeOf(vt.prototype),"formatAt",this).call(this,Dt,se,Pe,Ne),this.optimize())}},{key:"insertAt",value:function(Dt,se,Pe){if(null==Pe||null==this.whitelist||this.whitelist[se]){if(Dt>=this.length())if(null==Pe||null==St.default.query(se,St.default.Scope.BLOCK)){var Ne=St.default.create(this.statics.defaultChild);this.appendChild(Ne),null==Pe&&se.endsWith("\n")&&(se=se.slice(0,-1)),Ne.insertAt(0,se,Pe)}else{var tn=St.default.create(se,Pe);this.appendChild(tn)}else dt(vt.prototype.__proto__||Object.getPrototypeOf(vt.prototype),"insertAt",this).call(this,Dt,se,Pe);this.optimize()}}},{key:"insertBefore",value:function(Dt,se){if(Dt.statics.scope===St.default.Scope.INLINE_BLOT){var Pe=St.default.create(this.statics.defaultChild);Pe.appendChild(Dt),Dt=Pe}dt(vt.prototype.__proto__||Object.getPrototypeOf(vt.prototype),"insertBefore",this).call(this,Dt,se)}},{key:"leaf",value:function(Dt){return this.path(Dt).pop()||[null,-1]}},{key:"line",value:function(Dt){return Dt===this.length()?this.line(Dt-1):this.descendant(Ft,Dt)}},{key:"lines",value:function(){var Dt=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,se=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE;return function Pe(Ne,tn,on){var an=[],mt=on;return Ne.children.forEachAt(tn,on,function(zt,oe,Ae){Ft(zt)?an.push(zt):zt instanceof St.default.Container&&(an=an.concat(Pe(zt,oe,mt))),mt-=Ae}),an}(this,Dt,se)}},{key:"optimize",value:function(){var Dt=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],se=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!0!==this.batch&&(dt(vt.prototype.__proto__||Object.getPrototypeOf(vt.prototype),"optimize",this).call(this,Dt,se),Dt.length>0&&this.emitter.emit(lt.default.events.SCROLL_OPTIMIZE,Dt,se))}},{key:"path",value:function(Dt){return dt(vt.prototype.__proto__||Object.getPrototypeOf(vt.prototype),"path",this).call(this,Dt).slice(1)}},{key:"update",value:function(Dt){if(!0!==this.batch){var se=lt.default.sources.USER;"string"==typeof Dt&&(se=Dt),Array.isArray(Dt)||(Dt=this.observer.takeRecords()),Dt.length>0&&this.emitter.emit(lt.default.events.SCROLL_BEFORE_UPDATE,se,Dt),dt(vt.prototype.__proto__||Object.getPrototypeOf(vt.prototype),"update",this).call(this,Dt.concat([])),Dt.length>0&&this.emitter.emit(lt.default.events.SCROLL_UPDATE,se,Dt)}}}]),vt}(St.default.Scroll);Pt.blotName="scroll",Pt.className="ql-editor",Pt.tagName="DIV",Pt.defaultChild="block",Pt.allowedChildren=[xt.default,_t.BlockEmbed,ie.default],$t.default=Pt},function(Le,$t,Tt){"use strict";function ee(dn){return dn&&dn.__esModule?dn:{default:dn}}function Oe(dn,fn,On){return fn in dn?Object.defineProperty(dn,fn,{value:On,enumerable:!0,configurable:!0,writable:!0}):dn[fn]=On,dn}function Nt(dn,fn,On){return"object"===(void 0===fn?"undefined":Pt(fn))?Object.keys(fn).reduce(function(Tn,En){return Nt(Tn,En,fn[En])},dn):dn.reduce(function(Tn,En){return En.attributes&&En.attributes[fn]?Tn.push(En):Tn.insert(En.insert,(0,se.default)({},Oe({},fn,On),En.attributes))},new Ne.default)}function gt(dn){return dn.nodeType!==Node.ELEMENT_NODE?{}:dn["__ql-computed-style"]||(dn["__ql-computed-style"]=window.getComputedStyle(dn))}function dt(dn,fn){for(var On="",Tn=dn.ops.length-1;Tn>=0&&On.length<fn.length;--Tn){var En=dn.ops[Tn];if("string"!=typeof En.insert)break;On=En.insert+On}return On.slice(-1*fn.length)===fn}function ft(dn){return 0!==dn.childNodes.length&&["block","list-item"].indexOf(gt(dn).display)>-1}function St(dn,fn,On){return dn.nodeType===dn.TEXT_NODE?On.reduce(function(Tn,En){return En(dn,Tn)},new Ne.default):dn.nodeType===dn.ELEMENT_NODE?[].reduce.call(dn.childNodes||[],function(Tn,En){var Di=St(En,fn,On);return En.nodeType===dn.ELEMENT_NODE&&(Di=fn.reduce(function(Oi,Ni){return Ni(En,Oi)},Di),Di=(En[ti]||[]).reduce(function(Oi,Ni){return Ni(En,Oi)},Di)),Tn.concat(Di)},new Ne.default):new Ne.default}function Et(dn,fn,On){return Nt(On,dn,!0)}function lt(dn,fn){var On=on.default.Attributor.Attribute.keys(dn),Tn=on.default.Attributor.Class.keys(dn),En=on.default.Attributor.Style.keys(dn),Di={};return On.concat(Tn).concat(En).forEach(function(Oi){var Ni=on.default.query(Oi,on.default.Scope.ATTRIBUTE);null!=Ni&&(Di[Ni.attrName]=Ni.value(dn),Di[Ni.attrName])||(null==(Ni=hi[Oi])||Ni.attrName!==Oi&&Ni.keyName!==Oi||(Di[Ni.attrName]=Ni.value(dn)||void 0),null==(Ni=ur[Oi])||Ni.attrName!==Oi&&Ni.keyName!==Oi||(Di[(Ni=ur[Oi]).attrName]=Ni.value(dn)||void 0))}),Object.keys(Di).length>0&&(fn=Nt(fn,Di)),fn}function _t(dn,fn){var On=on.default.query(dn);if(null==On)return fn;if(On.prototype instanceof on.default.Embed){var Tn={},En=On.value(dn);null!=En&&(Tn[On.blotName]=En,fn=(new Ne.default).insert(Tn,On.formats(dn)))}else"function"==typeof On.formats&&(fn=Nt(fn,On.blotName,On.formats(dn)));return fn}function It(dn,fn){return dt(fn,"\n")||(ft(dn)||fn.length()>0&&dn.nextSibling&&ft(dn.nextSibling))&&fn.insert("\n"),fn}function Ut(dn,fn){if(ft(dn)&&null!=dn.nextElementSibling&&!dt(fn,"\n\n")){var On=dn.offsetHeight+parseFloat(gt(dn).marginTop)+parseFloat(gt(dn).marginBottom);dn.nextElementSibling.offsetTop>dn.offsetTop+1.5*On&&fn.insert("\n")}return fn}function ie(dn,fn){var On=dn.data;if("O:P"===dn.parentNode.tagName)return fn.insert(On.trim());if(0===On.trim().length&&dn.parentNode.classList.contains("ql-clipboard"))return fn;if(!gt(dn.parentNode).whiteSpace.startsWith("pre")){var Tn=function(En,Di){return(Di=Di.replace(/[^\u00a0]/g,"")).length<1&&En?" ":Di};On=(On=On.replace(/\r\n/g," ").replace(/\n/g," ")).replace(/\s\s+/g,Tn.bind(Tn,!0)),(null==dn.previousSibling&&ft(dn.parentNode)||null!=dn.previousSibling&&ft(dn.previousSibling))&&(On=On.replace(/^\s+/,Tn.bind(Tn,!1))),(null==dn.nextSibling&&ft(dn.parentNode)||null!=dn.nextSibling&&ft(dn.nextSibling))&&(On=On.replace(/\s+$/,Tn.bind(Tn,!1)))}return fn.insert(On)}Object.defineProperty($t,"__esModule",{value:!0}),$t.matchText=$t.matchSpacing=$t.matchNewline=$t.matchBlot=$t.matchAttributor=$t.default=void 0;var Pt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(dn){return typeof dn}:function(dn){return dn&&"function"==typeof Symbol&&dn.constructor===Symbol&&dn!==Symbol.prototype?"symbol":typeof dn},Xt=function(fn,On){if(Array.isArray(fn))return fn;if(Symbol.iterator in Object(fn))return function(fn,On){var Tn=[],En=!0,Di=!1,Oi=void 0;try{for(var Ni,br=fn[Symbol.iterator]();!(En=(Ni=br.next()).done)&&(Tn.push(Ni.value),!On||Tn.length!==On);En=!0);}catch(ji){Di=!0,Oi=ji}finally{try{!En&&br.return&&br.return()}finally{if(Di)throw Oi}}return Tn}(fn,On);throw new TypeError("Invalid attempt to destructure non-iterable instance")},vt=function(){function dn(fn,On){for(var Tn=0;Tn<On.length;Tn++){var En=On[Tn];En.enumerable=En.enumerable||!1,En.configurable=!0,"value"in En&&(En.writable=!0),Object.defineProperty(fn,En.key,En)}}return function(fn,On,Tn){return On&&dn(fn.prototype,On),Tn&&dn(fn,Tn),fn}}(),se=ee(Tt(2)),Ne=ee(Tt(4)),on=ee(Tt(0)),mt=ee(Tt(6)),oe=ee(Tt(10)),ze=ee(Tt(7)),be=Tt(34),_e=Tt(35),Jt=ee(Tt(13)),Fe=Tt(24),Ke=Tt(36),sn=Tt(37),hn=Tt(38),$e=(0,oe.default)("quill:clipboard"),ti="__ql-matcher",ui=[[Node.TEXT_NODE,ie],[Node.TEXT_NODE,It],["br",function(dn,fn){return dt(fn,"\n")||fn.insert("\n"),fn}],[Node.ELEMENT_NODE,It],[Node.ELEMENT_NODE,_t],[Node.ELEMENT_NODE,Ut],[Node.ELEMENT_NODE,lt],[Node.ELEMENT_NODE,function(dn,fn){var On={},Tn=dn.style||{};return Tn.fontStyle&&"italic"===gt(dn).fontStyle&&(On.italic=!0),Tn.fontWeight&&(gt(dn).fontWeight.startsWith("bold")||parseInt(gt(dn).fontWeight)>=700)&&(On.bold=!0),Object.keys(On).length>0&&(fn=Nt(fn,On)),parseFloat(Tn.textIndent||0)>0&&(fn=(new Ne.default).insert("\t").concat(fn)),fn}],["li",function(dn,fn){var On=on.default.query(dn);if(null==On||"list-item"!==On.blotName||!dt(fn,"\n"))return fn;for(var Tn=-1,En=dn.parentNode;!En.classList.contains("ql-clipboard");)"list"===(on.default.query(En)||{}).blotName&&(Tn+=1),En=En.parentNode;return Tn<=0?fn:fn.compose((new Ne.default).retain(fn.length()-1).retain(1,{indent:Tn}))}],["b",Et.bind(Et,"bold")],["i",Et.bind(Et,"italic")],["style",function(){return new Ne.default}]],hi=[be.AlignAttribute,Ke.DirectionAttribute].reduce(function(dn,fn){return dn[fn.keyName]=fn,dn},{}),ur=[be.AlignStyle,_e.BackgroundStyle,Fe.ColorStyle,Ke.DirectionStyle,sn.FontStyle,hn.SizeStyle].reduce(function(dn,fn){return dn[fn.keyName]=fn,dn},{}),Zi=function(dn){function fn(On,Tn){!function(dn,fn){if(!(dn instanceof fn))throw new TypeError("Cannot call a class as a function")}(this,fn);var En=function(dn,fn){if(!dn)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!fn||"object"!=typeof fn&&"function"!=typeof fn?dn:fn}(this,(fn.__proto__||Object.getPrototypeOf(fn)).call(this,On,Tn));return En.quill.root.addEventListener("paste",En.onPaste.bind(En)),En.container=En.quill.addContainer("ql-clipboard"),En.container.setAttribute("contenteditable",!0),En.container.setAttribute("tabindex",-1),En.matchers=[],ui.concat(En.options.matchers).forEach(function(Di){var Oi=Xt(Di,2),br=Oi[1];(Tn.matchVisual||br!==Ut)&&En.addMatcher(Oi[0],br)}),En}return function(dn,fn){if("function"!=typeof fn&&null!==fn)throw new TypeError("Super expression must either be null or a function, not "+typeof fn);dn.prototype=Object.create(fn&&fn.prototype,{constructor:{value:dn,enumerable:!1,writable:!0,configurable:!0}}),fn&&(Object.setPrototypeOf?Object.setPrototypeOf(dn,fn):dn.__proto__=fn)}(fn,dn),vt(fn,[{key:"addMatcher",value:function(On,Tn){this.matchers.push([On,Tn])}},{key:"convert",value:function(On){if("string"==typeof On)return this.container.innerHTML=On.replace(/\>\r?\n +\</g,"><"),this.convert();var Tn=this.quill.getFormat(this.quill.selection.savedRange.index);if(Tn[Jt.default.blotName]){var En=this.container.innerText;return this.container.innerHTML="",(new Ne.default).insert(En,Oe({},Jt.default.blotName,Tn[Jt.default.blotName]))}var Di=this.prepareMatching(),Oi=Xt(Di,2),ji=St(this.container,Oi[0],Oi[1]);return dt(ji,"\n")&&null==ji.ops[ji.ops.length-1].attributes&&(ji=ji.compose((new Ne.default).retain(ji.length()-1).delete(1))),$e.log("convert",this.container.innerHTML,ji),this.container.innerHTML="",ji}},{key:"dangerouslyPasteHTML",value:function(On,Tn){var En=arguments.length>2&&void 0!==arguments[2]?arguments[2]:mt.default.sources.API;if("string"==typeof On)this.quill.setContents(this.convert(On),Tn),this.quill.setSelection(0,mt.default.sources.SILENT);else{var Di=this.convert(Tn);this.quill.updateContents((new Ne.default).retain(On).concat(Di),En),this.quill.setSelection(On+Di.length(),mt.default.sources.SILENT)}}},{key:"onPaste",value:function(On){var Tn=this;if(!On.defaultPrevented&&this.quill.isEnabled()){var En=this.quill.getSelection(),Di=(new Ne.default).retain(En.index),Oi=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(mt.default.sources.SILENT),setTimeout(function(){Di=Di.concat(Tn.convert()).delete(En.length),Tn.quill.updateContents(Di,mt.default.sources.USER),Tn.quill.setSelection(Di.length()-En.length,mt.default.sources.SILENT),Tn.quill.scrollingContainer.scrollTop=Oi,Tn.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var On=this,Tn=[],En=[];return this.matchers.forEach(function(Di){var Oi=Xt(Di,2),Ni=Oi[0],br=Oi[1];switch(Ni){case Node.TEXT_NODE:En.push(br);break;case Node.ELEMENT_NODE:Tn.push(br);break;default:[].forEach.call(On.container.querySelectorAll(Ni),function(ji){ji[ti]=ji[ti]||[],ji[ti].push(br)})}}),[Tn,En]}}]),fn}(ze.default);Zi.DEFAULTS={matchers:[],matchVisual:!0},$t.default=Zi,$t.matchAttributor=lt,$t.matchBlot=_t,$t.matchNewline=It,$t.matchSpacing=Ut,$t.matchText=ie},function(Le,$t,Tt){"use strict";function ee(ot){return ot&&ot.__esModule?ot:{default:ot}}function Nt(ot){var it=ot.reduce(function(Ut,Yt){return Ut+(Yt.delete||0)},0),It=ot.length()-it;return function(ot){var it=ot.ops[ot.ops.length-1];return null!=it&&(null!=it.insert?"string"==typeof it.insert&&it.insert.endsWith("\n"):null!=it.attributes&&Object.keys(it.attributes).some(function(It){return null!=ft.default.query(It,ft.default.Scope.BLOCK)}))}(ot)&&(It-=1),It}Object.defineProperty($t,"__esModule",{value:!0}),$t.getLastChangeIndex=$t.default=void 0;var gt=function(){function ot(it,It){for(var Ut=0;Ut<It.length;Ut++){var Yt=It[Ut];Yt.enumerable=Yt.enumerable||!1,Yt.configurable=!0,"value"in Yt&&(Yt.writable=!0),Object.defineProperty(it,Yt.key,Yt)}}return function(it,It,Ut){return It&&ot(it.prototype,It),Ut&&ot(it,Ut),it}}(),ft=ee(Tt(0)),Et=ee(Tt(6)),xt=function(ot){function it(It,Ut){!function(ot,it){if(!(ot instanceof it))throw new TypeError("Cannot call a class as a function")}(this,it);var Yt=function(ot,it){if(!ot)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!it||"object"!=typeof it&&"function"!=typeof it?ot:it}(this,(it.__proto__||Object.getPrototypeOf(it)).call(this,It,Ut));return Yt.lastRecorded=0,Yt.ignoreChange=!1,Yt.clear(),Yt.quill.on(Et.default.events.EDITOR_CHANGE,function(ie,Pt,Xt,vt){ie!==Et.default.events.TEXT_CHANGE||Yt.ignoreChange||(Yt.options.userOnly&&vt!==Et.default.sources.USER?Yt.transform(Pt):Yt.record(Pt,Xt))}),Yt.quill.keyboard.addBinding({key:"Z",shortKey:!0},Yt.undo.bind(Yt)),Yt.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},Yt.redo.bind(Yt)),/Win/i.test(navigator.platform)&&Yt.quill.keyboard.addBinding({key:"Y",shortKey:!0},Yt.redo.bind(Yt)),Yt}return function(ot,it){if("function"!=typeof it&&null!==it)throw new TypeError("Super expression must either be null or a function, not "+typeof it);ot.prototype=Object.create(it&&it.prototype,{constructor:{value:ot,enumerable:!1,writable:!0,configurable:!0}}),it&&(Object.setPrototypeOf?Object.setPrototypeOf(ot,it):ot.__proto__=it)}(it,ot),gt(it,[{key:"change",value:function(It,Ut){if(0!==this.stack[It].length){var Yt=this.stack[It].pop();this.stack[Ut].push(Yt),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(Yt[It],Et.default.sources.USER),this.ignoreChange=!1;var ie=Nt(Yt[It]);this.quill.setSelection(ie)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(It,Ut){if(0!==It.ops.length){this.stack.redo=[];var Yt=this.quill.getContents().diff(Ut),ie=Date.now();if(this.lastRecorded+this.options.delay>ie&&this.stack.undo.length>0){var Pt=this.stack.undo.pop();Yt=Yt.compose(Pt.undo),It=Pt.redo.compose(It)}else this.lastRecorded=ie;this.stack.undo.push({redo:It,undo:Yt}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(It){this.stack.undo.forEach(function(Ut){Ut.undo=It.transform(Ut.undo,!0),Ut.redo=It.transform(Ut.redo,!0)}),this.stack.redo.forEach(function(Ut){Ut.undo=It.transform(Ut.undo,!0),Ut.redo=It.transform(Ut.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),it}(ee(Tt(7)).default);xt.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1},$t.default=xt,$t.getLastChangeIndex=Nt},function(Le,$t,Tt){"use strict";function ee(St,Et){if(!(St instanceof Et))throw new TypeError("Cannot call a class as a function")}function Oe(St,Et){if(!St)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!Et||"object"!=typeof Et&&"function"!=typeof Et?St:Et}Object.defineProperty($t,"__esModule",{value:!0}),$t.IndentClass=void 0;var St,Wt=function(){function St(Et,lt){for(var _t=0;_t<lt.length;_t++){var xt=lt[_t];xt.enumerable=xt.enumerable||!1,xt.configurable=!0,"value"in xt&&(xt.writable=!0),Object.defineProperty(Et,xt.key,xt)}}return function(Et,lt,_t){return lt&&St(Et.prototype,lt),_t&&St(Et,_t),Et}}(),Ft=function St(Et,lt,_t){null===Et&&(Et=Function.prototype);var xt=Object.getOwnPropertyDescriptor(Et,lt);if(void 0===xt){var ot=Object.getPrototypeOf(Et);return null===ot?void 0:St(ot,lt,_t)}if("value"in xt)return xt.value;var it=xt.get;return void 0!==it?it.call(_t):void 0},gt=(St=Tt(0))&&St.__esModule?St:{default:St},dt=function(St){function Et(){return ee(this,Et),Oe(this,(Et.__proto__||Object.getPrototypeOf(Et)).apply(this,arguments))}return function(St,Et){if("function"!=typeof Et&&null!==Et)throw new TypeError("Super expression must either be null or a function, not "+typeof Et);St.prototype=Object.create(Et&&Et.prototype,{constructor:{value:St,enumerable:!1,writable:!0,configurable:!0}}),Et&&(Object.setPrototypeOf?Object.setPrototypeOf(St,Et):St.__proto__=Et)}(Et,St),Wt(Et,[{key:"add",value:function(lt,_t){if("+1"===_t||"-1"===_t){var xt=this.value(lt)||0;_t="+1"===_t?xt+1:xt-1}return 0===_t?(this.remove(lt),!0):Ft(Et.prototype.__proto__||Object.getPrototypeOf(Et.prototype),"add",this).call(this,lt,_t)}},{key:"canAdd",value:function(lt,_t){return Ft(Et.prototype.__proto__||Object.getPrototypeOf(Et.prototype),"canAdd",this).call(this,lt,_t)||Ft(Et.prototype.__proto__||Object.getPrototypeOf(Et.prototype),"canAdd",this).call(this,lt,parseInt(_t))}},{key:"value",value:function(lt){return parseInt(Ft(Et.prototype.__proto__||Object.getPrototypeOf(Et.prototype),"value",this).call(this,lt))||void 0}}]),Et}(gt.default.Attributor.Class),ft=new dt("indent","ql-indent",{scope:gt.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});$t.IndentClass=ft},function(Le,$t,Tt){"use strict";function ee(gt,dt){if(!(gt instanceof dt))throw new TypeError("Cannot call a class as a function")}function Oe(gt,dt){if(!gt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!dt||"object"!=typeof dt&&"function"!=typeof dt?gt:dt}Object.defineProperty($t,"__esModule",{value:!0});var gt,Nt=function(gt){function dt(){return ee(this,dt),Oe(this,(dt.__proto__||Object.getPrototypeOf(dt)).apply(this,arguments))}return function(gt,dt){if("function"!=typeof dt&&null!==dt)throw new TypeError("Super expression must either be null or a function, not "+typeof dt);gt.prototype=Object.create(dt&&dt.prototype,{constructor:{value:gt,enumerable:!1,writable:!0,configurable:!0}}),dt&&(Object.setPrototypeOf?Object.setPrototypeOf(gt,dt):gt.__proto__=dt)}(dt,gt),dt}(((gt=Tt(3))&&gt.__esModule?gt:{default:gt}).default);Nt.blotName="blockquote",Nt.tagName="blockquote",$t.default=Nt},function(Le,$t,Tt){"use strict";function ee(dt,ft){if(!(dt instanceof ft))throw new TypeError("Cannot call a class as a function")}function Oe(dt,ft){if(!dt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!ft||"object"!=typeof ft&&"function"!=typeof ft?dt:ft}Object.defineProperty($t,"__esModule",{value:!0});var dt,Wt=function(){function dt(ft,St){for(var Et=0;Et<St.length;Et++){var lt=St[Et];lt.enumerable=lt.enumerable||!1,lt.configurable=!0,"value"in lt&&(lt.writable=!0),Object.defineProperty(ft,lt.key,lt)}}return function(ft,St,Et){return St&&dt(ft.prototype,St),Et&&dt(ft,Et),ft}}(),gt=function(dt){function ft(){return ee(this,ft),Oe(this,(ft.__proto__||Object.getPrototypeOf(ft)).apply(this,arguments))}return function(dt,ft){if("function"!=typeof ft&&null!==ft)throw new TypeError("Super expression must either be null or a function, not "+typeof ft);dt.prototype=Object.create(ft&&ft.prototype,{constructor:{value:dt,enumerable:!1,writable:!0,configurable:!0}}),ft&&(Object.setPrototypeOf?Object.setPrototypeOf(dt,ft):dt.__proto__=ft)}(ft,dt),Wt(ft,null,[{key:"formats",value:function(St){return this.tagName.indexOf(St.tagName)+1}}]),ft}(((dt=Tt(3))&&dt.__esModule?dt:{default:dt}).default);gt.blotName="header",gt.tagName=["H1","H2","H3","H4","H5","H6"],$t.default=gt},function(Le,$t,Tt){"use strict";function ee(it){return it&&it.__esModule?it:{default:it}}function ve(it,It){if(!(it instanceof It))throw new TypeError("Cannot call a class as a function")}function Wt(it,It){if(!it)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!It||"object"!=typeof It&&"function"!=typeof It?it:It}function Ft(it,It){if("function"!=typeof It&&null!==It)throw new TypeError("Super expression must either be null or a function, not "+typeof It);it.prototype=Object.create(It&&It.prototype,{constructor:{value:it,enumerable:!1,writable:!0,configurable:!0}}),It&&(Object.setPrototypeOf?Object.setPrototypeOf(it,It):it.__proto__=It)}Object.defineProperty($t,"__esModule",{value:!0}),$t.default=$t.ListItem=void 0;var Nt=function(){function it(It,Ut){for(var Yt=0;Yt<Ut.length;Yt++){var ie=Ut[Yt];ie.enumerable=ie.enumerable||!1,ie.configurable=!0,"value"in ie&&(ie.writable=!0),Object.defineProperty(It,ie.key,ie)}}return function(It,Ut,Yt){return Ut&&it(It.prototype,Ut),Yt&&it(It,Yt),It}}(),gt=function it(It,Ut,Yt){null===It&&(It=Function.prototype);var ie=Object.getOwnPropertyDescriptor(It,Ut);if(void 0===ie){var Pt=Object.getPrototypeOf(It);return null===Pt?void 0:it(Pt,Ut,Yt)}if("value"in ie)return ie.value;var Xt=ie.get;return void 0!==Xt?Xt.call(Yt):void 0},ft=ee(Tt(0)),Et=ee(Tt(3)),_t=ee(Tt(23)),xt=function(it){function It(){return ve(this,It),Wt(this,(It.__proto__||Object.getPrototypeOf(It)).apply(this,arguments))}return Ft(It,it),Nt(It,[{key:"format",value:function(Ut,Yt){Ut!==ot.blotName||Yt?gt(It.prototype.__proto__||Object.getPrototypeOf(It.prototype),"format",this).call(this,Ut,Yt):this.replaceWith(ft.default.create(this.statics.scope))}},{key:"remove",value:function(){null==this.prev&&null==this.next?this.parent.remove():gt(It.prototype.__proto__||Object.getPrototypeOf(It.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(Ut,Yt){return this.parent.isolate(this.offset(this.parent),this.length()),Ut===this.parent.statics.blotName?(this.parent.replaceWith(Ut,Yt),this):(this.parent.unwrap(),gt(It.prototype.__proto__||Object.getPrototypeOf(It.prototype),"replaceWith",this).call(this,Ut,Yt))}}],[{key:"formats",value:function(Ut){return Ut.tagName===this.tagName?void 0:gt(It.__proto__||Object.getPrototypeOf(It),"formats",this).call(this,Ut)}}]),It}(Et.default);xt.blotName="list-item",xt.tagName="LI";var ot=function(it){function It(Ut){ve(this,It);var Yt=Wt(this,(It.__proto__||Object.getPrototypeOf(It)).call(this,Ut)),ie=function(Pt){if(Pt.target.parentNode===Ut){var Xt=Yt.statics.formats(Ut),vt=ft.default.find(Pt.target);"checked"===Xt?vt.format("list","unchecked"):"unchecked"===Xt&&vt.format("list","checked")}};return Ut.addEventListener("touchstart",ie),Ut.addEventListener("mousedown",ie),Yt}return Ft(It,it),Nt(It,null,[{key:"create",value:function(Ut){var Yt="ordered"===Ut?"OL":"UL",ie=gt(It.__proto__||Object.getPrototypeOf(It),"create",this).call(this,Yt);return"checked"!==Ut&&"unchecked"!==Ut||ie.setAttribute("data-checked","checked"===Ut),ie}},{key:"formats",value:function(Ut){return"OL"===Ut.tagName?"ordered":"UL"===Ut.tagName?Ut.hasAttribute("data-checked")?"true"===Ut.getAttribute("data-checked")?"checked":"unchecked":"bullet":void 0}}]),Nt(It,[{key:"format",value:function(Ut,Yt){this.children.length>0&&this.children.tail.format(Ut,Yt)}},{key:"formats",value:function(){return function(it,It,Ut){return It in it?Object.defineProperty(it,It,{value:Ut,enumerable:!0,configurable:!0,writable:!0}):it[It]=Ut,it}({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(Ut,Yt){if(Ut instanceof xt)gt(It.prototype.__proto__||Object.getPrototypeOf(It.prototype),"insertBefore",this).call(this,Ut,Yt);else{var ie=null==Yt?this.length():Yt.offset(this),Pt=this.split(ie);Pt.parent.insertBefore(Ut,Pt)}}},{key:"optimize",value:function(Ut){gt(It.prototype.__proto__||Object.getPrototypeOf(It.prototype),"optimize",this).call(this,Ut);var Yt=this.next;null!=Yt&&Yt.prev===this&&Yt.statics.blotName===this.statics.blotName&&Yt.domNode.tagName===this.domNode.tagName&&Yt.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(Yt.moveChildren(this),Yt.remove())}},{key:"replace",value:function(Ut){if(Ut.statics.blotName!==this.statics.blotName){var Yt=ft.default.create(this.statics.defaultChild);Ut.moveChildren(Yt),this.appendChild(Yt)}gt(It.prototype.__proto__||Object.getPrototypeOf(It.prototype),"replace",this).call(this,Ut)}}]),It}(_t.default);ot.blotName="list",ot.scope=ft.default.Scope.BLOCK_BLOT,ot.tagName=["OL","UL"],ot.defaultChild="list-item",ot.allowedChildren=[xt],$t.ListItem=xt,$t.default=ot},function(Le,$t,Tt){"use strict";function ee(gt,dt){if(!(gt instanceof dt))throw new TypeError("Cannot call a class as a function")}function Oe(gt,dt){if(!gt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!dt||"object"!=typeof dt&&"function"!=typeof dt?gt:dt}Object.defineProperty($t,"__esModule",{value:!0});var gt,Nt=function(gt){function dt(){return ee(this,dt),Oe(this,(dt.__proto__||Object.getPrototypeOf(dt)).apply(this,arguments))}return function(gt,dt){if("function"!=typeof dt&&null!==dt)throw new TypeError("Super expression must either be null or a function, not "+typeof dt);gt.prototype=Object.create(dt&&dt.prototype,{constructor:{value:gt,enumerable:!1,writable:!0,configurable:!0}}),dt&&(Object.setPrototypeOf?Object.setPrototypeOf(gt,dt):gt.__proto__=dt)}(dt,gt),dt}(((gt=Tt(39))&&gt.__esModule?gt:{default:gt}).default);Nt.blotName="italic",Nt.tagName=["EM","I"],$t.default=Nt},function(Le,$t,Tt){"use strict";function ee(ft,St){if(!(ft instanceof St))throw new TypeError("Cannot call a class as a function")}function Oe(ft,St){if(!ft)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!St||"object"!=typeof St&&"function"!=typeof St?ft:St}Object.defineProperty($t,"__esModule",{value:!0});var ft,Wt=function(){function ft(St,Et){for(var lt=0;lt<Et.length;lt++){var _t=Et[lt];_t.enumerable=_t.enumerable||!1,_t.configurable=!0,"value"in _t&&(_t.writable=!0),Object.defineProperty(St,_t.key,_t)}}return function(St,Et,lt){return Et&&ft(St.prototype,Et),lt&&ft(St,lt),St}}(),Ft=function ft(St,Et,lt){null===St&&(St=Function.prototype);var _t=Object.getOwnPropertyDescriptor(St,Et);if(void 0===_t){var xt=Object.getPrototypeOf(St);return null===xt?void 0:ft(xt,Et,lt)}if("value"in _t)return _t.value;var ot=_t.get;return void 0!==ot?ot.call(lt):void 0},dt=function(ft){function St(){return ee(this,St),Oe(this,(St.__proto__||Object.getPrototypeOf(St)).apply(this,arguments))}return function(ft,St){if("function"!=typeof St&&null!==St)throw new TypeError("Super expression must either be null or a function, not "+typeof St);ft.prototype=Object.create(St&&St.prototype,{constructor:{value:ft,enumerable:!1,writable:!0,configurable:!0}}),St&&(Object.setPrototypeOf?Object.setPrototypeOf(ft,St):ft.__proto__=St)}(St,ft),Wt(St,null,[{key:"create",value:function(Et){return"super"===Et?document.createElement("sup"):"sub"===Et?document.createElement("sub"):Ft(St.__proto__||Object.getPrototypeOf(St),"create",this).call(this,Et)}},{key:"formats",value:function(Et){return"SUB"===Et.tagName?"sub":"SUP"===Et.tagName?"super":void 0}}]),St}(((ft=Tt(5))&&ft.__esModule?ft:{default:ft}).default);dt.blotName="script",dt.tagName=["SUB","SUP"],$t.default=dt},function(Le,$t,Tt){"use strict";function ee(gt,dt){if(!(gt instanceof dt))throw new TypeError("Cannot call a class as a function")}function Oe(gt,dt){if(!gt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!dt||"object"!=typeof dt&&"function"!=typeof dt?gt:dt}Object.defineProperty($t,"__esModule",{value:!0});var gt,Nt=function(gt){function dt(){return ee(this,dt),Oe(this,(dt.__proto__||Object.getPrototypeOf(dt)).apply(this,arguments))}return function(gt,dt){if("function"!=typeof dt&&null!==dt)throw new TypeError("Super expression must either be null or a function, not "+typeof dt);gt.prototype=Object.create(dt&&dt.prototype,{constructor:{value:gt,enumerable:!1,writable:!0,configurable:!0}}),dt&&(Object.setPrototypeOf?Object.setPrototypeOf(gt,dt):gt.__proto__=dt)}(dt,gt),dt}(((gt=Tt(5))&&gt.__esModule?gt:{default:gt}).default);Nt.blotName="strike",Nt.tagName="S",$t.default=Nt},function(Le,$t,Tt){"use strict";function ee(gt,dt){if(!(gt instanceof dt))throw new TypeError("Cannot call a class as a function")}function Oe(gt,dt){if(!gt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!dt||"object"!=typeof dt&&"function"!=typeof dt?gt:dt}Object.defineProperty($t,"__esModule",{value:!0});var gt,Nt=function(gt){function dt(){return ee(this,dt),Oe(this,(dt.__proto__||Object.getPrototypeOf(dt)).apply(this,arguments))}return function(gt,dt){if("function"!=typeof dt&&null!==dt)throw new TypeError("Super expression must either be null or a function, not "+typeof dt);gt.prototype=Object.create(dt&&dt.prototype,{constructor:{value:gt,enumerable:!1,writable:!0,configurable:!0}}),dt&&(Object.setPrototypeOf?Object.setPrototypeOf(gt,dt):gt.__proto__=dt)}(dt,gt),dt}(((gt=Tt(5))&&gt.__esModule?gt:{default:gt}).default);Nt.blotName="underline",Nt.tagName="U",$t.default=Nt},function(Le,$t,Tt){"use strict";function ee(Et,lt){if(!(Et instanceof lt))throw new TypeError("Cannot call a class as a function")}function Oe(Et,lt){if(!Et)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!lt||"object"!=typeof lt&&"function"!=typeof lt?Et:lt}Object.defineProperty($t,"__esModule",{value:!0});var Et,Wt=function(){function Et(lt,_t){for(var xt=0;xt<_t.length;xt++){var ot=_t[xt];ot.enumerable=ot.enumerable||!1,ot.configurable=!0,"value"in ot&&(ot.writable=!0),Object.defineProperty(lt,ot.key,ot)}}return function(lt,_t,xt){return _t&&Et(lt.prototype,_t),xt&&Et(lt,xt),lt}}(),Ft=function Et(lt,_t,xt){null===lt&&(lt=Function.prototype);var ot=Object.getOwnPropertyDescriptor(lt,_t);if(void 0===ot){var it=Object.getPrototypeOf(lt);return null===it?void 0:Et(it,_t,xt)}if("value"in ot)return ot.value;var It=ot.get;return void 0!==It?It.call(xt):void 0},gt=(Et=Tt(0))&&Et.__esModule?Et:{default:Et},dt=Tt(15),ft=["alt","height","width"],St=function(Et){function lt(){return ee(this,lt),Oe(this,(lt.__proto__||Object.getPrototypeOf(lt)).apply(this,arguments))}return function(Et,lt){if("function"!=typeof lt&&null!==lt)throw new TypeError("Super expression must either be null or a function, not "+typeof lt);Et.prototype=Object.create(lt&&lt.prototype,{constructor:{value:Et,enumerable:!1,writable:!0,configurable:!0}}),lt&&(Object.setPrototypeOf?Object.setPrototypeOf(Et,lt):Et.__proto__=lt)}(lt,Et),Wt(lt,[{key:"format",value:function(_t,xt){ft.indexOf(_t)>-1?xt?this.domNode.setAttribute(_t,xt):this.domNode.removeAttribute(_t):Ft(lt.prototype.__proto__||Object.getPrototypeOf(lt.prototype),"format",this).call(this,_t,xt)}}],[{key:"create",value:function(_t){var xt=Ft(lt.__proto__||Object.getPrototypeOf(lt),"create",this).call(this,_t);return"string"==typeof _t&&xt.setAttribute("src",this.sanitize(_t)),xt}},{key:"formats",value:function(_t){return ft.reduce(function(xt,ot){return _t.hasAttribute(ot)&&(xt[ot]=_t.getAttribute(ot)),xt},{})}},{key:"match",value:function(_t){return/\.(jpe?g|gif|png)$/.test(_t)||/^data:image\/.+;base64/.test(_t)}},{key:"sanitize",value:function(_t){return(0,dt.sanitize)(_t,["http","https","data"])?_t:"//:0"}},{key:"value",value:function(_t){return _t.getAttribute("src")}}]),lt}(gt.default.Embed);St.blotName="image",St.tagName="IMG",$t.default=St},function(Le,$t,Tt){"use strict";function ee(Et,lt){if(!(Et instanceof lt))throw new TypeError("Cannot call a class as a function")}function Oe(Et,lt){if(!Et)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!lt||"object"!=typeof lt&&"function"!=typeof lt?Et:lt}Object.defineProperty($t,"__esModule",{value:!0});var Et,Wt=function(){function Et(lt,_t){for(var xt=0;xt<_t.length;xt++){var ot=_t[xt];ot.enumerable=ot.enumerable||!1,ot.configurable=!0,"value"in ot&&(ot.writable=!0),Object.defineProperty(lt,ot.key,ot)}}return function(lt,_t,xt){return _t&&Et(lt.prototype,_t),xt&&Et(lt,xt),lt}}(),Ft=function Et(lt,_t,xt){null===lt&&(lt=Function.prototype);var ot=Object.getOwnPropertyDescriptor(lt,_t);if(void 0===ot){var it=Object.getPrototypeOf(lt);return null===it?void 0:Et(it,_t,xt)}if("value"in ot)return ot.value;var It=ot.get;return void 0!==It?It.call(xt):void 0},Nt=Tt(3),dt=(Et=Tt(15))&&Et.__esModule?Et:{default:Et},ft=["height","width"],St=function(Et){function lt(){return ee(this,lt),Oe(this,(lt.__proto__||Object.getPrototypeOf(lt)).apply(this,arguments))}return function(Et,lt){if("function"!=typeof lt&&null!==lt)throw new TypeError("Super expression must either be null or a function, not "+typeof lt);Et.prototype=Object.create(lt&&lt.prototype,{constructor:{value:Et,enumerable:!1,writable:!0,configurable:!0}}),lt&&(Object.setPrototypeOf?Object.setPrototypeOf(Et,lt):Et.__proto__=lt)}(lt,Et),Wt(lt,[{key:"format",value:function(_t,xt){ft.indexOf(_t)>-1?xt?this.domNode.setAttribute(_t,xt):this.domNode.removeAttribute(_t):Ft(lt.prototype.__proto__||Object.getPrototypeOf(lt.prototype),"format",this).call(this,_t,xt)}}],[{key:"create",value:function(_t){var xt=Ft(lt.__proto__||Object.getPrototypeOf(lt),"create",this).call(this,_t);return xt.setAttribute("frameborder","0"),xt.setAttribute("allowfullscreen",!0),xt.setAttribute("src",this.sanitize(_t)),xt}},{key:"formats",value:function(_t){return ft.reduce(function(xt,ot){return _t.hasAttribute(ot)&&(xt[ot]=_t.getAttribute(ot)),xt},{})}},{key:"sanitize",value:function(_t){return dt.default.sanitize(_t)}},{key:"value",value:function(_t){return _t.getAttribute("src")}}]),lt}(Nt.BlockEmbed);St.blotName="video",St.className="ql-video",St.tagName="IFRAME",$t.default=St},function(Le,$t,Tt){"use strict";function ee(ot){return ot&&ot.__esModule?ot:{default:ot}}function Oe(ot,it){if(!(ot instanceof it))throw new TypeError("Cannot call a class as a function")}function ve(ot,it){if(!ot)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!it||"object"!=typeof it&&"function"!=typeof it?ot:it}function Wt(ot,it){if("function"!=typeof it&&null!==it)throw new TypeError("Super expression must either be null or a function, not "+typeof it);ot.prototype=Object.create(it&&it.prototype,{constructor:{value:ot,enumerable:!1,writable:!0,configurable:!0}}),it&&(Object.setPrototypeOf?Object.setPrototypeOf(ot,it):ot.__proto__=it)}Object.defineProperty($t,"__esModule",{value:!0}),$t.default=$t.FormulaBlot=void 0;var Ft=function(){function ot(it,It){for(var Ut=0;Ut<It.length;Ut++){var Yt=It[Ut];Yt.enumerable=Yt.enumerable||!1,Yt.configurable=!0,"value"in Yt&&(Yt.writable=!0),Object.defineProperty(it,Yt.key,Yt)}}return function(it,It,Ut){return It&&ot(it.prototype,It),Ut&&ot(it,Ut),it}}(),Nt=function ot(it,It,Ut){null===it&&(it=Function.prototype);var Yt=Object.getOwnPropertyDescriptor(it,It);if(void 0===Yt){var ie=Object.getPrototypeOf(it);return null===ie?void 0:ot(ie,It,Ut)}if("value"in Yt)return Yt.value;var Pt=Yt.get;return void 0!==Pt?Pt.call(Ut):void 0},dt=ee(Tt(33)),St=ee(Tt(6)),lt=ee(Tt(7)),_t=function(ot){function it(){return Oe(this,it),ve(this,(it.__proto__||Object.getPrototypeOf(it)).apply(this,arguments))}return Wt(it,ot),Ft(it,null,[{key:"create",value:function(It){var Ut=Nt(it.__proto__||Object.getPrototypeOf(it),"create",this).call(this,It);return"string"==typeof It&&(window.katex.render(It,Ut,{throwOnError:!1,errorColor:"#f00"}),Ut.setAttribute("data-value",It)),Ut}},{key:"value",value:function(It){return It.getAttribute("data-value")}}]),it}(dt.default);_t.blotName="formula",_t.className="ql-formula",_t.tagName="SPAN";var xt=function(ot){function it(){Oe(this,it);var It=ve(this,(it.__proto__||Object.getPrototypeOf(it)).call(this));if(null==window.katex)throw new Error("Formula module requires KaTeX.");return It}return Wt(it,ot),Ft(it,null,[{key:"register",value:function(){St.default.register(_t,!0)}}]),it}(lt.default);$t.FormulaBlot=_t,$t.default=xt},function(Le,$t,Tt){"use strict";function ee(Ut){return Ut&&Ut.__esModule?Ut:{default:Ut}}function Oe(Ut,Yt){if(!(Ut instanceof Yt))throw new TypeError("Cannot call a class as a function")}function ve(Ut,Yt){if(!Ut)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!Yt||"object"!=typeof Yt&&"function"!=typeof Yt?Ut:Yt}function Wt(Ut,Yt){if("function"!=typeof Yt&&null!==Yt)throw new TypeError("Super expression must either be null or a function, not "+typeof Yt);Ut.prototype=Object.create(Yt&&Yt.prototype,{constructor:{value:Ut,enumerable:!1,writable:!0,configurable:!0}}),Yt&&(Object.setPrototypeOf?Object.setPrototypeOf(Ut,Yt):Ut.__proto__=Yt)}Object.defineProperty($t,"__esModule",{value:!0}),$t.default=$t.CodeToken=$t.CodeBlock=void 0;var Ft=function(){function Ut(Yt,ie){for(var Pt=0;Pt<ie.length;Pt++){var Xt=ie[Pt];Xt.enumerable=Xt.enumerable||!1,Xt.configurable=!0,"value"in Xt&&(Xt.writable=!0),Object.defineProperty(Yt,Xt.key,Xt)}}return function(Yt,ie,Pt){return ie&&Ut(Yt.prototype,ie),Pt&&Ut(Yt,Pt),Yt}}(),Nt=function Ut(Yt,ie,Pt){null===Yt&&(Yt=Function.prototype);var Xt=Object.getOwnPropertyDescriptor(Yt,ie);if(void 0===Xt){var vt=Object.getPrototypeOf(Yt);return null===vt?void 0:Ut(vt,ie,Pt)}if("value"in Xt)return Xt.value;var Dt=Xt.get;return void 0!==Dt?Dt.call(Pt):void 0},dt=ee(Tt(0)),St=ee(Tt(6)),lt=ee(Tt(7)),ot=function(Ut){function Yt(){return Oe(this,Yt),ve(this,(Yt.__proto__||Object.getPrototypeOf(Yt)).apply(this,arguments))}return Wt(Yt,Ut),Ft(Yt,[{key:"replaceWith",value:function(ie){this.domNode.textContent=this.domNode.textContent,this.attach(),Nt(Yt.prototype.__proto__||Object.getPrototypeOf(Yt.prototype),"replaceWith",this).call(this,ie)}},{key:"highlight",value:function(ie){var Pt=this.domNode.textContent;this.cachedText!==Pt&&((Pt.trim().length>0||null==this.cachedText)&&(this.domNode.innerHTML=ie(Pt),this.domNode.normalize(),this.attach()),this.cachedText=Pt)}}]),Yt}(ee(Tt(13)).default);ot.className="ql-syntax";var it=new dt.default.Attributor.Class("token","hljs",{scope:dt.default.Scope.INLINE}),It=function(Ut){function Yt(ie,Pt){Oe(this,Yt);var Xt=ve(this,(Yt.__proto__||Object.getPrototypeOf(Yt)).call(this,ie,Pt));if("function"!=typeof Xt.options.highlight)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var vt=null;return Xt.quill.on(St.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(vt),vt=setTimeout(function(){Xt.highlight(),vt=null},Xt.options.interval)}),Xt.highlight(),Xt}return Wt(Yt,Ut),Ft(Yt,null,[{key:"register",value:function(){St.default.register(it,!0),St.default.register(ot,!0)}}]),Ft(Yt,[{key:"highlight",value:function(){var ie=this;if(!this.quill.selection.composing){this.quill.update(St.default.sources.USER);var Pt=this.quill.getSelection();this.quill.scroll.descendants(ot).forEach(function(Xt){Xt.highlight(ie.options.highlight)}),this.quill.update(St.default.sources.SILENT),null!=Pt&&this.quill.setSelection(Pt,St.default.sources.SILENT)}}}]),Yt}(lt.default);It.DEFAULTS={highlight:null==window.hljs?null:function(Ut){return window.hljs.highlightAuto(Ut).value},interval:1e3},$t.CodeBlock=ot,$t.CodeToken=it,$t.default=It},function(Le,$t,Tt){"use strict";function ee(vt){return vt&&vt.__esModule?vt:{default:vt}}function Wt(vt,Dt){if(!vt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!Dt||"object"!=typeof Dt&&"function"!=typeof Dt?vt:Dt}function Nt(vt,Dt,se){var Pe=document.createElement("button");Pe.setAttribute("type","button"),Pe.classList.add("ql-"+Dt),null!=se&&(Pe.value=se),vt.appendChild(Pe)}function gt(vt,Dt){Array.isArray(Dt[0])||(Dt=[Dt]),Dt.forEach(function(se){var Pe=document.createElement("span");Pe.classList.add("ql-formats"),se.forEach(function(Ne){if("string"==typeof Ne)Nt(Pe,Ne);else{var tn=Object.keys(Ne)[0],on=Ne[tn];Array.isArray(on)?function(vt,Dt,se){var Pe=document.createElement("select");Pe.classList.add("ql-"+Dt),se.forEach(function(Ne){var tn=document.createElement("option");!1!==Ne?tn.setAttribute("value",Ne):tn.setAttribute("selected","selected"),Pe.appendChild(tn)}),vt.appendChild(Pe)}(Pe,tn,on):Nt(Pe,tn,on)}}),vt.appendChild(Pe)})}Object.defineProperty($t,"__esModule",{value:!0}),$t.addControls=$t.default=void 0;var ft=function(Dt,se){if(Array.isArray(Dt))return Dt;if(Symbol.iterator in Object(Dt))return function(Dt,se){var Pe=[],Ne=!0,tn=!1,on=void 0;try{for(var an,mt=Dt[Symbol.iterator]();!(Ne=(an=mt.next()).done)&&(Pe.push(an.value),!se||Pe.length!==se);Ne=!0);}catch(zt){tn=!0,on=zt}finally{try{!Ne&&mt.return&&mt.return()}finally{if(tn)throw on}}return Pe}(Dt,se);throw new TypeError("Invalid attempt to destructure non-iterable instance")},St=function(){function vt(Dt,se){for(var Pe=0;Pe<se.length;Pe++){var Ne=se[Pe];Ne.enumerable=Ne.enumerable||!1,Ne.configurable=!0,"value"in Ne&&(Ne.writable=!0),Object.defineProperty(Dt,Ne.key,Ne)}}return function(Dt,se,Pe){return se&&vt(Dt.prototype,se),Pe&&vt(Dt,Pe),Dt}}(),lt=ee(Tt(4)),xt=ee(Tt(0)),it=ee(Tt(6)),Ut=ee(Tt(10)),ie=ee(Tt(7)),Pt=(0,Ut.default)("quill:toolbar"),Xt=function(vt){function Dt(se,Pe){!function(vt,Dt){if(!(vt instanceof Dt))throw new TypeError("Cannot call a class as a function")}(this,Dt);var on,Ne=Wt(this,(Dt.__proto__||Object.getPrototypeOf(Dt)).call(this,se,Pe));if(Array.isArray(Ne.options.container)){var tn=document.createElement("div");gt(tn,Ne.options.container),se.container.parentNode.insertBefore(tn,se.container),Ne.container=tn}else Ne.container="string"==typeof Ne.options.container?document.querySelector(Ne.options.container):Ne.options.container;return Ne.container instanceof HTMLElement?(Ne.container.classList.add("ql-toolbar"),Ne.controls=[],Ne.handlers={},Object.keys(Ne.options.handlers).forEach(function(an){Ne.addHandler(an,Ne.options.handlers[an])}),[].forEach.call(Ne.container.querySelectorAll("button, select"),function(an){Ne.attach(an)}),Ne.quill.on(it.default.events.EDITOR_CHANGE,function(an,mt){an===it.default.events.SELECTION_CHANGE&&Ne.update(mt)}),Ne.quill.on(it.default.events.SCROLL_OPTIMIZE,function(){var an=Ne.quill.selection.getRange(),mt=ft(an,1);Ne.update(mt[0])}),Ne):(on=Pt.error("Container required for toolbar",Ne.options),Wt(Ne,on))}return function(vt,Dt){if("function"!=typeof Dt&&null!==Dt)throw new TypeError("Super expression must either be null or a function, not "+typeof Dt);vt.prototype=Object.create(Dt&&Dt.prototype,{constructor:{value:vt,enumerable:!1,writable:!0,configurable:!0}}),Dt&&(Object.setPrototypeOf?Object.setPrototypeOf(vt,Dt):vt.__proto__=Dt)}(Dt,vt),St(Dt,[{key:"addHandler",value:function(se,Pe){this.handlers[se]=Pe}},{key:"attach",value:function(se){var Pe=this,Ne=[].find.call(se.classList,function(on){return 0===on.indexOf("ql-")});if(Ne){if(Ne=Ne.slice("ql-".length),"BUTTON"===se.tagName&&se.setAttribute("type","button"),null==this.handlers[Ne]){if(null!=this.quill.scroll.whitelist&&null==this.quill.scroll.whitelist[Ne])return void Pt.warn("ignoring attaching to disabled format",Ne,se);if(null==xt.default.query(Ne))return void Pt.warn("ignoring attaching to nonexistent format",Ne,se)}se.addEventListener("SELECT"===se.tagName?"change":"click",function(on){var an=void 0;if("SELECT"===se.tagName){if(se.selectedIndex<0)return;var mt=se.options[se.selectedIndex];an=!mt.hasAttribute("selected")&&(mt.value||!1)}else an=!se.classList.contains("ql-active")&&(se.value||!se.hasAttribute("value")),on.preventDefault();Pe.quill.focus();var zt=Pe.quill.selection.getRange(),Ae=ft(zt,1)[0];if(null!=Pe.handlers[Ne])Pe.handlers[Ne].call(Pe,an);else if(xt.default.query(Ne).prototype instanceof xt.default.Embed){if(!(an=prompt("Enter "+Ne)))return;Pe.quill.updateContents((new lt.default).retain(Ae.index).delete(Ae.length).insert(function(vt,Dt,se){return Dt in vt?Object.defineProperty(vt,Dt,{value:se,enumerable:!0,configurable:!0,writable:!0}):vt[Dt]=se,vt}({},Ne,an)),it.default.sources.USER)}else Pe.quill.format(Ne,an,it.default.sources.USER);Pe.update(Ae)}),this.controls.push([Ne,se])}}},{key:"update",value:function(se){var Pe=null==se?{}:this.quill.getFormat(se);this.controls.forEach(function(Ne){var tn=ft(Ne,2),on=tn[0],an=tn[1];if("SELECT"===an.tagName){var mt=void 0;if(null==se)mt=null;else if(null==Pe[on])mt=an.querySelector("option[selected]");else if(!Array.isArray(Pe[on])){var zt=Pe[on];"string"==typeof zt&&(zt=zt.replace(/\"/g,'\\"')),mt=an.querySelector('option[value="'+zt+'"]')}null==mt?(an.value="",an.selectedIndex=-1):mt.selected=!0}else if(null==se)an.classList.remove("ql-active");else if(an.hasAttribute("value")){var oe=Pe[on]===an.getAttribute("value")||null!=Pe[on]&&Pe[on].toString()===an.getAttribute("value")||null==Pe[on]&&!an.getAttribute("value");an.classList.toggle("ql-active",oe)}else an.classList.toggle("ql-active",null!=Pe[on])})}}]),Dt}(ie.default);Xt.DEFAULTS={},Xt.DEFAULTS={container:null,handlers:{clean:function(){var vt=this,Dt=this.quill.getSelection();if(null!=Dt)if(0==Dt.length){var se=this.quill.getFormat();Object.keys(se).forEach(function(Pe){null!=xt.default.query(Pe,xt.default.Scope.INLINE)&&vt.quill.format(Pe,!1)})}else this.quill.removeFormat(Dt,it.default.sources.USER)},direction:function(vt){var Dt=this.quill.getFormat().align;"rtl"===vt&&null==Dt?this.quill.format("align","right",it.default.sources.USER):vt||"right"!==Dt||this.quill.format("align",!1,it.default.sources.USER),this.quill.format("direction",vt,it.default.sources.USER)},indent:function(vt){var Dt=this.quill.getSelection(),se=this.quill.getFormat(Dt),Pe=parseInt(se.indent||0);if("+1"===vt||"-1"===vt){var Ne="+1"===vt?1:-1;"rtl"===se.direction&&(Ne*=-1),this.quill.format("indent",Pe+Ne,it.default.sources.USER)}},link:function(vt){!0===vt&&(vt=prompt("Enter link URL:")),this.quill.format("link",vt,it.default.sources.USER)},list:function(vt){var Dt=this.quill.getSelection(),se=this.quill.getFormat(Dt);this.quill.format("list","check"===vt?"checked"!==se.list&&"unchecked"!==se.list&&"unchecked":vt,it.default.sources.USER)}}},$t.default=Xt,$t.addControls=gt},function(Le,$t){Le.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(Le,$t){Le.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(Le,$t){Le.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(Le,$t){Le.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(Le,$t){Le.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(Le,$t){Le.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(Le,$t){Le.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(Le,$t){Le.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(Le,$t){Le.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(Le,$t){Le.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(Le,$t){Le.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(Le,$t){Le.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(Le,$t){Le.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(Le,$t){Le.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(Le,$t){Le.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(Le,$t){Le.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(Le,$t){Le.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(Le,$t){Le.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(Le,$t){Le.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(Le,$t){Le.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(Le,$t){Le.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(Le,$t){Le.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(Le,$t){Le.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(Le,$t){Le.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(Le,$t){Le.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(Le,$t){Le.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(Le,$t){Le.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(Le,$t){Le.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(Le,$t){Le.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(Le,$t){Le.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(Le,$t){Le.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(Le,$t){Le.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(Le,$t,Tt){"use strict";function ee(Yt){return Yt&&Yt.__esModule?Yt:{default:Yt}}function Oe(Yt,ie){if(!(Yt instanceof ie))throw new TypeError("Cannot call a class as a function")}function ve(Yt,ie){if(!Yt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!ie||"object"!=typeof ie&&"function"!=typeof ie?Yt:ie}function Wt(Yt,ie){if("function"!=typeof ie&&null!==ie)throw new TypeError("Super expression must either be null or a function, not "+typeof ie);Yt.prototype=Object.create(ie&&ie.prototype,{constructor:{value:Yt,enumerable:!1,writable:!0,configurable:!0}}),ie&&(Object.setPrototypeOf?Object.setPrototypeOf(Yt,ie):Yt.__proto__=ie)}Object.defineProperty($t,"__esModule",{value:!0}),$t.default=$t.BubbleTooltip=void 0;var Ft=function Yt(ie,Pt,Xt){null===ie&&(ie=Function.prototype);var vt=Object.getOwnPropertyDescriptor(ie,Pt);if(void 0===vt){var Dt=Object.getPrototypeOf(ie);return null===Dt?void 0:Yt(Dt,Pt,Xt)}if("value"in vt)return vt.value;var se=vt.get;return void 0!==se?se.call(Xt):void 0},Nt=function(){function Yt(ie,Pt){for(var Xt=0;Xt<Pt.length;Xt++){var vt=Pt[Xt];vt.enumerable=vt.enumerable||!1,vt.configurable=!0,"value"in vt&&(vt.writable=!0),Object.defineProperty(ie,vt.key,vt)}}return function(ie,Pt,Xt){return Pt&&Yt(ie.prototype,Pt),Xt&&Yt(ie,Xt),ie}}(),dt=ee(Tt(2)),St=ee(Tt(9)),Et=Tt(44),lt=ee(Et),_t=Tt(22),ot=ee(Tt(26)),it=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],It=function(Yt){function ie(Pt,Xt){Oe(this,ie),null!=Xt.modules.toolbar&&null==Xt.modules.toolbar.container&&(Xt.modules.toolbar.container=it);var vt=ve(this,(ie.__proto__||Object.getPrototypeOf(ie)).call(this,Pt,Xt));return vt.quill.container.classList.add("ql-bubble"),vt}return Wt(ie,Yt),Nt(ie,[{key:"extendToolbar",value:function(Pt){this.tooltip=new Ut(this.quill,this.options.bounds),this.tooltip.root.appendChild(Pt.container),this.buildButtons([].slice.call(Pt.container.querySelectorAll("button")),ot.default),this.buildPickers([].slice.call(Pt.container.querySelectorAll("select")),ot.default)}}]),ie}(lt.default);It.DEFAULTS=(0,dt.default)(!0,{},lt.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(Yt){Yt?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var Ut=function(Yt){function ie(Pt,Xt){Oe(this,ie);var vt=ve(this,(ie.__proto__||Object.getPrototypeOf(ie)).call(this,Pt,Xt));return vt.quill.on(St.default.events.EDITOR_CHANGE,function(Dt,se,Pe,Ne){if(Dt===St.default.events.SELECTION_CHANGE)if(null!=se&&se.length>0&&Ne===St.default.sources.USER){vt.show(),vt.root.style.left="0px",vt.root.style.width="",vt.root.style.width=vt.root.offsetWidth+"px";var tn=vt.quill.getLines(se.index,se.length);if(1===tn.length)vt.position(vt.quill.getBounds(se));else{var on=tn[tn.length-1],an=vt.quill.getIndex(on),mt=Math.min(on.length()-1,se.index+se.length-an),zt=vt.quill.getBounds(new _t.Range(an,mt));vt.position(zt)}}else document.activeElement!==vt.textbox&&vt.quill.hasFocus()&&vt.hide()}),vt}return Wt(ie,Yt),Nt(ie,[{key:"listen",value:function(){var Pt=this;Ft(ie.prototype.__proto__||Object.getPrototypeOf(ie.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){Pt.root.classList.remove("ql-editing")}),this.quill.on(St.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!Pt.root.classList.contains("ql-hidden")){var Xt=Pt.quill.getSelection();null!=Xt&&Pt.position(Pt.quill.getBounds(Xt))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(Pt){var Xt=Ft(ie.prototype.__proto__||Object.getPrototypeOf(ie.prototype),"position",this).call(this,Pt),vt=this.root.querySelector(".ql-tooltip-arrow");if(vt.style.marginLeft="",0===Xt)return Xt;vt.style.marginLeft=-1*Xt-vt.offsetWidth/2+"px"}}]),ie}(Et.BaseTooltip);Ut.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),$t.BubbleTooltip=Ut,$t.default=It},function(Le,$t,Tt){"use strict";function ee(Xt){return Xt&&Xt.__esModule?Xt:{default:Xt}}function Oe(Xt,vt){if(!(Xt instanceof vt))throw new TypeError("Cannot call a class as a function")}function ve(Xt,vt){if(!Xt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!vt||"object"!=typeof vt&&"function"!=typeof vt?Xt:vt}function Wt(Xt,vt){if("function"!=typeof vt&&null!==vt)throw new TypeError("Super expression must either be null or a function, not "+typeof vt);Xt.prototype=Object.create(vt&&vt.prototype,{constructor:{value:Xt,enumerable:!1,writable:!0,configurable:!0}}),vt&&(Object.setPrototypeOf?Object.setPrototypeOf(Xt,vt):Xt.__proto__=vt)}Object.defineProperty($t,"__esModule",{value:!0});var Nt=function Xt(vt,Dt,se){null===vt&&(vt=Function.prototype);var Pe=Object.getOwnPropertyDescriptor(vt,Dt);if(void 0===Pe){var Ne=Object.getPrototypeOf(vt);return null===Ne?void 0:Xt(Ne,Dt,se)}if("value"in Pe)return Pe.value;var tn=Pe.get;return void 0!==tn?tn.call(se):void 0},gt=function(){function Xt(vt,Dt){for(var se=0;se<Dt.length;se++){var Pe=Dt[se];Pe.enumerable=Pe.enumerable||!1,Pe.configurable=!0,"value"in Pe&&(Pe.writable=!0),Object.defineProperty(vt,Pe.key,Pe)}}return function(vt,Dt,se){return Dt&&Xt(vt.prototype,Dt),se&&Xt(vt,se),vt}}(),ft=ee(Tt(2)),Et=ee(Tt(9)),lt=Tt(44),_t=ee(lt),ot=ee(Tt(15)),it=Tt(22),Ut=ee(Tt(26)),Yt=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],ie=function(Xt){function vt(Dt,se){Oe(this,vt),null!=se.modules.toolbar&&null==se.modules.toolbar.container&&(se.modules.toolbar.container=Yt);var Pe=ve(this,(vt.__proto__||Object.getPrototypeOf(vt)).call(this,Dt,se));return Pe.quill.container.classList.add("ql-snow"),Pe}return Wt(vt,Xt),gt(vt,[{key:"extendToolbar",value:function(Dt){Dt.container.classList.add("ql-snow"),this.buildButtons([].slice.call(Dt.container.querySelectorAll("button")),Ut.default),this.buildPickers([].slice.call(Dt.container.querySelectorAll("select")),Ut.default),this.tooltip=new Pt(this.quill,this.options.bounds),Dt.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(se,Pe){Dt.handlers.link.call(Dt,!Pe.format.link)})}}]),vt}(_t.default);ie.DEFAULTS=(0,ft.default)(!0,{},_t.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(Xt){if(Xt){var vt=this.quill.getSelection();if(null==vt||0==vt.length)return;var Dt=this.quill.getText(vt);/^\S+@\S+\.\S+$/.test(Dt)&&0!==Dt.indexOf("mailto:")&&(Dt="mailto:"+Dt),this.quill.theme.tooltip.edit("link",Dt)}else this.quill.format("link",!1)}}}}});var Pt=function(Xt){function vt(Dt,se){Oe(this,vt);var Pe=ve(this,(vt.__proto__||Object.getPrototypeOf(vt)).call(this,Dt,se));return Pe.preview=Pe.root.querySelector("a.ql-preview"),Pe}return Wt(vt,Xt),gt(vt,[{key:"listen",value:function(){var Dt=this;Nt(vt.prototype.__proto__||Object.getPrototypeOf(vt.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(se){Dt.root.classList.contains("ql-editing")?Dt.save():Dt.edit("link",Dt.preview.textContent),se.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(se){if(null!=Dt.linkRange){var Pe=Dt.linkRange;Dt.restoreFocus(),Dt.quill.formatText(Pe,"link",!1,Et.default.sources.USER),delete Dt.linkRange}se.preventDefault(),Dt.hide()}),this.quill.on(Et.default.events.SELECTION_CHANGE,function(se,Pe,Ne){if(null!=se){if(0===se.length&&Ne===Et.default.sources.USER){var on=function(vt,Dt){if(Array.isArray(vt))return vt;if(Symbol.iterator in Object(vt))return function(vt,Dt){var se=[],Pe=!0,Ne=!1,tn=void 0;try{for(var on,an=vt[Symbol.iterator]();!(Pe=(on=an.next()).done)&&(se.push(on.value),!Dt||se.length!==Dt);Pe=!0);}catch(mt){Ne=!0,tn=mt}finally{try{!Pe&&an.return&&an.return()}finally{if(Ne)throw tn}}return se}(vt,Dt);throw new TypeError("Invalid attempt to destructure non-iterable instance")}(Dt.quill.scroll.descendant(ot.default,se.index),2),an=on[0];if(null!=an){Dt.linkRange=new it.Range(se.index-on[1],an.length());var zt=ot.default.formats(an.domNode);return Dt.preview.textContent=zt,Dt.preview.setAttribute("href",zt),Dt.show(),void Dt.position(Dt.quill.getBounds(Dt.linkRange))}}else delete Dt.linkRange;Dt.hide()}})}},{key:"show",value:function(){Nt(vt.prototype.__proto__||Object.getPrototypeOf(vt.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),vt}(lt.BaseTooltip);Pt.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),$t.default=ie}]).default}),function(Le){"object"==typeof exports&&"undefined"!=typeof module?module.exports=Le():"function"==typeof define&&define.amd?define([],Le):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).simpleDatatables=Le()}(function(){return function ee(Oe,ve,Wt){function Ft(dt,ft){if(!ve[dt]){if(!Oe[dt]){var St="function"==typeof require&&require;if(!ft&&St)return St(dt,!0);if(Nt)return Nt(dt,!0);var Et=new Error("Cannot find module '"+dt+"'");throw Et.code="MODULE_NOT_FOUND",Et}var lt=ve[dt]={exports:{}};Oe[dt][0].call(lt.exports,function(_t){return Ft(Oe[dt][1][_t]||_t)},lt,lt.exports,ee,Oe,ve,Wt)}return ve[dt].exports}for(var Nt="function"==typeof require&&require,gt=0;gt<Wt.length;gt++)Ft(Wt[gt]);return Ft}({1:[function(ee,Oe,ve){(function(Wt){(function(){"use strict";function Ft(dt,ft){return dt(ft={exports:{}},ft.exports),ft.exports}var Nt=Ft(function(dt,ft){dt.exports=function(){var _t="millisecond",xt="second",ot="minute",it="hour",It="day",Ut="week",Yt="month",ie="quarter",Pt="year",Xt="date",vt="Invalid Date",Dt=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,se=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,Pe={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},Ne=function(_e,de,Jt){var Fe=String(_e);return!Fe||Fe.length>=de?_e:""+Array(de+1-Fe.length).join(Jt)+_e},tn={s:Ne,z:function(_e){var de=-_e.utcOffset(),Jt=Math.abs(de),Fe=Math.floor(Jt/60),Ke=Jt%60;return(de<=0?"+":"-")+Ne(Fe,2,"0")+":"+Ne(Ke,2,"0")},m:function _e(de,Jt){if(de.date()<Jt.date())return-_e(Jt,de);var Fe=12*(Jt.year()-de.year())+(Jt.month()-de.month()),Ke=de.clone().add(Fe,Yt),sn=Jt-Ke<0,hn=de.clone().add(Fe+(sn?-1:1),Yt);return+(-(Fe+(Jt-Ke)/(sn?Ke-hn:hn-Ke))||0)},a:function(_e){return _e<0?Math.ceil(_e)||0:Math.floor(_e)},p:function(_e){return{M:Yt,y:Pt,w:Ut,d:It,D:Xt,h:it,m:ot,s:xt,ms:_t,Q:ie}[_e]||String(_e||"").toLowerCase().replace(/s$/,"")},u:function(_e){return void 0===_e}},on="en",an={};an[on]=Pe;var mt=function(_e){return _e instanceof ze},zt=function(_e,de,Jt){var Fe;if(!_e)return on;if("string"==typeof _e)an[_e]&&(Fe=_e),de&&(an[_e]=de,Fe=_e);else{var Ke=_e.name;an[Ke]=_e,Fe=Ke}return!Jt&&Fe&&(on=Fe),Fe||!Jt&&on},oe=function(_e,de){if(mt(_e))return _e.clone();var Jt="object"==typeof de?de:{};return Jt.date=_e,Jt.args=arguments,new ze(Jt)},Ae=tn;Ae.l=zt,Ae.i=mt,Ae.w=function(_e,de){return oe(_e,{locale:de.$L,utc:de.$u,x:de.$x,$offset:de.$offset})};var ze=function(){function _e(Jt){this.$L=zt(Jt.locale,null,!0),this.parse(Jt)}var de=_e.prototype;return de.parse=function(Jt){this.$d=function(Fe){var Ke=Fe.date,sn=Fe.utc;if(null===Ke)return new Date(NaN);if(Ae.u(Ke))return new Date;if(Ke instanceof Date)return new Date(Ke);if("string"==typeof Ke&&!/Z$/i.test(Ke)){var hn=Ke.match(Dt);if(hn){var $e=hn[2]-1||0,ti=(hn[7]||"0").substring(0,3);return sn?new Date(Date.UTC(hn[1],$e,hn[3]||1,hn[4]||0,hn[5]||0,hn[6]||0,ti)):new Date(hn[1],$e,hn[3]||1,hn[4]||0,hn[5]||0,hn[6]||0,ti)}}return new Date(Ke)}(Jt),this.$x=Jt.x||{},this.init()},de.init=function(){var Jt=this.$d;this.$y=Jt.getFullYear(),this.$M=Jt.getMonth(),this.$D=Jt.getDate(),this.$W=Jt.getDay(),this.$H=Jt.getHours(),this.$m=Jt.getMinutes(),this.$s=Jt.getSeconds(),this.$ms=Jt.getMilliseconds()},de.$utils=function(){return Ae},de.isValid=function(){return this.$d.toString()!==vt},de.isSame=function(Jt,Fe){var Ke=oe(Jt);return this.startOf(Fe)<=Ke&&Ke<=this.endOf(Fe)},de.isAfter=function(Jt,Fe){return oe(Jt)<this.startOf(Fe)},de.isBefore=function(Jt,Fe){return this.endOf(Fe)<oe(Jt)},de.$g=function(Jt,Fe,Ke){return Ae.u(Jt)?this[Fe]:this.set(Ke,Jt)},de.unix=function(){return Math.floor(this.valueOf()/1e3)},de.valueOf=function(){return this.$d.getTime()},de.startOf=function(Jt,Fe){var Ke=this,sn=!!Ae.u(Fe)||Fe,hn=Ae.p(Jt),$e=function(On,Tn){var En=Ae.w(Ke.$u?Date.UTC(Ke.$y,Tn,On):new Date(Ke.$y,Tn,On),Ke);return sn?En:En.endOf(It)},ti=function(On,Tn){return Ae.w(Ke.toDate()[On].apply(Ke.toDate("s"),(sn?[0,0,0,0]:[23,59,59,999]).slice(Tn)),Ke)},ui=this.$W,hi=this.$M,ur=this.$D,Zi="set"+(this.$u?"UTC":"");switch(hn){case Pt:return sn?$e(1,0):$e(31,11);case Yt:return sn?$e(1,hi):$e(0,hi+1);case Ut:var dn=this.$locale().weekStart||0,fn=(ui<dn?ui+7:ui)-dn;return $e(sn?ur-fn:ur+(6-fn),hi);case It:case Xt:return ti(Zi+"Hours",0);case it:return ti(Zi+"Minutes",1);case ot:return ti(Zi+"Seconds",2);case xt:return ti(Zi+"Milliseconds",3);default:return this.clone()}},de.endOf=function(Jt){return this.startOf(Jt,!1)},de.$set=function(Jt,Fe){var Ke,sn=Ae.p(Jt),hn="set"+(this.$u?"UTC":""),$e=(Ke={},Ke[It]=hn+"Date",Ke[Xt]=hn+"Date",Ke[Yt]=hn+"Month",Ke[Pt]=hn+"FullYear",Ke[it]=hn+"Hours",Ke[ot]=hn+"Minutes",Ke[xt]=hn+"Seconds",Ke[_t]=hn+"Milliseconds",Ke)[sn],ti=sn===It?this.$D+(Fe-this.$W):Fe;if(sn===Yt||sn===Pt){var ui=this.clone().set(Xt,1);ui.$d[$e](ti),ui.init(),this.$d=ui.set(Xt,Math.min(this.$D,ui.daysInMonth())).$d}else $e&&this.$d[$e](ti);return this.init(),this},de.set=function(Jt,Fe){return this.clone().$set(Jt,Fe)},de.get=function(Jt){return this[Ae.p(Jt)]()},de.add=function(Jt,Fe){var Ke,sn=this;Jt=Number(Jt);var hn=Ae.p(Fe),$e=function(hi){var ur=oe(sn);return Ae.w(ur.date(ur.date()+Math.round(hi*Jt)),sn)};if(hn===Yt)return this.set(Yt,this.$M+Jt);if(hn===Pt)return this.set(Pt,this.$y+Jt);if(hn===It)return $e(1);if(hn===Ut)return $e(7);var ti=(Ke={},Ke[ot]=6e4,Ke[it]=36e5,Ke[xt]=1e3,Ke)[hn]||1,ui=this.$d.getTime()+Jt*ti;return Ae.w(ui,this)},de.subtract=function(Jt,Fe){return this.add(-1*Jt,Fe)},de.format=function(Jt){var Fe=this,Ke=this.$locale();if(!this.isValid())return Ke.invalidDate||vt;var sn=Jt||"YYYY-MM-DDTHH:mm:ssZ",hn=Ae.z(this),$e=this.$H,ti=this.$m,ui=this.$M,hi=Ke.weekdays,ur=Ke.months,Zi=function(Tn,En,Di,Oi){return Tn&&(Tn[En]||Tn(Fe,sn))||Di[En].substr(0,Oi)},dn=function(Tn){return Ae.s($e%12||12,Tn,"0")},fn=Ke.meridiem||function(Tn,En,Di){var Oi=Tn<12?"AM":"PM";return Di?Oi.toLowerCase():Oi},On={YY:String(this.$y).slice(-2),YYYY:this.$y,M:ui+1,MM:Ae.s(ui+1,2,"0"),MMM:Zi(Ke.monthsShort,ui,ur,3),MMMM:Zi(ur,ui),D:this.$D,DD:Ae.s(this.$D,2,"0"),d:String(this.$W),dd:Zi(Ke.weekdaysMin,this.$W,hi,2),ddd:Zi(Ke.weekdaysShort,this.$W,hi,3),dddd:hi[this.$W],H:String($e),HH:Ae.s($e,2,"0"),h:dn(1),hh:dn(2),a:fn($e,ti,!0),A:fn($e,ti,!1),m:String(ti),mm:Ae.s(ti,2,"0"),s:String(this.$s),ss:Ae.s(this.$s,2,"0"),SSS:Ae.s(this.$ms,3,"0"),Z:hn};return sn.replace(se,function(Tn,En){return En||On[Tn]||hn.replace(":","")})},de.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},de.diff=function(Jt,Fe,Ke){var sn,hn=Ae.p(Fe),$e=oe(Jt),ti=6e4*($e.utcOffset()-this.utcOffset()),ui=this-$e,hi=Ae.m(this,$e);return hi=(sn={},sn[Pt]=hi/12,sn[Yt]=hi,sn[ie]=hi/3,sn[Ut]=(ui-ti)/6048e5,sn[It]=(ui-ti)/864e5,sn[it]=ui/36e5,sn[ot]=ui/6e4,sn[xt]=ui/1e3,sn)[hn]||ui,Ke?hi:Ae.a(hi)},de.daysInMonth=function(){return this.endOf(Yt).$D},de.$locale=function(){return an[this.$L]},de.locale=function(Jt,Fe){if(!Jt)return this.$L;var Ke=this.clone(),sn=zt(Jt,Fe,!0);return sn&&(Ke.$L=sn),Ke},de.clone=function(){return Ae.w(this.$d,this)},de.toDate=function(){return new Date(this.valueOf())},de.toJSON=function(){return this.isValid()?this.toISOString():null},de.toISOString=function(){return this.$d.toISOString()},de.toString=function(){return this.$d.toUTCString()},_e}(),be=ze.prototype;return oe.prototype=be,[["$ms",_t],["$s",xt],["$m",ot],["$H",it],["$W",It],["$M",Yt],["$y",Pt],["$D",Xt]].forEach(function(_e){be[_e[1]]=function(de){return this.$g(de,_e[0],_e[1])}}),oe.extend=function(_e,de){return _e.$i||(_e(de,ze,oe),_e.$i=!0),oe},oe.locale=zt,oe.isDayjs=mt,oe.unix=function(_e){return oe(1e3*_e)},oe.en=an[on],oe.Ls=an,oe.p={},oe}()}),gt=Ft(function(dt,ft){var St,Et,lt,_t,xt,ot,it,It,Ut,Yt,ie,Pt;dt.exports=(St={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},Et=/(\[[^[]*\])|([-:/.()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,ot={},it=function(vt){return(vt=+vt)+(vt>68?1900:2e3)},Ut=[/[+-]\d\d:?(\d\d)?|Z/,function(vt){(this.zone||(this.zone={})).offset=function(Dt){if(!Dt||"Z"===Dt)return 0;var se=Dt.match(/([+-]|\d\d)/g),Pe=60*se[1]+(+se[2]||0);return 0===Pe?0:"+"===se[0]?-Pe:Pe}(vt)}],Yt=function(vt){var Dt=ot[vt];return Dt&&(Dt.indexOf?Dt:Dt.s.concat(Dt.f))},ie=function(vt,Dt){var se,Pe=ot.meridiem;if(Pe){for(var Ne=1;Ne<=24;Ne+=1)if(vt.indexOf(Pe(Ne,0,Dt))>-1){se=Ne>12;break}}else se=vt===(Dt?"pm":"PM");return se},Pt={A:[xt=/\d*[^\s\d-_:/()]+/,function(vt){this.afternoon=ie(vt,!1)}],a:[xt,function(vt){this.afternoon=ie(vt,!0)}],S:[/\d/,function(vt){this.milliseconds=100*+vt}],SS:[lt=/\d\d/,function(vt){this.milliseconds=10*+vt}],SSS:[/\d{3}/,function(vt){this.milliseconds=+vt}],s:[_t=/\d\d?/,(It=function(vt){return function(Dt){this[vt]=+Dt}})("seconds")],ss:[_t,It("seconds")],m:[_t,It("minutes")],mm:[_t,It("minutes")],H:[_t,It("hours")],h:[_t,It("hours")],HH:[_t,It("hours")],hh:[_t,It("hours")],D:[_t,It("day")],DD:[lt,It("day")],Do:[xt,function(vt){var Dt=ot.ordinal,se=vt.match(/\d+/);if(this.day=se[0],Dt)for(var Pe=1;Pe<=31;Pe+=1)Dt(Pe).replace(/\[|\]/g,"")===vt&&(this.day=Pe)}],M:[_t,It("month")],MM:[lt,It("month")],MMM:[xt,function(vt){var Dt=Yt("months"),se=(Yt("monthsShort")||Dt.map(function(Pe){return Pe.substr(0,3)})).indexOf(vt)+1;if(se<1)throw new Error;this.month=se%12||se}],MMMM:[xt,function(vt){var Dt=Yt("months").indexOf(vt)+1;if(Dt<1)throw new Error;this.month=Dt%12||Dt}],Y:[/[+-]?\d+/,It("year")],YY:[lt,function(vt){this.year=it(vt)}],YYYY:[/\d{4}/,It("year")],Z:Ut,ZZ:Ut},function(vt,Dt,se){se.p.customParseFormat=!0,vt&&vt.parseTwoDigitYear&&(it=vt.parseTwoDigitYear);var Pe=Dt.prototype,Ne=Pe.parse;Pe.parse=function(tn){var on=tn.date,an=tn.utc,mt=tn.args;this.$u=an;var zt=mt[1];if("string"==typeof zt){var oe=!0===mt[2],Ae=!0===mt[3],ze=oe||Ae,be=mt[2];Ae&&(be=mt[2]),ot=this.$locale(),!oe&&be&&(ot=se.Ls[be]),this.$d=function(Fe,Ke,sn){try{if(["x","X"].indexOf(Ke)>-1)return new Date(("X"===Ke?1e3:1)*Fe);var hn=function(vt){var se;se=ot&&ot.formats;for(var Pe=(vt=vt.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(oe,Ae,ze){var be=ze&&ze.toUpperCase();return Ae||se[ze]||St[ze]||se[be].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(_e,de,Jt){return de||Jt.slice(1)})})).match(Et),Ne=Pe.length,tn=0;tn<Ne;tn+=1){var on=Pe[tn],an=Pt[on],zt=an&&an[1];Pe[tn]=zt?{regex:an&&an[0],parser:zt}:on.replace(/^\[|\]$/g,"")}return function(oe){for(var Ae={},ze=0,be=0;ze<Ne;ze+=1){var _e=Pe[ze];if("string"==typeof _e)be+=_e.length;else{var de=_e.regex,Jt=_e.parser,Fe=oe.substr(be),Ke=de.exec(Fe)[0];Jt.call(Ae,Ke),oe=oe.replace(Ke,"")}}return function(sn){var hn=sn.afternoon;if(void 0!==hn){var $e=sn.hours;hn?$e<12&&(sn.hours+=12):12===$e&&(sn.hours=0),delete sn.afternoon}}(Ae),Ae}}(Ke)(Fe),$e=hn.year,ti=hn.month,ui=hn.day,hi=hn.hours,ur=hn.minutes,Zi=hn.seconds,dn=hn.milliseconds,fn=hn.zone,On=new Date,Tn=ui||($e||ti?1:On.getDate()),En=$e||On.getFullYear(),Di=0;$e&&!ti||(Di=ti>0?ti-1:On.getMonth());var Oi=hi||0,Ni=ur||0,br=Zi||0,ji=dn||0;return fn?new Date(Date.UTC(En,Di,Tn,Oi,Ni,br,ji+60*fn.offset*1e3)):sn?new Date(Date.UTC(En,Di,Tn,Oi,Ni,br,ji)):new Date(En,Di,Tn,Oi,Ni,br,ji)}catch(nr){return new Date("")}}(on,zt,an),this.init(),be&&!0!==be&&(this.$L=this.locale(be).$L),ze&&on!=this.format(zt)&&(this.$d=new Date("")),ot={}}else if(zt instanceof Array)for(var _e=zt.length,de=1;de<=_e;de+=1){mt[1]=zt[de-1];var Jt=se.apply(this,mt);if(Jt.isValid()){this.$d=Jt.$d,this.$L=Jt.$L,this.init();break}de===_e&&(this.$d=new Date(""))}else Ne.call(this,tn)}})});Nt.extend(gt),ve.parseDate=(dt,ft)=>{let St=!1;if(ft)switch(ft){case"ISO_8601":St=dt;break;case"RFC_2822":St=Nt(dt.slice(5),"DD MMM YYYY HH:mm:ss ZZ").unix();break;case"MYSQL":St=Nt(dt,"YYYY-MM-DD hh:mm:ss").unix();break;case"UNIX":St=Nt(dt).unix();break;default:St=Nt(dt,ft,!0).valueOf()}return St}}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(ee,Oe,ve){"use strict";Object.defineProperty(ve,"__esModule",{value:!0});const Wt=xt=>"[object Object]"===Object.prototype.toString.call(xt),Ft=(xt,ot)=>{const it=document.createElement(xt);if(ot&&"object"==typeof ot)for(const It in ot)"html"===It?it.innerHTML=ot[It]:it.setAttribute(It,ot[It]);return it},Nt=xt=>{xt instanceof NodeList?xt.forEach(ot=>Nt(ot)):xt.innerHTML=""},gt=(xt,ot,it)=>Ft("li",{class:xt,html:`<a href="#" data-page="${ot}">${it}</a>`}),dt=(xt,ot)=>{let it,It;1===ot?(it=0,It=xt.length):-1===ot&&(it=xt.length-1,It=-1);for(let Ut=!0;Ut;){Ut=!1;for(let Yt=it;Yt!=It;Yt+=ot)if(xt[Yt+ot]&&xt[Yt].value>xt[Yt+ot].value){const Xt=xt[Yt];xt[Yt]=xt[Yt+ot],xt[Yt+ot]=Xt,Ut=!0}}return xt};class ft{constructor(ot,it){return this.dt=ot,this.rows=it,this}build(ot){const it=Ft("tr");let It=this.dt.headings;return It.length||(It=ot.map(()=>"")),It.forEach((Ut,Yt)=>{const ie=Ft("td");ot[Yt]&&ot[Yt].length||(ot[Yt]=""),ie.innerHTML=ot[Yt],ie.data=ot[Yt],it.appendChild(ie)}),it}render(ot){return ot}add(ot){if(Array.isArray(ot)){const it=this.dt;Array.isArray(ot[0])?ot.forEach(It=>{it.data.push(this.build(It))}):it.data.push(this.build(ot)),it.data.length&&(it.hasRows=!0),this.update(),it.columns().rebuild()}}remove(ot){const it=this.dt;Array.isArray(ot)?(ot.sort((It,Ut)=>Ut-It),ot.forEach(It=>{it.data.splice(It,1)})):"all"==ot?it.data=[]:it.data.splice(ot,1),it.data.length||(it.hasRows=!1),this.update(),it.columns().rebuild()}update(){this.dt.data.forEach((ot,it)=>{ot.dataIndex=it})}findRowIndex(ot,it){return this.dt.data.findIndex(It=>It.children[ot].innerText.toLowerCase().includes(String(it).toLowerCase()))}findRow(ot,it){const It=this.findRowIndex(ot,it);if(It<0)return{index:-1,row:null,cols:[]};const Ut=this.dt.data[It];return{index:It,row:Ut,cols:[...Ut.cells].map(Yt=>Yt.innerHTML)}}updateRow(ot,it){const It=this.build(it);this.dt.data.splice(ot,1,It),this.update(),this.dt.columns().rebuild()}}class St{constructor(ot){return this.dt=ot,this}swap(ot){if(ot.length&&2===ot.length){const it=[];this.dt.headings.forEach((ie,Pt)=>{it.push(Pt)});const It=ot[0],Ut=ot[1],Yt=it[Ut];it[Ut]=it[It],it[It]=Yt,this.order(it)}}order(ot){let it,It,Ut,Yt,ie,Pt,Xt;const vt=[[],[],[],[]],Dt=this.dt;ot.forEach((se,Pe)=>{ie=Dt.headings[se],Pt="false"!==ie.getAttribute("data-sortable"),it=ie.cloneNode(!0),it.originalCellIndex=Pe,it.sortable=Pt,vt[0].push(it),Dt.hiddenColumns.includes(se)||(It=ie.cloneNode(!0),It.originalCellIndex=Pe,It.sortable=Pt,vt[1].push(It))}),Dt.data.forEach((se,Pe)=>{Ut=se.cloneNode(!1),Yt=se.cloneNode(!1),Ut.dataIndex=Yt.dataIndex=Pe,null!=se.searchIndex&&(Ut.searchIndex=Yt.searchIndex=se.searchIndex),ot.forEach(Ne=>{Xt=se.cells[Ne].cloneNode(!0),Xt.data=se.cells[Ne].data,Ut.appendChild(Xt),Dt.hiddenColumns.includes(Ne)||(Xt=se.cells[Ne].cloneNode(!0),Xt.data=se.cells[Ne].data,Yt.appendChild(Xt))}),vt[2].push(Ut),vt[3].push(Yt)}),Dt.headings=vt[0],Dt.activeHeadings=vt[1],Dt.data=vt[2],Dt.activeRows=vt[3],Dt.update()}hide(ot){if(ot.length){const it=this.dt;ot.forEach(It=>{it.hiddenColumns.includes(It)||it.hiddenColumns.push(It)}),this.rebuild()}}show(ot){if(ot.length){let it;const It=this.dt;ot.forEach(Ut=>{it=It.hiddenColumns.indexOf(Ut),it>-1&&It.hiddenColumns.splice(it,1)}),this.rebuild()}}visible(ot){let it;const It=this.dt;return ot=ot||It.headings.map(Ut=>Ut.originalCellIndex),isNaN(ot)?Array.isArray(ot)&&(it=[],ot.forEach(Ut=>{it.push(!It.hiddenColumns.includes(Ut))})):it=!It.hiddenColumns.includes(ot),it}add(ot){let it;const It=document.createElement("th");if(!this.dt.headings.length)return this.dt.insert({headings:[ot.heading],data:ot.data.map(Ut=>[Ut])}),void this.rebuild();this.dt.hiddenHeader?It.innerHTML="":ot.heading.nodeName?It.appendChild(ot.heading):It.innerHTML=ot.heading,this.dt.headings.push(It),this.dt.data.forEach((Ut,Yt)=>{ot.data[Yt]&&(it=document.createElement("td"),ot.data[Yt].nodeName?it.appendChild(ot.data[Yt]):it.innerHTML=ot.data[Yt],it.data=it.innerHTML,ot.render&&(it.innerHTML=ot.render.call(this,it.data,it,Ut)),Ut.appendChild(it))}),ot.type&&It.setAttribute("data-type",ot.type),ot.format&&It.setAttribute("data-format",ot.format),ot.hasOwnProperty("sortable")&&(It.sortable=ot.sortable,It.setAttribute("data-sortable",!0===ot.sortable?"true":"false")),this.rebuild(),this.dt.renderHeader()}remove(ot){Array.isArray(ot)?(ot.sort((it,It)=>It-it),ot.forEach(it=>this.remove(it))):(this.dt.headings.splice(ot,1),this.dt.data.forEach(it=>{it.removeChild(it.cells[ot])})),this.rebuild()}filter(ot,it,It,Ut){const Yt=this.dt;if(Yt.filterState||(Yt.filterState={originalData:Yt.data}),!Yt.filterState[ot]){const Xt=[...Ut,()=>!0];Yt.filterState[ot]=function(){let vt=0;return()=>Xt[vt++%Xt.length]}()}const ie=Yt.filterState[ot](),Pt=Array.from(Yt.filterState.originalData).filter(Xt=>{const vt=Xt.cells[ot],Dt=vt.hasAttribute("data-content")?vt.getAttribute("data-content"):vt.innerText;return"function"==typeof ie?ie(Dt):Dt===ie});Yt.data=Pt,Yt.data.length?(this.rebuild(),Yt.update()):(Yt.clear(),Yt.hasRows=!1,Yt.setMessage(Yt.options.labels.noRows)),It||Yt.emit("datatable.sort",ot,it)}sort(ot,it,It){const Ut=this.dt;if(Ut.hasHeadings&&(ot<0||ot>Ut.headings.length))return!1;const Yt=Ut.options.filters&&Ut.options.filters[Ut.headings[ot].textContent];if(Yt&&0!==Yt.length)return void this.filter(ot,it,It,Yt);Ut.sorting=!0,It||Ut.emit("datatable.sorting",ot,it);let ie=Ut.data;const Pt=[],Xt=[];let vt=0,Dt=0;const se=Ut.headings[ot],Pe=[];if("date"===se.getAttribute("data-type")){let Ne=!1;se.hasAttribute("data-format")&&(Ne=se.getAttribute("data-format")),Pe.push(Promise.resolve().then(function(){return ee("./date-170bba30.js")}).then(({parseDate:tn})=>on=>tn(on,Ne)))}Promise.all(Pe).then(Ne=>{const tn=Ne[0];let on,an;Array.from(ie).forEach(zt=>{const oe=zt.cells[ot],Ae=oe.hasAttribute("data-content")?oe.getAttribute("data-content"):oe.innerText;let ze;ze=tn?tn(Ae):"string"==typeof Ae?Ae.replace(/(\$|,|\s|%)/g,""):Ae,parseFloat(ze)==ze?Xt[Dt++]={value:Number(ze),row:zt}:Pt[vt++]={value:"string"==typeof Ae?Ae.toLowerCase():Ae,row:zt}}),it||(it=se.classList.contains("asc")?"desc":"asc"),"desc"==it?(on=dt(Pt,-1),an=dt(Xt,-1),se.classList.remove("asc"),se.classList.add("desc")):(on=dt(Xt,1),an=dt(Pt,1),se.classList.remove("desc"),se.classList.add("asc")),Ut.lastTh&&se!=Ut.lastTh&&(Ut.lastTh.classList.remove("desc"),Ut.lastTh.classList.remove("asc")),Ut.lastTh=se,ie=on.concat(an),Ut.data=[];const mt=[];ie.forEach((zt,oe)=>{Ut.data.push(zt.row),null!=zt.row.searchIndex&&mt.push(oe)}),Ut.searchData=mt,this.rebuild(),Ut.update(),It||Ut.emit("datatable.sort",ot,it)})}rebuild(){let ot,it,It,Ut;const Yt=this.dt,ie=[];Yt.activeRows=[],Yt.activeHeadings=[],Yt.headings.forEach((Pt,Xt)=>{Pt.originalCellIndex=Xt,Pt.sortable="false"!==Pt.getAttribute("data-sortable"),Yt.hiddenColumns.includes(Xt)||Yt.activeHeadings.push(Pt)}),Yt.data.forEach((Pt,Xt)=>{ot=Pt.cloneNode(!1),it=Pt.cloneNode(!1),ot.dataIndex=it.dataIndex=Xt,null!=Pt.searchIndex&&(ot.searchIndex=it.searchIndex=Pt.searchIndex),Array.from(Pt.cells).forEach(vt=>{It=vt.cloneNode(!0),It.data=vt.data,ot.appendChild(It),Yt.hiddenColumns.includes(It.cellIndex)||(Ut=It.cloneNode(!0),Ut.data=It.data,it.appendChild(Ut))}),ie.push(ot),Yt.activeRows.push(it)}),Yt.data=ie,Yt.update()}}const Et=function(xt){let ot=!1,it=!1;if((xt=xt||this.options.data).headings){ot=Ft("thead");const It=Ft("tr");xt.headings.forEach(Ut=>{const Yt=Ft("th",{html:Ut});It.appendChild(Yt)}),ot.appendChild(It)}xt.data&&xt.data.length&&(it=Ft("tbody"),xt.data.forEach(It=>{if(xt.headings&&xt.headings.length!==It.length)throw new Error("The number of rows do not match the number of headings.");const Ut=Ft("tr");It.forEach(Yt=>{const ie=Ft("td",{html:Yt});Ut.appendChild(ie)}),it.appendChild(Ut)})),ot&&(null!==this.dom.tHead&&this.dom.removeChild(this.dom.tHead),this.dom.appendChild(ot)),it&&(this.dom.tBodies.length&&this.dom.removeChild(this.dom.tBodies[0]),this.dom.appendChild(it))},lt={sortable:!0,searchable:!0,paging:!0,perPage:10,perPageSelect:[5,10,15,20,25],nextPrev:!0,firstLast:!1,prevText:"&lsaquo;",nextText:"&rsaquo;",firstText:"&laquo;",lastText:"&raquo;",ellipsisText:"&hellip;",ascText:"\u25b4",descText:"\u25be",truncatePager:!0,pagerDelta:2,scrollY:"",fixedColumns:!0,fixedHeight:!1,header:!0,hiddenHeader:!1,footer:!1,labels:{placeholder:"Search...",perPage:"{select} entries per page",noRows:"No entries found",noResults:"No results match your search query",info:"Showing {start} to {end} of {rows} entries"},layout:{top:"{select}{search}",bottom:"{info}{pager}"}};class _t{constructor(ot,it={}){const It="string"==typeof ot?document.querySelector(ot):ot;if(this.options=Wv(er(er({},lt),it),{layout:er(er({},lt.layout),it.layout),labels:er(er({},lt.labels),it.labels)}),this.initialized=!1,this.initialLayout=It.innerHTML,this.initialSortable=this.options.sortable,this.options.header||(this.options.sortable=!1),null===It.tHead&&(!this.options.data||this.options.data&&!this.options.data.headings)&&(this.options.sortable=!1),It.tBodies.length&&!It.tBodies[0].rows.length&&this.options.data&&!this.options.data.data)throw new Error("You seem to be using the data option, but you've not defined any rows.");this.dom=It,this.table=this.dom,this.listeners={onResize:Ut=>this.onResize(Ut)},this.init()}static extend(ot,it){"function"==typeof it?_t.prototype[ot]=it:_t[ot]=it}init(ot){if(this.initialized||this.dom.classList.contains("dataTable-table"))return!1;Object.assign(this.options,ot||{}),this.currentPage=1,this.onFirstPage=!0,this.hiddenColumns=[],this.columnRenderers=[],this.selectedColumns=[],this.render(),setTimeout(()=>{this.emit("datatable.init"),this.initialized=!0,this.options.plugins&&Object.entries(this.options.plugins).forEach(([it,It])=>{this[it]&&"function"==typeof this[it]&&(this[it]=this[it](It,{createElement:Ft}),It.enabled&&this[it].init&&"function"==typeof this[it].init&&this[it].init())})},10)}render(ot){if(ot){switch(ot){case"page":this.renderPage();break;case"pager":this.renderPager();break;case"header":this.renderHeader()}return!1}const it=this.options;let It="";if(it.data&&Et.call(this),this.body=this.dom.tBodies[0],this.head=this.dom.tHead,this.foot=this.dom.tFoot,this.body||(this.body=Ft("tbody"),this.dom.appendChild(this.body)),this.hasRows=this.body.rows.length>0,!this.head){const ie=Ft("thead"),Pt=Ft("tr");this.hasRows&&(Array.from(this.body.rows[0].cells).forEach(()=>{Pt.appendChild(Ft("th"))}),ie.appendChild(Pt)),this.head=ie,this.dom.insertBefore(this.head,this.body),this.hiddenHeader=it.hiddenHeader}if(this.headings=[],this.hasHeadings=this.head.rows.length>0,this.hasHeadings&&(this.header=this.head.rows[0],this.headings=[].slice.call(this.header.cells)),it.header||this.head&&this.dom.removeChild(this.dom.tHead),it.footer?this.head&&!this.foot&&(this.foot=Ft("tfoot",{html:this.head.innerHTML}),this.dom.appendChild(this.foot)):this.foot&&this.dom.removeChild(this.dom.tFoot),this.wrapper=Ft("div",{class:"dataTable-wrapper dataTable-loading"}),It+="<div class='dataTable-top'>",It+=it.layout.top,It+="</div>",It+=it.scrollY.length?`<div class='dataTable-container' style='height: ${it.scrollY}; overflow-Y: auto;'></div>`:"<div class='dataTable-container'></div>",It+="<div class='dataTable-bottom'>",It+=it.layout.bottom,It+="</div>",It=It.replace("{info}",it.paging?"<div class='dataTable-info'></div>":""),it.paging&&it.perPageSelect){let ie="<div class='dataTable-dropdown'><label>";ie+=it.labels.perPage,ie+="</label></div>";const Pt=Ft("select",{class:"dataTable-selector"});it.perPageSelect.forEach(Xt=>{const vt=Xt===it.perPage,Dt=new Option(Xt,Xt,vt,vt);Pt.add(Dt)}),ie=ie.replace("{select}",Pt.outerHTML),It=It.replace("{select}",ie)}else It=It.replace("{select}","");It=It.replace("{search}",it.searchable?`<div class='dataTable-search'><input class='dataTable-input' placeholder='${it.labels.placeholder}' type='text'></div>`:""),this.hasHeadings&&this.render("header"),this.dom.classList.add("dataTable-table");const Ut=Ft("nav",{class:"dataTable-pagination"}),Yt=Ft("ul",{class:"dataTable-pagination-list"});Ut.appendChild(Yt),It=It.replace(/\{pager\}/g,Ut.outerHTML),this.wrapper.innerHTML=It,this.container=this.wrapper.querySelector(".dataTable-container"),this.pagers=this.wrapper.querySelectorAll(".dataTable-pagination-list"),this.label=this.wrapper.querySelector(".dataTable-info"),this.dom.parentNode.replaceChild(this.wrapper,this.dom),this.container.appendChild(this.dom),this.rect=this.dom.getBoundingClientRect(),this.data=Array.from(this.body.rows),this.activeRows=this.data.slice(),this.activeHeadings=this.headings.slice(),this.update(),this.setColumns(),this.fixHeight(),this.fixColumns(),it.header||this.wrapper.classList.add("no-header"),it.footer||this.wrapper.classList.add("no-footer"),it.sortable&&this.wrapper.classList.add("sortable"),it.searchable&&this.wrapper.classList.add("searchable"),it.fixedHeight&&this.wrapper.classList.add("fixed-height"),it.fixedColumns&&this.wrapper.classList.add("fixed-columns"),this.bindEvents()}renderPage(){if(this.hasHeadings&&(Nt(this.header),this.activeHeadings.forEach(Yt=>this.header.appendChild(Yt))),this.hasRows&&this.totalPages){this.currentPage>this.totalPages&&(this.currentPage=1);const Yt=this.currentPage-1,ie=document.createDocumentFragment();this.pages[Yt].forEach(Pt=>ie.appendChild(this.rows().render(Pt))),this.clear(ie),this.onFirstPage=1===this.currentPage,this.onLastPage=this.currentPage===this.lastPage}else this.setMessage(this.options.labels.noRows);let ot,it=0,It=0,Ut=0;if(this.totalPages&&(it=this.currentPage-1,It=it*this.options.perPage,Ut=It+this.pages[it].length,It+=1,ot=this.searching?this.searchData.length:this.data.length),this.label&&this.options.labels.info.length){const Yt=this.options.labels.info.replace("{start}",It).replace("{end}",Ut).replace("{page}",this.currentPage).replace("{pages}",this.totalPages).replace("{rows}",ot);this.label.innerHTML=ot?Yt:""}1==this.currentPage&&this.fixHeight()}renderPager(){if(Nt(this.pagers),this.totalPages>1){const ot="pager",it=document.createDocumentFragment(),It=this.onFirstPage?1:this.currentPage-1,Ut=this.onLastPage?this.totalPages:this.currentPage+1;this.options.firstLast&&it.appendChild(gt(ot,1,this.options.firstText)),this.options.nextPrev&&!this.onFirstPage&&it.appendChild(gt(ot,It,this.options.prevText));let Yt=this.links;this.options.truncatePager&&(Yt=((ie,Pt,Xt,vt,Dt)=>{let se;const Pe=2*(vt=vt||2);let Ne=Pt-vt,tn=Pt+vt;const on=[],an=[];Pt<4-vt+Pe?tn=3+Pe:Pt>Xt-(3-vt+Pe)&&(Ne=Xt-(2+Pe));for(let mt=1;mt<=Xt;mt++)if(1==mt||mt==Xt||mt>=Ne&&mt<=tn){const zt=ie[mt-1];zt.classList.remove("active"),on.push(zt)}return on.forEach(mt=>{const zt=mt.children[0].getAttribute("data-page");if(se){const oe=se.children[0].getAttribute("data-page");if(zt-oe==2)an.push(ie[oe]);else if(zt-oe!=1){const Ae=Ft("li",{class:"ellipsis",html:`<a href="#">${Dt}</a>`});an.push(Ae)}}an.push(mt),se=mt}),an})(this.links,this.currentPage,this.pages.length,this.options.pagerDelta,this.options.ellipsisText)),this.links[this.currentPage-1].classList.add("active"),Yt.forEach(ie=>{ie.classList.remove("active"),it.appendChild(ie)}),this.links[this.currentPage-1].classList.add("active"),this.options.nextPrev&&!this.onLastPage&&it.appendChild(gt(ot,Ut,this.options.nextText)),this.options.firstLast&&it.appendChild(gt(ot,this.totalPages,this.options.lastText)),this.pagers.forEach(ie=>{ie.appendChild(it.cloneNode(!0))})}}renderHeader(){this.labels=[],this.headings&&this.headings.length&&this.headings.forEach((ot,it)=>{if(this.labels[it]=ot.textContent,ot.firstElementChild&&ot.firstElementChild.classList.contains("dataTable-sorter")&&(ot.innerHTML=ot.firstElementChild.innerHTML),ot.sortable="false"!==ot.getAttribute("data-sortable"),ot.originalCellIndex=it,this.options.sortable&&ot.sortable){const It=Ft("a",{href:"#",class:"dataTable-sorter",html:ot.innerHTML});ot.innerHTML="",ot.setAttribute("data-sortable",""),ot.appendChild(It)}}),this.fixColumns()}bindEvents(){const ot=this.options;if(ot.perPageSelect){const it=this.wrapper.querySelector(".dataTable-selector");it&&it.addEventListener("change",()=>{ot.perPage=parseInt(it.value,10),this.update(),this.fixHeight(),this.emit("datatable.perpage",ot.perPage)},!1)}ot.searchable&&(this.input=this.wrapper.querySelector(".dataTable-input"),this.input&&this.input.addEventListener("keyup",()=>this.search(this.input.value),!1)),this.wrapper.addEventListener("click",it=>{const It=it.target.closest("a");It&&"a"===It.nodeName.toLowerCase()&&(It.hasAttribute("data-page")?(this.page(It.getAttribute("data-page")),it.preventDefault()):ot.sortable&&It.classList.contains("dataTable-sorter")&&"false"!=It.parentNode.getAttribute("data-sortable")&&(this.columns().sort(this.headings.indexOf(It.parentNode)),it.preventDefault()))},!1),window.addEventListener("resize",this.listeners.onResize)}onResize(){this.rect=this.container.getBoundingClientRect(),this.rect.width&&this.fixColumns()}setColumns(ot){ot||this.data.forEach(it=>{Array.from(it.cells).forEach(It=>{It.data=It.innerHTML})}),this.options.columns&&this.headings.length&&this.options.columns.forEach(it=>{Array.isArray(it.select)||(it.select=[it.select]),it.hasOwnProperty("render")&&"function"==typeof it.render&&(this.selectedColumns=this.selectedColumns.concat(it.select),this.columnRenderers.push({columns:it.select,renderer:it.render})),it.select.forEach(It=>{const Ut=this.headings[It];it.type&&Ut.setAttribute("data-type",it.type),it.format&&Ut.setAttribute("data-format",it.format),it.hasOwnProperty("sortable")&&Ut.setAttribute("data-sortable",it.sortable),it.hasOwnProperty("hidden")&&!1!==it.hidden&&this.columns().hide([It]),it.hasOwnProperty("sort")&&1===it.select.length&&this.columns().sort(it.select[0],it.sort,!0)})}),this.hasRows&&(this.data.forEach((it,It)=>{it.dataIndex=It,Array.from(it.cells).forEach(Ut=>{Ut.data=Ut.innerHTML})}),this.selectedColumns.length&&this.data.forEach(it=>{Array.from(it.cells).forEach((It,Ut)=>{this.selectedColumns.includes(Ut)&&this.columnRenderers.forEach(Yt=>{Yt.columns.includes(Ut)&&(It.innerHTML=Yt.renderer.call(this,It.data,It,it))})})}),this.columns().rebuild()),this.render("header")}destroy(){this.dom.innerHTML=this.initialLayout,this.dom.classList.remove("dataTable-table"),this.wrapper.parentNode.replaceChild(this.dom,this.wrapper),this.initialized=!1,window.removeEventListener("resize",this.listeners.onResize)}update(){this.wrapper.classList.remove("dataTable-empty"),this.paginate(this),this.render("page"),this.links=[];let ot=this.pages.length;for(;ot--;){const it=ot+1;this.links[ot]=gt(0===ot?"active":"",it,it)}this.sorting=!1,this.render("pager"),this.rows().update(),this.emit("datatable.update")}paginate(){const ot=this.options.perPage;let it=this.activeRows;return this.searching&&(it=[],this.searchData.forEach(It=>it.push(this.activeRows[It]))),this.pages=this.options.paging?it.map((It,Ut)=>Ut%ot==0?it.slice(Ut,Ut+ot):null).filter(It=>It):[it],this.totalPages=this.lastPage=this.pages.length,this.totalPages}fixColumns(){if((this.options.scrollY.length||this.options.fixedColumns)&&this.activeHeadings&&this.activeHeadings.length){let ot,it=!1;if(this.columnWidths=[],this.dom.tHead){if(this.options.scrollY.length&&(it=Ft("thead"),it.appendChild(Ft("tr")),it.style.height="0px",this.headerTable&&(this.dom.tHead=this.headerTable.tHead)),this.activeHeadings.forEach(It=>{It.style.width=""}),this.activeHeadings.forEach((It,Ut)=>{const Yt=It.offsetWidth,ie=Yt/this.rect.width*100;if(It.style.width=`${ie}%`,this.columnWidths[Ut]=Yt,this.options.scrollY.length){const Pt=Ft("th");it.firstElementChild.appendChild(Pt),Pt.style.width=`${ie}%`,Pt.style.paddingTop="0",Pt.style.paddingBottom="0",Pt.style.border="0"}}),this.options.scrollY.length){const It=this.dom.parentElement;if(!this.headerTable){this.headerTable=Ft("table",{class:"dataTable-table"});const Yt=Ft("div",{class:"dataTable-headercontainer"});Yt.appendChild(this.headerTable),It.parentElement.insertBefore(Yt,It)}const Ut=this.dom.tHead;this.dom.replaceChild(it,Ut),this.headerTable.tHead=Ut,this.headerTable.parentElement.style.paddingRight=`${this.headerTable.clientWidth-this.dom.clientWidth+parseInt(this.headerTable.parentElement.style.paddingRight||"0",10)}px`,It.scrollHeight>It.clientHeight&&(It.style.overflowY="scroll")}}else{ot=[],it=Ft("thead");const It=Ft("tr");Array.from(this.dom.tBodies[0].rows[0].cells).forEach(()=>{const Yt=Ft("th");It.appendChild(Yt),ot.push(Yt)}),it.appendChild(It),this.dom.insertBefore(it,this.body);const Ut=[];ot.forEach((Yt,ie)=>{const Pt=Yt.offsetWidth;Ut.push(Pt/this.rect.width*100),this.columnWidths[ie]=Pt}),this.data.forEach(Yt=>{Array.from(Yt.cells).forEach((ie,Pt)=>{this.columns(ie.cellIndex).visible()&&(ie.style.width=`${Ut[Pt]}%`)})}),this.dom.removeChild(it)}}}fixHeight(){this.options.fixedHeight&&(this.container.style.height=null,this.rect=this.container.getBoundingClientRect(),this.container.style.height=`${this.rect.height}px`)}search(ot){return!!this.hasRows&&(ot=ot.toLowerCase(),this.currentPage=1,this.searching=!0,this.searchData=[],ot.length?(this.clear(),this.data.forEach((it,It)=>{const Ut=this.searchData.includes(it);ot.split(" ").reduce((Yt,ie)=>{let Pt=!1,Xt=null,vt=null;for(let Dt=0;Dt<it.cells.length;Dt++)if(Xt=it.cells[Dt],vt=Xt.hasAttribute("data-content")?Xt.getAttribute("data-content"):Xt.textContent,vt.toLowerCase().includes(ie)&&this.columns(Xt.cellIndex).visible()){Pt=!0;break}return Yt&&Pt},!0)&&!Ut?(it.searchIndex=It,this.searchData.push(It)):it.searchIndex=null}),this.wrapper.classList.add("search-results"),this.searchData.length?this.update():(this.wrapper.classList.remove("search-results"),this.setMessage(this.options.labels.noResults)),void this.emit("datatable.search",ot,this.searchData)):(this.searching=!1,this.update(),this.emit("datatable.search",ot,this.searchData),this.wrapper.classList.remove("search-results"),!1))}page(ot){return ot!=this.currentPage&&(isNaN(ot)||(this.currentPage=parseInt(ot,10)),!(ot>this.pages.length||ot<0)&&(this.render("page"),this.render("pager"),void this.emit("datatable.page",ot)))}sortColumn(ot,it){this.columns().sort(ot,it)}insert(ot){let it=[];if(Wt(ot)){if(ot.headings&&!this.hasHeadings&&!this.hasRows){const It=Ft("tr");ot.headings.forEach(Ut=>{const Yt=Ft("th",{html:Ut});It.appendChild(Yt)}),this.head.appendChild(It),this.header=It,this.headings=[].slice.call(It.cells),this.hasHeadings=!0,this.options.sortable=this.initialSortable,this.render("header"),this.activeHeadings=this.headings.slice()}ot.data&&Array.isArray(ot.data)&&(it=ot.data)}else Array.isArray(ot)&&ot.forEach(It=>{const Ut=[];Object.entries(It).forEach(([Yt,ie])=>{const Pt=this.labels.indexOf(Yt);Pt>-1&&(Ut[Pt]=ie)}),it.push(Ut)});it.length&&(this.rows().add(it),this.hasRows=!0),this.update(),this.setColumns(),this.fixColumns()}refresh(){this.options.searchable&&(this.input.value="",this.searching=!1),this.currentPage=1,this.onFirstPage=!0,this.update(),this.emit("datatable.refresh")}clear(ot){this.body&&Nt(this.body);let it=this.body;this.body||(it=this.dom),ot&&("string"==typeof ot&&(document.createDocumentFragment().innerHTML=ot),it.appendChild(ot))}export(ot){if(!this.hasHeadings&&!this.hasRows)return!1;const it=this.activeHeadings;let It=[];const Ut=[];let Yt,ie,Pt,Xt;if(!Wt(ot))return!1;const vt=er({download:!0,skipColumn:[],lineDelimiter:"\n",columnDelimiter:",",tableName:"myTable",replacer:null,space:4},ot);if(vt.type){if("txt"!==vt.type&&"csv"!==vt.type||(It[0]=this.header),vt.selection)if(isNaN(vt.selection)){if(Array.isArray(vt.selection))for(Yt=0;Yt<vt.selection.length;Yt++)It=It.concat(this.pages[vt.selection[Yt]-1])}else It=It.concat(this.pages[vt.selection-1]);else It=It.concat(this.activeRows);if(It.length){if("txt"===vt.type||"csv"===vt.type){for(Pt="",Yt=0;Yt<It.length;Yt++){for(ie=0;ie<It[Yt].cells.length;ie++)if(!vt.skipColumn.includes(it[ie].originalCellIndex)&&this.columns(it[ie].originalCellIndex).visible()){let Dt=It[Yt].cells[ie].textContent;Dt=Dt.trim(),Dt=Dt.replace(/\s{2,}/g," "),Dt=Dt.replace(/\n/g,"  "),Dt=Dt.replace(/"/g,'""'),Dt=Dt.replace(/#/g,"%23"),Dt.includes(",")&&(Dt=`"${Dt}"`),Pt+=Dt+vt.columnDelimiter}Pt=Pt.trim().substring(0,Pt.length-1),Pt+=vt.lineDelimiter}Pt=Pt.trim().substring(0,Pt.length-1),vt.download&&(Pt=`data:text/csv;charset=utf-8,${Pt}`)}else if("sql"===vt.type){for(Pt=`INSERT INTO \`${vt.tableName}\` (`,Yt=0;Yt<it.length;Yt++)!vt.skipColumn.includes(it[Yt].originalCellIndex)&&this.columns(it[Yt].originalCellIndex).visible()&&(Pt+=`\`${it[Yt].textContent}\`,`);for(Pt=Pt.trim().substring(0,Pt.length-1),Pt+=") VALUES ",Yt=0;Yt<It.length;Yt++){for(Pt+="(",ie=0;ie<It[Yt].cells.length;ie++)!vt.skipColumn.includes(it[ie].originalCellIndex)&&this.columns(it[ie].originalCellIndex).visible()&&(Pt+=`"${It[Yt].cells[ie].textContent}",`);Pt=Pt.trim().substring(0,Pt.length-1),Pt+="),"}Pt=Pt.trim().substring(0,Pt.length-1),Pt+=";",vt.download&&(Pt=`data:application/sql;charset=utf-8,${Pt}`)}else if("json"===vt.type){for(ie=0;ie<It.length;ie++)for(Ut[ie]=Ut[ie]||{},Yt=0;Yt<it.length;Yt++)!vt.skipColumn.includes(it[Yt].originalCellIndex)&&this.columns(it[Yt].originalCellIndex).visible()&&(Ut[ie][it[Yt].textContent]=It[ie].cells[Yt].textContent);Pt=JSON.stringify(Ut,vt.replacer,vt.space),vt.download&&(Pt=`data:application/json;charset=utf-8,${Pt}`)}return vt.download&&(vt.filename=vt.filename||"datatable_export",vt.filename+=`.${vt.type}`,Pt=encodeURI(Pt),Xt=document.createElement("a"),Xt.href=Pt,Xt.download=vt.filename,document.body.appendChild(Xt),Xt.click(),document.body.removeChild(Xt)),Pt}}return!1}import(ot){let it=!1;if(!Wt(ot))return!1;const It=er({lineDelimiter:"\n",columnDelimiter:","},ot);if(It.data.length||Wt(It.data)){if("csv"===It.type){it={data:[]};const Ut=It.data.split(It.lineDelimiter);Ut.length&&(It.headings&&(it.headings=Ut[0].split(It.columnDelimiter),Ut.shift()),Ut.forEach((Yt,ie)=>{it.data[ie]=[];const Pt=Yt.split(It.columnDelimiter);Pt.length&&Pt.forEach(Xt=>{it.data[ie].push(Xt)})}))}else if("json"===It.type){const Ut=(Yt=>{let ie=!1;try{ie=JSON.parse(Yt)}catch(Pt){return!1}return!(null===ie||!Array.isArray(ie)&&!Wt(ie))&&ie})(It.data);Ut&&(it={headings:[],data:[]},Ut.forEach((Yt,ie)=>{it.data[ie]=[],Object.entries(Yt).forEach(([Pt,Xt])=>{it.headings.includes(Pt)||it.headings.push(Pt),it.data[ie].push(Xt)})}))}Wt(It.data)&&(it=It.data),it&&this.insert(it)}return!1}print(){const ot=this.activeHeadings,it=this.activeRows,It=Ft("table"),Ut=Ft("thead"),Yt=Ft("tbody"),ie=Ft("tr");ot.forEach(Xt=>{ie.appendChild(Ft("th",{html:Xt.textContent}))}),Ut.appendChild(ie),it.forEach(Xt=>{const vt=Ft("tr");Array.from(Xt.cells).forEach(Dt=>{vt.appendChild(Ft("td",{html:Dt.textContent}))}),Yt.appendChild(vt)}),It.appendChild(Ut),It.appendChild(Yt);const Pt=window.open();Pt.document.body.appendChild(It),Pt.print()}setMessage(ot){let it=1;this.hasRows?it=this.data[0].cells.length:this.activeHeadings.length&&(it=this.activeHeadings.length),this.wrapper.classList.add("dataTable-empty"),this.label&&(this.label.innerHTML=""),this.totalPages=0,this.render("pager"),this.clear(Ft("tr",{html:`<td class="dataTables-empty" colspan="${it}">${ot}</td>`}))}columns(ot){return new St(this,ot)}rows(ot){return new ft(this,ot)}on(ot,it){this.events=this.events||{},this.events[ot]=this.events[ot]||[],this.events[ot].push(it)}off(ot,it){this.events=this.events||{},ot in this.events&&this.events[ot].splice(this.events[ot].indexOf(it),1)}emit(ot){if(this.events=this.events||{},ot in this.events)for(let it=0;it<this.events[ot].length;it++)this.events[ot][it].apply(this,Array.prototype.slice.call(arguments,1))}}ve.DataTable=_t},{"./date-170bba30.js":1}]},{},[2])(2)}),function(){"use strict";function Le(a){if(null===a)return"null";if(void 0===a)return"undefined";var d=typeof a;return"object"==d&&(Array.prototype.isPrototypeOf(a)||a.constructor&&"Array"===a.constructor.name)?"array":"object"==d&&(String.prototype.isPrototypeOf(a)||a.constructor&&"String"===a.constructor.name)?"string":d}function $t(a){return lt(function(d,g){if(d.length!==g.length)return!1;for(var x=d.length,C=0;C<x;C++)if(!a.eq(d[C],g[C]))return!1;return!0})}function Tt(a){return lt(function(d,g){var C,L,N=Object.keys(d),z=Object.keys(g);if(C=$t(_t),L=function(Z){return Array.prototype.slice.call(Z).sort(void 0)},!lt(function(Z,rt){return C.eq(L(Z),L(rt))}).eq(N,z))return!1;for(var q=N.length,Y=0;Y<q;Y++){var Q=N[Y];if(!a.eq(d[Q],g[Q]))return!1}return!0})}function ee(a){return function(d){return x=typeof(g=d),(null===g?"null":"object"==x&&(Array.prototype.isPrototypeOf(g)||g.constructor&&"Array"===g.constructor.name)?"array":"object"==x&&(String.prototype.isPrototypeOf(g)||g.constructor&&"String"===g.constructor.name)?"string":x)===a;var g,x}}function Oe(a){return function(d){return typeof d===a}}function ve(a){return function(d){return a===d}}function Wt(a){return null==a}function Ft(a){return!Wt(a)}function Nt(){}function gt(a,d){return function(){for(var g=[],x=0;x<arguments.length;x++)g[x]=arguments[x];return a(d.apply(null,g))}}function dt(a,d){return function(g){return a(d(g))}}function ft(a){return function(){return a}}function St(a){return a}function Et(a,d){return a===d}var lt=function(a){return{eq:a}},_t=lt(function(a,d){return a===d}),xt=lt(function(a,d){if(a===d)return!0;var g=Le(a);return g===Le(d)&&(-1!==["undefined","boolean","number","string","function","xml","null"].indexOf(g)?a===d:"array"===g?$t(xt).eq(a,d):"object"===g&&Tt(xt).eq(a,d))}),ot=ee("string"),it=ee("object"),It=ee("array"),Ut=ve(null),Yt=Oe("boolean"),ie=ve(void 0),Pt=Oe("function"),Xt=Oe("number");function vt(a){for(var d=[],g=1;g<arguments.length;g++)d[g-1]=arguments[g];return function(){for(var x=[],C=0;C<arguments.length;C++)x[C]=arguments[C];var L=d.concat(x);return a.apply(null,L)}}function Dt(a){return function(d){return!a(d)}}function se(a){return a()}function Pe(a){a()}function Ne(){return an}var tn=ft(!1),on=ft(!0),an={fold:function(a,d){return a()},isSome:tn,isNone:on,getOr:St,getOrThunk:mt,getOrDie:function(a){throw new Error(a||"error: getOrDie called on none.")},getOrNull:ft(null),getOrUndefined:ft(void 0),or:St,orThunk:mt,map:Ne,each:Nt,bind:Ne,exists:tn,forall:on,filter:function(){return an},toArray:function(){return[]},toString:ft("none()")};function mt(a){return a()}function zt(a,d){return ir.call(a,d)}function oe(a,d){return-1<zt(a,d)}function Ae(a,d){for(var g=0,x=a.length;g<x;g++)if(d(a[g],g))return!0;return!1}function ze(a,d){for(var g=a.length,x=new Array(g),C=0;C<g;C++)x[C]=d(a[C],C);return x}function be(a,d){for(var g=0,x=a.length;g<x;g++)d(a[g],g)}function _e(a,d){for(var g=a.length-1;0<=g;g--)d(a[g],g)}function de(a,d){for(var g=[],x=[],C=0,L=a.length;C<L;C++){var N=a[C];(d(N,C)?g:x).push(N)}return{pass:g,fail:x}}function Jt(a,d){for(var g=[],x=0,C=a.length;x<C;x++){var L=a[x];d(L,x)&&g.push(L)}return g}function Fe(a,d,g){return _e(a,function(x,C){g=d(g,x,C)}),g}function Ke(a,d,g){return be(a,function(x,C){g=d(g,x,C)}),g}function sn(a,d,g){for(var x=0,C=a.length;x<C;x++){var L=a[x];if(d(L,x))return ge.some(L);if(g(L,x))break}return ge.none()}function hn(a,d){return sn(a,d,tn)}function $e(a,d){for(var g=0,x=a.length;g<x;g++)if(d(a[g],g))return ge.some(g);return ge.none()}function ti(a,d){return function(g){for(var x=[],C=0,L=g.length;C<L;++C){if(!It(g[C]))throw new Error("Arr.flatten item "+C+" was not an array, input: "+g);Xs.apply(x,g[C])}return x}(ze(a,d))}function ui(a,d){for(var g=0,x=a.length;g<x;++g)if(!0!==d(a[g],g))return!1;return!0}function hi(a){var d=Vi.call(a,0);return d.reverse(),d}function ur(a,d){return Jt(a,function(g){return!oe(d,g)})}function Zi(a,d){var g=Vi.call(a,0);return g.sort(d),g}function dn(a,d){return 0<=d&&d<a.length?ge.some(a[d]):ge.none()}function fn(a){return dn(a,0)}function On(a){return dn(a,a.length-1)}function Tn(a,d){for(var g=0;g<a.length;g++){var x=d(a[g],g);if(x.isSome())return x}return ge.none()}function En(a,d){for(var g=ca(a),x=0,C=g.length;x<C;x++){var L=g[x];d(a[L],L)}}function Di(a,d){return Ja(a,function(g,x){return{k:x,v:d(g,x)}})}function Oi(a){return function(d,g){a[g]=d}}function Ni(a,d,g,x){return En(a,function(C,L){(d(C,L)?g:x)(C,L)}),1}function br(a,d){var g={};return Ni(a,d,Oi(g),Nt),g}function ji(a,d){return Yi(a,d)?ge.from(a[d]):ge.none()}function nr(a,d){return Yi(a,d)&&null!=a[d]}function qr(a,d,g){var x,C;if(!a)return!1;if(g=g||a,void 0!==a.length){for(x=0,C=a.length;x<C;x++)if(!1===d.call(g,a[x],x,a))return!1}else for(x in a)if(Yi(a,x)&&!1===d.call(g,a[x],x,a))return!1;return!0}function Io(a,d){var g=[];return qr(a,function(x,C){g.push(d(x,C,a))}),g}function ii(a,d){var g=[];return qr(a,function(x,C){d&&!d(x,C,a)||g.push(x)}),g}function Bl(a,d){if(a)for(var g=0,x=a.length;g<x;g++)if(a[g]===d)return g;return-1}function Fo(a,d,g,x){for(var C=ie(g)?a[0]:g,L=0;L<a.length;L++)C=d.call(x,C,a[L],L);return C}function ei(a,d,g){for(var x=0,C=a.length;x<C;x++)if(d.call(g,a[x],x,a))return x;return-1}function Mr(a){return a[a.length-1]}var ta=function(a){function d(){return C}function g(L){return L(a)}var x=ft(a),C={fold:function(L,N){return N(a)},isSome:on,isNone:tn,getOr:x,getOrThunk:x,getOrDie:x,getOrNull:x,getOrUndefined:x,or:d,orThunk:d,map:function(L){return ta(L(a))},each:function(L){L(a)},bind:g,exists:g,forall:g,filter:function(L){return L(a)?C:an},toArray:function(){return[a]},toString:function(){return"some("+a+")"}};return C},ge={some:ta,none:Ne,from:function(a){return null==a?an:ta(a)}},Vi=Array.prototype.slice,ir=Array.prototype.indexOf,Xs=Array.prototype.push,ho=Pt(Array.from)?Array.from:function(a){return Vi.call(a)},ca=Object.keys,Lr=Object.hasOwnProperty,Ja=function(a,d){var g={};return En(a,function(x,C){var L=d(x,C);g[L.k]=L.v}),g},Yi=function(a,d){return Lr.call(a,d)},Vo=Array.isArray,gi=function(){return(gi=Object.assign||function(a){for(var d,g=1,x=arguments.length;g<x;g++)for(var C in d=arguments[g])Object.prototype.hasOwnProperty.call(d,C)&&(a[C]=d[C]);return a}).apply(this,arguments)};function oo(a,d,g){if(g||2===arguments.length)for(var x,C=0,L=d.length;C<L;C++)!x&&C in d||((x=x||Array.prototype.slice.call(d,0,C))[C]=d[C]);return a.concat(x||Array.prototype.slice.call(d))}function Oa(a){var d,g=!1;return function(){for(var x=[],C=0;C<arguments.length;C++)x[C]=arguments[C];return g||(g=!0,d=a.apply(null,x)),d}}function Na(a,d){var g=String(d).toLowerCase();return hn(a,function(x){return x.search(g)})}function Nr(a,d){return-1!==a.indexOf(d)}function pu(a){return function(d){return d.replace(a,"")}}function Aa(a){return 0<a.length}function Ho(a){return!Aa(a)}function Dr(a){return function(d){return Nr(d,a)}}function ts(a){return window.matchMedia(a).matches}function Ra(a){return null==a?"":(""+a).replace(gu,"")}function ae(a,d){return d?!("array"!==d||!Vo(a))||typeof a===d:void 0!==a}function c(a,d){for(var g=[],x=function(L){return g.push(L),d(L)},C=d(a);(C=C.bind(x)).isSome(););return g}function h(a,d){var g=a.dom;if(1!==g.nodeType)return!1;var x=g;if(void 0!==x.matches)return x.matches(d);if(void 0!==x.msMatchesSelector)return x.msMatchesSelector(d);if(void 0!==x.webkitMatchesSelector)return x.webkitMatchesSelector(d);if(void 0!==x.mozMatchesSelector)return x.mozMatchesSelector(d);throw new Error("Browser lacks native selectors")}function v(a){return 1!==a.nodeType&&9!==a.nodeType&&11!==a.nodeType||0===a.childElementCount}function _(a,d){return a.dom===d.dom}function A(a,d){return zn().browser.isIE()?(C=Node.DOCUMENT_POSITION_CONTAINED_BY,0!=(a.dom.compareDocumentPosition(d.dom)&C)):(L=a.dom)!==(N=d.dom)&&L.contains(N);var C,L,N}function P(){return K(0,0)}function E(a){function d(C){return function(){return g===C}}var g=a.current;return{current:g,version:a.version,isEdge:d("Edge"),isChrome:d("Chrome"),isIE:d("IE"),isOpera:d("Opera"),isFirefox:d(me),isSafari:d("Safari")}}function F(a){function d(C){return function(){return g===C}}var g=a.current;return{current:g,version:a.version,isWindows:d(ut),isiOS:d("iOS"),isAndroid:d(Zt),isOSX:d("OSX"),isLinux:d("Linux"),isSolaris:d(he),isFreeBSD:d(Ue),isChromeOS:d(kn)}}function W(a){if(null==a)throw new Error("Node cannot be null or undefined");return{dom:a}}var K=function(a,d){return{major:a,minor:d}},J={nu:K,detect:function(a,d){var g,x,C=String(d).toLowerCase();return 0===a.length?P():(x=function(N,z){for(var q=0;q<N.length;q++){var Y=N[q];if(Y.test(z))return Y}}(a,g=C))?K(L(1),L(2)):{major:0,minor:0};function L(N){return Number(g.replace(x,"$"+N))}},unknown:P},ct=function(a,d){return""===(g=d)||a.length>=g.length&&a.substr(0,0+g.length)===g;var g},yt=pu(/^\s+|\s+$/g),Vt=pu(/^\s+/g),Ht=pu(/\s+$/g),qt=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,le={browsers:ft([{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(a){return Nr(a,"edge/")&&Nr(a,"chrome")&&Nr(a,"safari")&&Nr(a,"applewebkit")}},{name:"Chrome",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,qt],search:function(a){return Nr(a,"chrome")&&!Nr(a,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(a){return Nr(a,"msie")||Nr(a,"trident")}},{name:"Opera",versionRegexes:[qt,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Dr("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Dr("firefox")},{name:"Safari",versionRegexes:[qt,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(a){return(Nr(a,"safari")||Nr(a,"mobile/"))&&Nr(a,"applewebkit")}}]),oses:ft([{name:"Windows",search:Dr("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(a){return Nr(a,"iphone")||Nr(a,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Dr("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:Dr("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Dr("linux"),versionRegexes:[]},{name:"Solaris",search:Dr("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Dr("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Dr("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}])},me="Firefox",De=function(){return E({current:void 0,version:J.unknown()})},j=E,ut=(ft("Edge"),ft("Chrome"),ft("IE"),ft("Opera"),ft(me),ft("Safari"),"Windows"),Zt="Android",he="Solaris",Ue="FreeBSD",kn="ChromeOS",rn=function(){return F({current:void 0,version:J.unknown()})},Kn=F,zn=(ft(ut),ft("iOS"),ft(Zt),ft("Linux"),ft("OSX"),ft(he),ft(Ue),ft(kn),Oa(function(){return a=navigator.userAgent,d=ge.from(navigator.userAgentData),g=ts,wt=le.browsers(),kt=le.oses(),{browser:Ot=d.bind(function(Qt){return Se=wt,Tn(Qt.brands,function(Be){var te=Be.brand.toLowerCase();return hn(Se,function(pe){var ke;return te===(null===(ke=pe.brand)||void 0===ke?void 0:ke.toLowerCase())}).map(function(pe){return{current:pe.name,version:J.nu(parseInt(Be.version,10),0)}})});var Se}).orThunk(function(){return Na(wt,Qt=a).map(function(Se){var Be=J.detect(Se.versionRegexes,Qt);return{current:Se.name,version:Be}});var Qt}).fold(De,j),os:jt=Na(kt,x=a).map(function(Qt){var Se=J.detect(Qt.versionRegexes,x);return{current:Qt.name,version:Se}}).fold(rn,Kn),deviceType:(L=Ot,N=a,z=g,q=(C=jt).isiOS()&&!0===/ipad/i.test(N),Y=C.isiOS()&&!q,Z=(Q=C.isiOS()||C.isAndroid())||z("(pointer:coarse)"),rt=q||!Y&&Q&&z("(min-device-width:768px)"),pt=Y||Q&&!rt,Ct=L.isSafari()&&C.isiOS()&&!1===/safari/i.test(N),{isiPad:ft(q),isiPhone:ft(Y),isTablet:ft(rt),isPhone:ft(pt),isTouch:ft(Z),isAndroid:C.isAndroid,isiOS:C.isiOS,isWebView:ft(Ct),isDesktop:ft(!pt&&!rt&&!Ct)})};var a,d,g,x,C,L,N,z,q,Y,Q,Z,rt,pt,Ct,wt,kt,Ot,jt})),ai=navigator.userAgent,Mi=zn(),Ki=Mi.browser,Qi=Mi.os,Ur=Mi.deviceType,ao=/WebKit/.test(ai)&&!Ki.isEdge(),es="FormData"in window&&"FileReader"in window&&"URL"in window&&!!URL.createObjectURL,ns=-1!==ai.indexOf("Windows Phone"),Ci={opera:Ki.isOpera(),webkit:ao,ie:!(!Ki.isIE()&&!Ki.isEdge())&&Ki.version.major,gecko:Ki.isFirefox(),mac:Qi.isOSX()||Qi.isiOS(),iOS:Ur.isiPad()||Ur.isiPhone(),android:Qi.isAndroid(),contentEditable:!0,transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:!0,range:window.getSelection&&"Range"in window,documentMode:Ki.isIE()?document.documentMode||7:10,fileApi:es,ceFalse:!0,cacheSuffix:null,container:null,experimentalShadowDom:!1,canHaveCSP:!Ki.isIE(),desktop:Ur.isDesktop(),windowsPhone:ns,browser:{current:Ki.current,version:Ki.version,isChrome:Ki.isChrome,isEdge:Ki.isEdge,isFirefox:Ki.isFirefox,isIE:Ki.isIE,isOpera:Ki.isOpera,isSafari:Ki.isSafari},os:{current:Qi.current,version:Qi.version,isAndroid:Qi.isAndroid,isChromeOS:Qi.isChromeOS,isFreeBSD:Qi.isFreeBSD,isiOS:Qi.isiOS,isLinux:Qi.isLinux,isOSX:Qi.isOSX,isSolaris:Qi.isSolaris,isWindows:Qi.isWindows},deviceType:{isDesktop:Ur.isDesktop,isiPad:Ur.isiPad,isiPhone:Ur.isiPhone,isPhone:Ur.isPhone,isTablet:Ur.isTablet,isTouch:Ur.isTouch,isWebView:Ur.isWebView}},gu=/^\s*|\s*$/g,Ms=function(a,d,g,x){x=x||this,a&&qr(a=g?a[g]:a,function(C,L){return!1!==d.call(x,C,L,g)&&void Ms(C,d,g,x)})},vn={trim:Ra,isArray:Vo,is:ae,toArray:function(a){if(Vo(a))return a;for(var d=[],g=0,x=a.length;g<x;g++)d[g]=a[g];return d},makeMap:function(a,d,g){var x;for(d=d||",",g=g||{},x=(a="string"==typeof(a=a||[])?a.split(d):a).length;x--;)g[a[x]]={};return g},each:qr,map:Io,grep:ii,inArray:Bl,hasOwn:Yi,extend:function(a){for(var d=[],g=1;g<arguments.length;g++)d[g-1]=arguments[g];for(var x=0;x<d.length;x++){var C,L,N=d[x];for(C in N)!Yi(N,C)||void 0!==(L=N[C])&&(a[C]=L)}return a},create:function(a,d,g){var x,C,L,N=this,z=0,q=(a=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(a))[3].match(/(^|\.)(\w+)$/i)[2],Y=N.createNS(a[3].replace(/\.\w+$/,""),g);if(!Y[q]){if("static"===a[2])return Y[q]=d,void(this.onCreate&&this.onCreate(a[2],a[3],Y[q]));d[q]||(d[q]=function(){},z=1),Y[q]=d[q],N.extend(Y[q].prototype,d),a[5]&&(x=N.resolve(a[5]).prototype,C=a[5].match(/\.(\w+)$/i)[1],L=Y[q],Y[q]=z?function(){return x[C].apply(this,arguments)}:function(){return this.parent=x[C],L.apply(this,arguments)},Y[q].prototype[q]=Y[q],N.each(x,function(Q,Z){Y[q].prototype[Z]=x[Z]}),N.each(d,function(Q,Z){x[Z]?Y[q].prototype[Z]=function(){return this.parent=x[Z],Q.apply(this,arguments)}:Z!==q&&(Y[q].prototype[Z]=Q)})),N.each(d.static,function(Q,Z){Y[q][Z]=Q})}},walk:Ms,createNS:function(a,d){var g,x;for(d=d||window,a=a.split("."),g=0;g<a.length;g++)d[x=a[g]]||(d[x]={}),d=d[x];return d},resolve:function(a,d){var g,x;for(d=d||window,g=0,x=(a=a.split(".")).length;g<x&&(d=d[a[g]]);g++);return d},explode:function(a,d){return!a||ae(a,"array")?a:Io(a.split(d||","),Ra)},_addCacheSuffix:function(a){var d=Ci.cacheSuffix;return d&&(a+=(-1===a.indexOf("?")?"?":"&")+d),a}},Qe={fromHtml:function(a,d){var g=(d||document).createElement("div");if(g.innerHTML=a,!g.hasChildNodes()||1<g.childNodes.length)throw console.error("HTML does not have a single root node",a),new Error("HTML must have a single root node");return W(g.childNodes[0])},fromTag:function(a,d){return W((d||document).createElement(a))},fromText:function(a,d){return W((d||document).createTextNode(a))},fromDom:W,fromPoint:function(a,d,g){return ge.from(a.dom.elementFromPoint(d,g)).map(W)}};function pr(a){return a.dom.nodeName.toLowerCase()}function so(a){return a.dom.nodeType}function pl(a){return function(d){return so(d)===a}}function hh(a){return Qe.fromDom(a.dom.ownerDocument)}function Ts(a){return cp(a)?a:hh(a)}function dh(a){return Qe.fromDom(Ts(a).dom.defaultView)}function _o(a){return ge.from(a.dom.parentNode).map(Qe.fromDom)}function Is(a){return ge.from(a.dom.previousSibling).map(Qe.fromDom)}function gl(a){return ge.from(a.dom.nextSibling).map(Qe.fromDom)}function Gs(a){return hi(c(a,Is))}function bc(a){return c(a,gl)}function ma(a,d){return ge.from(a.dom.childNodes[d]).map(Qe.fromDom)}function Yr(a){return ma(a,0)}function lo(a){return ma(a,a.dom.childNodes.length-1)}function qs(a){return a.dom.childNodes.length}function _c(a){return ps(a)&&Ft(a.dom.host)}function Ma(a){return _c(a)?a:function(){var d=Ts(a).dom.head;if(null==d)throw new Error("Head is not available yet");return Qe.fromDom(d)}()}function ea(a){return Qe.fromDom(a.dom.host)}function ha(a,d){_o(a).each(function(g){g.dom.insertBefore(d.dom,a.dom)})}function ml(a,d){gl(a).fold(function(){_o(a).each(function(g){go(g,d)})},function(g){ha(g,d)})}function vl(a,d){Yr(a).fold(function(){go(a,d)},function(g){a.dom.insertBefore(d.dom,g.dom)})}function zl(a,d){be(d,function(g){go(a,g)})}function fh(a){a.dom.textContent="",be(Ta(a),function(d){So(d)})}function Gu(a){var d,g=Ta(a);0<g.length&&(d=a,be(g,function(x){ha(d,x)})),So(a)}function Qh(a,d){return void 0!==a?a:void 0!==d?d:0}function Fl(a){var d=void 0!==a?a.dom:document;return ya(d.body.scrollLeft||d.documentElement.scrollLeft,d.body.scrollTop||d.documentElement.scrollTop)}function Us(a,d,g){var x=(void 0!==g?g.dom:document).defaultView;x&&x.scrollTo(a,d)}function Wo(a,d){zn().browser.isSafari()&&Pt(a.dom.scrollIntoViewIfNeeded)?a.dom.scrollIntoViewIfNeeded(!1):a.dom.scrollIntoView(d)}function $s(a,d,g,x){return{x:a,y:d,width:g,height:x,right:a+g,bottom:d+x}}function jo(a){var d=void 0===a?window:a,x=Fl(Qe.fromDom(d.document)),C=void 0===d?window:d;return(zn().browser.isFirefox()?ge.none():ge.from(C.visualViewport)).fold(function(){var L=d.document.documentElement;return $s(x.left,x.top,L.clientWidth,L.clientHeight)},function(L){return $s(Math.max(L.pageLeft,x.left),Math.max(L.pageTop,x.top),L.width,L.height)})}function yl(a){return function(d){return!!d&&d.nodeType===a}}function is(a){return a&&!Object.getPrototypeOf(a)}function Ba(a){var d=a.map(function(g){return g.toLowerCase()});return function(g){if(g&&g.nodeName){var x=g.nodeName.toLowerCase();return oe(d,x)}return!1}}function qu(a,d){var g=d.toLowerCase().split(" ");return function(x){if(ki(x))for(var C=0;C<g.length;C++){var L=x.ownerDocument.defaultView.getComputedStyle(x,null);if((L?L.getPropertyValue(a):null)===g[C])return!0}return!1}}function Jh(a){return function(d){return ki(d)&&d.hasAttribute(a)}}function mu(a){return ki(a)&&a.hasAttribute("data-mce-bogus")}function vu(a){return ki(a)&&"TABLE"===a.tagName}function td(a){return function(d){return!(!ki(d)||d.contentEditable!==a&&d.getAttribute("data-mce-contenteditable")!==a)}}function va(a,d,g){return void 0===g&&(g=Et),a.exists(function(x){return g(x,d)})}function wo(a,d,g){return a.isSome()&&d.isSome()?ge.some(g(a.getOrDie(),d.getOrDie())):ge.none()}function xl(a){return void 0!==a.style&&Pt(a.style.getPropertyValue)}function wc(a,d,g){if(!(ot(g)||Yt(g)||Xt(g)))throw console.error("Invalid call to Attribute.set. Key ",d,":: Value ",g,":: Element ",a),new Error("Attribute value was not simple");a.setAttribute(d,g+"")}function Ds(a,d,g){wc(a.dom,d,g)}function Es(a,d){var g=a.dom;En(d,function(x,C){wc(g,C,x)})}function Zs(a,d){var g=a.dom.getAttribute(d);return null===g?void 0:g}function Sc(a,d){return ge.from(Zs(a,d))}function bl(a,d){a.dom.removeAttribute(d)}function rs(a,d){var g=a.dom,x=window.getComputedStyle(g).getPropertyValue(d);return""!==x||Uu(a)?x:Ac(g,d)}function ph(a,d){var x=Ac(a.dom,d);return ge.from(x).filter(function(C){return 0<C.length})}function Cc(a){var d={},g=a.dom;if(xl(g))for(var x=0;x<g.style.length;x++){var C=g.style.item(x);d[C]=g.style[C]}return d}function gh(a){return hn(a,na)}function kc(a,d){return a.children&&oe(a.children,d)}"undefined"!=typeof window||Function("return this;")();var na=pl(1),Do=pl(3),cp=pl(9),ps=pl(11),Ta=function(a){return ze(a.dom.childNodes,Qe.fromDom)},yu=Pt(Element.prototype.attachShadow)&&Pt(Node.prototype.getRootNode),xu=ft(yu),gs=yu?function(a){return Qe.fromDom(a.dom.getRootNode())}:Ts,go=function(a,d){a.dom.appendChild(d.dom)},So=function(a){var d=a.dom;null!==d.parentNode&&d.parentNode.removeChild(d)},Uu=function(a){var d=Do(a)?a.dom.parentNode:a.dom;if(null==d||null===d.ownerDocument)return!1;var g=d.ownerDocument,x=Qe.fromDom(d),C=gs(x);return(_c(C)?ge.some(C):ge.none()).fold(function(){return g.body.contains(d)},dt(Uu,ea))},$u=function(a,d){return{left:a,top:d,translate:function(g,x){return $u(a+g,d+x)}}},ya=$u,Zu=function(a){var d,g=a.dom,x=g.ownerDocument.body;return x===g?ya(x.offsetLeft,x.offsetTop):Uu(a)?(d=g.getBoundingClientRect(),ya(d.left,d.top)):ya(0,0)},ki=yl(1),nd=Ba(["textarea","input"]),ri=yl(3),mh=yl(8),za=yl(9),Eo=yl(11),Vr=Ba(["br"]),vh=Ba(["img"]),xa=td("true"),Hr=td("false"),yh=Ba(["td","th"]),os=Ba(["video","audio","object","embed"]),Ac=function(a,d){return xl(a)?a.style.getPropertyValue(d):""},Mc=zn().browser,Tc={},id={exports:Tc};function Vl(a){setTimeout(function(){throw a},0)}function _l(a){return Bi(function(){return new Hl(a)})}function Fa(a){if(!It(a))throw new Error("cases must be an array");if(0===a.length)throw new Error("there must be at least one case");var d=[],g={};return be(a,function(x,C){var L=ca(x);if(1!==L.length)throw new Error("one and only one name per case");var N=L[0],z=x[N];if(void 0!==g[N])throw new Error("duplicate key detected:"+N);if("cata"===N)throw new Error("cannot have a case named cata (sorry)");if(!It(z))throw new Error("case arguments must be an array");d.push(N),g[N]=function(){for(var q=[],Y=0;Y<arguments.length;Y++)q[Y]=arguments[Y];var Q=q.length;if(Q!==z.length)throw new Error("Wrong number of arguments to case "+N+". Expected "+z.length+" ("+z+"), got "+Q);return{fold:function(){for(var Z=[],rt=0;rt<arguments.length;rt++)Z[rt]=arguments[rt];if(Z.length!==a.length)throw new Error("Wrong number of arguments to fold. Expected "+a.length+", got "+Z.length);return Z[C].apply(null,q)},match:function(Z){var rt=ca(Z);if(d.length!==rt.length)throw new Error("Wrong number of arguments to match. Expected: "+d.join(",")+"\nActual: "+rt.join(","));if(!ui(d,function(pt){return oe(rt,pt)}))throw new Error("Not all branches were specified when using match. Specified: "+rt.join(", ")+"\nRequired: "+d.join(", "));return Z[N].apply(null,q)},log:function(Z){console.log(Z,{constructors:d,constructor:N,params:q})}}}}),g}!function(){var a=this,d=function(){var g,x,C,L={exports:{}};function N(){}function z(wt){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof wt)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],pt(wt,this)}function q(wt,kt){for(;3===wt._state;)wt=wt._value;0!==wt._state?(wt._handled=!0,z._immediateFn(function(){var Ot,jt=1===wt._state?kt.onFulfilled:kt.onRejected;if(null!==jt){try{Ot=jt(wt._value)}catch(Qt){return void Q(kt.promise,Qt)}Y(kt.promise,Ot)}else(1===wt._state?Y:Q)(kt.promise,wt._value)})):wt._deferreds.push(kt)}function Y(wt,kt){try{if(kt===wt)throw new TypeError("A promise cannot be resolved with itself.");if(kt&&("object"==typeof kt||"function"==typeof kt)){var Ot=kt.then;if(kt instanceof z)return wt._state=3,wt._value=kt,void Z(wt);if("function"==typeof Ot)return void pt((jt=Ot,Qt=kt,function(){jt.apply(Qt,arguments)}),wt)}wt._state=1,wt._value=kt,Z(wt)}catch(Se){Q(wt,Se)}var jt,Qt}function Q(wt,kt){wt._state=2,wt._value=kt,Z(wt)}function Z(wt){2===wt._state&&0===wt._deferreds.length&&z._immediateFn(function(){wt._handled||z._unhandledRejectionFn(wt._value)});for(var kt=0,Ot=wt._deferreds.length;kt<Ot;kt++)q(wt,wt._deferreds[kt]);wt._deferreds=null}function rt(wt,kt,Ot){this.onFulfilled="function"==typeof wt?wt:null,this.onRejected="function"==typeof kt?kt:null,this.promise=Ot}function pt(wt,kt){var Ot=!1;try{wt(function(jt){Ot||(Ot=!0,Y(kt,jt))},function(jt){Ot||(Ot=!0,Q(kt,jt))})}catch(jt){if(Ot)return;Ot=!0,Q(kt,jt)}}g=L,x="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},C=setTimeout,z.prototype.catch=function(wt){return this.then(null,wt)},z.prototype.then=function(wt,kt){var Ot=new this.constructor(N);return q(this,new rt(wt,kt,Ot)),Ot},z.all=function(wt){var kt=Array.prototype.slice.call(wt);return new z(function(Ot,jt){if(0===kt.length)return Ot([]);for(var Qt=kt.length,Se=0;Se<kt.length;Se++)!function Be(te,pe){try{if(pe&&("object"==typeof pe||"function"==typeof pe)){var ke=pe.then;if("function"==typeof ke)return ke.call(pe,function(Ge){Be(te,Ge)},jt),0}kt[te]=pe,0==--Qt&&Ot(kt)}catch(Ge){jt(Ge)}}(Se,kt[Se])})},z.resolve=function(wt){return wt&&"object"==typeof wt&&wt.constructor===z?wt:new z(function(kt){kt(wt)})},z.reject=function(wt){return new z(function(kt,Ot){Ot(wt)})},z.race=function(wt){return new z(function(kt,Ot){for(var jt=0,Qt=wt.length;jt<Qt;jt++)wt[jt].then(kt,Ot)})},z._immediateFn="function"==typeof setImmediate?function(wt){setImmediate(wt)}:function(wt){C(wt,0)},z._unhandledRejectionFn=function(wt){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",wt)},z._setImmediateFn=function(wt){z._immediateFn=wt},z._setUnhandledRejectionFn=function(wt){z._unhandledRejectionFn=wt},g.exports?g.exports=z:x.Promise||(x.Promise=z);var Ct=L.exports;return{boltExport:("undefined"!=typeof window?window:Function("return this;")()).Promise||Ct}};"object"==typeof Tc&&void 0!==id?id.exports=d():(a="undefined"!=typeof globalThis?globalThis:a||self).EphoxContactWrapper=d()}();var Hl=id.exports.boltExport,as=function(a){function d(N){C()?L(N):x.push(N)}var g=ge.none(),x=[],C=function(){return g.isSome()},L=function(N){g.each(function(z){setTimeout(function(){N(z)},0)})};return a(function(N){C()||(g=ge.some(N),be(x,L),x=[])}),{get:d,map:function(N){return as(function(z){d(function(q){z(N(q))})})},isReady:C}},rd={nu:as,pure:function(a){return as(function(d){d(a)})}},Bi=function(a){function d(g){a().then(g,Vl)}return{map:function(g){return Bi(function(){return a().then(g)})},bind:function(g){return Bi(function(){return a().then(function(x){return g(x).toPromise()})})},anonBind:function(g){return Bi(function(){return a().then(function(){return g.toPromise()})})},toLazy:function(){return rd.nu(d)},toCached:function(){var g=null;return Bi(function(){return g=null===g?a():g})},toPromise:a,get:d}},Ks=function(a){return{isValue:on,isError:tn,getOr:ft(a),getOrThunk:ft(a),getOrDie:ft(a),or:function(d){return Ks(a)},orThunk:function(d){return Ks(a)},fold:function(d,g){return g(a)},map:function(d){return Ks(d(a))},mapError:function(d){return Ks(a)},each:function(d){d(a)},bind:function(d){return d(a)},exists:function(d){return d(a)},forall:function(d){return d(a)},toOptional:function(){return ge.some(a)}}},Qs=function(a){return{isValue:tn,isError:on,getOr:St,getOrThunk:function(d){return d()},getOrDie:function(){return d=String(a),function(){throw new Error(d)}();var d},or:St,orThunk:function(d){return d()},fold:function(d,g){return d(a)},map:function(d){return Qs(a)},mapError:function(d){return Qs(d(a))},each:Nt,bind:function(d){return Qs(a)},exists:tn,forall:on,toOptional:ge.none}},Js={value:Ks,error:Qs,fromOption:function(a,d){return a.fold(function(){return Qs(d)},Ks)}};function Va(a){return a.fold(St,St)}function Wl(a,d,g,x,C){return a(g,x)?ge.some(g):Pt(C)&&C(g)?ge.none():d(g,x,C)}function Ls(a,d,g){for(var x=a.dom,C=Pt(g)?g:tn;x.parentNode;){var L=Qe.fromDom(x=x.parentNode);if(d(L))return ge.some(L);if(C(L))break}return ge.none()}function jl(a,d,g){return Wl(function(x,C){return C(x)},Ls,a,d,g)}function tl(a,d,g){return Ls(a,function(x){return h(x,d)},g)}function Xi(a,d){return g=d,v(x=void 0===a?document:a.dom)?ge.none():ge.from(x.querySelector(g)).map(Qe.fromDom);var g,x}function Ic(a,d,g){return Wl(h,tl,a,d,g)}function el(a,d){return"number"!=typeof d&&(d=0),setTimeout(a,d)}function nl(a,d){return"number"!=typeof d&&(d=1),setInterval(a,d)}function da(a,d){function g(){for(var C=[],L=0;L<arguments.length;L++)C[L]=arguments[L];clearTimeout(x),x=el(function(){a.apply(this,C)},d)}var x;return g.stop=function(){clearTimeout(x)},g}function xh(a,d){function g(Q,Z,rt){var pt,Ct=vn._addCacheSuffix(Q),wt=ji(N,Ct).getOrThunk(function(){return{id:"mce-u"+L++,passed:[],failed:[],count:0}});function kt(pe,ke){for(var Ge=pe.length;Ge--;)pe[Ge]();wt.status=ke,wt.passed=[],wt.failed=[],pt&&(pt.onload=null,pt.onerror=null,pt=null)}function Ot(){return kt(wt.passed,2),0}function jt(){return kt(wt.failed,3)}(N[Ct]=wt).count++;var Qt,Se,Be,te=function(){var pe=te;!function(){for(var ke=a.styleSheets,Ge=ke.length;Ge--;){var nn=ke[Ge].ownerNode;if(nn&&nn.id===pt.id)return Ot(),1}}()&&(Date.now()-Se<Y?Wr.setTimeout(pe):jt())};Z&&wt.passed.push(Z),rt&&wt.failed.push(rt),1!==wt.status&&(2!==wt.status?3!==wt.status?(wt.status=1,Es(Qt=Qe.fromTag("link",q.dom),{rel:"stylesheet",type:"text/css",id:wt.id}),Se=Date.now(),d.contentCssCors&&Ds(Qt,"crossOrigin","anonymous"),d.referrerPolicy&&Ds(Qt,"referrerpolicy",d.referrerPolicy),(pt=Qt.dom).onload=te,pt.onerror=jt,Be=Qt,go(Ma(z),Be),Ds(Qt,"href",Ct)):jt():Ot())}function x(Q){return _l(function(Z){g(Q,gt(Z,ft(Js.value(Q))),gt(Z,ft(Js.error(Q))))})}function C(Q){var Z=vn._addCacheSuffix(Q);ji(N,Z).each(function(rt){var pt;0==--rt.count&&(delete N[Z],pt=rt.id,Xi(Ma(z),"#"+pt).each(So))})}void 0===d&&(d={});var L=0,N={},z=Qe.fromDom(a),q=Ts(z),Y=d.maxLoadTime||5e3;return{load:g,loadAll:function(Q,Z,rt){var pt,Ct=ze(Q,x);pt=Ct,_l(function(wt){var kt=[],Ot=0;0===pt.length?wt([]):be(pt,function(jt,Qt){var Se;jt.get((Se=Qt,function(Be){kt[Se]=Be,++Ot>=pt.length&&wt(kt)}))})}).get(function(wt){var kt=de(wt,function(Ot){return Ot.isValue()});0<kt.fail.length?rt(kt.fail.map(Va)):Z(kt.pass.map(Va))})},unload:C,unloadAll:function(Q){be(Q,function(Z){C(Z)})},_setReferrerPolicy:function(Q){d.referrerPolicy=Q}}}Fa([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);var Lo,Co,no=window.Promise||Hl,Wr={requestAnimationFrame:function(a,d){Lo?Lo.then(a):Lo=new no(function(g){!function(x,C){for(var L=window.requestAnimationFrame,N=["ms","moz","webkit"],z=0;z<N.length&&!L;z++)L=window[N[z]+"RequestAnimationFrame"];(L=L||function(q){window.setTimeout(q,0)})(x,C)}(g,d=d||document.body)}).then(a)},setTimeout:el,setInterval:nl,setEditorTimeout:function(a,d,g){return el(function(){a.removed||d()},g)},setEditorInterval:function(a,d,g){var x=nl(function(){a.removed?clearInterval(x):d()},g);return x},debounce:da,throttle:da,clearInterval:function(a){return clearInterval(a)},clearTimeout:function(a){return clearTimeout(a)}},Yl=(Co=new WeakMap,{forElement:function(a,d){var g=gs(a).dom;return ge.from(Co.get(g)).getOrThunk(function(){var x=xh(g,d);return Co.set(g,x),x})}}),Jr=(il.prototype.current=function(){return this.node},il.prototype.next=function(a){return this.node=this.findSibling(this.node,"firstChild","nextSibling",a),this.node},il.prototype.prev=function(a){return this.node=this.findSibling(this.node,"lastChild","previousSibling",a),this.node},il.prototype.prev2=function(a){return this.node=this.findPreviousNode(this.node,"lastChild","previousSibling",a),this.node},il.prototype.findSibling=function(a,d,g,x){var C,L;if(a){if(!x&&a[d])return a[d];if(a!==this.rootNode){if(C=a[g])return C;for(L=a.parentNode;L&&L!==this.rootNode;L=L.parentNode)if(C=L[g])return C}}},il.prototype.findPreviousNode=function(a,d,g,x){var C,L,N;if(a&&(C=a[g],!this.rootNode||C!==this.rootNode)){if(C){if(!x)for(N=C[d];N;N=N[d])if(!N[d])return N;return C}return(L=a.parentNode)&&L!==this.rootNode?L:void 0}},il);function il(a,d){this.node=a,this.rootNode=d,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}function Xl(a){var d;return function(g){return d=d||function(x,C){for(var L={},N=0,z=x.length;N<z;N++){var q=x[N];L[String(q)]=C(q,N)}return L}(a,on),Yi(d,pr(g))}}function Ia(a){return na(a)&&!$r(a)}function wl(a){return na(a)&&"br"===pr(a)}function Gl(a){return Xo(a)&&(a=a.parentNode),mr(a)&&a.hasAttribute("data-mce-caret")}function Da(a){return Xo(a)&&Ao(a.data)}function ko(a){return Gl(a)||Da(a)}function ue(a){return a.firstChild!==a.lastChild||!Vr(a.firstChild)}function nt(a){var d=a.container();return!!ri(d)&&(d.data.charAt(a.offset())===Ai||a.isAtStart()&&Da(d.previousSibling))}function bt(a){var d=a.container();return!!ri(d)&&(d.data.charAt(a.offset()-1)===Ai||a.isAtEnd()&&Da(d.nextSibling))}function Me(a){return a&&a.hasAttribute("data-mce-caret")?(mu(g=(d=a.getElementsByTagName("br"))[d.length-1])&&g.parentNode.removeChild(g),a.removeAttribute("data-mce-caret"),a.removeAttribute("data-mce-bogus"),a.removeAttribute("style"),a.removeAttribute("_moz_abspos"),a):null;var d,g}function We(a){return Gl(a.startContainer)}function Je(a){return!Ju(a)&&(Qu(a)?!No(a.parentNode):Sl(a)||af(a)||_u(a)||ar(a))}function wn(a,d){return Je(a)&&function(g,x){for(g=g.parentNode;g&&g!==x;g=g.parentNode){if(ar(g))return!1;if(bh(g))return!0}return!0}(a,d)}function Wn(a){return _h.test(a)}function si(a,d){return Je(a)&&(N=d,!1===(ri(L=a)&&Wn(L.data)&&(g=L,x=Qe.fromDom(N),!1===tl(Qe.fromDom(g),"pre,code",vt(_,x)).isSome())))||ki(C=a)&&"A"===C.nodeName&&!C.hasAttribute("href")&&(C.hasAttribute("name")||C.hasAttribute("id"))||Dc(a);var g,x,C,L,N}function li(a,d){return function(g,x){var C=0;if(si(g,g))return!1;var L=g.firstChild;if(!L)return!0;var N=new Jr(L,g);do{if(x){if(Mo(L)){L=N.next(!0);continue}if(wh(L)){L=N.next();continue}}if(Vr(L))C++,L=N.next();else{if(si(L,g))return!1;L=N.next()}}while(L);return C<=1}(a.dom,d=void 0===d||d)}function yi(a,d){return Ft(a)&&(si(a,d)||Ia(Qe.fromDom(a)))}function Bn(a){return"span"===a.nodeName.toLowerCase()&&"bookmark"===a.getAttribute("data-mce-type")}function In(a,d){var g,x,C,L={};if(a){for(a=a.split(","),d=d||10,g=0;g<a.length;g+=2)x=String.fromCharCode(parseInt(a[g],d)),Wa[x]||(L[x]=C="&"+a[g+1]+";",L[C]=x);return L}}function xi(a,d){return a.replace(d?sf:od,function(g){return Wa[g]||g})}function Li(a,d){return a.replace(d?sf:od,function(g){return 1<g.length?"&#"+(1024*(g.charCodeAt(0)-55296)+(g.charCodeAt(1)-56320)+65536)+";":Wa[g]||"&#"+g.charCodeAt(0)+";"})}function Hi(a,d,g){return g=g||zg,a.replace(d?sf:od,function(x){return Wa[x]||g[x]||x})}function Ti(a,d){return(a=vn.trim(a))?a.split(d||" "):[]}function Pr(a,d){var g;return a&&(g={},Go(a="string"==typeof a?{"*":a}:a,function(x,C){g[C]=g[C.toUpperCase()]=("map"===d?ec:Vg)(x,/[, ]/)})),g}function or(a){function d(Mn,jn,mi){var Ri=a[Mn];return Ri?Ri=ec(Ri,/[, ]/,ec(Ri.toUpperCase(),/[, ]/)):(Ri=Ch[Mn])||(Ri=ec(jn," ",ec(jn.toUpperCase()," ")),Ri=Su(Ri,mi),Ch[Mn]=Ri),Ri}var g,x,C,L,N,z,q,Y,Q={},Z={},rt=[],pt={},Ct={},wt=(g=(a=a||{}).schema,Y={},Ch[g]||(x="id accesskey class dir lang style tabindex title role",C="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",L="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment","html4"!==g&&(x+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",C+=" article aside details dialog figure main header footer hgroup section nav",L+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"),"html5-strict"!==g&&(x+=" xml:lang",L=[L,q="acronym applet basefont big font strike tt"].join(" "),Go(Ti(q),function(Mn){kt(Mn,"",L)}),C=[C,z="center dir isindex noframes"].join(" "),N=[C,L].join(" "),Go(Ti(z),function(Mn){kt(Mn,"",N)})),N=N||[C,L].join(" "),kt("html","manifest","head body"),kt("head","","base command link meta noscript script style title"),kt("title hr noscript br"),kt("base","href target"),kt("link","href rel media hreflang type sizes hreflang"),kt("meta","name http-equiv content charset"),kt("style","media type scoped"),kt("script","src async defer type charset"),kt("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",N),kt("address dt dd div caption","",N),kt("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",L),kt("blockquote","cite",N),kt("ol","reversed start type","li"),kt("ul","","li"),kt("li","value",N),kt("dl","","dt dd"),kt("a","href target rel media hreflang type",L),kt("q","cite",L),kt("ins del","cite datetime",N),kt("img","src sizes srcset alt usemap ismap width height"),kt("iframe","src name width height",N),kt("embed","src type width height"),kt("object","data type typemustmatch name usemap form width height",[N,"param"].join(" ")),kt("param","name value"),kt("map","name",[N,"area"].join(" ")),kt("area","alt coords shape href target rel media hreflang type"),kt("table","border","caption colgroup thead tfoot tbody tr"+("html4"===g?" col":"")),kt("colgroup","span","col"),kt("col","span"),kt("tbody thead tfoot","","tr"),kt("tr","","td th"),kt("td","colspan rowspan headers",N),kt("th","colspan rowspan headers scope abbr",N),kt("form","accept-charset action autocomplete enctype method name novalidate target",N),kt("fieldset","disabled form name",[N,"legend"].join(" ")),kt("label","form for",L),kt("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),kt("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value","html4"===g?N:L),kt("select","disabled form multiple name required size","option optgroup"),kt("optgroup","disabled label","option"),kt("option","disabled label selected value"),kt("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),kt("menu","type label",[N,"li"].join(" ")),kt("noscript","",N),"html4"!==g&&(kt("wbr"),kt("ruby","",[L,"rt rp"].join(" ")),kt("figcaption","",N),kt("mark rt rp summary bdi","",L),kt("canvas","width height",N),kt("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[N,"track source"].join(" ")),kt("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[N,"track source"].join(" ")),kt("picture","","img source"),kt("source","src srcset type media sizes"),kt("track","kind src srclang label default"),kt("datalist","",[L,"option"].join(" ")),kt("article section nav aside main header footer","",N),kt("hgroup","","h1 h2 h3 h4 h5 h6"),kt("figure","",[N,"figcaption"].join(" ")),kt("time","datetime",L),kt("dialog","open",N),kt("command","type label icon disabled checked radiogroup command"),kt("output","for form name",L),kt("progress","value max",L),kt("meter","value min max low high optimum",L),kt("details","open",[N,"summary"].join(" ")),kt("keygen","autofocus challenge disabled form keytype name")),"html5-strict"!==g&&(Ot("script","language xml:space"),Ot("style","xml:space"),Ot("object","declare classid code codebase codetype archive standby align border hspace vspace"),Ot("embed","align name hspace vspace"),Ot("param","valuetype type"),Ot("a","charset name rev shape coords"),Ot("br","clear"),Ot("applet","codebase archive code object alt name width height align hspace vspace"),Ot("img","name longdesc align border hspace vspace"),Ot("iframe","longdesc frameborder marginwidth marginheight scrolling align"),Ot("font basefont","size color face"),Ot("input","usemap align"),Ot("select"),Ot("textarea"),Ot("h1 h2 h3 h4 h5 h6 div p legend caption","align"),Ot("ul","type compact"),Ot("li","type"),Ot("ol dl menu dir","compact"),Ot("pre","width xml:space"),Ot("hr","align noshade size width"),Ot("isindex","prompt"),Ot("table","summary width frame rules cellspacing cellpadding align bgcolor"),Ot("col","width align char charoff valign"),Ot("colgroup","width align char charoff valign"),Ot("thead","align char charoff valign"),Ot("tr","align char charoff valign bgcolor"),Ot("th","axis align char charoff valign nowrap bgcolor width height"),Ot("form","accept"),Ot("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),Ot("tfoot","align char charoff valign"),Ot("tbody","align char charoff valign"),Ot("area","nohref"),Ot("body","background bgcolor text link vlink alink")),"html4"!==g&&(Ot("input button select textarea","autofocus"),Ot("input textarea","placeholder"),Ot("a","download"),Ot("link script img","crossorigin"),Ot("img","loading"),Ot("iframe","sandbox seamless allowfullscreen loading")),Go(Ti("a form meter progress dfn"),function(Mn){Y[Mn]&&delete Y[Mn].children[Mn]}),delete Y.caption.children.table,delete Y.script,Ch[g]=Y));function kt(Mn,jn,mi){function Ri(Or,sa){for(var la={},Xu=0,Qo=Or.length;Xu<Qo;Xu++)la[Or[Xu]]=sa||{};return la}var kr,Sr;jn=jn||"","string"==typeof(mi=mi||[])&&(mi=Ti(mi));for(var vi=Ti(Mn),Cr=vi.length;Cr--;)Sr={attributes:Ri(kr=Ti([x,jn].join(" "))),attributesOrder:kr,children:Ri(mi,Fg)},Y[vi[Cr]]=Sr}function Ot(Mn,jn){for(var mi,Ri,kr,Sr=Ti(Mn),vi=Sr.length,Cr=Ti(jn);vi--;)for(mi=Y[Sr[vi]],Ri=0,kr=Cr.length;Ri<kr;Ri++)mi.attributes[Cr[Ri]]={},mi.attributesOrder.push(Cr[Ri])}!1===a.verify_html&&(a.valid_elements="*[*]");var jt=Pr(a.valid_styles),Qt=Pr(a.invalid_styles,"map"),Se=Pr(a.valid_classes,"map"),Be=d("whitespace_elements","pre script noscript style textarea video audio iframe object code"),te=d("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),pe=d("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),ke=d("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"),Ge="td th iframe video audio object script code",nn=d("non_empty_elements",Ge+" pre",pe),ln=d("move_caret_before_on_enter_elements",Ge+" table",pe),Ve=d("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),qe=d("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary",Ve),je=d("text_inline_elements","span strong b em i font strike u var cite dfn code mark q sup sub samp");function Ze(Mn){return new RegExp("^"+Mn.replace(/([?+*])/g,".$1")+"$")}function pn(Mn){var jn,mi,Ri,kr,Sr,vi,Cr,Or,sa,la,Xu,Qo,ks,du,Ig,Zh,yc,xc,dk=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/,fk=/^([!\-])?(\w+[\\:]:\w+|[^=:<]+)?(?:([=:<])(.*))?$/,pk=/[*?+]/;if(Mn){var gk=Ti(Mn,",");for(Q["@"]&&(Zh=Q["@"].attributes,yc=Q["@"].attributesOrder),jn=0,mi=gk.length;jn<mi;jn++)if(Sr=dk.exec(gk[jn])){if(sa=Sr[2],Ig=Sr[3],Or=Sr[5],vi={attributes:Qo={},attributesOrder:ks=[]},"#"===(du=Sr[1])&&(vi.paddEmpty=!0),"-"===du&&(vi.removeEmpty=!0),"!"===Sr[4]&&(vi.removeEmptyAttrs=!0),Zh&&(En(Zh,function(JA,tM){Qo[tM]=JA}),ks.push.apply(ks,yc)),Or)for(Ri=0,kr=(Or=Ti(Or,"|")).length;Ri<kr;Ri++)(Sr=fk.exec(Or[Ri]))&&(Cr={},Xu=Sr[1],la=Sr[2].replace(/[\\:]:/g,":"),du=Sr[3],xc=Sr[4],"!"===Xu&&(vi.attributesRequired=vi.attributesRequired||[],vi.attributesRequired.push(la),Cr.required=!0),"-"!==Xu?(du&&("="===du&&(vi.attributesDefault=vi.attributesDefault||[],vi.attributesDefault.push({name:la,value:xc}),Cr.defaultValue=xc),":"===du&&(vi.attributesForced=vi.attributesForced||[],vi.attributesForced.push({name:la,value:xc}),Cr.forcedValue=xc),"<"===du&&(Cr.validValues=ec(xc,"?"))),pk.test(la)?(vi.attributePatterns=vi.attributePatterns||[],Cr.pattern=Ze(la),vi.attributePatterns.push(Cr)):(Qo[la]||ks.push(la),Qo[la]=Cr)):(delete Qo[la],ks.splice(Vx(ks,la),1)));Zh||"@"!==sa||(Zh=Qo,yc=ks),Ig&&(vi.outputName=sa,Q[Ig]=vi),pk.test(sa)?(vi.pattern=Ze(sa),rt.push(vi)):Q[sa]=vi}}}function Pn(Mn){Q={},rt=[],pn(Mn),Go(wt,function(jn,mi){Z[mi]=jn.children})}function Vn(Mn){var jn=/^(~)?(.+)$/;Mn&&(Ch.text_block_elements=Ch.block_elements=null,Go(Ti(Mn,","),function(mi){var Ri,kr=jn.exec(mi),Sr="~"===kr[1],vi=Sr?"span":"div",Cr=kr[2];Z[Cr]=Z[vi],pt[Cr]=vi,Sr||(qe[Cr.toUpperCase()]={},qe[Cr]={}),Q[Cr]||(delete(Ri=Su({},Ri=Q[vi])).removeEmptyAttrs,delete Ri.removeEmpty,Q[Cr]=Ri),Go(Z,function(Or,sa){Or[vi]&&(Z[sa]=Or=Su({},Z[sa]),Or[Cr]=Or[vi])})}))}function xn(Mn){var jn=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;Ch[a.schema]=null,Mn&&Go(Ti(Mn,","),function(mi){var Ri,kr,Sr=jn.exec(mi);Sr&&(Ri=(kr=Sr[1])?Z[Sr[2]]:Z[Sr[2]]={"#comment":{}},Ri=Z[Sr[2]],Go(Ti(Sr[3],"|"),function(vi){"-"===kr?delete Ri[vi]:Ri[vi]={}}))})}function bn(Mn){var jn,mi=Q[Mn];if(mi)return mi;for(jn=rt.length;jn--;)if((mi=rt[jn]).pattern.test(Mn))return mi}Go((a.special||"script noscript iframe noframes noembed title style textarea xmp").split(" "),function(Mn){Ct[Mn]=new RegExp("</"+Mn+"[^>]*>","gi")}),a.valid_elements?Pn(a.valid_elements):(Go(wt,function(Mn,jn){Q[jn]={attributes:Mn.attributes,attributesOrder:Mn.attributesOrder},Z[jn]=Mn.children}),"html5"!==a.schema&&Go(Ti("strong/b em/i"),function(Mn){var jn=Ti(Mn,"/");Q[jn[1]].outputName=jn[0]}),Go(Ti("ol ul sub sup blockquote span font a table tbody strong em b i"),function(Mn){Q[Mn]&&(Q[Mn].removeEmpty=!0)}),Go(Ti("p h1 h2 h3 h4 h5 h6 th td pre div address caption li"),function(Mn){Q[Mn].paddEmpty=!0}),Go(Ti("span"),function(Mn){Q[Mn].removeEmptyAttrs=!0})),Vn(a.custom_elements),xn(a.valid_children),pn(a.extended_valid_elements),xn("+ol[ul|ol],+ul[ul|ol]"),Go({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},function(Mn,jn){Q[jn]&&(Q[jn].parentsRequired=Ti(Mn))}),a.invalid_elements&&Go(Vg(a.invalid_elements),function(Mn){Q[Mn]&&delete Q[Mn]}),bn("span")||pn("span[!data-mce-type|*]");var qn=ft(jt),$n=ft(Qt),Nn=ft(Se),pi=ft(ke),Cn=ft(qe),Gn=ft(Ve),Rn=ft(je),Zn=ft(pe),oi=ft(te),yr=ft(nn),Ce=ft(ln),Ye=ft(Be),Sn=ft(Ct),An=ft(pt);return{children:Z,elements:Q,getValidStyles:qn,getValidClasses:Nn,getBlockElements:Cn,getInvalidStyles:$n,getShortEndedElements:Zn,getTextBlockElements:Gn,getTextInlineElements:Rn,getBoolAttrs:pi,getElementRule:bn,getSelfClosingElements:oi,getNonEmptyElements:yr,getMoveCaretBeforeOnEnterElements:Ce,getWhiteSpaceElements:Ye,getSpecialElements:Sn,isValidChild:function(Mn,jn){var mi=Z[Mn.toLowerCase()];return!(!mi||!mi[jn.toLowerCase()])},isValid:function(Mn,jn){var mi,Ri,kr=bn(Mn);if(kr){if(!jn||kr.attributes[jn])return!0;if(mi=kr.attributePatterns)for(Ri=mi.length;Ri--;)if(mi[Ri].pattern.test(Mn))return!0}return!1},getCustomElements:An,addValidElements:pn,setValidElements:Pn,addCustomElements:Vn,addValidChildren:xn}}function cr(a,d,g,x){function C(L){return 1<(L=parseInt(L,10).toString(16)).length?L:"0"+L}return"#"+C(d)+C(g)+C(x)}function _r(a,d){var g,x,C=this,L=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,N=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,z=/\s*([^:]+):\s*([^;]+);?/g,q=/\s+$/,Y={},Q=io;a=a||{},d&&(g=d.getValidStyles(),x=d.getInvalidStyles());for(var Z=("\\\" \\' \\; \\: ; : "+Q).split(" "),rt=0;rt<Z.length;rt++)Y[Z[rt]]=Q+rt,Y[Q+rt]=Z[rt];return{toHex:function(pt){return pt.replace(L,cr)},parse:function(pt){function Ct(Ze,pn,Pn){var Vn=Ve[Ze+"-top"+pn];if(Vn){var xn=Ve[Ze+"-right"+pn];if(xn){var bn=Ve[Ze+"-bottom"+pn];if(bn){var qn=Ve[Ze+"-left"+pn];if(qn){var $n=[Vn,xn,bn,qn];for(rt=$n.length-1;rt--&&$n[rt]===$n[rt+1];);-1<rt&&Pn||(Ve[Ze+pn]=-1===rt?$n[0]:$n.join(" "),delete Ve[Ze+"-top"+pn],delete Ve[Ze+"-right"+pn],delete Ve[Ze+"-bottom"+pn],delete Ve[Ze+"-left"+pn])}}}}}function wt(Ze){var pn,Pn=Ve[Ze];if(Pn){for(pn=(Pn=Pn.split(" ")).length;pn--;)if(Pn[pn]!==Pn[0])return;return Ve[Ze]=Pn[0],1}}function kt(Ze){return ke=!0,Y[Ze]}function Ot(Ze,pn){return ke&&(Ze=Ze.replace(/\uFEFF[0-9]/g,function(Pn){return Y[Pn]})),pn?Ze:Ze.replace(/\\([\'\";:])/g,"$1")}function jt(Ze){return String.fromCharCode(parseInt(Ze.slice(1),16))}function Qt(Ze){return Ze.replace(/\\[0-9a-f]+/gi,jt)}function Se(Ze,pn,Pn,Vn,xn,bn){if(xn=xn||bn)return"'"+(xn=Ot(xn)).replace(/\'/g,"\\'")+"'";if(pn=Ot(pn||Pn||Vn),!a.allow_script_urls){var qn=pn.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(qn)||!a.allow_svg_data_urls&&/^data:image\/svg/i.test(qn))return""}return"url('"+(pn=qe?qe.call(je,pn,"style"):pn).replace(/\'/g,"\\'")+"')"}var Be,te,pe,ke,Ge,nn,ln,Ve={},qe=a.url_converter,je=a.url_converter_scope||C;if(pt){for(pt=(pt=pt.replace(/[\u0000-\u001F]/g,"")).replace(/\\[\"\';:\uFEFF]/g,kt).replace(/\"[^\"]+\"|\'[^\']+\'/g,function(Ze){return Ze.replace(/[;:]/g,kt)});Be=z.exec(pt);)z.lastIndex=Be.index+Be[0].length,te=Be[1].replace(q,"").toLowerCase(),pe=Be[2].replace(q,""),te&&pe&&(te=Qt(te),pe=Qt(pe),-1===te.indexOf(Q)&&-1===te.indexOf('"')&&(a.allow_script_urls||"behavior"!==te&&!/expression\s*\(|\/\*|\*\//.test(pe))&&("font-weight"===te&&"700"===pe?pe="bold":"color"!==te&&"background-color"!==te||(pe=pe.toLowerCase()),pe=(pe=pe.replace(L,cr)).replace(N,Se),Ve[te]=ke?Ot(pe,!0):pe));Ct("border","",!0),Ct("border","-width"),Ct("border","-color"),Ct("border","-style"),Ct("padding",""),Ct("margin",""),nn="border-style",ln="border-color",wt(Ge="border-width")&&wt(nn)&&wt(ln)&&(Ve.border=Ve[Ge]+" "+Ve[nn]+" "+Ve[ln],delete Ve[Ge],delete Ve[nn],delete Ve[ln]),"medium none"===Ve.border&&delete Ve.border,"none"===Ve["border-image"]&&delete Ve["border-image"]}return Ve},serialize:function(pt,Ct){function wt(Ot){var jt,Qt=g[Ot];if(Qt)for(var Se=0,Be=Qt.length;Se<Be;Se++)(jt=pt[Ot=Qt[Se]])&&(kt+=(0<kt.length?" ":"")+Ot+": "+jt+";")}var kt="";return Ct&&g?(wt("*"),wt(Ct)):En(pt,function(Ot,jt){var Qt;!Ot||x&&((Qt=x["*"])&&Qt[jt]||(Qt=x[Ct])&&Qt[jt])||(kt+=(0<kt.length?" ":"")+jt+": "+Ot+";")}),kt}}}function hr(a){return a instanceof Event||Pt(a.initEvent)}function gr(a,d,g,x){var C,L,N=function(z){var q,Y=null!=x?x:{};for(q in z)Yi(Hg,q)||(Y[q]=z[q]);return Ft(Y.composedPath)&&(Y.composedPath=function(){return z.composedPath()}),Y}(d);return N.type=a,Wt(N.target)&&(N.target=null!==(C=N.srcElement)&&void 0!==C?C:g),(Wt((L=d).preventDefault)||hr(L))&&(N.preventDefault=function(){N.defaultPrevented=!0,N.isDefaultPrevented=on,Pt(d.preventDefault)?d.preventDefault():hr(d)&&(d.returnValue=!1)},N.stopPropagation=function(){N.cancelBubble=!0,N.isPropagationStopped=on,Pt(d.stopPropagation)?d.stopPropagation():hr(d)&&(d.cancelBubble=!0)},N.stopImmediatePropagation=function(){N.isImmediatePropagationStopped=on,N.stopPropagation()},N.isDefaultPrevented!==on&&N.isDefaultPrevented!==tn&&(N.isDefaultPrevented=!0===N.defaultPrevented?on:tn,N.isPropagationStopped=!0===N.cancelBubble?on:tn,N.isImmediatePropagationStopped=tn)),N}function qi(a,d,g,x){a.addEventListener?a.addEventListener(d,g,x||!1):a.attachEvent&&a.attachEvent("on"+d,g)}function Ji(a,d,g,x){a.removeEventListener?a.removeEventListener(d,g,x||!1):a.detachEvent&&a.detachEvent("on"+d,g)}function wr(a,d){var g,x,C,L,N=gr(a.type,a,document,d);return Ft(L=a)&&jv.test(L.type)&&ie(a.pageX)&&!ie(a.clientX)&&(x=(g=N.target.ownerDocument||document).documentElement,C=g.body,N.pageX=a.clientX+(x&&x.scrollLeft||C&&C.scrollLeft||0)-(x&&x.clientLeft||C&&C.clientLeft||0),N.pageY=a.clientY+(x&&x.scrollTop||C&&C.scrollTop||0)-(x&&x.clientTop||C&&C.clientTop||0)),ie(N.metaKey)&&(N.metaKey=!1),N}var fo=Xl(["h1","h2","h3","h4","h5","h6"]),$r=Xl(["article","aside","details","div","dt","figcaption","footer","form","fieldset","header","hgroup","html","main","nav","section","summary","body","p","dl","multicol","dd","figure","address","center","blockquote","h1","h2","h3","h4","h5","h6","listing","xmp","pre","plaintext","menu","dir","ul","ol","li","hr","table","tbody","thead","tfoot","th","tr","td","caption"]),ba=Xl(["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"]),uo=Xl(["ul","ol","dl"]),Po=Xl(["li","dd","dt"]),Ps=Xl(["thead","tbody","tfoot"]),Ha=Xl(["td","th"]),Yo=Xl(["pre","script","textarea","style"]),io="\ufeff",Oo="\xa0",Ai=io,Ao=function(a){return a===io},mo=function(a){return a.replace(/\uFEFF/g,"")},mr=ki,Xo=ri,ms=function(a){return Xo(a)&&a.data[0]===Ai},rl=function(a){return Xo(a)&&a.data[a.data.length-1]===Ai},bh=xa,Ku=Hr,af=Vr,Qu=ri,No=Ba(["script","style","textarea"]),Sl=Ba(["img","input","textarea","hr","iframe","video","audio","object","embed"]),_u=Ba(["table"]),Ju=ko,ar=function(a){return!1===(ki(d=a)&&"true"===d.getAttribute("unselectable"))&&Ku(a);var d},_h=/^[ \t\r\n]*$/,Dc=Jh("data-mce-bookmark"),wh=Jh("data-mce-bogus"),Mo=function(a){return ki(a)&&"all"===a.getAttribute("data-mce-bogus")},Bg=function(a,d,g){var x=g||d;if(ki(d)&&Bn(d))return d;for(var C,L,N,z,q,Y,Q,Z,rt,pt,Ct,wt=d.childNodes,kt=wt.length-1;0<=kt;kt--)Bg(a,wt[kt],x);return!ki(d)||1===(C=d.childNodes).length&&Bn(C[0])&&d.parentNode.insertBefore(C[0],d),Eo(N=d)||za(N)||si(d,x)||ki(L=d)&&0<L.childNodes.length||(q=x,ri(z=d)&&0<z.data.length&&(Z=new Jr(Y=z,Q=q).prev(!1),rt=new Jr(Y,Q).next(!1),pt=ie(Z)||yi(Z,Q),Ct=ie(rt)||yi(rt,Q),pt&&Ct))||a.remove(d),d},Sh=vn.makeMap,sf=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,od=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,tc=/[<>&\"\']/g,Ec=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,lf={128:"\u20ac",130:"\u201a",131:"\u0192",132:"\u201e",133:"\u2026",134:"\u2020",135:"\u2021",136:"\u02c6",137:"\u2030",138:"\u0160",139:"\u2039",140:"\u0152",142:"\u017d",145:"\u2018",146:"\u2019",147:"\u201c",148:"\u201d",149:"\u2022",150:"\u2013",151:"\u2014",152:"\u02dc",153:"\u2122",154:"\u0161",155:"\u203a",156:"\u0153",158:"\u017e",159:"\u0178"},Wa={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},wu={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},zg=In("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),ql={encodeRaw:xi,encodeAllRaw:function(a){return(""+a).replace(tc,function(d){return Wa[d]||d})},encodeNumeric:Li,encodeNamed:Hi,getEncodeFunc:function(a,d){var g=In(d)||zg,x=Sh(a.replace(/\+/g,","));return x.named&&x.numeric?function(C,L){return C.replace(L?sf:od,function(N){return void 0!==Wa[N]?Wa[N]:void 0!==g[N]?g[N]:1<N.length?"&#"+(1024*(N.charCodeAt(0)-55296)+(N.charCodeAt(1)-56320)+65536)+";":"&#"+N.charCodeAt(0)+";"})}:x.named?d?function(C,L){return Hi(C,L,g)}:Hi:x.numeric?Li:xi},decode:function(a){return a.replace(Ec,function(d,g){return g?65535<(g="x"===g.charAt(0).toLowerCase()?parseInt(g.substr(1),16):parseInt(g,10))?(g-=65536,String.fromCharCode(55296+(g>>10),56320+(1023&g))):lf[g]||String.fromCharCode(g):wu[d]||zg[d]||(x=d,(C=Qe.fromTag("div").dom).innerHTML=x,C.textContent||C.innerText||x);var x,C})}},Ch={},Fg={},ec=vn.makeMap,Go=vn.each,Su=vn.extend,Vg=vn.explode,Vx=vn.inArray,Hg={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},jv=/^(?:mouse|contextmenu)|click/,Lc=(Ul.prototype.bind=function(a,d,g,x){function C(wt){Z.executeHandlers(wr(wt||rt.event),L)}var L,N,z,q,Y,Q,Z=this,rt=window;if(a&&3!==a.nodeType&&8!==a.nodeType){a[Z.expando]?L=a[Z.expando]:(L=Z.count++,a[Z.expando]=L,Z.events[L]={}),x=x||a;for(var pt=d.split(" "),Ct=pt.length;Ct--;)Y=C,q=Q=!1,"DOMContentLoaded"===(z=pt[Ct])&&(z="ready"),Z.domLoaded&&"ready"===z&&"complete"===a.readyState?g.call(x,wr({type:z})):(Z.hasMouseEnterLeave||(q=Z.mouseEnterLeave[z])&&(Y=function(wt){var kt=wt.currentTarget,Ot=wt.relatedTarget;if(Ot&&kt.contains)Ot=kt.contains(Ot);else for(;Ot&&Ot!==kt;)Ot=Ot.parentNode;Ot||((wt=wr(wt||rt.event)).type="mouseout"===wt.type?"mouseleave":"mouseenter",wt.target=kt,Z.executeHandlers(wt,L))}),Z.hasFocusIn||"focusin"!==z&&"focusout"!==z||(Q=!0,q="focusin"===z?"focus":"blur",Y=function(wt){(wt=wr(wt||rt.event)).type="focus"===wt.type?"focusin":"focusout",Z.executeHandlers(wt,L)}),(N=Z.events[L][z])?"ready"===z&&Z.domLoaded?g(wr({type:z})):N.push({func:g,scope:x}):(Z.events[L][z]=N=[{func:g,scope:x}],N.fakeName=q,N.capture=Q,N.nativeHandler=Y,"ready"===z?function(wt,kt,Ot){var jt,Qt=wt.document,Se={type:"ready"};Ot.domLoaded?kt(Se):(jt=function(){Ji(wt,"DOMContentLoaded",jt),Ji(wt,"load",jt),Ot.domLoaded||(Ot.domLoaded=!0,kt(Se)),wt=null},"complete"===Qt.readyState||"interactive"===Qt.readyState&&Qt.body?jt():qi(wt,"DOMContentLoaded",jt),Ot.domLoaded||qi(wt,"load",jt))}(a,Y,Z):qi(a,q||z,Y,Q)));return a=N=null,g}},Ul.prototype.unbind=function(a,d,g){var x,C,L;if(!a||3===a.nodeType||8===a.nodeType)return this;var N=a[this.expando];if(N){if(L=this.events[N],d){for(var z,q,Y,Q,Z=d.split(" "),rt=Z.length;rt--;)if(Q=L[C=Z[rt]]){if(g)for(x=Q.length;x--;)Q[x].func===g&&(z=Q.nativeHandler,q=Q.fakeName,Y=Q.capture,(Q=Q.slice(0,x).concat(Q.slice(x+1))).nativeHandler=z,Q.fakeName=q,Q.capture=Y,L[C]=Q);g&&0!==Q.length||(delete L[C],Ji(a,Q.fakeName||C,Q.nativeHandler,Q.capture))}}else En(L,function(pt,Ct){Ji(a,pt.fakeName||Ct,pt.nativeHandler,pt.capture)}),L={};for(C in L)if(Yi(L,C))return this;delete this.events[N];try{delete a[this.expando]}catch(pt){a[this.expando]=null}}return this},Ul.prototype.fire=function(a,d,g){var x;if(!a||3===a.nodeType||8===a.nodeType)return this;for(var C=wr({type:d,target:a},g);(x=a[this.expando])&&this.executeHandlers(C,x),(a=a.parentNode||a.ownerDocument||a.defaultView||a.parentWindow)&&!C.isPropagationStopped(););return this},Ul.prototype.clean=function(a){var d,g;if(!a||3===a.nodeType||8===a.nodeType)return this;if(a[this.expando]&&this.unbind(a),(a=a.getElementsByTagName?a:a.document)&&a.getElementsByTagName)for(this.unbind(a),d=(g=a.getElementsByTagName("*")).length;d--;)(a=g[d])[this.expando]&&this.unbind(a);return this},Ul.prototype.destroy=function(){this.events={}},Ul.prototype.cancel=function(a){return a&&(a.preventDefault(),a.stopImmediatePropagation()),!1},Ul.prototype.executeHandlers=function(a,d){var g=this.events[d],x=g&&g[a.type];if(x)for(var C=0,L=x.length;C<L;C++){var N=x[C];if(N&&!1===N.func.call(N.scope,a)&&a.preventDefault(),a.isImmediatePropagationStopped())return}},Ul.Event=new Ul,Ul);function Ul(){this.domLoaded=!1,this.events={},this.count=1,this.expando="mce-data-"+(+new Date).toString(32),this.hasMouseEnterLeave="onmouseenter"in document.documentElement,this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}function $l(a,d,g){var x="0x"+d-65536;return x!=x||g?d:x<0?String.fromCharCode(65536+x):String.fromCharCode(x>>10|55296,1023&x|56320)}var qo,jr,ad,Wg,sd,uf,hp,dp,Zl,kh,Cu,Os,Ah,ja,Kl,nc,cf,Xr="sizzle"+-new Date,ol=window.document,ss=0,al=0,Ya=Oc(),jg=Oc(),fp=Oc(),pp=function(a,d){return a===d&&(kh=!0),0},Pc="undefined",Ql={}.hasOwnProperty,Uo=[],Mh=Uo.pop,ic=Uo.push,Jl=Uo.push,vo=Uo.slice,rc=Uo.indexOf||function(a){for(var d=0,g=this.length;d<g;d++)if(this[d]===a)return d;return-1},po="[\\x20\\t\\r\\n\\f]",tu="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ku="\\["+po+"*("+tu+")(?:"+po+"*([*^$|!~]?=)"+po+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+tu+"))|)"+po+"*\\]",ld=":("+tu+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ku+")*)|.*)\\)|)",ud=new RegExp("^"+po+"+|((?:^|[^\\\\])(?:\\\\.)*)"+po+"+$","g"),_a=new RegExp("^"+po+"*,"+po+"*"),hf=new RegExp("^"+po+"*([>+~]|"+po+")"+po+"*"),gp=new RegExp("="+po+"*([^\\]'\"]*?)"+po+"*\\]","g"),cd=new RegExp(ld),Yv=new RegExp("^"+tu+"$"),mp={ID:new RegExp("^#("+tu+")"),CLASS:new RegExp("^\\.("+tu+")"),TAG:new RegExp("^("+tu+"|[*])"),ATTR:new RegExp("^"+ku),PSEUDO:new RegExp("^"+ld),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+po+"*(even|odd|(([+-]|)(\\d*)n|)"+po+"*(?:([+-]|)"+po+"*(\\d+)|))"+po+"*\\)|)","i"),bool:new RegExp("^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$","i"),needsContext:new RegExp("^"+po+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+po+"*((?:-\\d)?\\d*)"+po+"*\\)|)(?=[^-]|$)","i")},Ns=/^(?:input|select|textarea|button)$/i,Rs=/^h\d$/i,hd=/^[^{]+\{\s*\[native \w/,dd=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,sl=/[+~]/,Th=/'|\\/g,To=new RegExp("\\\\([\\da-f]{1,6}"+po+"?|("+po+")|.)","ig");try{Jl.apply(Uo=vo.call(ol.childNodes),ol.childNodes)}catch(a){Jl={apply:Uo.length?function(d,g){ic.apply(d,vo.call(g))}:function(d,g){for(var x=d.length,C=0;d[x++]=g[C++];);d.length=x-1}}}var Tr=function(a,d,g,x){var C,L,N,z,q,Y,Q,Z,rt,pt;if((d?d.ownerDocument||d:ol)!==Os&&Cu(d),g=g||[],!a||"string"!=typeof a)return g;if(1!==(z=(d=d||Os).nodeType)&&9!==z)return[];if(ja&&!x){if(C=dd.exec(a))if(N=C[1]){if(9===z){if(!(L=d.getElementById(N))||!L.parentNode)return g;if(L.id===N)return g.push(L),g}else if(d.ownerDocument&&(L=d.ownerDocument.getElementById(N))&&cf(d,L)&&L.id===N)return g.push(L),g}else{if(C[2])return Jl.apply(g,d.getElementsByTagName(a)),g;if((N=C[3])&&qo.getElementsByClassName)return Jl.apply(g,d.getElementsByClassName(N)),g}if(qo.qsa&&(!Kl||!Kl.test(a))){if(Z=Q=Xr,rt=d,pt=9===z&&a,1===z&&"object"!==d.nodeName.toLowerCase()){for(Y=sd(a),(Q=d.getAttribute("id"))?Z=Q.replace(Th,"\\$&"):d.setAttribute("id",Z),Z="[id='"+Z+"'] ",q=Y.length;q--;)Y[q]=Z+fd(Y[q]);rt=sl.test(a)&&Ih(d.parentNode)||d,pt=Y.join(",")}if(pt)try{return Jl.apply(g,rt.querySelectorAll(pt)),g}catch(Ct){}finally{Q||d.removeAttribute("id")}}}return hp(a.replace(ud,"$1"),d,g,x)};function Oc(){var a=[];return function d(g,x){return a.push(g+" ")>jr.cacheLength&&delete d[a.shift()],d[g+" "]=x}}function ll(a){return a[Xr]=!0,a}function vp(a,d){var g=d&&a,x=g&&1===a.nodeType&&1===d.nodeType&&(~d.sourceIndex||1<<31)-(~a.sourceIndex||1<<31);if(x)return x;if(g)for(;g=g.nextSibling;)if(g===d)return-1;return a?1:-1}function oc(a){return ll(function(d){return d=+d,ll(function(g,x){for(var C,L=a([],g.length,d),N=L.length;N--;)g[C=L[N]]&&(g[C]=!(x[C]=g[C]))})})}function Ih(a){return a&&typeof a.getElementsByTagName!=Pc&&a}function df(){}function fd(a){for(var d=0,g=a.length,x="";d<g;d++)x+=a[d].value;return x}function zr(a,d,g){var x=d.dir,C=g&&"parentNode"===x,L=al++;return d.first?function(N,z,q){for(;N=N[x];)if(1===N.nodeType||C)return a(N,z,q)}:function(N,z,q){var Y,Q,Z=[ss,L];if(q){for(;N=N[x];)if((1===N.nodeType||C)&&a(N,z,q))return!0}else for(;N=N[x];)if(1===N.nodeType||C){if((Y=(Q=N[Xr]||(N[Xr]={}))[x])&&Y[0]===ss&&Y[1]===L)return Z[2]=Y[2];if((Q[x]=Z)[2]=a(N,z,q))return!0}}}function T(a){return 1<a.length?function(d,g,x){for(var C=a.length;C--;)if(!a[C](d,g,x))return!1;return!0}:a[0]}function y(a,d,g,x,C){for(var L,N=[],z=0,q=a.length,Y=null!=d;z<q;z++)(L=a[z])&&(g&&!g(L,x,C)||(N.push(L),Y&&d.push(z)));return N}function S(a){return void 0!==a}function D(a){return"string"==typeof a}function R(a,d){var g,x=(d=d||Bt).createElement("div"),C=d.createDocumentFragment();for(x.innerHTML=a;g=x.firstChild;)C.appendChild(g);return C}function V(a,d){return a&&d&&-1!==(" "+a.className+" ").indexOf(" "+d+" ")}function G(a,d,g){var x,C;return d=Ln(d)[0],a.each(function(){g&&x===this.parentNode||(x=this.parentNode,C=d.cloneNode(!1),this.parentNode.insertBefore(C,this)),C.appendChild(this)}),a}function tt(a,d){return new Ln.fn.init(a,d)}function st(a){return null==a?"":(""+a).replace(Si,"")}function ht(a,d){var g,x,C,L;if(a)if(void 0===(g=a.length)){for(x in a)if(a.hasOwnProperty(x)&&!1===d.call(L=a[x],x,L))break}else for(C=0;C<g&&!1!==d.call(L=a[C],C,L);C++);return a}function Rt(a,d){var g=[];return ht(a,function(x,C){d(C,x)&&g.push(C)}),g}qo=Tr.support={},Wg=Tr.isXML=function(a){var d=a&&(a.ownerDocument||a).documentElement;return!!d&&"HTML"!==d.nodeName},Cu=Tr.setDocument=function(a){var d,g=a?a.ownerDocument||a:ol,x=g.defaultView;return g!==Os&&9===g.nodeType&&g.documentElement?(Ah=(Os=g).documentElement,ja=!Wg(g),x&&x!==function(C){try{return C.top}catch(L){}return null}(x)&&(x.addEventListener?x.addEventListener("unload",function(){Cu()},!1):x.attachEvent&&x.attachEvent("onunload",function(){Cu()})),qo.attributes=!0,qo.getElementsByTagName=!0,qo.getElementsByClassName=hd.test(g.getElementsByClassName),qo.getById=!0,jr.find.ID=function(C,L){if(typeof L.getElementById!=Pc&&ja){var N=L.getElementById(C);return N&&N.parentNode?[N]:[]}},jr.filter.ID=function(C){var L=C.replace(To,$l);return function(N){return N.getAttribute("id")===L}},jr.find.TAG=qo.getElementsByTagName?function(C,L){if(typeof L.getElementsByTagName!=Pc)return L.getElementsByTagName(C)}:function(C,L){var N,z=[],q=0,Y=L.getElementsByTagName(C);if("*"!==C)return Y;for(;N=Y[q++];)1===N.nodeType&&z.push(N);return z},jr.find.CLASS=qo.getElementsByClassName&&function(C,L){if(ja)return L.getElementsByClassName(C)},nc=[],Kl=[],qo.disconnectedMatch=!0,Kl=Kl.length&&new RegExp(Kl.join("|")),nc=nc.length&&new RegExp(nc.join("|")),d=hd.test(Ah.compareDocumentPosition),cf=d||hd.test(Ah.contains)?function(C,L){var N=9===C.nodeType?C.documentElement:C,z=L&&L.parentNode;return C===z||!(!z||1!==z.nodeType||!(N.contains?N.contains(z):C.compareDocumentPosition&&16&C.compareDocumentPosition(z)))}:function(C,L){if(L)for(;L=L.parentNode;)if(L===C)return!0;return!1},pp=d?function(C,L){return C===L?(kh=!0,0):(N=!C.compareDocumentPosition-!L.compareDocumentPosition)||(1&(N=(C.ownerDocument||C)===(L.ownerDocument||L)?C.compareDocumentPosition(L):1)||!qo.sortDetached&&L.compareDocumentPosition(C)===N?C===g||C.ownerDocument===ol&&cf(ol,C)?-1:L===g||L.ownerDocument===ol&&cf(ol,L)?1:Zl?rc.call(Zl,C)-rc.call(Zl,L):0:4&N?-1:1);var N}:function(C,L){if(C===L)return kh=!0,0;var N,z=0,q=C.parentNode,Y=L.parentNode,Q=[C],Z=[L];if(!q||!Y)return C===g?-1:L===g?1:q?-1:Y?1:Zl?rc.call(Zl,C)-rc.call(Zl,L):0;if(q===Y)return vp(C,L);for(N=C;N=N.parentNode;)Q.unshift(N);for(N=L;N=N.parentNode;)Z.unshift(N);for(;Q[z]===Z[z];)z++;return z?vp(Q[z],Z[z]):Q[z]===ol?-1:Z[z]===ol?1:0},g):Os},Tr.matches=function(a,d){return Tr(a,null,null,d)},Tr.matchesSelector=function(a,d){if((a.ownerDocument||a)!==Os&&Cu(a),d=d.replace(gp,"='$1']"),qo.matchesSelector&&ja&&(!nc||!nc.test(d))&&(!Kl||!Kl.test(d)))try{var g=(void 0).call(a,d);if(g||qo.disconnectedMatch||a.document&&11!==a.document.nodeType)return g}catch(x){}return 0<Tr(d,Os,null,[a]).length},Tr.contains=function(a,d){return(a.ownerDocument||a)!==Os&&Cu(a),cf(a,d)},Tr.attr=function(a,d){(a.ownerDocument||a)!==Os&&Cu(a);var g=jr.attrHandle[d.toLowerCase()],x=g&&Ql.call(jr.attrHandle,d.toLowerCase())?g(a,d,!ja):void 0;return void 0!==x?x:qo.attributes||!ja?a.getAttribute(d):(x=a.getAttributeNode(d))&&x.specified?x.value:null},Tr.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},Tr.uniqueSort=function(a){var d,g=[],x=0,C=0;if(kh=!qo.detectDuplicates,Zl=!qo.sortStable&&a.slice(0),a.sort(pp),kh){for(;d=a[C++];)d===a[C]&&(x=g.push(C));for(;x--;)a.splice(g[x],1)}return Zl=null,a},ad=Tr.getText=function(a){var d,g="",x=0,C=a.nodeType;if(C){if(1===C||9===C||11===C){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)g+=ad(a)}else if(3===C||4===C)return a.nodeValue}else for(;d=a[x++];)g+=ad(d);return g},(jr=Tr.selectors={cacheLength:50,createPseudo:ll,match:mp,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(To,$l),a[3]=(a[3]||a[4]||a[5]||"").replace(To,$l),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||Tr.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&Tr.error(a[0]),a},PSEUDO:function(a){var d,g=!a[6]&&a[2];return mp.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":g&&cd.test(g)&&(d=sd(g,!0))&&(d=g.indexOf(")",g.length-d)-g.length)&&(a[0]=a[0].slice(0,d),a[2]=g.slice(0,d)),a.slice(0,3))}},filter:{TAG:function(a){var d=a.replace(To,$l).toLowerCase();return"*"===a?function(){return!0}:function(g){return g.nodeName&&g.nodeName.toLowerCase()===d}},CLASS:function(a){var d=Ya[a+" "];return d||(d=new RegExp("(^|"+po+")"+a+"("+po+"|$)"))&&Ya(a,function(g){return d.test("string"==typeof g.className&&g.className||typeof g.getAttribute!=Pc&&g.getAttribute("class")||"")})},ATTR:function(a,d,g){return function(x){var C=Tr.attr(x,a);return null==C?"!="===d:!d||(C+="","="===d?C===g:"!="===d?C!==g:"^="===d?g&&0===C.indexOf(g):"*="===d?g&&-1<C.indexOf(g):"$="===d?g&&C.slice(-g.length)===g:"~="===d?-1<(" "+C+" ").indexOf(g):"|="===d&&(C===g||C.slice(0,g.length+1)===g+"-"))}},CHILD:function(a,d,g,x,C){var L="nth"!==a.slice(0,3),N="last"!==a.slice(-4),z="of-type"===d;return 1===x&&0===C?function(q){return!!q.parentNode}:function(q,Y,Q){var Z,rt,pt,Ct,wt,kt,Ot=L!=N?"nextSibling":"previousSibling",jt=q.parentNode,Qt=z&&q.nodeName.toLowerCase(),Se=!Q&&!z;if(jt){if(L){for(;Ot;){for(pt=q;pt=pt[Ot];)if(z?pt.nodeName.toLowerCase()===Qt:1===pt.nodeType)return!1;kt=Ot="only"===a&&!kt&&"nextSibling"}return!0}if(kt=[N?jt.firstChild:jt.lastChild],N&&Se){for(wt=(Z=(rt=jt[Xr]||(jt[Xr]={}))[a]||[])[0]===ss&&Z[1],Ct=Z[0]===ss&&Z[2],pt=wt&&jt.childNodes[wt];pt=++wt&&pt&&pt[Ot]||(Ct=wt=0)||kt.pop();)if(1===pt.nodeType&&++Ct&&pt===q){rt[a]=[ss,wt,Ct];break}}else if(Se&&(Z=(q[Xr]||(q[Xr]={}))[a])&&Z[0]===ss)Ct=Z[1];else for(;(pt=++wt&&pt&&pt[Ot]||(Ct=wt=0)||kt.pop())&&((z?pt.nodeName.toLowerCase()!==Qt:1!==pt.nodeType)||!++Ct||(Se&&((pt[Xr]||(pt[Xr]={}))[a]=[ss,Ct]),pt!==q)););return(Ct-=C)===x||Ct%x==0&&0<=Ct/x}}},PSEUDO:function(a,d){var g,x=jr.pseudos[a]||jr.setFilters[a.toLowerCase()]||Tr.error("unsupported pseudo: "+a);return x[Xr]?x(d):1<x.length?(g=[a,a,"",d],jr.setFilters.hasOwnProperty(a.toLowerCase())?ll(function(C,L){for(var N,z=x(C,d),q=z.length;q--;)C[N=rc.call(C,z[q])]=!(L[N]=z[q])}):function(C){return x(C,0,g)}):x}},pseudos:{not:ll(function(a){var d=[],g=[],x=uf(a.replace(ud,"$1"));return x[Xr]?ll(function(C,L,N,z){for(var q,Y=x(C,null,z,[]),Q=C.length;Q--;)(q=Y[Q])&&(C[Q]=!(L[Q]=q))}):function(C,L,N){return d[0]=C,x(d,null,N,g),d[0]=null,!g.pop()}}),has:ll(function(a){return function(d){return 0<Tr(a,d).length}}),contains:ll(function(a){return a=a.replace(To,$l),function(d){return-1<(d.textContent||d.innerText||ad(d)).indexOf(a)}}),lang:ll(function(a){return Yv.test(a||"")||Tr.error("unsupported lang: "+a),a=a.replace(To,$l).toLowerCase(),function(d){var g;do{if(g=ja?d.lang:d.getAttribute("xml:lang")||d.getAttribute("lang"))return(g=g.toLowerCase())===a||0===g.indexOf(a+"-")}while((d=d.parentNode)&&1===d.nodeType);return!1}}),target:function(a){var d=window.location&&window.location.hash;return d&&d.slice(1)===a.id},root:function(a){return a===Ah},focus:function(a){return a===Os.activeElement&&(!Os.hasFocus||Os.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return!1===a.disabled},disabled:function(a){return!0===a.disabled},checked:function(a){var d=a.nodeName.toLowerCase();return"input"===d&&!!a.checked||"option"===d&&!!a.selected},selected:function(a){return!0===a.selected},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0},parent:function(a){return!jr.pseudos.empty(a)},header:function(a){return Rs.test(a.nodeName)},input:function(a){return Ns.test(a.nodeName)},button:function(a){var d=a.nodeName.toLowerCase();return"input"===d&&"button"===a.type||"button"===d},text:function(a){var d;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(d=a.getAttribute("type"))||"text"===d.toLowerCase())},first:oc(function(){return[0]}),last:oc(function(a,d){return[d-1]}),eq:oc(function(a,d,g){return[g<0?g+d:g]}),even:oc(function(a,d){for(var g=0;g<d;g+=2)a.push(g);return a}),odd:oc(function(a,d){for(var g=1;g<d;g+=2)a.push(g);return a}),lt:oc(function(a,d,g){for(var x=g<0?g+d:g;0<=--x;)a.push(x);return a}),gt:oc(function(a,d,g){for(var x=g<0?g+d:g;++x<d;)a.push(x);return a})}}).pseudos.nth=jr.pseudos.eq,be(["radio","checkbox","file","password","image"],function(a){var d;jr.pseudos[a]=(d=a,function(g){return"input"===g.nodeName.toLowerCase()&&g.type===d})}),be(["submit","reset"],function(a){var d;jr.pseudos[a]=(d=a,function(g){var x=g.nodeName.toLowerCase();return("input"===x||"button"===x)&&g.type===d})}),df.prototype=jr.filters=jr.pseudos,jr.setFilters=new df,sd=Tr.tokenize=function(a,d){var g,x,C,L,N,z,q,Y=jg[a+" "];if(Y)return d?0:Y.slice(0);for(N=a,z=[],q=jr.preFilter;N;){for(L in g&&!(x=_a.exec(N))||(x&&(N=N.slice(x[0].length)||N),z.push(C=[])),g=!1,(x=hf.exec(N))&&(g=x.shift(),C.push({value:g,type:x[0].replace(ud," ")}),N=N.slice(g.length)),jr.filter)jr.filter.hasOwnProperty(L)&&(!(x=mp[L].exec(N))||q[L]&&!(x=q[L](x))||(g=x.shift(),C.push({value:g,type:L,matches:x}),N=N.slice(g.length)));if(!g)break}return d?N.length:N?Tr.error(a):jg(a,z).slice(0)},uf=Tr.compile=function(a,d){var g,x,C,L,N,z=[],q=[],Y=fp[a+" "];if(!Y){for(g=(d=d||sd(a)).length;g--;)((Y=function Z(rt){for(var pt,Ct,wt,kt=rt.length,Ot=jr.relative[rt[0].type],jt=Ot||jr.relative[" "],Qt=Ot?1:0,Se=zr(function(pe){return pe===pt},jt,!0),Be=zr(function(pe){return-1<rc.call(pt,pe)},jt,!0),te=[function(pe,ke,Ge){var nn=!Ot&&(Ge||ke!==dp)||((pt=ke).nodeType?Se:Be)(pe,ke,Ge);return pt=null,nn}];Qt<kt;Qt++)if(Ct=jr.relative[rt[Qt].type])te=[zr(T(te),Ct)];else{if((Ct=jr.filter[rt[Qt].type].apply(null,rt[Qt].matches))[Xr]){for(wt=++Qt;wt<kt&&!jr.relative[rt[wt].type];wt++);return function pe(ke,Ge,nn,ln,Ve,qe){return ln&&!ln[Xr]&&(ln=pe(ln)),Ve&&!Ve[Xr]&&(Ve=pe(Ve,qe)),ll(function(je,Ze,pn,Pn){var Vn,xn,bn,qn=[],$n=[],Nn=Ze.length,pi=je||function(Rn,Zn,oi){for(var yr=0,Ce=Zn.length;yr<Ce;yr++)Tr(Rn,Zn[yr],oi);return oi}(Ge||"*",pn.nodeType?[pn]:pn,[]),Cn=!ke||!je&&Ge?pi:y(pi,qn,ke,pn,Pn),Gn=nn?Ve||(je?ke:Nn||ln)?[]:Ze:Cn;if(nn&&nn(Cn,Gn,pn,Pn),ln)for(Vn=y(Gn,$n),ln(Vn,[],pn,Pn),xn=Vn.length;xn--;)(bn=Vn[xn])&&(Gn[$n[xn]]=!(Cn[$n[xn]]=bn));if(je){if(Ve||ke){if(Ve){for(Vn=[],xn=Gn.length;xn--;)(bn=Gn[xn])&&Vn.push(Cn[xn]=bn);Ve(null,Gn=[],Vn,Pn)}for(xn=Gn.length;xn--;)(bn=Gn[xn])&&-1<(Vn=Ve?rc.call(je,bn):qn[xn])&&(je[Vn]=!(Ze[Vn]=bn))}}else Gn=y(Gn===Ze?Gn.splice(Nn,Gn.length):Gn),Ve?Ve(null,Ze,Gn,Pn):Jl.apply(Ze,Gn)})}(1<Qt&&T(te),1<Qt&&fd(rt.slice(0,Qt-1).concat({value:" "===rt[Qt-2].type?"*":""})).replace(ud,"$1"),Ct,Qt<wt&&Z(rt.slice(Qt,wt)),wt<kt&&Z(rt=rt.slice(wt)),wt<kt&&fd(rt))}te.push(Ct)}return T(te)}(d[g]))[Xr]?z:q).push(Y);(Y=fp(a,(x=q,L=0<(C=z).length,N=0<x.length,L?ll(Q):Q))).selector=a}function Q(Z,rt,pt,Ct,wt){var kt,Ot,jt,Qt=0,Se="0",Be=Z&&[],te=[],pe=dp,ke=Z||N&&jr.find.TAG("*",wt),Ge=ss+=null==pe?1:Math.random()||.1,nn=ke.length;for(wt&&(dp=rt!==Os&&rt);Se!==nn&&null!=(kt=ke[Se]);Se++){if(N&&kt){for(Ot=0;jt=x[Ot++];)if(jt(kt,rt,pt)){Ct.push(kt);break}wt&&(ss=Ge)}L&&((kt=!jt&&kt)&&Qt--,Z&&Be.push(kt))}if(Qt+=Se,L&&Se!==Qt){for(Ot=0;jt=C[Ot++];)jt(Be,te,rt,pt);if(Z){if(0<Qt)for(;Se--;)Be[Se]||te[Se]||(te[Se]=Mh.call(Ct));te=y(te)}Jl.apply(Ct,te),wt&&!Z&&0<te.length&&1<Qt+C.length&&Tr.uniqueSort(Ct)}return wt&&(ss=Ge,dp=pe),Be}return Y},hp=Tr.select=function(a,d,g,x){var C,L,N,z,q,Y="function"==typeof a&&a,Q=!x&&sd(a=Y.selector||a);if(g=g||[],1===Q.length){if(2<(L=Q[0]=Q[0].slice(0)).length&&"ID"===(N=L[0]).type&&qo.getById&&9===d.nodeType&&ja&&jr.relative[L[1].type]){if(!(d=(jr.find.ID(N.matches[0].replace(To,$l),d)||[])[0]))return g;Y&&(d=d.parentNode),a=a.slice(L.shift().value.length)}for(C=mp.needsContext.test(a)?0:L.length;C--&&!jr.relative[z=(N=L[C]).type];)if((q=jr.find[z])&&(x=q(N.matches[0].replace(To,$l),sl.test(L[0].type)&&Ih(d.parentNode)||d))){if(L.splice(C,1),!(a=x.length&&fd(L)))return Jl.apply(g,x),g;break}}return(Y||uf(a,Q))(x,d,!ja,g,sl.test(a)&&Ih(d.parentNode)||d),g},qo.sortStable=Xr.split("").sort(pp).join("")===Xr,qo.detectDuplicates=!!kh,Cu(),qo.sortDetached=!0;var Bt=document,Kt=Array.prototype.push,ce=Array.prototype.slice,xe=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,we=Lc.Event,Ee=vn.makeMap("children,contents,next,prev"),He=function(a,d,g,x){var C;if(D(d))d=R(d,Ei(a[0]));else if(d.length&&!d.nodeType){if(d=Ln.makeArray(d),x)for(C=d.length-1;0<=C;C--)He(a,d[C],g,x);else for(C=0;C<d.length;C++)He(a,d[C],g,x);return a}if(d.nodeType)for(C=a.length;C--;)g.call(a[C],d);return a},en=vn.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," "),un=vn.makeMap("checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected"," "),yn={for:"htmlFor",class:"className",readonly:"readOnly"},Fn={float:"cssFloat"},Qn={},ni={},Si=/^\s*|\s*$/g,Ei=function(a){return a?9===a.nodeType?a:a.ownerDocument:Bt};function ci(a,d,g){var x=[],C=a[d];for("string"!=typeof g&&g instanceof Ln&&(g=g[0]);C&&9!==C.nodeType&&(void 0===g||!(C===g||"string"==typeof g&&Ln(C).is(g)));)1===C.nodeType&&x.push(C),C=C[d];return x}function wi(a,d,g,x){var C=[];for(x instanceof Ln&&(x=x[0]);a;a=a[d])if(!g||a.nodeType===g){if(void 0!==x&&(a===x||"string"==typeof x&&Ln(a).is(x)))break;C.push(a)}return C}function Ii(a,d,g){for(a=a[d];a;a=a[d])if(a.nodeType===g)return a;return null}function bi(a,d){var g=d.attr("style"),x=a.serialize(a.parse(g),d[0].nodeName)||null;d.attr("data-mce-style",x)}function Jn(a,d){var g,x,C=0;if(a)for(g=a.nodeType,a=a.previousSibling;a;a=a.previousSibling)x=a.nodeType,(!d||3!==x||x!==g&&a.nodeValue.length)&&(C++,g=x);return C}tt.fn=tt.prototype={constructor:tt,selector:"",context:null,length:0,init:function(a,d){var g,x,C=this;if(!a)return C;if(a.nodeType)return C.context=C[0]=a,C.length=1,C;if(d&&d.nodeType)C.context=d;else{if(d)return Ln(a).attr(d);C.context=d=document}if(D(a)){if(!(g="<"===(C.selector=a).charAt(0)&&">"===a.charAt(a.length-1)&&3<=a.length?[null,a,null]:xe.exec(a)))return Ln(d).find(a);if(g[1])for(x=R(a,Ei(d)).firstChild;x;)Kt.call(C,x),x=x.nextSibling;else{if(!(x=Ei(d).getElementById(g[2])))return C;if(x.id!==g[2])return C.find(a);C.length=1,C[0]=x}}else this.add(a,!1);return C},toArray:function(){return vn.toArray(this)},add:function(a,d){var g,x;if(D(a))return this.add(Ln(a));if(!1!==d)for(g=Ln.unique(this.toArray().concat(Ln.makeArray(a))),this.length=g.length,x=0;x<g.length;x++)this[x]=g[x];else Kt.apply(this,Ln.makeArray(a));return this},attr:function(a,d){var g,x=this;if("object"==typeof a)ht(a,function(C,L){x.attr(C,L)});else{if(!S(d)){if(x[0]&&1===x[0].nodeType){if((g=Qn[a])&&g.get)return g.get(x[0],a);if(un[a])return x.prop(a)?a:void 0;null===(d=x[0].getAttribute(a,2))&&(d=void 0)}return d}this.each(function(){var C;1===this.nodeType&&((C=Qn[a])&&C.set?C.set(this,d):null===d?this.removeAttribute(a,2):this.setAttribute(a,d,2))})}return x},removeAttr:function(a){return this.attr(a,null)},prop:function(a,d){var g=this;if("object"==typeof(a=yn[a]||a))ht(a,function(x,C){g.prop(x,C)});else{if(!S(d))return g[0]&&g[0].nodeType&&a in g[0]?g[0][a]:d;this.each(function(){1===this.nodeType&&(this[a]=d)})}return g},css:function(a,d){function g(z){return z.replace(/-(\D)/g,function(q,Y){return Y.toUpperCase()})}function x(z){return z.replace(/[A-Z]/g,function(q){return"-"+q})}var C,L,N=this;if("object"==typeof a)ht(a,function(z,q){N.css(z,q)});else if(S(d))a=g(a),"number"!=typeof d||en[a]||(d=d.toString()+"px"),N.each(function(){var z=this.style;if((L=ni[a])&&L.set)L.set(this,d);else{try{this.style[Fn[a]||a]=d}catch(q){}null!==d&&""!==d||(z.removeProperty?z.removeProperty(x(a)):z.removeAttribute(a))}});else{if(C=N[0],(L=ni[a])&&L.get)return L.get(C);if(!C.ownerDocument.defaultView)return C.currentStyle?C.currentStyle[g(a)]:"";try{return C.ownerDocument.defaultView.getComputedStyle(C,null).getPropertyValue(x(a))}catch(z){return}}return N},remove:function(){for(var a,d=this.length;d--;)we.clean(a=this[d]),a.parentNode&&a.parentNode.removeChild(a);return this},empty:function(){for(var a,d=this.length;d--;)for(a=this[d];a.firstChild;)a.removeChild(a.firstChild);return this},html:function(a){var d;if(S(a)){d=this.length;try{for(;d--;)this[d].innerHTML=a}catch(g){Ln(this[d]).empty().append(a)}return this}return this[0]?this[0].innerHTML:""},text:function(a){var d;if(S(a)){for(d=this.length;d--;)"innerText"in this[d]?this[d].innerText=a:this[0].textContent=a;return this}return this[0]?this[0].innerText||this[0].textContent:""},append:function(){return He(this,arguments,function(a){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.appendChild(a)})},prepend:function(){return He(this,arguments,function(a){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.insertBefore(a,this.firstChild)},!0)},before:function(){return this[0]&&this[0].parentNode?He(this,arguments,function(a){this.parentNode.insertBefore(a,this)}):this},after:function(){return this[0]&&this[0].parentNode?He(this,arguments,function(a){this.parentNode.insertBefore(a,this.nextSibling)},!0):this},appendTo:function(a){return Ln(a).append(this),this},prependTo:function(a){return Ln(a).prepend(this),this},replaceWith:function(a){return this.before(a).remove()},wrap:function(a){return G(this,a)},wrapAll:function(a){return G(this,a,!0)},wrapInner:function(a){return this.each(function(){Ln(this).contents().wrapAll(a)}),this},unwrap:function(){return this.parent().each(function(){Ln(this).replaceWith(this.childNodes)})},clone:function(){var a=[];return this.each(function(){a.push(this.cloneNode(!0))}),Ln(a)},addClass:function(a){return this.toggleClass(a,!0)},removeClass:function(a){return this.toggleClass(a,!1)},toggleClass:function(a,d){var g=this;return"string"!=typeof a||(-1!==a.indexOf(" ")?ht(a.split(" "),function(){g.toggleClass(this,d)}):g.each(function(x,C){var L,N=V(C,a);N!==d&&(L=C.className,N?C.className=st((" "+L+" ").replace(" "+a+" "," ")):C.className+=L?" "+a:a)})),g},hasClass:function(a){return V(this[0],a)},each:function(a){return ht(this,a)},on:function(a,d){return this.each(function(){we.bind(this,a,d)})},off:function(a,d){return this.each(function(){we.unbind(this,a,d)})},trigger:function(a){return this.each(function(){"object"==typeof a?we.fire(this,a.type,a):we.fire(this,a)})},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},slice:function(){return Ln(ce.apply(this,arguments))},eq:function(a){return-1===a?this.slice(a):this.slice(a,+a+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},find:function(a){for(var d=[],g=0,x=this.length;g<x;g++)Ln.find(a,this[g],d);return Ln(d)},filter:function(a){return Ln("function"==typeof a?Rt(this.toArray(),function(d,g){return a(g,d)}):Ln.filter(a,this.toArray()))},closest:function(a){var d=[];return a instanceof Ln&&(a=a[0]),this.each(function(g,x){for(;x;){if("string"==typeof a&&Ln(x).is(a)){d.push(x);break}if(x===a){d.push(x);break}x=x.parentNode}}),Ln(d)},offset:function(a){var d,g,x,C,L=0,N=0;return a?this.css(a):((d=this[0])&&(x=(g=d.ownerDocument).documentElement,d.getBoundingClientRect&&(L=(C=d.getBoundingClientRect()).left+(x.scrollLeft||g.body.scrollLeft)-x.clientLeft,N=C.top+(x.scrollTop||g.body.scrollTop)-x.clientTop)),{left:L,top:N})},push:Kt,sort:Array.prototype.sort,splice:Array.prototype.splice},vn.extend(tt,{extend:vn.extend,makeArray:function(a){return a&&a===a.window||a.nodeType?[a]:vn.toArray(a)},inArray:function(a,d){var g;if(d.indexOf)return d.indexOf(a);for(g=d.length;g--;)if(d[g]===a)return g;return-1},isArray:vn.isArray,each:ht,trim:st,grep:Rt,find:Tr,expr:Tr.selectors,unique:Tr.uniqueSort,text:Tr.getText,contains:Tr.contains,filter:function(a,d,g){var x=d.length;for(g&&(a=":not("+a+")");x--;)1!==d[x].nodeType&&d.splice(x,1);return 1===d.length?Ln.find.matchesSelector(d[0],a)?[d[0]]:[]:Ln.find.matches(a,d)}}),ht({parent:function(a){var d=a.parentNode;return d&&11!==d.nodeType?d:null},parents:function(a){return ci(a,"parentNode")},next:function(a){return Ii(a,"nextSibling",1)},prev:function(a){return Ii(a,"previousSibling",1)},children:function(a){return wi(a.firstChild,"nextSibling",1)},contents:function(a){return vn.toArray(("iframe"===a.nodeName?a.contentDocument||a.contentWindow.document:a).childNodes)}},function(a,d){tt.fn[a]=function(g){var x=[];this.each(function(){var L=d.call(x,this,g,x);L&&(Ln.isArray(L)?x.push.apply(x,L):x.push(L))}),1<this.length&&(Ee[a]||(x=Ln.unique(x)),0===a.indexOf("parents")&&(x=x.reverse()));var C=Ln(x);return g?C.filter(g):C}}),ht({parentsUntil:function(a,d){return ci(a,"parentNode",d)},nextUntil:function(a,d){return wi(a,"nextSibling",1,d).slice(1)},prevUntil:function(a,d){return wi(a,"previousSibling",1,d).slice(1)}},function(a,d){tt.fn[a]=function(g,x){var C=[];this.each(function(){var N=d.call(C,this,g,C);N&&(Ln.isArray(N)?C.push.apply(C,N):C.push(N))}),1<this.length&&(C=Ln.unique(C),0!==a.indexOf("parents")&&"prevUntil"!==a||(C=C.reverse()));var L=Ln(C);return x?L.filter(x):L}}),tt.fn.is=function(a){return!!a&&0<this.filter(a).length},tt.fn.init.prototype=tt.fn,tt.overrideDefaults=function(a){var d,g=function(x,C){return d=d||a(),0===arguments.length&&(x=d.element),new g.fn.init(x,C=C||d.context)};return Ln.extend(g,this),g},tt.attrHooks=Qn,tt.cssHooks=ni;var Ln=tt,Zr=vn.each,Ro=vn.grep,yo=Ci.ie,fa=/^([a-z0-9],?)+$/i,sr=function(a,d){function g(Ce){return Ce&&a&&ot(Ce)?a.getElementById(Ce):Ce}function x(Ce){return Cn("string"==typeof Ce?g(Ce):Ce)}function C(Ce,Ye,Sn){var An,Mn,jn=x(Ce);return void 0===(Mn=jn.length?(An=yr[Ye])&&An.get?An.get(jn,Ye):jn.attr(Ye):Mn)?Sn||"":Mn}function L(Ce){var Ye=g(Ce);return Ye?Ye.attributes:[]}function N(Ce,Ye,Sn){""===Sn&&(Sn=null);var An,Mn=x(Ce),jn=Mn.attr(Ye);Mn.length&&((An=yr[Ye])&&An.set?An.set(Mn,Sn,Ye):Mn.attr(Ye,Sn),jn!==Sn&&d.onSetAttrib&&d.onSetAttrib({attrElm:Mn,attrName:Ye,attrValue:Sn}))}function z(){return d.root_element||a.body}function q(Ce,Ye){return function(Sn,An,Mn){var jn,mi=0,Ri=0,kr=Sn.ownerDocument;if(Mn=Mn||Sn,An){if(Mn===Sn&&An.getBoundingClientRect&&"static"===rs(Qe.fromDom(Sn),"position")){var Sr=An.getBoundingClientRect();return{x:mi=Sr.left+(kr.documentElement.scrollLeft||Sn.scrollLeft)-kr.documentElement.clientLeft,y:Ri=Sr.top+(kr.documentElement.scrollTop||Sn.scrollTop)-kr.documentElement.clientTop}}for(var vi=An;vi&&vi!==Mn&&vi.nodeType&&!kc(vi,Mn);)mi+=vi.offsetLeft||0,Ri+=vi.offsetTop||0,vi=vi.offsetParent;for(vi=An.parentNode;vi&&vi!==Mn&&vi.nodeType&&!kc(vi,Mn);)mi-=vi.scrollLeft||0,Ri-=vi.scrollTop||0,vi=vi.parentNode;Ri+=(jn=Qe.fromDom(An),Mc.isFirefox()&&"table"===pr(jn)?gh(Ta(jn)).filter(function(Or){return"caption"===pr(Or)}).bind(function(Or){return gh(bc(Or)).map(function(sa){return sa.dom.offsetTop<=Or.dom.offsetTop?-Or.dom.offsetHeight:0})}).getOr(0):0)}return{x:mi,y:Ri}}(a.body,g(Ce),Ye)}function Y(Ce,Ye,Sn){var An=x(Ce);return Sn?An.css(Ye):("float"===(Ye=Ye.replace(/-(\D)/g,function(Mn,jn){return jn.toUpperCase()}))&&(Ye=Ci.browser.isIE()?"styleFloat":"cssFloat"),An[0]&&An[0].style?An[0].style[Ye]:void 0)}function Q(Ce){var Ye=Y(Ce=g(Ce),"width"),Sn=Y(Ce,"height");return-1===Ye.indexOf("px")&&(Ye=0),-1===Sn.indexOf("px")&&(Sn=0),{w:parseInt(Ye,10)||Ce.offsetWidth||Ce.clientWidth,h:parseInt(Sn,10)||Ce.offsetHeight||Ce.clientHeight}}function Z(Ce,Ye){if(!Ce)return!1;if(!Array.isArray(Ce)){if("*"===Ye)return 1===Ce.nodeType;if(fa.test(Ye)){for(var Sn=Ye.toLowerCase().split(/,/),An=Ce.nodeName.toLowerCase(),Mn=Sn.length-1;0<=Mn;Mn--)if(Sn[Mn]===An)return!0;return!1}if(Ce.nodeType&&1!==Ce.nodeType)return!1}var jn=Array.isArray(Ce)?Ce:[Ce];return 0<Tr(Ye,jn[0].ownerDocument||jn[0],null,jn).length}function rt(Ce,Ye,Sn,An){var Mn,jn=[],mi=g(Ce);for(An=void 0===An,Sn=Sn||("BODY"!==z().nodeName?z().parentNode:null),vn.is(Ye,"string")&&(Ye="*"===(Mn=Ye)?function(Ri){return 1===Ri.nodeType}:function(Ri){return Z(Ri,Mn)});mi&&!(mi===Sn||Wt(mi.nodeType)||za(mi)||Eo(mi));){if(!Ye||"function"==typeof Ye&&Ye(mi)){if(!An)return[mi];jn.push(mi)}mi=mi.parentNode}return An?jn:null}function pt(Ce,Ye,Sn){var An=Ye;if(Ce)for("string"==typeof Ye&&(An=function(Mn){return Z(Mn,Ye)}),Ce=Ce[Sn];Ce;Ce=Ce[Sn])if("function"==typeof An&&An(Ce))return Ce;return null}function Ct(Ce,Ye,Sn){var An,Mn="string"==typeof Ce?g(Ce):Ce;return!!Mn&&(vn.isArray(Mn)&&(Mn.length||0===Mn.length)?(An=[],Zr(Mn,function(jn,mi){jn&&An.push(Ye.call(Sn,"string"==typeof jn?g(jn):jn,mi))}),An):Ye.call(Sn||this,Mn))}function wt(Ce,Ye){x(Ce).each(function(Sn,An){Zr(Ye,function(Mn,jn){N(An,jn,Mn)})})}function kt(Ce,Ye){var Sn=x(Ce);yo?Sn.each(function(An,Mn){if(!1!==Mn.canHaveHTML){for(;Mn.firstChild;)Mn.removeChild(Mn.firstChild);try{Mn.innerHTML="<br>"+Ye,Mn.removeChild(Mn.firstChild)}catch(jn){Ln("<div></div>").html("<br>"+Ye).contents().slice(1).appendTo(Mn)}return Ye}}):Sn.html(Ye)}function Ot(Ce,Ye,Sn,An,Mn){return Ct(Ce,function(jn){var mi="string"==typeof Ye?a.createElement(Ye):Ye;return wt(mi,Sn),An&&("string"!=typeof An&&An.nodeType?mi.appendChild(An):"string"==typeof An&&kt(mi,An)),Mn?mi:jn.appendChild(mi)})}function jt(Ce,Ye,Sn){return Ot(a.createElement(Ce),Ce,Ye,Sn,!0)}function Qt(Ce,Ye){var Sn=x(Ce);return(Ye?Sn.each(function(){for(var An;An=this.firstChild;)3===An.nodeType&&0===An.data.length?this.removeChild(An):this.parentNode.insertBefore(An,this)}):Sn).remove(),1<Sn.length?Sn.toArray():Sn[0]}function Se(Ce,Ye,Sn){x(Ce).toggleClass(Ye,Sn).each(function(){""===this.className&&Ln(this).attr("class",null)})}function Be(Ce,Ye,Sn){return Ct(Ye,function(An){return vn.is(An,"array")&&(Ce=Ce.cloneNode(!0)),Sn&&Zr(Ro(An.childNodes),function(Mn){Ce.appendChild(Mn)}),An.parentNode.replaceChild(Ce,An)})}function te(Ce){if(ki(Ce)){var Ye="a"===Ce.nodeName.toLowerCase()&&!C(Ce,"href")&&C(Ce,"id");return C(Ce,"name")||C(Ce,"data-mce-bookmark")||Ye?1:void 0}}function pe(){return a.createRange()}function ke(Ce){if(Ce&&ki(Ce)){var Ye=Ce.getAttribute("data-mce-contenteditable");return Ye&&"inherit"!==Ye?Ye:"inherit"!==Ce.contentEditable?Ce.contentEditable:null}return null}void 0===d&&(d={});var Ge,nn,ln,Ve,qe,je,Ze={},pn=window,Pn={},Vn=0,xn=Yl.forElement(Qe.fromDom(a),{contentCssCors:d.contentCssCors,referrerPolicy:d.referrerPolicy}),bn=[],qn=d.schema||or({}),$n=_r({url_converter:d.url_converter,url_converter_scope:d.url_converter_scope},d.schema),Nn=d.ownEvents?new Lc:Lc.Event,pi=qn.getBlockElements(),Cn=Ln.overrideDefaults(function(){return{context:a,element:oi.getRoot()}}),Gn=ql.encodeAllRaw,Rn=function(Ce,Ye,Sn,An){if(vn.isArray(Ce)){for(var Mn=Ce.length,jn=[];Mn--;)jn[Mn]=Rn(Ce[Mn],Ye,Sn,An);return jn}return!d.collect||Ce!==a&&Ce!==pn||bn.push([Ce,Ye,Sn,An]),Nn.bind(Ce,Ye,Sn,An||oi)},Zn=function(Ce,Ye,Sn){if(vn.isArray(Ce)){for(var An=Ce.length,Mn=[];An--;)Mn[An]=Zn(Ce[An],Ye,Sn);return Mn}if(0<bn.length&&(Ce===a||Ce===pn))for(An=bn.length;An--;){var jn=bn[An];Ce!==jn[0]||Ye&&Ye!==jn[1]||Sn&&Sn!==jn[2]||Nn.unbind(jn[0],jn[1],jn[2])}return Nn.unbind(Ce,Ye,Sn)},oi={doc:a,settings:d,win:pn,files:Pn,stdMode:!0,boxModel:!0,styleSheetLoader:xn,boundEvents:bn,styles:$n,schema:qn,events:Nn,isBlock:function(Ce){if("string"==typeof Ce)return!!pi[Ce];if(Ce){var Ye=Ce.nodeType;if(Ye)return!(1!==Ye||!pi[Ce.nodeName])}return!1},$:Cn,$$:x,root:null,clone:function(Ce,Ye){if(!yo||1!==Ce.nodeType||Ye)return Ce.cloneNode(Ye);var Sn=a.createElement(Ce.nodeName);return Zr(L(Ce),function(An){N(Sn,An.nodeName,C(Ce,An.nodeName))}),Sn},getRoot:z,getViewPort:function(Ce){var Ye=jo(Ce);return{x:Ye.x,y:Ye.y,w:Ye.width,h:Ye.height}},getRect:function(Ce){var Ye=q(Ce=g(Ce)),Sn=Q(Ce);return{x:Ye.x,y:Ye.y,w:Sn.w,h:Sn.h}},getSize:Q,getParent:function(Ce,Ye,Sn){var An=rt(Ce,Ye,Sn,!1);return An&&0<An.length?An[0]:null},getParents:rt,get:g,getNext:function(Ce,Ye){return pt(Ce,Ye,"nextSibling")},getPrev:function(Ce,Ye){return pt(Ce,Ye,"previousSibling")},select:function(Ce,Ye){return Tr(Ce,g(Ye)||d.root_element||a,[])},is:Z,add:Ot,create:jt,createHTML:function(Ce,Ye,Sn){var An,Mn="";for(An in Mn+="<"+Ce,Ye)nr(Ye,An)&&(Mn+=" "+An+'="'+Gn(Ye[An])+'"');return void 0!==Sn?Mn+">"+Sn+"</"+Ce+">":Mn+" />"},createFragment:function(Ce){var Ye,Sn=a.createElement("div"),An=a.createDocumentFragment();for(An.appendChild(Sn),Ce&&(Sn.innerHTML=Ce);Ye=Sn.firstChild;)An.appendChild(Ye);return An.removeChild(Sn),An},remove:Qt,setStyle:function(Ce,Ye,Sn){var An=ot(Ye)?x(Ce).css(Ye,Sn):x(Ce).css(Ye);d.update_styles&&bi($n,An)},getStyle:Y,setStyles:function(Ce,Ye){var Sn=x(Ce).css(Ye);d.update_styles&&bi($n,Sn)},removeAllAttribs:function(Ce){return Ct(Ce,function(Ye){for(var Sn=Ye.attributes,An=Sn.length-1;0<=An;An--)Ye.removeAttributeNode(Sn.item(An))})},setAttrib:N,setAttribs:wt,getAttrib:C,getPos:q,parseStyle:function(Ce){return $n.parse(Ce)},serializeStyle:function(Ce,Ye){return $n.serialize(Ce,Ye)},addStyle:function(Ce){var Ye,Sn;if(oi!==sr.DOM&&a===document){if(Ze[Ce])return;Ze[Ce]=!0}(Sn=a.getElementById("mceDefaultStyles"))||((Sn=a.createElement("style")).id="mceDefaultStyles",Sn.type="text/css",(Ye=a.getElementsByTagName("head")[0]).firstChild?Ye.insertBefore(Sn,Ye.firstChild):Ye.appendChild(Sn)),Sn.styleSheet?Sn.styleSheet.cssText+=Ce:Sn.appendChild(a.createTextNode(Ce))},loadCSS:function(Ce){be((Ce=Ce||"").split(","),function(Ye){Pn[Ye]=!0,xn.load(Ye,Nt)})},addClass:function(Ce,Ye){x(Ce).addClass(Ye)},removeClass:function(Ce,Ye){Se(Ce,Ye,!1)},hasClass:function(Ce,Ye){return x(Ce).hasClass(Ye)},toggleClass:Se,show:function(Ce){x(Ce).show()},hide:function(Ce){x(Ce).hide()},isHidden:function(Ce){return"none"===x(Ce).css("display")},uniqueId:function(Ce){return(Ce||"mce_")+Vn++},setHTML:kt,getOuterHTML:function(Ce){var Ye="string"==typeof Ce?g(Ce):Ce;return ki(Ye)?Ye.outerHTML:Ln("<div></div>").append(Ln(Ye).clone()).html()},setOuterHTML:function(Ce,Ye){x(Ce).each(function(){try{if("outerHTML"in this)return void(this.outerHTML=Ye)}catch(Sn){}Qt(Ln(this).html(Ye),!0)})},decode:ql.decode,encode:Gn,insertAfter:function(Ce,Ye){var Sn=g(Ye);return Ct(Ce,function(An){var Mn=Sn.parentNode,jn=Sn.nextSibling;return jn?Mn.insertBefore(An,jn):Mn.appendChild(An),An})},replace:Be,rename:function(Ce,Ye){var Sn;return Ce.nodeName!==Ye.toUpperCase()&&(Sn=jt(Ye),Zr(L(Ce),function(An){N(Sn,An.nodeName,C(Ce,An.nodeName))}),Be(Sn,Ce,!0)),Sn||Ce},findCommonAncestor:function(Ce,Ye){for(var Sn,An=Ce;An;){for(Sn=Ye;Sn&&An!==Sn;)Sn=Sn.parentNode;if(An===Sn)break;An=An.parentNode}return!An&&Ce.ownerDocument?Ce.ownerDocument.documentElement:An},toHex:function(Ce){return $n.toHex(vn.trim(Ce))},run:Ct,getAttribs:L,isEmpty:function(Ce,Ye){var Sn,An,Mn=0;if(te(Ce))return!1;if(Ce=Ce.firstChild){var jn=new Jr(Ce,Ce.parentNode),mi=qn?qn.getWhiteSpaceElements():{};Ye=Ye||(qn?qn.getNonEmptyElements():null);do{if(Sn=Ce.nodeType,ki(Ce)){var Ri=Ce.getAttribute("data-mce-bogus");if(Ri){Ce=jn.next("all"===Ri);continue}if(An=Ce.nodeName.toLowerCase(),Ye&&Ye[An]){if("br"!==An)return!1;Mn++,Ce=jn.next();continue}if(te(Ce))return!1}if(8===Sn||3===Sn&&!Wn(Ce.nodeValue)||3===Sn&&Ce.parentNode&&mi[Ce.parentNode.nodeName]&&Wn(Ce.nodeValue))return!1;Ce=jn.next()}while(Ce)}return Mn<=1},createRng:pe,nodeIndex:Jn,split:function(Ce,Ye,Sn){var An,Mn,jn,mi=pe();if(Ce&&Ye)return mi.setStart(Ce.parentNode,Jn(Ce)),mi.setEnd(Ye.parentNode,Jn(Ye)),An=mi.extractContents(),(mi=pe()).setStart(Ye.parentNode,Jn(Ye)+1),mi.setEnd(Ce.parentNode,Jn(Ce)+1),Mn=mi.extractContents(),(jn=Ce.parentNode).insertBefore(Bg(oi,An),Ce),jn.insertBefore(Sn||Ye,Ce),jn.insertBefore(Bg(oi,Mn),Ce),Qt(Ce),Sn||Ye},bind:Rn,unbind:Zn,fire:function(Ce,Ye,Sn){return Nn.fire(Ce,Ye,Sn)},getContentEditable:ke,getContentEditableParent:function(Ce){for(var Ye=z(),Sn=null;Ce&&Ce!==Ye&&null===(Sn=ke(Ce));Ce=Ce.parentNode);return Sn},destroy:function(){if(0<bn.length)for(var Ce=bn.length;Ce--;){var Ye=bn[Ce];Nn.unbind(Ye[0],Ye[1],Ye[2])}En(Pn,function(Sn,An){xn.unload(An),delete Pn[An]}),Tr.setDocument&&Tr.setDocument()},isChildOf:function(Ce,Ye){if(yo){for(;Ce;){if(Ye===Ce)return!0;Ce=Ce.parentNode}return!1}return Ce===Ye||Ye.contains(Ce)},dumpRng:function(Ce){return"startContainer: "+Ce.startContainer.nodeName+", startOffset: "+Ce.startOffset+", endContainer: "+Ce.endContainer.nodeName+", endOffset: "+Ce.endOffset}},yr=(Ge=$n,ln=ft(oi),qe={set:function(Ce,Ye,Sn){nn.url_converter&&null!==Ye&&(Ye=nn.url_converter.call(nn.url_converter_scope||ln(),Ye,Sn,Ce[0])),Ce.attr("data-mce-"+Sn,Ye).attr(Sn,Ye)},get:function(Ce,Ye){return Ce.attr("data-mce-"+Ye)||Ce.attr(Ye)}},je={style:{set:function(Ce,Ye){null===Ye||"object"!=typeof Ye?(Ve&&Ce.attr("data-mce-style",Ye),null!==Ye&&"string"==typeof Ye?(Ce.removeAttr("style"),Ce.css(Ge.parse(Ye))):Ce.attr("style",Ye)):Ce.css(Ye)},get:function(Ce){var Ye=Ce.attr("data-mce-style")||Ce.attr("style");return Ge.serialize(Ge.parse(Ye),Ce[0].nodeName)}}},(Ve=(nn=d).keep_values)&&(je.href=je.src=qe),je);return oi};sr.DOM=sr(document),sr.nodeIndex=Jn;var Xa=sr.DOM,zi=vn.each,ac=vn.grep,ia=(pa.prototype._setReferrerPolicy=function(a){this.settings.referrerPolicy=a},pa.prototype.loadScript=function(a,d,g){function x(){C.remove(L),N&&(N.onerror=N.onload=N=null)}var C=Xa,L=C.uniqueId(),N=document.createElement("script");N.id=L,N.type="text/javascript",N.src=vn._addCacheSuffix(a),this.settings.referrerPolicy&&C.setAttrib(N,"referrerpolicy",this.settings.referrerPolicy),N.onload=function(){x(),d()},N.onerror=function(){x(),Pt(g)?g():"undefined"!=typeof console&&console.log&&console.log("Failed to load script: "+a)},(document.getElementsByTagName("head")[0]||document.body).appendChild(N)},pa.prototype.isDone=function(a){return 2===this.states[a]},pa.prototype.markDone=function(a){this.states[a]=2},pa.prototype.add=function(a,d,g,x){var C=this.states[a];this.queue.push(a),void 0===C&&(this.states[a]=0),d&&(this.scriptLoadedCallbacks[a]||(this.scriptLoadedCallbacks[a]=[]),this.scriptLoadedCallbacks[a].push({success:d,failure:x,scope:g||this}))},pa.prototype.load=function(a,d,g,x){return this.add(a,d,g,x)},pa.prototype.remove=function(a){delete this.states[a],delete this.scriptLoadedCallbacks[a]},pa.prototype.loadQueue=function(a,d,g){this.loadScripts(this.queue,a,d,g)},pa.prototype.loadScripts=function(a,d,g,x){function C(q,Y){zi(L.scriptLoadedCallbacks[Y],function(Q){Pt(Q[q])&&Q[q].call(Q.scope)}),L.scriptLoadedCallbacks[Y]=void 0}var L=this,N=[];L.queueLoadedCallbacks.push({success:d,failure:x,scope:g||this});var z=function(){var q,Y=ac(a);a.length=0,zi(Y,function(Q){2!==L.states[Q]?3!==L.states[Q]?1!==L.states[Q]&&(L.states[Q]=1,L.loading++,L.loadScript(Q,function(){L.states[Q]=2,L.loading--,C("success",Q),z()},function(){L.states[Q]=3,L.loading--,N.push(Q),C("failure",Q),z()})):C("failure",Q):C("success",Q)}),L.loading||(q=L.queueLoadedCallbacks.slice(0),L.queueLoadedCallbacks.length=0,zi(q,function(Q){0===N.length?Pt(Q.success)&&Q.success.call(Q.scope):Pt(Q.failure)&&Q.failure.call(Q.scope,N)}))};z()},pa.ScriptLoader=new pa,pa);function pa(a){void 0===a&&(a={}),this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=0,this.settings=a}function ra(a){var d=a;return{get:function(){return d},set:function(g){d=g}}}function ga(){return ji(Nc,Xv.get())}var Nc={},Xv=ra("en"),Au={getData:function(){return Di(Nc,function(a){return gi({},a)})},setCode:function(a){a&&Xv.set(a)},getCode:function(){return Xv.get()},add:function(a,d){var g=Nc[a];g||(Nc[a]=g={}),En(d,function(x,C){g[C.toLowerCase()]=x})},translate:function(a){function d(Y){return Pt(Y)?Object.prototype.toString.call(Y):z(Y)?"":""+Y}function g(Y){var Q=d(Y);return ji(N,Q.toLowerCase()).map(d).getOr(Q)}function x(Y){return Y.replace(/{context:\w+}$/,"")}var C,L,N=ga().getOr({}),z=function(Y){return""===Y||null==Y};if(z(a))return"";if(it(C=a)&&Yi(C,"raw"))return d(a.raw);if(It(L=a)&&1<L.length){var q=a.slice(1);return x(g(a[0]).replace(/\{([0-9]+)\}/g,function(Y,Q){return Yi(q,Q)?d(q[Q]):Y}))}return x(g(a))},isRtl:function(){return ga().bind(function(a){return ji(a,"_dir")}).exists(function(a){return"rtl"===a})},hasCode:function(a){return Yi(Nc,a)}},Ea=function(){function a(Y,Q){be(Jt(z,function(Z){return Z.name===Y&&Z.state===Q}),function(Z){return Z.callback()})}function d(Y){return(N[Y]?N[Y].dependencies:void 0)||[]}function g(Y,Q){return"object"==typeof Q?Q:"string"==typeof Y?{prefix:"",resource:Q,suffix:""}:{prefix:Y.prefix,resource:Q,suffix:Y.suffix}}function x(Y,Q,Z){void 0===Z&&(Z="added"),Yi(N,Y)&&"added"===Z||Yi(L,Y)&&"loaded"===Z?Q():z.push({name:Y,state:Z,callback:Q})}var C=[],L={},N={},z=[],q=function(Y,Q,Z,rt,pt){var Ct,wt;L[Y]||(0!==(Ct="string"==typeof Q?Q:Q.prefix+Q.resource+Q.suffix).indexOf("/")&&-1===Ct.indexOf("://")&&(Ct=Ea.baseURL+"/"+Ct),L[Y]=Ct.substring(0,Ct.lastIndexOf("/")),wt=function(){var kt,Ot,jt;a(Y,"loaded"),kt=Q,Ot=Z,jt=rt,be(d(Y),function(Qt){var Se=g(kt,Qt);q(Se.resource,Se,void 0,void 0)}),Ot&&Ot.call(jt||ia)},N[Y]?wt():ia.ScriptLoader.add(Ct,wt,rt,pt))};return{items:C,urls:L,lookup:N,_listeners:z,get:function(Y){if(N[Y])return N[Y].instance},dependencies:d,requireLangPack:function(Y,Q){!1!==Ea.languageLoad&&x(Y,function(){var Z=Au.getCode();!Z||Q&&-1===(","+(Q||"")+",").indexOf(","+Z+",")||ia.ScriptLoader.add(L[Y]+"/langs/"+Z+".js")},"loaded")},add:function(Y,Q,Z){var rt=Q;return C.push(rt),N[Y]={instance:rt,dependencies:Z},a(Y,"added"),rt},remove:function(Y){delete L[Y],delete N[Y]},createUrl:g,addComponents:function(Y,Q){var Z=L[Y];be(Q,function(rt){ia.ScriptLoader.add(Z+"/"+rt)})},load:q,waitFor:x}};function yp(){var a,d,g=(a=Nt,d=ra(ge.none()),{clear:function(){x(),d.set(ge.none())},isSet:function(){return d.get().isSome()},get:function(){return d.get()},set:function(C){x(),d.set(ge.some(C))}});function x(){return d.get().each(a)}return gi(gi({},g),{on:function(C){return g.get().each(C)}})}function Hx(a,d){var g=null;return{cancel:function(){Ut(g)||(clearTimeout(g),g=null)},throttle:function(){for(var x=[],C=0;C<arguments.length;C++)x[C]=arguments[C];Ut(g)&&(g=setTimeout(function(){g=null,a.apply(null,x)},d))}}}function vr(a,d){function g(){Ut(x)||(clearTimeout(x),x=null)}var x=null;return{cancel:g,throttle:function(){for(var C=[],L=0;L<arguments.length;L++)C[L]=arguments[L];g(),x=setTimeout(function(){x=null,a.apply(null,C)},d)}}}function Gv(a,d){var g=Zs(a,d);return void 0===g||""===g?[]:g.split(" ")}function qv(a){return void 0!==a.dom.classList}function dr(a,d){var g,x,C;qv(a)?a.dom.classList.add(d):(x=d,C=Gv(g=a,"class").concat([x]),Ds(g,"class",C.join(" ")))}function Dw(a,d){return qv(a)&&a.dom.classList.contains(d)}function ul(a,d){return v(g=void 0===a?document:a.dom)?[]:ze(g.querySelectorAll(d),Qe.fromDom);var g}function Wx(a,d){function g(z,q){return(Y=z.dom)&&Y.hasAttribute&&Y.hasAttribute(q)?ge.some(Zs(z,q)):ge.none();var Y}var x=a.selection.getRng(),C=Qe.fromDom(x.startContainer),L=Qe.fromDom(a.getBody()),N=d.fold(function(){return"."+Gg()},function(z){return"["+bp()+'="'+z+'"]'});return Ic(ma(C,x.startOffset).getOr(C),N,function(z){return _(z,L)}).bind(function(z){return g(z,""+Zv()).bind(function(q){return g(z,""+bp()).map(function(Y){var Q=Jk(a,q);return{uid:q,name:Y,elements:Q}})})})}function jx(a){var d=(new Date).getTime();return a+"_"+Math.floor(1e9*Math.random())+ ++Lw+String(d)}function Yx(a,d){var g,x,C=hh(a).dom,L=Qe.fromDom(C.createDocumentFragment());zl(L,(g=d,(x=(C||document).createElement("div")).innerHTML=g,Ta(Qe.fromDom(x)))),fh(a),go(a,L)}function Xx(a,d){return Qe.fromDom(a.dom.cloneNode(d))}function pd(a){return Xx(a,!1)}function Fi(a){return Xx(a,!0)}function Uv(a,d,g){function x(L){for(var N;(N=C[L]())&&!ri(N)&&!g(N););return ge.from(N).filter(ri)}void 0===g&&(g=tn);var C=new Jr(a,d);return{current:function(){return ge.from(C.current()).filter(ri)},next:function(){return x("next")},prev:function(){return x("prev")},prev2:function(){return x("prev2")}}}function Gx(a,d){var g=d||function(C){return a.isBlock(C)||Vr(C)||Hr(C)},x=function(C,L,N,z){if(ri(C)){var q=z(C,L,C.data);if(-1!==q)return ge.some({container:C,offset:q})}return N().bind(function(Y){return x(Y.container,Y.offset,N,z)})};return{backwards:function(C,L,N,z){var q=Uv(C,z,g);return x(C,L,function(){return q.prev().map(function(Y){return{container:Y,offset:Y.length}})},N).getOrNull()},forwards:function(C,L,N,z){var q=Uv(C,z,g);return x(C,L,function(){return q.next().map(function(Y){return{container:Y,offset:0}})},N).getOrNull()}}}function gd(a){return a?{left:Cl(a.left),top:Cl(a.top),bottom:Cl(a.bottom),right:Cl(a.right),width:Cl(a.width),height:Cl(a.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0}}function qx(a,d){return a=gd(a),d||(a.left=a.left+a.width),a.right=a.left,a.width=0,a}function Bs(a,d,g){return 0<=a&&a<=Math.min(d.height,g.height)/2}function Rc(a,d){var g=Math.min(d.height/2,a.height/2);return a.bottom-g<d.top||!(a.top>d.bottom)&&Bs(d.top-a.bottom,a,d)}function xp(a,d){return a.top>d.bottom||!(a.bottom<d.top)&&Bs(d.bottom-a.top,a,d)}function md(a,d,g){return d>=a.left&&d<=a.right&&g>=a.top&&g<=a.bottom}function ff(a){var d=a.startContainer,g=a.startOffset;return d.hasChildNodes()&&a.endOffset===g+1?d.childNodes[g]:null}function Mu(a,d){if(ki(a)&&a.hasChildNodes()){var g=a.childNodes;return g[(x=g.length-1,Math.min(Math.max(d,0),x))]}return a;var x}function Yg(a){return"string"==typeof a&&768<=a.charCodeAt(0)&&Kv.test(a)}function pf(a){return"createRange"in a?a.createRange():sr.DOM.createRng()}function vd(a){return a&&/[\r\n\t ]/.test(a)}function Ux(a){return a.setStart&&a.setEnd}function $v(a){var d=a.startContainer,g=a.startOffset;if(vd(a.toString())&&Bc(d.parentNode)&&ri(d)){var x=d.data;return vd(x[g-1])||vd(x[g+1])?1:void 0}}function Xg(a){return 0===a.left&&0===a.right&&0===a.top&&0===a.bottom}function yd(a,d){var g=qx(a,d);return g.width=1,g.right=g.left+1,g}Ea.languageLoad=!0,Ea.baseURL="",Ea.PluginManager=Ea(),Ea.ThemeManager=Ea();var $x=function(a,d){var g=[];return be(Ta(a),function(x){g=(g=d(x)?g.concat([x]):g).concat($x(x,d))}),g},Gg=ft("mce-annotation"),bp=ft("data-mce-annotation"),Zv=ft("data-mce-annotation-uid"),Jk=function(a,d){return ul(Qe.fromDom(a.getBody()),"["+Zv()+'="'+d+'"]')},Lw=0,Cl=Math.round,Kv=new RegExp("[\u0300-\u036f\u0483-\u0487\u0488-\u0489\u0591-\u05bd\u05bf\u05c1-\u05c2\u05c4-\u05c5\u05c7\u0610-\u061a\u064b-\u065f\u0670\u06d6-\u06dc\u06df-\u06e4\u06e7-\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0859-\u085b\u08e3-\u0902\u093a\u093c\u0941-\u0948\u094d\u0951-\u0957\u0962-\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2-\u09e3\u0a01-\u0a02\u0a3c\u0a41-\u0a42\u0a47-\u0a48\u0a4b-\u0a4d\u0a51\u0a70-\u0a71\u0a75\u0a81-\u0a82\u0abc\u0ac1-\u0ac5\u0ac7-\u0ac8\u0acd\u0ae2-\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62-\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c00\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55-\u0c56\u0c62-\u0c63\u0c81\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc-\u0ccd\u0cd5-\u0cd6\u0ce2-\u0ce3\u0d01\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62-\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb-\u0ebc\u0ec8-\u0ecd\u0f18-\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86-\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039-\u103a\u103d-\u103e\u1058-\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085-\u1086\u108d\u109d\u135d-\u135f\u1712-\u1714\u1732-\u1734\u1752-\u1753\u1772-\u1773\u17b4-\u17b5\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927-\u1928\u1932\u1939-\u193b\u1a17-\u1a18\u1a1b\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1ab0-\u1abd\u1abe\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80-\u1b81\u1ba2-\u1ba5\u1ba8-\u1ba9\u1bab-\u1bad\u1be6\u1be8-\u1be9\u1bed\u1bef-\u1bf1\u1c2c-\u1c33\u1c36-\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1cf4\u1cf8-\u1cf9\u1dc0-\u1df5\u1dfc-\u1dff\u200c-\u200d\u20d0-\u20dc\u20dd-\u20e0\u20e1\u20e2-\u20e4\u20e5-\u20f0\u2cef-\u2cf1\u2d7f\u2de0-\u2dff\u302a-\u302d\u302e-\u302f\u3099-\u309a\ua66f\ua670-\ua672\ua674-\ua67d\ua69e-\ua69f\ua6f0-\ua6f1\ua802\ua806\ua80b\ua825-\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\ua9e5\uaa29-\uaa2e\uaa31-\uaa32\uaa35-\uaa36\uaa43\uaa4c\uaa7c\uaab0\uaab2-\uaab4\uaab7-\uaab8\uaabe-\uaabf\uaac1\uaaec-\uaaed\uaaf6\uabe5\uabe8\uabed\ufb1e\ufe00-\ufe0f\ufe20-\ufe2f\uff9e-\uff9f]"),Qv=ki,gf=Je,Zx=qu("display","block table"),Pw=qu("float","left right"),kl=function(){for(var a=[],d=0;d<arguments.length;d++)a[d]=arguments[d];return function(g){for(var x=0;x<a.length;x++)if(!a[x](g))return!1;return!0}}(Qv,gf,Dt(Pw)),Bc=Dt(qu("white-space","pre pre-line pre-wrap")),_p=ri,Jv=Vr,Kx=sr.nodeIndex,qg=function(a,d){if(!(d<0&&ki(a)&&a.hasChildNodes()))return Mu(a,d)},Dh=function(a){var d=a.getClientRects(),g=gd(0<d.length?d[0]:a.getBoundingClientRect());return!Ux(a)&&Jv(a)&&Xg(g)?function(x){var C=x.ownerDocument,L=pf(C),N=C.createTextNode(Oo),z=x.parentNode;z.insertBefore(N,x),L.setStart(N,0),L.setEnd(N,1);var q=gd(L.getBoundingClientRect());return z.removeChild(N),q}(a):Xg(g)&&Ux(a)?function(x){var L=x.endContainer,N=x.startOffset,z=x.endOffset;if(x.startContainer===L&&ri(L)&&0===N&&1===z){var q=x.cloneRange();return q.setEndAfter(L),Dh(q)}return null}(a):g},mn=function(a,d,g){function x(){return g=g||function(C){function L(rt){var pt;0!==rt.height&&(0<z.length&&rt.left===(pt=z[z.length-1]).left&&rt.top===pt.top&&rt.bottom===pt.bottom&&rt.right===pt.right||z.push(rt))}function N(rt,pt){var Ct=pf(rt.ownerDocument);if(pt<rt.data.length){if(Yg(rt.data[pt]))return z;if(Yg(rt.data[pt-1])&&(Ct.setStart(rt,pt),Ct.setEnd(rt,pt+1),!$v(Ct)))return L(yd(Dh(Ct),!1)),z}0<pt&&(Ct.setStart(rt,pt-1),Ct.setEnd(rt,pt),$v(Ct)||L(yd(Dh(Ct),!1))),pt<rt.data.length&&(Ct.setStart(rt,pt),Ct.setEnd(rt,pt+1),$v(Ct)||L(yd(Dh(Ct),!0)))}var z=[],q=C.container(),Y=C.offset();if(_p(q))return N(q,Y),z;if(Qv(q))if(C.isAtEnd()){var Q=qg(q,Y);_p(Q)&&N(Q,Q.data.length),kl(Q)&&!Jv(Q)&&L(yd(Dh(Q),!1))}else{if(Q=qg(q,Y),_p(Q)&&N(Q,0),kl(Q)&&C.isAtEnd())return L(yd(Dh(Q),!1)),z;var Z=qg(C.container(),C.offset()-1);kl(Z)&&!Jv(Z)&&(!Zx(Z)&&!Zx(Q)&&kl(Q)||L(yd(Dh(Z),!1))),kl(Q)&&L(yd(Dh(Q),!0))}return z}(mn(a,d))}return{container:ft(a),offset:ft(d),toRange:function(){var C=pf(a.ownerDocument);return C.setStart(a,d),C.setEnd(a,d),C},getClientRects:x,isVisible:function(){return 0<x().length},isAtStart:function(){return _p(a),0===d},isAtEnd:function(){return _p(a)?d>=a.data.length:d>=a.childNodes.length},isEqual:function(C){return C&&a===C.container()&&d===C.offset()},getNode:function(C){return qg(a,C?d-1:d)}}};function wp(a,d){ri(d)&&0===d.data.length&&a.remove(d)}function Ug(a,d,g){var x,C,L,N,z,q,Y;Eo(g)?(L=a,N=d,q=ge.from((z=g).firstChild),Y=ge.from(z.lastChild),N.insertNode(z),q.each(function(Q){return wp(L,Q.previousSibling)}),Y.each(function(Q){return wp(L,Q.nextSibling)})):(x=a,d.insertNode(C=g),wp(x,C.previousSibling),wp(x,C.nextSibling))}function ty(a){return function(d){return a===d}}function Qx(a){var d,g,x,C;return(zs(a)?"text()":a.nodeName.toLowerCase())+"["+(x=ei(g=qa(Bw(d=a)),ty(d),d),C=Fo(g=g.slice(0,x+1),function(L,N,z){return zs(N)&&zs(g[z-1])&&L++,L},0),ei(g=ii(g,Ba([d.nodeName])),ty(d),d)-C+"]")}function Ow(a,d){var g,x,C,L=[],N=d.container(),z=d.offset();return zs(N)?g=function(q,Y){for(;(q=q.previousSibling)&&zs(q);)Y+=q.data.length;return Y}(N,z):(z>=(x=N.childNodes).length?(g="after",z=x.length-1):g="before",N=x[z]),L.push(Qx(N)),C=ii(function(q,Y){var Q=[];for(Y=Y.parentNode;Y!==q;Y=Y.parentNode)Q.push(Y);return Q}(a,N),Dt(mu)),(L=L.concat(Io(C,Qx))).reverse().join("/")+","+g}function to(a,d){if(!d)return null;var g=d.split(","),x=g[0].split("/"),C=1<g.length?g[1]:"before",L=Fo(x,function(N,z){var q,Y,Q,Z,rt=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(z);return rt?("text()"===rt[1]&&(rt[1]="#text"),q=N,Y=rt[1],Q=parseInt(rt[2],10),Z=ii(Z=qa(q),function(pt,Ct){return!zs(pt)||!zs(Z[Ct-1])}),(Z=ii(Z,Ba([Y])))[Q]):null},a);return L?zs(L)?function(N,z){for(var q,Y=N,Q=0;zs(Y);){if(q=Y.data.length,Q<=z&&z<=Q+q){N=Y,z-=Q;break}if(!zs(Y.nextSibling)){N=Y,z=q;break}Q+=q,Y=Y.nextSibling}return zs(N)&&z>N.data.length&&(z=N.data.length),mn(N,z)}(L,parseInt(C,10)):(C="after"===C?hb(L)+1:hb(L),mn(L.parentNode,C)):null}function ey(a,d,g,x,C){var L,N=x[C?"startContainer":"endContainer"],z=x[C?"startOffset":"endOffset"],q=[],Y=0,Q=a.getRoot();for(ri(N)?q.push(g?function(Z,rt,pt){for(var Ct=Z(rt.data.slice(0,pt)).length,wt=rt.previousSibling;wt&&ri(wt);wt=wt.previousSibling)Ct+=Z(wt.data).length;return Ct}(d,N,z):z):(z>=(L=N.childNodes).length&&L.length&&(Y=1,z=Math.max(0,L.length-1)),q.push(a.nodeIndex(L[z],g)+Y));N&&N!==Q;N=N.parentNode)q.push(a.nodeIndex(N,g));return q}function ny(a,d,g){var x=0;return vn.each(a.select(d),function(C){if("all"!==C.getAttribute("data-mce-bogus"))return C!==g&&void x++}),x}function Nw(a,d){var g,x=d?"start":"end",C=a[x+"Container"],L=a[x+"Offset"];ki(C)&&"TR"===C.nodeName&&(C=(g=C.childNodes)[Math.min(d?L:L-1,g.length-1)])&&a["set"+(d?"Start":"End")](C,L=d?0:C.childNodes.length)}function ls(a){return Nw(a,!0),Nw(a,!1),a}function mf(a,d){var g;return ki(a)&&(a=Mu(a,d),cy(a))?a:ko(a)?(g=(a=ri(a)&&Gl(a)?a.parentNode:a).previousSibling,cy(g)||cy(g=a.nextSibling)?g:void 0):void 0}function $g(a,d,g){var x=g.getNode(),C=x?x.nodeName:null,L=g.getRng();if(cy(x)||"IMG"===C)return{name:C,index:ny(g.dom,C,x)};var N,z,q,Y,Q,Z,rt,pt=mf((N=L).startContainer,N.startOffset)||mf(N.endContainer,N.endOffset);return pt?{name:C=pt.tagName,index:ny(g.dom,C,pt)}:(Z=(q=g).dom,(rt={}).start=ey(Z,z=a,Y=d,Q=L,!0),q.isCollapsed()||(rt.end=ey(Z,z,Y,Q,!1)),We(Q)&&(rt.isFakeCaret=!0),rt)}function iy(a,d,g){var x={"data-mce-type":"bookmark",id:d,style:"overflow:hidden;line-height:0px"};return g?a.create("span",x,"&#xFEFF;"):a.create("span",x)}function ry(a,d){var g=a.dom,x=a.getRng(),C=g.uniqueId(),L=a.isCollapsed(),N=a.getNode(),z=N.nodeName;if("IMG"===z)return{name:z,index:ny(g,z,N)};var q=ls(x.cloneRange());return L||(q.collapse(!1),Ug(g,q,iy(g,C+"_end",d))),(x=ls(x)).collapse(!0),Ug(g,x,iy(g,C+"_start",d)),a.moveToBookmark({id:C,keep:!0}),{id:C}}function vf(a,d,g){var x=a.getParam(d,g);return-1===x.indexOf("=")?x:ji(a.getParam(d,"","hash"),a.id).getOr(g)}function Rw(a){return a.getParam("content_security_policy","")}function Ga(a){if(a.getParam("force_p_newlines",!1))return"p";var d=a.getParam("forced_root_block","p");return!1===d?"":!0===d?"p":d}function Zg(a){return a.getParam("forced_root_block_attrs",{})}function Jx(a){return a.getParam("automatic_uploads",!0,"boolean")}function oy(a){return a.getParam("icons","","string")}function Kg(a){return a.getParam("referrer_policy","","string")}function Qg(a){return a.getParam("language","en","string")}function Sp(a){return a.getParam("indent_use_margin",!1)}function tb(a){var d=a.getParam("font_css",[]);return It(d)?d:ze(d.split(","),yt)}function ay(a){var d=a.getParam("object_resizing");return!1!==d&&!Ci.iOS&&(ot(d)?d:"table,img,figure.image,div,video,iframe")}function eb(a){return a.getParam("event_root")}function Cp(a){return a.getParam("theme")}function Jg(a){return!1!==a.getParam("inline_boundaries")}function nb(a){return a.getParam("plugins","","string")}function ib(a){var d=a.parentNode;d&&d.removeChild(a)}function rb(a){var d=mo(a);return{count:a.length-d.length,text:d}}function ob(a){for(var d;-1!==(d=a.data.lastIndexOf(Ai));)a.deleteData(d,1)}function ab(a,d){return La(a),d}function sb(a,d){var g,x=d.container(),C=(-1===(g=zt(ho(x.childNodes),a))?ge.none():ge.some(g)).map(function(L){return L<d.offset()?mn(x,d.offset()-1):d}).getOr(d);return La(a),C}function tA(a,d){return mn.isTextPosition(d)?(x=d,wa(g=a)&&x.container()===g?(N=rb((C=g).data.substr(0,(L=x).offset())),z=rb(C.data.substr(L.offset())),0<(N.text+z.text).length?(ob(C),mn(C,L.offset()-N.count)):L):ab(g,x)):(q=a,((Y=d).container()===q.parentNode?sb:ab)(q,Y));var g,x,C,L,N,z,q,Y}function eu(a,d,g){var x,C,L,N=qx(d.getBoundingClientRect(),g),z="BODY"===a.tagName?(x=a.ownerDocument.documentElement,C=a.scrollLeft||x.scrollLeft,a.scrollTop||x.scrollTop):(L=a.getBoundingClientRect(),C=a.scrollLeft-L.left,a.scrollTop-L.top);N.left+=C,N.right+=C,N.top+=z,N.bottom+=z,N.width=1;var q=d.offsetWidth-d.clientWidth;return 0<q&&(g&&(q*=-1),N.left+=q,N.right+=q),N}function kp(){return db.isIE()||db.isEdge()||db.isFirefox()}function xd(a){return Eh(a)||vu(a)&&kp()}function sy(a,d){for(var g;g=a(d);)if(!bd(g))return g;return null}function Tu(a,d,g,x,C){var L=new Jr(a,x),N=nm(a)||bd(a);if(d<0){if(N&&g(a=sy(L.prev.bind(L),!0)))return a;for(;a=sy(L.prev.bind(L),C);)if(g(a))return a}if(0<d){if(N&&g(a=sy(L.next.bind(L),!0)))return a;for(;a=sy(L.next.bind(L),C);)if(g(a))return a}return null}function nu(a,d){for(;a&&a!==d;){if(Tp(a))return a;a=a.parentNode}return null}function zc(a,d,g){return nu(a.container(),g)===nu(d.container(),g)}function us(a,d){if(!d)return null;var g=d.container(),x=d.offset();return _d(g)?g.childNodes[x+a]:null}function lb(a,d){var g=d.ownerDocument.createRange();return a?(g.setStartBefore(d),g.setEndBefore(d)):(g.setStartAfter(d),g.setEndAfter(d)),g}function Ap(a,d,g){for(var x,C,L=a?"previousSibling":"nextSibling";g&&g!==d;){var N=g[L];if(hy(N)&&(N=N[L]),nm(N)||Fw(N)){if(C=g,nu(N,x=d)===nu(C,x))return N;break}if(dy(N))break;g=g.parentNode}return null}function tm(a,d,g){var x,C=vt(Ap,!0,d),L=vt(Ap,!1,d),N=g.startContainer,z=g.startOffset;if(Gl(N)){var q=(N=_d(N)?N:N.parentNode).getAttribute("data-mce-caret");if("before"===q&&xd(x=N.nextSibling))return wd(x);if("after"===q&&xd(x=N.previousSibling))return Sd(x)}if(!g.collapsed)return g;if(ri(N)){if(hy(N)){if(1===a){if(x=L(N))return wd(x);if(x=C(N))return Sd(x)}if(-1===a){if(x=C(N))return Sd(x);if(x=L(N))return wd(x)}return g}if(rl(N)&&z>=N.data.length-1)return 1===a&&(x=L(N))?wd(x):g;if(ms(N)&&z<=1)return-1===a&&(x=C(N))?Sd(x):g;if(z===N.data.length)return(x=L(N))?wd(x):g;if(0===z)return(x=C(N))?Sd(x):g}return g}function em(a,d){return ge.from(us(a?0:-1,d)).filter(nm)}function cl(a,d,g){var x=tm(a,d,g);return-1===a?mn.fromRangeStart(x):mn.fromRangeEnd(x)}function yf(a){return ge.from(a.getNode()).map(Qe.fromDom)}function ub(a,d){for(;d=a(d);)if(d.isVisible())return d;return d}function ly(a,d){var g=zc(a,d);return!(g||!Vr(a.getNode()))||g}mn.fromRangeStart=function(a){return mn(a.startContainer,a.startOffset)},mn.fromRangeEnd=function(a){return mn(a.endContainer,a.endOffset)},mn.after=function(a){return mn(a.parentNode,Kx(a)+1)},mn.before=function(a){return mn(a.parentNode,Kx(a))},mn.isAbove=function(a,d){return wo(fn(d.getClientRects()),On(a.getClientRects()),Rc).getOr(!1)},mn.isBelow=function(a,d){return wo(On(d.getClientRects()),fn(a.getClientRects()),xp).getOr(!1)},mn.isAtStart=function(a){return!!a&&a.isAtStart()},mn.isAtEnd=function(a){return!!a&&a.isAtEnd()},mn.isTextPosition=function(a){return!!a&&ri(a.container())},mn.isElementPosition=function(a){return!1===mn.isTextPosition(a)};var Fr,uy,zs=ri,cb=mu,hb=sr.nodeIndex,Bw=function(a){var d=a.parentNode;return cb(d)?Bw(d):d},qa=function(a){return a?Fo(a.childNodes,function(d,g){return cb(g)&&"BR"!==g.nodeName?d=d.concat(qa(g)):d.push(g),d},[]):[]},cy=Hr,Fs=vt($g,St,!0),nA=sr.DOM,iA=ki,wa=ri,La=function(a){iA(a)&&ko(a)&&(ue(a)?a.removeAttribute("data-mce-caret"):ib(a)),wa(a)&&(ob(a),0===a.data.length&&ib(a))},db=zn().browser,zw=Hr,Mp=os,rA=yh,Eh=function(a){return zw(a)||Mp(a)},nm=Hr,Fw=os,Tp=qu("display","block table table-cell table-caption list-item"),hy=ko,bd=Gl,_d=ki,dy=Je,wd=vt(lb,!0),Sd=vt(lb,!1);function Vw(a,d){return a.hasChildNodes()&&d<a.childNodes.length?a.childNodes[d]:null}function Ip(a,d){if(0<a){if(Ph(d.previousSibling)&&!Vc(d.previousSibling))return mn.before(d);if(Vc(d))return mn(d,0)}if(a<0){if(Ph(d.nextSibling)&&!Vc(d.nextSibling))return mn.after(d);if(Vc(d))return mn(d,d.data.length)}return a<0&&!Hc(d)?mn.after(d):mn.before(d)}function Iu(a){return{next:function(d){return _b(Fr.Forwards,d,a)},prev:function(d){return _b(Fr.Backwards,d,a)}}}function im(a){return mn.isTextPosition(a)?0===a.offset():Je(a.getNode())}function fy(a){if(mn.isTextPosition(a)){var d=a.container();return a.offset()===d.data.length}return Je(a.getNode(!0))}function xr(a,d){return!mn.isTextPosition(a)&&!mn.isTextPosition(d)&&a.getNode()===d.getNode(!0)}function ro(a,d,g){return Vs(a,d,g).bind(function(x){return zc(g,x,d)&&(C=g,L=x,a?!xr(C,L)&&(mn.isTextPosition(N=C)||!Vr(N.getNode()))&&fy(C)&&im(L):!xr(L,C)&&im(C)&&fy(L))?Vs(a,d,x):ge.some(x);var C,L,N})}function sc(a,d){var g,x,C,L,N,z=a?d.firstChild:d.lastChild;return ri(z)?ge.some(mn(z,a?0:z.data.length)):z?Je(z)?ge.some(a?mn.before(z):Vr(N=z)?mn.before(N):mn.after(N)):(x=d,C=z,L=(g=a)?mn.before(C):mn.after(C),Vs(g,x,L)):ge.none()}function vs(a){return ki(a)&&a.id===wb}function Cd(a,d){for(;d&&d!==a;){if(d.id===wb)return d;d=d.parentNode}return null}function Dp(a){return vn.isArray(a.start)}function Du(a,d){return ki(d)&&a.isBlock(d)&&!d.innerHTML&&!Ci.ie&&(d.innerHTML='<br data-mce-bogus="1" />'),d}function rm(a,d,g){return!1===d.hasChildNodes()&&Cd(a,d)&&(C=g,L=(x=d).ownerDocument.createTextNode(Ai),x.appendChild(L),C.setStart(L,0),C.setEnd(L,0),1);var x,C,L}function om(a,d,g,x){var C,L,N,z,q=g[d?"start":"end"],Y=a.getRoot();if(q){for(N=q[0],L=Y,C=q.length-1;1<=C;C--){if(z=L.childNodes,rm(Y,L,x))return 1;if(q[C]>z.length-1)return rm(Y,L,x)||function(Q){return uc(L).fold(tn,function(Z){return Q.setStart(Z.container(),Z.offset()),Q.setEnd(Z.container(),Z.offset()),!0})}(x);L=z[q[C]]}3===L.nodeType&&(N=Math.min(q[0],L.nodeValue.length)),1===L.nodeType&&(N=Math.min(q[0],L.childNodes.length)),d?x.setStart(L,N):x.setEnd(L,N)}return 1}function am(a){return ri(a)&&0<a.data.length}function fb(a,d,g){var x,C,L,N,z,q,Y=a.get(g.id+"_"+d),Q=g.keep;if(Y){if(x=Y.parentNode,C="start"===d?Q?Y.hasChildNodes()?(x=Y.firstChild,1):am(Y.nextSibling)?(x=Y.nextSibling,0):am(Y.previousSibling)?(x=Y.previousSibling,Y.previousSibling.data.length):(x=Y.parentNode,a.nodeIndex(Y)+1):a.nodeIndex(Y):Q?Y.hasChildNodes()?(x=Y.firstChild,1):am(Y.previousSibling)?(x=Y.previousSibling,Y.previousSibling.data.length):(x=Y.parentNode,a.nodeIndex(Y)):a.nodeIndex(Y),z=x,q=C,!Q){for(N=Y.previousSibling,L=Y.nextSibling,vn.each(vn.grep(Y.childNodes),function(Z){ri(Z)&&(Z.nodeValue=Z.nodeValue.replace(/\uFEFF/g,""))});Y=a.get(g.id+"_"+d);)a.remove(Y,!0);N&&L&&N.nodeType===L.nodeType&&ri(N)&&!Ci.opera&&(C=N.nodeValue.length,N.appendData(L.nodeValue),a.remove(L),z=N,q=C)}return ge.some(mn(z,q))}return ge.none()}function oA(a,d){(function(g,x){var C,L,N,z,q,Y,Q,Z,rt,pt,Ct,wt,kt=g.dom;if(x){if(Dp(x))return Ct=x,wt=(pt=kt).createRng(),om(pt,!0,Ct,wt)&&om(pt,!1,Ct,wt)?ge.some(wt):ge.none();if(ot(x.start))return ge.some((Q=x,Z=(Y=kt).createRng(),rt=to(Y.getRoot(),Q.start),Z.setStart(rt.container(),rt.offset()),rt=to(Y.getRoot(),Q.end),Z.setEnd(rt.container(),rt.offset()),Z));if(Yi(x,"id"))return wo(q=fb(N=kt,"start",z=x),fb(N,"end",z).or(q),function(Ot,jt){var Qt=N.createRng();return Qt.setStart(Du(N,Ot.container()),Ot.offset()),Qt.setEnd(Du(N,jt.container()),jt.offset()),Qt});if(Yi(x,"name"))return ge.from((C=kt).select((L=x).name)[L.index]).map(function(Ot){var jt=C.createRng();return jt.selectNode(Ot),jt});if(Yi(x,"rng"))return ge.some(x.rng)}return ge.none()})(a,d).each(function(g){a.setRng(g)})}function Al(a){return ki(a)&&"SPAN"===a.tagName&&"bookmark"===a.getAttribute("data-mce-type")}function ys(a){return""!==a&&-1!==" \f\n\r\t\v".indexOf(a)}function Ep(a){return!ys(a)&&!Oh(a)}function kd(a){return a.nodeType}function py(a,d,g){var x,C=g.startOffset,L=g.startContainer;if((L!==g.endContainer||!(x=L.childNodes[C])||!/^(IMG)$/.test(x.nodeName))&&ki(L)){var N=L.childNodes,z=void 0;C<N.length?z=new Jr(L=N[C],a.getParent(L,a.isBlock)):(z=new Jr(L=N[N.length-1],a.getParent(L,a.isBlock))).next(!0);for(var q=z.current();q;q=z.next())if(ri(q)&&!ky(q))return g.setStart(q,0),d.setRng(g),0}}function gy(a,d,g){if(a){var x=d?"nextSibling":"previousSibling";for(a=g?a:a[x];a;a=a[x])if(ki(a)||!ky(a))return a}}function hl(a,d){return kd(d)&&(d=d.nodeName),!!a.schema.getTextBlockElements()[d.toLowerCase()]}function Ad(a,d,g){return a.schema.isValidChild(d,g)}function Eu(a,d){return Pt(a)?a=a(d):Ft(d)&&(a=a.replace(/%(\w+)/g,function(g,x){return d[x]||g})),a}function Fc(a,d){return a=""+((a=a||"").nodeName||a),d=""+((d=d||"").nodeName||d),a.toLowerCase()===d.toLowerCase()}function iu(a,d,g){return"color"!==g&&"backgroundColor"!==g||(d=a.toHex(d)),"fontWeight"===g&&700===d&&(d="bold"),""+("fontFamily"===g?d.replace(/[\'\"]/g,"").replace(/,\s+/g,","):d)}function xf(a,d,g){return iu(a,a.getStyle(d,g),g)}function pb(a,d){var g;return a.getParent(d,function(x){return(g=a.getStyle(x,"text-decoration"))&&"none"!==g}),g}function Md(a,d,g){return a.getParents(d,g,a.getRoot())}function lc(a){return nr(a,"block")}function Ua(a){return nr(a,"selector")}function $o(a){return nr(a,"inline")}function my(a){return Ua(a)&&!1!==a.expand&&!$o(a)}function vy(a,d){for(var g=d;g;){if(ki(g)&&a.getContentEditable(g))return"false"===a.getContentEditable(g)?g:d;g=g.parentNode}return d}function bf(a,d,g,x){for(var C=d.data,L=g;a?0<=L:L<C.length;a?L--:L++)if(x(C.charAt(L)))return a?L+1:L;return-1}function sm(a,d,g){return bf(a,d,g,function(x){return Oh(x)||ys(x)})}function yy(a,d,g){return bf(a,d,g,Ep)}function mb(a,d,g,x,C,L){function N(Y,Q,Z){var rt=Gx(a);return ge.from((C?rt.backwards:rt.forwards)(Y,Q,function(Ct,wt){return Wc(Ct.parentNode)?-1:Z(C,z=Ct,wt)},q))}var z,q=a.getParent(g,a.isBlock)||d;return N(g,x,sm).bind(function(Y){return L?N(Y.container,Y.offset+(C?-1:0),yy):ge.some(Y)}).orThunk(function(){return z?ge.some({container:z,offset:C?0:z.length}):ge.none()})}function xy(a,d,g,x,C){ri(x)&&Ho(x.data)&&x[C]&&(x=x[C]);for(var L=Yw(a,x),N=0;N<L.length;N++)for(var z=0;z<d.length;z++){var q=d[z];if((!Ft(q.collapsed)||q.collapsed===g.collapsed)&&Ua(q)&&a.is(L[N],q.selector))return L[N]}return x}function xs(a,d,g,x){var C,L=g,N=a.dom,z=N.getRoot(),q=d[0];if((L=lc(q)?q.wrapper?null:N.getParent(g,q.block,z):L)||(C=N.getParent(g,"LI,TD,TH"),L=N.getParent(ri(g)?g.parentNode:g,function(Y){return Y!==z&&Cb(a,Y)},C)),!(L=L&&lc(q)&&q.wrapper&&Yw(N,L,"ul,ol").reverse()[0]||L))for(L=g;L[x]&&!N.isBlock(L[x])&&!Fc(L=L[x],"br"););return L||g}function Sa(a,d,g,x,C){var L,N=g,z=C?"previousSibling":"nextSibling",q=a.getRoot();if(ri(g)&&!Sb(g)&&(C?0<x:x<g.data.length))return g;for(;;){if(!d[0].block_expand&&a.isBlock(N))return N;for(var Y=N[z];Y;Y=Y[z]){var Q=ri(Y)&&!kb(a,q,Y,z);if(!Wc(Y)&&(!Vr(L=Y)||!L.getAttribute("data-mce-bogus")||L.nextSibling)&&!Sb(Y,Q))return N}if(N===q||N.parentNode===q){g=N;break}N=N.parentNode}return g}function Zo(a){return Wc(a.parentNode)||Wc(a)}function Lh(a,d,g,x){void 0===x&&(x=!1);var C=d.startContainer,L=d.startOffset,N=d.endContainer,z=d.endOffset,q=a.dom,Y=g[0];return ki(C)&&C.hasChildNodes()&&(C=Mu(C,L),ri(C)&&(L=0)),ki(N)&&N.hasChildNodes()&&(N=Mu(N,d.collapsed?z:z-1),ri(N)&&(z=N.nodeValue.length)),C=vy(q,C),N=vy(q,N),Zo(C)&&(C=Wc(C)?C:C.parentNode,ri(C=d.collapsed?C.previousSibling||C:C.nextSibling||C)&&(L=d.collapsed?C.length:0)),Zo(N)&&(N=Wc(N)?N:N.parentNode,ri(N=d.collapsed?N.nextSibling||N:N.previousSibling||N)&&(z=d.collapsed?0:N.length)),d.collapsed&&(mb(q,a.getBody(),C,L,!0,x).each(function(Q){C=Q.container,L=Q.offset}),mb(q,a.getBody(),N,z,!1,x).each(function(Q){N=Q.container,z=Q.offset})),($o(Y)||Y.block_expand)&&($o(Y)&&ri(C)&&0!==L||(C=Sa(q,g,C,L,!0)),$o(Y)&&ri(N)&&z!==N.nodeValue.length||(N=Sa(q,g,N,z,!1))),my(Y)&&(C=xy(q,g,d,C,"previousSibling"),N=xy(q,g,d,N,"nextSibling")),(lc(Y)||Ua(Y))&&(C=xs(a,g,C,"previousSibling"),N=xs(a,g,N,"nextSibling"),lc(Y)&&(q.isBlock(C)||(C=Sa(q,g,C,L,!0)),q.isBlock(N)||(N=Sa(q,g,N,z,!1)))),ki(C)&&(L=q.nodeIndex(C),C=C.parentNode),ki(N)&&(z=q.nodeIndex(N)+1,N=N.parentNode),{startContainer:C,startOffset:L,endContainer:N,endOffset:z}}function Lp(a,d,g){function x(wt){var kt=wt[0];ri(kt)&&kt===q&&z>=kt.data.length&&wt.splice(0,1);var Ot=wt[wt.length-1];return 0===Y&&0<wt.length&&Ot===Q&&ri(Ot)&&wt.splice(wt.length-1,1),wt}function C(wt,kt,Ot){for(var jt=[];wt&&wt!==Ot;wt=wt[kt])jt.push(wt);return jt}function L(wt,kt){return a.getParent(wt,function(Ot){return Ot.parentNode===kt},kt)}function N(wt,kt,Ot){for(var jt=Ot?"nextSibling":"previousSibling",Qt=wt;Qt&&Qt!==kt;Qt=Se){var Se=Qt.parentNode,Be=C(Qt===wt?Qt:Qt[jt],jt);Be.length&&(Ot||Be.reverse(),g(x(Be)))}}var z=d.startOffset,q=Mu(d.startContainer,z),Y=d.endOffset,Q=Mu(d.endContainer,Y-1);if(q===Q)return g(x([q]));var Z=a.findCommonAncestor(q,Q);if(a.isChildOf(q,Q))return N(q,Z,!0);if(a.isChildOf(Q,q))return N(Q,Z);var rt=L(q,Z)||q,pt=L(Q,Z)||Q;N(q,rt,!0);var Ct=C(rt===q?rt:rt.nextSibling,"nextSibling",pt===Q?pt.nextSibling:pt);Ct.length&&g(x(Ct)),N(Q,pt)}function by(a){var d=[];if(a)for(var g=0;g<a.rangeCount;g++)d.push(a.getRangeAt(g));return d}function vb(a,d){var g=ul(d,"td[data-mce-selected],th[data-mce-selected]");return 0<g.length?g:Jt(ti(a,function(x){var C=ff(x);return C?[Qe.fromDom(C)]:[]}),Ha)}function _f(a){return vb(by(a.selection.getSel()),Qe.fromDom(a.getBody()))}function Pp(a,d){return tl(a,"table",d)}function Td(a,d){return wo((C=d.startContainer,L=d.startOffset,ri(C)?0===L?ge.some(Qe.fromDom(C)):ge.none():ge.from(C.childNodes[L]).map(Qe.fromDom)),(g=d.endContainer,x=d.endOffset,ri(g)?x===g.data.length?ge.some(Qe.fromDom(g)):ge.none():ge.from(g.childNodes[x-1]).map(Qe.fromDom)),function(N,z){var q=hn(Ml(a),vt(_,N)),Y=hn(Id(a),vt(_,z));return q.isSome()&&Y.isSome()}).getOr(!1);var g,x,C,L}function _y(a,d,g,x){var C=g,L=new Jr(g,C),N=br(a.schema.getMoveCaretBeforeOnEnterElements(),function(z,q){return!oe(["td","th","table"],q.toLowerCase())});do{if(ri(g)&&0!==vn.trim(g.nodeValue).length)return x?d.setStart(g,0):d.setEnd(g,g.nodeValue.length),0;if(N[g.nodeName])return x?d.setStartBefore(g):"BR"===g.nodeName?d.setEndBefore(g):d.setEndAfter(g),0}while(g=x?L.next():L.prev());"BODY"===C.nodeName&&(x?d.setStart(C,0):d.setEnd(C,C.childNodes.length))}function lm(a){var d=a.selection.getSel();return d&&0<d.rangeCount}function um(a,d){var g=_f(a);0<g.length?be(g,function(x){var C=x.dom,L=a.dom.createRng();L.setStartBefore(C),L.setEndAfter(C),d(L,!0)}):d(a.selection.getRng(),!1)}function cm(a,d,g){var x=ry(a,d);g(x),a.moveToBookmark(x)}function yb(a){return sA.get(a)}function wy(a,d,g,x){var C=d.uid,L=void 0===C?jx("mce-annotation"):C,N=function(pt,Ct){var wt={};for(Ot in pt)Object.prototype.hasOwnProperty.call(pt,Ot)&&Ct.indexOf(Ot)<0&&(wt[Ot]=pt[Ot]);if(null!=pt&&"function"==typeof Object.getOwnPropertySymbols)for(var kt=0,Ot=Object.getOwnPropertySymbols(pt);kt<Ot.length;kt++)Ct.indexOf(Ot[kt])<0&&Object.prototype.propertyIsEnumerable.call(pt,Ot[kt])&&(wt[Ot[kt]]=pt[Ot[kt]]);return wt}(d,["uid"]),z=Qe.fromTag("span",a);dr(z,Gg()),Ds(z,""+Zv(),L),Ds(z,""+bp(),g);var q,Y=x(L,N),Q=Y.attributes,Z=Y.classes,rt=void 0===Z?[]:Z;return Es(z,void 0===Q?{}:Q),q=z,be(rt,function(pt){dr(q,pt)}),z}function xb(a){var d,g,x,C=(d={},{register:function(N,z){d[N]={name:N,settings:z}},lookup:function(N){return ji(d,N).map(function(z){return z.settings})}});x=C,(g=a).on("init",function(){g.serializer.addNodeFilter("span",function(N){be(N,function(z){ge.from(z.attr(bp())).bind(x.lookup).each(function(q){!1===q.persistent&&z.unwrap()})})})});var L=function(a){function d(){return{listeners:[],previous:yp()}}function g(N,z){x(N,function(q){return z(q),q})}function x(N,z){var q=C.get(),Y=z(ji(q,N).getOrThunk(d));q[N]=Y,C.set(q)}var C=ra({}),L=vr(function(){var N=C.get();be(Zi(ca(N)),function(z){x(z,function(q){var Y=q.previous.get();return Wx(a,ge.some(z)).fold(function(){var Q;Y.isSome()&&(g(Q=z,function(Z){be(Z.listeners,function(rt){return rt(!1,Q)})}),q.previous.clear())},function(Q){var Z,rt,pt,Ct=Q.uid,wt=Q.name,kt=Q.elements;va(Y,Ct)||(rt=Ct,pt=kt,g(Z=wt,function(Ot){be(Ot.listeners,function(jt){return jt(!0,Z,{uid:rt,nodes:ze(pt,function(Qt){return Qt.dom})})})}),q.previous.set(Ct))}),{previous:q.previous,listeners:q.listeners}})})},30);return a.on("remove",function(){L.cancel()}),a.on("NodeChange",function(){L.throttle()}),{addListener:function(N,z){x(N,function(q){return{previous:q.previous,listeners:q.listeners.concat([z])}})}}}(a);return{register:function(N,z){C.register(N,z)},annotate:function(N,z){C.lookup(N).each(function(q){var Y,Q,Z,rt;Q=N,Z=q,rt=z,(Y=a).undoManager.transact(function(){var pt,Ct,wt,kt,Ot=Y.selection,jt=Ot.getRng(),Qt=0<_f(Y).length;jt.collapsed&&!Qt&&(wt=Lh(pt=Y,Ct=jt,[{inline:"span"}]),Ct.setStart(wt.startContainer,wt.startOffset),Ct.setEnd(wt.endContainer,wt.endOffset),pt.selection.setRng(Ct)),Ot.getRng().collapsed&&!Qt?(Yx(kt=wy(Y.getDoc(),rt,Q,Z.decorate),Oo),Ot.getRng().insertNode(kt.dom),Ot.select(kt.dom)):cm(Ot,!1,function(){um(Y,function(Se){!function(a,d,g,x,C){function L(){Y.clear()}function N(Z){be(Z,Q)}var z=[],q=wy(a.getDoc(),C,g,x),Y=yp(),Q=function(Z){var rt,pt,Ct,wt,Ot;switch(Ct=a,Ot=pr(wt=Z),_o(wt).fold(function(){return"skipping"},function(jt){return"br"===Ot||Do(Se=wt)&&yb(Se)===Ai?"valid":na(Qt=wt)&&Dw(Qt,Gg())?"existing":vs(wt.dom)?"caret":Ad(Ct,"span",Ot)&&Ad(Ct,pr(jt),"span")?"valid":"invalid-child";var Qt,Se})){case"invalid-child":L(),N(Ta(Z)),L();break;case"valid":ha(rt=Z,pt=Y.get().getOrThunk(function(){var jt=pd(q);return z.push(jt),Y.set(jt),jt})),go(pt,rt)}};Lp(a.dom,d,function(Z){L(),N(ze(Z,Qe.fromDom))})}(Y,Se,Q,Z.decorate,rt)})})})})},annotationChanged:function(N,z){L.addListener(N,z)},remove:function(N){Wx(a,ge.some(N)).each(function(z){be(z.elements,Gu)})},getAll:function(N){var z,q,Y;return Di((z=N,q=ul(Qe.fromDom(a.getBody()),"["+bp()+'="'+z+'"]'),Y={},be(q,function(Q){var Z=Zs(Q,Zv()),rt=ji(Y,Z).getOr([]);Y[Z]=rt.concat([Q])}),Y),function(Q){return ze(Q,function(Z){return Z.dom})})}}}function hm(a){return{getBookmark:vt(jw,a),moveToBookmark:vt(oA,a)}}function Hw(a){return Sl(a)||!!ar(d=a)&&!0!==Ke(ho(d.getElementsByTagName("*")),function(g,x){return g||bh(x)},!1);var d}(uy=Fr=Fr||{})[uy.Backwards=-1]="Backwards",uy[uy.Forwards=1]="Forwards";var Sy,Ww,Er=Hr,Vc=ri,wf=ki,Hc=Vr,Ph=Je,Op=wn,_b=function(a,d,g){var x,C,L;if(!wf(g)||!d)return null;if(d.isEqual(mn.after(g))&&g.lastChild){if(L=mn.after(g.lastChild),a<0&&Ph(g.lastChild)&&wf(g.lastChild))return Hc(g.lastChild)?mn.before(g.lastChild):L}else L=d;var N,z,q,Y=L.container(),Q=L.offset();if(Vc(Y)){if(a<0&&0<Q)return mn(Y,--Q);if(0<a&&Q<Y.length)return mn(Y,++Q);x=Y}else{if(a<0&&0<Q&&(Z=Vw(Y,Q-1),Ph(Z)))return!Hw(Z)&&(C=Tu(Z,a,Op,Z))?Vc(C)?mn(C,C.data.length):mn.after(C):Vc(Z)?mn(Z,Z.data.length):mn.before(Z);if(0<a&&Q<Y.childNodes.length&&(Z=Vw(Y,Q),Ph(Z)))return Hc(Z)?(N=g,(q=(z=Z).nextSibling)&&Ph(q)?Vc(q)?mn(q,0):mn.before(q):_b(Fr.Forwards,mn.after(z),N)):!Hw(Z)&&(C=Tu(Z,a,Op,Z))?Vc(C)?mn(C,0):mn.before(C):Vc(Z)?mn(Z,0):mn.after(Z);x=Z||L.getNode()}if((0<a&&L.isAtEnd()||a<0&&L.isAtStart())&&(x=Tu(x,a,on,g,!0),Op(x,g)))return Ip(a,x);var Z=Tu(x,a,Op,g),rt=Mr(Jt(function(pt,Ct){for(var wt=[];pt&&pt!==Ct;)wt.push(pt),pt=pt.parentNode;return wt}(Y,g),Er));return!rt||Z&&rt.contains(Z)?Z?Ip(a,Z):null:0<a?mn.after(rt):mn.before(rt)},Vs=function(a,d,g){var x=Iu(d);return ge.from(a?x.next(g):x.prev(g))},Cy=function(a,d,g,x){return ro(a,d,g).bind(function(C){return x(C)?Cy(a,d,C,x):ge.some(C)})},Lu=vt(Vs,!0),Pu=vt(Vs,!1),cs=vt(sc,!0),uc=vt(sc,!1),wb="_mce_caret",jw=function(a,d,g){return 2===d?$g(mo,g,a):3===d?(C=(x=a).getRng(),{start:Ow(x.dom.getRoot(),mn.fromRangeStart(C)),end:Ow(x.dom.getRoot(),mn.fromRangeEnd(C))}):d?{rng:a.getRng()}:ry(a,!1);var x,C},Oh=function(a){return"\xa0"===a},ky=function(a,d){return void 0===d&&(d=!1),!(!Ft(a)||!ri(a))&&Wn(d?a.data.replace(/ /g,"\xa0"):a.data)},Wc=Al,Yw=Md,Sb=ky,Cb=hl,kb=function(a,d,g,x){var C=g.parentNode;return!Ft(g[x])&&(!(C!==d&&!Wt(C)&&!a.isBlock(C))||kb(a,d,C,x))},Ml=function(a){return Yr(a).fold(ft([a]),function(d){return[a].concat(Ml(d))})},Id=function(a){return lo(a).fold(ft([a]),function(d){return"br"===pr(d)?Is(d).map(function(g){return[a].concat(Id(g))}).getOr([]):[a].concat(Id(d))})},sA=(Sy=Do,{get:function(a){if(!Sy(a))throw new Error("Can only get text value of a text node");return Ww(a).getOr("")},getOption:Ww=function(a){return Sy(a)?ge.from(a.dom.nodeValue):ge.none()},set:function(a,d){if(!Sy(a))throw new Error("Can only set raw text value of a text node");a.dom.nodeValue=d}});function jc(a,d){for(;d&&d!==a;){if(xa(d)||Hr(d))return d;d=d.parentNode}return null}function Ay(a,d,g){if(!g.collapsed){if(Ci.browser.isIE()&&g.startOffset===g.endOffset-1&&g.startContainer===g.endContainer){var x=g.startContainer.childNodes[g.startOffset];if(ki(x))return Ae(x.getClientRects(),function(C){return md(C,a,d)})}return Ae(g.getClientRects(),function(C){return md(C,a,d)})}}function Ab(a,d,g){return a.fire(d,g)}function My(a,d,g,x){return a.fire("FormatApply",{format:d,node:g,vars:x})}function Dd(a,d,g,x){return a.fire("FormatRemove",{format:d,node:g,vars:x})}function dm(a,d){function g(Cn){return Cn&&("IMG"===Cn.nodeName||d.dom.is(Cn,"figure.image"))}function x(Cn){return os(Cn)||qe.hasClass(Cn,"mce-preview-object")}function C(Cn){var Gn=Cn.target;!function(Rn,Zn){if("longpress"!==Rn.type&&0!==Rn.type.indexOf("touch"))return g(Rn.target)&&!Ay(Rn.clientX,Rn.clientY,Zn);var oi=Rn.touches[0];return g(Rn.target)&&!Ay(oi.clientX,oi.clientY,Zn)}(Cn,d.selection.getRng())||Cn.isDefaultPrevented()||d.selection.select(Gn)}function L(Cn){return qe.is(Cn,"figure.image")?[Cn.querySelector("img")]:qe.hasClass(Cn,"mce-preview-object")&&Ft(Cn.firstElementChild)?[Cn,Cn.firstElementChild]:[Cn]}function N(Cn){var Gn=ay(d);return!!Gn&&"false"!==Cn.getAttribute("data-mce-resize")&&Cn!==d.getBody()&&(qe.hasClass(Cn,"mce-preview-object")?h(Qe.fromDom(Cn.firstElementChild),Gn):h(Qe.fromDom(Cn),Gn))}function z(Cn,Gn,Rn){Ft(Rn)&&be(L(Cn),function(Zn){Zn.style[Gn]||!d.schema.isValid(Zn.nodeName.toLowerCase(),Gn)?qe.setStyle(Zn,Gn,Rn):qe.setAttrib(Zn,Gn,""+Rn)})}function q(Cn,Gn,Rn){z(Cn,"width",Gn),z(Cn,"height",Rn)}function Y(Cn){var Gn,Rn,Ye=Cn.screenX-jt,Sn=Cn.screenY-Qt;ke=(ke=Ye*kt[2]+Se)<5?5:ke,Ge=(Ge=Sn*kt[3]+Be)<5?5:Ge,((g(pt)||x(pt))&&!1!==d.getParam("resize_img_proportional",!0,"boolean")?!_i.modifierPressed(Cn):_i.modifierPressed(Cn))&&(Pn(Ye)>Pn(Sn)?(Ge=Vn(ke*te),ke=Vn(Ge/te)):(ke=Vn(Ge/te),Ge=Vn(ke*te))),q(Ct,ke,Ge),qe.setStyles(wt,{left:Gn=0<(Gn=kt.startPos.x+Ye)?Gn:0,top:Rn=0<(Rn=kt.startPos.y+Sn)?Rn:0,display:"block"}),wt.innerHTML=ke+" &times; "+Ge,kt[2]<0&&Ct.clientWidth<=ke&&qe.setStyle(Ct,"left",void 0+(Se-ke)),kt[3]<0&&Ct.clientHeight<=Ge&&qe.setStyle(Ct,"top",void 0+(Be-Ge)),(Ye=xn.scrollWidth-nn)+(Sn=xn.scrollHeight-ln)!=0&&qe.setStyles(wt,{left:Gn-Ye,top:Rn-Sn}),pe||(d.fire("ObjectResizeStart",{target:pt,width:Se,height:Be,origin:"corner-"+kt.name}),pe=!0)}function Q(Cn){function Gn(Zn,oi){if(Zn)do{if(Zn===oi)return 1}while(Zn=Zn.parentNode)}var Rn;pe||d.removed||(je(qe.select("img[data-mce-selected],hr[data-mce-selected]"),function(Zn){Zn.removeAttribute(Ve)}),Rn="mousedown"===Cn.type?Cn.target:a.getNode(),Gn(Rn=qe.$(Rn).closest("table,img,figure.image,hr,video,span.mce-preview-object")[0],xn)&&(rt(),Gn(a.getStart(!0),Rn)&&Gn(a.getEnd(!0),Rn))?$n(Rn):Nn())}function Z(Cn){return Cf(jc(d.getBody(),Cn))}function rt(){try{d.getDoc().execCommand("enableObjectResizing",!1,"false")}catch(Cn){}}var pt,Ct,wt,kt,Ot,jt,Qt,Se,Be,te,pe,ke,Ge,nn,ln,Ve="data-mce-selected",qe=d.dom,je=vn.each,Ze=d.getDoc(),pn=document,Pn=Math.abs,Vn=Math.round,xn=d.getBody(),bn={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},qn=function(){var oi=pe;pe=!1,oi&&(z(pt,"width",ke),z(pt,"height",Ge)),qe.unbind(Ze,"mousemove",Y),qe.unbind(Ze,"mouseup",qn),pn!==Ze&&(qe.unbind(pn,"mousemove",Y),qe.unbind(pn,"mouseup",qn)),qe.remove(Ct),qe.remove(wt),qe.remove(Ot),$n(pt),oi&&(d.fire("ObjectResized",{target:pt,width:ke,height:Ge,origin:"corner-"+kt.name}),qe.setAttrib(pt,"style",qe.getAttrib(pt,"style"))),d.nodeChanged()},$n=function(Cn){pi();var Gn=qe.getPos(Cn,xn),Rn=Gn.x,Zn=Gn.y,oi=Cn.getBoundingClientRect(),yr=oi.width||oi.right-oi.left,Ce=oi.height||oi.bottom-oi.top;pt!==Cn&&(Nn(),pt=Cn,ke=Ge=0);var Ye=d.fire("ObjectSelected",{target:Cn}),Sn=qe.getAttrib(pt,Ve,"1");N(Cn)&&!Ye.isDefaultPrevented()?je(bn,function(An,Mn){var jn=qe.get("mceResizeHandle"+Mn);jn&&qe.remove(jn),jn=qe.add(xn,"div",{id:"mceResizeHandle"+Mn,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+Mn+"-resize; margin:0; padding:0"}),11===Ci.ie&&(jn.contentEditable=!1),qe.bind(jn,"mousedown",function(mi){var Ri,kr,Sr;mi.stopImmediatePropagation(),mi.preventDefault(),Ri=mi,Sr=L(pt)[0],jt=Ri.screenX,Qt=Ri.screenY,te=(Be=Sr.clientHeight)/(Se=Sr.clientWidth),(kt=An).name=Mn,kt.startPos={x:yr*An[0]+Rn,y:Ce*An[1]+Zn},nn=xn.scrollWidth,ln=xn.scrollHeight,Ot=qe.add(xn,"div",{class:"mce-resize-backdrop","data-mce-bogus":"all"}),qe.setStyles(Ot,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),Ct=x(kr=pt)?qe.create("img",{src:Ci.transparentSrc}):kr.cloneNode(!0),qe.addClass(Ct,"mce-clonedresizable"),qe.setAttrib(Ct,"data-mce-bogus","all"),Ct.contentEditable="false",qe.setStyles(Ct,{left:Rn,top:Zn,margin:0}),q(Ct,yr,Ce),Ct.removeAttribute(Ve),xn.appendChild(Ct),qe.bind(Ze,"mousemove",Y),qe.bind(Ze,"mouseup",qn),pn!==Ze&&(qe.bind(pn,"mousemove",Y),qe.bind(pn,"mouseup",qn)),wt=qe.add(xn,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},Se+" &times; "+Be)}),An.elm=jn,qe.setStyles(jn,{left:yr*An[0]+Rn-jn.offsetWidth/2,top:Ce*An[1]+Zn-jn.offsetHeight/2})}):Nn(),qe.getAttrib(pt,Ve)||pt.setAttribute(Ve,Sn)},Nn=function(){pi(),pt&&pt.removeAttribute(Ve),En(bn,function(Cn,Gn){var Rn=qe.get("mceResizeHandle"+Gn);Rn&&(qe.unbind(Rn),qe.remove(Rn))})},pi=function(){En(bn,function(Cn){Cn.elm&&(qe.unbind(Cn.elm),delete Cn.elm)})};return d.on("init",function(){var Cn;rt(),(Ci.browser.isIE()||Ci.browser.isEdge())&&(d.on("mousedown click",function(Rn){var Zn=Rn.target,oi=Zn.nodeName;pe||!/^(TABLE|IMG|HR)$/.test(oi)||Z(Zn)||(2!==Rn.button&&d.selection.select(Zn,"TABLE"===oi),"mousedown"===Rn.type&&d.nodeChanged())}),qe.bind(xn,"mscontrolselect",Cn=function(Rn){function Zn(oi){Wr.setEditorTimeout(d,function(){return d.selection.select(oi)})}if(Z(Rn.target)||os(Rn.target))return Rn.preventDefault(),void Zn(Rn.target);/^(TABLE|IMG|HR)$/.test(Rn.target.nodeName)&&(Rn.preventDefault(),"IMG"===Rn.target.tagName&&Zn(Rn.target))}),d.on("remove",function(){return qe.unbind(xn,"mscontrolselect",Cn)}));var Gn=Wr.throttle(function(Rn){d.composing||Q(Rn)});d.on("nodechange ResizeEditor ResizeWindow ResizeContent drop FullscreenStateChanged",Gn),d.on("keyup compositionend",function(Rn){pt&&"TABLE"===pt.nodeName&&Gn(Rn)}),d.on("hide blur",Nn),d.on("contextmenu longpress",C,!0)}),d.on("remove",pi),{isResizable:N,showResizeRect:$n,hideResizeRect:Nn,updateResizeRect:Q,destroy:function(){pt=Ct=Ot=null}}}function fm(a){return xa(a)||Hr(a)}function Np(a,d,g){var x,C,L,N,z,q=g;if(q.caretPositionFromPoint)(C=q.caretPositionFromPoint(a,d))&&((x=g.createRange()).setStart(C.offsetNode,C.offset),x.collapse(!0));else if(q.caretRangeFromPoint)x=q.caretRangeFromPoint(a,d);else if(q.body.createTextRange){x=q.body.createTextRange();try{x.moveToPoint(a,d),x.collapse(!0)}catch(Y){x=function(Q,Z,rt){var pt,Ct=rt.elementFromPoint(Q,Z),wt=rt.body.createTextRange();if(Ct&&"HTML"!==Ct.tagName||(Ct=rt.body),wt.moveToElementText(Ct),0<(pt=(pt=vn.toArray(wt.getClientRects())).sort(function(kt,Ot){return(kt=Math.abs(Math.max(kt.top-Z,kt.bottom-Z)))-Math.abs(Math.max(Ot.top-Z,Ot.bottom-Z))})).length){Z=(pt[0].bottom+pt[0].top)/2;try{return wt.moveToPoint(Q,Z),wt.collapse(!0),wt}catch(kt){}}return null}(a,d,g)}return N=g.body,z=(L=x)&&L.parentElement?L.parentElement():null,Hr(function(Y,Q,Z){for(;Y&&Y!==Q;){if(Z(Y))return Y;Y=Y.parentNode}return null}(z,N,fm))?null:L}return x}function Rp(a,d){return a&&d&&a.startContainer===d.startContainer&&a.startOffset===d.startOffset&&a.endContainer===d.endContainer&&a.endOffset===d.endOffset}function pm(a,d,g){return null!==function(x,C,L){for(;x&&x!==C;){if(L(x))return x;x=x.parentNode}return null}(a,d,g)}function Mb(a){return a&&"TABLE"===a.nodeName}function Tb(a,d,g){for(var x=new Jr(d,a.getParent(d.parentNode,a.isBlock)||a.getRoot());d=x[g?"prev":"next"]();)if(Vr(d))return 1}function Ty(a,d,g,x,C){var L,N,z=a.getRoot(),q=a.schema.getNonEmptyElements(),Y=a.getParent(C.parentNode,a.isBlock)||z;if(x&&Vr(C)&&d&&a.isEmpty(Y))return ge.some(mn(C.parentNode,a.nodeIndex(C)));for(var Q,Z,rt=new Jr(C,Y);N=rt[x?"prev":"next"]();){if("false"===a.getContentEditableParent(N)||(Z=z,ko(Q=N)&&!1===pm(Q,Z,vs)))return ge.none();if(ri(N)&&0<N.nodeValue.length)return!1===pm(N,z,function(pt){return"A"===pt.nodeName})?ge.some(mn(N,x?N.nodeValue.length:0)):ge.none();if(a.isBlock(N)||q[N.nodeName.toLowerCase()])return ge.none();L=N}return g&&L?ge.some(mn(L,0)):ge.none()}function Ib(a,d,g,x){var C,L=a.getRoot(),N=!1,z=x[(g?"start":"end")+"Container"],q=x[(g?"start":"end")+"Offset"],Y=ki(z)&&q===z.childNodes.length,Q=a.schema.getNonEmptyElements(),Z=g;if(ko(z))return ge.none();if(ki(z)&&q>z.childNodes.length-1&&(Z=!1),za(z)&&(z=L,q=0),z===L){if(Z&&(rt=z.childNodes[0<q?q-1:0])&&(ko(rt)||Q[rt.nodeName]||Mb(rt)))return ge.none();if(z.hasChildNodes()){if(q=Math.min(!Z&&0<q?q-1:q,z.childNodes.length-1),q=ri(z=z.childNodes[q])&&Y?z.data.length:0,!d&&z===L.lastChild&&Mb(z)||function(Ct,wt){for(;wt&&wt!==Ct;){if(Hr(wt))return 1;wt=wt.parentNode}}(L,z)||ko(z))return ge.none();if(z.hasChildNodes()&&!1===Mb(z)){var rt=z,pt=new Jr(z,L);do{if(Hr(rt)||ko(rt)){N=!1;break}if(ri(rt)&&0<rt.nodeValue.length){q=Z?0:rt.nodeValue.length,z=rt,N=!0;break}if(Q[rt.nodeName.toLowerCase()]&&(!(C=rt)||!/^(TD|TH|CAPTION)$/.test(C.nodeName))){q=a.nodeIndex(rt),z=rt.parentNode,Z||q++,N=!0;break}}while(rt=Z?pt.next():pt.prev())}}}return d&&(ri(z)&&0===q&&Ty(a,Y,d,!0,z).each(function(Ct){z=Ct.container(),q=Ct.offset(),N=!0}),ki(z)&&(!(rt=(rt=z.childNodes[q])||z.childNodes[q-1])||!Vr(rt)||rt.previousSibling&&"A"===rt.previousSibling.nodeName||Tb(a,rt,!1)||Tb(a,rt,!0)||Ty(a,Y,d,!0,rt).each(function(Ct){z=Ct.container(),q=Ct.offset(),N=!0}))),Z&&!d&&ri(z)&&q===z.nodeValue.length&&Ty(a,Y,d,!1,z).each(function(Ct){z=Ct.container(),q=Ct.offset(),N=!0}),N?ge.some(mn(z,q)):ge.none()}function gm(a,d){var g=d.collapsed,x=d.cloneRange(),C=mn.fromRangeStart(d);return Ib(a,g,!0,x).each(function(L){g&&mn.isAbove(C,L)||x.setStart(L.container(),L.offset())}),g||Ib(a,g,!1,x).each(function(L){x.setEnd(L.container(),L.offset())}),g&&x.collapse(!0),Rp(d,x)?ge.none():ge.some(x)}function mm(a,d){return a.splitText(d)}function vm(a){var d=a.startContainer,g=a.startOffset,x=a.endContainer,C=a.endOffset;return d===x&&ri(d)?0<g&&g<d.nodeValue.length&&(d=(x=mm(d,g)).previousSibling,g<C?(d=x=mm(x,C-=g).previousSibling,C=x.nodeValue.length,g=0):C=0):(ri(d)&&0<g&&g<d.nodeValue.length&&(d=mm(d,g),g=0),ri(x)&&0<C&&C<x.nodeValue.length&&(C=(x=mm(x,C).previousSibling).nodeValue.length)),{startContainer:d,startOffset:g,endContainer:x,endOffset:C}}function Sf(a){return{walk:function(d,g){return Lp(a,d,g)},split:vm,normalize:function(d){return gm(a,d).fold(tn,function(g){return d.setStart(g.startContainer,g.startOffset),d.setEnd(g.endContainer,g.endOffset),!0})}}}hm.isBookmarkNode=Al;var _i={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:function(a){return a.shiftKey||a.ctrlKey||a.altKey||_i.metaKeyPressed(a)},metaKeyPressed:function(a){return Ci.mac?a.metaKey:a.ctrlKey&&!a.altKey}},Cf=Hr;Sf.compareRanges=Rp,Sf.getCaretRangeFromPoint=Np,Sf.getSelectedNode=ff,Sf.getNode=Mu;var Iy,Xw,Tl=(Iy="height",Xw=function(a){var d=a.dom;return Uu(a)?d.getBoundingClientRect().height:d.offsetHeight},{set:function(a,d){if(!Xt(d)&&!d.match(/^[0-9]+$/))throw new Error(Iy+".set accepts only positive integer values. Value was "+d);var g=a.dom;xl(g)&&(g.style[Iy]=d+"px")},get:ym,getOuter:ym,aggregate:Db,max:function(a,d,g){var x=Db(a,g);return x<d?d-x:0}});function ym(a){var d=Xw(a);if(d<=0||null===d){var g=rs(a,Iy);return parseFloat(g)||0}return d}function Db(a,d){return Ke(d,function(g,x){var C=rs(a,x),L=void 0===C?0:parseInt(C,10);return isNaN(L)?g:g+L},0)}function xm(a){return"textarea"===pr(a)}function Dy(a,d){var g=function(C){var L=C.dom.ownerDocument,N=L.body,z=L.defaultView,q=L.documentElement;if(N===C.dom)return ya(N.offsetLeft,N.offsetTop);var Y=Qh(null==z?void 0:z.pageYOffset,q.scrollTop),Q=Qh(null==z?void 0:z.pageXOffset,q.scrollLeft),Z=Qh(q.clientTop,N.clientTop),rt=Qh(q.clientLeft,N.clientLeft);return Zu(C).translate(Q-rt,Y-Z)}(a),x=Tl.get(a);return{element:a,bottom:g.top+x,height:x,pos:g,cleanup:d}}function Eb(a,d,g,x){Zw(a,function(C,L){return $w(a,d,g,x)},g)}function Ed(a,d,g,x,C){var L={elm:x.element.dom,alignToTop:C};a.fire("ScrollIntoView",L).isDefaultPrevented()||(g(d,Fl(d).top,x,C),a.fire("AfterScrollIntoView",L))}function bm(a,d,g,x){var C=Qe.fromDom(a.getDoc());Ed(a,C,g,Dy(Qe.fromDom(d),Nt),x)}function Bp(a,d,g,x){var L=a.pos;Us(L.left,g?L.top:L.top-d+a.height,x)}function Lb(a,d,g,x,C){var L=g+d,N=x.pos.top,z=x.bottom,q=g<=z-N;N<d?Bp(x,g,!1!==C,a):L<N?Bp(x,g,q?!1!==C:!0===C,a):L<z&&!q&&Bp(x,g,!0===C,a)}function Ld(a,d,g,x){Lb(a,d,a.dom.defaultView.innerHeight,g,x)}function Ey(a,d,g,x){Lb(a,d,a.dom.defaultView.innerHeight,g,x);var C,L,N,z,q,Y,Q,Z=(C=g.element,z=Fl(Qe.fromDom(document)),N=(L=km).owner(C),q=Cm(L,N),Y=Zu(C),Q=Fe(q,function(pt,Ct){var wt=Zu(Ct);return{left:pt.left+wt.left,top:pt.top+wt.top}},{left:0,top:0}),ya(Q.left+Y.left+z.left,Q.top+Y.top+z.top)),rt=jo(window);Z.top<rt.y?Wo(g.element,!1!==x):Z.top>rt.bottom&&Wo(g.element,!0===x)}function kf(a,d,g){return Eb(a,Ld,d,g)}function Ca(a,d,g){return bm(a,d,Ld,g)}function Ly(a,d,g){return Eb(a,Ey,d,g)}function _m(a,d,g){return bm(a,d,Ey,g)}function Ou(a,d,g){(a.inline?kf:Ly)(a,d,g)}function Af(a){var d=gs(a).dom;return a.dom===d.activeElement}function Py(a){return void 0===a&&(a=Qe.fromDom(document)),ge.from(a.dom.activeElement).map(Qe.fromDom)}function Gw(a,d){var g=Do(d)?yb(d).length:Ta(d).length+1;return g<a?g:a<0?0:a}function rr(a){return Vb.range(a.start,Gw(a.soffset,a.start),a.finish,Gw(a.foffset,a.finish))}function Pb(a,d){return!is(d.dom)&&(A(a,d)||_(a,d))}function Pd(a){return function(d){return Pb(a,d.start)&&Pb(a,d.finish)}}function qw(a){return!0===a.inline||Hb.isIE()}function Ob(a){return Vb.range(Qe.fromDom(a.startContainer),a.startOffset,Qe.fromDom(a.endContainer),a.endOffset)}function Od(a){var d=document.createRange();try{return d.setStart(a.start.dom,a.soffset),d.setEnd(a.finish.dom,a.foffset),ge.some(d)}catch(g){return ge.none()}}function Nu(a){var d,g,x=qw(a)?((g=dh(d=Qe.fromDom(a.getBody())).dom.getSelection())&&0!==g.rangeCount?ge.from(g.getRangeAt(0)):ge.none()).map(Ob).filter(Pd(d)):ge.none();a.bookmark=x.isSome()?x:a.bookmark}function Yc(a){return(a.bookmark||ge.none()).bind(function(d){return g=Qe.fromDom(a.getBody()),ge.from(d).filter(Pd(g)).map(rr);var g}).bind(Od)}function Nh(a,d){var g=a.getParam("custom_ui_selector","","string");return null!==Ry.getParent(d,function(x){return Wb.isEditorUIElement(x)||!!g&&a.dom.is(x,g)})}function Uw(a,d){var g=d.editor;(function(a){var d=Hx(function(){Nu(a)},0);a.on("init",function(){function g(){C.throttle()}var x,C,L,N,z,q;a.inline&&(x=a,C=d,sr.DOM.bind(document,"mouseup",g),x.on("remove",function(){sr.DOM.unbind(document,"mouseup",g)})),L=a,N=d,zn().browser.isIE()?(q=L).on("focusout",function(){Nu(q)}):(z=N,L.on("mouseup touchend",function(Y){z.throttle()})),L.on("keyup NodeChange",function(Y){"nodechange"===Y.type&&Y.selectionChange||Nu(L)})}),a.on("remove",function(){d.cancel()})})(g),g.on("focusin",function(){var x=a.focusedEditor;x!==g&&(x&&x.fire("blur",{focusedEditor:g}),a.setActive(g),(a.focusedEditor=g).fire("focus",{blurredEditor:x}),g.focus(!0))}),g.on("focusout",function(){Wr.setEditorTimeout(g,function(){var x=a.focusedEditor;Nh(g,function(C){try{return Py(gs(Qe.fromDom(C.getElement()))).fold(function(){return document.body},function(L){return L.dom})}catch(L){return document.body}}(g))||x!==g||(g.fire("blur",{focusedEditor:null}),a.focusedEditor=null)})}),Tf||(Tf=function(x){var C=a.activeEditor;C&&function(L){if(xu()&&Ft(L.target)){var N=Qe.fromDom(L.target);if(na(N)&&Ft(N.dom.shadowRoot)&&L.composed&&L.composedPath){var z=L.composedPath();if(z)return fn(z)}}return ge.from(L.target)}(x).each(function(L){L.ownerDocument===document&&(L===document.body||Nh(C,L)||a.focusedEditor!==C||(C.fire("blur",{focusedEditor:null}),a.focusedEditor=null))})},Ry.bind(document,"focusin",Tf))}function Mf(a,d){a.focusedEditor===d.editor&&(a.focusedEditor=null),a.activeEditor||(Ry.unbind(document,"focusin",Tf),Tf=null)}function Oy(a,d){var g,x;g=Qe.fromDom(a.getBody()),((x=d).collapsed?ge.from(Mu(x.startContainer,x.startOffset)).map(Qe.fromDom):ge.none()).bind(function(C){return Ps(C)?ge.some(C):!1===A(g,C)?ge.some(g):ge.none()}).bind(function(C){return cs(C.dom)}).fold(function(){a.selection.normalize()},function(C){return a.selection.setRng(C.toRange())})}function Fp(a){if(a.setActive)try{a.setActive()}catch(d){a.focus()}else a.focus()}function Nd(a){return a.inline?(x=a.getBody())&&(Af(d=Qe.fromDom(x))||Py(gs(g=d)).filter(function(C){return g.dom.contains(C.dom)}).isSome()):a.iframeElement&&Af(Qe.fromDom(a.iframeElement));var d,g,x}function Ru(a,d,g,x,C){var N=g?d.startOffset:d.endOffset;return ge.from(g?d.startContainer:d.endContainer).map(Qe.fromDom).map(function(z){return x&&d.collapsed?z:ma(z,C(z,N)).getOr(z)}).bind(function(z){return na(z)?ge.some(z):_o(z).filter(na)}).map(function(z){return z.dom}).getOr(a)}function Nb(a,d,g){return Ru(a,d,!0,g,function(x,C){return Math.min(qs(x),C)})}function Rb(a,d,g){return Ru(a,d,!1,g,function(x,C){return 0<C?C-1:C})}function Ny(a,d){for(var g=a;a&&ri(a)&&0===a.length;)a=d?a.nextSibling:a.previousSibling;return a||g}function wm(a,d){return ze(d,function(g){var x=a.fire("GetSelectionRange",{range:g});return x.range!==g?x.range:g})}function Sm(a,d,g){var x=g?"lastChild":"firstChild",C=g?"prev":"next";if(a[x])return a[x];if(a!==d){var L=a[C];if(L)return L;for(var N=a.parent;N&&N!==d;N=N.parent)if(L=N[C])return L}}function Bb(a){var d="a"===a.name&&!a.attr("href")&&a.attr("id");return a.attr("name")||a.attr("id")&&!a.firstChild||a.attr("data-mce-bookmark")||d}var Tf,Cm=function(a,d){return a.view(d).fold(ft([]),function(g){var x=a.owner(g),C=Cm(a,x);return[g].concat(C)})},km=Object.freeze({__proto__:null,view:function(a){var d;return(a.dom===document?ge.none():ge.from(null===(d=a.dom.defaultView)||void 0===d?void 0:d.frameElement)).map(Qe.fromDom)},owner:Ts}),$w=function(a,d,g,x){Qe.fromDom(a.getBody());var q,Y,L=Qe.fromDom(a.getDoc()),Q=(q=function(Z,rt){var pt=Ta(Z);if(0===pt.length||xm(Z))return{element:Z,offset:rt};if(rt<pt.length&&!xm(pt[rt]))return{element:pt[rt],offset:0};var Ct=pt[pt.length-1];return xm(Ct)?{element:Z,offset:rt}:"img"===pr(Ct)?{element:Ct,offset:1}:Do(Ct)?{element:Ct,offset:yb(Ct).length}:{element:Ct,offset:Ta(Ct).length}}(Qe.fromDom(g.startContainer),g.startOffset),Y=Qe.fromHtml('<span data-mce-bogus="all" style="display: inline-block;">\ufeff</span>'),ha(q.element,Y),Dy(Y,function(){return So(Y)}));Ed(a,L,d,Q,x),Q.cleanup()},Zw=function(a,d,g){var x=g.startContainer,C=g.startOffset,L=g.endContainer,N=g.endOffset;d(Qe.fromDom(x),Qe.fromDom(L));var z=a.dom.createRng();z.setStart(x,C),z.setEnd(L,N),a.selection.setRng(g)},Fb=(Fa([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),function(a){return a.fold(St,St,St)}),Vp=Fa([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Vb={domRange:Vp.domRange,relative:Vp.relative,exact:Vp.exact,exactFromRange:function(a){return Vp.exact(a.start,a.soffset,a.finish,a.foffset)},getWin:function(a){return dh(a.match({domRange:function(d){return Qe.fromDom(d.startContainer)},relative:function(d,g){return Fb(d)},exact:function(d,g,x,C){return d}}))},range:function(a,d,g,x){return{start:a,soffset:d,finish:g,foffset:x}}},Hb=zn().browser,Wb={isEditorUIElement:function(a){var d=a.className.toString();return-1!==d.indexOf("tox-")||-1!==d.indexOf("mce-")}},Ry=sr.DOM,By=function(a){return a.editorManager.setActive(a)},lA={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},ru=($a.create=function(a,d){var g=new $a(a,lA[a]||1);return d&&En(d,function(x,C){g.attr(C,x)}),g},$a.prototype.replace=function(a){return a.parent&&a.remove(),this.insert(a,this),this.remove(),this},$a.prototype.attr=function(a,d){var g,x=this;if("string"!=typeof a)return null!=a&&En(a,function(L,N){x.attr(N,L)}),x;if(g=x.attributes){if(void 0===d)return g.map[a];if(null===d){if(a in g.map){delete g.map[a];for(var C=g.length;C--;)if(g[C].name===a)return g.splice(C,1),x}return x}if(a in g.map){for(C=g.length;C--;)if(g[C].name===a){g[C].value=d;break}}else g.push({name:a,value:d});return g.map[a]=d,x}},$a.prototype.clone=function(){var a,d=new $a(this.name,this.type);if(a=this.attributes){var g=[];g.map={};for(var x=0,C=a.length;x<C;x++){var L=a[x];"id"!==L.name&&(g[g.length]={name:L.name,value:L.value},g.map[L.name]=L.value)}d.attributes=g}return d.value=this.value,d.shortEnded=this.shortEnded,d},$a.prototype.wrap=function(a){return this.parent.insert(a,this),a.append(this),this},$a.prototype.unwrap=function(){for(var a=this.firstChild;a;){var d=a.next;this.insert(a,this,!0),a=d}this.remove()},$a.prototype.remove=function(){var a=this.parent,d=this.next,g=this.prev;return a&&(a.firstChild===this?(a.firstChild=d)&&(d.prev=null):g.next=d,a.lastChild===this?(a.lastChild=g)&&(g.next=null):d.prev=g,this.parent=this.next=this.prev=null),this},$a.prototype.append=function(a){a.parent&&a.remove();var d=this.lastChild;return d?((d.next=a).prev=d,this.lastChild=a):this.lastChild=this.firstChild=a,a.parent=this,a},$a.prototype.insert=function(a,d,g){a.parent&&a.remove();var x=d.parent||this;return g?(d===x.firstChild?x.firstChild=a:d.prev.next=a,a.prev=d.prev,(a.next=d).prev=a):(d===x.lastChild?x.lastChild=a:d.next.prev=a,a.next=d.next,(a.prev=d).next=a),a.parent=x,a},$a.prototype.getAll=function(a){for(var d=[],g=this.firstChild;g;g=Sm(g,this))g.name===a&&d.push(g);return d},$a.prototype.children=function(){for(var a=[],d=this.firstChild;d;d=d.next)a.push(d);return a},$a.prototype.empty=function(){if(this.firstChild){for(var a=[],d=this.firstChild;d;d=Sm(d,this))a.push(d);for(var g=a.length;g--;)(d=a[g]).parent=d.firstChild=d.lastChild=d.next=d.prev=null}return this.firstChild=this.lastChild=null,this},$a.prototype.isEmpty=function(a,d,g){void 0===d&&(d={});var x=this.firstChild;if(Bb(this))return!1;if(x)do{if(1===x.type){if(x.attr("data-mce-bogus"))continue;if(a[x.name]||Bb(x))return!1}if(8===x.type||3===x.type&&!function(C){if(Wn(C.value)){var L=C.parent;return!L||"span"===L.name&&!L.attr("style")||!/^[ ]+$/.test(C.value)}}(x)||3===x.type&&x.parent&&d[x.parent.name]&&Wn(x.value)||g&&g(x))return!1}while(x=Sm(x,this));return!0},$a.prototype.walk=function(a){return Sm(this,null,a)},$a);function $a(a,d){this.name=a,1===(this.type=d)&&(this.attributes=[],this.attributes.map={})}function Rd(a,d){return a.replace(d.re,function(g){return ji(d.uris,g).getOr(g)})}var Kw=vn.each,uA=vn.trim,cA="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),cc={ftp:21,http:80,https:443,mailto:25},Am=["img","video"],Rh=(Hs.parseDataUri=function(a){var d,g=decodeURIComponent(a).split(","),x=/data:([^;]+)/.exec(g[0]);return{type:d=x?x[1]:d,data:g[1]}},Hs.isDomSafe=function(a,d,g){if((g=void 0===g?{}:g).allow_script_urls)return!0;var x,C,L,N,z=ql.decode(a).replace(/[\s\u0000-\u001F]+/g,"");try{z=decodeURIComponent(z)}catch(q){z=unescape(z)}return!(/((java|vb)script|mhtml):/i.test(z)||(C=z,L=d,!(x=g).allow_html_data_urls&&(/^data:image\//i.test(C)?(Ft(N=x.allow_svg_data_urls)?!N:!Ft(L)||!oe(Am,L))&&/^data:image\/svg\+xml/i.test(C):/^data:/i.test(C))))},Hs.getDocumentBaseUrl=function(a){var d=0!==a.protocol.indexOf("http")&&"file:"!==a.protocol?a.href:a.protocol+"//"+a.host+a.pathname;return/^[^:]+:\/\/\/?[^\/]+\//.test(d)&&(d=d.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(d)||(d+="/")),d},Hs.prototype.setPath=function(a){var d=/^(.*?)\/?(\w+)?$/.exec(a);this.path=d[0],this.directory=d[1],this.file=d[2],this.source="",this.getURI()},Hs.prototype.toRelative=function(a){var d;if("./"===a)return a;var g=new Hs(a,{base_uri:this});if("mce_host"!==g.host&&this.host!==g.host&&g.host||this.port!==g.port||this.protocol!==g.protocol&&""!==g.protocol)return g.getURI();var x=this.getURI(),C=g.getURI();return x===C||"/"===x.charAt(x.length-1)&&x.substr(0,x.length-1)===C?x:(d=this.toRelPath(this.path,g.path),g.query&&(d+="?"+g.query),g.anchor&&(d+="#"+g.anchor),d)},Hs.prototype.toAbsolute=function(a,d){var g=new Hs(a,{base_uri:this});return g.getURI(d&&this.isSameOrigin(g))},Hs.prototype.isSameOrigin=function(a){if(this.host==a.host&&this.protocol==a.protocol){if(this.port==a.port)return!0;var d=cc[this.protocol];if(d&&(this.port||d)==(a.port||d))return!0}return!1},Hs.prototype.toRelPath=function(a,d){var g,x,C=0,L="",N=a.substring(0,a.lastIndexOf("/")).split("/"),z=d.split("/");if(N.length>=z.length)for(g=0,x=N.length;g<x;g++)if(g>=z.length||N[g]!==z[g]){C=g+1;break}if(N.length<z.length)for(g=0,x=z.length;g<x;g++)if(g>=N.length||N[g]!==z[g]){C=g+1;break}if(1===C)return d;for(g=0,x=N.length-(C-1);g<x;g++)L+="../";for(g=C-1,x=z.length;g<x;g++)L+=g!==C-1?"/"+z[g]:z[g];return L},Hs.prototype.toAbsPath=function(a,d){var g,x,C=0,L=[],N=/\/$/.test(d)?"/":"",z=a.split("/"),q=d.split("/");for(Kw(z,function(Y){Y&&L.push(Y)}),z=L,g=q.length-1,L=[];0<=g;g--)0!==q[g].length&&"."!==q[g]&&(".."!==q[g]?0<C?C--:L.push(q[g]):C++);return 0!==(x=(g=z.length-C)<=0?hi(L).join("/"):z.slice(0,g).join("/")+"/"+hi(L).join("/")).indexOf("/")&&(x="/"+x),N&&x.lastIndexOf("/")!==x.length-1&&(x+=N),x},Hs.prototype.getURI=function(a){var d;return void 0===a&&(a=!1),this.source&&!a||(d="",a||(d+=this.protocol?this.protocol+"://":"//",this.userInfo&&(d+=this.userInfo+"@"),this.host&&(d+=this.host),this.port&&(d+=":"+this.port)),this.path&&(d+=this.path),this.query&&(d+="?"+this.query),this.anchor&&(d+="#"+this.anchor),this.source=d),this.source},Hs);function Hs(a,d){a=uA(a),this.settings=d||{};var g,x,C,L,N=this.settings.base_uri,z=this;/^([\w\-]+):([^\/]{2})/i.test(a)||/^\s*#/.test(a)?z.source=a:(g=0===a.indexOf("//"),0!==a.indexOf("/")||g||(a=(N&&N.protocol||"http")+"://mce_host"+a),/^[\w\-]*:?\/\//.test(a)||(x=this.settings.base_uri?this.settings.base_uri.path:new Hs(document.location.href).directory,a=this.settings.base_uri&&""==this.settings.base_uri.protocol?"//mce_host"+z.toAbsPath(x,a):(C=/([^#?]*)([#?]?.*)/.exec(a),(N&&N.protocol||"http")+"://mce_host"+z.toAbsPath(x,C[1])+C[2])),a=a.replace(/@@/g,"(mce_at)"),L=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(a),Kw(cA,function(q,Y){var Q=(Q=L[Y])&&Q.replace(/\(mce_at\)/g,"@@");z[q]=Q}),N&&(z.protocol||(z.protocol=N.protocol),z.userInfo||(z.userInfo=N.userInfo),z.port||"mce_host"!==z.host||(z.port=N.port),z.host&&"mce_host"!==z.host||(z.host=N.host),z.source=""),g&&(z.protocol=""))}function hs(a,d,g){for(var x=/<([!?\/])?([A-Za-z0-9\-_:.]+)/g,C=/(?:\s(?:[^'">]+(?:"[^"]*"|'[^']*'))*[^"'>]*(?:"[^">]*|'[^'>]*)?|\s*|\/)>/g,L=a.getShortEndedElements(),N=1,z=g;0!==N;)for(x.lastIndex=z;;){var q=x.exec(d);if(null===q)return z;if("!"===q[1]){z=ct(q[2],"--")?Il(d,!1,q.index+"!--".length):Il(d,!0,q.index+1);break}C.lastIndex=x.lastIndex;var Y=C.exec(d);if(!Ut(Y)&&Y.index===x.lastIndex){"/"===q[1]?--N:Yi(L,q[2])||(N+=1),z=x.lastIndex+Y[0].length;break}}return z}function Bd(a,d){var g;void 0===d&&(d=or());var x=null!==(g=(a=a||{}).document)&&void 0!==g?g:document,C=x.createElement("form");!1!==a.fix_self_closing&&(a.fix_self_closing=!0);var N=a.comment||Nt,z=a.cdata||Nt,q=a.text||Nt,Y=a.start||Nt,Q=a.end||Nt,Z=a.pi||Nt,rt=a.doctype||Nt;return{parse:function(pt,Ct){void 0===Ct&&(Ct="html"),function(pt,Ct){void 0===Ct&&(Ct="html");for(var wt,kt,Ot,jt,Qt,Se,Be,te,pe,ke,Ge,nn,ln,Ve,qe,je,Ze,pn,Pn,Vn=pt.html,xn=0,bn=[],qn=0,$n=ql.decode,Nn=vn.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),pi="html"===Ct?0:1,Cn=function(vi){for(var Cr,Or=bn.length;Or--&&bn[Or].name!==vi;);if(0<=Or){for(Cr=bn.length-1;Or<=Cr;Cr--)(vi=bn[Cr]).valid&&Q(vi.name);bn.length=Or}},Gn=function(vi,Cr){return q(Rd(vi,pt),Cr)},Rn=function(vi){""!==vi&&(">"===vi.charAt(0)&&(vi=" "+vi),a.allow_conditional_comments||"[if"!==vi.substr(0,3).toLowerCase()||(vi=" "+vi),N(Rd(vi,pt)))},Zn=function(vi,Cr){var Or=vi||"",sa=!ct(Or,"--"),la=Il(Vn,sa,Cr);return vi=Vn.substr(Cr,la-Cr),Rn(sa?Or+vi:vi),la+1},oi=new RegExp("<(?:(?:!--([\\w\\W]*?)--!?>)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:![Dd][Oo][Cc][Tt][Yy][Pp][Ee]([\\w\\W]*?)>)|(?:!(--)?)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)>)|(?:([A-Za-z][A-Za-z0-9\\-_:.]*)(\\s(?:[^'\">]+(?:\"[^\"]*\"|'[^']*'))*[^\"'>]*(?:\"[^\">]*|'[^'>]*)?|\\s*|\\/)>))","g"),yr=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g,Ce=d.getShortEndedElements(),Ye=a.self_closing_elements||d.getSelfClosingElements(),Sn=d.getBoolAttrs(),An=a.validate,Mn=a.remove_internals,jn=a.fix_self_closing,mi=d.getSpecialElements(),Ri=Vn+">";wt=oi.exec(Ri);){var kr=wt[0];if(xn<wt.index&&Gn($n(Vn.substr(xn,wt.index-xn))),kt=wt[7])Cn(kt=":"===(kt=kt.toLowerCase()).charAt(0)?kt.substr(1):kt);else if(kt=wt[8]){if(wt.index+kr.length>Vn.length){Gn($n(Vn.substr(wt.index))),xn=wt.index+kr.length;continue}pe=(kt=":"===(kt=kt.toLowerCase()).charAt(0)?kt.substr(1):kt)in Ce,jn&&Ye[kt]&&0<bn.length&&bn[bn.length-1].name===kt&&Cn(kt);var Sr=function(vi,Cr){var Or=vi.exec(Cr);if(Or){var sa=Or[1],la=Or[2];return"string"==typeof sa&&"data-mce-bogus"===sa.toLowerCase()?la:null}return null}(yr,wt[9]);if(null!==Sr){if("all"===Sr){xn=hs(d,Vn,oi.lastIndex),oi.lastIndex=xn;continue}Ge=!1}if(!An||(ke=d.getElementRule(kt))){if(Ge=!0,An&&(Ve=ke.attributes,qe=ke.attributePatterns),(ln=wt[9])?((te=-1!==ln.indexOf("data-mce-type"))&&Mn&&(Ge=!1),(jt=[]).map={},ln.replace(yr,function(vi,Cr,Or,sa,la){return function(Xu,Qo,ks,du,Ig){var Zh;if(ks=Rd((Qo=Qo.toLowerCase())in Sn?Qo:$n(ks||du||Ig||""),pt),An&&!te&&0==(0===(Zh=Qo).indexOf("data-")||0===Zh.indexOf("aria-"))){var yc=Ve[Qo];if(!yc&&qe){for(var xc=qe.length;xc--&&!(yc=qe[xc]).pattern.test(Qo););-1===xc&&(yc=null)}if(!yc||yc.validValues&&!(ks in yc.validValues))return}("name"===Qo||"id"===Qo)&&Xu in ka&&(ks in x||ks in C)||Nn[Qo]&&!Rh.isDomSafe(ks,Xu,a)||te&&(Qo in Nn||0===Qo.indexOf("on"))||(jt.map[Qo]=ks,jt.push({name:Qo,value:ks}))}(kt,Cr,Or,sa,la),""})):(jt=[]).map={},An&&!te){if(je=ke.attributesRequired,Ze=ke.attributesDefault,ke.removeEmptyAttrs&&!jt.length&&(Ge=!1),pn=ke.attributesForced)for(Qt=pn.length;Qt--;)Be=(nn=pn[Qt]).name,"{$uid}"===(Pn=nn.value)&&(Pn="mce_"+qn++),jt.map[Be]=Pn,jt.push({name:Be,value:Pn});if(Ze)for(Qt=Ze.length;Qt--;)(Be=(nn=Ze[Qt]).name)in jt.map||("{$uid}"===(Pn=nn.value)&&(Pn="mce_"+qn++),jt.map[Be]=Pn,jt.push({name:Be,value:Pn}));if(je){for(Qt=je.length;Qt--&&!(je[Qt]in jt.map););-1===Qt&&(Ge=!1)}if(nn=jt.map["data-mce-bogus"]){if("all"===nn){xn=hs(d,Vn,oi.lastIndex),oi.lastIndex=xn;continue}Ge=!1}}Ge&&Y(kt,jt,pe)}else Ge=!1;if(Ot=mi[kt]){Ot.lastIndex=xn=wt.index+kr.length,xn=(wt=Ot.exec(Vn))?(Ge&&(Se=Vn.substr(xn,wt.index-xn)),wt.index+wt[0].length):(Se=Vn.substr(xn),Vn.length),Ge&&(0<Se.length&&Gn(Se,!0),Q(kt)),oi.lastIndex=xn;continue}pe||(ln&&ln.indexOf("/")===ln.length-1?Ge&&Q(kt):bn.push({name:kt,valid:Ge}))}else if(kt=wt[1])Rn(kt);else if(kt=wt[2]){if(!(1==pi||a.preserve_cdata||0<bn.length&&d.isValidChild(bn[bn.length-1].name,"#cdata"))){xn=Zn("",wt.index+2),oi.lastIndex=xn;continue}z(kt)}else if(kt=wt[3])rt(kt);else{if((kt=wt[4])||"<!"===kr){xn=Zn(kt,wt.index+kr.length),oi.lastIndex=xn;continue}if(kt=wt[5]){if(1!=pi){xn=Zn("?",wt.index+2),oi.lastIndex=xn;continue}Z(kt,wt[6])}}xn=wt.index+kr.length}for(xn<Vn.length&&Gn($n(Vn.substr(xn))),Qt=bn.length-1;0<=Qt;Qt--)(kt=bn[Qt]).valid&&Q(kt.name)}(function(wt){for(var kt,Ot=/data:[^;]+;base64,([a-z0-9\+\/=\s]+)/gi,jt=[],Qt={},Se=jx("img"),Be=0,te=0;kt=Ot.exec(wt);){var pe=kt[0],ke=Se+"_"+te++;Qt[ke]=pe,Be<kt.index&&jt.push(wt.substr(Be,kt.index-Be)),jt.push(ke),Be=kt.index+pe.length}var Ge=new RegExp(Se+"_[0-9]+","g");return 0===Be?{prefix:Se,uris:Qt,html:wt,re:Ge}:(Be<wt.length&&jt.push(wt.substr(Be)),{prefix:Se,uris:Qt,html:jt.join(""),re:Ge})}(pt),Ct)}}}var ka=vn.makeMap("button,fieldset,form,iframe,img,image,input,object,output,select,textarea"),Il=function(a,d,g){void 0===g&&(g=0);var x=a.toLowerCase();if(-1!==x.indexOf("[if ",g)&&/^\s*\[if [\w\W]+\]>.*<!\[endif\](--!?)?>/.test(x.substr(g))){var C=x.indexOf("[endif]",g);return x.indexOf(">",C)}if(d){var L=x.indexOf(">",g);return-1!==L?L:x.length}var N=/--!?>/g;N.lastIndex=g;var q=N.exec(a);return q?q.index+q[0].length:x.length};function Xc(a,d){for(var g,x,C,L,N=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,z=a.schema,q=(g=a.getTempAttrs(),x=d,C=new RegExp(["\\s?("+g.join("|")+')="[^"]+"'].join("|"),"gi"),x.replace(C,"")),Y=z.getShortEndedElements();L=N.exec(q);){var Q=N.lastIndex,Z=L[0].length,rt=Y[L[1]]?Q:Bd.findEndTag(z,q,Q);q=q.substring(0,Q-Z)+q.substring(rt),N.lastIndex=Q-Z}return mo(q)}function jb(a){return{compare:function(d,g){return d.nodeName===g.nodeName&&!(!C(x(d),x(g))||!C(a.parseStyle(a.getAttrib(d,"style")),a.parseStyle(a.getAttrib(g,"style")))||Al(d)||Al(g));function x(L){var N={};return dA(a.getAttribs(L),function(z){var q=z.nodeName.toLowerCase();0!==q.indexOf("_")&&"style"!==q&&0!==q.indexOf("data-")&&(N[q]=a.getAttrib(L,q))}),N}function C(L,N){var z,q;for(q in L)if(Yi(L,q)){if(void 0===(z=N[q])||L[q]!==z)return;delete N[q]}for(q in N)if(Yi(N,q))return;return 1}}}}function Qw(a){var d=[],g=(a=a||{}).indent,x=zy(a.indent_before||""),C=zy(a.indent_after||""),L=ql.getEncodeFunc(a.entity_encoding||"raw",a.entities),N="html"===a.element_format;return{start:function(z,q,Y){var Q,Z,rt,pt;if(g&&x[z]&&0<d.length&&0<(pt=d[d.length-1]).length&&"\n"!==pt&&d.push("\n"),d.push("<",z),q)for(Q=0,Z=q.length;Q<Z;Q++)d.push(" ",(rt=q[Q]).name,'="',L(rt.value,!0),'"');d[d.length]=!Y||N?">":" />",Y&&g&&C[z]&&0<d.length&&0<(pt=d[d.length-1]).length&&"\n"!==pt&&d.push("\n")},end:function(z){var q;d.push("</",z,">"),g&&C[z]&&0<d.length&&0<(q=d[d.length-1]).length&&"\n"!==q&&d.push("\n")},text:function(z,q){0<z.length&&(d[d.length]=q?z:L(z))},cdata:function(z){d.push("<![CDATA[",z,"]]>")},comment:function(z){d.push("\x3c!--",z,"--\x3e")},pi:function(z,q){q?d.push("<?",z," ",L(q),"?>"):d.push("<?",z,"?>"),g&&d.push("\n")},doctype:function(z){d.push("<!DOCTYPE",z,">",g?"\n":"")},reset:function(){d.length=0},getContent:function(){return d.join("").replace(/\n$/,"")}}}function If(a,d){void 0===d&&(d=or());var g=Qw(a);return(a=a||{}).validate=!("validate"in a)||a.validate,{serialize:function(x){var C=a.validate,L={3:function(z){g.text(z.value,z.raw)},8:function(z){g.comment(z.value)},7:function(z){g.pi(z.name,z.value)},10:function(z){g.doctype(z.value)},4:function(z){g.cdata(z.value)},11:function(z){if(z=z.firstChild)for(;N(z),z=z.next;);}};g.reset();var N=function(z){var q=L[z.type];if(q)q(z);else{var Y=z.name,Q=z.shortEnded,Z=z.attributes;if(C&&Z&&1<Z.length){var rt=[];rt.map={};var pt=d.getElementRule(z.name);if(pt){for(var Ct=0,wt=pt.attributesOrder.length;Ct<wt;Ct++)(kt=pt.attributesOrder[Ct])in Z.map&&(rt.map[kt]=Ot=Z.map[kt],rt.push({name:kt,value:Ot}));var kt,Ot;for(Ct=0,wt=Z.length;Ct<wt;Ct++)(kt=Z[Ct].name)in rt.map||(rt.map[kt]=Ot=Z.map[kt],rt.push({name:kt,value:Ot}));Z=rt}}if(g.start(z.name,Z,Q),!Q){if(z=z.firstChild)for(;N(z),z=z.next;);g.end(Y)}}};return 1!==x.type||a.inner?L[11](x):N(x),g.getContent()}}}Bd.findEndTag=hs;var hA=Xc,dA=vn.each,zy=vn.makeMap,Hp=new Set;function Fy(a,d){return ca(a.parseStyle(a.getAttrib(d,"style")))}function Yb(a,d,g){return ge.from(g.container()).filter(ri).exists(function(x){var C=a?0:-1;return d(x.data.charAt(g.offset()+C))})}function Jw(a){var d=a.container();return ri(d)&&(0===d.data.length||Ao(d.data)&&hm.isBookmarkNode(d.parentNode))}function Bh(a,d){return function(g){return ge.from(us(a?0:-1,g)).filter(d).isSome()}}function tS(a){return vh(a)&&"block"===rs(Qe.fromDom(a),"display")}function Df(a){return Hr(a)&&!(ki(d=a)&&"all"===d.getAttribute("data-mce-bogus"));var d}function Bu(a){fh(a),go(a,Qe.fromHtml('<br data-mce-bogus="1">'))}function Wp(a){lo(a).each(function(d){Is(d).each(function(g){$r(a)&&wl(d)&&$r(g)&&So(d)})})}function Xb(a,d){return C=tn,A(x=d,g=a)?function(L,N){for(var z=Pt(N)?N:tn,q=L.dom,Y=[];null!=q.parentNode;){var Q=q.parentNode,Z=Qe.fromDom(Q);if(Y.push(Z),!0===z(Z))break;q=Q}return Y}(g,function(L){return C(L)||_(L,x)}).slice(0,-1):[];var g,x,C}function Gc(a,d){return[a].concat(Xb(a,d))}function jp(a,d,g){return Cy(a,d,g,Jw)}function Vy(a,d){return hn(Gc(Qe.fromDom(d.container()),a),$r)}function Hy(a,d,g){return jp(a,d.dom,g).forall(function(x){return Vy(d,g).fold(function(){return!1===zc(x,g,d.dom)},function(C){return!1===zc(x,g,d.dom)&&A(C,Qe.fromDom(x.container()))})})}function Wy(a,d,g){return Vy(d,g).fold(function(){return jp(a,d.dom,g).forall(function(x){return!1===zc(x,g,d.dom)})},function(x){return jp(a,x.dom,g).isNone()})}function eS(a){return yf(a).exists(wl)}function Mm(a,d,g){var x=fn(Jt(Gc(Qe.fromDom(g.container()),d),$r)).getOr(d);return Vs(a,x.dom,g).filter(eS)}function jy(a,d){return yf(d).exists(wl)||Mm(!0,a,d).isSome()}function Yy(a,d){return ge.from(d.getNode(!0)).map(Qe.fromDom).exists(wl)||Mm(!1,a,d).isSome()}function Gb(a){return mn.isTextPosition(a)&&!a.isAtStart()&&!a.isAtEnd()}function qb(a,d){return fn(Jt(Gc(Qe.fromDom(d.container()),a),$r)).getOr(a)}function nS(a,d){return Gb(d)?Rr(d):Rr(d)||Pu(qb(a,d).dom,d).exists(Rr)}function Ub(a,d){return Gb(d)?g1(d):g1(d)||Lu(qb(a,d).dom,d).exists(g1)}function Xy(a){return yf(a).bind(function(d){return jl(d,na)}).exists(function(d){return oe(["pre","pre-wrap"],rs(d,"white-space"))})}function Gy(a,d){return!Xy(d)&&(Nf(a,d)||wS(a,d)||Yy(a,d)||nS(a,d))}function Tm(a,d){return!Xy(d)&&(Up(a,d)||SS(a,d)||jy(a,d)||Ub(a,d))}function qy(a,d){return Gy(a,d)||Tm(a,(x=(g=d).container(),C=g.offset(),ri(x)&&C<x.data.length?mn(x,C+1):g));var g,x,C}function iS(a,d){return Oh(a.charAt(d))}function rS(a){var d=a.container();return ri(d)&&Nr(d.data,Oo)}function Ef(a){var d=Qe.fromDom(a.getBody());a.selection.isCollapsed()&&function(a,d){return ge.some(d).filter(rS).bind(function(g){var x,C,L,N,z,q,Y,Q,Z,rt=g.container(),pt=a,Ct=(z=rt).data,wt=mn(z,0);return(!iS(Ct,0)||qy(pt,wt)?(Q=(q=rt).data,(Z=ze(Y=Q.split(""),function(kt,Ot){return Oh(kt)&&0<Ot&&Ot<Y.length-1&&Ep(Y[Ot-1])&&Ep(Y[Ot+1])?" ":kt}).join(""))!==Q&&(q.data=Z,1)):(z.data=" "+Ct.slice(1),1))||(x=a,L=(C=rt).data,N=mn(C,L.length-1),iS(L,L.length-1)&&!qy(x,N)&&(C.data=L.slice(0,-1)+" ",1))?ge.some(g):ge.none()})}(d,mn.fromRangeStart(a.selection.getRng())).each(function(g){a.selection.setRng(g.toRange())})}function oS(a,d,g){var x,C,L,N,z,q,Y,Q;0!==g&&(C=Ls(x=Qe.fromDom(a),$r).getOr(x),L=a.data.slice(d,d+g),N=d+g>=a.data.length&&Tm(C,mn(a,a.data.length)),z=0===d&&Gy(C,mn(a,0)),a.replaceData(d,g,(Y=z,Q=N,Ke(q=L,function(Z,rt){return ys(rt)||Oh(rt)?Z.previousCharIsSpace||""===Z.str&&Y||Z.str.length===q.length-1&&Q?{previousCharIsSpace:!1,str:Z.str+Oo}:{previousCharIsSpace:!0,str:Z.str+" "}:{previousCharIsSpace:!1,str:Z.str+rt}},{previousCharIsSpace:!1,str:""}).str)))}function Yp(a,d){var g=a.data.slice(d);oS(a,d,g.length-Vt(g).length)}function Uy(a,d){var g=a.data.slice(0,d),x=g.length-Ht(g).length;oS(a,d-x,x)}function Lf(a,d,g,x){void 0===x&&(x=!0);var C=Ht(a.data).length,L=x?a:d,N=x?d:a;return x?L.appendData(N.data):L.insertData(0,N.data),So(Qe.fromDom(N)),g&&Yp(L,C),L}function fA(a,d){return x=a,C=(g=d).container(),L=g.offset(),!1===mn.isTextPosition(g)&&C===x.parentNode&&L>mn.before(x).offset()?mn(d.container(),d.offset()-1):d;var g,x,C,L}function Zb(a){return Je(a.previousSibling)?ge.some(ri(d=a.previousSibling)?mn(d,d.data.length):mn.after(d)):a.previousSibling?uc(a.previousSibling):ge.none();var d}function zh(a){return Je(a.nextSibling)?ge.some(ri(d=a.nextSibling)?mn(d,0):mn.before(d)):a.nextSibling?cs(a.nextSibling):ge.none();var d}function pA(a,d){return Zb(d).orThunk(function(){return zh(d)}).orThunk(function(){return g=a,C=mn.before((x=d).previousSibling||x.parentNode),Pu(g,C).fold(function(){return Lu(g,mn.after(x))},ge.some);var g,x,C})}function aS(a,d){return zh(d).orThunk(function(){return Zb(d)}).orThunk(function(){return Lu(g=a,mn.after(x=d)).fold(function(){return Pu(g,mn.before(x))},ge.some);var g,x})}function Kb(a,d,g){g.fold(function(){a.focus()},function(x){a.selection.setRng(x.toRange(),d)})}function gA(a,d){return d&&Yi(a.schema.getBlockElements(),pr(d))}function sS(a){if(li(a)){var d=Qe.fromHtml('<br data-mce-bogus="1">');return fh(a),go(a,d),ge.some(mn.before(d.dom))}return ge.none()}function Pf(a,d,g,x){void 0===x&&(x=!0);var C,L,N,z,q,Y,Q,Z,rt,pt,Ct,Ot,jt=(d?aS:pA)(a.getBody(),Ot=g.dom).map(vt(fA,Ot)),Qt=Ls(g,vt(gA,a),(C=a.getBody(),function(Be){return Be.dom===C})),Se=(z=jt,L=N=g,q=Yi(a.schema.getTextInlineElements(),pr(L)),pt=Is(N).filter(Do),Ct=gl(N).filter(Do),So(N),Q=Ct,Z=z,rt=function(Be,te,pe){var ke=Be.dom,Ge=te.dom,nn=ke.data.length;return Lf(ke,Ge,q),pe.container()===Ge?mn(ke,nn):pe},((Y=pt).isSome()&&Q.isSome()&&Z.isSome()?ge.some(rt(Y.getOrDie(),Q.getOrDie(),Z.getOrDie())):ge.none()).orThunk(function(){return q&&(pt.each(function(Be){return Uy(Be.dom,Be.dom.length)}),Ct.each(function(Be){return Yp(Be.dom,0)})),z}));a.dom.isEmpty(a.getBody())?(a.setContent(""),a.selection.setCursorLocation()):Qt.bind(sS).fold(function(){x&&Kb(a,d,Se)},function(Be){x&&Kb(a,d,ge.some(Be))})}function Qb(a){return ul(a,"td,th")}function Jb(a,d){return{start:a,end:d}}function $y(a,d){return Ic(Qe.fromDom(a),"td,th",d)}function lS(a){return!_(a.start,a.end)}function uS(a,d){return Pp(a.start,d).bind(function(g){return Pp(a.end,d).bind(function(x){return _(g,x)?ge.some(g):ge.none()})})}function t1(a){return function(d){return uS(d,a).map(function(g){return{rng:d,table:g,cells:Qb(g)}})}}function e1(a,d,g,x){if(g.collapsed||!a.forall(lS))return ge.none();if(d.isSameTable){var C=a.bind(t1(x));return ge.some({start:C,end:C})}var L,N,z=$y(g.startContainer,x),q=$y(g.endContainer,x),Y=z.bind((N=x,function(Z){return Pp(Z,N).bind(function(rt){return On(Qb(rt)).map(function(pt){return Jb(Z,pt)})})})).bind(t1(x)),Q=q.bind((L=x,function(Z){return Pp(Z,L).bind(function(rt){return fn(Qb(rt)).map(function(pt){return Jb(pt,Z)})})})).bind(t1(x));return ge.some({start:Y,end:Q})}function cS(a,d){return $e(a,function(g){return _(g,d)})}function Im(a){return wo(cS(a.cells,a.rng.start),cS(a.cells,a.rng.end),function(d,g){return a.cells.slice(d,g+1)})}function Zy(a,d){var g=d.startTable,x=d.endTable,C=a.cloneRange();return g.each(function(L){return C.setStartAfter(L.dom)}),x.each(function(L){return C.setEndBefore(L.dom)}),C}function hS(a){return be(a,function(d){bl(d,"contenteditable"),Bu(d)}),0}function n1(a,d,g,x){var C=g.cloneRange();x?(C.setStart(g.startContainer,g.startOffset),C.setEndAfter(d.dom.lastChild)):(C.setStartBefore(d.dom.firstChild),C.setEnd(g.endContainer,g.endOffset)),Rf(a,C,d,!1)}function i1(a){var d=_f(a),g=Qe.fromDom(a.selection.getNode());yh(g.dom)&&li(g)?a.selection.setCursorLocation(g.dom,0):a.selection.collapse(!0),1<d.length&&Ae(d,function(x){return _(x,g)})&&Ds(g,"data-mce-selected","1")}function r1(a,d,g){var x=a.selection.getRng();return hS(g.bind(function(C){var N,z,q=C.rng,Y=C.isStartInTable,Q=ge.from(a.dom.getParent(Y?q.endContainer:q.startContainer,a.dom.isBlock)).map(Qe.fromDom);q.deleteContents(),N=a,z=Y,Q.filter(li).each(function(rt){z?So(rt):(Bu(rt),N.selection.setCursorLocation(rt.dom,0))});var Z=Y?d[0]:d[d.length-1];return n1(a,Z,x,Y),li(Z)?ge.none():ge.some(Y?d.slice(1):d.slice(0,-1))}).getOr(d)),i1(a),!0}function dS(a,d,g,x){var C=a.selection.getRng(),L=d[0],N=g[g.length-1];n1(a,L,C,!0),n1(a,N,C,!1);var z=li(L)?d:d.slice(1),q=li(N)?g:g.slice(0,-1);return hS(z.concat(q)),x.deleteContents(),i1(a),!0}function Dm(a,d){return Pf(a,!1,d),!0}function o1(a,d){return hn(Gc(d,a),Ha)}function Qy(a,d){return(a?_S:Pm)(d)}function Em(a,d){var g,x,C,L,N,z,q,Y,Q=Qe.fromDom(a.selection.getStart(!0)),Z=_f(a);return a.selection.isCollapsed()&&0===Z.length?function(a,d,g){var x=Qe.fromDom(a.getBody());return m1(x,g).fold(function(){return L=d,N=x,z=g,q=mn.fromRangeStart((C=a).selection.getRng()),o1(N,z).bind(function(rt){return li(rt)?a0(C,rt):(pt=N,Ct=rt,wt=q,ro(L,C.getBody(),wt).bind(function(kt){return o1(pt,Qe.fromDom(kt.getNode())).map(function(Ot){return!1===_(Ot,Ct)})}));var pt,Ct,wt}).getOr(!1)||(Q=d,Z=mn.fromRangeStart((Y=a).selection.getRng()),Qy(Q,Z)||Vs(Q,Y.getBody(),Z).exists(function(rt){return Qy(Q,rt)}));var C,L,N,z,q,Y,Q,Z},function(C){return Z=d,rt=x,pt=C,Ct=mn.fromRangeStart((Q=a).selection.getRng()),(li(pt)?a0(Q,pt):(N=rt,q=pt,Y=Ct,ro(z=Z,(L=Q).getBody(),Y).bind(function(wt){return jt=z,Qt=Y,Se=wt,cs((Ot=q).dom).bind(function(Be){return uc(Ot.dom).map(function(te){return jt?Qt.isEqual(Be)&&Se.isEqual(te):Qt.isEqual(te)&&Se.isEqual(Be)})}).getOr(!0)?a0(L,q):(kt=q,m1(N,Qe.fromDom(wt.getNode())).map(function(Be){return!1===_(Be,kt)}));var kt,Ot,jt,Qt,Se}).or(ge.some(!0)))).getOr(!1);var L,N,z,q,Y,Q,Z,rt,pt,Ct})}(a,d,Q):(x=Q,C=Z,L=Qe.fromDom((g=a).getBody()),N=g.selection.getRng(),0!==C.length?r1(g,C,ge.none()):(z=g,Y=N,m1(q=L,x).fold(function(){return rt=z,function(a,d){var g,x,C,L,N,z,q,Y,Q,Z,rt,pt,Ct,wt,kt,Ot,jt=(g=a,function(te){return _(g,te)}),Qt=wo($y((x=d).startContainer,C=jt),$y(x.endContainer,C),Jb),Se=(Q=jt,Z=Be((Y=d).startContainer),rt=Be(Y.endContainer),pt=Z.isSome(),Ct=rt.isSome(),{startTable:Z,endTable:rt,isStartInTable:pt,isEndInTable:Ct,isSameTable:wt=wo(Z,rt,_).getOr(!1),isMultiTable:!wt&&pt&&Ct});function Be(te){return Pp(Qe.fromDom(te),Q)}return kt=d,Ot=jt,Qt.exists(function(te){return!lS(pe=te)&&uS(pe,Ot).exists(function(ke){var Ge=ke.dom.rows;return 1===Ge.length&&1===Ge[0].cells.length})&&Td(te.start,kt);var pe})?Qt.map(function(te){return $p.singleCellTable(d,te.start)}):Se.isMultiTable?e1(Qt,z=Se,q=d,jt).bind(function(te){var ke=te.end,Ge=te.start.bind(Im).getOr([]),nn=ke.bind(Im).getOr([]);if(0<Ge.length&&0<nn.length){var ln=Zy(q,z);return ge.some($p.multiTable(Ge,nn,ln))}return ge.none()}):e1(Qt,L=Se,N=d,jt).bind(function(te){return te.start.or(te.end)}).bind(function(te){var pe=L.isSameTable,ke=Im(te).getOr([]);if(pe&&te.cells.length===ke.length)return ge.some($p.fullTable(te.table));if(0<ke.length){if(pe)return ge.some($p.partialTable(ke,ge.none()));var Ge=Zy(N,L);return ge.some($p.partialTable(ke,ge.some(gi(gi({},L),{rng:Ge}))))}return ge.none()})}(q,Y).map(function(pt){return pt.fold(vt(Rf,rt),vt(Dm,rt),vt(r1,rt),vt(dS,rt))});var rt},function(rt){return a0(z,rt)}).getOr(!1)))}function Xp(a){return a.collapsed?a:(g=mn.fromRangeStart(d=a),x=mn.fromRangeEnd(d),Vs(!1,C=d.commonAncestorContainer,x).map(function(L){return!zc(g,x,C)&&zc(g,L,C)?(N=g.container(),z=g.offset(),q=L.container(),Y=L.offset(),(Q=document.createRange()).setStart(N,z),Q.setEnd(q,Y),Q):d;var N,z,q,Y,Q}).getOr(d));var d,g,x,C}function a1(a,d){var g=a.getParent(d,a.isBlock);return g&&"LI"===g.nodeName?g:null}function mS(a,d){var g=mn.after(a),x=Iu(d).prev(g);return x?x.toRange():null}function s1(a,d,g){var x,C,L,N,z=a.selection,q=a.dom;/^ | $/.test(d)&&(x=q,C=z.getRng(),L=d,L=Gy(N=Qe.fromDom(x.getRoot()),mn.fromRangeStart(C))?L.replace(/^ /,"&nbsp;"):L.replace(/^&nbsp;/," "),d=L=Tm(N,mn.fromRangeEnd(C))?L.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):L.replace(/&nbsp;(<br( \/)?>)?$/," "));var Y=a.parser,Q=g.merge,Z=If({validate:a.getParam("validate")},a.schema),rt='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>',pt=a.fire("BeforeSetContent",{content:d,format:"html",selection:!0,paste:g.paste});if(pt.isDefaultPrevented())a.fire("SetContent",{content:pt.content,format:"html",selection:!0,paste:g.paste});else{-1===(d=pt.content).indexOf("{$caret}")&&(d+="{$caret}"),d=d.replace(/\{\$caret\}/,rt);var Ct,wt,kt=(Ct=z.getRng()).startContainer||(Ct.parentElement?Ct.parentElement():null),Ot=a.getBody();kt===Ot&&z.isCollapsed()&&q.isBlock(Ot.firstChild)&&(wt=Ot.firstChild)&&!a.schema.getShortEndedElements()[wt.nodeName]&&q.isEmpty(Ot.firstChild)&&((Ct=q.createRng()).setStart(Ot.firstChild,0),Ct.setEnd(Ot.firstChild,0),z.setRng(Ct)),z.isCollapsed()||function($n){var Nn=$n.dom,pi=Xp($n.selection.getRng());$n.selection.setRng(pi);var Cn,Gn=Nn.getParent(pi.startContainer,Zp),Rn=pi;null!==(Cn=Gn)&&Cn===Nn.getParent(Rn.endContainer,Zp)&&Td(Qe.fromDom(Cn),Rn)?Rf($n,pi,Qe.fromDom(Gn)):$n.getDoc().execCommand("Delete",!1,null)}(a);var jt,Qt,Se,Be,pe,ke,Ge,nn,ln,Ve,qe,je,Ze,pn={context:(bn=z.getNode()).nodeName.toLowerCase(),data:g.data,insert:!0},Pn=Y.parse(d,pn);if(!0===g.paste&&function(a,d){var g,x,C,L,N,z=d.firstChild,q=d.lastChild;return z&&"meta"===z.name&&(z=z.next),x=q=q&&"mce_marker"===q.attr("id")?q.prev:q,C=(g=a).getNonEmptyElements(),x&&(x.isEmpty(C)||(L=x,g.getBlockElements()[L.name]&&L.firstChild&&L.firstChild===L.lastChild&&("br"===(N=L.firstChild).name||N.value===Oo)))&&(q=q.prev),z&&z===q&&("ul"===z.name||"ol"===z.name)}(a.schema,Pn)&&a1(q,bn))return Ct=function(a,d,g,x){function C(pn){var Pn=mn.fromRangeStart(g),Vn=Iu(d.getRoot()),xn=1===pn?Vn.prev(Pn):Vn.next(Pn);return!xn||a1(d,xn.getNode())!==qe}var L,N,z,q,Y,Q,Z,rt,pt,Ct,wt,kt,Ot,jt,Qt,Se,Be,te,pe,ke,Ge,nn,ln,Ve=(L=d,Y=a.serialize(x),z=(N=L.createFragment(Y)).firstChild,q=N.lastChild,z&&"META"===z.nodeName&&z.parentNode.removeChild(z),q&&"mce_marker"===q.id&&q.parentNode.removeChild(q),N),qe=a1(d,g.startContainer),je=function(a){return 0<a.length&&(!(x=a[a.length-1]).firstChild||(d=x)&&d.firstChild&&d.firstChild===d.lastChild&&((g=d.firstChild).data===Oo||Vr(g)))?a.slice(0,-1):a;var d,g,x}(Jt(Ve.firstChild.childNodes,function(pn){return"LI"===pn.nodeName})),Ze=d.getRoot();return C(1)?(pe=Ze,ln=(te=qe).parentNode,vn.each(je,function(pn){ln.insertBefore(pn,te)}),ke=pe,Ge=mn.before(te),(nn=Iu(ke).next(Ge))?nn.toRange():null):C(2)?(Q=qe,rt=Ze,d.insertAfter((Z=je).reverse(),Q),mS(Z[0],rt)):(Ct=je,wt=Ze,kt=pt=qe,jt=(Ot=g).cloneRange(),Qt=Ot.cloneRange(),jt.setStartBefore(kt),Qt.setEndAfter(kt),Se=[jt.cloneContents(),Qt.cloneContents()],(Be=pt.parentNode).insertBefore(Se[0],pt),vn.each(Ct,function(pn){Be.insertBefore(pn,pt)}),Be.insertBefore(Se[1],pt),Be.removeChild(pt),mS(Ct[Ct.length-1],wt))}(Z,q,z.getRng(),Pn),z.setRng(Ct),void a.fire("SetContent",pt);if(function(){for(var $n=Pn;$n=$n.walk();)1===$n.type&&$n.attr("data-mce-fragment","1")}(),"mce_marker"===(xn=Pn.lastChild).attr("id"))for(var Vn=xn,xn=xn.prev;xn;xn=xn.walk(!0))if(3===xn.type||!q.isBlock(xn.name)){a.schema.isValidChild(xn.parent.name,"span")&&xn.parent.insert(Vn,xn,"br"===xn.name);break}if(a._selectionOverrides.showBlockCaretContainer(bn),pn.invalid){a.selection.setContent(rt);var bn=z.getNode(),qn=a.getBody();for(9===bn.nodeType?bn=xn=qn:xn=bn;xn!==qn;)xn=(bn=xn).parentNode;d=bn===qn?qn.innerHTML:q.getOuterHTML(bn),d=Z.serialize(Y.parse(d.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,function(){return Z.serialize(Pn)}))),bn===qn?q.setHTML(qn,d):q.setOuterHTML(bn,d)}else jt=a,Qt=d=Z.serialize(Pn),"all"===(Se=bn).getAttribute("data-mce-bogus")?Se.parentNode.insertBefore(jt.dom.createFragment(Qt),Se):!(Be=Se.firstChild)||Be===Se.lastChild&&"BR"===Be.nodeName?jt.dom.setHTML(Se,Qt):jt.selection.setContent(Qt);ke=Q,ln=(pe=a).schema.getTextInlineElements(),Ve=pe.dom,ke&&(Ge=pe.getBody(),nn=jb(Ve),vn.each(Ve.select("*[data-mce-fragment]"),function($n){if(Ft(ln[$n.nodeName.toLowerCase()])&&ui(Fy(Ve,$n),function(pi){return!Hp.has(pi)}))for(var Nn=$n.parentNode;Ft(Nn)&&Nn!==Ge&&!function(pi,Cn,Gn){function Rn(yr){var Ce=pi.getStyle(Cn,yr),Ye=pi.getStyle(Gn,yr);return Aa(Ce)&&Aa(Ye)&&Ce!==Ye}var Zn=Fy(pi,Cn),oi=Fy(pi,Gn);return Ae(Zn,function(yr){function Ce(Sn){return Ae(Sn,function(An){return An===yr})}if(Ce(oi)||!Ce(p1))return Rn(yr);var Ye=Jt(oi,function(Sn){return Ae(p1,function(An){return ct(Sn,An)})});return Ae(Ye,Rn)})}(Ve,$n,Nn);Nn=Nn.parentNode)if(nn.compare(Nn,$n)){Ve.remove($n,!0);break}})),function($n,Nn){var pi,Cn=$n.dom,Gn=$n.selection;if(Nn){Gn.scrollIntoView(Nn);var Rn=jc($n.getBody(),Nn);if("false"===Cn.getContentEditable(Rn))return Cn.remove(Nn),Gn.select(Rn);var Zn,oi=Cn.createRng(),yr=Nn.previousSibling;ri(yr)?(oi.setStart(yr,yr.nodeValue.length),Ci.ie||ri(Zn=Nn.nextSibling)&&(yr.appendData(Zn.data),Zn.parentNode.removeChild(Zn))):(oi.setStartBefore(Nn),oi.setEndBefore(Nn));var Ce=Cn.getParent(Nn,Cn.isBlock);Cn.remove(Nn),Ce&&Cn.isEmpty(Ce)&&($n.$(Ce).empty(),oi.setStart(Ce,0),oi.setEnd(Ce,0),Zp(Ce)||Ce.getAttribute("data-mce-fragment")||!(pi=function(Ye){var Sn=mn.fromRangeStart(Ye);if(Sn=Iu($n.getBody()).next(Sn))return Sn.toRange()}(oi))?Cn.add(Ce,Cn.create("br",{"data-mce-bogus":"1"})):(oi=pi,Cn.remove(Ce))),Gn.setRng(oi)}}(a,q.get("mce_marker")),qe=a.getBody(),vn.each(qe.getElementsByTagName("*"),function($n){$n.removeAttribute("data-mce-fragment")}),je=q,Ze=z.getStart(),ge.from(je.getParent(Ze,"td,th")).map(Qe.fromDom).each(Wp),a.fire("SetContent",pt),a.addVisual()}}function Jy(a){return a instanceof ru}function t0(a,d,g){var x;a.dom.setHTML(a.getBody(),d),!0!==g&&Nd(x=a)&&cs(x.getBody()).each(function(C){var L=C.getNode(),N=vu(L)?cs(L).getOr(C):C;x.selection.setRng(N.toRange())})}function e0(a){return Pt(a)?a:tn}function n0(a,d,g){var x=d(a),C=e0(g);return x.orThunk(function(){return C(a)?ge.none():function(L){for(var N=a.dom,z=e0(C);N.parentNode;){var q=Qe.fromDom(N=N.parentNode),Y=L(q);if(Y.isSome())return Y;if(z(q))break}return ge.none()}(d)})}function l1(a,d,g){var x=a.formatter.get(g);if(x)for(var C=0;C<x.length;C++){var L=x[C];if(Ua(L)&&!1===L.inherit&&a.dom.is(d,L.selector))return 1}}function i0(a,d,g,x,C){var L=a.dom.getRoot();return d!==L&&(d=a.dom.getParent(d,function(N){return!!l1(a,N,g)||N.parentNode===L||!!Uc(a,N,g,x,!0)}),!!Uc(a,d,g,x,C))}function r0(a,d,g){return!!v1(d,g.inline)||!!v1(d,g.block)||(g.selector?1===d.nodeType&&a.is(d,g.selector):void 0)}function u1(a,d,g,x,C,L){var N=g[x];if(Pt(g.onmatch))return g.onmatch(d,g,x);if(N)if(ie(N.length)){for(var z in N)if(Yi(N,z)){var q="attributes"===x?a.getAttrib(d,z):xf(a,d,z),Y=Eu(N[z],L),Q=Wt(q)||Ho(q);if((!Q||!Wt(Y))&&(C&&Q&&!g.exact||(!C||g.exact)&&!v1(q,iu(a,Y,z))))return}}else for(var Z=0;Z<N.length;Z++)if("attributes"===x?a.getAttrib(d,N[Z]):xf(a,d,N[Z]))return 1;return 1}function qc(a,d,g,x,C){if(x)return i0(a,x,d,g,C);if(x=a.selection.getNode(),i0(a,x,d,g,C))return!0;var L=a.selection.getStart();return!(L===x||!i0(a,L,d,g,C))}function Lm(a){return 0<function(d){for(var g=[];d;){if(3===d.nodeType&&d.nodeValue!==Kp||1<d.childNodes.length)return[];1===d.nodeType&&g.push(d),d=d.firstChild}return g}(a).length}function Gr(a){if(a){var d=new Jr(a,a);for(a=d.current();a;a=d.next())if(ri(a))return a}return null}function o0(a){var d=Qe.fromTag("span");return Es(d,{id:AS,"data-mce-bogus":"1","data-mce-type":"format-caret"}),a&&go(d,Qe.fromText(Kp)),d}function c1(a,d,g){void 0===g&&(g=!0);var x,C,L,N,z,q,Y,Q,Z=a.dom,rt=a.selection;Lm(d)?Pf(a,!1,Qe.fromDom(d),g):(x=rt.getRng(),C=Z.getParent(d,Z.isBlock),L=x.startContainer,N=x.startOffset,z=x.endContainer,q=x.endOffset,(Q=Gr(d))&&Q.nodeValue.charAt(0)===Kp&&Q.deleteData(0,1),Y=Q,Z.remove(d,!0),L===Y&&0<N&&x.setStart(Y,N-1),z===Y&&0<q&&x.setEnd(Y,q-1),C&&Z.isEmpty(C)&&Bu(Qe.fromDom(C)),rt.setRng(x))}function h1(a,d,g){void 0===g&&(g=!0);var x=a.dom,C=a.selection;if(d)c1(a,d,g);else if(!(d=Cd(a.getBody(),C.getStart())))for(;d=x.get(AS);)c1(a,d,!1)}function yS(a,d){return a.appendChild(d),d}function d1(a,d){var g=Fe(a,function(x,C){return yS(x,C.cloneNode(!1))},d);return yS(g,g.ownerDocument.createTextNode(Kp))}function co(a,d){var g=a.schema.getTextInlineElements();return Yi(g,pr(d))&&!vs(d.dom)&&!mu(d.dom)}be(["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"],function(a){Hp.add(a)});var Of,p1=["font","text-decoration","text-emphasis"],g1=vt(Yb,!0,ys),Rr=vt(Yb,!1,ys),xS=Bh(!0,tS),bS=Bh(!1,tS),Gp=Bh(!0,os),qp=Bh(!1,os),_S=Bh(!0,vu),Pm=Bh(!1,vu),Fh=Bh(!0,Df),Vh=Bh(!1,Df),Nf=vt(Wy,!1),Up=vt(Wy,!0),wS=vt(Hy,!1),SS=vt(Hy,!0),vA=vt(Mm,!1),CS=vt(Mm,!0),$p=Fa([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]),kS=function(a){var d;return(8===so(d=a)||"#comment"===pr(d)?Is:lo)(a).bind(kS).orThunk(function(){return ge.some(a)})},Rf=function(a,d,g,x){void 0===x&&(x=!0),d.deleteContents();var C,L=kS(g).getOr(g),N=Qe.fromDom(a.dom.getParent(L.dom,a.dom.isBlock));return li(N)&&(Bu(N),x&&a.selection.setCursorLocation(N.dom,0)),_(g,N)||be((va(_o(N),g)?[]:_o(C=N).map(Ta).map(function(z){return Jt(z,function(q){return!_(C,q)})}).getOr([])).concat(Ta(g)),function(z){_(z,N)||A(z,N)||!li(z)||So(z)}),!0},m1=function(a,d){return hn(Gc(d,a),function(g){return na(g)&&"caption"===pr(g)})},a0=function(a,d){return Bu(d),a.selection.setCursorLocation(d.dom,0),ge.some(!0)},Zp=yh,s0=function(a,d){d(a),a.firstChild&&s0(a.firstChild,d),a.next&&s0(a.next,d)},v1=Fc,Uc=function(a,d,g,x,C){var L=a.formatter.get(g),N=a.dom;if(L&&d)for(var z=0;z<L.length;z++){var q=L[z];if(r0(a.dom,d,q)&&u1(N,d,q,"attributes",C,x)&&u1(N,d,q,"styles",C,x)){var Y=q.classes;if(Y)for(var Q=0;Q<Y.length;Q++)if(!a.dom.hasClass(d,Eu(Y[Q],x)))return;return q}}},Kp=Ai,AS="_mce_caret",l0={},MS=ii,TS=qr;function u0(a){return ki(a)&&!Al(a)&&!vs(a)&&!mu(a)}function IS(a,d){for(var g=a;g;g=g[d]){if(ri(g)&&Aa(g.data))return a;if(ki(g)&&!Al(g))return g}return a}function DS(a,d,g){var x=jb(a);if(d&&g&&(d=IS(d,"previousSibling"),g=IS(g,"nextSibling"),x.compare(d,g))){for(var C=d.nextSibling;C&&C!==g;){var L=C;C=C.nextSibling,d.appendChild(L)}return a.remove(g),vn.each(vn.grep(g.childNodes),function(N){d.appendChild(N)}),d}return g}function Om(a,d,g,x){var C;x&&!1!==d.merge_siblings&&(C=DS(a,gy(x),x),DS(a,C,gy(C,!0)))}function Qp(a,d){return function(g){return!(!g||!xf(a,g,d))}}function y1(a,d,g){return function(x){var C,L;a.setStyle(x,d,g),""===x.getAttribute("style")&&x.removeAttribute("style"),C=a,"SPAN"===(L=x).nodeName&&0===C.getAttribs(L).length&&C.remove(L,!0)}}function x1(a,d,g){return a.isChildOf(d,g)&&d!==g&&!a.isBlock(g)}function b1(a,d,g){var x,C=d[g?"startContainer":"endContainer"],L=d[g?"startOffset":"endOffset"];return ki(C)&&(!g&&L&&L--,C=C.childNodes[(x=C.childNodes.length-1)<L?x:L]),ri(C)&&g&&L>=C.nodeValue.length&&(C=new Jr(C,a.getBody()).next()||C),ri(C)&&!g&&0===L&&new Jr(C,a.getBody()).prev()||C}function ES(a,d){var g=d?"firstChild":"lastChild";if(/^(TR|TH|TD)$/.test(a.nodeName)&&a[g]){var x=a[g];return"TR"===a.nodeName&&x[g]||x}return a}function bs(a,d,g,x){var C=a.create(g,x);return d.parentNode.insertBefore(C,d),C.appendChild(d),C}function _1(a,d,g,x,C){var L=Qe.fromDom(d),N=Qe.fromDom(a.create(x,C));return zl(N,(g?bc:Gs)(L)),g?(ha(L,N),vl(N,L)):(ml(L,N),go(N,L)),N.dom}function Bf(a,d,g,x){var C=gy(d,g,x);return Wt(C)||"BR"===C.nodeName||a.isBlock(C)}function w1(a,d,g,x,C){var L,N,z=a.dom,q=z,Y=x;if(!($o(N=d)&&Wf(Y,N.inline)||lc(N)&&Wf(Y,N.block)||Ua(N)&&ki(Y)&&q.is(Y,N.selector)||d.links&&"A"===x.nodeName))return Hf.keep();var Q,Z,rt,pt,Ct,wt,kt,Ot,jt=x;if($o(d)&&"all"===d.remove&&It(d.preserve_attributes)){var Qt=Jt(z.getAttribs(jt),function(pe){return oe(d.preserve_attributes,pe.name.toLowerCase())});if(z.removeAllAttribs(jt),be(Qt,function(pe){return z.setAttrib(jt,pe.name,pe.value)}),0<Qt.length)return Hf.rename("span")}if("all"!==d.remove){m0(d.styles,function(pe,ke){pe=iu(z,Eu(pe,g),ke+""),Xt(ke)&&(ke=pe,C=null),!d.remove_similar&&C&&!Wf(xf(z,C,ke),pe)||z.setStyle(jt,ke,""),L=!0}),L&&""===z.getAttrib(jt,"style")&&(jt.removeAttribute("style"),jt.removeAttribute("data-mce-style")),m0(d.attributes,function(pe,ke){var Ge;if(pe=Eu(pe,g),Xt(ke)&&(ke=pe,C=null),d.remove_similar||!C||Wf(z.getAttrib(C,ke),pe))if("class"===ke&&(pe=z.getAttrib(jt,ke))&&(Ge="",be(pe.split(/\s+/),function(nn){/mce\-\w+/.test(nn)&&(Ge+=(Ge?" ":"")+nn)}),Ge))z.setAttrib(jt,ke,Ge);else{if(I1.test(ke)&&jt.removeAttribute("data-mce-"+ke),"style"===ke&&Ba(["li"])(jt)&&"none"===z.getStyle(jt,"list-style-type"))return jt.removeAttribute(ke),void z.setStyle(jt,"list-style-type","none");"class"===ke&&jt.removeAttribute("className"),jt.removeAttribute(ke)}}),m0(d.classes,function(pe){pe=Eu(pe,g),C&&!z.hasClass(C,pe)||z.removeClass(jt,pe)});for(var Se=z.getAttribs(jt),Be=0;Be<Se.length;Be++){var te=Se[Be].nodeName;if(0!==te.indexOf("_")&&0!==te.indexOf("data-"))return Hf.keep()}}return"none"!==d.remove?(rt=d,wt=(Z=jt).parentNode,kt=(Q=a).dom,Ot=Ga(Q),lc(rt)&&(Ot?wt===kt.getRoot()&&(rt.list_block&&Wf(Z,rt.list_block)||be(ho(Z.childNodes),function(pe){Ad(Q,Ot,pe.nodeName.toLowerCase())?pt?pt.appendChild(pe):(pt=bs(kt,pe,Ot),kt.setAttribs(pt,Q.settings.forced_root_block_attrs)):pt=null})):kt.isBlock(Z)&&!kt.isBlock(wt)&&(Bf(kt,Z,!1)||Bf(kt,Z.firstChild,!0,!0)||Z.insertBefore(kt.create("br"),Z.firstChild),Bf(kt,Z,!0)||Bf(kt,Z.lastChild,!1,!0)||Z.appendChild(kt.create("br")))),Ua(Ct=rt)&&$o(Ct)&&va(ji(Ct,"mixed"),!0)&&!Wf(rt.inline,Z)||kt.remove(Z,!0),Hf.removed()):Hf.keep()}function zf(a,d,g,x,C){return w1(a,d,g,x,C).fold(tn,function(L){return a.dom.rename(x,L),!0},on)}function LS(a,d,g,x,C){function L(Ot){var jt,Qt,Se,Be,te,pe=(Qt=d,Se=g,Be=C,be(Md((jt=a).dom,Ot.parentNode).reverse(),function(ke){var Ge;te||"_start"===ke.id||"_end"===ke.id||(Ge=Uc(jt,ke,Qt,Se,Be))&&!1!==Ge.split&&(te=ke)}),te);return function(ke,Ge,nn,ln,Ve,qe,je,Ze){var pn,Pn,Vn=ke.dom;if(nn){for(var xn=nn.parentNode,bn=ln.parentNode;bn&&bn!==xn;bn=bn.parentNode){for(var qn=Vn.clone(bn,!1),$n=0;$n<Ge.length&&null!==(qn=function(Nn,pi,Cn){return w1(Nn,pi,Ze,Cn,Cn).fold(ft(Cn),function(Gn){return Nn.dom.createFragment().appendChild(Cn),Nn.dom.rename(Cn,Gn)},ft(null))}(ke,Ge[$n],qn));$n++);qn&&(pn&&qn.appendChild(pn),Pn=Pn||qn,pn=qn)}je.mixed&&Vn.isBlock(nn)||(ln=Vn.split(nn,ln)),pn&&(Ve.parentNode.insertBefore(pn,Ve),Pn.appendChild(Ve),$o(je)&&Om(Vn,je,0,pn))}return ln}(a,Q,pe,Ot,Ot,0,Z,g)}function N(Ot){return Ae(Q,function(jt){return zf(a,jt,g,Ot,Ot)})}function z(Ot){var jt,Qt=pt.get(Ot?"_start":"_end"),Se=Qt[Ot?"firstChild":"lastChild"];return Al(jt=Se)&&ki(jt)&&("_start"===jt.id||"_end"===jt.id)&&(Se=Se[Ot?"firstChild":"lastChild"]),ri(Se)&&0===Se.data.length&&(Se=Ot?Qt.previousSibling||Qt.nextSibling:Qt.nextSibling||Qt.previousSibling),pt.remove(Qt,!0),Se}function q(Ot){var jt=Lh(a,Ot,Q,Ot.collapsed);if(Z.split){if(jt=vm(jt),(Se=b1(a,jt,!0))!==(Be=b1(a,jt))){if(Se=ES(Se,!0),Be=ES(Be,!1),x1(pt,Se,Be)){var Qt=ge.from(Se.firstChild).getOr(Se);return L(_1(pt,Qt,!0,"span",{id:"_start","data-mce-type":"bookmark"})),void z(!0)}if(x1(pt,Be,Se))return Qt=ge.from(Be.lastChild).getOr(Be),L(_1(pt,Qt,!1,"span",{id:"_end","data-mce-type":"bookmark"})),void z(!1);var Se=bs(pt,Se,"span",{id:"_start","data-mce-type":"bookmark"}),Be=bs(pt,Be,"span",{id:"_end","data-mce-type":"bookmark"}),te=pt.createRng();te.setStartAfter(Se),te.setEndBefore(Be),Lp(pt,te,function(pe){be(pe,function(ke){Al(ke)||Al(ke.parentNode)||L(ke)})}),L(Se),L(Be),Se=z(!0),Be=z()}else Se=Be=L(Se);jt.startContainer=Se.parentNode||Se,jt.startOffset=pt.nodeIndex(Se),jt.endContainer=Be.parentNode||Be,jt.endOffset=pt.nodeIndex(Be)+1}Lp(pt,jt,function(pe){be(pe,wt)})}var Y,Q=a.formatter.get(d),Z=Q[0],rt=!0,pt=a.dom,Ct=a.selection,wt=function(Ot){var jt=!0,Qt=!1;ki(Ot)&&pt.getContentEditable(Ot)&&(jt=rt,rt="true"===pt.getContentEditable(Ot),Qt=!0);var Se,Be,te=ho(Ot.childNodes);if(rt&&!Qt&&(Se=N(Ot),Be=Ot.parentNode,!Se&&Ft(Be)&&my(Z)&&N(Be)),Z.deep&&te.length){for(var pe=0;pe<te.length;pe++)wt(te[pe]);Qt&&(rt=jt)}be(["underline","line-through","overline"],function(ke){ki(Ot)&&a.dom.getStyle(Ot,"text-decoration")===ke&&Ot.parentNode&&pb(pt,Ot.parentNode)===ke&&zf(a,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:ke}},null,Ot)})};if(x)return kd(x)?((Y=pt.createRng()).setStartBefore(x),Y.setEndAfter(x),q(Y)):q(x),void Dd(a,d,x,g);if("false"!==pt.getContentEditable(Ct.getNode()))Ct.isCollapsed()&&$o(Z)&&!_f(a).length?function(a,d,g,x){var C,L,N,z,q,Y,Q,Z,rt,pt,Ct,wt,kt,Ot,jt,Qt=a.dom,Se=a.selection,Be=[],te=Se.getRng(),pe=te.startContainer,Ge=pe;for(3===pe.nodeType&&(te.startOffset!==pe.nodeValue.length&&(C=!0),Ge=Ge.parentNode);Ge;){if(Uc(a,Ge,d,g,x)){L=Ge;break}Ge.nextSibling&&(C=!0),Be.push(Ge),Ge=Ge.parentNode}L&&(C?(N=Se.getBookmark(),te.collapse(!0),z=vm(Lh(a,te,a.formatter.get(d),!0)),a.formatter.remove(d,g,z,x),Se.moveToBookmark(N)):(q=Cd(a.getBody(),L),rt=Y=o0(!1).dom,(wt=(Ct=a.dom).getParent(pt=null!==q?q:L,vt(hl,a)))&&Ct.isEmpty(wt)?pt.parentNode.replaceChild(rt,pt):(Ot=ul(kt=Qe.fromDom(pt),"br"),jt=Jt(function(){for(var nn=[],ln=kt.dom;ln;)nn.push(Qe.fromDom(ln)),ln=ln.lastChild;return nn}().slice(-1),wl),Ot.length===jt.length&&be(jt,So),Ct.isEmpty(pt)?pt.parentNode.replaceChild(rt,pt):Ct.insertAfter(rt,pt)),Q=function(a,d,g,x,C,L){var N,z,q=a.formatter,Y=a.dom,Q=Jt(ca(q.get()),function(rt){return rt!==x&&!Nr(rt,"removeformat")});if(0<Jt((N=a,z=g,Ke(Q,function(rt,pt){var Ct=function(a,d){return Ae(a.formatter.get(d),function(g){function x(C){return 1<C.length&&"%"===C.charAt(0)}return Ae(["styles","attributes"],function(C){return ji(g,C).exists(function(L){var N,z;return Ae(It(L)?L:(N=St,z=[],En(L,function(q,Y){z.push(N(q,Y))}),z),x)})})})}(N,pt);return N.formatter.matchNode(z,pt,{},Ct)?rt.concat([pt]):rt},[])),function(rt){return wt=x,kt=["inline","block","selector","attributes","styles","classes"],!Ae((Ct=a).formatter.get(rt),function(Ot){var jt=pt(Ot);return Ae(Ct.formatter.get(wt),function(Qt){var Se,Be=pt(Qt),te=jt,pe=Be;return Tt(Se=void 0===Se?xt:Se).eq(te,pe)})});function pt(Ot){return br(Ot,function(jt,Qt){return Ae(kt,function(Se){return Se===Qt})})}var Ct,wt,kt}).length){var Z=g.cloneNode(!1);return Y.add(d,Z),q.remove(x,C,Z,L),Y.remove(Z),ge.some(Z)}return ge.none()}(a,Y,L,d,g,x),Z=d1(Be.concat(Q.toArray()),Y),c1(a,q,!1),Se.setCursorLocation(Z,1),Qt.isEmpty(L)&&Qt.remove(L)))}(a,d,g,C):(cm(Ct,!0,function(){um(a,q)}),$o(Z)&&qc(a,d,g,Ct.getStart())&&py(pt,Ct,Ct.getRng()),a.nodeChanged()),Dd(a,d,x,g);else{x=Ct.getNode();for(var kt=0;kt<Q.length&&(!Q[kt].ceFalseOverride||!zf(a,Q[kt],g,x,x));kt++);Dd(a,d,x,g)}}function yA(a){return ki(a)&&!Al(a)&&!vs(a)&&!mu(a)}function c0(a){return Yi(a,"vars")}function Jp(a,d,g,x,C){return sn(d,function(L){var N=a.formatter.matchNode(L,g,null!=C?C:{},x);return!ie(N)},function(L){return l1(a,L,g)||!x&&Ft(a.formatter.matchNode(L,g,C,!0))})}function S1(a,d){var g=null!=d?d:D1(a);return Jt(Md(a.dom,g),function(x){return ki(x)&&!mu(x)})}function zd(a,d){var g=(d||document).createDocumentFragment();return be(a,function(x){g.appendChild(x.dom)}),Qe.fromDom(g)}function Fd(a,d,g){return{element:a,width:d,rows:g}}function OS(a,d){return{element:a,cells:d}}function NS(a,d){var g=parseInt(Zs(a,d),10);return isNaN(g)?1:g}function C1(a){return Ke(a,function(d,g){return g.cells.length>d?g.cells.length:d},0)}function RS(a,d){for(var g=a.rows,x=0;x<g.length;x++)for(var C=g[x].cells,L=0;L<C.length;L++)if(_(C[L],d))return ge.some({x:L,y:x});return ge.none()}function BS(a,d,g,x,C){for(var L=[],N=a.rows,z=g;z<=C;z++){var q=N[z].cells,Y=d<x?q.slice(d,x+1):q.slice(x,d+1);L.push(OS(N[z].element,Y))}return L}function zS(){return zd([])}function d0(a,d){return 0<=d&&d<a.length&&ys(a.charAt(d))}function oa(a,d){var g=mo(a.innerText);return d?g.replace(/^[ \f\n\r\t\v]+/,""):g}function tg(a){return ki(a)?a.outerHTML:ri(a)?ql.encodeRaw(a.data,!1):mh(a)?"\x3c!--"+a.data+"--\x3e":""}function Nm(a){var d,g=ti((d=a.getBody(),Jt(ze(ho(d.childNodes),tg),function(C){return 0<C.length})),function(C){var L=Xc(a.serializer,C);return 0<L.length?[L]:[]}),x=g.join("");return-1!==x.indexOf("</iframe>")?{type:"fragmented",fragments:g,content:"",bookmark:null,beforeBookmark:null}:{type:"complete",fragments:null,content:x,bookmark:null,beforeBookmark:null}}function f0(a,d,g){var x,C,L,N,z,q,Y,Q,Z,rt,pt,Ct=g?d.beforeBookmark:d.bookmark;function wt(kt,Ot,jt,Qt){for(var Se=kt;Se-Ot<Qt&&Se<jt&&N[Se]===z[Se-Ot];)++Se;return{start:kt,end:Se,diag:Ot}}"fragmented"===d.type?(x=d.fragments,C=a.getBody(),L=ze(ho(C.childNodes),tg),function(a,d){var g=0;be(a,function(x){var C,L,N,z,Y,Q,Z;0===x[0]?g++:1===x[0]?(z=d,Y=g,Z=function(rt){var pt,Ct=document.createElement("div"),wt=document.createDocumentFragment();for(rt&&(Ct.innerHTML=rt);pt=Ct.firstChild;)wt.appendChild(pt);return wt}(x[1]),z.hasChildNodes()&&Y<z.childNodes.length?(Q=z.childNodes[Y]).parentNode.insertBefore(Z,Q):z.appendChild(Z),g++):2===x[0]&&(L=g,(C=d).hasChildNodes()&&L<C.childNodes.length&&(N=C.childNodes[L]).parentNode.removeChild(N))})}((q=(N=L).length+(z=x).length+2,Y=new Array(q),Q=new Array(q),Z=function(kt,Ot,jt,Qt,Se){var Be=rt(kt,Ot,jt,Qt);if(null===Be||Be.start===Ot&&Be.diag===Ot-Qt||Be.end===kt&&Be.diag===kt-jt)for(var te=kt,pe=jt;te<Ot||pe<Qt;)te<Ot&&pe<Qt&&N[te]===z[pe]?(Se.push([0,N[te]]),++te,++pe):Qt-jt<Ot-kt?(Se.push([2,N[te]]),++te):(Se.push([1,z[pe]]),++pe);else{Z(kt,Be.start,jt,Be.start-Be.diag,Se);for(var ke=Be.start;ke<Be.end;++ke)Se.push([0,N[ke]]);Z(Be.end,Ot,Be.end-Be.diag,Qt,Se)}},rt=function(kt,Ot,jt,Qt){var Se=Ot-kt,Be=Qt-jt;if(0==Se||0==Be)return null;var te,pe,ke,Ge,nn,ln=Se-Be,Ve=Be+Se,qe=(Ve%2==0?Ve:1+Ve)/2;for(Y[1+qe]=kt,Q[1+qe]=Ot+1,te=0;te<=qe;++te){for(pe=-te;pe<=te;pe+=2){for(Y[ke=pe+qe]=pe===-te||pe!==te&&Y[ke-1]<Y[ke+1]?Y[ke+1]:Y[ke-1]+1,nn=(Ge=Y[ke])-kt+jt-pe;Ge<Ot&&nn<Qt&&N[Ge]===z[nn];)Y[ke]=++Ge,++nn;if(ln%2!=0&&ln-te<=pe&&pe<=ln+te&&Q[ke-ln]<=Y[ke])return wt(Q[ke-ln],pe+kt-jt,Ot,Qt)}for(pe=ln-te;pe<=ln+te;pe+=2){for(Q[ke=pe+qe-ln]=pe===ln-te||pe!==ln+te&&Q[ke+1]<=Q[ke-1]?Q[ke+1]-1:Q[ke-1],nn=(Ge=Q[ke]-1)-kt+jt-pe;kt<=Ge&&jt<=nn&&N[Ge]===z[nn];)Q[ke]=Ge--,nn--;if(ln%2==0&&-te<=pe&&pe<=te&&Q[ke]<=Y[ke+ln])return wt(Q[ke],pe+kt-jt,Ot,Qt)}}},Z(0,N.length,0,z.length,pt=[]),pt),C)):a.setContent(d.content,{format:"raw",no_selection:!Ft(Ct)||!Dp(Ct)||!Ct.isFakeCaret}),a.selection.moveToBookmark(Ct)}function Rm(a){return"fragmented"===a.type?a.fragments.join(""):a.content}function FS(a){var d=Qe.fromTag("body",y0());return Yx(d,Rm(a)),be(ul(d,"*[data-mce-bogus]"),Gu),d.dom.innerHTML}function Ff(a,d){return!(!a||!d)&&(x=d,Rm(a)===Rm(x)||(g=d,FS(a)===FS(g)));var g,x}function p0(a){return 0===a.get()}function Vf(a,d,g){p0(g)&&(a.typing=d)}function k1(a,d){a.typing&&(Vf(a,!1,d),a.add())}function A1(a){return{undoManager:{beforeChange:function(d,g){var x=a,C=g;p0(d)&&C.set(Fs(x.selection))},add:function(d,g,x,C,L,N){return function(z,q,Y,Q,Z,rt,pt){var Ct=Nm(z);if(rt=vn.extend(rt=rt||{},Ct),!1===p0(Q)||z.removed)return null;var wt=q.data[Y.get()];if(z.fire("BeforeAddUndo",{level:rt,lastLevel:wt,originalEvent:pt}).isDefaultPrevented()||wt&&Ff(wt,rt))return null;q.data[Y.get()]&&Z.get().each(function(Qt){q.data[Y.get()].beforeBookmark=Qt});var kt=z.getParam("custom_undo_redo_levels",0,"number");if(kt&&q.data.length>kt){for(var Ot=0;Ot<q.data.length-1;Ot++)q.data[Ot]=q.data[Ot+1];q.data.length--,Y.set(q.data.length)}rt.bookmark=Fs(z.selection),Y.get()<q.data.length-1&&(q.data.length=Y.get()+1),q.data.push(rt),Y.set(q.data.length-1);var jt={level:rt,lastLevel:wt,originalEvent:pt};return 0<Y.get()?(z.setDirty(!0),z.fire("AddUndo",jt),z.fire("change",jt)):z.fire("AddUndo",jt),rt}(a,d,g,x,C,L,N)},undo:function(d,g,x){return C=a,N=g,z=x,(L=d).typing&&(L.add(),L.typing=!1,Vf(L,!1,N)),0<z.get()&&(z.set(z.get()-1),f0(C,q=L.data[z.get()],!0),C.setDirty(!0),C.fire("Undo",{level:q})),q;var C,L,N,z,q},redo:function(d,g){return x=a,L=g,(C=d).get()<L.length-1&&(C.set(C.get()+1),f0(x,N=L[C.get()],!1),x.setDirty(!0),x.fire("Redo",{level:N})),N;var x,C,L,N},clear:function(d,g){var x,C=a,L=g;(x=d).data=[],L.set(0),x.typing=!1,C.fire("ClearUndos")},reset:function(d){var g;(g=d).clear(),g.add()},hasUndo:function(d,g){return x=a,C=d,0<g.get()||C.typing&&C.data[0]&&!Ff(Nm(x),C.data[0]);var x,C},hasRedo:function(d,g){return x=d,g.get()<x.data.length-1&&!x.typing;var x},transact:function(d,g,x){return L=x,k1(C=d,g),C.beforeChange(),C.ignore(L),C.add();var C,L},ignore:function(d,g){try{d.set(d.get()+1),g()}finally{d.set(d.get()-1)}},extra:function(d,g,x,C){var L,N,z=a,q=g,Y=C;(L=d).transact(x)&&(N=L.data[q.get()].bookmark,f0(z,L.data[q.get()-1],!0),L.transact(Y)&&(L.data[q.get()-1].beforeBookmark=N))}},formatter:{match:function(d,g,x,C){return qc(a,d,g,x,C)},matchAll:function(d,g){return C=d,L=g,N=[],z={},q=(x=a).selection.getStart(),x.dom.getParent(q,function(Y){for(var Q=0;Q<C.length;Q++){var Z=C[Q];!z[Z]&&Uc(x,Y,Z,L)&&(z[Z]=!0,N.push(Z))}},x.dom.getRoot()),N;var x,C,L,N,z,q},matchNode:function(d,g,x,C){return Uc(a,d,g,x,C)},canApply:function(d){return function(g){var x=g.formatter.get(d),C=g.dom;if(x)for(var L=Md(C,g.selection.getStart()),N=x.length-1;0<=N;N--){var z=x[N];if(!Ua(z)||Ft(z.defaultBlock))return!0;for(var q=L.length-1;0<=q;q--)if(C.is(L[q],z.selector))return!0}return!1}(a)},closest:function(d){return C=d,ge.from((x=a).selection.getStart(!0)).bind(function(L){return n0(Qe.fromDom(L),function(N){return Tn(C,function(z){return Uc(x,N.dom,q=z)?ge.some(q):ge.none();var q})},g)}).getOrNull();function g(L){return _(L,Qe.fromDom(x.getBody()))}var x,C},apply:function(d,g,x){return v0(a,d,g,x)},remove:function(d,g,x,C){return LS(a,d,g,x,C)},toggle:function(d,g,x){var C,L=d,N=g,z=x,q=(C=a).formatter.get(L);(!qc(C,L,N,z)||"toggle"in q[0]&&!q[0].toggle?v0:LS)(C,L,N,z)},formatChanged:function(d,g,x,C,L){return function(a,d,g,x,C,L){var N,z,q,Y,Q,Z,rt,pt,Ct;return null===d.get()&&(z=a,(N=d).set({}),z.on("NodeChange",function(wt){E1(z,wt.element,N.get())}),z.on("FormatApply FormatRemove",function(wt){var kt=ge.from(wt.node).map(function(Ot){return kd(Ot)?Ot:Ot.startContainer}).bind(function(Ot){return ki(Ot)?ge.some(Ot):ge.from(Ot.parentElement)}).getOrThunk(function(){return D1(z)});E1(z,kt,N.get())})),q=a,Q=g,Z=x,rt=C,pt=L,Ct=(Y=d).get(),be(Q.split(","),function(wt){function kt(){var Qt=S1(q);return Jp(q,Qt,wt,rt,pt).isSome()}var Ot,jt=ji(Ct,wt).getOrThunk(function(){var Qt={withSimilar:{state:ra(!1),similar:!0,callbacks:[]},withoutSimilar:{state:ra(!1),similar:!1,callbacks:[]},withVars:[]};return Ct[wt]=Qt});ie(pt)?((Ot=rt?jt.withSimilar:jt.withoutSimilar).callbacks.push(Z),1===Ot.callbacks.length&&Ot.state.set(kt())):jt.withVars.push({state:ra(kt()),similar:rt,vars:pt,callback:Z})}),Y.set(Ct),{unbind:function(){var wt,kt=g,Ot=x,jt=(wt=d).get();be(kt.split(","),function(Qt){return ji(jt,Qt).each(function(Se){jt[Qt]={withSimilar:gi(gi({},Se.withSimilar),{callbacks:Jt(Se.withSimilar.callbacks,function(Be){return Be!==Ot})}),withoutSimilar:gi(gi({},Se.withoutSimilar),{callbacks:Jt(Se.withoutSimilar.callbacks,function(Be){return Be!==Ot})}),withVars:Jt(Se.withVars,function(Be){return Be.callback!==Ot})}})}),wt.set(jt)}}}(a,d,g,x,C,L)}},editor:{getContent:function(d,g){return C=d,L=g,ge.from((x=a).getBody()).fold(ft("tree"===C.format?new ru("body",11):""),function(N){return z=x,Y=N,Q=L,wt=gi(gi({},q=C),{format:Q,get:!0,getInner:!0}),Ot="raw"===(kt=q.no_events?wt:z.fire("BeforeGetContent",wt)).format?vn.trim(hA(z.serializer,Y.innerHTML)):"text"===kt.format?z.dom.isEmpty(Y)?"":mo(Y.innerText||Y.textContent):"tree"===kt.format?z.serializer.serialize(Y,kt):(rt=(Z=z).serializer.serialize(Y,kt),pt=Ga(Z),Ct=new RegExp("^(<"+pt+"[^>]*>(&nbsp;|&#160;|\\s|\xa0|<br \\/>|)<\\/"+pt+">[\r\n]*|<br \\/>[\r\n]*)$"),rt.replace(Ct,"")),kt.content=oe(["text","tree"],kt.format)||Yo(Qe.fromDom(Y))?Ot:vn.trim(Ot),(kt.no_events?kt:z.fire("GetContent",kt)).content;var z,q,Y,Q,Z,rt,pt,Ct,wt,kt,Ot});var x,C,L},setContent:function(d,g){return function(a,d,g){var x,C=(x=d,gi(gi({format:"html"},g),{set:!0,content:Jy(x)?"":x})),L=g.no_events?C:a.fire("BeforeSetContent",C);return Jy(d)||(d=L.content),ge.from(a.getBody()).fold(ft(d),function(N){return Jy(d)?function(pt,Ct,wt,kt){var Ot,jt,Qt,Se;Ot=pt.parser.getNodeFilters(),jt=pt.parser.getAttributeFilters(),Qt=wt,Se=function(te,pe){var ke,Ge,nn={},ln={},Ve=[];for(ke in Qt.firstChild&&s0(Qt.firstChild,function(qe){be(te,function(je){je.name===qe.name&&(nn[je.name]?nn[je.name].nodes.push(qe):nn[je.name]={filter:je,nodes:[qe]})}),be(pe,function(je){"string"==typeof qe.attr(je.name)&&(ln[je.name]?ln[je.name].nodes.push(qe):ln[je.name]={filter:je,nodes:[qe]})})}),nn)Yi(nn,ke)&&Ve.push(nn[ke]);for(Ge in ln)Yi(ln,Ge)&&Ve.push(ln[Ge]);return Ve}(Ot,jt),be(Se,function(te){be(te.filter.callbacks,function(pe){pe(te.nodes,te.filter.name,{})})});var Be=If({validate:pt.validate},pt.schema).serialize(wt);return kt.content=Yo(Qe.fromDom(Ct))?Be:vn.trim(Be),t0(pt,kt.content,kt.no_selection),kt.no_events||pt.fire("SetContent",kt),wt}(a,N,d,L):(z=a,q=N,Q=L,0===(Y=d).length||/^\s+$/.test(Y)?(Z='<br data-mce-bogus="1">',"TABLE"===q.nodeName?Y="<tr><td>"+Z+"</td></tr>":/^(UL|OL)$/.test(q.nodeName)&&(Y="<li>"+Z+"</li>"),Y=(rt=Ga(z))&&z.schema.isValidChild(q.nodeName.toLowerCase(),rt.toLowerCase())?(Y=Z,z.dom.createHTML(rt,Zg(z),Y)):Y||'<br data-mce-bogus="1">',t0(z,Y,Q.no_selection),z.fire("SetContent",Q)):("raw"!==Q.format&&(Y=If({validate:z.validate},z.schema).serialize(z.parser.parse(Y,{isRootContent:!0,insert:!0}))),Q.content=Yo(Qe.fromDom(q))?Y:vn.trim(Y),t0(z,Q.content,Q.no_selection),Q.no_events||z.fire("SetContent",Q)),Q.content);var z,q,Y,Q,Z,rt})}(a,d,g)},insertContent:function(d,g){return s1(a,d,g)},addVisual:function(d){var g,x=d,C=(g=a).dom,L=Ft(x)?x:g.getBody();ie(g.hasVisual)&&(g.hasVisual=g.getParam("visual",!0,"boolean")),be(C.select("table,a",L),function(N){switch(N.nodeName){case"TABLE":var z=g.getParam("visual_table_class","mce-item-table","string"),q=C.getAttrib(N,"border");q&&"0"!==q||!g.hasVisual?C.removeClass(N,z):C.addClass(N,z);break;case"A":var Y,Q;C.getAttrib(N,"href")||(Y=C.getAttrib(N,"name")||N.id,Q=g.getParam("visual_anchor_class","mce-item-anchor","string"),Y&&g.hasVisual?C.addClass(N,Q):C.removeClass(N,Q))}}),g.fire("VisualAid",{element:x,hasVisual:g.hasVisual})}},selection:{getContent:function(d,g){return function(x,C,L){var N,z=(N=C,gi(gi({},L=void 0===L?{}:L),{format:N,get:!0,selection:!0})),q=x.fire("BeforeGetContent",z);if(q.isDefaultPrevented())return x.fire("GetContent",q),q.content;if("text"===q.format)return ge.from((kt=x).selection.getRng()).map(function(jt){var Qt=ge.from(kt.dom.getParent(jt.commonAncestorContainer,kt.dom.isBlock)),Se=kt.getBody(),Be=Qt.map(function(Ve){return Ve.nodeName}).getOr("div").toLowerCase(),te=Ci.browser.isIE()&&"pre"!==Be,pe=kt.dom.add(Se,Be,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},jt.cloneContents()),ke=oa(pe,te),Ge=mo(pe.textContent);if(kt.dom.remove(pe),d0(Ge,0)||d0(Ge,Ge.length-1)){var nn=oa(Qt.getOr(Se),te),ln=nn.indexOf(ke);return-1===ln?ke:(d0(nn,ln-1)?" ":"")+ke+(d0(nn,ln+ke.length)?" ":"")}return ke}).getOr("");q.getInner=!0;var Y,Q,Z,rt,pt,Ct,wt,kt,Ot=(Q=q,Z=(Y=x).selection.getRng(),rt=Y.dom.create("body"),pt=Y.selection.getSel(),Ct=wm(Y,by(pt)),(wt=Q.contextual?function(a,d){var g,x,C,L,N,z,q,Y=vb(d,a);return 0<Y.length?function(a,d){return tl(d[0],"table",vt(_,a)).bind(function(g){var x,C,L=d[0],N=d[d.length-1],z=function(a){var d=Fd(pd(a),0,[]);return be(ul(a,"tr"),function(g,x){be(ul(g,"td,th"),function(C,L){!function(N,z,q,Y,Q){for(var Z=NS(Q,"rowspan"),rt=NS(Q,"colspan"),pt=N.rows,Ct=q;Ct<q+Z;Ct++){pt[Ct]||(pt[Ct]=OS(Fi(Y),[]));for(var wt=z;wt<z+rt;wt++)pt[Ct].cells[wt]=Ct===q&&wt===z?Q:pd(Q)}}(d,function(N,z,q){for(;((Q=N.rows)[q]?Q[q].cells:[])[z];)z++;var Q;return z}(d,L,x),x,g,C)})}),Fd(d.element,C1(d.rows),d.rows)}(g);return C=N,RS(x=z,L).bind(function(q){return RS(x,C).map(function(Y){return Q=x,Z=q.x,pt=Y.x,wt=(rt=q.y)<(Ct=Y.y)?BS(Q,Z,rt,pt,Ct):BS(Q,Z,Ct,pt,rt),Fd(Q.element,C1(wt),wt);var Q,Z,rt,pt,Ct,wt})}).map(function(q){return zd([(Q=ze((Y=q).rows,function(pt){var Ct=ze(pt.cells,function(kt){var Ot=Fi(kt);return bl(Ot,"colspan"),bl(Ot,"rowspan"),Ot}),wt=pd(pt.element);return zl(wt,Ct),wt}),Z=pd(Y.element),zl(rt=Qe.fromTag("tbody"),Q),go(Z,rt),Z)]);var Y,Q,Z,rt})}).getOrThunk(zS)}(a,Y):(g=a,0<(x=d).length&&x[0].collapsed?zS():(C=g,N=Qe.fromDom((L=x[0]).cloneContents()),q=Ke(z=function(a,d){var g,x,C,L=Qe.fromDom(d.commonAncestorContainer),N=Gc(L,a),z=Jt(N,function(Y){return Ia(Y)||fo(Y)}),q=(C=d,hn(x=N,function(Y){return"li"===pr(Y)&&Td(Y,C)}).fold(ft([]),function(Y){return hn(x,function(Q){return"ul"===pr(Q)||"ol"===pr(Q)}).map(function(Q){var Z=Qe.fromTag(pr(Q));return function(a,d){var g=a.dom;En(d,function(x,C){!function(L,N,z){if(!ot(z))throw console.error("Invalid call to CSS.set. Property ",N,":: Value ",z,":: Element ",L),new Error("CSS value must be a string: "+z);xl(L)&&L.style.setProperty(N,z)}(g,C,x)})}(Z,br(Cc(Q),function(rt,pt){return ct(pt,"list-style")})),[Qe.fromTag("li"),Z]}).getOr([])}));return ze(z.concat(q.length?q:Po(g=L)?_o(g).filter(uo).fold(ft([]),function(Y){return[g,Y]}):uo(g)?[g]:[]),pd)}(C,L),function(Q,Z){return go(Z,Q),Z},N),0<z.length?zd([q]):q))}(Qe.fromDom(Y.getBody()),Ct).dom:Z.cloneContents())&&rt.appendChild(wt),Y.selection.serializer.serialize(rt,Q));return"tree"===q.format?Ot:(q.content=x.selection.isCollapsed()?"":Ot,x.fire("GetContent",q),q.content)}(a,d,g)}},raw:{getModel:function(){return ge.none()}}}}function hc(a){return Yi(a.plugins,"rtc")}function g0(a){return a.rtcInstance||A1(a)}function aa(a){var d=a.rtcInstance;if(d)return d;throw new Error("Failed to get RTC instance not yet initialized.")}function M1(a){return 0===a.dom.length?(So(a),ge.none()):ge.some(a)}function T1(a,d,g,x){a.bind(function(C){return(x?Uy:Yp)(C.dom,x?C.dom.length:0),d.filter(Do).map(function(L){var N=g,z=x,q=C.dom,Y=L.dom,Q=(z?q:Y).length;z?(Lf(q,Y,!1,!z),N.setStart(Y,Q)):(Lf(Y,q,!1,!z),N.setEnd(Y,Q))})}).orThunk(function(){var C=x;return d.filter(function(L){return hm.isBookmarkNode(L.dom)}).bind(C?gl:Is).or(d).filter(Do).map(function(L){var N,z=x;_o(N=L).each(function(q){var Y=N.dom;z&&Gy(q,mn(Y,0))?Yp(Y,0):!z&&Tm(q,mn(Y,Y.length))&&Uy(Y,Y.length)})})})}function ng(a,d,g){var x;a&&Yi(a,d)&&(0===(x=Jt(a[d],function(C){return C!==g})).length?delete a[d]:a[d]=x)}Of=function(a){var d,g=a.selection.getRng(),x=Ba(["pre"]);g.collapsed||(d=a.selection.getSelectedBlocks(),TS(MS(MS(d,x),function(C){return x(C.previousSibling)&&-1!==Bl(d,C.previousSibling)}),function(C){var L,N=C.previousSibling;Ln(L=C).remove(),Ln(N).append("<br><br>").append(L.childNodes)}))},l0.pre||(l0.pre=[]),l0.pre.push(Of);var Bm=vn.each,$c=function(a,d,g){Bm(a.childNodes,function(x){u0(x)&&(d(x)&&g(x),x.hasChildNodes()&&$c(x,d,g))})},Hf=Fa([{keep:[]},{rename:["name"]},{removed:[]}]),I1=/^(src|href|style)$/,m0=vn.each,Wf=Fc,ig=vn.each,zm=vn.each,v0=function(a,d,g,x){function C(Qt,Se){var Be;Pt((Se=void 0===Se?rt:Se).onformat)&&Se.onformat(Qt,Se,g,x),zm(Se.styles,function(te,pe){Ct.setStyle(Qt,pe,Eu(te,g))}),!Se.styles||(Be=Ct.getAttrib(Qt,"style"))&&Ct.setAttrib(Qt,"data-mce-style",Be),zm(Se.attributes,function(te,pe){Ct.setAttrib(Qt,pe,Eu(te,g))}),zm(Se.classes,function(te){te=Eu(te,g),Ct.hasClass(Qt,te)||Ct.addClass(Qt,te)})}function L(Qt,Se){var Be=!1;return zm(Qt,function(te){return!!Ua(te)&&(Ft(te.collapsed)&&te.collapsed!==pt||!Ct.is(Se,te.selector)||vs(Se)?void 0:(C(Se,te),!(Be=!0)))}),Be}function N(Qt,Se,Be){var te=[],pe=!0,ke=rt.inline||rt.block,Ge=function(nn){if(ot(nn)){var ln=Ct.create(nn);return C(ln),ln}return null}(ke);Lp(Qt,Se,function(nn){var ln,Ve=function(qe){var je=!1,Ze=pe,pn=qe.nodeName.toLowerCase(),Pn=qe.parentNode,Vn=Pn.nodeName.toLowerCase();if(ki(qe)&&Qt.getContentEditable(qe)&&(Ze=pe,pe="true"===Qt.getContentEditable(qe),je=!0),Vr(qe)&&!function(qn,$n,Nn,pi){if(qn.getParam("format_empty_lines",!1,"boolean")&&$o($n)){var Cn=gi(gi({},qn.schema.getTextBlockElements()),{td:{},th:{},li:{},dt:{},dd:{},figcaption:{},caption:{},details:{},summary:{}}),Gn=(Rn=Qe.fromDom(Nn),oi=function(Ce){return vs(Ce.dom)},((yr=(Zn=Rn).dom).parentNode?function(a,d){return hn(a.dom.childNodes,function(g){return Ce=Qe.fromDom(g),!_(Zn,Ce)&&oi(Ce);var Ce}).map(Qe.fromDom)}(Qe.fromDom(yr.parentNode)):ge.none()).isSome());return nr(Cn,pi)&&li(Qe.fromDom(Nn.parentNode),!1)&&!Gn}var Rn,Zn,oi,yr}(a,rt,qe,Vn))return ln=null,void(lc(rt)&&Qt.remove(qe));if(lc(rt)&&rt.wrapper&&Uc(a,qe,d,g))ln=null;else{if(pe&&!je&&lc(rt)&&!rt.wrapper&&hl(a,pn)&&Ad(a,Vn,ke)){var xn=Qt.rename(qe,ke);return C(xn),te.push(xn),void(ln=null)}if(Ua(rt)){var bn=L(Z,qe);if(!bn&&Ft(Pn)&&my(rt)&&(bn=L(Z,Pn)),!$o(rt)||bn)return void(ln=null)}!pe||je||!Ad(a,ke,pn)||!Ad(a,Vn,ke)||!Be&&ri(qe)&&Ao(qe.data)||vs(qe)||$o(rt)&&Qt.isBlock(qe)?(ln=null,be(ho(qe.childNodes),Ve),je&&(pe=Ze),ln=null):(ln||(ln=Qt.clone(Ge,!1),qe.parentNode.insertBefore(ln,qe),te.push(ln)),ln.appendChild(qe))}};be(nn,Ve)}),!0===rt.links&&be(te,function(nn){var ln=function(Ve){"A"===Ve.nodeName&&C(Ve,rt),be(ho(Ve.childNodes),ln)};ln(nn)}),be(te,function(nn){var ln,Ve,qe,je,Ze,Pn,Vn,xn,bn,qn,$n,Nn,pi,Cn,Gn,Rn,Zn,oi=(ln=0,be(nn.childNodes,function(Ce){var Ye;Ft(Ye=Ce)&&ri(Ye)&&0===Ye.length||Al(Ce)||ln++}),ln);function yr(Ce){var Ye;1===Ce.nodeType&&Ce.parentNode&&1===Ce.parentNode.nodeType&&(Ye=pb(Nn,Ce.parentNode),Nn.getStyle(Ce,"color")&&Ye?Nn.setStyle(Ce,"text-decoration",Ye):Nn.getStyle(Ce,"text-decoration")===Ye&&Nn.setStyle(Ce,"text-decoration",null))}!(1<te.length)&&Qt.isBlock(nn)||0!==oi?($o(rt)||lc(rt)&&rt.wrapper)&&(rt.exact||1!==oi||(nn=hn(($n=nn).childNodes,yA).filter(function(Ce){return r0(Qt,Ce,rt)}).map(function(Ce){var Ye=Qt.clone(Ce,!1);return C(Ye),Qt.replace(Ye,$n,!0),Qt.remove(Ce,!0),Ye}).getOr($n)),Gn=a,Rn=g,Zn=nn,ig(Z,function(Ce){var Ye,Sn;$o(Ce)&&ig(Gn.dom.select(Ce.inline,Zn),function(Mn){u0(Mn)&&zf(Gn,Ce,Rn,Mn,Ce.exact?Mn:null)}),Ye=Gn.dom,(Sn=Ce).clear_child_styles&&Bm(Ye.select(Sn.links?"*:not(a)":"*",Zn),function(Mn){u0(Mn)&&Bm(Sn.styles,function(jn,mi){Ye.setStyle(Mn,mi,"")})})}),Vn=rt,Uc(Pn=a,(qn=nn).parentNode,xn=d,bn=g)&&zf(Pn,Vn,bn,qn)||Vn.merge_with_parents&&Pn.dom.getParent(qn.parentNode,function(Ce){if(Uc(Pn,Ce,xn,bn))return zf(Pn,Vn,bn,qn),!0}),(Ze=rt).styles&&Ze.styles.backgroundColor&&$c(nn,Qp(Qt,"fontSize"),y1(Qt,"backgroundColor",Eu(Ze.styles.backgroundColor,g))),Nn=Qt,Cn=nn,(pi=rt).styles&&(pi.styles.color||pi.styles.textDecoration)&&(vn.walk(Cn,yr,"childNodes"),yr(Cn)),Ve=Qt,je=nn,!$o(qe=rt)||"sub"!==qe.inline&&"sup"!==qe.inline||($c(je,Qp(Ve,"fontSize"),y1(Ve,"fontSize","")),Ve.remove(Ve.select("sup"===qe.inline?"sub":"sup",je),!0)),Om(Qt,rt,0,nn)):Qt.remove(nn,!0)})}var z,q,Y,Q,Z=a.formatter.get(d),rt=Z[0],pt=!x&&a.selection.isCollapsed(),Ct=a.dom,wt=a.selection;if("false"!==Ct.getContentEditable(wt.getNode()))rt&&(x?kd(x)?L(Z,x)||((z=Ct.createRng()).setStartBefore(x),z.setEndAfter(x),N(Ct,Lh(a,z,Z),!0)):N(Ct,x,!0):pt&&$o(rt)&&!_f(a).length?function(Qt,Se,Be){var te,pe=Qt.selection,ke=pe.getRng(),Ge=ke.startOffset,nn=ke.startContainer.nodeValue,ln=Cd(Qt.getBody(),pe.getStart());ln&&(te=Gr(ln));var Ve,qe,je,Ze,pn=/[^\s\u00a0\u00ad\u200b\ufeff]/;nn&&0<Ge&&Ge<nn.length&&pn.test(nn.charAt(Ge))&&pn.test(nn.charAt(Ge-1))?(Ve=pe.getBookmark(),ke.collapse(!0),qe=vm(Lh(Qt,ke,Qt.formatter.get(Se))),Qt.formatter.apply(Se,Be,qe),pe.moveToBookmark(Ve)):(ln&&te.nodeValue===Kp||(je=Qt.getDoc(),Ze=o0(!0).dom,te=(ln=je.importNode(Ze,!0)).firstChild,ke.insertNode(ln),Ge=1),Qt.formatter.apply(Se,Be,ln),pe.setCursorLocation(te,Ge))}(a,d,g):(q=wt.getNode(),Y=Z[0],a.settings.forced_root_block||!Y.defaultBlock||Ct.getParent(q,Ct.isBlock)||v0(a,Y.defaultBlock),wt.setRng(Xp(wt.getRng())),cm(wt,!0,function(){um(a,function(Qt,Se){var Be=Se?Qt:Lh(a,Qt,Z);N(Ct,Be,!1)})}),py(Ct,wt,wt.getRng()),a.nodeChanged()),Q=a,TS(l0[d],function(Qt){Qt(Q)})),My(a,d,x,g);else{x=wt.getNode();for(var kt=0,Ot=Z.length;kt<Ot;kt++){var jt=Z[kt];if(jt.ceFalseOverride&&Ua(jt)&&Ct.is(x,jt.selector)){C(x,jt);break}}My(a,d,x,g)}},D1=function(a){return a.selection.getStart()},E1=function(a,d,g){var x=S1(a,d);En(g,function(C,L){function N(z){var q,Y=Jp(a,x,L,z.similar,c0(z)?z.vars:void 0),Q=Y.isSome();z.state.get()!==Q&&(z.state.set(Q),q=Y.getOr(d),c0(z)?z.callback(Q,{node:q,format:L,parents:x}):be(z.callbacks,function(Z){return Z(Q,{node:q,format:L,parents:x})}))}be([C.withSimilar,C.withoutSimilar],N),be(C.withVars,N)})},y0=Oa(function(){return document.implementation.createHTMLDocument("undo")});function L1(a){return a.select}function Fm(a){return a&&a.ownerDocument&&A(Qe.fromDom(a.ownerDocument),Qe.fromDom(a))}function P1(a,d,g,x){function C(te,pe){return function(a,d,g){var x,C=(x=d,gi(gi({format:"html"},g=void 0===g?{}:g),{set:!0,selection:!0,content:x})),L=C;if(!C.no_events){var N=a.fire("BeforeSetContent",C);if(N.isDefaultPrevented())return void a.fire("SetContent",N);L=N}L.content=function(q,Y){if("raw"===Y.format)return Y.content;var Q=q.selection.getRng(),Z=q.dom.getParent(Q.commonAncestorContainer,q.dom.isBlock),rt=Z?{context:Z.nodeName.toLowerCase()}:{},pt=q.parser.parse(Y.content,gi(gi({isRootContent:!0,forced_root_block:!1},rt),Y));return If({validate:q.validate},q.schema).serialize(pt)}(a,L);var z=a.selection.getRng();(function(q,Y){var Q=ge.from(Y.firstChild).map(Qe.fromDom),Z=ge.from(Y.lastChild).map(Qe.fromDom);q.deleteContents(),q.insertNode(Y);var rt=Q.bind(Is).filter(Do).bind(M1),pt=Z.bind(gl).filter(Do).bind(M1);T1(rt,Q,q,!0),T1(pt,Z,q,!1),q.collapse(!1)})(z,z.createContextualFragment(L.content)),a.selection.setRng(z),Ou(a,z),L.no_events||a.fire("SetContent",L)}(x,te,pe)}function L(){var te=z(),pe=null==te?void 0:te.anchorNode,ke=null==te?void 0:te.focusNode;if(!te||!pe||!ke||is(pe)||is(ke))return!0;var Ge=a.createRng();Ge.setStart(pe,te.anchorOffset),Ge.collapse(!0);var nn=a.createRng();return nn.setStart(ke,te.focusOffset),nn.collapse(!0),Ge.compareBoundaryPoints(Ge.START_TO_START,nn)<=0}function N(te){var pe=wt();pe.collapse(!!te),kt(pe)}function z(){return d.getSelection?d.getSelection():d.document.selection}var q,Y,Q,Z,rt,pt,Ct=function(te,pe){return rt||(rt={},pt={},Z.on("NodeChange",function(ke){var Ge=ke.element,nn=Be(Ge),ln={};vn.each(rt,function(Ve,qe){Se(qe,nn).each(function(je){pt[qe]||(be(Ve,function(Ze){Ze(!0,{node:je,selector:qe,parents:nn})}),pt[qe]=Ve),ln[qe]=Ve})}),vn.each(pt,function(Ve,qe){ln[qe]||(delete pt[qe],vn.each(Ve,function(je){je(!1,{node:Ge,selector:qe,parents:nn})}))})})),rt[te]||(rt[te]=[]),rt[te].push(pe),Se(te,Be(Z.selection.getStart())).each(function(){pt[te]=rt[te]}),{unbind:function(){ng(rt,te,pe),ng(pt,te,pe)}}},wt=function(){function te(Ve,qe,je){try{return qe.compareBoundaryPoints(Ve,je)}catch(Ze){return-1}}var pe,ke,Ge,nn=d.document;if(void 0!==x.bookmark&&!1===Nd(x)){var ln=Yc(x);if(ln.isSome())return ln.map(function(Ve){return wm(x,[Ve])[0]}).getOr(nn.createRange())}try{(pe=z())&&!is(pe.anchorNode)&&(ke=0<pe.rangeCount?pe.getRangeAt(0):(pe.createRange?pe:nn).createRange(),ke=wm(x,[ke])[0])}catch(Ve){}return(ke=ke||(nn.createRange?nn.createRange():nn.body.createTextRange())).setStart&&9===ke.startContainer.nodeType&&ke.collapsed&&(Ge=a.getRoot(),ke.setStart(Ge,0),ke.setEnd(Ge,0)),q&&Y&&(0===te(ke.START_TO_START,ke,q)&&0===te(ke.END_TO_END,ke,q)?ke=Y:Y=q=null),ke},kt=function(te,pe){var ke;if((Ge=te)&&(L1(Ge)||Fm(Ge.startContainer)&&Fm(Ge.endContainer))){var Ge,nn=L1(te)?te:null;if(nn){Y=null;try{nn.select()}catch(Ve){}}else{var ln=z();if(te=x.fire("SetSelectionRange",{range:te,forward:pe}).range,ln){Y=te;try{ln.removeAllRanges(),ln.addRange(te)}catch(Ve){}!1===pe&&ln.extend&&(ln.collapse(te.endContainer,te.endOffset),ln.extend(te.startContainer,te.startOffset)),q=0<ln.rangeCount?ln.getRangeAt(0):null}te.collapsed||te.startContainer!==te.endContainer||!ln.setBaseAndExtent||Ci.ie||te.endOffset-te.startOffset<2&&te.startContainer.hasChildNodes()&&(ke=te.startContainer.childNodes[te.startOffset])&&"IMG"===ke.tagName&&(ln.setBaseAndExtent(te.startContainer,te.startOffset,te.endContainer,te.endOffset),ln.anchorNode===te.startContainer&&ln.focusNode===te.endContainer||ln.setBaseAndExtent(ke,0,ke,1)),x.fire("AfterSetSelectionRange",{range:te,forward:pe})}}},Ot={bookmarkManager:null,controlSelection:null,dom:Q=a,win:d,serializer:g,editor:Z=x,collapse:N,setCursorLocation:function(te,pe){var ke=a.createRng();Ft(te)&&Ft(pe)?(ke.setStart(te,pe),ke.setEnd(te,pe),kt(ke),N(!1)):(_y(a,ke,x.getBody(),!0),kt(ke))},getContent:function(te){return ke=(pe=void 0===(pe=te)?{}:pe).format||"html",Ge=pe,aa(x).selection.getContent(ke,Ge);var pe,ke,Ge},setContent:C,getBookmark:function(te,pe){return jt.getBookmark(te,pe)},moveToBookmark:function(te){return jt.moveToBookmark(te)},select:function(te,pe){var ke=a,Ge=pe;return ge.from(te).map(function(nn){var ln=ke.nodeIndex(nn),Ve=ke.createRng();return Ve.setStart(nn.parentNode,ln),Ve.setEnd(nn.parentNode,ln+1),Ge&&(_y(ke,Ve,nn,!0),_y(ke,Ve,nn,!1)),Ve}).each(kt),te},isCollapsed:function(){var te=wt(),pe=z();return!(!te||te.item)&&(te.compareEndPoints?0===te.compareEndPoints("StartToEnd",te):!pe||te.collapsed)},isForward:L,setNode:function(te){return C(a.getOuterHTML(te)),te},getNode:function(){return function(te,pe){if(!pe)return te;var ke=pe.startContainer,Ge=pe.endContainer,nn=pe.startOffset,ln=pe.endOffset,Ve=pe.commonAncestorContainer;return!pe.collapsed&&(ke===Ge&&ln-nn<2&&ke.hasChildNodes()&&(Ve=ke.childNodes[nn]),3===ke.nodeType&&3===Ge.nodeType&&(ke=ke.length===nn?Ny(ke.nextSibling,!0):ke.parentNode,Ge=0===ln?Ny(Ge.previousSibling,!1):Ge.parentNode,ke&&ke===Ge))?ke:Ve&&3===Ve.nodeType?Ve.parentNode:Ve}(x.getBody(),wt())},getSel:z,setRng:kt,getRng:wt,getStart:function(te){return Nb(x.getBody(),wt(),te)},getEnd:function(te){return Rb(x.getBody(),wt(),te)},getSelectedBlocks:function(te,pe){return function(ke,Ge,nn,ln){var Ve=[],qe=ke.getRoot();if(nn=ke.getParent(nn||Nb(qe,Ge,Ge.collapsed),ke.isBlock),ln=ke.getParent(ln||Rb(qe,Ge,Ge.collapsed),ke.isBlock),nn&&nn!==qe&&Ve.push(nn),nn&&ln&&nn!==ln)for(var je,Ze=new Jr(nn,qe);(je=Ze.next())&&je!==ln;)ke.isBlock(je)&&Ve.push(je);return ln&&nn!==ln&&ln!==qe&&Ve.push(ln),Ve}(a,wt(),te,pe)},normalize:function(){var te=wt();if(1<by(z()).length||!lm(x))return te;var pe=gm(a,te);return pe.each(function(ke){kt(ke,L())}),pe.getOr(te)},selectorChanged:function(te,pe){return Ct(te,pe),Ot},selectorChangedWithUnbind:Ct,getScrollContainer:function(){for(var te,pe=a.getRoot();pe&&"BODY"!==pe.nodeName;){if(pe.scrollHeight>pe.clientHeight){te=pe;break}pe=pe.parentNode}return te},scrollIntoView:function(te,pe){Ft(te)?(x.inline?Ca:_m)(x,te,pe):Ou(x,wt(),pe)},placeCaretAt:function(te,pe){return kt(Np(te,pe,x.getDoc()))},getBoundingClientRect:function(){var te=wt();return te.collapsed?mn.fromRangeStart(te).getClientRects()[0]:te.getBoundingClientRect()},destroy:function(){d=q=Y=null,Qt.destroy()}},jt=hm(Ot),Qt=dm(Ot,x);function Se(te,pe){return hn(pe,function(ke){return Q.is(ke,te)})}function Be(te){return Q.getParents(te,null,Q.getRoot())}return Ot.bookmarkManager=jt,Ot.controlSelection=Qt,Ot}function x0(a){var d,g=decodeURIComponent(a).split(","),x=/data:([^;]+)/.exec(g[0]);return{type:d=x?x[1]:d,data:g[1]}}function O1(a,d){var g;try{g=atob(d)}catch(L){return ge.none()}for(var x=new Uint8Array(g.length),C=0;C<x.length;C++)x[C]=g.charCodeAt(C);return ge.some(new Blob([x],{type:a}))}function N1(a){return 0===a.indexOf("blob:")?(d=a,new no(function(x,C){function L(){C("Cannot convert "+d+" to Blob. Resource might not exist or is inaccessible.")}try{var N=new XMLHttpRequest;N.open("GET",d,!0),N.responseType="blob",N.onload=function(){200===N.status?x(N.response):L()},N.onerror=L,N.send()}catch(z){L()}})):0===a.indexOf("data:")?(g=a,new no(function(x){var C=x0(g);O1(C.type,C.data).fold(function(){return x(new Blob([]))},x)})):null;var d,g}function El(a){return(a||"blobid")+Yf++}function Ll(a,d,g,x){(a.padd_empty_with_br||d.insert)&&g[x.name]?x.empty().append(new ru("br",1)).shortEnded=!0:x.empty().append(new ru("#text",3)).value=Oo}function Vm(a,d,g,x){return x.isEmpty(d,g,function(C){return(L=a.getElementRule(C.name))&&L.paddEmpty;var L})}function R1(a,d){void 0===d&&(d=or());var g={},x=[],C={},L={};function N(q){var Y=q.name;Y in g&&((Z=C[Y])?Z.push(q):C[Y]=[q]);for(var Q=x.length;Q--;){var Z,rt=x[Q].name;rt in q.attributes.map&&((Z=L[rt])?Z.push(q):L[rt]=[q])}return q}(a=a||{}).validate=!("validate"in a)||a.validate,a.root_name=a.root_name||"body";var z={schema:d,addAttributeFilter:function(q,Y){$S(ZS(q),function(Q){for(var Z=0;Z<x.length;Z++)if(x[Z].name===Q)return void x[Z].callbacks.push(Y);x.push({name:Q,callbacks:[Y]})})},getAttributeFilters:function(){return[].concat(x)},addNodeFilter:function(q,Y){$S(ZS(q),function(Q){var Z=g[Q];Z||(g[Q]=Z=[]),Z.push(Y)})},getNodeFilters:function(){var q,Y=[];for(q in g)Yi(g,q)&&Y.push({name:q,callbacks:g[q]});return Y},filterNode:N,parse:function(q,Y){var Q,Z,rt,pt,Ct,wt,kt,Ot,jt=[];function Qt(xn){for(var bn=d.getBlockElements(),qn=xn.prev;qn&&3===qn.type;){var $n=qn.value.replace(qe,"");if(0<$n.length)return qn.value=$n,0;var Nn=qn.next;if(Nn){if(3===Nn.type&&Nn.value.length){qn=qn.prev;continue}if(!bn[Nn.name]&&"script"!==Nn.name&&"style"!==Nn.name){qn=qn.prev;continue}}var pi=qn.prev;qn.remove(),qn=pi}}function Se(xn,bn){var qn,$n=new ru(xn,bn);return xn in g&&((qn=C[xn])?qn.push($n):C[xn]=[$n]),$n}Y=Y||{},C={},L={};var Be=CA(Xf("script,style,head,html,body,title,meta,param"),d.getBlockElements()),te=d.getNonEmptyElements(),pe=d.children,ke=a.validate,Ge=("forced_root_block"in Y?Y:a).forced_root_block,nn=!1===Ge?"":!0===Ge?"p":Ge,ln=d.getWhiteSpaceElements(),Ve=/^[ \t\r\n]+/,qe=/[ \t\r\n]+$/,je=/[ \t\r\n]+/g,Ze=/^[ \t\r\n]+$/,pn=Yi(ln,Y.context)||Yi(ln,a.root_name),Pn=Bd({validate:ke,document:a.document,allow_html_data_urls:a.allow_html_data_urls,allow_svg_data_urls:a.allow_svg_data_urls,allow_script_urls:a.allow_script_urls,allow_conditional_comments:a.allow_conditional_comments,preserve_cdata:a.preserve_cdata,self_closing_elements:function(xn){var bn,qn={};for(bn in xn)"li"!==bn&&"p"!==bn&&(qn[bn]=xn[bn]);return qn}(d.getSelfClosingElements()),cdata:function(xn){Ot.append(Se("#cdata",4)).value=xn},text:function(xn,bn){var qn,$n;pn||(xn=xn.replace(je," "),($n=Ot.lastChild)&&(Yi(Be,$n.name)||"br"===$n.name)&&(xn=xn.replace(Ve,""))),0!==xn.length&&((qn=Se("#text",3)).raw=!!bn,Ot.append(qn).value=xn)},comment:function(xn){Ot.append(Se("#comment",8)).value=xn},pi:function(xn,bn){Ot.append(Se(xn,7)).value=bn,Qt(Ot)},doctype:function(xn){Ot.append(Se("#doctype",10)).value=xn,Qt(Ot)},start:function(xn,bn,qn){var $n=ke?d.getElementRule(xn):{};if($n){var Nn=Se($n.outputName||xn,1);Nn.attributes=bn,Nn.shortEnded=qn,Ot.append(Nn);var pi=pe[Ot.name];pi&&pe[Nn.name]&&!pi[Nn.name]&&jt.push(Nn);for(var Cn=x.length;Cn--;){var Gn=x[Cn].name;Gn in bn.map&&((wt=L[Gn])?wt.push(Nn):L[Gn]=[Nn])}Be[xn]&&Qt(Nn),qn||(Ot=Nn),!pn&&ln[xn]&&(pn=!0)}},end:function(xn){var bn,qn,$n,Nn,pi,Cn=ke?d.getElementRule(xn):{};if(Cn){if(Be[xn]&&!pn){if((bn=Ot.firstChild)&&3===bn.type)if(0<(qn=bn.value.replace(Ve,"")).length)bn.value=qn,bn=bn.next;else for($n=bn.next,bn.remove(),bn=$n;bn&&3===bn.type;)$n=bn.next,0!==(qn=bn.value).length&&!Ze.test(qn)||(bn.remove(),bn=$n),bn=$n;if((bn=Ot.lastChild)&&3===bn.type)if(0<(qn=bn.value.replace(qe,"")).length)bn.value=qn,bn=bn.prev;else for($n=bn.prev,bn.remove(),bn=$n;bn&&3===bn.type;)$n=bn.prev,0!==(qn=bn.value).length&&!Ze.test(qn)||(bn.remove(),bn=$n),bn=$n}if(pn&&ln[xn]&&(pn=!1),Cn.removeEmpty&&Vm(d,te,ln,Ot))return Nn=Ot.parent,Be[Ot.name]?Ot.empty().remove():Ot.unwrap(),void(Ot=Nn);Cn.paddEmpty&&(Vd(pi=Ot,"#text")&&pi.firstChild.value===Oo||Vm(d,te,ln,Ot))&&Ll(a,Y,Be,Ot),Ot=Ot.parent}}},d),Vn=Ot=new ru(Y.context||a.root_name,11);if(Pn.parse(q,Y.format),ke&&jt.length&&(Y.context?Y.invalid=!0:function(xn){for(var bn=Xf("tr,td,th,tbody,thead,tfoot,table"),qn=d.getNonEmptyElements(),$n=d.getWhiteSpaceElements(),Nn=d.getTextBlockElements(),pi=d.getSpecialElements(),Cn=function(mi,Ri){if(void 0===Ri&&(Ri=mi.parent),pi[mi.name])mi.empty().remove();else{for(var kr=0,Sr=mi.children();kr<Sr.length;kr++){var vi=Sr[kr];d.isValidChild(Ri.name,vi.name)||Cn(vi,Ri)}mi.unwrap()}},Gn=0;Gn<xn.length;Gn++){var Rn,Zn=xn[Gn],oi=void 0,yr=void 0;if(Zn.parent&&!Zn.fixed)if(Nn[Zn.name]&&"li"===Zn.parent.name){for(var Ce=Zn.next;Ce&&Nn[Ce.name];)Ce.name="li",Ce.fixed=!0,Zn.parent.insert(Ce,Zn.parent),Ce=Ce.next;Zn.unwrap()}else{var Ye=[Zn];for(oi=Zn.parent;oi&&!d.isValidChild(oi.name,Zn.name)&&!bn[oi.name];oi=oi.parent)Ye.push(oi);if(oi&&1<Ye.length)if(d.isValidChild(oi.name,Zn.name)){Ye.reverse();for(var Sn=Rn=N(Ye[0].clone()),An=0;An<Ye.length-1;An++){d.isValidChild(Sn.name,Ye[An].name)?(yr=N(Ye[An].clone()),Sn.append(yr)):yr=Sn;for(var Mn=Ye[An].firstChild;Mn&&Mn!==Ye[An+1];){var jn=Mn.next;yr.append(Mn),Mn=jn}Sn=yr}Vm(d,qn,$n,Rn)?oi.insert(Zn,Ye[0],!0):(oi.insert(Rn,Ye[0],!0),oi.insert(Zn,Rn)),(Vm(d,qn,$n,oi=Ye[0])||Vd(oi,"br"))&&oi.empty().remove()}else Cn(Zn);else Zn.parent&&("li"!==Zn.name?d.isValidChild(Zn.parent.name,"div")&&d.isValidChild("div",Zn.name)?Zn.wrap(N(new ru("div",1))):Cn(Zn):!(Ce=Zn.prev)||"ul"!==Ce.name&&"ol"!==Ce.name?!(Ce=Zn.next)||"ul"!==Ce.name&&"ol"!==Ce.name?Zn.wrap(N(new ru("ul",1))):Ce.insert(Zn,Ce.firstChild,!0):Ce.append(Zn))}}}(jt)),nn&&("body"===Vn.name||Y.isRootContent)&&function(){function xn(Nn){Nn&&((bn=Nn.firstChild)&&3===bn.type&&(bn.value=bn.value.replace(Ve,"")),(bn=Nn.lastChild)&&3===bn.type&&(bn.value=bn.value.replace(qe,"")))}var bn=Vn.firstChild,qn=null;if(d.isValidChild(Vn.name,nn.toLowerCase())){for(;bn;){var $n=bn.next;3===bn.type||1===bn.type&&"p"!==bn.name&&!Be[bn.name]&&!bn.attr("data-mce-type")?(qn||((qn=Se(nn,1)).attr(a.forced_root_block_attrs),Vn.insert(qn,bn)),qn.append(bn)):(xn(qn),qn=null),bn=$n}xn(qn)}}(),!Y.invalid){for(kt in C)if(Yi(C,kt)){for(wt=g[kt],pt=(Q=C[kt]).length;pt--;)Q[pt].parent||Q.splice(pt,1);for(Z=0,rt=wt.length;Z<rt;Z++)wt[Z](Q,kt,Y)}for(Z=0,rt=x.length;Z<rt;Z++)if((wt=x[Z]).name in L){for(pt=(Q=L[wt.name]).length;pt--;)Q[pt].parent||Q.splice(pt,1);for(pt=0,Ct=wt.callbacks.length;pt<Ct;pt++)wt.callbacks[pt](Q,wt.name,Y)}}return Vn}};return function(a,d){var x,C,L=a.schema;function N(z){var q,Y,Q=z.attr("src");(q=z).attr("src")===Ci.transparentSrc||Ft(q.attr("data-mce-placeholder"))||Ft(z.attr("data-mce-bogus"))||((Y=/data:([^;]+);base64,([a-z0-9\+\/=\s]+)/i.exec(Q))?ge.some({type:Y[1],data:decodeURIComponent(Y[2])}):ge.none()).filter(function(){return function(Z,rt){if(rt.images_dataimg_filter){var pt=new Image;return pt.src=Z.attr("src"),En(Z.attributes.map,function(Ct,wt){pt.setAttribute(wt,Ct)}),rt.images_dataimg_filter(pt)}return!0}(z,x)}).bind(function(Z){var rt=Z.type,pt=Z.data;return ge.from(C.getByData(pt,rt)).orThunk(function(){return O1(rt,pt).map(function(Ct){var wt=C.create(El(),Ct,pt);return C.add(wt),wt})})}).each(function(Z){z.attr("src",Z.blobUri())})}d.remove_trailing_brs&&a.addNodeFilter("br",function(z,q,Y){var Q,Z,rt,pt,Ct,wt,kt,Ot,jt=z.length,Qt=vn.extend({},L.getBlockElements()),Se=L.getNonEmptyElements(),Be=L.getWhiteSpaceElements();for(Qt.body=1,Q=0;Q<jt;Q++)if(rt=(Z=z[Q]).parent,Qt[Z.parent.name]&&Z===rt.lastChild){for(Ct=Z.prev;Ct;){if("span"!==(wt=Ct.name)||"bookmark"!==Ct.attr("data-mce-type")){"br"===wt&&(Z=null);break}Ct=Ct.prev}Z&&(Z.remove(),Vm(L,Se,Be,rt)&&(kt=L.getElementRule(rt.name))&&(kt.removeEmpty?rt.remove():kt.paddEmpty&&Ll(d,Y,Qt,rt)))}else{for(pt=Z;rt&&rt.firstChild===pt&&rt.lastChild===pt&&!Qt[(pt=rt).name];)rt=rt.parent;pt===rt&&!0!==d.padd_empty_with_br&&((Ot=new ru("#text",3)).value=Oo,Z.replace(Ot))}}),a.addAttributeFilter("href",function(z){var q,Y,Q=z.length;if(!d.allow_unsafe_link_target)for(;Q--;){var Z=z[Q];"a"===Z.name&&"_blank"===Z.attr("target")&&Z.attr("rel",(Y=void 0,Y=(q=Z.attr("rel"))?vn.trim(q):"",/\b(noopener)\b/g.test(Y)?Y:Y.split(" ").filter(function(rt){return 0<rt.length}).concat(["noopener"]).sort().join(" ")))}}),d.allow_html_in_named_anchor||a.addAttributeFilter("id,name",function(z){for(var q,Y,Q,Z,rt=z.length;rt--;)if("a"===(Z=z[rt]).name&&Z.firstChild&&!Z.attr("href"))for(Q=Z.parent,q=Z.lastChild;Y=q.prev,Q.insert(q,Z),q=Y;);}),d.fix_list_elements&&a.addNodeFilter("ul,ol",function(z){for(var q,Y,Q,Z=z.length;Z--;)"ul"!==(Q=(Y=z[Z]).parent).name&&"ol"!==Q.name||(Y.prev&&"li"===Y.prev.name?Y.prev.append(Y):((q=new ru("li",1)).attr("style","list-style-type: none"),Y.wrap(q)))}),d.validate&&L.getValidClasses()&&a.addAttributeFilter("class",function(z){for(var q=L.getValidClasses(),Y=z.length;Y--;){for(var Q=z[Y],Z=Q.attr("class").split(" "),rt="",pt=0;pt<Z.length;pt++){var Ct=Z[pt],wt=!1,kt=q["*"];kt&&kt[Ct]&&(wt=!0),kt=q[Q.name],(wt=!(wt||!kt||!kt[Ct])||wt)&&(rt&&(rt+=" "),rt+=Ct)}rt.length||(rt=null),Q.attr("class",rt)}}),(C=(x=d).blob_cache)&&a.addAttributeFilter("src",function(z){return be(z,N)})}(z,a),a.inline_styles&&function(a,d){var g,x,C,L,N=_r();d.convert_fonts_to_spans&&(x=a,C=N,L=vn.explode(d.font_size_legacy_values),x.addNodeFilter("font",function(z){be(z,function(q){var Y,Q=C.parse(q.attr("style")),Z=q.attr("color"),rt=q.attr("face"),pt=q.attr("size");Z&&(Q.color=Z),rt&&(Q["font-family"]=rt),pt&&(Q["font-size"]=L[parseInt(q.attr("size"),10)-1]),q.name="span",q.attr("style",C.serialize(Q)),Y=q,be(["color","face","size"],function(Ct){Y.attr(Ct,null)})})})),g=N,a.addNodeFilter("strike",function(z){be(z,function(q){var Y=g.parse(q.attr("style"));Y["text-decoration"]="line-through",q.name="span",q.attr("style",g.serialize(Y))})})}(z,a),z}function b0(a,d,g){-1===vn.inArray(d,g)&&(a.addAttributeFilter(g,function(x,C){for(var L=x.length;L--;)x[L].attr(C,null)}),d.push(g))}function _0(a,d){var g=function(a,d){var g=["data-mce-selected"],x=d&&d.dom?d.dom:sr.DOM,C=d&&d.schema?d.schema:or(a);a.entity_encoding=a.entity_encoding||"named",a.remove_trailing_brs=!("remove_trailing_brs"in a)||a.remove_trailing_brs;var L,N=R1(a,C),z=a,q=x;return(L=N).addAttributeFilter("data-mce-tabindex",function(Y,Q){for(var Z=Y.length;Z--;){var rt=Y[Z];rt.attr("tabindex",rt.attr("data-mce-tabindex")),rt.attr(Q,null)}}),L.addAttributeFilter("src,href,style",function(Y,Q){for(var Z="data-mce-"+Q,rt=z.url_converter,pt=z.url_converter_scope,Ct=Y.length;Ct--;){var wt=Y[Ct],kt=wt.attr(Z);void 0!==kt?(wt.attr(Q,0<kt.length?kt:null),wt.attr(Z,null)):(kt=wt.attr(Q),"style"===Q?kt=q.serializeStyle(q.parseStyle(kt),wt.name):rt&&(kt=rt.call(pt,kt,Q,wt.name)),wt.attr(Q,0<kt.length?kt:null))}}),L.addAttributeFilter("class",function(Y){for(var Q=Y.length;Q--;){var Z,rt=Y[Q];rt.attr("class")&&(Z=rt.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),rt.attr("class",0<Z.length?Z:null))}}),L.addAttributeFilter("data-mce-type",function(Y,Q,Z){for(var rt=Y.length;rt--;){var pt=Y[rt];"bookmark"!==pt.attr("data-mce-type")||Z.cleanup||(ge.from(pt.firstChild).exists(function(Ct){return!Ao(Ct.value)})?pt.unwrap():pt.remove())}}),L.addNodeFilter("noscript",function(Y){for(var Q=Y.length;Q--;){var Z=Y[Q].firstChild;Z&&(Z.value=ql.decode(Z.value))}}),L.addNodeFilter("script,style",function(Y,Q){for(var Z=function(kt){return kt.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")},rt=Y.length;rt--;){var pt,Ct=Y[rt],wt=Ct.firstChild?Ct.firstChild.value:"";"script"===Q?((pt=Ct.attr("type"))&&Ct.attr("type","mce-no/type"===pt?null:pt.replace(/^mce\-/,"")),"xhtml"===z.element_format&&0<wt.length&&(Ct.firstChild.value="// <![CDATA[\n"+Z(wt)+"\n// ]]>")):"xhtml"===z.element_format&&0<wt.length&&(Ct.firstChild.value="\x3c!--\n"+Z(wt)+"\n--\x3e")}}),L.addNodeFilter("#comment",function(Y){for(var Q=Y.length;Q--;){var Z=Y[Q];z.preserve_cdata&&0===Z.value.indexOf("[CDATA[")?(Z.name="#cdata",Z.type=4,Z.value=q.decode(Z.value.replace(/^\[CDATA\[|\]\]$/g,""))):0===Z.value.indexOf("mce:protected ")&&(Z.name="#text",Z.type=3,Z.raw=!0,Z.value=unescape(Z.value).substr(14))}}),L.addNodeFilter("xml:namespace,input",function(Y,Q){for(var Z=Y.length;Z--;){var rt=Y[Z];7===rt.type?rt.remove():1===rt.type&&("input"!==Q||rt.attr("type")||rt.attr("type","text"))}}),L.addAttributeFilter("data-mce-type",function(Y){be(Y,function(Q){"format-caret"===Q.attr("data-mce-type")&&(Q.isEmpty(L.schema.getNonEmptyElements())?Q.remove():Q.unwrap())})}),L.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize,data-mce-placeholder",function(Y,Q){for(var Z=Y.length;Z--;)Y[Z].attr(Q,null)}),{schema:C,addNodeFilter:N.addNodeFilter,addAttributeFilter:N.addAttributeFilter,serialize:function(Y,Q){var Z,rt,pt,Ct,wt,kt,Ot,jt,Qt,Se,Be,te,pe,ke,Ge,nn,ln,Ve,qe,je,Ze,pn,Pn,Vn,xn,bn,qn,$n,Nn,pi=gi({format:"html"},Q=void 0===Q?{}:Q),Cn=(te=Y,Pn=pe=pi,Z=(Be=d)&&Be.hasEventListeners("PreProcess")&&!Pn.no_events?(Ge=pe,je=(ke=Be).dom,Ze=te.cloneNode(!0),(pn=document.implementation).createHTMLDocument&&(ln=pn.createHTMLDocument(""),vn.each("BODY"===Ze.nodeName?Ze.childNodes:[Ze],function(Zn){ln.body.appendChild(ln.importNode(Zn,!0))}),Ze="BODY"!==Ze.nodeName?ln.body.firstChild:ln.body,nn=je.doc,je.doc=ln),Ve=ke,qe=gi(gi({},Ge),{node:Ze}),Ve.fire("PreProcess",qe),nn&&(je.doc=nn),Ze):te,pt=mo((rt=pi).getInner?Z.innerHTML:x.getOuterHTML(Z)),rt.selection||Yo(Qe.fromDom(Z))?pt:vn.trim(pt)),Gn=(Ct=N,wt=Cn,Ot=(kt=pi).selection?gi({forced_root_block:!1},kt):kt,!Rn(Se=(jt=Ct.parse(wt,Ot)).lastChild)||Rn(Qt=Se.prev)&&(Se.remove(),Qt.remove()),jt);function Rn(Zn){return Zn&&"br"===Zn.name}return"tree"===pi.format?Gn:(Vn=d,xn=pi,bn=Gn,Nn=If(a,C).serialize(bn),xn.no_events||!Vn?Nn:(qn=Vn,$n=gi(gi({},xn),{content:Nn}),qn.fire("PostProcess",$n).content))},addRules:C.addValidElements,setRules:C.setValidElements,addTempAttr:vt(b0,N,g),getTempAttrs:ft(g),getNodeFilters:N.getNodeFilters,getAttributeFilters:N.getAttributeFilters}}(a,d);return{schema:g.schema,addNodeFilter:g.addNodeFilter,addAttributeFilter:g.addAttributeFilter,serialize:g.serialize,addRules:g.addRules,setRules:g.setRules,addTempAttr:g.addTempAttr,getTempAttrs:g.getTempAttrs,getNodeFilters:g.getNodeFilters,getAttributeFilters:g.getAttributeFilters}}function w0(a,d,g){return x=g=void 0===g?{}:g,g0(a).editor.setContent(d,x);var x}function Hm(a){return ge.from(a).each(function(d){return d.destroy()})}function rg(a){var d=It(a)?a.join(" "):a;return Jt(ze(ot(d)?d.split(" "):[],yt),function(g){return 0<g.length})}function Zc(a,d){return Yi(a.sections(),d)}function YS(a,d){return ji(a,"toolbar_mode").orThunk(function(){return ji(a,"toolbar_drawer").map(function(g){return!1===g?"wrap":g})}).getOr(d)}function jf(a,d,g){return ge.from(d.settings[g]).filter(a)}function qS(a,d){return d.dom[a]}function US(a,d){return parseInt(rs(d,a),10)}function B1(a,d,g){var x,C,L,N,z,q,Y=Qe.fromDom(a.getBody()),Q=a.inline?Y:Qe.fromDom(Ts(Y).dom.documentElement),Z=(x=a.inline,L=d,N=g,z=(C=Q).dom.getBoundingClientRect(),{x:L-(x?z.left+C.dom.clientLeft+tC(C):0),y:N-(x?z.top+C.dom.clientTop+JS(C):0)}),rt=Z.x,pt=Z.y,Ct=QS(q=Q),wt=H1(q);return 0<=rt&&0<=pt&&rt<=Ct&&pt<=wt}function S0(a){function d(){var Y=a.theme;return Y&&Y.getNotificationManagerImpl?Y.getNotificationManagerImpl():{open:Q,close:Q,reposition:Q,getArgs:Q};function Q(){throw new Error("Theme did not provide a NotificationManager implementation.")}}function g(){return ge.from(z[0])}function x(){0<z.length&&d().reposition(z)}function C(Y){$e(z,function(Q){return Q===Y}).each(function(Q){z.splice(Q,1)})}function L(Y,Q){if(void 0===Q&&(Q=!0),!a.removed&&(rt=(Z=a).inline?Z.getBody():Z.getContentAreaContainer(),ge.from(rt).map(Qe.fromDom).map(Uu).getOr(!1)))return Q&&a.fire("BeforeOpenNotification",{notification:Y}),hn(z,function(pt){return!((Ct=d().getArgs(pt)).type!==Y.type||Ct.text!==Y.text||Ct.progressBar||Ct.timeout||Y.progressBar||Y.timeout);var Ct}).getOrThunk(function(){a.editorManager.setActive(a);var pt=d().open(Y,function(){C(pt),x(),g().fold(function(){return a.focus()},function(Ct){return Qe.fromDom(Ct.getEl()).dom.focus()})});return z.push(pt),x(),a.fire("OpenNotification",{notification:gi({},pt)}),pt});var Z,rt}var N,z=[],q=ft(z);return(N=a).on("SkinLoaded",function(){var Y=N.getParam("service_message");Y&&L({text:Y,type:"warning",timeout:0},!1),x()}),N.on("show ResizeEditor ResizeWindow NodeChange",function(){Wr.requestAnimationFrame(x)}),N.on("remove",function(){be(z.slice(),function(Y){d().close(Y)})}),{open:L,close:function(){g().each(function(Y){d().close(Y),C(Y),x()})},getNotifications:q}}var C0,Wm,Yf=0,Vd=function(a,d){return a&&a.firstChild&&a.firstChild===a.lastChild&&a.firstChild.name===d},Xf=vn.makeMap,$S=vn.each,ZS=vn.explode,CA=vn.extend,k0=sr.DOM,KS=(C0=function(a,d){return it(a)&&it(d)?KS(a,d):d},function(){for(var a=[],d=0;d<arguments.length;d++)a[d]=arguments[d];if(0===a.length)throw new Error("Can't merge zero objects");for(var g={},x=0;x<a.length;x++){var C,L=a[x];for(C in L)Yi(L,C)&&(g[C]=C0(g[C],L[C]))}return g}),jm="autoresize_on_init,content_editable_state,convert_fonts_to_spans,inline_styles,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists".split(","),kA="bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,textcolor".split(","),A0="imagetools,toc".split(","),z1=zn().deviceType,F1=z1.isTouch(),zu=z1.isPhone(),AA=z1.isTablet(),V1=["lists","autolink","autosave"],Ym={table_grid:!1,object_resizing:!1,resize:!1},Xm=(Wm={},{add:function(a,d){Wm[a]=d},get:function(a){return Wm[a]||{icons:{}}},has:function(a){return Yi(Wm,a)}}),QS=vt(qS,"clientWidth"),H1=vt(qS,"clientHeight"),JS=vt(US,"margin-top"),tC=vt(US,"margin-left"),Fu=Ea.PluginManager,ou=Ea.ThemeManager;function M0(a){function d(){var N=a.theme;return N&&N.getWindowManagerImpl?N.getWindowManagerImpl():{open:z,openUrl:z,alert:z,confirm:z,close:z,getParams:z,setParams:z};function z(){throw new Error("Theme did not provide a WindowManager implementation.")}}function g(N,z){return function(){for(var q=[],Y=0;Y<arguments.length;Y++)q[Y]=arguments[Y];return z?z.apply(N,q):void 0}}function x(N){a.fire("CloseWindow",{dialog:N}),0===(L=Jt(L,function(z){return z!==N})).length&&a.focus()}function C(N){a.editorManager.setActive(a),Nu(a);var z,q=N();return L.push(z=q),a.fire("OpenWindow",{dialog:z}),q}var L=[];return a.on("remove",function(){be(L,function(N){d().close(N)})}),{open:function(N,z){return C(function(){return d().open(N,z,x)})},openUrl:function(N){return C(function(){return d().openUrl(N,x)})},alert:function(N,z,q){var Y=d();Y.alert(N,g(q||Y,z))},confirm:function(N,z,q){var Y=d();Y.confirm(N,g(q||Y,z))},close:function(){ge.from(L[L.length-1]).each(function(N){d().close(N),x(N)})}}}function Gm(a,d){a.notificationManager.open({type:"error",text:d})}function dc(a,d){a._skinLoaded?Gm(a,d):a.on("SkinLoaded",function(){Gm(a,d)})}function qm(a,d,g){Ab(a,d,{message:g}),console.error(g)}function Um(a,d,g){return g?"Failed to load "+a+": "+g+" from url "+d:"Failed to load "+a+" url: "+d}function $m(a,d,g){qm(a,"PluginLoadError",Um("plugin",d,g))}function og(){function a(x,C){return{status:x,resultUri:C}}function d(x){return x in g}var g={};return{hasBlobUri:d,getResultUri:function(x){var C=g[x];return C?C.resultUri:null},isPending:function(x){return!!d(x)&&1===g[x].status},isUploaded:function(x){return!!d(x)&&2===g[x].status},markPending:function(x){g[x]=a(1,null)},markUploaded:function(x,C){g[x]=a(2,C)},removeFailed:function(x){delete g[x]},destroy:function(){g={}}}}function W1(a){return a+dg+++"s"+(new Date).getTime().toString(36)+d()+d()+d();function d(){return Math.round(4294967295*Math.random()).toString(36)}}function T0(a){return function(){return a.notificationManager.open({text:a.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0})}}function j1(a,d){return function(a,d){function g(z,q,Y,Q){var Z=new XMLHttpRequest;Z.open("POST",d.url),Z.withCredentials=d.credentials,Z.upload.onprogress=function(pt){Q(pt.loaded/pt.total*100)},Z.onerror=function(){Y("Image upload failed due to a XHR Transport error. Code: "+Z.status)},Z.onload=function(){var pt,Ct,wt;Z.status<200||300<=Z.status?Y("HTTP Error: "+Z.status):(pt=JSON.parse(Z.responseText))&&"string"==typeof pt.location?q((wt=pt.location,(Ct=d.basePath)?Ct.replace(/\/$/,"")+"/"+wt.replace(/^\//,""):wt)):Y("Invalid JSON: "+Z.responseText)};var rt=new FormData;rt.append("file",z.blob(),z.filename()),Z.send(rt)}function x(z,q){return{url:q,blobInfo:z,status:!0}}function C(z,q,Y){return{url:"",blobInfo:z,status:!1,error:{message:q,options:Y}}}function L(z,q){vn.each(N[z],function(Y){Y(q)}),delete N[z]}var N={};return!1===Pt(d.handler)&&(d.handler=g),{upload:function(z,q){return d.url||d.handler!==g?(Q=q,Y=vn.grep(z,function(Z){return!a.isUploaded(Z.blobUri())}),no.all(vn.map(Y,function(Z){return a.isPending(Z.blobUri())?(wt=Z.blobUri(),new no(function(kt){N[wt]=N[wt]||[],N[wt].push(kt)})):(pt=d.handler,Ct=Q,a.markPending((rt=Z).blobUri()),new no(function(kt){var Ot;try{var jt=function(){Ot&&Ot.close()};pt(rt,function(Qt){jt(),a.markUploaded(rt.blobUri(),Qt),L(rt.blobUri(),x(rt,Qt)),kt(x(rt,Qt))},function(Qt,Se){var Be=Se||{};jt(),a.removeFailed(rt.blobUri()),L(rt.blobUri(),C(rt,Qt,Be)),kt(C(rt,Qt,Be))},function(Qt){Qt<0||100<Qt||ge.from(Ot).orThunk(function(){return ge.from(Ct).map(se)}).each(function(Se){(Ot=Se).progressBar.value(Qt)})})}catch(Qt){kt(C(rt,Qt.message,{}))}}));var rt,pt,Ct,wt}))):new no(function(Z){Z([])});var Y,Q}}}(d,{url:a.getParam("images_upload_url","","string"),basePath:a.getParam("images_upload_base_path","","string"),credentials:a.getParam("images_upload_credentials",!1,"boolean"),handler:a.getParam("images_upload_handler",null,"function")})}function Y1(a,d){function g(q){var Y,Q=ws.create((C="string"==typeof q?{name:q,classes:[],attrs:{}}:q).name),Z=Q;return(Y=C).classes.length&&ws.addClass(Z,Y.classes.join(" ")),ws.setAttribs(Z,Y.attrs),Q}var x,C,L,N=d&&d.schema||or({}),z=function(q,Y,Q){var Z,rt,pt,Ct,wt,kt,Ot,jt=0<Y.length&&Y[0],Qt=jt&&jt.name,Se=(Ct=Qt,wt="string"!=typeof(pt=q)?pt.nodeName.toLowerCase():pt,!(!(Ot=(kt=N.getElementRule(wt))&&kt.parentsRequired)||!Ot.length)&&(Ct&&-1!==vn.inArray(Ot,Ct)?Ct:Ot[0]));if(Se)Qt===Se?(rt=Y[0],Y=Y.slice(1)):rt=Se;else if(jt)rt=Y[0],Y=Y.slice(1);else if(!Q)return q;return rt&&(Z=g(rt)).appendChild(q),Q&&(Z||(Z=ws.create("div")).appendChild(q),vn.each(Q,function(Be){var te=g(Be);Z.insertBefore(te,q)})),z(Z,Y,rt&&rt.siblings)};return a&&a.length?(x=g(C=a[0]),(L=ws.create("div")).appendChild(z(x,a.slice(1),C.siblings)),L):""}function nC(a){var d,g={classes:[],attrs:{}};return"*"!==(a=g.selector=vn.trim(a))&&(d=a.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,function(x,C,L,N,z){switch(C){case"#":g.attrs.id=L;break;case".":g.classes.push(L);break;case":":-1!==vn.inArray("checked disabled enabled read-only required".split(" "),L)&&(g.attrs[L]=L)}var q;return"["!==N||(q=z.match(/([\w\-]+)(?:\=\"([^\"]+))?/))&&(g.attrs[q[1]]=q[2]),""})),g.name=d||"div",g}function Vu(a,d){var g,x,C="",L=(x=a.getParam("preview_styles","font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"),ot(x)?x:"");if(""===L)return"";function N(pt){return pt.replace(/%(\w+)/g,"")}if("string"==typeof d){if(!(d=a.formatter.get(d)))return;d=d[0]}if("preview"in d){var z=ji(d,"preview");if(va(z,!1))return"";L=z.getOr(L)}var q,Y=d.block||d.inline||"span",Q=(q=d.selector)&&"string"==typeof q?(q=(q=q.split(/\s*,\s*/)[0]).replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),vn.map(q.split(/(?:>|\s+(?![^\[\]]+\]))/),function(pt){var Ct=vn.map(pt.split(/(?:~\+|~|\+)/),nC),wt=Ct.pop();return Ct.length&&(wt.siblings=Ct),wt}).reverse()):[],Z=Q.length?(Q[0].name||(Q[0].name=Y),Y=d.selector,Y1(Q,a)):Y1([Y],a),rt=ws.select(Y,Z)[0]||Z.firstChild;return Y0(d.styles,function(pt,Ct){var wt=N(pt);wt&&ws.setStyle(rt,Ct,wt)}),Y0(d.attributes,function(pt,Ct){var wt=N(pt);wt&&ws.setAttrib(rt,Ct,wt)}),Y0(d.classes,function(pt){var Ct=N(pt);ws.hasClass(rt,Ct)||ws.addClass(rt,Ct)}),a.fire("PreviewFormats"),ws.setStyles(Z,{position:"absolute",left:-65535}),a.getBody().appendChild(Z),g=ws.getStyle(a.getBody(),"fontSize",!0),g=/px$/.test(g)?parseInt(g,10):0,Y0(L.split(" "),function(pt){var Ct=ws.getStyle(rt,pt,!0);if(!("background-color"===pt&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(Ct)&&(Ct=ws.getStyle(a.getBody(),pt,!0),"#ffffff"===ws.toHex(Ct).toLowerCase())||"color"===pt&&"#000000"===ws.toHex(Ct).toLowerCase())){if("font-size"===pt&&/em|%$/.test(Ct)){if(0===g)return;Ct=parseFloat(Ct)/(/%$/.test(Ct)?100:1)*g+"px"}"border"===pt&&Ct&&(C+="padding:0 2px;"),C+=pt+":"+Ct+";"}}),a.fire("AfterPreviewFormats"),ws.remove(Z),C}function X1(a){var d,g,x,C,L,N,z=(C={},(L=function(Y,Q){Y&&(ot(Y)?(be(Q=It(Q)?Q:[Q],function(Z){ie(Z.deep)&&(Z.deep=!Ua(Z)),ie(Z.split)&&(Z.split=!Ua(Z)||$o(Z)),ie(Z.remove)&&Ua(Z)&&!$o(Z)&&(Z.remove="none"),Ua(Z)&&$o(Z)&&(Z.mixed=!0,Z.block_expand=!0),ot(Z.classes)&&(Z.classes=Z.classes.split(/\s+/))}),C[Y]=Q):En(Y,function(Z,rt){L(rt,Z)}))})((g=(d=a).dom,x={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},inherit:!1,preview:!1,defaultBlock:"div"},{selector:"img,table,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"img,table,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},inherit:!1,defaultBlock:"div",preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all",preserve_attributes:["class","style"]},{inline:"s",remove:"all",preserve_attributes:["class","style"]}],forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",defaultBlock:"p",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(Y,Q,Z){return ki(Y)&&Y.hasAttribute("href")},onformat:function(Y,Q,Z){vn.each(Z,function(rt,pt){g.setAttrib(Y,pt,rt)})}},lang:{inline:"span",clear_child_styles:!0,remove_similar:!0,attributes:{lang:"%value","data-mce-lang":function(Y){var Q;return null!==(Q=null==Y?void 0:Y.customValue)&&void 0!==Q?Q:null}}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]},vn.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd samp".split(/\s/),function(Y){x[Y]={block:Y,remove:"all"}}),x)),L(d.getParam("formats")),{get:function(Y){return Ft(Y)?C[Y]:C},has:function(Y){return Yi(C,Y)},register:L,unregister:function(Y){return Y&&C[Y]&&delete C[Y],C}}),q=ra(null);return function(Y){Y.addShortcut("meta+b","","Bold"),Y.addShortcut("meta+i","","Italic"),Y.addShortcut("meta+u","","Underline");for(var Q=1;Q<=6;Q++)Y.addShortcut("access+"+Q,"",["FormatBlock",!1,"h"+Q]);Y.addShortcut("access+7","",["FormatBlock",!1,"p"]),Y.addShortcut("access+8","",["FormatBlock",!1,"div"]),Y.addShortcut("access+9","",["FormatBlock",!1,"address"])}(a),(N=a).on("mouseup keydown",function(Y){var Q=N,Z=Y.keyCode,rt=Q.selection,pt=Q.getBody();h1(Q,null,!1),8!==Z&&46!==Z||!rt.isCollapsed()||rt.getStart().innerHTML!==Kp||h1(Q,Cd(pt,rt.getStart())),37!==Z&&39!==Z||h1(Q,Cd(pt,rt.getStart()))}),{get:z.get,has:z.has,register:z.register,unregister:z.unregister,apply:function(Y,Q,Z){var rt=Y,pt=Q,Ct=Z;aa(a).formatter.apply(rt,pt,Ct)},remove:function(Y,Q,Z,rt){var pt=Y,Ct=Q,wt=Z,kt=rt;aa(a).formatter.remove(pt,Ct,wt,kt)},toggle:function(Y,Q,Z){var rt=Y,pt=Q,Ct=Z;aa(a).formatter.toggle(rt,pt,Ct)},match:function(Y,Q,Z,rt){return pt=Y,Ct=Q,wt=Z,kt=rt,aa(a).formatter.match(pt,Ct,wt,kt);var pt,Ct,wt,kt},closest:function(Y){return Q=Y,aa(a).formatter.closest(Q);var Q},matchAll:function(Y,Q){return Z=Y,rt=Q,aa(a).formatter.matchAll(Z,rt);var Z,rt},matchNode:function(Y,Q,Z,rt){return pt=Y,Ct=Q,wt=Z,kt=rt,aa(a).formatter.matchNode(pt,Ct,wt,kt);var pt,Ct,wt,kt},canApply:function(Y){return Q=Y,aa(a).formatter.canApply(Q);var Q},formatChanged:function(Y,Q,Z,rt){return pt=q,Ct=Y,wt=Q,kt=Z,Ot=rt,aa(a).formatter.formatChanged(pt,Ct,wt,kt,Ot);var pt,Ct,wt,kt,Ot},getCssText:vt(Vu,a)}}function G1(a){switch(a.toLowerCase()){case"undo":case"redo":case"mcerepaint":case"mcefocus":return 1;default:return}}function q1(a){var d,g,x,C,L,N=yp(),z=ra(0),q=ra(0),Y={data:[],typing:!1,beforeChange:function(){var Z=z,rt=N;aa(a).undoManager.beforeChange(Z,rt)},add:function(Z,rt){return pt=Y,Ct=q,wt=z,kt=N,Ot=Z,jt=rt,aa(a).undoManager.add(pt,Ct,wt,kt,Ot,jt);var pt,Ct,wt,kt,Ot,jt},undo:function(){return Z=Y,rt=z,pt=q,aa(a).undoManager.undo(Z,rt,pt);var Z,rt,pt},redo:function(){return Z=q,rt=Y.data,aa(a).undoManager.redo(Z,rt);var Z,rt},clear:function(){var Z=Y,rt=q;aa(a).undoManager.clear(Z,rt)},reset:function(){var Z=Y;aa(a).undoManager.reset(Z)},hasUndo:function(){return Z=Y,rt=q,aa(a).undoManager.hasUndo(Z,rt);var Z,rt},hasRedo:function(){return Z=Y,rt=q,aa(a).undoManager.hasRedo(Z,rt);var Z,rt},transact:function(Z){return rt=Y,pt=z,Ct=Z,aa(a).undoManager.transact(rt,pt,Ct);var rt,pt,Ct},ignore:function(Z){var rt=z,pt=Z;aa(a).undoManager.ignore(rt,pt)},extra:function(Z,rt){var pt=Y,Ct=q,wt=Z,kt=rt;aa(a).undoManager.extra(pt,Ct,wt,kt)}};return hc(a)||(x=Y,C=z,L=ra(!1),(g=a).on("init",function(){x.add()}),g.on("BeforeExecCommand",function(Z){G1(Z.command)||(k1(x,C),x.beforeChange())}),g.on("ExecCommand",function(Z){G1(Z.command)||Q(Z)}),g.on("ObjectResizeStart cut",function(){x.beforeChange()}),g.on("SaveContent ObjectResized blur",Q),g.on("dragend",Q),g.on("keyup",function(Z){var rt=Z.keyCode;Z.isDefaultPrevented()||((33<=rt&&rt<=36||37<=rt&&rt<=40||45===rt||Z.ctrlKey)&&(Q(),g.nodeChanged()),46!==rt&&8!==rt||g.nodeChanged(),L.get()&&x.typing&&!1===Ff(Nm(g),x.data[0])&&(!1===g.isDirty()&&(g.setDirty(!0),g.fire("change",{level:x.data[0],lastLevel:null})),g.fire("TypingUndo"),L.set(!1),g.nodeChanged()))}),g.on("keydown",function(Z){var pt=Z.keyCode;Z.isDefaultPrevented()||(33<=pt&&pt<=36||37<=pt&&pt<=40||45===pt?x.typing&&Q(Z):!(pt<16||20<pt)||224===pt||91===pt||x.typing||Z.ctrlKey&&!Z.altKey||Z.metaKey||(x.beforeChange(),Vf(x,!0,C),x.add({},Z),L.set(!0)))}),g.on("mousedown",function(Z){x.typing&&Q(Z)}),g.on("input",function(Z){Z.inputType&&("insertReplacementText"===Z.inputType||"insertText"===Z.inputType&&null===Z.data||"insertFromPaste"===Z.inputType||"insertFromDrop"===Z.inputType)&&Q(Z)}),g.on("AddUndo Undo Redo ClearUndos",function(Z){Z.isDefaultPrevented()||g.nodeChanged()})),(d=a).addShortcut("meta+z","","Undo"),d.addShortcut("meta+y,meta+shift+z","","Redo"),Y;function Q(Z){Vf(x,!1,C),x.add({},Z)}}function Qm(a){return"keydown"===a.type||"keyup"===a.type}function D0(a){var d=a.keyCode;return d===_i.BACKSPACE||d===_i.DELETE}function Gf(a,d){return h(Qe.fromDom(d),a.getParam("inline_boundaries_selector","a[href],code,.mce-annotation","string"))}function Pa(a,d,g){var x,C,L=(x=a,C=d,Jt(sr.DOM.getParents(g.container(),"*",C),x));return ge.from(L[L.length-1])}function Ws(a,d){if(!d)return d;var g=d.container(),x=d.offset();return a?Da(g)?ri(g.nextSibling)?mn(g.nextSibling,0):mn.after(g):nt(d)?mn(g,x+1):d:Da(g)?ri(g.previousSibling)?mn(g.previousSibling,g.previousSibling.data.length):mn.before(g):bt(d)?mn(g,x-1):d}function Jm(a){return ba(a)||Po(a)}function ag(a,d){return A(a,d)?jl(d,Jm,(g=a,function(x){return _(g,Qe.fromDom(x.dom.parentNode))})):ge.none();var g}function E0(a){var d,g,x;a.dom.isEmpty(a.getBody())&&(a.setContent(""),x=(g=(d=a).getBody()).firstChild&&d.dom.isBlock(g.firstChild)?g.firstChild:g,d.selection.setCursorLocation(x,0))}function L0(a,d){return{from:a,to:d}}function P0(a,d){return ag(Qe.fromDom(a),Qe.fromDom(d.container())).map(function(g){return{block:g,position:d}})}function O0(a){var d,g=$e(d=Ta(a),$r).fold(ft(d),function(x){return d.slice(0,x)});return be(g,So),g}function Hd(a,d){return hn(Gc(d,a).reverse(),function(g){return li(g)}).each(So)}function N0(a,d,g,x){if(li(g))return Bu(g),cs(g.dom);0===Jt(Gs(x),function(L){return!li(L)}).length&&li(d)&&ha(x,Qe.fromTag("br"));var C=Pu(g.dom,mn.before(x.dom));return be(O0(d),function(L){ha(x,L)}),Hd(a,d),C}function MA(a,d,g){if(li(g))return So(g),li(d)&&Bu(d),cs(d.dom);var x=uc(g.dom);return be(O0(d),function(C){go(g,C)}),Hd(a,d),x}function iC(a,d){sc(a,d.dom).map(function(g){return g.getNode()}).map(Qe.fromDom).filter(wl).each(So)}function R0(a,d,g){return iC(!0,d),iC(!1,g),(A(C=g,x=d)?(L=Gc(x,C),ge.from(L[L.length-1])):ge.none()).fold(vt(MA,a,d,g),vt(N0,a,d,g));var x,C,L}function U1(a,d,g,x){return d?R0(a,x,g):R0(a,g,x)}function B0(a,d){var g,x,C,L,N,z,q,Y=Qe.fromDom(a.getBody()),Q=(g=Y.dom,x=d,((C=a.selection.getRng()).collapsed?(N=x,z=P0(L=g,mn.fromRangeStart(C)),q=z.bind(function(Z){return Vs(N,L,Z.position).bind(function(rt){return P0(L,rt).map(function(pt){return Ct=L,wt=N,Vr((kt=pt).position.getNode())&&!1===li(kt.block)?sc(!1,kt.block.dom).bind(function(Ot){return Ot.isEqual(kt.position)?Vs(wt,Ct,Ot).bind(function(jt){return P0(Ct,jt)}):ge.some(kt)}).getOr(kt):kt;var Ct,wt,kt})})}),wo(z,q,L0).filter(function(Z){return!1===_(Z.from.block,Z.to.block)&&_o((pt=Z).from.block).bind(function(Ct){return _o(pt.to.block).filter(function(wt){return _(Ct,wt)})}).isSome()&&!1===Hr((rt=Z).from.block.dom)&&!1===Hr(rt.to.block.dom);var rt,pt})):ge.none()).bind(function(Z){return U1(Y,d,Z.from.block,Z.to.block)}));return Q.each(function(Z){a.selection.setRng(Z.toRange())}),Q.isSome()}function z0(a,d){var g=Qe.fromDom(d),x=vt(_,a);return Ls(g,Ha,x).isSome()}function sg(a,d){return!a.selection.isCollapsed()&&function(a){var d,g,x,C,L,N,z,q,Y,Q,Z=Qe.fromDom(a.getBody()),rt=a.selection.getRng();return Y=Pu((L=Z).dom,mn.fromRangeStart(N=rt)).isNone(),Q=Lu(L.dom,mn.fromRangeEnd(N)).isNone(),!z0(z=L,(q=N).startContainer)&&!z0(z,q.endContainer)&&Y&&Q?((C=a).setContent(""),C.selection.setCursorLocation(),!0):(d=Z,x=(g=a.selection).getRng(),wo(ag(d,Qe.fromDom(x.startContainer)),ag(d,Qe.fromDom(x.endContainer)),function(pt,Ct){return!1===_(pt,Ct)&&(x.deleteContents(),U1(d,!0,pt,Ct).each(function(wt){g.setRng(wt.toRange())}),!0)}).getOr(!1))}(a)}function fc(a,d,g,x,C){return ge.from(d._selectionOverrides.showCaret(a,g,x,C))}function qf(a,d){var g,x;return a.fire("BeforeObjectSelected",{target:d}).isDefaultPrevented()?ge.none():ge.some(((x=(g=d).ownerDocument.createRange()).selectNode(g),x))}function Z1(a,d,g){var x=tm(1,a.getBody(),d),C=mn.fromRangeStart(x),L=C.getNode();if(Eh(L))return fc(1,a,L,!C.isAtEnd(),!1);var N=C.getNode(!0);if(Eh(N))return fc(1,a,N,!1,!1);var z=a.dom.getParent(C.getNode(),function(q){return th(q)||Jc(q)});return Eh(z)?fc(1,a,z,!1,g):ge.none()}function lg(a,d,g){return d.collapsed?Z1(a,d,g).getOr(d):d}function pc(a){return Fh(a)||Gp(a)}function rC(a){return Vh(a)||qp(a)}function K1(a,d,g,x,C,L){var N,z;return fc(x,a,L.getNode(!C),C,!0).each(function(q){var Y;d.collapsed?(Y=d.cloneRange(),C?Y.setEnd(q.startContainer,q.startOffset):Y.setStart(q.endContainer,q.endOffset),Y.deleteContents()):d.deleteContents(),a.selection.setRng(q)}),N=a.dom,ri(z=g)&&0===z.data.length&&N.remove(z),!0}function gc(a,d){var g=a.selection.getRng();if(!ri(g.commonAncestorContainer))return!1;var x=d?Fr.Forwards:Fr.Backwards,C=Iu(a.getBody()),L=vt(ub,d?C.next:C.prev),N=d?pc:rC,z=cl(x,a.getBody(),g),q=Ws(d,L(z));if(!q||!ly(z,q))return!1;if(N(q))return K1(a,g,z.getNode(),x,d,q);var Y=L(q);return!!(Y&&N(Y)&&ly(q,Y))&&K1(a,g,z.getNode(),x,d,Y)}function Q1(a,d,g){return Vs(d,a,g).bind(function(x){return Z=x.getNode(),Ha(Qe.fromDom(Z))||Po(Qe.fromDom(Z))||(z=a,Q=x,em(!(q=d),Y=g).fold(function(){return em(q,Q).fold(tn,rt)},rt))?ge.none():d&&Hr(x.getNode())||!1===d&&Hr(x.getNode(!0))?(C=a,L=g,N=x.getNode(!1===d),ag(Qe.fromDom(C),Qe.fromDom(L.getNode())).map(function(pt){return li(pt)?su.remove(pt.dom):su.moveToElement(N)}).orThunk(function(){return ge.some(su.moveToElement(N))})):d&&Vh(g)||!1===d&&Fh(g)?ge.some(su.moveToPosition(x)):ge.none();var C,L,N,z,q,Y,Q,Z;function rt(pt){return Ia(Qe.fromDom(pt))&&!zc(Y,Q,z)}})}function F0(a,d){return ge.from(jc(a.getBody(),d))}function J1(a,d){var g=a.selection.getNode();return F0(a,g).filter(Hr).fold(function(){return Z=a.getBody(),pt=tm((rt=d)?1:-1,Z,a.selection.getRng()),Ct=mn.fromRangeStart(pt),wt=Qe.fromDom(Z),(!1===rt&&Vh(Ct)?ge.some(su.remove(Ct.getNode(!0))):rt&&Fh(Ct)?ge.some(su.remove(Ct.getNode())):!1===rt&&Fh(Ct)&&Yy(wt,Ct)?vA(wt,Ct).map(function(kt){return su.remove(kt.getNode())}):rt&&Vh(Ct)&&jy(wt,Ct)?CS(wt,Ct).map(function(kt){return su.remove(kt.getNode())}):(x=Z,C=rt,Y=(L=Ct).getNode(!1===(q=C)),Q=q?"after":"before",ki(Y)&&Y.getAttribute("data-mce-caret")===Q?(z=L.getNode(!1===(N=C)),(N&&Hr(z.nextSibling)?ge.some(su.moveToElement(z.nextSibling)):!1===N&&Hr(z.previousSibling)?ge.some(su.moveToElement(z.previousSibling)):ge.none()).fold(function(){return Q1(x,C,L)},ge.some)):Q1(x,C,L).bind(function(kt){return Ot=x,jt=L,kt.fold(function(Qt){return ge.some(su.remove(Qt))},function(Qt){return ge.some(su.moveToElement(Qt))},function(Qt){return zc(jt,Qt,Ot)?ge.none():ge.some(su.moveToPosition(Qt))});var Ot,jt}))).exists(function(kt){return kt.fold(function(te){return Se._selectionOverrides.hideFakeCaret(),Pf(Se,Be,Qe.fromDom(te)),!0},(Qt=Be=d,function(te){var pe=Qt?mn.before(te):mn.after(te);return jt.selection.setRng(pe.toRange()),!0}),(Ot=jt=Se=a,function(te){return Ot.selection.setRng(te.toRange()),!0}));var Ot,jt,Qt,Se,Be});var x,C,L,N,z,q,Y,Q,Z,rt,pt,Ct,wt},on)}function oC(a,d){var g=a.selection.getNode();return!(!Hr(g)||yh(g))&&F0(a,g.parentNode).filter(Hr).fold(function(){return be(ul(Qe.fromDom(a.getBody()),".mce-offscreen-selection"),So),Pf(a,d,Qe.fromDom(a.selection.getNode())),E0(a),!0},on)}function t_(a){var d,g=a.dom,x=a.selection,C=jc(a.getBody(),x.getNode());return xa(C)&&g.isBlock(C)&&g.isEmpty(C)&&(d=g.create("br",{"data-mce-bogus":"1"}),g.setHTML(C,""),C.appendChild(d),x.setRng(mn.before(d).toRange())),!0}function tv(a,d){return(a.selection.isCollapsed()?J1:oC)(a,d)}function V0(a,d){return!!a.selection.isCollapsed()&&(x=d,C=mn.fromRangeStart((g=a).selection.getRng()),Vs(x,g.getBody(),C).filter(function(L){return(x?xS:bS)(L)}).bind(function(L){return ge.from(us(x?0:-1,L))}).exists(function(L){return g.selection.select(L),!0}));var g,x,C}function $i(a){return Yd(a)&&a.data[0]===Ai}function ug(a){return Yd(a)&&a.data[a.data.length-1]===Ai}function e_(a){return a.ownerDocument.createTextNode(Ai)}function Hu(a,d){return(a?function(g){if(Yd(g.previousSibling))return ug(g.previousSibling)||g.previousSibling.appendData(Ai),g.previousSibling;if(Yd(g))return $i(g)||g.insertData(0,Ai),g;var x=e_(g);return g.parentNode.insertBefore(x,g),x}:function(g){if(Yd(g.nextSibling))return $i(g.nextSibling)||g.nextSibling.insertData(0,Ai),g.nextSibling;if(Yd(g))return ug(g)||g.appendData(Ai),g;var x=e_(g);return g.nextSibling?g.parentNode.insertBefore(x,g.nextSibling):g.parentNode.appendChild(x),x})(d)}function aC(a,d){return ri(a.container())?Hu(d,a.container()):Hu(d,a.getNode())}function H0(a,d){var g=d.get();return g&&a.container()===g&&Da(g)}function cg(a,d){return d.fold(function(g){La(a.get());var x=DA(g);return a.set(x),ge.some(mn(x,x.length-1))},function(g){return cs(g).map(function(x){if(H0(x,a))return mn(a.get(),1);La(a.get());var C=aC(x,!0);return a.set(C),mn(C,1)})},function(g){return uc(g).map(function(x){if(H0(x,a))return mn(a.get(),a.get().length-1);La(a.get());var C=aC(x,!1);return a.set(C),mn(C,C.length-1)})},function(g){La(a.get());var x=fC(g);return a.set(x),ge.some(mn(x,1))})}function ev(a,d){for(var g=0;g<a.length;g++){var x=a[g].apply(null,d);if(x.isSome())return x}return ge.none()}function sC(a,d){return nu(d,a)||a}function TA(a,d,g){var x=Qc(g),C=sC(d,x.container());return Pa(a,C,x).fold(function(){return Lu(C,x).bind(vt(Pa,a,C)).map(function(L){return Ss.before(L)})},ge.none)}function lC(a,d){return null===Cd(a,d)}function n_(a,d,g){return Pa(a,d,g).filter(vt(lC,d))}function uC(a,d,g){var x=X0(g);return n_(a,d,x).bind(function(C){return Pu(C,x).isNone()?ge.some(Ss.start(C)):ge.none()})}function cC(a,d,g){var x=Qc(g);return n_(a,d,x).bind(function(C){return Lu(C,x).isNone()?ge.some(Ss.end(C)):ge.none()})}function hC(a,d,g){var x=X0(g),C=sC(d,x.container());return Pa(a,C,x).fold(function(){return Pu(C,x).bind(vt(Pa,a,C)).map(function(L){return Ss.after(L)})},ge.none)}function i_(a){return d=G0(a),!1===("rtl"===sr.DOM.getStyle(d,"direction",!0)||dC.test(d.textContent));var d}function au(a,d,g){return ev([TA,uC,cC,hC],[a,d,g]).filter(i_)}function hg(a){return a.fold(ft("before"),ft("start"),ft("end"),ft("after"))}function Wd(a){return a.fold(Ss.before,Ss.before,Ss.after,Ss.after)}function nv(a){return a.fold(Ss.start,Ss.start,Ss.end,Ss.end)}function W0(a,d,g,x,C,L){return wo(Pa(d,g,x),Pa(d,g,C),function(N,z){return N!==z&&(Y=z,Q=nu(N,q=g),Z=nu(Y,q),Q&&Q===Z)?Ss.after(a?N:z):L;var q,Y,Q,Z}).getOr(L)}function r_(a,d){return a.fold(on,function(g){return C=d,!(hg(x=g)===hg(C)&&G0(x)===G0(C));var x,C})}function iv(a,d){return a?d.fold(gt(ge.some,Ss.start),ge.none,gt(ge.some,Ss.after),ge.none):d.fold(ge.none,gt(ge.some,Ss.before),ge.none,gt(ge.some,Ss.end))}function Kc(a,d,g,x){var C=Ws(a,x),L=au(d,g,C);return au(d,g,C).bind(vt(iv,a)).orThunk(function(){return z=d,q=g,Y=L,Q=Ws(N=a,x),Vs(N,q,Q).map(vt(Ws,N)).fold(function(){return Y.map(Wd)},function(Z){return au(z,q,Z).map(vt(W0,N,z,q,Q,Z)).filter(vt(r_,Y))}).filter(i_);var N,z,q,Y,Q})}function j0(a){for(var d=[],g=1;g<arguments.length;g++)d[g-1]=arguments[g];var x=window.console;x&&(x.error||x.log).apply(x,oo([a],d,!1))}var Hh,jd,_s=function(a,d){var g=a.editorManager.baseURL+"/skins/content",x="content"+a.editorManager.suffix+".css",C=!0===a.inline;return ze(d,function(L){return/^[a-z0-9\-]+$/i.test(L)&&!C?g+"/"+L+"/"+x:a.documentBaseURI.toAbsolute(L)})},dg=0,Y0=vn.each,ws=sr.DOM,IA=[9,27,_i.HOME,_i.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,_i.DOWN,_i.UP,_i.LEFT,_i.RIGHT].concat(Ci.browser.isFirefox()?[224]:[]),Uf="data-mce-placeholder",dC=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,Qc=vt(Ws,!0),X0=vt(Ws,!1),Jc=xa,th=Hr,su=Fa([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),Yd=ri,DA=vt(Hu,!0),fC=vt(Hu,!1),Ss=Fa([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),G0=function(a){return a.fold(St,St,St,St)};function o_(a,d,g){var x=a?1:-1;return d.setRng(mn(g.container(),g.offset()+x).toRange()),d.getSel().modify("move",a?"forward":"backward","word"),!0}function $f(a,d){return a===Fr.Backwards?hi(d):d}function rv(a,d,g,x){for(var C,L,N,z,q=Iu(g),Y=x,Q=[];Y;){var Z=(N=q,z=Y,d===Fr.Forwards?N.next(z):N.prev(z));if(!Z)break;if(Vr(Z.getNode(!1)))return d===Fr.Forwards?{positions:$f(d,Q).concat([Z]),breakType:Hh.Br,breakAt:ge.some(Z)}:{positions:$f(d,Q),breakType:Hh.Br,breakAt:ge.some(Z)};if(Z.isVisible()){if(a(Y,Z)){var rt=(C=Y,Vr((L=Z).getNode(d===Fr.Forwards))?Hh.Br:!1===zc(C,L)?Hh.Block:Hh.Wrap);return{positions:$f(d,Q),breakType:rt,breakAt:ge.some(Z)}}Q.push(Z),Y=Z}else Y=Z}return{positions:$f(d,Q),breakType:Hh.Eol,breakAt:ge.none()}}function ov(a,d,g,x){return d(g,x).breakAt.map(function(C){var L=d(g,C).positions;return a===Fr.Backwards?L.concat(C):[C].concat(L)}).getOr([])}function fg(a,d){return Ke(a,function(g,x){return g.fold(function(){return ge.some(x)},function(C){return wo(fn(C.getClientRects()),fn(x.getClientRects()),function(L,N){var z=Math.abs(d-L.left);return Math.abs(d-N.left)<=z?x:C}).or(g)})},ge.none())}function Xd(a,d){return fn(d.getClientRects()).bind(function(g){return fg(a,g.left)})}function Zf(a){function d(x){return ze(x,function(C){var L=gd(C);return L.node=a,L})}if(ki(a))return d(a.getClientRects());if(ri(a)){var g=a.ownerDocument.createRange();return g.setStart(a,0),g.setEnd(a,a.data.length),d(g.getClientRects())}}function av(a){return ti(a,Zf)}vt(Kc,!1),vt(Kc,!0),(jd=Hh={})[jd.Br=0]="Br",jd[jd.Block=1]="Block",jd[jd.Wrap=2]="Wrap",jd[jd.Eol=3]="Eol";var Wh,pg,Kf=vt(rv,mn.isAbove,-1),gg=vt(rv,mn.isBelow,1),a_=vt(ov,-1,Kf),pC=vt(ov,1,gg);function s_(a,d,g,x,C,L){function N(Z){var rt=av([Z]);-1===a&&(rt=rt.reverse());for(var pt=0;pt<rt.length;pt++){var Ct=rt[pt];if(!g(Ct,Y)){if(0<q.length&&d(Ct,Mr(q))&&z++,Ct.line=z,C(Ct))return!0;q.push(Ct)}}}var z=0,q=[],Y=Mr(L.getClientRects());if(!Y)return q;var Q=L.getNode();return N(Q),function(Z,rt,pt,Ct){for(;Ct=Tu(Ct,Z,wn,rt);)if(pt(Ct))return}(a,x,N,Q),q}function l_(a){return function(d){return d.line>a}}function u_(a){return function(d){return d.line===a}}function q0(a,d){return Math.abs(a.left-d)}function U0(a,d){return Math.abs(a.right-d)}function c_(a,d){return a>=d.left&&a<=d.right}function h_(a,d){return a>=d.top&&a<=d.bottom}function Qf(a,d,g){return void 0===g&&(g=on),Fo(a,function(x,C){if(c_(d,C))return g(C)?C:x;if(c_(d,x))return g(x)?x:C;var L=Math.min(q0(x,d),U0(x,d)),N=Math.min(q0(C,d),U0(C,d));return N===L&&nr(C,"node")&&HC(C.node)||N<L?C:x})}function gC(a,d,g,x,C){var L=M_(x,a,wn,d,!C);do{if(!L||g(L))return}while(L=M_(L,a,wn,d))}function jh(a,d){a.selection.setRng(d),Ou(a,a.selection.getRng())}function $0(a,d,g){return ge.some(lg(a,d,g))}function mC(a,d,g,x,C,L){var N=d===Fr.Forwards,z=Iu(a.getBody()),q=vt(ub,N?z.next:z.prev),Y=N?x:C;if(!g.collapsed){var Q=ff(g);if(L(Q))return fc(d,a,Q,d===Fr.Backwards,!1)}var Z=cl(d,a.getBody(),g);if(Y(Z))return qf(a,Z.getNode(!N));var rt=Ws(N,q(Z)),pt=We(g);if(!rt)return pt?ge.some(g):ge.none();if(Y(rt))return fc(d,a,rt.getNode(!N),N,!1);var Ct=q(rt);return Ct&&Y(Ct)&&ly(rt,Ct)?fc(d,a,Ct.getNode(!N),N,!1):pt?$0(a,rt.toRange(),!1):ge.none()}function vC(a,d,g,x,C,L){var N=cl(d,a.getBody(),g),z=Mr(N.getClientRects()),q=d===Wh.Down;if(!z)return ge.none();var Y,Q=Jt((q?VC:nx)(a.getBody(),l_(1),N),u_(1)),Z=z.left,rt=Qf(Q,Z);if(rt&&L(rt.node)){var pt=Math.abs(Z-rt.left),Ct=Math.abs(Z-rt.right);return fc(d,a,rt.node,pt<Ct,!1)}if(Y=x(N)?N.getNode():C(N)?N.getNode(!0):ff(g)){var wt=function(Ot,jt,Qt,Se){function Be(pn){return Mr(pn.getClientRects())}var te,pe,ke,Ge=Iu(jt),nn=[],ln=0,Ve=1===Ot?(te=Ge.next,pe=xp,ke=Rc,mn.after(Se)):(te=Ge.prev,pe=Rc,ke=xp,mn.before(Se)),qe=Be(Ve);do{if(Ve.isVisible()){var je=Be(Ve);if(!ke(je,qe)){0<nn.length&&pe(je,Mr(nn))&&ln++;var Ze=gd(je);if(Ze.position=Ve,Ze.line=ln,Qt(Ze))return nn;nn.push(Ze)}}}while(Ve=te(Ve));return nn}(d,a.getBody(),l_(1),Y),kt=Qf(Jt(wt,u_(1)),Z);if(kt||(kt=Mr(Jt(wt,u_(0)))))return $0(a,kt.position.toRange(),!1)}return 0===Q.length?ih(a,q).filter(q?C:x).map(function(Ot){return lg(a,Ot.toRange(),!1)}):ge.none()}function d_(a,d,g){return ih(a,d).filter(g).exists(function(x){return a.selection.setRng(x.toRange()),!0})}function Gd(a,d){var g=a.dom.createRng();g.setStart(d.container(),d.offset()),g.setEnd(d.container(),d.offset()),a.selection.setRng(g)}function yC(a,d){a?d.setAttribute("data-mce-selected","inline-boundary"):d.removeAttribute("data-mce-selected")}function xC(a,d,g){return cg(d,g).map(function(x){return Gd(a,x),g})}function bC(a,d,g){return!!Jg(a)&&(C=d,L=g,N=(x=a).getBody(),z=mn.fromRangeStart(x.selection.getRng()),Kc(L,vt(Gf,x),N,z).bind(function(q){return xC(x,C,q)}).isSome());var x,C,L,N,z}function sv(a,d,g){return!!Jg(d)&&(x=a,L=(C=d).selection.getRng(),N=x?mn.fromRangeEnd(L):mn.fromRangeStart(L),!!Pt(C.selection.getSel().modify)&&(x&&nt(N)?o_(!0,C.selection,N):!(x||!bt(N))&&o_(!1,C.selection,N)));var x,C,L,N}function mg(a,d,g){if(Jg(a)){var x=ih(a,d).getOrThunk(function(){var C=a.selection.getRng();return d?mn.fromRangeEnd(C):mn.fromRangeStart(C)});return au(vt(Gf,a),a.getBody(),x).exists(function(C){var L=Wd(C);return cg(g,L).exists(function(N){return Gd(a,N),!0})})}return!1}function f_(a,d){return function(g){return cg(d,g).exists(function(x){return Gd(a,x),!0})}}function lv(a,d,g,x){var C=a.getBody(),L=vt(Gf,a);a.undoManager.ignore(function(){var N,z,q;a.selection.setRng((N=g,z=x,(q=document.createRange()).setStart(N.container(),N.offset()),q.setEnd(z.container(),z.offset()),q)),a.execCommand("Delete"),au(L,C,mn.fromRangeStart(a.selection.getRng())).map(nv).map(f_(a,d))}),a.nodeChanged()}function Z0(a,d,g){if(a.selection.isCollapsed()&&Jg(a)){var x=mn.fromRangeStart(a.selection.getRng());return L=d,N=g,z=x,q=(C=a).getBody(),Y=nu(z.container(),q)||q,Q=vt(Gf,C),(Z=au(Q,Y,z)).bind(function(rt){return N?rt.fold(ft(ge.some(nv(rt))),ge.none,ft(ge.some(Wd(rt))),ge.none):rt.fold(ge.none,ft(ge.some(Wd(rt))),ge.none,ft(ge.some(nv(rt))))}).map(f_(C,L)).getOrThunk(function(){var rt=ro(N,Y,z),pt=rt.bind(function(Ct){return au(Q,Y,Ct)});return wo(Z,pt,function(){return Pa(Q,Y,z).exists(function(Ct){return!!wo(cs(wt=Ct),uc(wt),function(kt,Ot){var jt=Ws(!0,kt),Qt=Ws(!1,Ot);return Lu(wt,jt).forall(function(Se){return Se.isEqual(Qt)})}).getOr(!0)&&(Pf(C,N,Qe.fromDom(Ct)),!0);var wt})}).orThunk(function(){return pt.bind(function(Ct){return rt.map(function(wt){return N?lv(C,L,z,wt):lv(C,L,wt,z),!0})})}).getOr(!1)})}var C,L,N,z,q,Y,Q,Z;return!1}function LA(a){return 1===qs(a)}function uv(a,d){return!!a.selection.isCollapsed()&&function(a,d){var g,x=Qe.fromDom(a.getBody()),C=Qe.fromDom(a.selection.getStart()),L=Jt($e(g=Gc(C,x),$r).fold(ft(g),function(N){return g.slice(0,N)}),LA);return On(L).exists(function(N){var z,q,Y,Q,Z,rt,pt,Ct,wt,kt=mn.fromRangeStart(a.selection.getRng()),Ot=d,jt=kt,Qt=N.dom;return!(!wo(cs(Qt),uc(Qt),function(Se,Be){var te=Ws(!0,Se),pe=Ws(!1,Be),ke=Ws(!1,jt);return Ot?Lu(Qt,ke).exists(function(Ge){return Ge.isEqual(pe)&&jt.isEqual(te)}):Pu(Qt,ke).exists(function(Ge){return Ge.isEqual(te)&&jt.isEqual(pe)})}).getOr(!0)||vs((z=N).dom)&&Lm(z.dom)||(q=d,Q=N,0===(wt=ze(Jt(L,vt(co,Y=a)),function(Se){return Se.dom})).length?Pf(Y,q,Q):(rt=Q.dom,Ct=d1(wt,(pt=o0(!1)).dom),ha(Qe.fromDom(rt),pt),So(Qe.fromDom(rt)),Z=mn(Ct,0),Y.selection.setRng(Z.toRange())),0))})}(a,d)}function qd(a,d,g){return a._selectionOverrides.hideFakeCaret(),Pf(a,d,Qe.fromDom(g)),!0}function cv(a,d){return a.selection.isCollapsed()?(z=(N=d)?Gp:qp,Y=cl(N?Fr.Forwards:Fr.Backwards,(L=a).getBody(),L.selection.getRng()),z(Y)?qd(L,N,Y.getNode(!N)):ge.from(Ws(N,Y)).filter(function(Q){return z(Q)&&ly(Y,Q)}).exists(function(Q){return qd(L,N,Q.getNode(!N))})):(x=d,C=(g=a).selection.getNode(),!!os(C)&&qd(g,x,C));var g,x,C,L,N,z,Y}function eh(a){var d=parseInt(a,10);return isNaN(d)?0:d}function vg(a,d){return(a||"table"===pr(d)?"margin":"padding")+("rtl"===rs(d,"direction")?"-right":"-left")}function yg(a){var d,g=xv(a);return!a.mode.isReadOnly()&&(1<g.length||(d=a,ui(g,function(x){var C=ph(x,vg(Sp(d),x)).map(eh).getOr(0);return"false"!==d.dom.getContentEditable(x.dom)&&0<C})))}function K0(a){return uo(a)||Po(a)}function _C(a,d){var g=a.dom,x=a.selection,C=a.formatter,L=a.getParam("indentation","40px","string"),N=/[a-z%]+$/i.exec(L)[0],z=parseInt(L,10),q=Sp(a),Y=Ga(a);a.queryCommandState("InsertUnorderedList")||a.queryCommandState("InsertOrderedList")||""!==Y||g.getParent(x.getNode(),g.isBlock)||C.apply("div"),be(xv(a),function(Q){var Z,rt=g,pt=d,Ct=z,wt=N,kt=Q.dom,Ot=vg(q,Qe.fromDom(kt));"outdent"===pt?(Z=Math.max(0,eh(kt.style[Ot])-Ct),rt.setStyle(kt,Ot,Z?Z+wt:"")):(Z=eh(kt.style[Ot])+Ct+wt,rt.setStyle(kt,Ot,Z))})}function Q0(a,d){if(a.selection.isCollapsed()&&yg(a)){var g=a.dom,x=a.selection.getRng(),C=mn.fromRangeStart(x),L=g.getParent(x.startContainer,g.isBlock);if(null!==L&&Nf(Qe.fromDom(L),C))return _C(a,"outdent"),!0}return!1}function p_(a,d){a.getDoc().execCommand(d,!1,null)}function hv(a){return void 0===a.touches||1!==a.touches.length?ge.none():ge.some(a.touches[0])}function Ud(a,d){return Yi(a,d.nodeName)}function OA(a){var d,g,x,C=a.dom,L=a.selection,N=a.schema,z=N.getBlockElements(),q=L.getStart(),Y=a.getBody(),Q=Ga(a);if(q&&ki(q)&&Q){var Z=Y.nodeName.toLowerCase();if(N.isValidChild(Z,Q.toLowerCase())&&(rt=z,pt=Y,!Ae(Xb(Qe.fromDom(q),Qe.fromDom(pt)),function(pe){return Ud(rt,pe.dom)}))){var rt,pt,wt,kt,Ot=L.getRng(),jt=Ot.startContainer,Qt=Ot.startOffset,Se=Ot.endContainer,Be=Ot.endOffset,te=Nd(a);for(q=Y.firstChild;q;)wt=z,ri(kt=q)||ki(kt)&&!Ud(wt,kt)&&!Al(kt)?function(ke,Ge){if(ri(Ge)&&(0===Ge.nodeValue.length||/^\s+$/.test(Ge.nodeValue)&&(!Ge.nextSibling||Ud(ke,Ge.nextSibling))))return 1}(z,q)?(q=(g=q).nextSibling,C.remove(g)):(d||(d=C.create(Q,Zg(a)),q.parentNode.insertBefore(d,q),x=!0),q=(g=q).nextSibling,d.appendChild(g)):(d=null,q=q.nextSibling);x&&te&&(Ot.setStart(jt,Qt),Ot.setEnd(Se,Be),L.setRng(Ot),a.nodeChanged())}}}function wC(a,d){d.hasAttribute("data-mce-caret")&&(Me(d),a.selection.setRng(a.selection.getRng()),a.selection.scrollIntoView(d))}function NA(a,d){var g=Xi(Qe.fromDom(a.getBody()),"*[data-mce-caret]").map(function(x){return x.dom}).getOrNull();if(g)return"compositionstart"===d.type?(d.preventDefault(),d.stopPropagation(),void wC(a,g)):void(ue(g)&&(wC(a,g),a.undoManager.add()))}function SC(a,d,g){var x,C,L,N=Iu(a.getBody()),z=vt(ub,1===d?N.next:N.prev);!g.collapsed||""===Ga(a)||(x=a.dom.getParent(g.startContainer,"PRE"))&&(z(mn.fromRangeStart(g))||(L=a.dom.create(Ga(a)),(!Ci.ie||11<=Ci.ie)&&(L.innerHTML='<br data-mce-bogus="1">'),C=L,1===d?a.$(x).after(C):a.$(x).before(C),a.selection.select(C,!0),a.selection.collapse()))}function CC(a,d){return x=d?Fr.Forwards:Fr.Backwards,C=(g=a).selection.getRng(),mC(g,x,C,Fh,Vh,rh).orThunk(function(){return SC(g,x,C),ge.none()}).exists(function(L){return jh(a,L),!0});var g,x,C}function kC(a,d){return x=d?1:-1,C=(g=a).selection.getRng(),vC(g,x,C,function(L){return Fh(L)||_S(L)},function(L){return Vh(L)||Pm(L)},rh).orThunk(function(){return SC(g,x,C),ge.none()}).exists(function(L){return jh(a,L),!0});var g,x,C}function AC(a,d){return d_(a,d,d?Vh:Fh)}function dv(a){return oe(["figcaption"],pr(a))}function MC(a){var d=document.createRange();return d.setStartBefore(a.dom),d.setEndBefore(a.dom),d}function TC(a,d,g){(g?go:vl)(a,d)}function g_(a,d){return!!a.selection.isCollapsed()&&function(a,d){var g=Qe.fromDom(a.getBody()),x=mn.fromRangeStart(a.selection.getRng()),C=Ga(a),L=Zg(a),N=x,z=vt(_,g);return jl(Qe.fromDom(N.container()),$r,z).filter(dv).exists(function(){if(Se=g,Be=x,d?gg(Se.dom,Be).breakAt.isNone():Kf(Se.dom,Be).breakAt.isNone()){var q=(Y=g,Z=L,rt=d,""===(Q=C)?(jt=rt,TC(Y,Qt=Qe.fromTag("br"),jt),MC(Qt)):(pt=Y,Ct=rt,wt=Z,kt=Qe.fromTag(Q),Ot=Qe.fromTag("br"),Es(kt,wt),go(kt,Ot),TC(pt,kt,Ct),MC(Ot)));return a.selection.setRng(q),!0}var Y,Q,Z,rt,pt,Ct,wt,kt,Ot,jt,Qt,Se,Be;return!1})}(a,d)}function tr(a){for(var d=[],g=1;g<arguments.length;g++)d[g-1]=arguments[g];return function(){return a.apply(null,d)}}function Jf(a,d){return hn((g=d,ti(ze(a,function(x){return gi({shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0,action:Nt},x)}),function(x){return g.keyCode===x.keyCode&&g.shiftKey===x.shiftKey&&g.altKey===x.altKey&&g.ctrlKey===x.ctrlKey&&g.metaKey===x.metaKey?[x]:[]})),function(x){return x.action()});var g}function m_(a,d){var g=d?Fr.Forwards:Fr.Backwards,x=a.selection.getRng();return mC(a,g,x,Gp,qp,os).exists(function(C){return jh(a,C),!0})}function v_(a,d){var g=d?1:-1,x=a.selection.getRng();return vC(a,g,x,Gp,qp,os).exists(function(C){return jh(a,C),!0})}function y_(a,d){return d_(a,d,d?qp:Gp)}function lu(a,d,g,x,C){var L,N=ul(Qe.fromDom(g),"td,th,caption").map(function(Q){return Q.dom}),z=Jt((L=a,ti(N,function(Q){var Z,rt={left:(Z=gd(Q.getBoundingClientRect())).left- -1,top:Z.top- -1,right:Z.right+-2,bottom:Z.bottom+-2,width:Z.width+-1,height:Z.height+-1};return[{x:rt.left,y:L(rt),cell:Q},{x:rt.right,y:L(rt),cell:Q}]})),function(Q){return d(Q,C)}),q=x,Y=C;return Ke(z,function(Q,Z){return Q.fold(function(){return ge.some(Z)},function(rt){var pt=Math.sqrt(Math.abs(rt.x-q)+Math.abs(rt.y-Y)),Ct=Math.sqrt(Math.abs(Z.x-q)+Math.abs(Z.y-Y));return ge.some(Ct<pt?Z:rt)})},ge.none()).map(function(Q){return Q.cell})}function x_(a,d,g){var x,C,L=a(d,g);return L.breakType===Hh.Wrap&&0===L.positions.length||!Vr(g.getNode())&&L.breakType===Hh.Br&&1===L.positions.length?(x=a,C=d,!L.breakAt.exists(function(N){return x(C,N).breakAt.isSome()})):L.breakAt.isNone()}function fv(a,d,g,x){var C,L,N,z=a.selection.getRng(),q=d?1:-1;return!(!kp()||(C=d,L=g,N=mn.fromRangeStart(z),!sc(!C,L).exists(function(Y){return Y.isEqual(N)}))||(fc(q,a,g,!d,!1).each(function(Y){jh(a,Y)}),0))}function $d(a,d,g){var C,L=(C=g.getNode(!!d),ki(C)&&"TABLE"===C.nodeName?ge.some(C):ge.none()),N=!1===d;L.fold(function(){return jh(a,g.toRange())},function(z){return sc(N,a.getBody()).filter(function(q){return q.isEqual(g)}).fold(function(){return jh(a,g.toRange())},function(q){var Y,Q,Z=d,rt=z,pt=g;(Q=Ga(Y=a))?Y.undoManager.transact(function(){var Ct=Qe.fromTag(Q);Es(Ct,Zg(Y)),go(Ct,Qe.fromTag("br")),(Z?ml:ha)(Qe.fromDom(rt),Ct);var wt=Y.dom.createRng();wt.setStart(Ct.dom,0),wt.setEnd(Ct.dom,0),jh(Y,wt)}):jh(Y,pt.toRange())})})}function RA(a,d,g,x){var C,L,N,z,q,Y,Q,Z,rt,pt,Ct=a.selection.getRng(),wt=mn.fromRangeStart(Ct),kt=a.getBody();if(d||!Bo(x,wt))return!(!d||!I_(x,wt)||(C=kt,rt=L=g,$d(a,d,Ot=On((pt=N=wt).getClientRects()).bind(function(jt){return T_(rt,jt.left,jt.top)}).bind(function(jt){return Xd(cs(Qt=jt).map(function(Se){return[Se].concat(gg(Qt,Se).positions)}).getOr([]),pt);var Qt}).orThunk(function(){return fn(N.getClientRects()).bind(function(jt){return fg(pC(C,mn.after(L)),jt.left)})}).getOr(mn.after(L))),0));var Ot=(z=kt,Q=q=g,fn((Z=Y=wt).getClientRects()).bind(function(jt){return jC(Q,jt.left,jt.top)}).bind(function(jt){return Xd(uc(Qt=jt).map(function(Se){return Kf(Qt,Se).positions.concat(Se)}).getOr([]),Z);var Qt}).orThunk(function(){return fn(Y.getClientRects()).bind(function(jt){return fg(a_(z,mn.before(q)),jt.left)})}).getOr(mn.before(q)));return $d(a,d,Ot),!0}function DC(a,d,g){return ge.from(a.dom.getParent(a.selection.getNode(),"td,th")).bind(function(x){return ge.from(a.dom.getParent(x,"table")).map(function(C){return g(a,d,C,x)})}).getOr(!1)}function EC(a,d){return DC(a,d,fv)}function pv(a,d){return DC(a,d,RA)}function xg(a,d){var g,x,C=d,L=a.dom,N=a.schema.getMoveCaretBeforeOnEnterElements();if(d){!/^(LI|DT|DD)$/.test(d.nodeName)||(x=function(Y){for(;Y;){if(1===Y.nodeType||3===Y.nodeType&&Y.data&&/[\r\n\s]/.test(Y.data))return Y;Y=Y.nextSibling}}(d.firstChild))&&/^(UL|OL|DL)$/.test(x.nodeName)&&d.insertBefore(L.doc.createTextNode(Oo),d.firstChild);var z=L.createRng();if(d.normalize(),d.hasChildNodes()){for(var q=new Jr(d,d);g=q.current();){if(ri(g)){z.setStart(g,0),z.setEnd(g,0);break}if(N[g.nodeName.toLowerCase()]){z.setStartBefore(g),z.setEndBefore(g);break}C=g,g=q.next()}g||(z.setStart(C,0),z.setEnd(C,0))}else Vr(d)?d.nextSibling&&L.isBlock(d.nextSibling)?(z.setStartBefore(d),z.setEndBefore(d)):(z.setStartAfter(d),z.setEndAfter(d)):(z.setStart(d,0),z.setEnd(d,0));a.selection.setRng(z),Ou(a,z)}}function uu(a){return ge.from(a.dom.getParent(a.selection.getStart(!0),a.dom.isBlock))}function LC(a,d){return a&&a.parentNode&&a.parentNode.nodeName===d}function PC(a){return a&&/^(OL|UL|LI)$/.test(a.nodeName)}function Pl(a){var d=a.parentNode;return/^(LI|DT|DD)$/.test(d.nodeName)?d:a}function Kr(a,d,g){for(var x=a[g?"firstChild":"lastChild"];x&&!ki(x);)x=x[g?"nextSibling":"previousSibling"];return x===d}function Ko(a){a.innerHTML='<br data-mce-bogus="1">'}function ju(a,d){return a.nodeName===d||a.previousSibling&&a.previousSibling.nodeName===d}function mc(a,d){return d&&a.isBlock(d)&&!/^(TD|TH|CAPTION|FORM)$/.test(d.nodeName)&&!/^(fixed|absolute)/i.test(d.style.position)&&"true"!==a.getContentEditable(d)}function J0(a,d,g){return!1===ri(d)?g:a?1===g&&d.data.charAt(g-1)===Ai?0:g:g===d.data.length-1&&d.data.charAt(g)===Ai?d.data.length:g}function gv(a,d){for(var g,x=a.getRoot(),C=d;C!==x&&"false"!==a.getContentEditable(C);)"true"===a.getContentEditable(C)&&(g=C),C=C.parentNode;return C!==x?g:x}function Ka(a,d){var g=Ga(a);g&&g.toLowerCase()===d.tagName.toLowerCase()&&function(x,C,L){var N=x.dom;ge.from(L.style).map(N.parseStyle).each(function(Y){var Q=Cc(Qe.fromDom(C)),Z=gi(gi({},Q),Y);N.setStyles(C,Z)}),wo(ge.from(L.class).map(function(Y){return Y.split(/\s+/)}),ge.from(C.className).map(function(Y){return Jt(Y.split(/\s+/),function(Q){return""!==Q})}),function(Y,Q){var Z=Jt(Q,function(pt){return!oe(Y,pt)}),rt=oo(oo([],Y,!0),Z,!0);N.setAttrib(C,"class",rt.join(" "))});var z=["style","class"],q=br(L,function(Y,Q){return!oe(z,Q)});N.setAttribs(C,q)}(a,d,Zg(a))}function NC(a,d,g){var x=a.dom.createRng();g?(x.setStartBefore(d),x.setEndBefore(d)):(x.setStartAfter(d),x.setEndAfter(d)),a.selection.setRng(x),Ou(a,x)}function RC(a,d){var g=Qe.fromTag("br");ha(Qe.fromDom(d),g),a.undoManager.add()}function BA(a,d){WA(a.getBody(),d)||ml(Qe.fromDom(d),Qe.fromTag("br"));var g=Qe.fromTag("br");ml(Qe.fromDom(d),g),NC(a,g.dom,!1),a.undoManager.add()}function tx(a){return a&&"A"===a.nodeName&&"href"in a}function b_(a){return a.fold(tn,tx,tx,tn)}function BC(a,d){d.fold(Nt,vt(RC,a),vt(BA,a),Nt)}function __(a,d){var g,x,C,L=(x=vt(Gf,g=a),C=mn.fromRangeStart(g.selection.getRng()),au(x,g.getBody(),C).filter(b_));L.isSome()?L.each(vt(BC,a)):function(N,z){var q,Y,Z=N.dom,rt=N.selection.getRng();gm(Z,rt).each(function(Se){rt.setStart(Se.startContainer,Se.startOffset),rt.setEnd(Se.endContainer,Se.endOffset)});var pt,Ct=rt.startOffset,wt=rt.startContainer;1===wt.nodeType&&wt.hasChildNodes()&&(pt=Ct>wt.childNodes.length-1,wt=wt.childNodes[Math.min(Ct,wt.childNodes.length-1)]||wt,Ct=pt&&3===wt.nodeType?wt.nodeValue.length:0);var kt=Z.getParent(wt,Z.isBlock),Ot=kt?Z.getParent(kt.parentNode,Z.isBlock):null;"LI"!==(Ot?Ot.nodeName.toUpperCase():"")||!(!z||!z.ctrlKey)||(kt=Ot),wt&&3===wt.nodeType&&Ct>=wt.nodeValue.length&&!function(Se){for(var Be,te=new Jr(wt,kt),pe=Se.getNonEmptyElements();Be=te.next();)if(pe[Be.nodeName.toLowerCase()]||0<Be.length)return 1}(N.schema)&&(q=Z.create("br"),rt.insertNode(q),rt.setStartAfter(q),rt.setEndAfter(q),Y=!0),q=Z.create("br"),Ug(Z,rt,q),NC(N,q,Y),N.undoManager.add()}(a,d)}function w_(a,d){return uu(a).filter(function(g){return 0<d.length&&h(Qe.fromDom(g),d)}).isSome()}function zC(a,d){return w_(a,a.getParam("no_newline_selector",""))}function S_(a){return function(d,g){return""===Ga(d)===a}}function FC(a){return function(d,g){return uu(d).filter(function(x){return Po(Qe.fromDom(x))}).isSome()===a}}function C_(a,d){return function(g,x){return uu(g).fold(ft(""),function(C){return C.nodeName.toUpperCase()})===a.toUpperCase()===d}}function js(a){return C_("pre",a)}function bg(a){return function(d,g){return d.getParam("br_in_pre",!0)===a}}function zA(a,d){return w_(a,a.getParam("br_newline_selector",".mce-toc h2,figcaption,caption"))}function Zd(a,d){return d}function mv(a){var d=Ga(a),g=function(x,C){for(var L,N=x.getRoot(),z=C;z!==N&&"false"!==x.getContentEditable(z);)"true"===x.getContentEditable(z)&&(L=z),z=z.parentNode;return z!==N?L:N}(a.dom,a.selection.getStart());return g&&a.schema.isValidChild(g.nodeName,d||"P")}function cu(a,d){return function(g,x){return Ke(a,function(C,L){return C&&L(g,x)},!0)?ge.some(d):ge.none()}}function ex(a,d){var g,x;g=a,x=d,ev([cu([zC],Cs.none()),cu([C_("summary",!0)],Cs.br()),cu([js(!0),bg(!1),Zd],Cs.br()),cu([js(!0),bg(!1)],Cs.block()),cu([js(!0),bg(!0),Zd],Cs.block()),cu([js(!0),bg(!0)],Cs.br()),cu([FC(!0),Zd],Cs.br()),cu([FC(!0)],Cs.block()),cu([S_(!0),Zd,mv],Cs.block()),cu([S_(!0)],Cs.br()),cu([zA],Cs.br()),cu([S_(!1),Zd],Cs.br()),cu([mv],Cs.block())],[g,!(!x||!x.shiftKey)]).getOr(Cs.none()).fold(function(){__(a,d)},function(){!function(a,d){function g(Nn){var pi,Cn=pt,Gn=Q.getTextInlineElements(),Rn=Nn||"TABLE"===Se||"HR"===Se?Y.create(Nn||wt):jt.cloneNode(!1),Zn=Rn;if(!1===a.getParam("keep_styles",!0))Y.setAttrib(Rn,"style",null),Y.setAttrib(Rn,"class",null);else for(;Gn[Cn.nodeName]&&(vs(Cn)||Al(Cn)||(pi=Cn.cloneNode(!1),Y.setAttrib(pi,"id",""),Rn.hasChildNodes()?pi.appendChild(Rn.firstChild):Zn=pi,Rn.appendChild(pi))),(Cn=Cn.parentNode)&&Cn!==$n;);return Ka(a,Rn),Ko(Zn),Rn}function x(Nn){var pi,Cn,Gn=J0(Nn,pt,Ct);if(!ri(pt)||!(Nn?0<Gn:Gn<pt.nodeValue.length)){if(pt.parentNode===jt&&q&&!Nn||Nn&&ki(pt)&&pt===jt.firstChild)return 1;if(ju(pt,"TABLE")||ju(pt,"HR"))return q&&!Nn||!q&&Nn;var Rn=new Jr(pt,jt);for(ri(pt)&&(Nn&&0===Gn?Rn.prev():Nn||Gn!==pt.nodeValue.length||Rn.next());pi=Rn.current();){if(ki(pi)){if(!pi.getAttribute("data-mce-bogus")&&(Cn=pi.nodeName.toLowerCase(),Z[Cn]&&"br"!==Cn))return}else if(ri(pi)&&!Wn(pi.nodeValue))return;Nn?Rn.prev():Rn.next()}return 1}}function C(){N=/^(H[1-6]|PRE|FIGURE)$/.test(Se)&&"HGROUP"!==Be?g(wt):g(),a.getParam("end_container_on_empty_block",!1)&&mc(Y,Qt)&&Y.isEmpty(jt)?N=Y.split(Qt,jt):Y.insertAfter(N,jt),xg(a,N)}var L,N,z,q,Y=a.dom,Q=a.schema,Z=Q.getNonEmptyElements(),rt=a.selection.getRng();gm(Y,rt).each(function(Nn){rt.setStart(Nn.startContainer,Nn.startOffset),rt.setEnd(Nn.endContainer,Nn.endOffset)});var pt=rt.startContainer,Ct=rt.startOffset,wt=Ga(a),kt=!(!d||!d.shiftKey),Ot=!(!d||!d.ctrlKey);ki(pt)&&pt.hasChildNodes()&&(q=Ct>pt.childNodes.length-1,pt=pt.childNodes[Math.min(Ct,pt.childNodes.length-1)]||pt,Ct=q&&ri(pt)?pt.nodeValue.length:0);var jt,Qt,Se,Be,te,pe,ke,Ge,nn,ln,Ve,qe,je,Ze,pn,Pn,Vn,xn,bn,qn,$n=gv(Y,pt);$n&&((wt&&!kt||!wt&&kt)&&(pt=function(Nn,pi,Cn,Gn){var Rn,Zn,oi,yr,Ce,Ye,Sn=wt||"P",An=Nn.dom,Mn=gv(An,Cn),jn=An.getParent(Cn,An.isBlock);if(!jn||!mc(An,jn)){if(Ce=((jn=jn||Mn)===Nn.getBody()||(Ye=jn)&&/^(TD|TH|CAPTION)$/.test(Ye.nodeName)?jn:jn.parentNode).nodeName.toLowerCase(),!jn.hasChildNodes())return Ka(Nn,Rn=An.create(Sn)),jn.appendChild(Rn),pi.setStart(Rn,0),pi.setEnd(Rn,0),Rn;for(oi=Cn;oi.parentNode!==jn;)oi=oi.parentNode;for(;oi&&!An.isBlock(oi);)oi=(Zn=oi).previousSibling;if(Zn&&Nn.schema.isValidChild(Ce,Sn.toLowerCase())){for(Ka(Nn,Rn=An.create(Sn)),Zn.parentNode.insertBefore(Rn,Zn),oi=Zn;oi&&!An.isBlock(oi);)yr=oi.nextSibling,Rn.appendChild(oi),oi=yr;pi.setStart(Cn,Gn),pi.setEnd(Cn,Gn)}}return Cn}(a,rt,pt,Ct)),Qt=(jt=Y.getParent(pt,Y.isBlock))?Y.getParent(jt.parentNode,Y.isBlock):null,Se=jt?jt.nodeName.toUpperCase():"","LI"!==(Be=Qt?Qt.nodeName.toUpperCase():"")||Ot||(Qt=(jt=Qt).parentNode,Se=Be),/^(LI|DT|DD)$/.test(Se)&&Y.isEmpty(jt)?(Ge=g,nn=Qt,ln=jt,Ve=wt,bn=(ke=a).dom,qn=ke.selection.getRng(),nn!==ke.getBody()&&(je=(Ve=PC(qe=nn)&&PC(qe.parentNode)?"LI":Ve)?Ge(Ve):bn.create("BR"),Kr(nn,ln,!0)&&Kr(nn,ln,!1)?LC(nn,"LI")?(Ze=Pl(nn),bn.insertAfter(je,Ze),(null===(xn=(Vn=nn).parentNode)||void 0===xn?void 0:xn.firstChild)===Vn?bn.remove(Ze):bn.remove(nn)):bn.replace(je,nn):(Kr(nn,ln,!0)?LC(nn,"LI")?(bn.insertAfter(je,Pl(nn)),je.appendChild(bn.doc.createTextNode(" ")),je.appendChild(nn)):nn.parentNode.insertBefore(je,nn):Kr(nn,ln,!1)?bn.insertAfter(je,Pl(nn)):(nn=Pl(nn),(pn=qn.cloneRange()).setStartAfter(ln),pn.setEndAfter(nn),Pn=pn.extractContents(),"LI"===Ve&&Pn.firstChild&&"LI"===Pn.firstChild.nodeName?(je=Pn.firstChild,bn.insertAfter(Pn,nn)):(bn.insertAfter(Pn,nn),bn.insertAfter(je,nn))),bn.remove(ln)),xg(ke,je))):wt&&jt===a.getBody()||(wt=wt||"P",Gl(jt)?(N=Me(jt),Y.isEmpty(jt)&&Ko(jt),Ka(a,N),xg(a,N)):x()?C():x(!0)?(N=jt.parentNode.insertBefore(g(),jt),xg(a,ju(jt,"HR")?N:jt)):((pe=(te=rt).cloneRange()).setStart(te.startContainer,J0(!0,te.startContainer,te.startOffset)),pe.setEnd(te.endContainer,J0(!1,te.endContainer,te.endOffset)),(L=pe.cloneRange()).setEndAfter(jt),z=L.extractContents(),be($x(Qe.fromDom(z),Do),function(Nn){var pi=Nn.dom;pi.nodeValue=mo(pi.nodeValue)}),function(Nn){for(;ri(Nn)&&(Nn.nodeValue=Nn.nodeValue.replace(/^[\r\n]+/,"")),Nn=Nn.firstChild;);}(z),N=z.firstChild,Y.insertAfter(z,jt),function(Nn,pi){var Cn,Gn,Rn=N,Zn=[];if(Rn){for(;Rn=Rn.firstChild;){if(Nn.isBlock(Rn))return;ki(Rn)&&!pi[Rn.nodeName.toLowerCase()]&&Zn.push(Rn)}for(Cn=Zn.length;Cn--;)(!(Rn=Zn[Cn]).hasChildNodes()||Rn.firstChild===Rn.lastChild&&""===Rn.firstChild.nodeValue||(Gn=Rn)&&"A"===Gn.nodeName&&Nn.isEmpty(Gn))&&Nn.remove(Rn)}}(Y,Z),function(Nn,pi){pi.normalize();var Cn=pi.lastChild;Cn&&!/^(left|right)$/gi.test(Nn.getStyle(Cn,"float",!0))||Nn.add(pi,"br")}(Y,jt),Y.isEmpty(jt)&&Ko(jt),N.normalize(),Y.isEmpty(N)?(Y.remove(N),C()):(Ka(a,N),xg(a,N))),Y.setAttrib(N,"id",""),a.fire("NewBlock",{newBlock:N})))}(a,d)},Nt)}function nh(a){return a.stopImmediatePropagation()}function vv(a){return a.keyCode===_i.PAGE_UP||a.keyCode===_i.PAGE_DOWN}function k_(a,d,g){g&&!a.get()?d.on("NodeChange",nh,!0):!g&&a.get()&&d.off("NodeChange",nh),a.set(g)}function A_(a,d){var g=d.container(),x=d.offset();return ri(g)?(g.insertData(x,a),ge.some(mn(g,x+a.length))):yf(d).map(function(C){var L=Qe.fromText(a);return(d.isAtEnd()?ml:ha)(C,L),mn(L.dom,a.length)})}function VA(a){var d,g,x=mn.fromRangeStart(a.selection.getRng()),C=Qe.fromDom(a.getBody());if(a.selection.isCollapsed()){var L=vt(Gf,a),N=mn.fromRangeStart(a.selection.getRng());return au(L,a.getBody(),N).bind((g=C,function(z){return z.fold(function(q){return Pu(g.dom,mn.before(q))},function(q){return cs(q)},function(q){return uc(q)},function(q){return Lu(g.dom,mn.after(q))})})).bind(function(a,d){return function(g){return L=a,(!Xy(N=g)&&(Pu((x=L).dom,C=N).isNone()||Lu(x.dom,C).isNone()||Nf(x,C)||Up(x,C)||Yy(x,C)||jy(x,C)||nS(L,N)||Ub(L,N))?XC:ix)(d);var x,C,L,N}}(C,x)).exists((d=a,function(z){return d.selection.setRng(z.toRange()),d.nodeChanged(),!0}))}return!1}(pg=Wh=Wh||{})[pg.Up=-1]="Up",pg[pg.Down=1]="Down";var nx=vt(s_,Wh.Up,Rc,xp),VC=vt(s_,Wh.Down,xp,Rc),HC=Hr,M_=Tu,ih=function(a,d){var g=a.selection.getRng(),x=a.getBody();if(d){var C=mn.fromRangeEnd(g),L=gg(x,C);return On(L.positions)}return C=mn.fromRangeStart(g),fn((L=Kf(x,C)).positions)},WC=vt(sv,!0),HA=vt(sv,!1),xv=function(a){return Jt(ze(a.selection.getSelectedBlocks(),Qe.fromDom),function(d){return!K0(d)&&!_o(d).exists(K0)&&jl(d,function(g){return xa(g.dom)||Hr(g.dom)}).exists(function(g){return xa(g.dom)})})},rh=Hr,jC=vt(lu,function(a){return a.bottom},function(a,d){return a.y<d}),T_=vt(lu,function(a){return a.top},function(a,d){return a.y>d}),Bo=vt(x_,Kf),I_=vt(x_,gg),WA=function(a,d){return g=mn.after(d),!!Vr(g.getNode())||Lu(a,mn.after(d)).map(function(x){return Vr(x.getNode())}).getOr(!1);var g},Cs=Fa([{br:[]},{block:[]},{none:[]}]),YC=zn().browser,jA=zn(),XC=vt(A_,Oo),ix=vt(A_," "),GC=(rx.prototype.nodeChanged=function(a){var d,g,x,C=this.editor.selection;this.editor.initialized&&C&&!this.editor.getParam("disable_nodechange")&&!this.editor.mode.isReadOnly()&&(x=this.editor.getBody(),(d=C.getStart(!0)||x).ownerDocument===this.editor.getDoc()&&this.editor.dom.isChildOf(d,x)||(d=x),g=[],this.editor.dom.getParent(d,function(L){return L===x||void g.push(L)}),(a=a||{}).element=d,a.parents=g,this.editor.fire("NodeChange",a))},rx.prototype.isSameElementPath=function(a){var d,g=this.editor.$(a).parentsUntil(this.editor.getBody()).add(a);if(g.length===this.lastPath.length){for(d=g.length;0<=d&&g[d]===this.lastPath[d];d--);if(-1===d)return this.lastPath=g,!0}return this.lastPath=g,!1},rx);function rx(a){var d;this.lastPath=[],this.editor=a;var g=this;"onselectionchange"in a.getDoc()||a.on("NodeChange click mouseup keyup focus",function(x){var C=a.selection.getRng(),L={startContainer:C.startContainer,startOffset:C.startOffset,endContainer:C.endContainer,endOffset:C.endOffset};"nodechange"!==x.type&&Rp(L,d)||a.fire("SelectionChange"),d=L}),a.on("contextmenu",function(){a.fire("SelectionChange")}),a.on("SelectionChange",function(){var x=a.selection.getStart(!0);!x||!Ci.range&&a.selection.isCollapsed()||lm(a)&&!g.isSameElementPath(x)&&a.dom.isChildOf(x,a.getBody())&&a.nodeChanged({selectionChange:!0})}),a.on("mouseup",function(x){!x.isDefaultPrevented()&&lm(a)&&("IMG"===a.selection.getNode().nodeName?Wr.setEditorTimeout(a,function(){a.nodeChanged()}):a.nodeChanged())})}function D_(a){return ki(a)&&ba(Qe.fromDom(a))}function qC(a){var d=a.getBoundingClientRect(),g=a.ownerDocument,x=g.documentElement,C=g.defaultView;return{top:d.top+C.pageYOffset-x.clientTop,left:d.left+C.pageXOffset-x.clientLeft}}function _g(a){a&&a.parentNode&&a.parentNode.removeChild(a)}function ox(a,d){return jc(a.getBody(),d)}function XA(a){function d(te){return te!==kt&&(Jd(te)||os(te))&&Ct.isChildOf(te,kt)}function g(te){return Fh(te)||Vh(te)||Gp(te)||qp(te)}function x(te){te&&pt.setRng(te)}function C(te,pe,ke,Ge){return void 0===Ge&&(Ge=!0),a.fire("ShowCaret",{target:pe,direction:te,before:ke}).isDefaultPrevented()?null:(Ge&&pt.scrollIntoView(pe,-1===te),Ot.show(ke,pe))}function L(te){return ko(te)||ms(te)||rl(te)}function N(te){return L(te.startContainer)||L(te.endContainer)}function z(te,pe){if(!te)return null;if(te.collapsed){if(!N(te)){var ke=pe?1:-1,Ge=cl(ke,kt,te),nn=Ge.getNode(!pe);if(xd(nn))return C(ke,nn,!!pe&&!Ge.isAtEnd(),!1);var ln=Ge.getNode(pe);if(xd(ln))return C(ke,ln,!pe&&!Ge.isAtEnd(),!1)}return null}var Ve=te.startContainer,qe=te.startOffset,je=te.endOffset;if(3===Ve.nodeType&&0===qe&&Jd(Ve.parentNode)&&(qe=Ct.nodeIndex(Ve=Ve.parentNode),Ve=Ve.parentNode),1!==Ve.nodeType)return null;if(je===qe+1&&Ve===te.endContainer){var Ze=Ve.childNodes[qe];if(d(Ze))return function(pn){var Pn=pn.cloneNode(!0),Vn=a.fire("ObjectSelected",{target:pn,targetClone:Pn});if(Vn.isDefaultPrevented())return null;var xn=function(qn,$n,Nn){var pi=a.$,Cn=Xi(Qe.fromDom(a.getBody()),"#"+jt).fold(function(){return pi([])},function(Zn){return pi([Zn.dom])});0===Cn.length&&(Cn=pi('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>').attr("id",jt)).appendTo(a.getBody());var Gn=Ct.createRng();$n===Nn&&Ci.ie?(Cn.empty().append('<p style="font-size: 0" data-mce-bogus="all">\xa0</p>').append($n),Gn.setStartAfter(Cn[0].firstChild.firstChild),Gn.setEndAfter($n)):(Cn.empty().append(Oo).append($n).append(Oo),Gn.setStart(Cn[0].firstChild,1),Gn.setEnd(Cn[0].lastChild,0)),Cn.css({top:Ct.getPos(qn,a.getBody()).y}),Cn[0].focus();var Rn=pt.getSel();return Rn.removeAllRanges(),Rn.addRange(Gn),Gn}(pn,Vn.targetClone,Pn),bn=Qe.fromDom(pn);return be(ul(Qe.fromDom(a.getBody()),"*[data-mce-selected]"),function(qn){_(bn,qn)||bl(qn,Qt)}),Ct.getAttrib(pn,Qt)||pn.setAttribute(Qt,"1"),Y=pn,Be(),xn}(Ze)}return null}function q(){Y&&Y.removeAttribute(Qt),Xi(Qe.fromDom(a.getBody()),"#"+jt).each(So),Y=null}var Y,Q,Z,rt,pt=a.selection,Ct=a.dom,wt=Ct.isBlock,kt=a.getBody(),Ot=function(a,d,g,x){function C(){(function(){for(var Q=ul(Qe.fromDom(d),"*[contentEditable=false],video,audio,embed,object"),Z=0;Z<Q.length;Z++){var rt,pt=Q[Z].dom,Ct=pt.previousSibling;rl(Ct)&&(1===(rt=Ct.data).length?Ct.parentNode.removeChild(Ct):Ct.deleteData(rt.length-1,1)),ms(Ct=pt.nextSibling)&&(1===(rt=Ct.data).length?Ct.parentNode.removeChild(Ct):Ct.deleteData(0,1))}})(),N&&(La(N),N=null),z.on(function(Q){Ln(Q.caret).remove(),z.clear()}),L&&(Wr.clearInterval(L),L=void 0)}var L,N,z=yp(),q=Ga(a),Y=0<q.length?q:"p";return{show:function(Q,Z){var rt;if(C(),rA(Z))return null;if(!g(Z))return N=function(wt,kt){var Ot=wt.ownerDocument.createTextNode(Ai),jt=wt.parentNode;if(kt){if(Xo(Qt=wt.previousSibling)){if(ko(Qt))return Qt;if(rl(Qt))return Qt.splitText(Qt.data.length-1)}jt.insertBefore(Ot,wt)}else{var Qt=wt.nextSibling;if(Xo(Qt)){if(ko(Qt))return Qt;if(ms(Qt))return Qt.splitText(1),Qt}wt.nextSibling?jt.insertBefore(Ot,wt.nextSibling):jt.appendChild(Ot)}return Ot}(Z,Q),rt=Z.ownerDocument.createRange(),Eh(N.nextSibling)?(rt.setStart(N,0),rt.setEnd(N,0)):(rt.setStart(N,1),rt.setEnd(N,1)),rt;N=function(wt,kt,Ot){var jt,Qt=kt.ownerDocument.createElement(wt);Qt.setAttribute("data-mce-caret",Ot?"before":"after"),Qt.setAttribute("data-mce-bogus","all"),Qt.appendChild(((jt=document.createElement("br")).setAttribute("data-mce-bogus","1"),jt));var Se=kt.parentNode;return Ot?Se.insertBefore(Qt,kt):kt.nextSibling?Se.insertBefore(Qt,kt.nextSibling):Se.appendChild(Qt),Qt}(Y,Z,Q);var pt=eu(d,Z,Q);Ln(N).css("top",pt.top);var Ct=Ln('<div class="mce-visual-caret" data-mce-bogus="all"></div>').css(gi({},pt)).appendTo(d)[0];return z.set({caret:Ct,element:Z,before:Q}),Q&&Ln(Ct).addClass("mce-visual-caret-before"),L=Wr.setInterval(function(){x()?Ln("div.mce-visual-caret",d).toggleClass("mce-visual-caret-hidden"):Ln("div.mce-visual-caret",d).addClass("mce-visual-caret-hidden")},500),(rt=Z.ownerDocument.createRange()).setStart(N,0),rt.setEnd(N,0),rt},hide:C,getCss:function(){return".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}"},reposition:function(){z.on(function(Q){var Z=eu(d,Q.element,Q.before);Ln(Q.caret).css(gi({},Z))})},destroy:function(){return Wr.clearInterval(L)}}}(a,kt,wt,function(){return Nd(a)}),jt="sel-"+Ct.uniqueId(),Qt="data-mce-selected",Se=pt.getRng,Be=function(){Ot.hide()};return Ci.ceFalse&&!hc(a)&&(a.on("mouseup",function(te){var pe=Se();pe.collapsed&&B1(a,te.clientX,te.clientY)&&Z1(a,pe,!1).each(x)}),a.on("click",function(te){var pe=ox(a,te.target);pe&&(Jd(pe)&&(te.preventDefault(),a.focus()),V_(pe)&&Ct.isChildOf(pe,pt.getNode())&&q())}),a.on("blur NewBlock",q),a.on("ResizeWindow FullscreenStateChanged",Ot.reposition),a.on("tap",function(te){var pe=te.target,ke=ox(a,pe);Jd(ke)?(te.preventDefault(),qf(a,ke).each(z)):d(pe)&&qf(a,pe).each(z)},!0),a.on("mousedown",function(te){var pe,ke,Ge,nn,ln,Ve,qe,je=te.target;je!==kt&&"HTML"!==je.nodeName&&!Ct.isChildOf(je,kt)||!1===B1(a,te.clientX,te.clientY)||((pe=ox(a,je))?Jd(pe)?(te.preventDefault(),qf(a,pe).each(z)):(q(),V_(pe)&&te.shiftKey||Ay(te.clientX,te.clientY,pt.getRng())||(Be(),pt.placeCaretAt(te.clientX,te.clientY))):d(je)?qf(a,je).each(z):!1===xd(je)&&(q(),Be(),(ke=function(a,d,g){function x(Y){return!vu(Y.node)&&!os(Y.node)}var C,L,N,z=av(Jt(ho(a.getElementsByTagName("*")),xd));return(N=Qf(Jt(z,vt(h_,g)),d,x))&&(N=Qf(function(Y,Q,Z){function rt(Ct,wt){var kt=Jt(av([wt]),function(Ot){return!Ct(Ot,Q)});return pt=pt.concat(kt),0===kt.length}void 0===Z&&(Z=!0);var pt=[];return pt.push(Q),gC(Wh.Up,Y,vt(rt,Rc),Q.node,Z),gC(Wh.Down,Y,vt(rt,xp),Q.node,Z),pt}(a,N,x(N)),d,x))&&xd(N.node)?{node:(C=N).node,before:q0(C,L=d)<U0(C,L)}:null}(kt,te.clientX,te.clientY))&&(nn=ke.node,Ve=Ct.getParent(Ge=je,wt),qe=Ct.getParent(nn,wt),!Wt(Ve)&&(Ge!==qe&&Ct.isChildOf(Ve,qe)&&!1===Jd(ox(a,Ve))||!Ct.isChildOf(qe,Ve)&&(ln=qe,Ct.getParent(Ve,wt)!==Ct.getParent(ln,wt))&&function(Ze){var pn=Ze.firstChild;if(!Wt(pn)){var Pn=mn.before(pn);if(Vr(Pn.getNode())&&1===Ze.childNodes.length)return!g(Pn);var Vn=Iu(Ze).next(Pn);return Vn&&!g(Vn)}}(Ve))||(te.preventDefault(),x(C(1,ke.node,ke.before,!1)),a.getBody().focus()))))}),a.on("keypress",function(te){_i.modifierPressed(te)||Jd(pt.getNode())&&te.preventDefault()}),a.on("GetSelectionRange",function(te){var pe=te.range;Y&&(Y.parentNode?((pe=pe.cloneRange()).selectNode(Y),te.range=pe):Y=null)}),a.on("SetSelectionRange",function(te){var pe,ke,Ge,nn,ln,Ve,qe;te.range=(pe=te.range,ke=a.schema.getShortEndedElements(),Ge=Ct.createRng(),ln=pe.startOffset,Ve=pe.endContainer,qe=pe.endOffset,Yi(ke,(nn=pe.startContainer).nodeName.toLowerCase())?0===ln?Ge.setStartBefore(nn):Ge.setStartAfter(nn):Ge.setStart(nn,ln),Yi(ke,Ve.nodeName.toLowerCase())?0===qe?Ge.setEndBefore(Ve):Ge.setEndAfter(Ve):Ge.setEnd(Ve,qe),Ge);var je=z(te.range,te.forward);je&&(te.range=je)}),a.on("AfterSetSelectionRange",function(te){var pe=te.range,ke=pe.startContainer.parentNode;N(pe)||"mcepastebin"===ke.id||Be(),Ct.hasClass(ke,"mce-offscreen-selection")||q()}),a.on("copy",function(te){var pe,ke,Ge=te.clipboardData;te.isDefaultPrevented()||!te.clipboardData||Ci.ie||(pe=(ke=Ct.get(jt))&&ke.getElementsByTagName("*")[0])&&(te.preventDefault(),Ge.clearData(),Ge.setData("text/html",pe.outerHTML),Ge.setData("text/plain",pe.outerText||pe.innerText))}),function(a){var d,g;function x(N){var z;N.isDefaultPrevented()||(z=N.dataTransfer)&&(oe(z.types,"Files")||0<z.files.length)&&(N.preventDefault(),"drop"===N.type&&dc(g,"Dropped file type is not supported"))}function C(N){Nh(g,N.target)&&x(N)}function L(){var N=sr.DOM,z=g.dom,q=document,Y=g.inline?g.getBody():g.getDoc(),Q=["drop","dragover"];be(Q,function(Z){N.bind(q,Z,C),z.bind(Y,Z,x)}),g.on("remove",function(){be(Q,function(Z){N.unbind(q,Z,C),z.unbind(Y,Z,x)})})}(function(a){var x,C,L,N,z,q,Y=yp(),Q=sr.DOM,Z=document,rt=function(a,d){var g=Wr.throttle(function(x,C){d._selectionOverrides.hideFakeCaret(),d.selection.placeCaretAt(x,C)},0);return d.on("remove",g.stop),function(x){return a.on(function(C){var L,N,z,q,Y,Q,Z,rt,pt,Ct,wt,kt,Ot,jt,Qt,Se,Be,te,pe,ke,Ge=Math.max(Math.abs(x.screenX-C.screenX),Math.abs(x.screenY-C.screenY));if(!C.dragging&&10<Ge){if(d.fire("dragstart",{target:C.element}).isDefaultPrevented())return;C.dragging=!0,d.focus()}C.dragging&&(kt=C,L={pageX:(Qt=x,Se=(jt=d).inline?qC(jt.getBody()):{left:0,top:0},ke=(pe=jt).getBody(),Be=pe.inline?{left:ke.scrollLeft,top:ke.scrollTop}:{left:0,top:0},(Ot={pageX:(te=function(nn,ln){if(ln.target.ownerDocument===nn.getDoc())return{left:ln.pageX,top:ln.pageY};var Ve,qe,je,Pn=qC(nn.getContentAreaContainer()),Vn=(qe=(Ve=nn).getBody(),je=Ve.getDoc().documentElement,Ve.inline?{left:qe.scrollLeft,top:qe.scrollTop}:{left:qe.scrollLeft||je.scrollLeft,top:qe.scrollTop||je.scrollTop});return{left:ln.pageX-Pn.left+Vn.left,top:ln.pageY-Pn.top+Vn.top}}(jt,Qt)).left-Se.left+Be.left,pageY:te.top-Se.top+Be.top}).pageX-kt.relX),pageY:Ot.pageY+5},Ct=C.ghost,wt=d.getBody(),Ct.parentNode!==wt&&wt.appendChild(Ct),q=C.width,Y=C.height,Q=C.maxX,Z=C.maxY,pt=rt=0,(N=C.ghost).style.left=(z=L).pageX+"px",N.style.top=z.pageY+"px",Z<z.pageY+Y&&(pt=z.pageY+Y-Z),N.style.width=q-(rt=Q<z.pageX+q?z.pageX+q-Q:rt)+"px",N.style.height=Y-pt+"px",g(x.clientX,x.clientY))})}}(z=Y,q=a),pt=(x=L=Y,function(){x.on(function(Ct){Ct.dragging&&C.fire("dragend")}),lx(x)});(C=N=a).on("mousedown",function(Ct){var wt,kt,Ot,jt,Qt,Se;0===Ct.button&&(wt=hn(q.dom.getParents(Ct.target),function(){for(var Be=[],te=0;te<arguments.length;te++)Be[te]=arguments[te];return function(pe){for(var ke=0;ke<Be.length;ke++)if(Be[ke](pe))return!0;return!1}}(Qd,qA)).getOr(null),Qt=q.getBody(),Qd(Se=wt)&&Se!==Qt&&(kt=q.dom.getPos(wt),Ot=q.getBody(),jt=q.getDoc().documentElement,z.set({element:wt,dragging:!1,screenX:Ct.screenX,screenY:Ct.screenY,maxX:(q.inline?Ot.scrollWidth:jt.offsetWidth)-2,maxY:(q.inline?Ot.scrollHeight:jt.offsetHeight)-2,relX:Ct.pageX-kt.x,relY:Ct.pageY-kt.y,width:wt.offsetWidth,height:wt.offsetHeight,ghost:function(Be,te,pe){var ke=q.dom,Ge=Be.cloneNode(!0);ke.setStyles(Ge,{width:te,height:pe}),ke.setAttrib(Ge,"data-mce-selected",null);var nn=ke.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return ke.setStyles(nn,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:te,height:pe}),ke.setStyles(Ge,{margin:0,boxSizing:"border-box"}),nn.appendChild(Ge),nn}(wt,wt.offsetWidth,wt.offsetHeight)})))}),a.on("mousemove",rt),a.on("mouseup",function(Ct){L.on(function(wt){var kt,Ot,jt,Qt,Se,Be;wt.dragging&&((Qt=3===(Be=(jt=N).selection.getSel().getRangeAt(0).startContainer).nodeType?Be.parentNode:Be)===(Se=wt.element)||jt.dom.isChildOf(Qt,Se)||Qd(Qt)||((Ot=wt.element.cloneNode(!0)).removeAttribute("data-mce-selected"),kt=Ot,N.fire("drop",{clientX:Ct.clientX,clientY:Ct.clientY}).isDefaultPrevented()||N.undoManager.transact(function(){_g(wt.element),N.insertContent(N.dom.getOuterHTML(kt)),N._selectionOverrides.hideFakeCaret()})),N.fire("dragend"))}),lx(L)}),Q.bind(Z,"mousemove",rt),Q.bind(Z,"mouseup",pt),a.on("remove",function(){Q.unbind(Z,"mousemove",rt),Q.unbind(Z,"mouseup",pt)}),a.on("keydown",function(Ct){Ct.keyCode===_i.ESC&&pt()})})(a),(d=a).on("drop",function(N){var z=void 0!==N.clientX?d.getDoc().elementFromPoint(N.clientX,N.clientY):null;!Qd(z)&&"false"!==d.dom.getContentEditableParent(z)||N.preventDefault()}),a.getParam("block_unsupported_drop",!0,"boolean")&&(g=a).on("init",function(){Wr.setEditorTimeout(g,L,0)})}(a),Z=Hx(function(){var te,pe;Q.removed||!Q.getBody().contains(document.activeElement)||(te=Q.selection.getRng()).collapsed&&(pe=lg(Q,te,!1),Q.selection.setRng(pe))},0),(Q=a).on("focus",function(){Z.throttle()}),Q.on("blur",function(){Z.cancel()}),(rt=a).on("init",function(){rt.on("focusin",function(te){var pe,ke,Ge=te.target;os(Ge)&&(pe=jc(rt.getBody(),Ge),ke=Hr(pe)?pe:Ge,rt.selection.getNode()!==ke&&qf(rt,ke).each(function(nn){return rt.selection.setRng(nn)}))})})),{showCaret:C,showBlockCaretContainer:function(te){te.hasAttribute("data-mce-caret")&&(Me(te),x(Se()),pt.scrollIntoView(te))},hideFakeCaret:Be,destroy:function(){Ot.destroy(),Y=null}}}function E_(a){return br(a,function(d){return!1===ie(d)})}function L_(a){var d=a.settings,g=a.editorUpload.blobCache;return E_({allow_conditional_comments:d.allow_conditional_comments,allow_html_data_urls:d.allow_html_data_urls,allow_svg_data_urls:d.allow_svg_data_urls,allow_html_in_named_anchor:d.allow_html_in_named_anchor,allow_script_urls:d.allow_script_urls,allow_unsafe_link_target:d.allow_unsafe_link_target,convert_fonts_to_spans:d.convert_fonts_to_spans,fix_list_elements:d.fix_list_elements,font_size_legacy_values:d.font_size_legacy_values,forced_root_block:d.forced_root_block,forced_root_block_attrs:d.forced_root_block_attrs,padd_empty_with_br:d.padd_empty_with_br,preserve_cdata:d.preserve_cdata,remove_trailing_brs:d.remove_trailing_brs,inline_styles:d.inline_styles,root_name:a.inline?a.getElement().nodeName.toLowerCase():void 0,validate:!0,blob_cache:g,document:a.getDoc(),images_dataimg_filter:d.images_dataimg_filter})}function P_(a){return(a.inline?a.ui:a.dom).styleSheetLoader}function ZC(a){function d(){C.unloadAll(N),a.inline||a.ui.styleSheetLoader.unloadAll(L)}function g(){a.removed?d():a.on("remove",d)}var x,C=P_(a),L=tb(a),N=a.contentCSS;0<a.contentStyles.length&&(x="",vn.each(a.contentStyles,function(Ot){x+=Ot+"\r\n"}),a.dom.addStyle(x));var z,q,Y,Q,Z,rt,pt,Ct,wt,kt=no.all((z=a,q=N,Y=L,Q=[new no(function(Ot,jt){return P_(z).loadAll(q,Ot,jt)})],z.inline?Q:Q.concat([new no(function(Ot,jt){return z.ui.styleSheetLoader.loadAll(Y,Ot,jt)})]))).then(g).catch(g);return a.settings.content_style&&(rt=(Z=a).settings.content_style,pt=Qe.fromDom(Z.getBody()),Ct=Ma(gs(pt)),Ds(wt=Qe.fromTag("style"),"type","text/css"),go(wt,Qe.fromText(rt)),go(Ct,wt),Z.on("remove",function(){So(wt)})),kt}function tp(a){var d;!0!==a.removed&&(hc(d=a)||d.load({initial:!0,format:"html"}),d.startContent=d.getContent({format:"raw"}),function(a){var d,g,x;a.bindPendingEventDelegates(),a.initialized=!0,a.fire("Init"),a.focus(!0),x=(g=a).dom.getRoot(),g.inline||lm(g)&&g.selection.getStart(!0)!==x||cs(x).each(function(C){var L,N,z,q,Y=C.getNode(),Q=vu(Y)?cs(Y).getOr(C):C;Ci.browser.isIE()?(L=g,N=Q.toRange(),z=Qe.fromDom(L.getBody()),q=(qw(L)?ge.from(N):ge.none()).map(Ob).filter(Pd(z)),L.bookmark=q.isSome()?q:L.bookmark):g.selection.setRng(Q.toRange())}),a.nodeChanged({initial:!0}),a.execCallback("init_instance_callback",a),(d=a).settings.auto_focus&&Wr.setEditorTimeout(d,function(){var C=!0===d.settings.auto_focus?d:d.editorManager.get(d.settings.auto_focus);C.destroyed||C.focus()},100)}(a))}function O_(a,d){var g=a.settings,x=a.getElement(),C=a.getDoc();g.inline||(a.getElement().style.visibility=a.orgVisibility),d||a.inline||(C.open(),C.write(a.iframeHTML),C.close()),a.inline&&(ep.addClass(x,"mce-content-body"),a.contentDocument=C=document,a.contentWindow=window,a.bodyElement=x,a.contentAreaContainer=x);var L,N,z,q,Y,Q,Z,rt,pt,Ct,wt,kt=a.getBody();kt.disabled=!0,a.readonly=!!g.readonly,a.readonly||(a.inline&&"static"===ep.getStyle(kt,"position",!0)&&(kt.style.position="relative"),kt.contentEditable=a.getParam("content_editable_state",!0)),kt.disabled=!1,a.editorUpload=function(a){function d(jt){return function(Qt){return a.selection?jt(Qt):[]}}function g(jt,Qt,Se){for(var Be=0;-1!==(Be=jt.indexOf(Qt,Be))&&(jt=jt.substring(0,Be)+Se+jt.substr(Be+Qt.length),Be+=Se.length-Qt.length+1),-1!==Be;);return jt}function x(jt,Qt,Se){return jt=g(jt,'src="'+Qt+'"','src="'+Se+'"'+(Se===Ci.transparentSrc?' data-mce-placeholder="1"':"")),g(jt,'data-mce-src="'+Qt+'"','data-mce-src="'+Se+'"')}function C(jt,Qt){be(a.undoManager.data,function(Se){"fragmented"===Se.type?Se.fragments=ze(Se.fragments,function(Be){return x(Be,jt,Qt)}):Se.content=x(Se.content,jt,Qt)})}function L(jt){return Y=Y||j1(a,Ct),Ot().then(d(function(Qt){var Se=ze(Qt,function(Be){return Be.blobInfo});return Y.upload(Se,T0(a)).then(d(function(Be){var te=[],pe=ze(Be,function(ke,Ge){var ln,Ve,qe,je=Qt[Ge].blobInfo,Ze=Qt[Ge].image;return ke.status&&a.getParam("images_replace_blob_uris",!0,"boolean")?(pt.removeByUri(Ze.src),hc(a)||(ln=Ze,qe=a.convertURL(Ve=ke.url,"src"),C(ln.src,Ve),a.$(ln).attr({src:a.getParam("images_reuse_filename",!1,"boolean")?Ve+(-1===Ve.indexOf("?")?"?":"&")+(new Date).getTime():Ve,"data-mce-src":qe}))):ke.error&&(ke.error.options.remove&&(C(Ze.getAttribute("src"),Ci.transparentSrc),te.push(Ze)),dc(a,Au.translate(["Failed to upload image: {0}",ke.error.message]))),{element:Ze,status:ke.status,uploadUri:ke.url,blobInfo:je}});return 0<pe.length&&kt.fireIfChanged(),0<te.length&&(hc(a)?console.error("Removing images on failed uploads is currently unsupported for RTC"):a.undoManager.transact(function(){be(te,function(ke){a.dom.remove(ke),pt.removeByUri(ke.src)})})),jt&&jt(pe),pe}))}))}function N(jt){if(Jx(a))return L(jt)}function z(jt){return!1!==ui(wt,function(Qt){return Qt(jt)})&&(0!==jt.getAttribute("src").indexOf("data:")||a.getParam("images_dataimg_filter",on,"function")(jt))}function q(jt){return jt.replace(/src="(blob:[^"]+)"/g,function(Qt,Se){var Be=Ct.getResultUri(Se);if(Be)return'src="'+Be+'"';var te=(te=pt.getByUri(Se))||Ke(a.editorManager.get(),function(pe,ke){return pe||ke.editorUpload&&ke.editorUpload.blobCache.getByUri(Se)},null);return te?'src="data:'+te.blob().type+";base64,"+te.base64()+'"':Qt})}var Y,Q,Z,rt,pt=function(){function a(C){return hn(x,C).getOrUndefined()}function d(C){if(!C.blob||!C.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");var L=C.id||W1("blobid"),N=C.name||L,z=C.blob;return{id:ft(L),name:ft(N),filename:ft(C.filename||N+"."+({"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"}[z.type.toLowerCase()]||"dat")),blob:ft(z),base64:ft(C.base64),blobUri:ft(C.blobUri||URL.createObjectURL(z)),uri:ft(C.uri)}}function g(C){return a(function(L){return L.id()===C})}var x=[];return{create:function(C,L,N,z,q){if(ot(C))return d({id:C,name:z,filename:q,blob:L,base64:N});if(it(C))return d(C);throw new Error("Unknown input type")},add:function(C){g(C.id())||x.push(C)},get:g,getByUri:function(C){return a(function(L){return L.blobUri()===C})},getByData:function(C,L){return a(function(N){return N.base64()===C&&N.blob().type===L})},findFirst:a,removeByUri:function(C){x=Jt(x,function(L){return L.blobUri()!==C||void URL.revokeObjectURL(L.blobUri())})},destroy:function(){be(x,function(C){URL.revokeObjectURL(C.blobUri())}),x=[]}}}(),Ct=og(),wt=[],kt=(rt=ra(null),(Z=a).on("change AddUndo",function(jt){rt.set(gi({},jt.level))}),{fireIfChanged:function(){var jt=Z.undoManager.data;On(jt).filter(function(Qt){return!Ff(rt.get(),Qt)}).each(function(Qt){Z.setDirty(!0),Z.fire("change",{level:Qt,lastLevel:dn(jt,jt.length-2).getOrNull()})})}}),Ot=function(){return(Q=Q||function(a,d){var g={};return{findAll:function(x,C){C=C||on;var L=ze(Jt(x?ho(x.getElementsByTagName("img")):[],function(N){var z=N.src;return Ci.fileApi&&!N.hasAttribute("data-mce-bogus")&&!N.hasAttribute("data-mce-placeholder")&&z&&z!==Ci.transparentSrc&&(0===z.indexOf("blob:")?!a.isUploaded(z)&&C(N):0===z.indexOf("data:")&&C(N))}),function(N){if(void 0!==g[N.src])return new no(function(q){g[N.src].then(function(Y){return"string"==typeof Y?Y:void q({image:N,blobInfo:Y.blobInfo})})});var z=new no(function(q,Y){var Q,Z,rt,pt,Ct,wt,Ot,jt;Q=d,rt=q,pt=Y,0!==(Z=N).src.indexOf("blob:")?(wt=(Ct=x0(Z.src)).data,(jt=Q.getByData(Ot=wt,Ct.type))?rt({image:Z,blobInfo:jt}):N1(Z.src).then(function(Qt){jt=Q.create(El(),Qt,Ot),Q.add(jt),rt({image:Z,blobInfo:jt})},function(Qt){pt(Qt)})):(jt=Q.getByUri(Z.src))?rt({image:Z,blobInfo:jt}):N1(Z.src).then(function(Qt){var Se=Qt;new no(function(Be){var te=new FileReader;te.onloadend=function(){Be(te.result)},te.readAsDataURL(Se)}).then(function(Be){Ot=x0(Be).data,jt=Q.create(El(),Qt,Ot),Q.add(jt),rt({image:Z,blobInfo:jt})})},function(Qt){pt(Qt)})}).then(function(q){return delete g[q.image.src],q}).catch(function(q){return delete g[N.src],q});return g[N.src]=z});return no.all(L)}}}(Ct,pt)).findAll(a.getBody(),z).then(d(function(jt){return jt=Jt(jt,function(Qt){return"string"!=typeof Qt||void dc(a,Qt)}),hc(a)||be(jt,function(Qt){C(Qt.image.src,Qt.blobInfo.blobUri()),Qt.image.src=Qt.blobInfo.blobUri(),Qt.image.removeAttribute("data-mce-src")}),jt}))};return a.on("SetContent",function(){(Jx(a)?N:Ot)()}),a.on("RawSaveContent",function(jt){jt.content=q(jt.content)}),a.on("GetContent",function(jt){jt.source_view||"raw"===jt.format||"tree"===jt.format||(jt.content=q(jt.content))}),a.on("PostRender",function(){a.parser.addNodeFilter("img",function(jt){be(jt,function(Qt){var Se,Be=Qt.attr("src");pt.getByUri(Be)||(Se=Ct.getResultUri(Be))&&Qt.attr("src",Se)})})}),{blobCache:pt,addFilter:function(jt){wt.push(jt)},uploadImages:L,uploadImagesAuto:N,scanForImages:Ot,destroy:function(){pt.destroy(),Ct.destroy(),Q=Y=null}}}(a),a.schema=or(g),a.dom=sr(C,{keep_values:!0,url_converter:a.convertURL,url_converter_scope:a,hex_colors:g.force_hex_style_colors,update_styles:!0,root_element:a.inline?a.getBody():null,collect:function(){return a.inline},schema:a.schema,contentCssCors:a.getParam("content_css_cors",!1,"boolean"),referrerPolicy:Kg(a),onSetAttrib:function(Ve){a.fire("SetAttrib",Ve)}}),a.parser=((N=R1(L_(L=a),L.schema)).addAttributeFilter("src,href,style,tabindex",function(Ve,qe){for(var je,Ze,pn=Ve.length,Pn=L.dom,Vn="data-mce-"+qe;pn--;)(Ze=(je=Ve[pn]).attr(qe))&&!je.attr(Vn)&&0!==Ze.indexOf("data:")&&0!==Ze.indexOf("blob:")&&("style"===qe?((Ze=Pn.serializeStyle(Pn.parseStyle(Ze),je.name)).length||(Ze=null),je.attr(Vn,Ze),je.attr(qe,Ze)):"tabindex"===qe?(je.attr(Vn,Ze),je.attr(qe,null)):je.attr(Vn,L.convertURL(Ze,qe,je.name)))}),N.addNodeFilter("script",function(Ve){for(var qe=Ve.length;qe--;){var je=Ve[qe],Ze=je.attr("type")||"no/type";0!==Ze.indexOf("mce-")&&je.attr("type","mce-"+Ze)}}),L.settings.preserve_cdata&&N.addNodeFilter("#cdata",function(Ve){for(var qe=Ve.length;qe--;){var je=Ve[qe];je.type=8,je.name="#comment",je.value="[CDATA["+L.dom.encode(je.value)+"]]"}}),N.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",function(Ve){for(var qe=Ve.length,je=L.schema.getNonEmptyElements();qe--;){var Ze=Ve[qe];Ze.isEmpty(je)&&0===Ze.getAll("br").length&&(Ze.append(new ru("br",1)).shortEnded=!0)}}),N),a.serializer=_0((z=a.settings,gi(gi({},L_(a)),E_({url_converter:z.url_converter,url_converter_scope:z.url_converter_scope,element_format:z.element_format,entities:z.entities,entity_encoding:z.entity_encoding,indent:z.indent,indent_after:z.indent_after,indent_before:z.indent_before,block_elements:z.block_elements,boolean_attributes:z.boolean_attributes,custom_elements:z.custom_elements,extended_valid_elements:z.extended_valid_elements,invalid_elements:z.invalid_elements,invalid_styles:z.invalid_styles,move_caret_before_on_enter_elements:z.move_caret_before_on_enter_elements,non_empty_elements:z.non_empty_elements,schema:z.schema,self_closing_elements:z.self_closing_elements,short_ended_elements:z.short_ended_elements,special:z.special,text_block_elements:z.text_block_elements,text_inline_elements:z.text_inline_elements,valid_children:z.valid_children,valid_classes:z.valid_classes,valid_elements:z.valid_elements,valid_styles:z.valid_styles,verify_html:z.verify_html,whitespace_elements:z.whitespace_elements}))),a),a.selection=P1(a.dom,a.getWin(),a.serializer,a),a.annotator=xb(a),a.formatter=X1(a),a.undoManager=q1(a),a._nodeChangeDispatcher=new GC(a),a._selectionOverrides=XA(a),rt=a,pt=yp(),Ct=ra(!1),wt=vr(function(Ve){rt.fire("longpress",gi(gi({},Ve),{type:"longpress"})),Ct.set(!0)},400),rt.on("touchstart",function(Ve){hv(Ve).each(function(qe){wt.cancel();var je={x:qe.clientX,y:qe.clientY,target:Ve.target};wt.throttle(Ve),Ct.set(!1),pt.set(je)})},!0),rt.on("touchmove",function(Ve){wt.cancel(),hv(Ve).each(function(qe){pt.on(function(je){var Ze=qe,pn=je,Pn=Math.abs(Ze.clientX-pn.x),Vn=Math.abs(Ze.clientY-pn.y);(5<Pn||5<Vn)&&(pt.clear(),Ct.set(!1),rt.fire("longpresscancel"))})})},!0),rt.on("touchend touchcancel",function(Ve){wt.cancel(),"touchcancel"!==Ve.type&&pt.get().filter(function(qe){return qe.target.isEqualNode(Ve.target)}).each(function(){Ct.get()?Ve.preventDefault():rt.fire("tap",gi(gi({},Ve),{type:"tap"}))})},!0),(Q=Y=a).on("click",function(Ve){Q.dom.getParent(Ve.target,"details")&&Ve.preventDefault()}),(Z=Y).parser.addNodeFilter("details",function(Ve){be(Ve,function(qe){qe.attr("data-mce-open",qe.attr("open")),qe.attr("open","open")})}),Z.serializer.addNodeFilter("details",function(Ve){be(Ve,function(qe){var je=qe.attr("data-mce-open");qe.attr("open",ot(je)?je:null),qe.attr("data-mce-open",null)})}),hc(a)||(q=a).on("click",function(Ve){var qe,je,Ze,pn,Pn;3<=Ve.detail&&(Ze=(qe=q).selection.getRng(),pn=mn.fromRangeStart(Ze),Pn=mn.fromRangeEnd(Ze),!mn.isElementPosition(pn)||D_(je=pn.container())&&cs(je).each(function(Vn){return Ze.setStart(Vn.container(),Vn.offset())}),!mn.isElementPosition(Pn)||D_(je=pn.container())&&uc(je).each(function(Vn){return Ze.setEnd(Vn.container(),Vn.offset())}),qe.selection.setRng(Xp(Ze)))});var Ot,jt,Qt,Se,Be,te,pe,ke,Ge,nn=hc(Ot=a)?ra(null):function(a){var d,g,x,C,L,N,z,q,Y,Q,Z,rt,pt,Ct,wt=function(a){var d=ra(null),g=vt(Gf,a);return a.on("NodeChange",function(x){var C,L,N,z,q,Q,Z,rt,pt,Ct,wt,kt;!Jg(a)||Ci.browser.isIE()&&x.initial||(q=g,Q=x.parents,be(ur(Z=Jt(ze(ul(Qe.fromDom(a.dom.getRoot()),'*[data-mce-selected="inline-boundary"]'),function(Ot){return Ot.dom}),q),rt=Jt(Q,q)),vt(yC,!1)),be(ur(rt,Z),vt(yC,!0)),Ct=d,(pt=a).selection.isCollapsed()&&!0!==pt.composing&&Ct.get()&&(wt=mn.fromRangeStart(pt.selection.getRng()),mn.isTextPosition(wt)&&!1===(nt(kt=wt)||bt(kt))&&(Gd(pt,tA(Ct.get(),wt)),Ct.set(null))),C=g,N=d,z=x.parents,(L=a).selection.isCollapsed()&&be(Jt(z,C),function(Ot){var jt=mn.fromRangeStart(L.selection.getRng());au(C,L.getBody(),jt).bind(function(Qt){return xC(L,N,Qt)})}))}),d}(a);return a.on("keyup compositionstart",vt(NA,a)),Ct=wt,(pt=a).on("keydown",function(kt){var Ot,jt,Qt,Se;!1===kt.isDefaultPrevented()&&(Ot=pt,jt=Ct,Qt=kt,Se=zn().os,Jf([{keyCode:_i.RIGHT,action:tr(CC,Ot,!0)},{keyCode:_i.LEFT,action:tr(CC,Ot,!1)},{keyCode:_i.UP,action:tr(kC,Ot,!1)},{keyCode:_i.DOWN,action:tr(kC,Ot,!0)},{keyCode:_i.RIGHT,action:tr(EC,Ot,!0)},{keyCode:_i.LEFT,action:tr(EC,Ot,!1)},{keyCode:_i.UP,action:tr(pv,Ot,!1)},{keyCode:_i.DOWN,action:tr(pv,Ot,!0)},{keyCode:_i.RIGHT,action:tr(m_,Ot,!0)},{keyCode:_i.LEFT,action:tr(m_,Ot,!1)},{keyCode:_i.UP,action:tr(v_,Ot,!1)},{keyCode:_i.DOWN,action:tr(v_,Ot,!0)},{keyCode:_i.RIGHT,action:tr(bC,Ot,jt,!0)},{keyCode:_i.LEFT,action:tr(bC,Ot,jt,!1)},{keyCode:_i.RIGHT,ctrlKey:!Se.isOSX(),altKey:Se.isOSX(),action:tr(WC,Ot,jt)},{keyCode:_i.LEFT,ctrlKey:!Se.isOSX(),altKey:Se.isOSX(),action:tr(HA,Ot,jt)},{keyCode:_i.UP,action:tr(g_,Ot,!1)},{keyCode:_i.DOWN,action:tr(g_,Ot,!0)}],Qt).each(function(Be){Qt.preventDefault()}))}),rt=wt,(Z=a).on("keydown",function(kt){var Ot,jt,Qt;!1===kt.isDefaultPrevented()&&(jt=rt,Qt=kt,Jf([{keyCode:_i.BACKSPACE,action:tr(Q0,Ot=Z,!1)},{keyCode:_i.BACKSPACE,action:tr(tv,Ot,!1)},{keyCode:_i.DELETE,action:tr(tv,Ot,!0)},{keyCode:_i.BACKSPACE,action:tr(gc,Ot,!1)},{keyCode:_i.DELETE,action:tr(gc,Ot,!0)},{keyCode:_i.BACKSPACE,action:tr(Z0,Ot,jt,!1)},{keyCode:_i.DELETE,action:tr(Z0,Ot,jt,!0)},{keyCode:_i.BACKSPACE,action:tr(Em,Ot,!1)},{keyCode:_i.DELETE,action:tr(Em,Ot,!0)},{keyCode:_i.BACKSPACE,action:tr(V0,Ot,!1)},{keyCode:_i.DELETE,action:tr(V0,Ot,!0)},{keyCode:_i.BACKSPACE,action:tr(cv,Ot,!1)},{keyCode:_i.DELETE,action:tr(cv,Ot,!0)},{keyCode:_i.BACKSPACE,action:tr(sg,Ot,!1)},{keyCode:_i.DELETE,action:tr(sg,Ot,!0)},{keyCode:_i.BACKSPACE,action:tr(B0,Ot,!1)},{keyCode:_i.DELETE,action:tr(B0,Ot,!0)},{keyCode:_i.BACKSPACE,action:tr(uv,Ot,!1)},{keyCode:_i.DELETE,action:tr(uv,Ot,!0)}],Qt).each(function(Se){Qt.preventDefault()}))}),Z.on("keyup",function(kt){var Ot,jt;!1===kt.isDefaultPrevented()&&(jt=kt,Jf([{keyCode:_i.BACKSPACE,action:tr(t_,Ot=Z)},{keyCode:_i.DELETE,action:tr(t_,Ot)}],jt))}),(Q=a).on("keydown",function(kt){var Ot,jt,Qt;kt.keyCode===_i.ENTER&&(Ot=Q,(jt=kt).isDefaultPrevented()||(jt.preventDefault(),(Qt=Ot.undoManager).typing&&(Qt.typing=!1,Qt.add()),Ot.undoManager.transact(function(){!1===Ot.selection.isCollapsed()&&Ot.execCommand("Delete"),ex(Ot,jt)})))}),(Y=a).on("keydown",function(kt){var Ot;!1===kt.isDefaultPrevented()&&(Ot=kt,Jf([{keyCode:_i.SPACEBAR,action:tr(VA,Y)}],Ot).each(function(jt){Ot.preventDefault()}))}),z=N=a,q=Hx(function(){z.composing||Ef(z)},0),YC.isIE()&&(z.on("keypress",function(kt){q.throttle()}),z.on("remove",function(kt){q.cancel()})),N.on("input",function(kt){!1===kt.isComposing&&Ef(N)}),L=wt,(C=a).on("keydown",function(kt){var Ot,jt,Qt;!1===kt.isDefaultPrevented()&&(jt=L,Qt=kt,Jf([{keyCode:_i.END,action:tr(AC,Ot=C,!0)},{keyCode:_i.HOME,action:tr(AC,Ot,!1)},{keyCode:_i.END,action:tr(y_,Ot,!0)},{keyCode:_i.HOME,action:tr(y_,Ot,!1)},{keyCode:_i.END,action:tr(mg,Ot,!0,jt)},{keyCode:_i.HOME,action:tr(mg,Ot,!1,jt)}],Qt).each(function(Se){Qt.preventDefault()}))}),d=a,g=wt,jA.os.isOSX()||(x=ra(!1),d.on("keydown",function(kt){vv(kt)&&k_(x,d,!0)}),d.on("keyup",function(kt){var Ot,jt,Qt;!1===kt.isDefaultPrevented()&&(Qt=kt,Jf([{keyCode:_i.PAGE_UP,action:tr(mg,Ot=d,!1,jt=g)},{keyCode:_i.PAGE_DOWN,action:tr(mg,Ot,!0,jt)}],Qt)),vv(kt)&&x.get()&&(k_(x,d,!1),d.nodeChanged())})),wt}(Ot);Ge=nn,(ke=a).addCommand("delete",function(){var Ve,qe=Ge;Q0(Ve=ke)||tv(Ve,!1)||gc(Ve,!1)||Z0(Ve,qe,!1)||B0(Ve,!1)||Em(Ve)||V0(Ve,!1)||cv(Ve,!1)||sg(Ve)||uv(Ve,!1)||(p_(Ve,"Delete"),E0(Ve))}),ke.addCommand("forwardDelete",function(){var Ve,qe=Ge;tv(Ve=ke,!0)||gc(Ve,!0)||Z0(Ve,qe,!0)||B0(Ve,!0)||Em(Ve)||V0(Ve,!0)||cv(Ve,!0)||sg(Ve)||uv(Ve,!0)||p_(Ve,"ForwardDelete")}),Ga(jt=a)&&jt.on("NodeChange",vt(OA,jt)),Se=(Qt=a).dom,Be=Ga(Qt),te=Qt.getParam("placeholder",nA.getAttrib(Qt.getElement(),"placeholder"),"string"),pe=function(Ve,qe){var je,Ze,pn;!function(Pn){if(Qm(Pn)){var Vn=Pn.keyCode;return!D0(Pn)&&(_i.metaKeyPressed(Pn)||Pn.altKey||112<=Vn&&Vn<=123||oe(IA,Vn))}}(Ve)&&(je=Qt.getBody(),Ze=!(Qm(pn=Ve)&&!(D0(pn)||"keyup"===pn.type&&229===pn.keyCode))&&function(Pn,Vn,xn){if(li(Qe.fromDom(Vn),!1)){var bn=""===xn,qn=Vn.firstElementChild;return!qn||!Pn.getStyle(Vn.firstElementChild,"padding-left")&&!Pn.getStyle(Vn.firstElementChild,"padding-right")&&(bn?!Pn.isBlock(qn):xn===qn.nodeName.toLowerCase())}return!1}(Se,je,Be),""!==Se.getAttrib(je,Uf)===Ze&&!qe||(Se.setAttrib(je,Uf,Ze?te:null),Se.setAttrib(je,"aria-placeholder",Ze?te:null),Qt.fire("PlaceholderToggle",{state:Ze}),Qt.on(Ze?"keydown":"keyup",pe),Qt.off(Ze?"keyup":"keydown",pe)))},te&&Qt.on("init",function(Ve){pe(Ve,!0),Qt.on("change SetContent ExecCommand",pe),Qt.on("paste",function(qe){return Wr.setEditorTimeout(Qt,function(){return pe(qe)})})});var ln=function(a){var d=a;return ji(a.plugins,"rtc").bind(function(g){return ge.from(g.setup)}).fold(function(){return d.rtcInstance=A1(a),ge.none()},function(g){var x,C;return d.rtcInstance=(x=ft(null),C=ft(""),{undoManager:{beforeChange:Nt,add:x,undo:x,redo:x,clear:Nt,reset:Nt,hasUndo:tn,hasRedo:tn,transact:x,ignore:Nt,extra:Nt},formatter:{match:tn,matchAll:ft([]),matchNode:ft(void 0),canApply:tn,closest:C,apply:Nt,remove:Nt,toggle:Nt,formatChanged:ft({unbind:Nt})},editor:{getContent:C,setContent:C,insertContent:Nt,addVisual:Nt},selection:{getContent:C},raw:{getModel:ft(ge.none())}}),ge.some(function(){return g().then(function(L){return d.rtcInstance=(Q=L.selection,Z=L.raw,{undoManager:{beforeChange:(z=L.undoManager).beforeChange,add:z.add,undo:z.undo,redo:z.redo,clear:z.clear,reset:z.reset,hasUndo:z.hasUndo,hasRedo:z.hasRedo,transact:function(rt,pt,Ct){return z.transact(Ct)},ignore:function(rt,pt){return z.ignore(pt)},extra:function(rt,pt,Ct,wt){return z.extra(Ct,wt)}},formatter:{match:function(rt,pt,Ct,wt){return q.match(rt,N(pt),wt)},matchAll:(q=L.formatter).matchAll,matchNode:q.matchNode,canApply:function(rt){return q.canApply(rt)},closest:function(rt){return q.closest(rt)},apply:function(rt,pt,Ct){return q.apply(rt,N(pt))},remove:function(rt,pt,Ct,wt){return q.remove(rt,N(pt))},toggle:function(rt,pt,Ct){return q.toggle(rt,N(pt))},formatChanged:function(rt,pt,Ct,wt,kt){return q.formatChanged(pt,Ct,wt,kt)}},editor:{getContent:function(rt,pt){return Y.getContent(rt)},setContent:function(rt,pt){return Y.setContent(rt,pt)},insertContent:function(rt,pt){return Y.insertContent(rt)},addVisual:(Y=L.editor).addVisual},selection:{getContent:function(rt,pt){return Q.getContent(pt)}},raw:{getModel:function(){return ge.some(Z.getRawModel())}}}),L.rtc.isRemote;function N(rt){return it(rt)?rt:{}}var z,q,Y,Q,Z})})})}(a);(function(Ve){var qe=Ve.settings,je=Ve.getDoc(),Ze=Ve.getBody();Ve.fire("PreInit"),qe.browser_spellcheck||qe.gecko_spellcheck||(je.body.spellcheck=!1,ep.setAttrib(Ze,"spellcheck","false")),Ve.quirks=function(a){function d(je,Ze){try{a.getDoc().execCommand(je,!1,Ze)}catch(pn){}}function g(je){return je.isDefaultPrevented()}function x(){a.shortcuts.add("meta+a",null,"SelectAll")}function C(){a.inline||jt.bind(a.getDoc(),"mousedown mouseup",function(je){var Ze;je.target===a.getDoc().documentElement&&(Ze=Qt.getRng(),a.getBody().focus(),"mousedown"===je.type?ko(Ze.startContainer)||Qt.placeCaretAt(je.clientX,je.clientY):Qt.setRng(Ze))})}function L(){Range.prototype.getClientRects||a.on("mousedown",function(je){var Ze;g(je)||"HTML"!==je.target.nodeName||((Ze=a.getBody()).blur(),Wr.setEditorTimeout(a,function(){Ze.focus()}))})}function N(){a.on("click",function(je){var Ze=je.target;/^(IMG|HR)$/.test(Ze.nodeName)&&"false"!==jt.getContentEditableParent(Ze)&&(je.preventDefault(),a.selection.select(Ze),a.nodeChanged()),"A"===Ze.nodeName&&jt.hasClass(Ze,"mce-item-anchor")&&(je.preventDefault(),Qt.select(Ze))})}function z(){a.on("keydown",function(je){if(!g(je)&&je.keyCode===kt&&Qt.isCollapsed()&&0===Qt.getRng().startOffset){var Ze=Qt.getNode().previousSibling;if(Ze&&Ze.nodeName&&"table"===Ze.nodeName.toLowerCase())return je.preventDefault(),!1}})}function q(){a.getParam("readonly")||a.on("BeforeExecCommand mousedown",function(){d("StyleWithCSS",!1),d("enableInlineTableEditing",!1),ay(a)||d("enableObjectResizing",!1)})}function Y(){a.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")}function Q(){a.inline||a.on("keydown",function(){document.activeElement===document.body&&a.getWin().focus()})}function Z(){a.inline||(a.contentStyles.push("body {min-height: 150px}"),a.on("click",function(je){var Ze;"HTML"===je.target.nodeName&&(11<Ci.ie?a.getBody().focus():(Ze=a.selection.getRng(),a.getBody().focus(),a.selection.setRng(Ze),a.selection.normalize(),a.nodeChanged()))}))}function rt(){Ci.mac&&a.on("keydown",function(je){!_i.metaKeyPressed(je)||je.shiftKey||37!==je.keyCode&&39!==je.keyCode||(je.preventDefault(),a.selection.getSel().modify("move",37===je.keyCode?"backward":"forward","lineboundary"))})}function pt(){a.on("click",function(je){var Ze=je.target;do{if("A"===Ze.tagName)return void je.preventDefault()}while(Ze=Ze.parentNode)}),a.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")}function Ct(){a.on("init",function(){a.dom.bind(a.getBody(),"submit",function(je){je.preventDefault()})})}var wt=vn.each,kt=_i.BACKSPACE,Ot=_i.DELETE,jt=a.dom,Qt=a.selection,Se=a.parser,Be=Ci.gecko,pe=Ci.webkit,ke="data:text/mce-internal,",Ge=Ci.ie?"Text":"URL",nn=Nt;return hc(a)?(pe&&(C(),N(),Ct(),x(),Ci.iOS&&(Q(),Z(),pt())),Be&&(L(),q(),Y(),rt())):(a.on("keydown",function(je){if(!g(je)&&je.keyCode===_i.BACKSPACE){var Ze,pn=(Ze=Qt.getRng()).startContainer,Pn=Ze.startOffset,Vn=jt.getRoot(),xn=pn;if(Ze.collapsed&&0===Pn){for(;xn&&xn.parentNode&&xn.parentNode.firstChild===xn&&xn.parentNode!==Vn;)xn=xn.parentNode;"BLOCKQUOTE"===xn.tagName&&(a.formatter.toggle("blockquote",null,xn),(Ze=jt.createRng()).setStart(pn,0),Ze.setEnd(pn,0),Qt.setRng(Ze))}}}),a.on("keydown",function(je){var Ze,pn,Pn,Vn,xn=je.keyCode;g(je)||xn!==Ot&&xn!==kt||(Ze=a.selection.isCollapsed(),pn=a.getBody(),Ze&&!jt.isEmpty(pn)||!Ze&&(Pn=qe(a.selection.getRng()),(Vn=jt.createRng()).selectNode(a.getBody()),Pn!==qe(Vn))||(je.preventDefault(),a.setContent(""),pn.firstChild&&jt.isBlock(pn.firstChild)?a.selection.setCursorLocation(pn.firstChild,0):a.selection.setCursorLocation(pn,0),a.nodeChanged()))}),Ci.windowsPhone||a.on("keyup focusin mouseup",function(je){_i.modifierPressed(je)||Qt.normalize()},!0),pe&&(C(),N(),Ga(a)&&a.on("init",function(){d("DefaultParagraphSeparator",Ga(a))}),Ct(),z(),Se.addNodeFilter("br",function(je){for(var Ze=je.length;Ze--;)"Apple-interchange-newline"===je[Ze].attr("class")&&je[Ze].remove()}),Ci.iOS?(Q(),Z(),pt()):x()),11<=Ci.ie&&(Z(),z()),Ci.ie&&(x(),d("AutoUrlDetect",!1),a.on("dragstart",function(je){var Ze,pn,Pn;(Ze=je).dataTransfer&&(a.selection.isCollapsed()&&"IMG"===Ze.target.tagName&&Qt.select(Ze.target),0<(pn=a.selection.getContent()).length&&(Pn=ke+escape(a.id)+","+escape(pn),Ze.dataTransfer.setData(Ge,Pn)))}),a.on("drop",function(je){var Ze,pn,Pn,Vn;g(je)||(Ze=je.dataTransfer&&(Vn=je.dataTransfer.getData(Ge))&&0<=Vn.indexOf(ke)?(Vn=Vn.substr(ke.length).split(","),{id:unescape(Vn[0]),html:unescape(Vn[1])}):null)&&Ze.id!==a.id&&(je.preventDefault(),pn=Np(je.x,je.y,a.getDoc()),Qt.setRng(pn),Pn=Ze.html,a.queryCommandSupported("mceInsertClipboardContent")?a.execCommand("mceInsertClipboardContent",!1,{content:Pn,internal:!0}):a.execCommand("mceInsertContent",!1,Pn))})),Be&&(a.on("keydown",function(je){if(!g(je)&&je.keyCode===kt&&a.getBody().getElementsByTagName("hr").length&&Qt.isCollapsed()&&0===Qt.getRng().startOffset){var Ze=Qt.getNode(),pn=Ze.previousSibling;if("HR"===Ze.nodeName)return jt.remove(Ze),void je.preventDefault();pn&&pn.nodeName&&"hr"===pn.nodeName.toLowerCase()&&(jt.remove(pn),je.preventDefault())}}),L(),a.on("keypress",function(je){var Ze;if(!g(je)&&(8===je.keyCode||46===je.keyCode)&&Ve())return Ze=ln(),a.getDoc().execCommand("delete",!1,null),Ze(),je.preventDefault(),!1}),jt.bind(a.getDoc(),"cut",function(je){var Ze;!g(je)&&Ve()&&(Ze=ln(),Wr.setEditorTimeout(a,function(){Ze()}))}),q(),a.on("SetContent ExecCommand",function(je){"setcontent"!==je.type&&"mceInsertLink"!==je.command||wt(jt.select("a"),function(Ze){var pn=Ze.parentNode,Pn=jt.getRoot();if(pn.lastChild===Ze){for(;pn&&!jt.isBlock(pn);){if(pn.parentNode.lastChild!==pn||pn===Pn)return;pn=pn.parentNode}jt.add(pn,"br",{"data-mce-bogus":1})}})}),Y(),rt(),z())),{refreshContentEditable:nn,isHidden:function(){if(!Be||a.removed)return!1;var je=a.selection.getSel();return!je||!je.rangeCount||0===je.rangeCount}};function ln(){var je=jt.getAttribs(Qt.getStart().cloneNode(!1));return function(){var Ze=Qt.getStart();Ze!==a.getBody()&&(jt.setAttrib(Ze,"style",null),wt(je,function(pn){Ze.setAttributeNode(pn.cloneNode(!0))}))}}function Ve(){return!Qt.isCollapsed()&&jt.getParent(Qt.getStart(),jt.isBlock)!==jt.getParent(Qt.getEnd(),jt.isBlock)}function qe(je){var Ze=jt.create("body"),pn=je.cloneContents();return Ze.appendChild(pn),Qt.serializer.serialize(Ze,{format:"html"})}}(Ve),Ve.fire("PostRender");var pn=Ve.getParam("directionality",Au.isRtl()?"rtl":void 0);void 0!==pn&&(Ze.dir=pn),qe.protect&&Ve.on("BeforeSetContent",function(Pn){vn.each(qe.protect,function(Vn){Pn.content=Pn.content.replace(Vn,function(xn){return"\x3c!--mce:protected "+escape(xn)+"--\x3e"})})}),Ve.on("SetContent",function(){Ve.addVisual(Ve.getBody())}),Ve.on("compositionstart compositionend",function(Pn){Ve.composing="compositionstart"===Pn.type})})(a),ln.fold(function(){ZC(a).then(function(){return tp(a)})},function(Ve){a.setProgressState(!0),ZC(a).then(function(){Ve().then(function(qe){a.setProgressState(!1),tp(a)},function(qe){a.notificationManager.open({type:"error",text:String(qe)}),tp(a)})})})}function KC(a){return a.replace(/^\-/,"")}function R_(a){return{editorContainer:a,iframeContainer:a,api:{}}}function z_(a){var d,g,x,C,L,N,z,q;a.fire("ScriptsLoaded"),g=vn.trim(oy(d=a)),x=d.ui.registry.getAll().icons,En(gi(gi({},Xm.get("default").icons),Xm.get(g).icons),function(Ot,jt){Yi(x,jt)||d.ui.registry.addIcon(jt,Ot)}),N=Cp(C=a),ot(N)?(C.settings.theme=KC(N),L=ou.get(N),C.theme=new L(C,ou.urls[N]),C.theme.init&&C.theme.init(C,ou.urls[N]||C.documentBaseUrl.replace(/\/$/,""),C.$)):C.theme={},q=[],vn.each(nb(z=a).split(/[ ,]/),function(Ot){W_(z,q,KC(Ot))});var Y=function(a){var d,g,x,C,L,N,z,q=a.getElement();return a.orgDisplay=q.style.display,ot(Cp(a))?a.theme.renderUI():Pt(Cp(a))?(g=(d=a).getElement(),(x=Cp(d)(d,g)).editorContainer.nodeType&&(x.editorContainer.id=x.editorContainer.id||d.id+"_parent"),x.iframeContainer&&x.iframeContainer.nodeType&&(x.iframeContainer.id=x.iframeContainer.id||d.id+"_iframecontainer"),x.height=x.iframeHeight||g.offsetHeight,x):(z=(C=a).getElement(),C.inline?R_(null):(L=z,N=H_.create("div"),H_.insertAfter(N,L),R_(N)))}(a),Q=a,Z=ge.from(Y.api).getOr({}),rt={show:ge.from(Z.show).getOr(Nt),hide:ge.from(Z.hide).getOr(Nt),disable:ge.from(Z.disable).getOr(Nt),isDisabled:ge.from(Z.isDisabled).getOr(tn),enable:function(){Q.mode.isReadOnly()||ge.from(Z.enable).map(Pe)}};Q.ui=gi(gi({},Q.ui),rt);var pt,Ct,wt,kt={editorContainer:Y.editorContainer,iframeContainer:Y.iframeContainer};return a.editorContainer=kt.editorContainer||null,function(a){var d,g;a.contentCSS=a.contentCSS.concat(_s(a,(g=(d=a).getParam("content_css"),ot(g)?ze(g.split(","),yt):It(g)?g:!1===g||d.inline?[]:["default"])),_s(a,tb(a)))}(a),a.inline?O_(a):(wt=function(a,d){var g,x,C,L,N=a.translate("Rich Text Area"),z=(g=a.id,x=N,C=a.getParam("iframe_attrs",{}),Es(L=Qe.fromTag("iframe"),C),Es(L,{id:g+"_ifr",frameBorder:"0",allowTransparency:"true",title:x}),dr(L,"tox-edit-area__iframe"),L.dom);z.onload=function(){z.onload=null,a.fire("load")};var q=function(Y,Q){if(document.domain!==window.location.hostname&&Ci.browser.isIE()){var Z=W1("mce");Y[Z]=function(){O_(Y)};var rt='javascript:(function(){document.open();document.domain="'+document.domain+'";var ed = window.parent.tinymce.get("'+Y.id+'");document.write(ed.iframeHTML);document.close();ed.'+Z+"(true);})()";return Sg.setAttrib(Q,"src",rt),!0}return!1}(a,z);return a.contentAreaContainer=d.iframeContainer,a.iframeElement=z,a.iframeHTML=function(Y){var Q=Y.getParam("doctype","<!DOCTYPE html>")+"<html><head>";Y.getParam("document_base_url","")!==Y.documentBaseUrl&&(Q+='<base href="'+Y.documentBaseURI.getURI()+'" />'),Q+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';var Z=vf(Y,"body_id","tinymce"),rt=vf(Y,"body_class",""),pt=Y.translate(Y.getParam("iframe_aria_text","Rich Text Area. Press ALT-0 for help.","string"));return Rw(Y)&&(Q+='<meta http-equiv="Content-Security-Policy" content="'+Rw(Y)+'" />'),Q+'</head><body id="'+Z+'" class="mce-content-body '+rt+'" data-id="'+Y.id+'" aria-label="'+pt+'"><br></body></html>'}(a),Sg.add(d.iframeContainer,z),q}(pt=a,Ct=kt),Ct.editorContainer&&(Sg.get(Ct.editorContainer).style.display=pt.orgDisplay,pt.hidden=Sg.isHidden(Ct.editorContainer)),pt.getElement().style.display="none",Sg.setAttrib(pt.id,"aria-hidden","true"),void(wt||O_(pt)))}function wg(a){return"-"===a.charAt(0)}function _v(a,d,g){return ge.from(d).filter(function(x){return 0<x.length&&!Xm.has(x)}).map(function(x){return{url:a.editorManager.baseURL+"/icons/"+x+"/icons"+g+".js",name:ge.some(x)}})}function QC(a){return function(d,g){return ge.from(g).map(Qe.fromDom).filter(na).bind(function(x){return C=a,L=d,n0(Qe.fromDom(x.dom),function(q){return ph(Y=q,C).orThunk(function(){return"font"===pr(Y)?ji(Cg,C).bind(function(Q){return Sc(Y,Q)}):ge.none()});var Y},function(q){return _(Qe.fromDom(L),q)}).or(ge.from(sr.DOM.getStyle(x.dom,a,!0)));var C,L}).getOr("")}}function GA(a){return cs(a.getBody()).map(function(d){var g=d.container();return ri(g)?g.parentNode:g})}function Kd(a,d){return g=a,x=dt(ge.some,d),ge.from((C=g).selection.getRng()).bind(function(L){var N=C.getBody();return L.startContainer===N&&0===L.startOffset?ge.none():ge.from(C.selection.getStart(!0))}).orThunk(vt(GA,g)).map(Qe.fromDom).filter(na).bind(x);var g,x,C}function F_(a,d){if(/^[0-9.]+$/.test(d)){var g=parseInt(d,10);if(1<=g&&g<=7){var x=vn.explode(a.getParam("font_size_style_values","xx-small,x-small,small,medium,large,x-large,xx-large")),C=vn.explode(a.getParam("font_size_classes",""));return C?C[g-1]||d:x[g-1]||d}return d}return d}var Qd=Hr,qA=xa,lx=function(a){a.on(function(d){_g(d.ghost)}),a.clear()},V_=xa,Jd=Hr,ep=sr.DOM,Sg=sr.DOM,H_=sr.DOM,W_=function(a,d,g){var x,L,N,z=Fu.get(g),q=Fu.urls[g]||a.documentBaseUrl.replace(/\/$/,"");if(g=vn.trim(g),z&&-1===vn.inArray(d,g)&&(vn.each(Fu.dependencies(g),function(Q){W_(a,d,Q)}),!a.plugins[g]))try{var Y=new z(a,q,a.$);(a.plugins[g]=Y).init&&(Y.init(a,q),d.push(g))}catch(Q){L=Q,Ab(x=a,"PluginLoadError",{message:N=Au.translate(["Failed to initialize plugin: {0}",g])}),j0(N,L),dc(x,N)}},np=sr.DOM,Cg={"font-size":"size","font-family":"face"},tf=QC("font-size"),ef=gt(function(a){return a.replace(/[\'\"\\]/g,"").replace(/,\s+/g,",")},QC("font-family")),oh=vn.each,j_=vn.map,JC=vn.inArray,tk=(Ys.prototype.execCommand=function(a,d,g,x){var C,L,N=!1,z=this;if(!z.editor.removed){if("mcefocus"!==a.toLowerCase()&&(/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(a)||x&&x.skip_focus?Yc(L=z.editor).each(function(Y){return L.selection.setRng(Y)}):z.editor.focus()),(x=z.editor.fire("BeforeExecCommand",{command:a,ui:d,value:g})).isDefaultPrevented())return!1;var q=a.toLowerCase();if(C=z.commands.exec[q])return C(q,d,g),z.editor.fire("ExecCommand",{command:a,ui:d,value:g}),!0;if(oh(this.editor.plugins,function(Y){if(Y.execCommand&&Y.execCommand(a,d,g))return z.editor.fire("ExecCommand",{command:a,ui:d,value:g}),!(N=!0)}),N)return N;if(z.editor.theme&&z.editor.theme.execCommand&&z.editor.theme.execCommand(a,d,g))return z.editor.fire("ExecCommand",{command:a,ui:d,value:g}),!0;try{N=z.editor.getDoc().execCommand(a,d,g)}catch(Y){}return!!N&&(z.editor.fire("ExecCommand",{command:a,ui:d,value:g}),!0)}},Ys.prototype.queryCommandState=function(a){var d;if(!this.editor.quirks.isHidden()&&!this.editor.removed){if(a=a.toLowerCase(),d=this.commands.state[a])return d(a);try{return this.editor.getDoc().queryCommandState(a)}catch(g){}return!1}},Ys.prototype.queryCommandValue=function(a){var d;if(!this.editor.quirks.isHidden()&&!this.editor.removed){if(a=a.toLowerCase(),d=this.commands.value[a])return d(a);try{return this.editor.getDoc().queryCommandValue(a)}catch(g){}}},Ys.prototype.addCommands=function(a,d){void 0===d&&(d="exec");var g=this;oh(a,function(x,C){oh(C.toLowerCase().split(","),function(L){g.commands[d][L]=x})})},Ys.prototype.addCommand=function(a,d,g){var x=this;a=a.toLowerCase(),this.commands.exec[a]=function(C,L,N,z){return d.call(g||x.editor,L,N,z)}},Ys.prototype.queryCommandSupported=function(a){if(a=a.toLowerCase(),this.commands.exec[a])return!0;try{return this.editor.getDoc().queryCommandSupported(a)}catch(d){}return!1},Ys.prototype.addQueryStateHandler=function(a,d,g){var x=this;a=a.toLowerCase(),this.commands.state[a]=function(){return d.call(g||x.editor)}},Ys.prototype.addQueryValueHandler=function(a,d,g){var x=this;a=a.toLowerCase(),this.commands.value[a]=function(){return d.call(g||x.editor)}},Ys.prototype.hasCustomCommand=function(a){return a=a.toLowerCase(),!!this.commands.exec[a]},Ys.prototype.execNativeCommand=function(a,d,g){return void 0===d&&(d=!1),void 0===g&&(g=null),this.editor.getDoc().execCommand(a,d,g)},Ys.prototype.isFormatMatch=function(a){return this.editor.formatter.match(a)},Ys.prototype.toggleFormat=function(a,d){this.editor.formatter.toggle(a,d),this.editor.nodeChanged()},Ys.prototype.storeSelection=function(a){this.selectionBookmark=this.editor.selection.getBookmark(a)},Ys.prototype.restoreSelection=function(){this.editor.selection.moveToBookmark(this.selectionBookmark)},Ys.prototype.setupCommands=function(a){var d=this;function g(x){return function(){var C=a.selection,L=C.isCollapsed()?[a.dom.getParent(C.getNode(),a.dom.isBlock)]:C.getSelectedBlocks(),N=j_(L,function(z){return!!a.formatter.matchNode(z,x)});return-1!==JC(N,!0)}}this.addCommands({"mceResetDesignMode,mceBeginUndoLevel":Nt,"mceEndUndoLevel,mceAddUndoLevel":function(){a.undoManager.add()},mceFocus:function(x,C,L){var N;(N=a).removed||(L?By:function(q){var Y=q.selection,Q=q.getBody(),Z=Y.getRng();q.quirks.refreshContentEditable(),void 0!==q.bookmark&&!1===Nd(q)&&Yc(q).each(function(wt){q.selection.setRng(wt),Z=wt});var rt,pt,Ct=(rt=q,pt=Y.getNode(),rt.dom.getParent(pt,function(wt){return"true"===rt.dom.getContentEditable(wt)}));if(q.$.contains(Q,Ct))return Fp(Ct),Oy(q,Z),By(q);q.inline||(Ci.opera||Fp(Q),q.getWin().focus()),(Ci.gecko||q.inline)&&(Fp(Q),Oy(q,Z)),By(q)})(N)},"Cut,Copy,Paste":function(x){var C,L,N=a.getDoc();try{d.execNativeCommand(x)}catch(z){C=!0}!(C="paste"===x&&!N.queryCommandEnabled(x)||C)&&N.queryCommandSupported(x)||(L=a.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead."),Ci.mac&&(L=L.replace(/Ctrl\+/g,"\u2318+")),a.notificationManager.open({text:L,type:"error"}))},unlink:function(){var x;a.selection.isCollapsed()?(x=a.dom.getParent(a.selection.getStart(),"a"))&&a.dom.remove(x,!0):a.formatter.remove("link")},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone":function(x){var C=x.substring(7);"full"===C&&(C="justify"),oh("left,center,right,justify".split(","),function(L){C!==L&&a.formatter.remove("align"+L)}),"none"!==C&&d.toggleFormat("align"+C)},"InsertUnorderedList,InsertOrderedList":function(x){var C;d.execNativeCommand(x);var L=a.dom.getParent(a.selection.getNode(),"ol,ul");L&&/^(H[1-6]|P|ADDRESS|PRE)$/.test((C=L.parentNode).nodeName)&&(d.storeSelection(),a.dom.split(C,L),d.restoreSelection())},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(x){d.toggleFormat(x)},"ForeColor,HiliteColor":function(x,C,L){d.toggleFormat(x,{value:L})},FontName:function(x,C,L){var N,z;z=F_(N=a,L),N.formatter.toggle("fontname",{value:ze(z.split(/\s*,\s*/),function(q){return-1===q.indexOf(" ")||ct(q,'"')||ct(q,"'")?q:"'"+q+"'"}).join(",")}),N.nodeChanged()},FontSize:function(x,C,L){var N;(N=a).formatter.toggle("fontsize",{value:F_(N,L)}),N.nodeChanged()},LineHeight:function(x,C,L){var N;(N=a).formatter.toggle("lineheight",{value:String(L)}),N.nodeChanged()},Lang:function(x,C,L){d.toggleFormat(x,{value:L.code,customValue:L.customCode})},RemoveFormat:function(x){a.formatter.remove(x)},mceBlockQuote:function(){d.toggleFormat("blockquote")},FormatBlock:function(x,C,L){return d.toggleFormat(L||"p")},mceCleanup:function(){var x=a.selection.getBookmark();a.setContent(a.getContent()),a.selection.moveToBookmark(x)},mceRemoveNode:function(x,C,L){var N=L||a.selection.getNode();N!==a.getBody()&&(d.storeSelection(),a.dom.remove(N,!0),d.restoreSelection())},mceSelectNodeDepth:function(x,C,L){var N=0;a.dom.getParent(a.selection.getNode(),function(z){if(1===z.nodeType&&N++===L)return a.selection.select(z),!1},a.getBody())},mceSelectNode:function(x,C,L){a.selection.select(L)},mceInsertContent:function(x,C,L){var N,z,q,Y;N=a,q=(z=function(Q){if("string"==typeof Q)return{content:Q,details:{}};var Z=vn.extend({paste:Q.paste,data:{paste:Q.paste}},Q);return{content:Q.content,details:Z}}(L)).content,Y=z.details,g0(N).editor.insertContent(q,Y)},mceInsertRawHTML:function(x,C,L){a.selection.setContent("tiny_mce_marker");var N=a.getContent();a.setContent(N.replace(/tiny_mce_marker/g,function(){return L}))},mceInsertNewLine:function(x,C,L){ex(a,L)},mceToggleFormat:function(x,C,L){d.toggleFormat(L)},mceSetContent:function(x,C,L){a.setContent(L)},"Indent,Outdent":function(x){_C(a,x)},mceRepaint:Nt,InsertHorizontalRule:function(){a.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){a.hasVisual=!a.hasVisual,a.addVisual()},mceReplaceContent:function(x,C,L){a.execCommand("mceInsertContent",!1,L.replace(/\{\$selection\}/g,a.selection.getContent({format:"text"})))},mceInsertLink:function(x,C,L){"string"==typeof L&&(L={href:L});var N=a.dom.getParent(a.selection.getNode(),"a");L.href=L.href.replace(/ /g,"%20"),N&&L.href||a.formatter.remove("link"),L.href&&a.formatter.apply("link",L,N)},selectAll:function(){var x,C=a.dom.getParent(a.selection.getStart(),xa);C&&((x=a.dom.createRng()).selectNodeContents(C),a.selection.setRng(x))},mceNewDocument:function(){a.setContent("")},InsertLineBreak:function(x,C,L){return __(a,L),!0}}),d.addCommands({JustifyLeft:g("alignleft"),JustifyCenter:g("aligncenter"),JustifyRight:g("alignright"),JustifyFull:g("alignjustify"),"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(x){return d.isFormatMatch(x)},mceBlockQuote:function(){return d.isFormatMatch("blockquote")},Outdent:function(){return yg(a)},"InsertUnorderedList,InsertOrderedList":function(x){var C=a.dom.getParent(a.selection.getNode(),"ul,ol");return C&&("insertunorderedlist"===x&&"UL"===C.tagName||"insertorderedlist"===x&&"OL"===C.tagName)}},"state"),d.addCommands({Undo:function(){a.undoManager.undo()},Redo:function(){a.undoManager.redo()}}),d.addQueryValueHandler("FontName",function(){return Kd(x=a,function(C){return ef(x.getBody(),C.dom)}).getOr("");var x},this),d.addQueryValueHandler("FontSize",function(){return Kd(x=a,function(C){return tf(x.getBody(),C.dom)}).getOr("");var x},this),d.addQueryValueHandler("LineHeight",function(){return Kd(x=a,function(C){var L=Qe.fromDom(x.getBody());return n0(C,function(N){return ph(N,"line-height")},vt(_,L)).getOrThunk(function(){var N=parseFloat(rs(C,"line-height")),z=parseFloat(rs(C,"font-size"));return String(N/z)})}).getOr("");var x},this)},Ys);function Ys(a){this.commands={state:{},exec:{},value:{}},this.editor=a,this.setupCommands(a)}function ux(a,d,g){try{a.getDoc().execCommand(d,!1,String(g))}catch(x){}}function wv(a,d){a.dom.contentEditable=d?"true":"false"}function dl(a){return a.readonly}function Y_(a){a.parser.addAttributeFilter("contenteditable",function(d){dl(a)&&be(d,function(g){g.attr(nf,g.attr("contenteditable")),g.attr("contenteditable","false")})}),a.serializer.addAttributeFilter(nf,function(d){dl(a)&&be(d,function(g){g.attr("contenteditable",g.attr(nf))})}),a.serializer.addTempAttr(nf)}var nf="data-mce-contenteditable",nk=vn.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," "),hx=(Ol.isNative=function(a){return!!nk[a.toLowerCase()]},Ol.prototype.fire=function(a,d){var g=a.toLowerCase(),x=gr(g,d||{},this.scope);this.settings.beforeFire&&this.settings.beforeFire(x);var C=this.bindings[g];if(C)for(var L=0,N=C.length;L<N;L++){var z=C[L];if(!z.removed){if(z.once&&this.off(g,z.func),x.isImmediatePropagationStopped())return x;if(!1===z.func.call(this.scope,x))return x.preventDefault(),x}}return x},Ol.prototype.on=function(a,d,g,x){if(d=!1===d?tn:d){var C={func:d,removed:!1};x&&vn.extend(C,x);for(var L=a.toLowerCase().split(" "),N=L.length;N--;){var z=L[N],q=this.bindings[z];q||(q=[],this.toggleEvent(z,!0)),q=g?oo([C],q,!0):oo(oo([],q,!0),[C],!1),this.bindings[z]=q}}return this},Ol.prototype.off=function(a,d){var g=this;if(a)for(var x=a.toLowerCase().split(" "),C=x.length;C--;){var L,N=x[C],z=this.bindings[N];if(!N)return En(this.bindings,function(q,Y){g.toggleEvent(Y,!1),delete g.bindings[Y]}),this;z&&(d?(z=(L=de(z,function(q){return q.func===d})).fail,this.bindings[N]=z,be(L.pass,function(q){q.removed=!0})):z.length=0,z.length||(this.toggleEvent(a,!1),delete this.bindings[N]))}else En(this.bindings,function(q,Y){g.toggleEvent(Y,!1)}),this.bindings={};return this},Ol.prototype.once=function(a,d,g){return this.on(a,d,g,{once:!0})},Ol.prototype.has=function(a){return a=a.toLowerCase(),!(!this.bindings[a]||0===this.bindings[a].length)},Ol);function Ol(a){this.bindings={},this.settings=a||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||tn}function Sv(a){return a._eventDispatcher||(a._eventDispatcher=new hx({scope:a,toggleEvent:function(d,g){hx.isNative(d)&&a.toggleNativeEvent&&a.toggleNativeEvent(d,g)}})),a._eventDispatcher}function dx(a,d){if("selectionchange"===d)return a.getDoc();if(!a.inline&&/^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(d))return a.getDoc().documentElement;var g=eb(a);return g?(a.eventRoot||(a.eventRoot=gx.select(g)[0]),a.eventRoot):a.getBody()}function X_(a,d,g){var x,C,L,N;a.hidden||dl(a)?dl(a)&&(x=a,"click"!==(C=g).type||_i.metaKeyPressed(C)||(L=Qe.fromDom(C.target),N=x,Ic(L,"a",function(z){return _(z,Qe.fromDom(N.getBody()))}).bind(function(z){return Sc(z,"href")}).each(function(z){var q,Y;C.preventDefault(),/^#/.test(z)?(q=x.dom.select(z+',[name="'+(ct(Y=z,"#")?Y.substring("#".length):Y)+'"]')).length&&x.selection.scrollIntoView(q[0],!0):window.open(z,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")}))):a.fire(d,g)}function G_(a,d){var g,x;a.delegates||(a.delegates={}),a.delegates[d]||a.removed||(x=dx(a,d),eb(a)?(vc||(vc={},a.editorManager.on("removeEditor",function(){a.editorManager.activeEditor||vc&&(En(vc,function(C,L){a.dom.unbind(dx(a,L))}),vc=null)})),vc[d]||(vc[d]=g=function(C){for(var L=C.target,N=a.editorManager.get(),z=N.length;z--;){var q=N[z].getBody();q!==L&&!gx.isChildOf(L,q)||X_(N[z],d,C)}},gx.bind(x,d,g))):(gx.bind(x,d,g=function(C){X_(a,d,C)}),a.delegates[d]=g))}function fx(a,d,g,x){var C=g[d.get()],L=g[x];try{L.activate()}catch(N){return void console.error("problem while activating editor mode "+x+":",N)}C.deactivate(),C.editorReadOnly!==L.editorReadOnly&&function(a,d){var g,x,C=Qe.fromDom(a.getBody());(function(a,d,g){var x,C,L,N,q;Dw(a,d)&&!1===g?(C=d,qv(x=a)?x.dom.classList.remove(C):0<(q=Jt(Gv(N=x,"class"),function(Y){return"mce-content-readonly"!==Y})).length?Ds(N,"class",q.join(" ")):bl(N,"class"),0===(qv(L=x)?L.dom.classList:Gv(L,"class")).length&&bl(L,"class")):g&&dr(a,d)})(C,"mce-content-readonly",d),d?(a.selection.controlSelection.hideResizeRect(),a._selectionOverrides.hideFakeCaret(),ge.from(a.selection.getNode()).each(function(L){L.removeAttribute("data-mce-selected")}),wv(C,!(a.readonly=!0)),be(ul(C,'*[contenteditable="true"]'),function(L){Ds(L,nf,"true"),wv(L,!1)})):(wv(C,!(a.readonly=!1)),be(ul(C,"*["+nf+'="true"]'),function(L){bl(L,nf),wv(L,!0)}),ux(a,"StyleWithCSS",!1),ux(a,"enableInlineTableEditing",!1),ux(a,"enableObjectResizing",!1),(Nd(g=a)||Py(gs(Qe.fromDom((x=g).getElement()))).filter(function(L){return!(void 0!==(N=L.dom.classList)&&(N.contains("tox-edit-area")||N.contains("tox-edit-area__iframe")||N.contains("mce-content-body")))&&Nh(x,L.dom);var N}).isSome())&&a.focus(),a.selection.setRng(a.selection.getRng()),a.nodeChanged())}(a,L.editorReadOnly),d.set(x),a.fire("SwitchMode",{mode:x})}function UA(a){var d,g={};U_($_(a.toLowerCase(),"+"),function(C){C in kv?g[C]=!0:/^[0-9]{2,}$/.test(C)?g.keyCode=parseInt(C,10):(g.charCode=C.charCodeAt(0),g.keyCode=mx[C]||C.toUpperCase().charCodeAt(0))});var x=[g.keyCode];for(d in kv)g[d]?x.push(d):g[d]=!1;return g.id=x.join(","),g.access&&(g.alt=!0,Ci.mac?g.ctrl=!0:g.shift=!0),g.meta&&(Ci.mac?g.meta=!0:(g.ctrl=!0,g.meta=!1)),g}var vc,px={fire:function(a,d,g){if(this.removed&&"remove"!==a&&"detach"!==a)return d;var x=Sv(this).fire(a,d);if(!1!==g&&this.parent)for(var C=this.parent();C&&!x.isPropagationStopped();)C.fire(a,x,!1),C=C.parent();return x},on:function(a,d,g){return Sv(this).on(a,d,g)},off:function(a,d){return Sv(this).off(a,d)},once:function(a,d){return Sv(this).once(a,d)},hasEventListeners:function(a){return Sv(this).has(a)}},gx=sr.DOM,q_=gi(gi({},px),{bindPendingEventDelegates:function(){var a=this;vn.each(a._pendingNativeEvents,function(d){G_(a,d)})},toggleNativeEvent:function(a,d){var g=this;"focus"!==a&&"blur"!==a&&(g.removed||(d?g.initialized?G_(g,a):g._pendingNativeEvents?g._pendingNativeEvents.push(a):g._pendingNativeEvents=[a]:g.initialized&&(g.dom.unbind(dx(g,a),a,g.delegates[a]),delete g.delegates[a])))},unbindAllNativeEvents:function(){var a=this,d=a.getBody(),g=a.dom;a.delegates&&(En(a.delegates,function(x,C){a.dom.unbind(dx(a,C),C,x)}),delete a.delegates),!a.inline&&d&&g&&(d.onload=null,g.unbind(a.getWin()),g.unbind(a.getDoc())),g&&(g.unbind(d),g.unbind(a.getContainer()))}}),Cv=["design","readonly"],U_=vn.each,$_=vn.explode,mx={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},kv=vn.makeMap("alt,ctrl,shift,meta,access"),Av=(Yu.prototype.add=function(a,d,g,x){var C=this,L=C.normalizeCommandFunc(g);return U_($_(vn.trim(a)),function(N){var z=C.createShortcut(N,d,L,x);C.shortcuts[z.id]=z}),!0},Yu.prototype.remove=function(a){var d=this.createShortcut(a);return!!this.shortcuts[d.id]&&(delete this.shortcuts[d.id],!0)},Yu.prototype.normalizeCommandFunc=function(a){var d=this,g=a;return"string"==typeof g?function(){d.editor.execCommand(g,!1,null)}:vn.isArray(g)?function(){d.editor.execCommand(g[0],g[1],g[2])}:g},Yu.prototype.createShortcut=function(a,d,g,x){var C=vn.map($_(a,">"),UA);return C[C.length-1]=vn.extend(C[C.length-1],{func:g,scope:x||this.editor}),vn.extend(C[0],{desc:this.editor.translate(d),subpatterns:C.slice(1)})},Yu.prototype.hasModifier=function(a){return a.altKey||a.ctrlKey||a.metaKey},Yu.prototype.isFunctionKey=function(a){return"keydown"===a.type&&112<=a.keyCode&&a.keyCode<=123},Yu.prototype.matchShortcut=function(a,d){return!!d&&d.ctrl===a.ctrlKey&&d.meta===a.metaKey&&d.alt===a.altKey&&d.shift===a.shiftKey&&!!(a.keyCode===d.keyCode||a.charCode&&a.charCode===d.charCode)&&(a.preventDefault(),!0)},Yu.prototype.executeShortcutAction=function(a){return a.func?a.func.call(a.scope):null},Yu);function Yu(a){this.shortcuts={},this.pendingPatterns=[],this.editor=a;var d=this;a.on("keyup keypress keydown",function(g){!d.hasModifier(g)&&!d.isFunctionKey(g)||g.isDefaultPrevented()||(U_(d.shortcuts,function(x){if(d.matchShortcut(g,x))return d.pendingPatterns=x.subpatterns.slice(0),"keydown"===g.type&&d.executeShortcutAction(x),!0}),d.matchShortcut(g,d.pendingPatterns[0])&&(1===d.pendingPatterns.length&&"keydown"===g.type&&d.executeShortcutAction(d.pendingPatterns[0]),d.pendingPatterns.shift()))})}var Yh=sr.DOM,vx=vn.extend,$A=vn.each,Z_=vn.resolve,ik=Ci.ie,Mv=(lr.prototype.render=function(){!function(a){var d=a.id;Au.setCode(Qg(a));var g,x,C,L,N=function(){np.unbind(window,"ready",N),a.render()};Lc.Event.domLoaded?a.getElement()&&Ci.contentEditable&&(g=Qe.fromDom(a.getElement()),x=Ke(g.dom.attributes,function(z,q){return z[q.name]=q.value,z},{}),a.on("remove",function(){_e(g.dom.attributes,function(z){return bl(g,z.name),0}),Es(g,x)}),a.ui.styleSheetLoader=Yl.forElement(g,{contentCssCors:(C=a).getParam("content_css_cors"),referrerPolicy:Kg(C)}),a.getParam("inline")?a.inline=!0:(a.orgVisibility=a.getElement().style.visibility,a.getElement().style.visibility="hidden"),(L=a.getElement().form||np.getParent(d,"form"))&&(a.formElement=L,a.getParam("hidden_input")&&!nd(a.getElement())&&(np.insertAfter(np.create("input",{type:"hidden",name:d}),d),a.hasHiddenInput=!0),a.formEventDelegate=function(z){a.fire(z.type,z)},np.bind(L,"submit reset",a.formEventDelegate),a.on("reset",function(){a.resetContent()}),!a.getParam("submit_patch")||L.submit.nodeType||L.submit.length||L._mceOldSubmit||(L._mceOldSubmit=L.submit,L.submit=function(){return a.editorManager.triggerSave(),a.setDirty(!1),L._mceOldSubmit(L)})),a.windowManager=M0(a),a.notificationManager=S0(a),"xml"===a.getParam("encoding")&&a.on("GetContent",function(z){z.save&&(z.content=np.encode(z.content))}),a.getParam("add_form_submit_trigger")&&a.on("submit",function(){a.initialized&&a.save()}),a.getParam("add_unload_trigger")&&(a._beforeUnload=function(){!a.initialized||a.destroyed||a.isHidden()||a.save({format:"raw",no_events:!0,set_dirty:!1})},a.editorManager.on("BeforeUnload",a._beforeUnload)),a.editorManager.add(a),function(a,d){var g,x,C=ia.ScriptLoader,L=C,N=d,z=function(){var Y,Q,Z,rt,pt,Ct,wt,kt,Ot;pt=C,kt=Qg(Ct=a),Ot=Ct.getParam("language_url","","string"),!1===Au.hasCode(kt)&&"en"!==kt&&pt.add(wt=""!==Ot?Ot:Ct.editorManager.baseURL+"/langs/"+kt+".js",Nt,void 0,function(){qm(Ct,"LanguageLoadError",Um("language",wt,kt))}),Z=C,be(function(jt){for(var Qt=[],Se=function(te){Qt.push(te)},Be=0;Be<jt.length;Be++)jt[Be].each(Se);return Qt}([_v(rt=a,"default",d),ge.from(rt.getParam("icons_url","","string")).filter(function(jt){return 0<jt.length}).map(function(jt){return{url:jt,name:ge.none()}}).orThunk(function(){return _v(rt,oy(rt),"")})]),function(jt){Z.add(jt.url,Nt,void 0,function(){qm(rt,"IconsLoadError",Um("icons",jt.url,jt.name.getOrUndefined()))})}),Q=d,vn.each((Y=a).getParam("external_plugins"),function(jt,Qt){Fu.load(Qt,jt,Nt,void 0,function(){$m(Y,jt,Qt)}),Y.settings.plugins+=" "+Qt}),vn.each(nb(Y).split(/[ ,]/),function(jt){var Qt,Se;(jt=vn.trim(jt))&&!Fu.urls[jt]&&(wg(jt)?(jt=jt.substr(1,jt.length),Qt=Fu.dependencies(jt),vn.each(Qt,function(Be){var te=Fu.createUrl({prefix:"plugins/",resource:Be,suffix:"/plugin"+Q+".js"},Be);Fu.load(te.resource,te,Nt,void 0,function(){$m(Y,te.prefix+te.resource+te.suffix,te.resource)})})):Fu.load(jt,Se={prefix:"plugins/",resource:jt,suffix:"/plugin"+Q+".js"},Nt,void 0,function(){$m(Y,Se.prefix+Se.resource+Se.suffix,jt)}))}),C.loadQueue(function(){a.removed||z_(a)},a,function(){a.removed||z_(a)})},q=Cp(g=a);ot(q)?(wg(q)||Yi(ou.urls,q)||((x=g.getParam("theme_url"))?ou.load(q,g.documentBaseURI.toAbsolute(x)):ou.load(q,"themes/"+q+"/theme"+N+".js")),L.loadQueue(function(){ou.waitFor(q,z)})):z()}(a,a.suffix)):np.bind(window,"ready",N)}(this)},lr.prototype.focus=function(a){this.execCommand("mceFocus",!1,a)},lr.prototype.hasFocus=function(){return Nd(this)},lr.prototype.execCallback=function(a){for(var d=[],g=1;g<arguments.length;g++)d[g-1]=arguments[g];var x,C=this.settings[a];if(C)return this.callbackLookup&&(x=this.callbackLookup[a])&&(C=x.func,x=x.scope),"string"==typeof C&&(x=(x=C.replace(/\.\w+$/,""))?Z_(x):0,C=Z_(C),this.callbackLookup=this.callbackLookup||{},this.callbackLookup[a]={func:C,scope:x}),C.apply(x||this,d)},lr.prototype.translate=function(a){return Au.translate(a)},lr.prototype.getParam=function(a,d,g){return L=d,Q=(C=a)in(x=this).settings?x.settings[C]:L,"hash"===(N=g)?(Y={},"string"==typeof(q=Q)?be(0<q.indexOf("=")?q.split(/[;,](?![^=;,]*(?:[;,]|$))/):q.split(","),function(Z){var rt=Z.split("=");Y[vn.trim(rt[0])]=vn.trim(1<rt.length?rt[1]:rt[0])}):Y=q,Y):"string"===N?jf(ot,x,C).getOr(L):"number"===N?jf(Xt,x,C).getOr(L):"boolean"===N?jf(Yt,x,C).getOr(L):"object"===N?jf(it,x,C).getOr(L):"array"===N?jf(It,x,C).getOr(L):"string[]"===N?jf((z=ot,function(Z){return It(Z)&&ui(Z,z)}),x,C).getOr(L):"function"===N?jf(Pt,x,C).getOr(L):Q;var x,C,L,N,z,q,Y,Q},lr.prototype.hasPlugin=function(a,d){return!(!oe(nb(this).split(/[ ,]/),a)||d&&void 0===Fu.get(a))},lr.prototype.nodeChanged=function(a){this._nodeChangeDispatcher.nodeChanged(a)},lr.prototype.addCommand=function(a,d,g){this.editorCommands.addCommand(a,d,g)},lr.prototype.addQueryStateHandler=function(a,d,g){this.editorCommands.addQueryStateHandler(a,d,g)},lr.prototype.addQueryValueHandler=function(a,d,g){this.editorCommands.addQueryValueHandler(a,d,g)},lr.prototype.addShortcut=function(a,d,g,x){this.shortcuts.add(a,d,g,x)},lr.prototype.execCommand=function(a,d,g,x){return this.editorCommands.execCommand(a,d,g,x)},lr.prototype.queryCommandState=function(a){return this.editorCommands.queryCommandState(a)},lr.prototype.queryCommandValue=function(a){return this.editorCommands.queryCommandValue(a)},lr.prototype.queryCommandSupported=function(a){return this.editorCommands.queryCommandSupported(a)},lr.prototype.show=function(){this.hidden&&(this.hidden=!1,this.inline?this.getBody().contentEditable="true":(Yh.show(this.getContainer()),Yh.hide(this.id)),this.load(),this.fire("show"))},lr.prototype.hide=function(){var a=this,d=a.getDoc();a.hidden||(ik&&d&&!a.inline&&d.execCommand("SelectAll"),a.save(),a.inline?(a.getBody().contentEditable="false",a===a.editorManager.focusedEditor&&(a.editorManager.focusedEditor=null)):(Yh.hide(a.getContainer()),Yh.setStyle(a.id,"display",a.orgDisplay)),a.hidden=!0,a.fire("hide"))},lr.prototype.isHidden=function(){return!!this.hidden},lr.prototype.setProgressState=function(a,d){this.fire("ProgressState",{state:a,time:d})},lr.prototype.load=function(a){var d=this.getElement();if(this.removed)return"";if(d){(a=a||{}).load=!0;var g=nd(d)?d.value:d.innerHTML,x=this.setContent(g,a);return a.element=d,a.no_events||this.fire("LoadContent",a),a.element=d=null,x}},lr.prototype.save=function(a){var d,g,x=this,C=x.getElement();if(C&&x.initialized&&!x.removed)return(a=a||{}).save=!0,a.element=C,a.content=x.getContent(a),a.no_events||x.fire("SaveContent",a),"raw"===a.format&&x.fire("RawSaveContent",a),d=a.content,nd(C)?C.value=d:(!a.is_removing&&x.inline||(C.innerHTML=d),(g=Yh.getParent(x.id,"form"))&&$A(g.elements,function(L){if(L.name===x.id)return L.value=d,!1})),a.element=C=null,!1!==a.set_dirty&&x.setDirty(!1),d},lr.prototype.setContent=function(a,d){return w0(this,a,d)},lr.prototype.getContent=function(a){return x=(g=void 0===(g=a)?{}:g).format||"html",C=g,g0(this).editor.getContent(C,x);var g,x,C},lr.prototype.insertContent=function(a,d){d&&(a=vx({content:a},d)),this.execCommand("mceInsertContent",!1,a)},lr.prototype.resetContent=function(a){void 0===a?w0(this,this.startContent,{format:"raw"}):w0(this,a),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()},lr.prototype.isDirty=function(){return!this.isNotDirty},lr.prototype.setDirty=function(a){var d=!this.isNotDirty;this.isNotDirty=!a,a&&a!==d&&this.fire("dirty")},lr.prototype.getContainer=function(){return this.container||(this.container=Yh.get(this.editorContainer||this.id+"_parent")),this.container},lr.prototype.getContentAreaContainer=function(){return this.contentAreaContainer},lr.prototype.getElement=function(){return this.targetElm||(this.targetElm=Yh.get(this.id)),this.targetElm},lr.prototype.getWin=function(){var a;return this.contentWindow||(a=this.iframeElement)&&(this.contentWindow=a.contentWindow),this.contentWindow},lr.prototype.getDoc=function(){var a;return this.contentDocument||(a=this.getWin())&&(this.contentDocument=a.document),this.contentDocument},lr.prototype.getBody=function(){var a=this.getDoc();return this.bodyElement||(a?a.body:null)},lr.prototype.convertURL=function(a,d,g){var x=this.settings;return x.urlconverter_callback?this.execCallback("urlconverter_callback",a,g,!0,d):!x.convert_urls||g&&"LINK"===g.nodeName||0===a.indexOf("file:")||0===a.length?a:x.relative_urls?this.documentBaseURI.toRelative(a):this.documentBaseURI.toAbsolute(a,x.remove_script_host)},lr.prototype.addVisual=function(a){var d;d=a,aa(this).editor.addVisual(d)},lr.prototype.remove=function(){var a,d,g,x,C;(a=this).removed||(d=a._selectionOverrides,g=a.editorUpload,x=a.getBody(),C=a.getElement(),x&&a.save({is_removing:!0}),a.removed=!0,a.unbindAllNativeEvents(),a.hasHiddenInput&&C&&k0.remove(C.nextSibling),a.fire("remove"),a.editorManager.remove(a),!a.inline&&x&&k0.setStyle(a.id,"display",a.orgDisplay),a.fire("detach"),k0.remove(a.getContainer()),Hm(d),Hm(g),a.destroy())},lr.prototype.destroy=function(a){var d,g,x,C,L,N,z;g=a,N=(d=this).selection,z=d.dom,d.destroyed||(g||d.removed?(g||(d.editorManager.off("beforeunload",d._beforeUnload),d.theme&&d.theme.destroy&&d.theme.destroy(),Hm(N),Hm(z)),(C=(x=d).formElement)&&(C._mceOldSubmit&&(C.submit=C._mceOldSubmit,C._mceOldSubmit=null),k0.unbind(C,"submit reset",x.formEventDelegate)),(L=d).contentAreaContainer=L.formElement=L.container=L.editorContainer=null,L.bodyElement=L.contentDocument=L.contentWindow=null,L.iframeElement=L.targetElm=null,L.selection&&(L.selection=L.selection.win=L.selection.dom=L.selection.dom.doc=null),d.destroyed=!0):d.remove())},lr.prototype.uploadImages=function(a){return this.editorUpload.uploadImages(a)},lr.prototype._scanForImages=function(){return this.editorUpload.scanForImages()},lr.prototype.addButton=function(){throw new Error("editor.addButton has been removed in tinymce 5x, use editor.ui.registry.addButton or editor.ui.registry.addToggleButton or editor.ui.registry.addSplitButton instead")},lr.prototype.addSidebar=function(){throw new Error("editor.addSidebar has been removed in tinymce 5x, use editor.ui.registry.addSidebar instead")},lr.prototype.addMenuItem=function(){throw new Error("editor.addMenuItem has been removed in tinymce 5x, use editor.ui.registry.addMenuItem instead")},lr.prototype.addContextToolbar=function(){throw new Error("editor.addContextToolbar has been removed in tinymce 5x, use editor.ui.registry.addContextToolbar instead")},lr);function lr(a,d,g){var x,C,L,N,z,q,Y,Q,pt,Ct,wt,kt,jt,Qt,Se,Be=this;function te(qe,je){return function(Ze,pn){return qe[Ze.toLowerCase()]=gi(gi({},pn),{type:je})}}this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.editorManager=g,this.documentBaseUrl=g.documentBaseURL,vx(this,q_),this.settings=(pt=g.defaultSettings,wt=this.documentBaseUrl,kt=F1,jt={id:a,theme:"silver",toolbar_mode:YS(Ct=d,"floating"),plugins:"",document_base_url:wt,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,convert_urls:!0,relative_urls:!0,remove_script_host:!0,object_resizing:!0,doctype:"<!DOCTYPE html>",visual:!0,font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:!0,inline_styles:!0,convert_fonts_to_spans:!0,indent:!0,indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",entity_encoding:"named",url_converter:this.convertURL,url_converter_scope:this},Qt=gi(gi({},jt),kt?Ym:{}),!1!==(Se=function(a,d,g,x,C){var L,N,z,q,Y,Q,Z,rt,pt=a?{mobile:(L=d,N={resize:!1,toolbar_mode:YS(C.mobile||{},"scrolling"),toolbar_sticky:!1},gi(gi(gi({},Ym),N),L?{menubar:!1}:{}))}:{},Ct=(Y=["mobile"],Ni(KS(pt,C),function(kt,Ot){return oe(Y,Ot)},Oi(Q={}),Oi(Z={})),{sections:ft((rt={t:Q,f:Z}).t),settings:ft(rt.f)}),wt=vn.extend(g,x,Ct.settings(),a&&Zc(Ct,"mobile")?function(kt){void 0===kt&&(kt={});var Ot=ji(Ct.sections(),"mobile").getOr({});return vn.extend({},kt,Ot)}():{},{validate:!0,external_plugins:(z=x,q=Ct.settings().external_plugins||{},z&&z.external_plugins?vn.extend({},z.external_plugins,q):q)});return function(a,d,g,x){var C,L,N,z,q,Y,Q,Z,rt=rg(g.forced_plugins),pt=rg(x.plugins),Ct=Zc(C=d,"mobile")?C.sections().mobile:{},kt=(z=d,q=pt,Y=Ct.plugins?rg(Ct.plugins):pt,L=(N=a)&&(Z=(Q=z).sections(),Zc(Q,"mobile")&&"mobile"===Z.mobile.theme)?Jt(Y,vt(oe,V1)):N&&Zc(z,"mobile")?Y:q,[].concat(rg(rt)).concat(rg(L)));if(Ci.browser.isIE()&&oe(kt,"rtc"))throw new Error("RTC plugin is not supported on IE 11.");return vn.extend(x,{plugins:kt.join(" ")})}(a,Ct,x,wt)}(zu||AA,zu,Qt,pt,Ct)).deprecation_warnings&&function(a,d){var g,x,C,L,N,z,q,Y=(g=a,x=Jt(jm,function(wt){return Yi(g,wt)}),!1!==(C=g.forced_root_block)&&""!==C||x.push("forced_root_block (false only)"),Zi(x)),Q=(q=vn.makeMap(d.plugins," "),Zi(oo(oo([],Jt(kA,Ct),!0),ti(A0,function(wt){return Ct(wt)?[wt+" (moving to premium)"]:[]}),!0))),Z=0<Q.length,rt=0<Y.length,pt="mobile"===d.theme;function Ct(wt){return Yi(q,wt)}(Z||rt||pt)&&(L=pt?"\n\nThemes:\n- mobile":"",N=Z?"\n\nPlugins:\n- "+Q.join("\n- "):"",z=rt?"\n\nSettings:\n- "+Y.join("\n- "):"",console.warn("The following deprecated features are currently enabled, these will be removed in TinyMCE 6.0. See https://www.tiny.cloud/docs/release-notes/6.0-upcoming-changes/ for more information."+L+N+z))}(Ct,Se),Se),this.settings.suffix&&(g.suffix=this.settings.suffix),this.suffix=g.suffix,this.settings.base_url&&g._setBaseUrl(this.settings.base_url),this.baseUri=g.baseURI,this.settings.referrer_policy&&(ia.ScriptLoader._setReferrerPolicy(this.settings.referrer_policy),sr.DOM.styleSheetLoader._setReferrerPolicy(this.settings.referrer_policy)),Ea.languageLoad=this.settings.language_load,Ea.baseURL=g.baseURL,this.id=a,this.setDirty(!1),this.documentBaseURI=new Rh(this.settings.document_base_url,{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=!!this.settings.inline,this.shortcuts=new Av(this),this.editorCommands=new tk(this),this.settings.cache_suffix&&(Ci.cacheSuffix=this.settings.cache_suffix.replace(/^[\?\&]+/,"")),this.ui={registry:{addAutocompleter:(z={},(x={addButton:te(C={},"button"),addGroupToolbarButton:te(C,"grouptoolbarbutton"),addToggleButton:te(C,"togglebutton"),addMenuButton:te(C,"menubutton"),addSplitButton:te(C,"splitbutton"),addMenuItem:te(L={},"menuitem"),addNestedMenuItem:te(L,"nestedmenuitem"),addToggleMenuItem:te(L,"togglemenuitem"),addAutocompleter:te(N={},"autocompleter"),addContextMenu:te(q={},"contextmenu"),addContextToolbar:te(Y={},"contexttoolbar"),addContextForm:te(Y,"contextform"),addSidebar:te(Q={},"sidebar"),addIcon:function(qe,je){return z[qe.toLowerCase()]=je},getAll:function(){return{buttons:C,menuItems:L,icons:z,popups:N,contextMenus:q,contextToolbars:Y,sidebars:Q}}}).addAutocompleter),addButton:x.addButton,addContextForm:x.addContextForm,addContextMenu:x.addContextMenu,addContextToolbar:x.addContextToolbar,addIcon:x.addIcon,addMenuButton:x.addMenuButton,addMenuItem:x.addMenuItem,addNestedMenuItem:x.addNestedMenuItem,addSidebar:x.addSidebar,addSplitButton:x.addSplitButton,addToggleButton:x.addToggleButton,addGroupToolbarButton:x.addGroupToolbarButton,addToggleMenuItem:x.addToggleMenuItem,getAll:x.getAll},styleSheetLoader:void 0,show:Nt,hide:Nt,enable:Nt,disable:Nt,isDisabled:tn};var pe,ke,Ge,nn,ln,Ve=(nn=ra("design"),ln=ra({design:{activate:Nt,deactivate:Nt,editorReadOnly:!1},readonly:{activate:Nt,deactivate:Nt,editorReadOnly:!0}}),(ke=pe=this).serializer?Y_(ke):ke.on("PreInit",function(){Y_(ke)}),(Ge=pe).on("ShowCaret",function(qe){dl(Ge)&&qe.preventDefault()}),Ge.on("ObjectSelected",function(qe){dl(Ge)&&qe.preventDefault()}),{isReadOnly:function(){return dl(pe)},set:function(qe){return function(je,Ze,pn,Pn){if(Pn!==pn.get()){if(!Yi(Ze,Pn))throw new Error("Editor mode '"+Pn+"' is invalid");je.initialized?fx(je,pn,Ze,Pn):je.on("init",function(){return fx(je,pn,Ze,Pn)})}}(pe,ln.get(),nn,qe)},get:function(){return nn.get()},register:function(qe,je){ln.set(function(Ze,pn,Pn){var Vn;if(oe(Cv,pn))throw new Error("Cannot override default mode "+pn);return gi(gi({},Ze),((Vn={})[pn]=gi(gi({},Pn),{deactivate:function(){try{Pn.deactivate()}catch(xn){console.error("problem while deactivating editor mode "+pn+":",xn)}}}),Vn))}(ln.get(),qe,je))}});this.mode=Ve,this.setMode=Ve.set,g.fire("SetupEditor",{editor:this}),this.execCallback("setup",this),this.$=Ln.overrideDefaults(function(){return{context:Be.inline?Be.getBody():Be.getDoc(),element:Be.getBody()}})}function rk(a){var d=a.type;ah(Gh.get(),function(g){switch(d){case"scroll":g.fire("ScrollWindow",a);break;case"resize":g.fire("ResizeWindow",a)}})}function ok(a){a!==Q_&&(a?Ln(window).on("resize scroll",rk):Ln(window).off("resize scroll",rk),Q_=a)}function K_(a){var d=ds;delete Xh[a.id];for(var g=0;g<Xh.length;g++)if(Xh[g]===a){Xh.splice(g,1);break}return ds=Jt(ds,function(x){return a!==x}),Gh.activeEditor===a&&(Gh.activeEditor=0<ds.length?ds[0]:null),Gh.focusedEditor===a&&(Gh.focusedEditor=null),d.length!==ds.length}var ip,hu=sr.DOM,ak=vn.explode,ah=vn.each,sk=vn.extend,lk=0,Q_=!1,Xh=[],ds=[],uk="CSS1Compat"!==document.compatMode,Gh=gi(gi({},px),{baseURI:null,baseURL:null,defaultSettings:{},documentBaseURL:null,suffix:null,$:Ln,majorVersion:"5",minorVersion:"10.2",releaseDate:"2021-11-17",editors:Xh,i18n:Au,activeEditor:null,focusedEditor:null,settings:{},setup:function(){var a,d="",g=Rh.getDocumentBaseUrl(document.location);/^[^:]+:\/\/\/?[^\/]+\//.test(g)&&(g=g.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(g)||(g+="/"));var x=window.tinymce||window.tinyMCEPreInit;if(x)a=x.base||x.baseURL,d=x.suffix;else{for(var C,L=document.getElementsByTagName("script"),N=0;N<L.length;N++)if(""!==(C=L[N].src||"")){var z=C.substring(C.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(C)){-1!==z.indexOf(".min")&&(d=".min"),a=C.substring(0,C.lastIndexOf("/"));break}}!a&&document.currentScript&&(-1!==(C=document.currentScript.src).indexOf(".min")&&(d=".min"),a=C.substring(0,C.lastIndexOf("/")))}this.baseURL=new Rh(g).toAbsolute(a),this.documentBaseURL=g,this.baseURI=new Rh(this.baseURL),this.suffix=d,this.on("AddEditor",vt(Uw,this)),this.on("RemoveEditor",vt(Mf,this))},overrideDefaults:function(a){var d=a.base_url;d&&this._setBaseUrl(d),a.suffix&&(this.suffix=a.suffix);var x=(this.defaultSettings=a).plugin_base_urls;void 0!==x&&En(x,function(C,L){Ea.PluginManager.urls[L]=C})},init:function(a){function d(q){var Y=q.id;return Y||(Y=ji(q,"name").filter(function(Q){return!hu.get(Q)}).getOrThunk(hu.uniqueId),q.setAttribute("id",Y)),Y}function g(q,Y){return Y.constructor===RegExp?Y.test(q.className):hu.hasClass(q,Y)}var x,C=this,L=vn.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," "),N=function(q){x=q},z=function(){function q(pt,Ct,wt){var kt=new Mv(pt,Ct,C);rt.push(kt),kt.on("init",function(){++Z===Y.length&&N(rt)}),kt.targetElm=kt.targetElm||wt,kt.render()}var Y,Q,Z=0,rt=[];hu.unbind(window,"ready",z),(Q=a.onpageload)&&Q.apply(C,[]),Y=Ln.unique(function(pt){var Ct=[];if(Ci.browser.isIE()&&Ci.browser.version.major<11)return j0("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tinymce.com/docs/get-started/system-requirements/"),[];if(uk)return j0("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[];if(pt.types)return ah(pt.types,function(kt){Ct=Ct.concat(hu.select(kt.selector))}),Ct;if(pt.selector)return hu.select(pt.selector);if(pt.target)return[pt.target];switch(pt.mode){case"exact":var wt=pt.elements||"";0<wt.length&&ah(ak(wt),function(kt){var Ot=hu.get(kt);Ot?Ct.push(Ot):ah(document.forms,function(jt){ah(jt.elements,function(Qt){Qt.name===kt&&(kt="mce_editor_"+lk++,hu.setAttrib(Qt,"id",kt),Ct.push(Qt))})})});break;case"textareas":case"specific_textareas":ah(hu.select("textarea"),function(kt){pt.editor_deselector&&g(kt,pt.editor_deselector)||pt.editor_selector&&!g(kt,pt.editor_selector)||Ct.push(kt)})}return Ct}(a)),a.types?ah(a.types,function(pt){vn.each(Y,function(Ct){return!hu.is(Ct,pt.selector)||(q(d(Ct),sk({},a,pt),Ct),!1)})}):(vn.each(Y,function(pt){var Ct;(Ct=C.get(pt.id))&&Ct.initialized&&!(Ct.getContainer()||Ct.getBody()).parentNode&&(K_(Ct),Ct.unbindAllNativeEvents(),Ct.destroy(!0),Ct.removed=!0)}),0===(Y=vn.grep(Y,function(pt){return!C.get(pt.id)})).length?N([]):ah(Y,function(pt){a.inline&&pt.tagName.toLowerCase()in L?j0("Could not initialize inline editor on invalid inline target element",pt):q(d(pt),a,pt)}))};return C.settings=a,hu.bind(window,"ready",z),new no(function(q){x?q(x):N=function(Y){q(Y)}})},get:function(a){return 0===arguments.length?ds.slice(0):ot(a)?hn(ds,function(d){return d.id===a}).getOr(null):Xt(a)&&ds[a]||null},add:function(a){var d=this;return Xh[a.id]===a||(null===d.get(a.id)&&("length"!==a.id&&(Xh[a.id]=a),Xh.push(a),ds.push(a)),ok(!0),d.activeEditor=a,d.fire("AddEditor",{editor:a}),ip||(ip=function(g){var x=d.fire("BeforeUnload");if(x.returnValue)return g.preventDefault(),g.returnValue=x.returnValue,x.returnValue},window.addEventListener("beforeunload",ip))),a},createEditor:function(a,d){return this.add(new Mv(a,d,this))},remove:function(a){var d,g,x=this;if(a){if(!ot(a))return Ut(x.get((g=a).id))?null:(K_(g)&&x.fire("RemoveEditor",{editor:g}),0===ds.length&&window.removeEventListener("beforeunload",ip),g.remove(),ok(0<ds.length),g);ah(hu.select(a),function(C){(g=x.get(C.id))&&x.remove(g)})}else for(d=ds.length-1;0<=d;d--)x.remove(ds[d])},execCommand:function(a,d,g){var x=this.get(g);switch(a){case"mceAddEditor":return this.get(g)||new Mv(g,this.settings,this).render(),!0;case"mceRemoveEditor":return x&&x.remove(),!0;case"mceToggleEditor":return x?x.isHidden()?x.show():x.hide():this.execCommand("mceAddEditor",!1,g),!0}return!!this.activeEditor&&this.activeEditor.execCommand(a,d,g)},triggerSave:function(){ah(ds,function(a){a.save()})},addI18n:function(a,d){Au.add(a,d)},translate:function(a){return Au.translate(a)},setActive:function(a){var d=this.activeEditor;this.activeEditor!==a&&(d&&d.fire("deactivate",{relatedTarget:a}),a.fire("activate",{relatedTarget:d})),this.activeEditor=a},_setBaseUrl:function(a){this.baseURL=new Rh(this.documentBaseURL).toAbsolute(a.replace(/\/+$/,"")),this.baseURI=new Rh(this.baseURL)}});function J_(a,d,g){var x=d.x,C=d.y,L=a.w,N=a.h,z=d.w,q=d.h,Y=(g||"").split("");return"b"===Y[0]&&(C+=q),"r"===Y[1]&&(x+=z),"c"===Y[0]&&(C+=yx(q/2)),"c"===Y[1]&&(x+=yx(z/2)),"b"===Y[3]&&(C-=N),"r"===Y[4]&&(x-=L),"c"===Y[3]&&(C-=yx(N/2)),"c"===Y[4]&&(x-=yx(L/2)),sh(x,C,L,N)}function ck(){}function sh(a,d,g,x){return{x:a,y:d,w:g,h:x}}Gh.setup();var Tv,kg,tw,ew,rp=Math.min,Ag=Math.max,yx=Math.round,Mg={inflate:function(a,d,g){return sh(a.x-d,a.y-g,a.w+2*d,a.h+2*g)},relativePosition:J_,findBestRelativePosition:function(a,d,g,x){for(var C,L=0;L<x.length;L++)if((C=J_(a,d,x[L])).x>=g.x&&C.x+C.w<=g.w+g.x&&C.y>=g.y&&C.y+C.h<=g.h+g.y)return x[L];return null},intersect:function(a,d){var g=Ag(a.x,d.x),x=Ag(a.y,d.y),C=rp(a.x+a.w,d.x+d.w),L=rp(a.y+a.h,d.y+d.h);return C-g<0||L-x<0?null:sh(g,x,C-g,L-x)},clamp:function(a,d,g){var x=a.x,C=a.y,L=a.x+a.w,N=a.y+a.h,z=d.x+d.w,q=d.y+d.h,Y=Ag(0,d.x-x),Q=Ag(0,d.y-C),Z=Ag(0,L-z),rt=Ag(0,N-q);return x+=Y,C+=Q,g&&(L+=Y,N+=Q,x-=Z,C-=rt),sh(x,C,(L-=Z)-x,(N-=rt)-C)},create:sh,fromClientRect:function(a){return sh(a.left,a.top,a.width,a.height)}},Iv=(Tv={},kg={},{load:function(a,d){var g='Script at URL "'+d+'" failed to load',x='Script at URL "'+d+"\" did not call `tinymce.Resource.add('"+a+"', data)` within 1 second";if(void 0!==Tv[a])return Tv[a];var C=new no(function(L,N){var z=function(q,Y,Q){function Z(kt){return function(){for(var Ot=[],jt=0;jt<arguments.length;jt++)Ot[jt]=arguments[jt];rt||(rt=!0,null!==pt&&(clearTimeout(pt),pt=null),kt.apply(null,Ot))}}void 0===Q&&(Q=1e3);var rt=!1,pt=null,Ct=Z(q),wt=Z(Y);return{start:function(){for(var kt=[],Ot=0;Ot<arguments.length;Ot++)kt[Ot]=arguments[Ot];rt||null!==pt||(pt=setTimeout(function(){return wt.apply(null,kt)},Q))},resolve:Ct,reject:wt}}(L,N);kg[a]=z.resolve,ia.ScriptLoader.loadScript(d,function(){return z.start(x)},function(){return z.reject(g)})});return Tv[a]=C},add:function(a,d){void 0!==kg[a]&&(kg[a](d),delete kg[a]),Tv[a]=no.resolve(d)}}),xx=vn.each,ZA=vn.extend;ck.extend=tw=function(a){function d(){var L,N,z;if(!ew&&(this.init&&this.init.apply(this,arguments),N=this.Mixins))for(L=N.length;L--;)(z=N[L]).init&&z.init.apply(this,arguments)}function g(){return this}var x=this.prototype;ew=!0;var C=new this;return ew=!1,a.Mixins&&(xx(a.Mixins,function(L){for(var N in L)"init"!==N&&(a[N]=L[N])}),x.Mixins&&(a.Mixins=x.Mixins.concat(a.Mixins))),a.Methods&&xx(a.Methods.split(","),function(L){a[L]=g}),a.Properties&&xx(a.Properties.split(","),function(L){var N="_"+L;a[L]=function(z){return void 0!==z?(this[N]=z,this):this[N]}}),a.Statics&&xx(a.Statics,function(L,N){d[N]=L}),a.Defaults&&x.Defaults&&(a.Defaults=ZA({},x.Defaults,a.Defaults)),En(a,function(L,N){var z,q;C[N]="function"==typeof L&&x[N]?(z=N,q=L,function(){var Y=this._super;this._super=x[z];var Q=q.apply(this,arguments);return this._super=Y,Q}):L}),d.prototype=C,(d.constructor=d).extend=tw,d};var Dv,qh,nw,bx=Math.min,_x=Math.max,Uh=Math.round,Sx={serialize:function(a){var d=JSON.stringify(a);return ot(d)?d.replace(/[\u0080-\uFFFF]/g,function(g){var x=g.charCodeAt(0).toString(16);return"\\u"+"0000".substring(x.length)+x}):d},parse:function(a){try{return JSON.parse(a)}catch(d){}}},KA={callbacks:{},count:0,send:function(a){var d=this,g=sr.DOM,x=(void 0!==a.count?a:d).count,C="tinymce_jsonp_"+x;d.callbacks[x]=function(L){g.remove(C),delete d.callbacks[x],a.callback(L)},g.add(g.doc.body,"script",{id:C,src:a.url,type:"text/javascript"}),d.count++}},Tg=gi(gi({},px),{send:function(a){var d,g=0,x=function(){!a.async||4===d.readyState||1e4<g++?(a.success&&g<1e4&&200===d.status?a.success.call(a.success_scope,""+d.responseText,d,a):a.error&&a.error.call(a.error_scope,1e4<g?"TIMED_OUT":"GENERAL",d,a),d=null):Wr.setTimeout(x,10)};if(a.scope=a.scope||this,a.success_scope=a.success_scope||a.scope,a.error_scope=a.error_scope||a.scope,a.async=!1!==a.async,a.data=a.data||"",Tg.fire("beforeInitialize",{settings:a}),(d=new XMLHttpRequest).overrideMimeType&&d.overrideMimeType(a.content_type),d.open(a.type||(a.data?"POST":"GET"),a.url,a.async),a.crossDomain&&(d.withCredentials=!0),a.content_type&&d.setRequestHeader("Content-Type",a.content_type),a.requestheaders&&vn.each(a.requestheaders,function(C){d.setRequestHeader(C.key,C.value)}),d.setRequestHeader("X-Requested-With","XMLHttpRequest"),(d=Tg.fire("beforeSend",{xhr:d,settings:a}).xhr).send(a.data),!a.async)return x();Wr.setTimeout(x,10)}}),iw=vn.extend,QA=($h.sendRPC=function(a){return(new $h).send(a)},$h.prototype.send=function(a){var d=a.error,g=a.success,x=iw(this.settings,a);x.success=function(C,L){(C=void 0===(C=Sx.parse(C))?{error:"JSON Parse error."}:C).error?d.call(x.error_scope||x.scope,C.error,L):g.call(x.success_scope||x.scope,C.result)},x.error=function(C,L){d&&d.call(x.error_scope||x.scope,C,L)},x.data=Sx.serialize({id:a.id||"c"+this.count++,method:a.method,params:a.params}),x.content_type="application/json",Tg.send(x)},$h);function $h(a){this.settings=iw({},a),this.count=0}try{var Ev,rw="__storage_test__";(Ev=window.localStorage).setItem(rw,rw),Ev.removeItem(rw)}catch(a){Dv={},qh=[],nw={getItem:function(d){return Dv[d]||null},setItem:function(d,g){qh.push(d),Dv[d]=String(g)},key:function(d){return qh[d]},removeItem:function(d){qh=qh.filter(function(g){return g===d}),delete Dv[d]},clear:function(){qh=[],Dv={}},length:0},Object.defineProperty(nw,"length",{get:function(){return qh.length},configurable:!1,enumerable:!1}),Ev=nw}var aw=vn.extend(Gh,{geom:{Rect:Mg},util:{Promise:no,Delay:Wr,Tools:vn,VK:_i,URI:Rh,Class:ck,EventDispatcher:hx,Observable:px,I18n:Au,XHR:Tg,JSON:Sx,JSONRequest:QA,JSONP:KA,LocalStorage:Ev,Color:function(a){function d(N){var z;return"object"==typeof N?"r"in N?(x=N.r,C=N.g,L=N.b):"v"in N&&function(q,Y,Q){if(q=(parseInt(q,10)||0)%360,Y=parseInt(Y,10)/100,Q=parseInt(Q,10)/100,Y=_x(0,bx(Y,1)),Q=_x(0,bx(Q,1)),0!==Y){var Z=q/60,rt=Q*Y,pt=rt*(1-Math.abs(Z%2-1)),Ct=Q-rt;switch(Math.floor(Z)){case 0:x=rt,C=pt,L=0;break;case 1:x=pt,C=rt,L=0;break;case 2:x=0,C=rt,L=pt;break;case 3:x=0,C=pt,L=rt;break;case 4:x=pt,C=0,L=rt;break;case 5:x=rt,C=0,L=pt;break;default:x=C=L=0}x=Uh(255*(x+Ct)),C=Uh(255*(C+Ct)),L=Uh(255*(L+Ct))}else x=C=L=Uh(255*Q)}(N.h,N.s,N.v):(z=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(N))?(x=parseInt(z[1],10),C=parseInt(z[2],10),L=parseInt(z[3],10)):(z=/#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(N))?(x=parseInt(z[1],16),C=parseInt(z[2],16),L=parseInt(z[3],16)):(z=/#([0-F])([0-F])([0-F])/gi.exec(N))&&(x=parseInt(z[1]+z[1],16),C=parseInt(z[2]+z[2],16),L=parseInt(z[3]+z[3],16)),x=x<0?0:255<x?255:x,C=C<0?0:255<C?255:C,L=L<0?0:255<L?255:L,g}var g={},x=0,C=0,L=0;return a&&d(a),g.toRgb=function(){return{r:x,g:C,b:L}},g.toHsv=function(){return N=x,z=C,q=L,Q=0,(Z=bx(N/=255,bx(z/=255,q/=255)))===(rt=_x(N,_x(z,q)))?{h:0,s:0,v:100*(Q=Z)}:(Y=(rt-Z)/rt,{h:Uh(60*((N===Z?3:q===Z?1:5)-(N===Z?z-q:q===Z?N-z:q-N)/((Q=rt)-Z))),s:Uh(100*Y),v:Uh(100*Q)});var N,z,q,Y,Q,Z,rt},g.toHex=function(){function N(z){return 1<(z=parseInt(z,10).toString(16)).length?z:"0"+z}return"#"+N(x)+N(C)+N(L)},g.parse=d,g},ImageUploader:function(a){var d=og(),g=j1(a,d);return{upload:function(x,C){return g.upload(x,(C=void 0===C||C)?T0(a):void 0)}}}},dom:{EventUtils:Lc,Sizzle:Tr,DomQuery:Ln,TreeWalker:Jr,TextSeeker:Gx,DOMUtils:sr,ScriptLoader:ia,RangeUtils:Sf,Serializer:_0,StyleSheetLoader:xh,ControlSelection:dm,BookmarkManager:hm,Selection:P1,Event:Lc.Event},html:{Styles:_r,Entities:ql,Node:ru,Schema:or,SaxParser:Bd,DomParser:R1,Writer:Qw,Serializer:If},Env:Ci,AddOnManager:Ea,Annotator:xb,Formatter:X1,UndoManager:q1,EditorCommands:tk,WindowManager:M0,NotificationManager:S0,EditorObservable:q_,Shortcuts:Av,Editor:Mv,FocusManager:Wb,EditorManager:Gh,DOM:sr.DOM,ScriptLoader:ia.ScriptLoader,PluginManager:Fu,ThemeManager:ou,IconManager:Xm,Resource:Iv,trim:vn.trim,isArray:vn.isArray,is:vn.is,toArray:vn.toArray,makeMap:vn.makeMap,each:vn.each,map:vn.map,grep:vn.grep,inArray:vn.inArray,extend:vn.extend,create:vn.create,walk:vn.walk,createNS:vn.createNS,resolve:vn.resolve,explode:vn.explode,_addCacheSuffix:vn._addCacheSuffix,isOpera:Ci.opera,isWebKit:Ci.webkit,isIE:Ci.ie,isGecko:Ci.gecko,isMac:Ci.mac}),hk=aw;window.tinymce=hk,window.tinyMCE=hk,function(a){if("object"==typeof module)try{module.exports=a}catch(d){}}(aw)}(),function(){"use strict";function $t(ee,Oe,ve){fetch(Oe,{method:"POST",body:ve,headers:{"X-Requested-With":"XMLHttpRequest"}}).then(Wt=>{if(Wt.ok)return Wt.text();throw new Error(`${Wt.status} ${Wt.statusText} ${Wt.url}`)}).then(Wt=>{if(ee.querySelector(".loading").classList.remove("d-block"),"OK"!=Wt.trim())throw new Error(Wt||"Form submission failed and no error message returned from: "+Oe);ee.querySelector(".sent-message").classList.add("d-block"),ee.reset()}).catch(Wt=>{Tt(ee,Wt)})}function Tt(ee,Oe){ee.querySelector(".loading").classList.remove("d-block"),ee.querySelector(".error-message").innerHTML=Oe,ee.querySelector(".error-message").classList.add("d-block")}document.querySelectorAll(".php-email-form").forEach(function(ee){ee.addEventListener("submit",function(Oe){Oe.preventDefault();let ve=this,Wt=ve.getAttribute("action"),Ft=ve.getAttribute("data-recaptcha-site-key");if(!Wt)return void Tt(ve,"The form action property is not set!");ve.querySelector(".loading").classList.add("d-block"),ve.querySelector(".error-message").classList.remove("d-block"),ve.querySelector(".sent-message").classList.remove("d-block");let Nt=new FormData(ve);Ft?"undefined"!=typeof grecaptcha?grecaptcha.ready(function(){try{grecaptcha.execute(Ft,{action:"php_email_form_submit"}).then(gt=>{Nt.set("recaptcha-response",gt),$t(ve,Wt,Nt)})}catch(gt){Tt(ve,gt)}}):Tt(ve,"The reCaptcha javascript API url is not loaded!"):$t(ve,Wt,Nt)})})}(),function(){"use strict";const Le=(Et,lt=!1)=>(Et=Et.trim(),lt?[...document.querySelectorAll(Et)]:document.querySelector(Et)),$t=(Et,lt,_t,xt=!1)=>{xt?Le(lt,xt).forEach(ot=>ot.addEventListener(Et,_t)):Le(lt,xt).addEventListener(Et,_t)},Tt=(Et,lt)=>{Et.addEventListener("scroll",lt)};Le(".toggle-sidebar-btn")&&$t("click",".toggle-sidebar-btn",function(Et){Le("body").classList.toggle("toggle-sidebar")}),Le(".search-bar-toggle")&&$t("click",".search-bar-toggle",function(Et){Le(".search-bar").classList.toggle("search-bar-show")});let ee=Le("#navbar .scrollto",!0);const Oe=()=>{let Et=window.scrollY+200;ee.forEach(lt=>{if(!lt.hash)return;let _t=Le(lt.hash);!_t||(Et>=_t.offsetTop&&Et<=_t.offsetTop+_t.offsetHeight?lt.classList.add("active"):lt.classList.remove("active"))})};window.addEventListener("load",Oe),Tt(document,Oe);let ve=Le("#header");if(ve){const Et=()=>{window.scrollY>100?ve.classList.add("header-scrolled"):ve.classList.remove("header-scrolled")};window.addEventListener("load",Et),Tt(document,Et)}let Wt=Le(".back-to-top");if(Wt){const Et=()=>{window.scrollY>100?Wt.classList.add("active"):Wt.classList.remove("active")};window.addEventListener("load",Et),Tt(document,Et)}[].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]')).map(function(Et){return new bootstrap.Tooltip(Et)}),Le(".quill-editor-default")&&new Quill(".quill-editor-default",{theme:"snow"}),Le(".quill-editor-bubble")&&new Quill(".quill-editor-bubble",{theme:"bubble"}),Le(".quill-editor-full")&&new Quill(".quill-editor-full",{modules:{toolbar:[[{font:[]},{size:[]}],["bold","italic","underline","strike"],[{color:[]},{background:[]}],[{script:"super"},{script:"sub"}],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],["direction",{align:[]}],["link","image","video"],["clean"]]},theme:"snow"}),window.matchMedia("(prefers-color-scheme: dark)");var dt=document.querySelectorAll(".needs-validation");Array.prototype.slice.call(dt).forEach(function(Et){Et.addEventListener("submit",function(lt){Et.checkValidity()||(lt.preventDefault(),lt.stopPropagation()),Et.classList.add("was-validated")},!1)}),Le(".datatable",!0).forEach(Et=>{new simpleDatatables.DataTable(Et)});const St=Le("#main");St&&setTimeout(()=>{new ResizeObserver(function(){Le(".echart",!0).forEach(Et=>{echarts.getInstanceByDom(Et).resize()})}).observe(St)},200)}();